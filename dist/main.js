/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (function() { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@google/earthengine/build/browser.js":
/*!***********************************************************!*\
  !*** ./node_modules/@google/earthengine/build/browser.js ***!
  \***********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval("/*\n\n Copyright The Closure Library Authors.\n SPDX-License-Identifier: Apache-2.0\n*/\nvar isChrome87, $jscomp = $jscomp || {};\n$jscomp.scope = {};\n$jscomp.arrayIteratorImpl = function(array) {\n  var index = 0;\n  return function() {\n    return index < array.length ? {done:!1, value:array[index++],} : {done:!0};\n  };\n};\n$jscomp.arrayIterator = function(array) {\n  return {next:$jscomp.arrayIteratorImpl(array)};\n};\n$jscomp.ASSUME_ES5 = !1;\n$jscomp.ASSUME_NO_NATIVE_MAP = !1;\n$jscomp.ASSUME_NO_NATIVE_SET = !1;\n$jscomp.SIMPLE_FROUND_POLYFILL = !1;\n$jscomp.ISOLATE_POLYFILLS = !1;\n$jscomp.FORCE_POLYFILL_PROMISE = !1;\n$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION = !1;\n$jscomp.defineProperty = $jscomp.ASSUME_ES5 || \"function\" == typeof Object.defineProperties ? Object.defineProperty : function(target, property, descriptor) {\n  if (target == Array.prototype || target == Object.prototype) {\n    return target;\n  }\n  target[property] = descriptor.value;\n  return target;\n};\n$jscomp.getGlobal = function(passedInThis) {\n  for (var possibleGlobals = [\"object\" == typeof globalThis && globalThis, passedInThis, \"object\" == typeof window && window, \"object\" == typeof self && self, \"object\" == typeof __webpack_require__.g && __webpack_require__.g,], i = 0; i < possibleGlobals.length; ++i) {\n    var maybeGlobal = possibleGlobals[i];\n    if (maybeGlobal && maybeGlobal.Math == Math) {\n      return maybeGlobal;\n    }\n  }\n  return function() {\n    throw Error(\"Cannot find global object\");\n  }();\n};\n$jscomp.global = $jscomp.getGlobal(this);\n$jscomp.IS_SYMBOL_NATIVE = \"function\" === typeof Symbol && \"symbol\" === typeof Symbol(\"x\");\n$jscomp.TRUST_ES6_POLYFILLS = !$jscomp.ISOLATE_POLYFILLS || $jscomp.IS_SYMBOL_NATIVE;\n$jscomp.polyfills = {};\n$jscomp.propertyToPolyfillSymbol = {};\n$jscomp.POLYFILL_PREFIX = \"$jscp$\";\nvar $jscomp$lookupPolyfilledValue = function(target, property) {\n  var obfuscatedName = $jscomp.propertyToPolyfillSymbol[property];\n  if (null == obfuscatedName) {\n    return target[property];\n  }\n  var polyfill = target[obfuscatedName];\n  return void 0 !== polyfill ? polyfill : target[property];\n};\n$jscomp.polyfill = function(target, polyfill, fromLang, toLang) {\n  polyfill && ($jscomp.ISOLATE_POLYFILLS ? $jscomp.polyfillIsolated(target, polyfill, fromLang, toLang) : $jscomp.polyfillUnisolated(target, polyfill, fromLang, toLang));\n};\n$jscomp.polyfillUnisolated = function(target, polyfill, fromLang, toLang) {\n  for (var obj = $jscomp.global, split = target.split(\".\"), i = 0; i < split.length - 1; i++) {\n    var key = split[i];\n    if (!(key in obj)) {\n      return;\n    }\n    obj = obj[key];\n  }\n  var property = split[split.length - 1], orig = obj[property], impl = polyfill(orig);\n  impl != orig && null != impl && $jscomp.defineProperty(obj, property, {configurable:!0, writable:!0, value:impl});\n};\n$jscomp.polyfillIsolated = function(target, polyfill, fromLang, toLang) {\n  var split = target.split(\".\"), isSimpleName = 1 === split.length, root = split[0];\n  var ownerObject = !isSimpleName && root in $jscomp.polyfills ? $jscomp.polyfills : $jscomp.global;\n  for (var i = 0; i < split.length - 1; i++) {\n    var key = split[i];\n    if (!(key in ownerObject)) {\n      return;\n    }\n    ownerObject = ownerObject[key];\n  }\n  var property = split[split.length - 1], nativeImpl = $jscomp.IS_SYMBOL_NATIVE && \"es6\" === fromLang ? ownerObject[property] : null, impl = polyfill(nativeImpl);\n  if (null != impl) {\n    if (isSimpleName) {\n      $jscomp.defineProperty($jscomp.polyfills, property, {configurable:!0, writable:!0, value:impl});\n    } else {\n      if (impl !== nativeImpl) {\n        if (void 0 === $jscomp.propertyToPolyfillSymbol[property]) {\n          var BIN_ID = 1e9 * Math.random() >>> 0;\n          $jscomp.propertyToPolyfillSymbol[property] = $jscomp.IS_SYMBOL_NATIVE ? $jscomp.global.Symbol(property) : $jscomp.POLYFILL_PREFIX + BIN_ID + \"$\" + property;\n        }\n        $jscomp.defineProperty(ownerObject, $jscomp.propertyToPolyfillSymbol[property], {configurable:!0, writable:!0, value:impl});\n      }\n    }\n  }\n};\n$jscomp.initSymbol = function() {\n};\n$jscomp.polyfill(\"Symbol\", function(orig) {\n  if (orig) {\n    return orig;\n  }\n  var SymbolClass = function(id, opt_description) {\n    this.$jscomp$symbol$id_ = id;\n    $jscomp.defineProperty(this, \"description\", {configurable:!0, writable:!0, value:opt_description});\n  };\n  SymbolClass.prototype.toString = function() {\n    return this.$jscomp$symbol$id_;\n  };\n  var SYMBOL_PREFIX = \"jscomp_symbol_\" + (1e9 * Math.random() >>> 0) + \"_\", counter = 0, symbolPolyfill = function(opt_description) {\n    if (this instanceof symbolPolyfill) {\n      throw new TypeError(\"Symbol is not a constructor\");\n    }\n    return new SymbolClass(SYMBOL_PREFIX + (opt_description || \"\") + \"_\" + counter++, opt_description);\n  };\n  return symbolPolyfill;\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"Symbol.iterator\", function(orig) {\n  if (orig) {\n    return orig;\n  }\n  for (var symbolIterator = Symbol(\"Symbol.iterator\"), arrayLikes = \"Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array\".split(\" \"), i = 0; i < arrayLikes.length; i++) {\n    var ArrayLikeCtor = $jscomp.global[arrayLikes[i]];\n    \"function\" === typeof ArrayLikeCtor && \"function\" != typeof ArrayLikeCtor.prototype[symbolIterator] && $jscomp.defineProperty(ArrayLikeCtor.prototype, symbolIterator, {configurable:!0, writable:!0, value:function() {\n      return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this));\n    }});\n  }\n  return symbolIterator;\n}, \"es6\", \"es3\");\n$jscomp.iteratorPrototype = function(next) {\n  var iterator = {next:next};\n  iterator[Symbol.iterator] = function() {\n    return this;\n  };\n  return iterator;\n};\n$jscomp.createTemplateTagFirstArg = function(arrayStrings) {\n  return arrayStrings.raw = arrayStrings;\n};\n$jscomp.createTemplateTagFirstArgWithRaw = function(arrayStrings, rawArrayStrings) {\n  arrayStrings.raw = rawArrayStrings;\n  return arrayStrings;\n};\n$jscomp.makeIterator = function(iterable) {\n  var iteratorFunction = \"undefined\" != typeof Symbol && Symbol.iterator && iterable[Symbol.iterator];\n  return iteratorFunction ? iteratorFunction.call(iterable) : $jscomp.arrayIterator(iterable);\n};\n$jscomp.arrayFromIterator = function(iterator) {\n  for (var i, arr = []; !(i = iterator.next()).done;) {\n    arr.push(i.value);\n  }\n  return arr;\n};\n$jscomp.arrayFromIterable = function(iterable) {\n  return iterable instanceof Array ? iterable : $jscomp.arrayFromIterator($jscomp.makeIterator(iterable));\n};\n$jscomp.objectCreate = $jscomp.ASSUME_ES5 || \"function\" == typeof Object.create ? Object.create : function(prototype) {\n  var ctor = function() {\n  };\n  ctor.prototype = prototype;\n  return new ctor();\n};\n$jscomp.getConstructImplementation = function() {\n  function reflectConstructWorks() {\n    function Base() {\n    }\n    new Base();\n    Reflect.construct(Base, [], function Derived() {\n    });\n    return new Base() instanceof Base;\n  }\n  if ($jscomp.TRUST_ES6_POLYFILLS && \"undefined\" != typeof Reflect && Reflect.construct) {\n    if (reflectConstructWorks()) {\n      return Reflect.construct;\n    }\n    var brokenConstruct = Reflect.construct;\n    return function(target, argList, opt_newTarget) {\n      var out = brokenConstruct(target, argList);\n      opt_newTarget && Reflect.setPrototypeOf(out, opt_newTarget.prototype);\n      return out;\n    };\n  }\n  return function construct(target, argList, opt_newTarget) {\n    void 0 === opt_newTarget && (opt_newTarget = target);\n    var obj = $jscomp.objectCreate(opt_newTarget.prototype || Object.prototype);\n    return Function.prototype.apply.call(target, obj, argList) || obj;\n  };\n};\n$jscomp.construct = {valueOf:$jscomp.getConstructImplementation}.valueOf();\n$jscomp.underscoreProtoCanBeSet = function() {\n  var x = {a:!0}, y = {};\n  try {\n    return y.__proto__ = x, y.a;\n  } catch (e) {\n  }\n  return !1;\n};\n$jscomp.setPrototypeOf = $jscomp.TRUST_ES6_POLYFILLS && \"function\" == typeof Object.setPrototypeOf ? Object.setPrototypeOf : $jscomp.underscoreProtoCanBeSet() ? function(target, proto) {\n  target.__proto__ = proto;\n  if (target.__proto__ !== proto) {\n    throw new TypeError(target + \" is not extensible\");\n  }\n  return target;\n} : null;\n$jscomp.inherits = function(childCtor, parentCtor) {\n  childCtor.prototype = $jscomp.objectCreate(parentCtor.prototype);\n  childCtor.prototype.constructor = childCtor;\n  if ($jscomp.setPrototypeOf) {\n    var setPrototypeOf = $jscomp.setPrototypeOf;\n    setPrototypeOf(childCtor, parentCtor);\n  } else {\n    for (var p in parentCtor) {\n      if (\"prototype\" != p) {\n        if (Object.defineProperties) {\n          var descriptor = Object.getOwnPropertyDescriptor(parentCtor, p);\n          descriptor && Object.defineProperty(childCtor, p, descriptor);\n        } else {\n          childCtor[p] = parentCtor[p];\n        }\n      }\n    }\n  }\n  childCtor.superClass_ = parentCtor.prototype;\n};\n$jscomp.generator = {};\n$jscomp.generator.ensureIteratorResultIsObject_ = function(result) {\n  if (!(result instanceof Object)) {\n    throw new TypeError(\"Iterator result \" + result + \" is not an object\");\n  }\n};\n$jscomp.generator.Context = function() {\n  this.isRunning_ = !1;\n  this.yieldAllIterator_ = null;\n  this.yieldResult = void 0;\n  this.nextAddress = 1;\n  this.finallyAddress_ = this.catchAddress_ = 0;\n  this.finallyContexts_ = this.abruptCompletion_ = null;\n};\n$jscomp.generator.Context.prototype.start_ = function() {\n  if (this.isRunning_) {\n    throw new TypeError(\"Generator is already running\");\n  }\n  this.isRunning_ = !0;\n};\n$jscomp.generator.Context.prototype.stop_ = function() {\n  this.isRunning_ = !1;\n};\n$jscomp.generator.Context.prototype.jumpToErrorHandler_ = function() {\n  this.nextAddress = this.catchAddress_ || this.finallyAddress_;\n};\n$jscomp.generator.Context.prototype.next_ = function(value) {\n  this.yieldResult = value;\n};\n$jscomp.generator.Context.prototype.throw_ = function(e) {\n  this.abruptCompletion_ = {exception:e, isException:!0};\n  this.jumpToErrorHandler_();\n};\n$jscomp.generator.Context.prototype.return = function(value) {\n  this.abruptCompletion_ = {return:value};\n  this.nextAddress = this.finallyAddress_;\n};\n$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks = function(nextAddress) {\n  this.abruptCompletion_ = {jumpTo:nextAddress};\n  this.nextAddress = this.finallyAddress_;\n};\n$jscomp.generator.Context.prototype.yield = function(value, resumeAddress) {\n  this.nextAddress = resumeAddress;\n  return {value:value};\n};\n$jscomp.generator.Context.prototype.yieldAll = function(iterable, resumeAddress) {\n  var iterator = $jscomp.makeIterator(iterable), result = iterator.next();\n  $jscomp.generator.ensureIteratorResultIsObject_(result);\n  if (result.done) {\n    this.yieldResult = result.value, this.nextAddress = resumeAddress;\n  } else {\n    return this.yieldAllIterator_ = iterator, this.yield(result.value, resumeAddress);\n  }\n};\n$jscomp.generator.Context.prototype.jumpTo = function(nextAddress) {\n  this.nextAddress = nextAddress;\n};\n$jscomp.generator.Context.prototype.jumpToEnd = function() {\n  this.nextAddress = 0;\n};\n$jscomp.generator.Context.prototype.setCatchFinallyBlocks = function(catchAddress, finallyAddress) {\n  this.catchAddress_ = catchAddress;\n  void 0 != finallyAddress && (this.finallyAddress_ = finallyAddress);\n};\n$jscomp.generator.Context.prototype.setFinallyBlock = function(finallyAddress) {\n  this.catchAddress_ = 0;\n  this.finallyAddress_ = finallyAddress || 0;\n};\n$jscomp.generator.Context.prototype.leaveTryBlock = function(nextAddress, catchAddress) {\n  this.nextAddress = nextAddress;\n  this.catchAddress_ = catchAddress || 0;\n};\n$jscomp.generator.Context.prototype.enterCatchBlock = function(nextCatchBlockAddress) {\n  this.catchAddress_ = nextCatchBlockAddress || 0;\n  var exception = this.abruptCompletion_.exception;\n  this.abruptCompletion_ = null;\n  return exception;\n};\n$jscomp.generator.Context.prototype.enterFinallyBlock = function(nextCatchAddress, nextFinallyAddress, finallyDepth) {\n  finallyDepth ? this.finallyContexts_[finallyDepth] = this.abruptCompletion_ : this.finallyContexts_ = [this.abruptCompletion_];\n  this.catchAddress_ = nextCatchAddress || 0;\n  this.finallyAddress_ = nextFinallyAddress || 0;\n};\n$jscomp.generator.Context.prototype.leaveFinallyBlock = function(nextAddress, finallyDepth) {\n  var preservedContext = this.finallyContexts_.splice(finallyDepth || 0)[0], abruptCompletion = this.abruptCompletion_ = this.abruptCompletion_ || preservedContext;\n  if (abruptCompletion) {\n    if (abruptCompletion.isException) {\n      return this.jumpToErrorHandler_();\n    }\n    void 0 != abruptCompletion.jumpTo && this.finallyAddress_ < abruptCompletion.jumpTo ? (this.nextAddress = abruptCompletion.jumpTo, this.abruptCompletion_ = null) : this.nextAddress = this.finallyAddress_;\n  } else {\n    this.nextAddress = nextAddress;\n  }\n};\n$jscomp.generator.Context.prototype.forIn = function(object) {\n  return new $jscomp.generator.Context.PropertyIterator(object);\n};\n$jscomp.generator.Context.PropertyIterator = function(object) {\n  this.object_ = object;\n  this.properties_ = [];\n  for (var property in object) {\n    this.properties_.push(property);\n  }\n  this.properties_.reverse();\n};\n$jscomp.generator.Context.PropertyIterator.prototype.getNext = function() {\n  for (; 0 < this.properties_.length;) {\n    var property = this.properties_.pop();\n    if (property in this.object_) {\n      return property;\n    }\n  }\n  return null;\n};\n$jscomp.generator.Engine_ = function(program) {\n  this.context_ = new $jscomp.generator.Context();\n  this.program_ = program;\n};\n$jscomp.generator.Engine_.prototype.next_ = function(value) {\n  this.context_.start_();\n  if (this.context_.yieldAllIterator_) {\n    return this.yieldAllStep_(this.context_.yieldAllIterator_.next, value, this.context_.next_);\n  }\n  this.context_.next_(value);\n  return this.nextStep_();\n};\n$jscomp.generator.Engine_.prototype.return_ = function(value) {\n  this.context_.start_();\n  var yieldAllIterator = this.context_.yieldAllIterator_;\n  if (yieldAllIterator) {\n    return this.yieldAllStep_(\"return\" in yieldAllIterator ? yieldAllIterator[\"return\"] : function(v) {\n      return {value:v, done:!0};\n    }, value, this.context_.return);\n  }\n  this.context_.return(value);\n  return this.nextStep_();\n};\n$jscomp.generator.Engine_.prototype.throw_ = function(exception) {\n  this.context_.start_();\n  if (this.context_.yieldAllIterator_) {\n    return this.yieldAllStep_(this.context_.yieldAllIterator_[\"throw\"], exception, this.context_.next_);\n  }\n  this.context_.throw_(exception);\n  return this.nextStep_();\n};\n$jscomp.generator.Engine_.prototype.yieldAllStep_ = function(action, value, nextAction) {\n  try {\n    var result = action.call(this.context_.yieldAllIterator_, value);\n    $jscomp.generator.ensureIteratorResultIsObject_(result);\n    if (!result.done) {\n      return this.context_.stop_(), result;\n    }\n    var resultValue = result.value;\n  } catch (e) {\n    return this.context_.yieldAllIterator_ = null, this.context_.throw_(e), this.nextStep_();\n  }\n  this.context_.yieldAllIterator_ = null;\n  nextAction.call(this.context_, resultValue);\n  return this.nextStep_();\n};\n$jscomp.generator.Engine_.prototype.nextStep_ = function() {\n  for (; this.context_.nextAddress;) {\n    try {\n      var yieldValue = this.program_(this.context_);\n      if (yieldValue) {\n        return this.context_.stop_(), {value:yieldValue.value, done:!1};\n      }\n    } catch (e) {\n      this.context_.yieldResult = void 0, this.context_.throw_(e);\n    }\n  }\n  this.context_.stop_();\n  if (this.context_.abruptCompletion_) {\n    var abruptCompletion = this.context_.abruptCompletion_;\n    this.context_.abruptCompletion_ = null;\n    if (abruptCompletion.isException) {\n      throw abruptCompletion.exception;\n    }\n    return {value:abruptCompletion.return, done:!0};\n  }\n  return {value:void 0, done:!0};\n};\n$jscomp.generator.Generator_ = function(engine) {\n  this.next = function(opt_value) {\n    return engine.next_(opt_value);\n  };\n  this.throw = function(exception) {\n    return engine.throw_(exception);\n  };\n  this.return = function(value) {\n    return engine.return_(value);\n  };\n  this[Symbol.iterator] = function() {\n    return this;\n  };\n};\n$jscomp.generator.createGenerator = function(generator, program) {\n  var result = new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(program));\n  $jscomp.setPrototypeOf && generator.prototype && $jscomp.setPrototypeOf(result, generator.prototype);\n  return result;\n};\n$jscomp.asyncExecutePromiseGenerator = function(generator) {\n  function passValueToGenerator(value) {\n    return generator.next(value);\n  }\n  function passErrorToGenerator(error) {\n    return generator.throw(error);\n  }\n  return new Promise(function(resolve, reject) {\n    function handleGeneratorRecord(genRec) {\n      genRec.done ? resolve(genRec.value) : Promise.resolve(genRec.value).then(passValueToGenerator, passErrorToGenerator).then(handleGeneratorRecord, reject);\n    }\n    handleGeneratorRecord(generator.next());\n  });\n};\n$jscomp.asyncExecutePromiseGeneratorFunction = function(generatorFunction) {\n  return $jscomp.asyncExecutePromiseGenerator(generatorFunction());\n};\n$jscomp.asyncExecutePromiseGeneratorProgram = function(program) {\n  return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(program)));\n};\n$jscomp.getRestArguments = function() {\n  for (var startIndex = Number(this), restArgs = [], i = startIndex; i < arguments.length; i++) {\n    restArgs[i - startIndex] = arguments[i];\n  }\n  return restArgs;\n};\n$jscomp.polyfill(\"Reflect\", function(orig) {\n  return orig ? orig : {};\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"Reflect.construct\", function(orig) {\n  return $jscomp.construct;\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"Reflect.setPrototypeOf\", function(orig) {\n  if (orig) {\n    return orig;\n  }\n  if ($jscomp.setPrototypeOf) {\n    var setPrototypeOf = $jscomp.setPrototypeOf;\n    return function(target, proto) {\n      try {\n        return setPrototypeOf(target, proto), !0;\n      } catch (e) {\n        return !1;\n      }\n    };\n  }\n  return null;\n}, \"es6\", \"es5\");\n$jscomp.polyfill(\"Promise\", function(NativePromise) {\n  function platformSupportsPromiseRejectionEvents() {\n    return \"undefined\" !== typeof $jscomp.global.PromiseRejectionEvent;\n  }\n  function globalPromiseIsNative() {\n    return $jscomp.global.Promise && -1 !== $jscomp.global.Promise.toString().indexOf(\"[native code]\");\n  }\n  function shouldForcePolyfillPromise() {\n    return ($jscomp.FORCE_POLYFILL_PROMISE || $jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION && !platformSupportsPromiseRejectionEvents()) && globalPromiseIsNative();\n  }\n  function AsyncExecutor() {\n    this.batch_ = null;\n  }\n  function isObject(value) {\n    switch(typeof value) {\n      case \"object\":\n        return null != value;\n      case \"function\":\n        return !0;\n      default:\n        return !1;\n    }\n  }\n  function resolvingPromise(opt_value) {\n    return opt_value instanceof PolyfillPromise ? opt_value : new PolyfillPromise(function(resolve, reject) {\n      resolve(opt_value);\n    });\n  }\n  if (NativePromise && !shouldForcePolyfillPromise()) {\n    return NativePromise;\n  }\n  AsyncExecutor.prototype.asyncExecute = function(f) {\n    if (null == this.batch_) {\n      this.batch_ = [];\n      var self = this;\n      this.asyncExecuteFunction(function() {\n        self.executeBatch_();\n      });\n    }\n    this.batch_.push(f);\n  };\n  var nativeSetTimeout = $jscomp.global.setTimeout;\n  AsyncExecutor.prototype.asyncExecuteFunction = function(f) {\n    nativeSetTimeout(f, 0);\n  };\n  AsyncExecutor.prototype.executeBatch_ = function() {\n    for (; this.batch_ && this.batch_.length;) {\n      var executingBatch = this.batch_;\n      this.batch_ = [];\n      for (var i = 0; i < executingBatch.length; ++i) {\n        var f = executingBatch[i];\n        executingBatch[i] = null;\n        try {\n          f();\n        } catch (error) {\n          this.asyncThrow_(error);\n        }\n      }\n    }\n    this.batch_ = null;\n  };\n  AsyncExecutor.prototype.asyncThrow_ = function(exception) {\n    this.asyncExecuteFunction(function() {\n      throw exception;\n    });\n  };\n  var PromiseState = {PENDING:0, FULFILLED:1, REJECTED:2}, PolyfillPromise = function(executor) {\n    this.state_ = PromiseState.PENDING;\n    this.result_ = void 0;\n    this.onSettledCallbacks_ = [];\n    this.isRejectionHandled_ = !1;\n    var resolveAndReject = this.createResolveAndReject_();\n    try {\n      executor(resolveAndReject.resolve, resolveAndReject.reject);\n    } catch (e) {\n      resolveAndReject.reject(e);\n    }\n  };\n  PolyfillPromise.prototype.createResolveAndReject_ = function() {\n    function firstCallWins(method) {\n      return function(x) {\n        alreadyCalled || (alreadyCalled = !0, method.call(thisPromise, x));\n      };\n    }\n    var thisPromise = this, alreadyCalled = !1;\n    return {resolve:firstCallWins(this.resolveTo_), reject:firstCallWins(this.reject_)};\n  };\n  PolyfillPromise.prototype.resolveTo_ = function(value) {\n    value === this ? this.reject_(new TypeError(\"A Promise cannot resolve to itself\")) : value instanceof PolyfillPromise ? this.settleSameAsPromise_(value) : isObject(value) ? this.resolveToNonPromiseObj_(value) : this.fulfill_(value);\n  };\n  PolyfillPromise.prototype.resolveToNonPromiseObj_ = function(obj) {\n    var thenMethod = void 0;\n    try {\n      thenMethod = obj.then;\n    } catch (error) {\n      this.reject_(error);\n      return;\n    }\n    \"function\" == typeof thenMethod ? this.settleSameAsThenable_(thenMethod, obj) : this.fulfill_(obj);\n  };\n  PolyfillPromise.prototype.reject_ = function(reason) {\n    this.settle_(PromiseState.REJECTED, reason);\n  };\n  PolyfillPromise.prototype.fulfill_ = function(value) {\n    this.settle_(PromiseState.FULFILLED, value);\n  };\n  PolyfillPromise.prototype.settle_ = function(settledState, valueOrReason) {\n    if (this.state_ != PromiseState.PENDING) {\n      throw Error(\"Cannot settle(\" + settledState + \", \" + valueOrReason + \"): Promise already settled in state\" + this.state_);\n    }\n    this.state_ = settledState;\n    this.result_ = valueOrReason;\n    this.state_ === PromiseState.REJECTED && this.scheduleUnhandledRejectionCheck_();\n    this.executeOnSettledCallbacks_();\n  };\n  PolyfillPromise.prototype.scheduleUnhandledRejectionCheck_ = function() {\n    var self = this;\n    nativeSetTimeout(function() {\n      if (self.notifyUnhandledRejection_()) {\n        var nativeConsole = $jscomp.global.console;\n        \"undefined\" !== typeof nativeConsole && nativeConsole.error(self.result_);\n      }\n    }, 1);\n  };\n  PolyfillPromise.prototype.notifyUnhandledRejection_ = function() {\n    if (this.isRejectionHandled_) {\n      return !1;\n    }\n    var NativeCustomEvent = $jscomp.global.CustomEvent, NativeEvent = $jscomp.global.Event, nativeDispatchEvent = $jscomp.global.dispatchEvent;\n    if (\"undefined\" === typeof nativeDispatchEvent) {\n      return !0;\n    }\n    if (\"function\" === typeof NativeCustomEvent) {\n      var event = new NativeCustomEvent(\"unhandledrejection\", {cancelable:!0});\n    } else {\n      \"function\" === typeof NativeEvent ? event = new NativeEvent(\"unhandledrejection\", {cancelable:!0}) : (event = $jscomp.global.document.createEvent(\"CustomEvent\"), event.initCustomEvent(\"unhandledrejection\", !1, !0, event));\n    }\n    event.promise = this;\n    event.reason = this.result_;\n    return nativeDispatchEvent(event);\n  };\n  PolyfillPromise.prototype.executeOnSettledCallbacks_ = function() {\n    if (null != this.onSettledCallbacks_) {\n      for (var i = 0; i < this.onSettledCallbacks_.length; ++i) {\n        asyncExecutor.asyncExecute(this.onSettledCallbacks_[i]);\n      }\n      this.onSettledCallbacks_ = null;\n    }\n  };\n  var asyncExecutor = new AsyncExecutor();\n  PolyfillPromise.prototype.settleSameAsPromise_ = function(promise) {\n    var methods = this.createResolveAndReject_();\n    promise.callWhenSettled_(methods.resolve, methods.reject);\n  };\n  PolyfillPromise.prototype.settleSameAsThenable_ = function(thenMethod, thenable) {\n    var methods = this.createResolveAndReject_();\n    try {\n      thenMethod.call(thenable, methods.resolve, methods.reject);\n    } catch (error) {\n      methods.reject(error);\n    }\n  };\n  PolyfillPromise.prototype.then = function(onFulfilled, onRejected) {\n    function createCallback(paramF, defaultF) {\n      return \"function\" == typeof paramF ? function(x) {\n        try {\n          resolveChild(paramF(x));\n        } catch (error) {\n          rejectChild(error);\n        }\n      } : defaultF;\n    }\n    var resolveChild, rejectChild, childPromise = new PolyfillPromise(function(resolve, reject) {\n      resolveChild = resolve;\n      rejectChild = reject;\n    });\n    this.callWhenSettled_(createCallback(onFulfilled, resolveChild), createCallback(onRejected, rejectChild));\n    return childPromise;\n  };\n  PolyfillPromise.prototype.catch = function(onRejected) {\n    return this.then(void 0, onRejected);\n  };\n  PolyfillPromise.prototype.callWhenSettled_ = function(onFulfilled, onRejected) {\n    function callback() {\n      switch(thisPromise.state_) {\n        case PromiseState.FULFILLED:\n          onFulfilled(thisPromise.result_);\n          break;\n        case PromiseState.REJECTED:\n          onRejected(thisPromise.result_);\n          break;\n        default:\n          throw Error(\"Unexpected state: \" + thisPromise.state_);\n      }\n    }\n    var thisPromise = this;\n    null == this.onSettledCallbacks_ ? asyncExecutor.asyncExecute(callback) : this.onSettledCallbacks_.push(callback);\n    this.isRejectionHandled_ = !0;\n  };\n  PolyfillPromise.resolve = resolvingPromise;\n  PolyfillPromise.reject = function(opt_reason) {\n    return new PolyfillPromise(function(resolve, reject) {\n      reject(opt_reason);\n    });\n  };\n  PolyfillPromise.race = function(thenablesOrValues) {\n    return new PolyfillPromise(function(resolve, reject) {\n      for (var iterator = $jscomp.makeIterator(thenablesOrValues), iterRec = iterator.next(); !iterRec.done; iterRec = iterator.next()) {\n        resolvingPromise(iterRec.value).callWhenSettled_(resolve, reject);\n      }\n    });\n  };\n  PolyfillPromise.all = function(thenablesOrValues) {\n    var iterator = $jscomp.makeIterator(thenablesOrValues), iterRec = iterator.next();\n    return iterRec.done ? resolvingPromise([]) : new PolyfillPromise(function(resolveAll, rejectAll) {\n      function onFulfilled(i) {\n        return function(ithResult) {\n          resultsArray[i] = ithResult;\n          unresolvedCount--;\n          0 == unresolvedCount && resolveAll(resultsArray);\n        };\n      }\n      var resultsArray = [], unresolvedCount = 0;\n      do {\n        resultsArray.push(void 0), unresolvedCount++, resolvingPromise(iterRec.value).callWhenSettled_(onFulfilled(resultsArray.length - 1), rejectAll), iterRec = iterator.next();\n      } while (!iterRec.done);\n    });\n  };\n  return PolyfillPromise;\n}, \"es6\", \"es3\");\n$jscomp.checkEs6ConformanceViaProxy = function() {\n  try {\n    var proxied = {}, proxy = Object.create(new $jscomp.global.Proxy(proxied, {get:function(target, key, receiver) {\n      return target == proxied && \"q\" == key && receiver == proxy;\n    }}));\n    return !0 === proxy.q;\n  } catch (err) {\n    return !1;\n  }\n};\n$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS = !1;\n$jscomp.ES6_CONFORMANCE = $jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS && $jscomp.checkEs6ConformanceViaProxy();\n$jscomp.owns = function(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n};\n$jscomp.polyfill(\"WeakMap\", function(NativeWeakMap) {\n  function isConformant() {\n    if (!NativeWeakMap || !Object.seal) {\n      return !1;\n    }\n    try {\n      var x = Object.seal({}), y = Object.seal({}), map = new NativeWeakMap([[x, 2], [y, 3]]);\n      if (2 != map.get(x) || 3 != map.get(y)) {\n        return !1;\n      }\n      map.delete(x);\n      map.set(y, 4);\n      return !map.has(x) && 4 == map.get(y);\n    } catch (err) {\n      return !1;\n    }\n  }\n  function WeakMapMembership() {\n  }\n  function isValidKey(key) {\n    var type = typeof key;\n    return \"object\" === type && null !== key || \"function\" === type;\n  }\n  function insert(target) {\n    if (!$jscomp.owns(target, prop)) {\n      var obj = new WeakMapMembership();\n      $jscomp.defineProperty(target, prop, {value:obj});\n    }\n  }\n  function patch(name) {\n    if (!$jscomp.ISOLATE_POLYFILLS) {\n      var prev = Object[name];\n      prev && (Object[name] = function(target) {\n        if (target instanceof WeakMapMembership) {\n          return target;\n        }\n        Object.isExtensible(target) && insert(target);\n        return prev(target);\n      });\n    }\n  }\n  if ($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS) {\n    if (NativeWeakMap && $jscomp.ES6_CONFORMANCE) {\n      return NativeWeakMap;\n    }\n  } else {\n    if (isConformant()) {\n      return NativeWeakMap;\n    }\n  }\n  var prop = \"$jscomp_hidden_\" + Math.random();\n  patch(\"freeze\");\n  patch(\"preventExtensions\");\n  patch(\"seal\");\n  var index = 0, PolyfillWeakMap = function(opt_iterable) {\n    this.id_ = (index += Math.random() + 1).toString();\n    if (opt_iterable) {\n      for (var iter = $jscomp.makeIterator(opt_iterable), entry; !(entry = iter.next()).done;) {\n        var item = entry.value;\n        this.set(item[0], item[1]);\n      }\n    }\n  };\n  PolyfillWeakMap.prototype.set = function(key, value) {\n    if (!isValidKey(key)) {\n      throw Error(\"Invalid WeakMap key\");\n    }\n    insert(key);\n    if (!$jscomp.owns(key, prop)) {\n      throw Error(\"WeakMap key fail: \" + key);\n    }\n    key[prop][this.id_] = value;\n    return this;\n  };\n  PolyfillWeakMap.prototype.get = function(key) {\n    return isValidKey(key) && $jscomp.owns(key, prop) ? key[prop][this.id_] : void 0;\n  };\n  PolyfillWeakMap.prototype.has = function(key) {\n    return isValidKey(key) && $jscomp.owns(key, prop) && $jscomp.owns(key[prop], this.id_);\n  };\n  PolyfillWeakMap.prototype.delete = function(key) {\n    return isValidKey(key) && $jscomp.owns(key, prop) && $jscomp.owns(key[prop], this.id_) ? delete key[prop][this.id_] : !1;\n  };\n  return PolyfillWeakMap;\n}, \"es6\", \"es3\");\n$jscomp.MapEntry = function() {\n};\n$jscomp.polyfill(\"Map\", function(NativeMap) {\n  function isConformant() {\n    if ($jscomp.ASSUME_NO_NATIVE_MAP || !NativeMap || \"function\" != typeof NativeMap || !NativeMap.prototype.entries || \"function\" != typeof Object.seal) {\n      return !1;\n    }\n    try {\n      var key = Object.seal({x:4}), map = new NativeMap($jscomp.makeIterator([[key, \"s\"]]));\n      if (\"s\" != map.get(key) || 1 != map.size || map.get({x:4}) || map.set({x:4}, \"t\") != map || 2 != map.size) {\n        return !1;\n      }\n      var iter = map.entries(), item = iter.next();\n      if (item.done || item.value[0] != key || \"s\" != item.value[1]) {\n        return !1;\n      }\n      item = iter.next();\n      return item.done || 4 != item.value[0].x || \"t\" != item.value[1] || !iter.next().done ? !1 : !0;\n    } catch (err) {\n      return !1;\n    }\n  }\n  if ($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS) {\n    if (NativeMap && $jscomp.ES6_CONFORMANCE) {\n      return NativeMap;\n    }\n  } else {\n    if (isConformant()) {\n      return NativeMap;\n    }\n  }\n  var idMap = new WeakMap(), PolyfillMap = function(opt_iterable) {\n    this.data_ = {};\n    this.head_ = createHead();\n    this.size = 0;\n    if (opt_iterable) {\n      for (var iter = $jscomp.makeIterator(opt_iterable), entry; !(entry = iter.next()).done;) {\n        var item = entry.value;\n        this.set(item[0], item[1]);\n      }\n    }\n  };\n  PolyfillMap.prototype.set = function(key, value) {\n    key = 0 === key ? 0 : key;\n    var r = maybeGetEntry(this, key);\n    r.list || (r.list = this.data_[r.id] = []);\n    r.entry ? r.entry.value = value : (r.entry = {next:this.head_, previous:this.head_.previous, head:this.head_, key:key, value:value,}, r.list.push(r.entry), this.head_.previous.next = r.entry, this.head_.previous = r.entry, this.size++);\n    return this;\n  };\n  PolyfillMap.prototype.delete = function(key) {\n    var r = maybeGetEntry(this, key);\n    return r.entry && r.list ? (r.list.splice(r.index, 1), r.list.length || delete this.data_[r.id], r.entry.previous.next = r.entry.next, r.entry.next.previous = r.entry.previous, r.entry.head = null, this.size--, !0) : !1;\n  };\n  PolyfillMap.prototype.clear = function() {\n    this.data_ = {};\n    this.head_ = this.head_.previous = createHead();\n    this.size = 0;\n  };\n  PolyfillMap.prototype.has = function(key) {\n    return !!maybeGetEntry(this, key).entry;\n  };\n  PolyfillMap.prototype.get = function(key) {\n    var entry = maybeGetEntry(this, key).entry;\n    return entry && entry.value;\n  };\n  PolyfillMap.prototype.entries = function() {\n    return makeIterator(this, function(entry) {\n      return [entry.key, entry.value];\n    });\n  };\n  PolyfillMap.prototype.keys = function() {\n    return makeIterator(this, function(entry) {\n      return entry.key;\n    });\n  };\n  PolyfillMap.prototype.values = function() {\n    return makeIterator(this, function(entry) {\n      return entry.value;\n    });\n  };\n  PolyfillMap.prototype.forEach = function(callback, opt_thisArg) {\n    for (var iter = this.entries(), item; !(item = iter.next()).done;) {\n      var entry = item.value;\n      callback.call(opt_thisArg, entry[1], entry[0], this);\n    }\n  };\n  PolyfillMap.prototype[Symbol.iterator] = PolyfillMap.prototype.entries;\n  var maybeGetEntry = function(map, key) {\n    var id = getId(key), list = map.data_[id];\n    if (list && $jscomp.owns(map.data_, id)) {\n      for (var index = 0; index < list.length; index++) {\n        var entry = list[index];\n        if (key !== key && entry.key !== entry.key || key === entry.key) {\n          return {id:id, list:list, index:index, entry:entry};\n        }\n      }\n    }\n    return {id:id, list:list, index:-1, entry:void 0};\n  }, makeIterator = function(map, func) {\n    var entry = map.head_;\n    return $jscomp.iteratorPrototype(function() {\n      if (entry) {\n        for (; entry.head != map.head_;) {\n          entry = entry.previous;\n        }\n        for (; entry.next != entry.head;) {\n          return entry = entry.next, {done:!1, value:func(entry)};\n        }\n        entry = null;\n      }\n      return {done:!0, value:void 0};\n    });\n  }, createHead = function() {\n    var head = {};\n    return head.previous = head.next = head.head = head;\n  }, mapIndex = 0, getId = function(obj) {\n    var type = obj && typeof obj;\n    if (\"object\" == type || \"function\" == type) {\n      if (!idMap.has(obj)) {\n        var id = \"\" + ++mapIndex;\n        idMap.set(obj, id);\n        return id;\n      }\n      return idMap.get(obj);\n    }\n    return \"p_\" + obj;\n  };\n  return PolyfillMap;\n}, \"es6\", \"es3\");\n$jscomp.findInternal = function(array, callback, thisArg) {\n  array instanceof String && (array = String(array));\n  for (var len = array.length, i = 0; i < len; i++) {\n    var value = array[i];\n    if (callback.call(thisArg, value, i, array)) {\n      return {i:i, v:value};\n    }\n  }\n  return {i:-1, v:void 0};\n};\n$jscomp.polyfill(\"Array.prototype.find\", function(orig) {\n  return orig ? orig : function(callback, opt_thisArg) {\n    return $jscomp.findInternal(this, callback, opt_thisArg).v;\n  };\n}, \"es6\", \"es3\");\n$jscomp.checkStringArgs = function(thisArg, arg, func) {\n  if (null == thisArg) {\n    throw new TypeError(\"The 'this' value for String.prototype.\" + func + \" must not be null or undefined\");\n  }\n  if (arg instanceof RegExp) {\n    throw new TypeError(\"First argument to String.prototype.\" + func + \" must not be a regular expression\");\n  }\n  return thisArg + \"\";\n};\n$jscomp.polyfill(\"String.prototype.repeat\", function(orig) {\n  return orig ? orig : function(copies) {\n    var string = $jscomp.checkStringArgs(this, null, \"repeat\");\n    if (0 > copies || 1342177279 < copies) {\n      throw new RangeError(\"Invalid count value\");\n    }\n    copies |= 0;\n    for (var result = \"\"; copies;) {\n      if (copies & 1 && (result += string), copies >>>= 1) {\n        string += string;\n      }\n    }\n    return result;\n  };\n}, \"es6\", \"es3\");\n$jscomp.iteratorFromArray = function(array, transform) {\n  array instanceof String && (array += \"\");\n  var i = 0, done = !1, iter = {next:function() {\n    if (!done && i < array.length) {\n      var index = i++;\n      return {value:transform(index, array[index]), done:!1};\n    }\n    done = !0;\n    return {done:!0, value:void 0};\n  }};\n  iter[Symbol.iterator] = function() {\n    return iter;\n  };\n  return iter;\n};\n$jscomp.polyfill(\"Array.prototype.keys\", function(orig) {\n  return orig ? orig : function() {\n    return $jscomp.iteratorFromArray(this, function(i) {\n      return i;\n    });\n  };\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"Array.from\", function(orig) {\n  return orig ? orig : function(arrayLike, opt_mapFn, opt_thisArg) {\n    opt_mapFn = null != opt_mapFn ? opt_mapFn : function(x) {\n      return x;\n    };\n    var result = [], iteratorFunction = \"undefined\" != typeof Symbol && Symbol.iterator && arrayLike[Symbol.iterator];\n    if (\"function\" == typeof iteratorFunction) {\n      arrayLike = iteratorFunction.call(arrayLike);\n      for (var next, k = 0; !(next = arrayLike.next()).done;) {\n        result.push(opt_mapFn.call(opt_thisArg, next.value, k++));\n      }\n    } else {\n      for (var len = arrayLike.length, i = 0; i < len; i++) {\n        result.push(opt_mapFn.call(opt_thisArg, arrayLike[i], i));\n      }\n    }\n    return result;\n  };\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"Array.prototype.values\", function(orig) {\n  return orig ? orig : function() {\n    return $jscomp.iteratorFromArray(this, function(k, v) {\n      return v;\n    });\n  };\n}, \"es8\", \"es3\");\n$jscomp.polyfill(\"Object.setPrototypeOf\", function(orig) {\n  return orig || $jscomp.setPrototypeOf;\n}, \"es6\", \"es5\");\n$jscomp.assign = $jscomp.TRUST_ES6_POLYFILLS && \"function\" == typeof Object.assign ? Object.assign : function(target, var_args) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    if (source) {\n      for (var key in source) {\n        $jscomp.owns(source, key) && (target[key] = source[key]);\n      }\n    }\n  }\n  return target;\n};\n$jscomp.polyfill(\"Object.assign\", function(orig) {\n  return orig || $jscomp.assign;\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"String.prototype.endsWith\", function(orig) {\n  return orig ? orig : function(searchString, opt_position) {\n    var string = $jscomp.checkStringArgs(this, searchString, \"endsWith\");\n    searchString += \"\";\n    void 0 === opt_position && (opt_position = string.length);\n    for (var i = Math.max(0, Math.min(opt_position | 0, string.length)), j = searchString.length; 0 < j && 0 < i;) {\n      if (string[--i] != searchString[--j]) {\n        return !1;\n      }\n    }\n    return 0 >= j;\n  };\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"String.prototype.startsWith\", function(orig) {\n  return orig ? orig : function(searchString, opt_position) {\n    var string = $jscomp.checkStringArgs(this, searchString, \"startsWith\");\n    searchString += \"\";\n    for (var strLen = string.length, searchLen = searchString.length, i = Math.max(0, Math.min(opt_position | 0, string.length)), j = 0; j < searchLen && i < strLen;) {\n      if (string[i++] != searchString[j++]) {\n        return !1;\n      }\n    }\n    return j >= searchLen;\n  };\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"Number.isFinite\", function(orig) {\n  return orig ? orig : function(x) {\n    return \"number\" !== typeof x ? !1 : !isNaN(x) && Infinity !== x && -Infinity !== x;\n  };\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"Object.entries\", function(orig) {\n  return orig ? orig : function(obj) {\n    var result = [], key;\n    for (key in obj) {\n      $jscomp.owns(obj, key) && result.push([key, obj[key]]);\n    }\n    return result;\n  };\n}, \"es8\", \"es3\");\n$jscomp.polyfill(\"Object.is\", function(orig) {\n  return orig ? orig : function(left, right) {\n    return left === right ? 0 !== left || 1 / left === 1 / right : left !== left && right !== right;\n  };\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"Array.prototype.includes\", function(orig) {\n  return orig ? orig : function(searchElement, opt_fromIndex) {\n    var array = this;\n    array instanceof String && (array = String(array));\n    var len = array.length, i = opt_fromIndex || 0;\n    for (0 > i && (i = Math.max(i + len, 0)); i < len; i++) {\n      var element = array[i];\n      if (element === searchElement || Object.is(element, searchElement)) {\n        return !0;\n      }\n    }\n    return !1;\n  };\n}, \"es7\", \"es3\");\n$jscomp.polyfill(\"String.prototype.includes\", function(orig) {\n  return orig ? orig : function(searchString, opt_position) {\n    return -1 !== $jscomp.checkStringArgs(this, searchString, \"includes\").indexOf(searchString, opt_position || 0);\n  };\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"String.prototype.trimLeft\", function(orig) {\n  function polyfill() {\n    return this.replace(/^[\\s\\xa0]+/, \"\");\n  }\n  return orig || polyfill;\n}, \"es_2019\", \"es3\");\n$jscomp.polyfill(\"Array.prototype.entries\", function(orig) {\n  return orig ? orig : function() {\n    return $jscomp.iteratorFromArray(this, function(i, v) {\n      return [i, v];\n    });\n  };\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"Set\", function(NativeSet) {\n  function isConformant() {\n    if ($jscomp.ASSUME_NO_NATIVE_SET || !NativeSet || \"function\" != typeof NativeSet || !NativeSet.prototype.entries || \"function\" != typeof Object.seal) {\n      return !1;\n    }\n    try {\n      var value = Object.seal({x:4}), set = new NativeSet($jscomp.makeIterator([value]));\n      if (!set.has(value) || 1 != set.size || set.add(value) != set || 1 != set.size || set.add({x:4}) != set || 2 != set.size) {\n        return !1;\n      }\n      var iter = set.entries(), item = iter.next();\n      if (item.done || item.value[0] != value || item.value[1] != value) {\n        return !1;\n      }\n      item = iter.next();\n      return item.done || item.value[0] == value || 4 != item.value[0].x || item.value[1] != item.value[0] ? !1 : iter.next().done;\n    } catch (err) {\n      return !1;\n    }\n  }\n  if ($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS) {\n    if (NativeSet && $jscomp.ES6_CONFORMANCE) {\n      return NativeSet;\n    }\n  } else {\n    if (isConformant()) {\n      return NativeSet;\n    }\n  }\n  var PolyfillSet = function(opt_iterable) {\n    this.map_ = new Map();\n    if (opt_iterable) {\n      for (var iter = $jscomp.makeIterator(opt_iterable), entry; !(entry = iter.next()).done;) {\n        this.add(entry.value);\n      }\n    }\n    this.size = this.map_.size;\n  };\n  PolyfillSet.prototype.add = function(value) {\n    value = 0 === value ? 0 : value;\n    this.map_.set(value, value);\n    this.size = this.map_.size;\n    return this;\n  };\n  PolyfillSet.prototype.delete = function(value) {\n    var result = this.map_.delete(value);\n    this.size = this.map_.size;\n    return result;\n  };\n  PolyfillSet.prototype.clear = function() {\n    this.map_.clear();\n    this.size = 0;\n  };\n  PolyfillSet.prototype.has = function(value) {\n    return this.map_.has(value);\n  };\n  PolyfillSet.prototype.entries = function() {\n    return this.map_.entries();\n  };\n  PolyfillSet.prototype.values = function() {\n    return this.map_.values();\n  };\n  PolyfillSet.prototype.keys = PolyfillSet.prototype.values;\n  PolyfillSet.prototype[Symbol.iterator] = PolyfillSet.prototype.values;\n  PolyfillSet.prototype.forEach = function(callback, opt_thisArg) {\n    var set = this;\n    this.map_.forEach(function(value) {\n      return callback.call(opt_thisArg, value, value, set);\n    });\n  };\n  return PolyfillSet;\n}, \"es6\", \"es3\");\n$jscomp.polyfill(\"Object.values\", function(orig) {\n  return orig ? orig : function(obj) {\n    var result = [], key;\n    for (key in obj) {\n      $jscomp.owns(obj, key) && result.push(obj[key]);\n    }\n    return result;\n  };\n}, \"es8\", \"es3\");\n$jscomp.stringPadding = function(padString, padLength) {\n  var padding = void 0 !== padString ? String(padString) : \" \";\n  return 0 < padLength && padding ? padding.repeat(Math.ceil(padLength / padding.length)).substring(0, padLength) : \"\";\n};\n$jscomp.polyfill(\"String.prototype.padStart\", function(orig) {\n  return orig ? orig : function(targetLength, opt_padString) {\n    var string = $jscomp.checkStringArgs(this, null, \"padStart\");\n    return $jscomp.stringPadding(opt_padString, targetLength - string.length) + string;\n  };\n}, \"es8\", \"es3\");\nvar goog = goog || {};\ngoog.global = this || self;\ngoog.exportPath_ = function(name, object, overwriteImplicit, objectToExportTo) {\n  var parts = name.split(\".\"), cur = objectToExportTo || goog.global;\n  parts[0] in cur || \"undefined\" == typeof cur.execScript || cur.execScript(\"var \" + parts[0]);\n  for (var part; parts.length && (part = parts.shift());) {\n    if (parts.length || void 0 === object) {\n      cur = cur[part] && cur[part] !== Object.prototype[part] ? cur[part] : cur[part] = {};\n    } else {\n      if (!overwriteImplicit && goog.isObject(object) && goog.isObject(cur[part])) {\n        for (var prop in object) {\n          object.hasOwnProperty(prop) && (cur[part][prop] = object[prop]);\n        }\n      } else {\n        cur[part] = object;\n      }\n    }\n  }\n};\ngoog.define = function(name, defaultValue) {\n  var defines, uncompiledDefines;\n  return defaultValue;\n};\ngoog.FEATURESET_YEAR = 2012;\ngoog.DEBUG = !0;\ngoog.LOCALE = \"en\";\ngoog.getLocale = function() {\n  return goog.LOCALE;\n};\ngoog.TRUSTED_SITE = !0;\ngoog.DISALLOW_TEST_ONLY_CODE = !goog.DEBUG;\ngoog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING = !1;\ngoog.provide = function(name) {\n  if (goog.isInModuleLoader_()) {\n    throw Error(\"goog.provide cannot be used within a module.\");\n  }\n  goog.constructNamespace_(name);\n};\ngoog.constructNamespace_ = function(name, object, overwriteImplicit) {\n  var namespace;\n  goog.exportPath_(name, object, overwriteImplicit);\n};\ngoog.NONCE_PATTERN_ = /^[\\w+/_-]+[=]{0,2}$/;\ngoog.getScriptNonce_ = function(opt_window) {\n  var doc = (opt_window || goog.global).document, script = doc.querySelector && doc.querySelector(\"script[nonce]\");\n  if (script) {\n    var nonce = script.nonce || script.getAttribute(\"nonce\");\n    if (nonce && goog.NONCE_PATTERN_.test(nonce)) {\n      return nonce;\n    }\n  }\n  return \"\";\n};\ngoog.VALID_MODULE_RE_ = /^[a-zA-Z_$][a-zA-Z0-9._$]*$/;\ngoog.module = function(name) {\n  if (\"string\" !== typeof name || !name || -1 == name.search(goog.VALID_MODULE_RE_)) {\n    throw Error(\"Invalid module identifier\");\n  }\n  if (!goog.isInGoogModuleLoader_()) {\n    throw Error(\"Module \" + name + \" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.\");\n  }\n  if (goog.moduleLoaderState_.moduleName) {\n    throw Error(\"goog.module may only be called once per module.\");\n  }\n  goog.moduleLoaderState_.moduleName = name;\n};\ngoog.module.get = function(name) {\n  return goog.module.getInternal_(name);\n};\ngoog.module.getInternal_ = function(name) {\n  var ns;\n  return null;\n};\ngoog.ModuleType = {ES6:\"es6\", GOOG:\"goog\"};\ngoog.moduleLoaderState_ = null;\ngoog.isInModuleLoader_ = function() {\n  return goog.isInGoogModuleLoader_() || goog.isInEs6ModuleLoader_();\n};\ngoog.isInGoogModuleLoader_ = function() {\n  return !!goog.moduleLoaderState_ && goog.moduleLoaderState_.type == goog.ModuleType.GOOG;\n};\ngoog.isInEs6ModuleLoader_ = function() {\n  if (goog.moduleLoaderState_ && goog.moduleLoaderState_.type == goog.ModuleType.ES6) {\n    return !0;\n  }\n  var jscomp = goog.global.$jscomp;\n  return jscomp ? \"function\" != typeof jscomp.getCurrentModulePath ? !1 : !!jscomp.getCurrentModulePath() : !1;\n};\ngoog.module.declareLegacyNamespace = function() {\n  goog.moduleLoaderState_.declareLegacyNamespace = !0;\n};\ngoog.declareModuleId = function(namespace) {\n  if (goog.moduleLoaderState_) {\n    goog.moduleLoaderState_.moduleName = namespace;\n  } else {\n    var jscomp = goog.global.$jscomp;\n    if (!jscomp || \"function\" != typeof jscomp.getCurrentModulePath) {\n      throw Error('Module with namespace \"' + namespace + '\" has been loaded incorrectly.');\n    }\n    var exports = jscomp.require(jscomp.getCurrentModulePath());\n    goog.loadedModules_[namespace] = {exports:exports, type:goog.ModuleType.ES6, moduleId:namespace};\n  }\n};\ngoog.setTestOnly = function(opt_message) {\n  if (goog.DISALLOW_TEST_ONLY_CODE) {\n    throw opt_message = opt_message || \"\", Error(\"Importing test-only code into non-debug environment\" + (opt_message ? \": \" + opt_message : \".\"));\n  }\n};\ngoog.forwardDeclare = function(name) {\n};\ngoog.getObjectByName = function(name, opt_obj) {\n  for (var parts = name.split(\".\"), cur = opt_obj || goog.global, i = 0; i < parts.length; i++) {\n    if (cur = cur[parts[i]], null == cur) {\n      return null;\n    }\n  }\n  return cur;\n};\ngoog.addDependency = function(relPath, provides, requires, opt_loadFlags) {\n};\ngoog.ENABLE_DEBUG_LOADER = !0;\ngoog.logToConsole_ = function(msg) {\n  goog.global.console && goog.global.console.error(msg);\n};\ngoog.require = function(namespace) {\n  var moduleLoaderState;\n};\ngoog.requireType = function(namespace) {\n  return {};\n};\ngoog.basePath = \"\";\ngoog.nullFunction = function() {\n};\ngoog.abstractMethod = function() {\n  throw Error(\"unimplemented abstract method\");\n};\ngoog.addSingletonGetter = function(ctor) {\n  ctor.instance_ = void 0;\n  ctor.getInstance = function() {\n    if (ctor.instance_) {\n      return ctor.instance_;\n    }\n    goog.DEBUG && (goog.instantiatedSingletons_[goog.instantiatedSingletons_.length] = ctor);\n    return ctor.instance_ = new ctor();\n  };\n};\ngoog.instantiatedSingletons_ = [];\ngoog.LOAD_MODULE_USING_EVAL = !0;\ngoog.SEAL_MODULE_EXPORTS = goog.DEBUG;\ngoog.loadedModules_ = {};\ngoog.DEPENDENCIES_ENABLED = !1;\ngoog.TRANSPILE = \"detect\";\ngoog.ASSUME_ES_MODULES_TRANSPILED = !1;\ngoog.TRANSPILE_TO_LANGUAGE = \"\";\ngoog.TRANSPILER = \"transpile.js\";\ngoog.TRUSTED_TYPES_POLICY_NAME = \"goog\";\ngoog.hasBadLetScoping = null;\ngoog.loadModule = function(moduleDef) {\n  var previousState = goog.moduleLoaderState_;\n  try {\n    goog.moduleLoaderState_ = {moduleName:\"\", declareLegacyNamespace:!1, type:goog.ModuleType.GOOG};\n    var origExports = {}, exports = origExports;\n    if (\"function\" === typeof moduleDef) {\n      exports = moduleDef.call(void 0, exports);\n    } else {\n      if (\"string\" === typeof moduleDef) {\n        exports = goog.loadModuleFromSource_.call(void 0, exports, moduleDef);\n      } else {\n        throw Error(\"Invalid module definition\");\n      }\n    }\n    var moduleName = goog.moduleLoaderState_.moduleName;\n    if (\"string\" === typeof moduleName && moduleName) {\n      goog.moduleLoaderState_.declareLegacyNamespace ? goog.constructNamespace_(moduleName, exports, origExports !== exports) : goog.SEAL_MODULE_EXPORTS && Object.seal && \"object\" == typeof exports && null != exports && Object.seal(exports), goog.loadedModules_[moduleName] = {exports:exports, type:goog.ModuleType.GOOG, moduleId:goog.moduleLoaderState_.moduleName};\n    } else {\n      throw Error('Invalid module name \"' + moduleName + '\"');\n    }\n  } finally {\n    goog.moduleLoaderState_ = previousState;\n  }\n};\ngoog.loadModuleFromSource_ = function(exports, JSCompiler_OptimizeArgumentsArray_p0) {\n  eval(goog.CLOSURE_EVAL_PREFILTER_.createScript(JSCompiler_OptimizeArgumentsArray_p0));\n  return exports;\n};\ngoog.normalizePath_ = function(path) {\n  for (var components = path.split(\"/\"), i = 0; i < components.length;) {\n    \".\" == components[i] ? components.splice(i, 1) : i && \"..\" == components[i] && components[i - 1] && \"..\" != components[i - 1] ? components.splice(--i, 2) : i++;\n  }\n  return components.join(\"/\");\n};\ngoog.loadFileSync_ = function(src) {\n  if (goog.global.CLOSURE_LOAD_FILE_SYNC) {\n    return goog.global.CLOSURE_LOAD_FILE_SYNC(src);\n  }\n  try {\n    var xhr = new goog.global.XMLHttpRequest();\n    xhr.open(\"get\", src, !1);\n    xhr.send();\n    return 0 == xhr.status || 200 == xhr.status ? xhr.responseText : null;\n  } catch (err) {\n    return null;\n  }\n};\ngoog.transpile_ = function(code$jscomp$0, path$jscomp$0, target) {\n  var jscomp = goog.global.$jscomp;\n  jscomp || (goog.global.$jscomp = jscomp = {});\n  var transpile = jscomp.transpile;\n  if (!transpile) {\n    var transpilerPath = goog.basePath + goog.TRANSPILER, transpilerCode = goog.loadFileSync_(transpilerPath);\n    if (transpilerCode) {\n      (function() {\n        (0,eval)(transpilerCode + \"\\n//# sourceURL=\" + transpilerPath);\n      }).call(goog.global);\n      if (goog.global.$gwtExport && goog.global.$gwtExport.$jscomp && !goog.global.$gwtExport.$jscomp.transpile) {\n        throw Error('The transpiler did not properly export the \"transpile\" method. $gwtExport: ' + JSON.stringify(goog.global.$gwtExport));\n      }\n      goog.global.$jscomp.transpile = goog.global.$gwtExport.$jscomp.transpile;\n      jscomp = goog.global.$jscomp;\n      transpile = jscomp.transpile;\n    }\n  }\n  if (!transpile) {\n    var suffix = \" requires transpilation but no transpiler was found.\";\n    suffix += ' Please add \"//javascript/closure:transpiler\" as a data dependency to ensure it is included.';\n    transpile = jscomp.transpile = function(code, path) {\n      goog.logToConsole_(path + suffix);\n      return code;\n    };\n  }\n  return transpile(code$jscomp$0, path$jscomp$0, target);\n};\ngoog.typeOf = function(value) {\n  var s = typeof value;\n  return \"object\" != s ? s : value ? Array.isArray(value) ? \"array\" : s : \"null\";\n};\ngoog.isArrayLike = function(val) {\n  var type = goog.typeOf(val);\n  return \"array\" == type || \"object\" == type && \"number\" == typeof val.length;\n};\ngoog.isDateLike = function(val) {\n  return goog.isObject(val) && \"function\" == typeof val.getFullYear;\n};\ngoog.isObject = function(val) {\n  var type = typeof val;\n  return \"object\" == type && null != val || \"function\" == type;\n};\ngoog.getUid = function(obj) {\n  return Object.prototype.hasOwnProperty.call(obj, goog.UID_PROPERTY_) && obj[goog.UID_PROPERTY_] || (obj[goog.UID_PROPERTY_] = ++goog.uidCounter_);\n};\ngoog.hasUid = function(obj) {\n  return !!obj[goog.UID_PROPERTY_];\n};\ngoog.removeUid = function(obj) {\n  null !== obj && \"removeAttribute\" in obj && obj.removeAttribute(goog.UID_PROPERTY_);\n  try {\n    delete obj[goog.UID_PROPERTY_];\n  } catch (ex) {\n  }\n};\ngoog.UID_PROPERTY_ = \"closure_uid_\" + (1e9 * Math.random() >>> 0);\ngoog.uidCounter_ = 0;\ngoog.cloneObject = function(obj) {\n  var type = goog.typeOf(obj);\n  if (\"object\" == type || \"array\" == type) {\n    if (\"function\" === typeof obj.clone) {\n      return obj.clone();\n    }\n    if (\"undefined\" !== typeof Map && obj instanceof Map) {\n      return new Map(obj);\n    }\n    if (\"undefined\" !== typeof Set && obj instanceof Set) {\n      return new Set(obj);\n    }\n    var clone = \"array\" == type ? [] : {}, key;\n    for (key in obj) {\n      clone[key] = goog.cloneObject(obj[key]);\n    }\n    return clone;\n  }\n  return obj;\n};\ngoog.bindNative_ = function(fn, selfObj, var_args) {\n  return fn.call.apply(fn.bind, arguments);\n};\ngoog.bindJs_ = function(fn, selfObj, var_args) {\n  if (!fn) {\n    throw Error();\n  }\n  if (2 < arguments.length) {\n    var boundArgs = Array.prototype.slice.call(arguments, 2);\n    return function() {\n      var newArgs = Array.prototype.slice.call(arguments);\n      Array.prototype.unshift.apply(newArgs, boundArgs);\n      return fn.apply(selfObj, newArgs);\n    };\n  }\n  return function() {\n    return fn.apply(selfObj, arguments);\n  };\n};\ngoog.bind = function(fn, selfObj, var_args) {\n  Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf(\"native code\") ? goog.bind = goog.bindNative_ : goog.bind = goog.bindJs_;\n  return goog.bind.apply(null, arguments);\n};\ngoog.partial = function(fn, var_args) {\n  var args = Array.prototype.slice.call(arguments, 1);\n  return function() {\n    var newArgs = args.slice();\n    newArgs.push.apply(newArgs, arguments);\n    return fn.apply(this, newArgs);\n  };\n};\ngoog.mixin = function(target, source) {\n  for (var x in source) {\n    target[x] = source[x];\n  }\n};\ngoog.now = function() {\n  return Date.now();\n};\ngoog.globalEval = function(script) {\n  (0,eval)(script);\n};\ngoog.getCssName = function(className, opt_modifier) {\n  if (\".\" == String(className).charAt(0)) {\n    throw Error('className passed in goog.getCssName must not start with \".\". You passed: ' + className);\n  }\n  var getMapping = function(cssName) {\n    return goog.cssNameMapping_[cssName] || cssName;\n  }, renameByParts = function(cssName) {\n    for (var parts = cssName.split(\"-\"), mapped = [], i = 0; i < parts.length; i++) {\n      mapped.push(getMapping(parts[i]));\n    }\n    return mapped.join(\"-\");\n  };\n  var rename = goog.cssNameMapping_ ? \"BY_WHOLE\" == goog.cssNameMappingStyle_ ? getMapping : renameByParts : function(a) {\n    return a;\n  };\n  var result = opt_modifier ? className + \"-\" + rename(opt_modifier) : rename(className);\n  return goog.global.CLOSURE_CSS_NAME_MAP_FN ? goog.global.CLOSURE_CSS_NAME_MAP_FN(result) : result;\n};\ngoog.setCssNameMapping = function(mapping, opt_style) {\n  goog.cssNameMapping_ = mapping;\n  goog.cssNameMappingStyle_ = opt_style;\n};\ngoog.getMsg = function(str, opt_values, opt_options) {\n  opt_options && opt_options.html && (str = str.replace(/</g, \"&lt;\"));\n  opt_options && opt_options.unescapeHtmlEntities && (str = str.replace(/&lt;/g, \"<\").replace(/&gt;/g, \">\").replace(/&apos;/g, \"'\").replace(/&quot;/g, '\"').replace(/&amp;/g, \"&\"));\n  opt_values && (str = str.replace(/\\{\\$([^}]+)}/g, function(match, key) {\n    return null != opt_values && key in opt_values ? opt_values[key] : match;\n  }));\n  return str;\n};\ngoog.getMsgWithFallback = function(a, b) {\n  return a;\n};\ngoog.exportSymbol = function(publicPath, object, objectToExportTo) {\n  goog.exportPath_(publicPath, object, !0, objectToExportTo);\n};\ngoog.exportProperty = function(object, publicName, symbol) {\n  object[publicName] = symbol;\n};\ngoog.inherits = function(childCtor, parentCtor) {\n  function tempCtor() {\n  }\n  tempCtor.prototype = parentCtor.prototype;\n  childCtor.superClass_ = parentCtor.prototype;\n  childCtor.prototype = new tempCtor();\n  childCtor.prototype.constructor = childCtor;\n  childCtor.base = function(me, methodName, var_args) {\n    for (var args = Array(arguments.length - 2), i = 2; i < arguments.length; i++) {\n      args[i - 2] = arguments[i];\n    }\n    return parentCtor.prototype[methodName].apply(me, args);\n  };\n};\ngoog.scope = function(fn) {\n  if (goog.isInModuleLoader_()) {\n    throw Error(\"goog.scope is not supported within a module.\");\n  }\n  fn.call(goog.global);\n};\ngoog.defineClass = function(superClass, def) {\n  var constructor = def.constructor, statics = def.statics;\n  constructor && constructor != Object.prototype.constructor || (constructor = function() {\n    throw Error(\"cannot instantiate an interface (no constructor defined).\");\n  });\n  var cls = goog.defineClass.createSealingConstructor_(constructor, superClass);\n  superClass && goog.inherits(cls, superClass);\n  delete def.constructor;\n  delete def.statics;\n  goog.defineClass.applyProperties_(cls.prototype, def);\n  null != statics && (statics instanceof Function ? statics(cls) : goog.defineClass.applyProperties_(cls, statics));\n  return cls;\n};\ngoog.defineClass.SEAL_CLASS_INSTANCES = goog.DEBUG;\ngoog.defineClass.createSealingConstructor_ = function(ctr, superClass) {\n  return goog.defineClass.SEAL_CLASS_INSTANCES ? function() {\n    var instance = ctr.apply(this, arguments) || this;\n    instance[goog.UID_PROPERTY_] = instance[goog.UID_PROPERTY_];\n    return instance;\n  } : ctr;\n};\ngoog.defineClass.OBJECT_PROTOTYPE_FIELDS_ = \"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");\ngoog.defineClass.applyProperties_ = function(target, source) {\n  for (var key in source) {\n    Object.prototype.hasOwnProperty.call(source, key) && (target[key] = source[key]);\n  }\n  for (var i = 0; i < goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length; i++) {\n    key = goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[i], Object.prototype.hasOwnProperty.call(source, key) && (target[key] = source[key]);\n  }\n};\ngoog.identity_ = function(s) {\n  return s;\n};\ngoog.createTrustedTypesPolicy = function(name) {\n  var policy = null, policyFactory = goog.global.trustedTypes;\n  if (!policyFactory || !policyFactory.createPolicy) {\n    return policy;\n  }\n  try {\n    policy = policyFactory.createPolicy(name, {createHTML:goog.identity_, createScript:goog.identity_, createScriptURL:goog.identity_});\n  } catch (e) {\n    goog.logToConsole_(e.message);\n  }\n  return policy;\n};\nfunction module$contents$goog$dispose_dispose(obj) {\n  obj && \"function\" == typeof obj.dispose && obj.dispose();\n}\ngoog.dispose = module$contents$goog$dispose_dispose;\nfunction module$contents$goog$disposeAll_disposeAll(var_args) {\n  for (var i = 0, len = arguments.length; i < len; ++i) {\n    var disposable = arguments[i];\n    goog.isArrayLike(disposable) ? module$contents$goog$disposeAll_disposeAll.apply(null, disposable) : module$contents$goog$dispose_dispose(disposable);\n  }\n}\ngoog.disposeAll = module$contents$goog$disposeAll_disposeAll;\ngoog.disposable = {};\ngoog.disposable.IDisposable = function() {\n};\ngoog.Disposable = function() {\n  goog.Disposable.MONITORING_MODE != goog.Disposable.MonitoringMode.OFF && (goog.Disposable.INCLUDE_STACK_ON_CREATION && (this.creationStack = Error().stack), goog.Disposable.instances_[goog.getUid(this)] = this);\n  this.disposed_ = this.disposed_;\n  this.onDisposeCallbacks_ = this.onDisposeCallbacks_;\n};\ngoog.Disposable.MonitoringMode = {OFF:0, PERMANENT:1, INTERACTIVE:2};\ngoog.Disposable.MONITORING_MODE = 0;\ngoog.Disposable.INCLUDE_STACK_ON_CREATION = !0;\ngoog.Disposable.instances_ = {};\ngoog.Disposable.getUndisposedObjects = function() {\n  var ret = [], id;\n  for (id in goog.Disposable.instances_) {\n    goog.Disposable.instances_.hasOwnProperty(id) && ret.push(goog.Disposable.instances_[Number(id)]);\n  }\n  return ret;\n};\ngoog.Disposable.clearUndisposedObjects = function() {\n  goog.Disposable.instances_ = {};\n};\ngoog.Disposable.prototype.disposed_ = !1;\ngoog.Disposable.prototype.isDisposed = function() {\n  return this.disposed_;\n};\ngoog.Disposable.prototype.getDisposed = goog.Disposable.prototype.isDisposed;\ngoog.Disposable.prototype.dispose = function() {\n  if (!this.disposed_ && (this.disposed_ = !0, this.disposeInternal(), goog.Disposable.MONITORING_MODE != goog.Disposable.MonitoringMode.OFF)) {\n    var uid = goog.getUid(this);\n    if (goog.Disposable.MONITORING_MODE == goog.Disposable.MonitoringMode.PERMANENT && !goog.Disposable.instances_.hasOwnProperty(uid)) {\n      throw Error(this + \" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call\");\n    }\n    if (goog.Disposable.MONITORING_MODE != goog.Disposable.MonitoringMode.OFF && this.onDisposeCallbacks_ && 0 < this.onDisposeCallbacks_.length) {\n      throw Error(this + \" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.\");\n    }\n    delete goog.Disposable.instances_[uid];\n  }\n};\ngoog.Disposable.prototype.registerDisposable = function(disposable) {\n  this.addOnDisposeCallback(goog.partial(module$contents$goog$dispose_dispose, disposable));\n};\ngoog.Disposable.prototype.addOnDisposeCallback = function(callback, opt_scope) {\n  this.disposed_ ? void 0 !== opt_scope ? callback.call(opt_scope) : callback() : (this.onDisposeCallbacks_ || (this.onDisposeCallbacks_ = []), this.onDisposeCallbacks_.push(void 0 !== opt_scope ? goog.bind(callback, opt_scope) : callback));\n};\ngoog.Disposable.prototype.disposeInternal = function() {\n  if (this.onDisposeCallbacks_) {\n    for (; this.onDisposeCallbacks_.length;) {\n      this.onDisposeCallbacks_.shift()();\n    }\n  }\n};\ngoog.Disposable.isDisposed = function(obj) {\n  return obj && \"function\" == typeof obj.isDisposed ? obj.isDisposed() : !1;\n};\ngoog.events = {};\ngoog.events.EventId = function(eventId) {\n  this.id = eventId;\n};\ngoog.events.EventId.prototype.toString = function() {\n  return this.id;\n};\ngoog.events.Event = function(type, opt_target) {\n  this.type = type instanceof goog.events.EventId ? String(type) : type;\n  this.currentTarget = this.target = opt_target;\n  this.defaultPrevented = this.propagationStopped_ = !1;\n};\ngoog.events.Event.prototype.hasPropagationStopped = function() {\n  return this.propagationStopped_;\n};\ngoog.events.Event.prototype.stopPropagation = function() {\n  this.propagationStopped_ = !0;\n};\ngoog.events.Event.prototype.preventDefault = function() {\n  this.defaultPrevented = !0;\n};\ngoog.events.Event.stopPropagation = function(e) {\n  e.stopPropagation();\n};\ngoog.events.Event.preventDefault = function(e) {\n  e.preventDefault();\n};\ngoog.debug = {};\nfunction module$contents$goog$debug$Error_DebugError(msg, cause) {\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, module$contents$goog$debug$Error_DebugError);\n  } else {\n    var stack = Error().stack;\n    stack && (this.stack = stack);\n  }\n  msg && (this.message = String(msg));\n  void 0 !== cause && (this.cause = cause);\n  this.reportErrorToServer = !0;\n}\ngoog.inherits(module$contents$goog$debug$Error_DebugError, Error);\nmodule$contents$goog$debug$Error_DebugError.prototype.name = \"CustomError\";\ngoog.debug.Error = module$contents$goog$debug$Error_DebugError;\ngoog.dom = {};\ngoog.dom.NodeType = {ELEMENT:1, ATTRIBUTE:2, TEXT:3, CDATA_SECTION:4, ENTITY_REFERENCE:5, ENTITY:6, PROCESSING_INSTRUCTION:7, COMMENT:8, DOCUMENT:9, DOCUMENT_TYPE:10, DOCUMENT_FRAGMENT:11, NOTATION:12};\ngoog.asserts = {};\ngoog.asserts.ENABLE_ASSERTS = goog.DEBUG;\ngoog.asserts.AssertionError = function(messagePattern, messageArgs) {\n  module$contents$goog$debug$Error_DebugError.call(this, goog.asserts.subs_(messagePattern, messageArgs));\n  this.messagePattern = messagePattern;\n};\ngoog.inherits(goog.asserts.AssertionError, module$contents$goog$debug$Error_DebugError);\ngoog.asserts.AssertionError.prototype.name = \"AssertionError\";\ngoog.asserts.DEFAULT_ERROR_HANDLER = function(e) {\n  throw e;\n};\ngoog.asserts.errorHandler_ = goog.asserts.DEFAULT_ERROR_HANDLER;\ngoog.asserts.subs_ = function(pattern, subs) {\n  for (var splitParts = pattern.split(\"%s\"), returnString = \"\", subLast = splitParts.length - 1, i = 0; i < subLast; i++) {\n    returnString += splitParts[i] + (i < subs.length ? subs[i] : \"%s\");\n  }\n  return returnString + splitParts[subLast];\n};\ngoog.asserts.doAssertFailure_ = function(defaultMessage, defaultArgs, givenMessage, givenArgs) {\n  var message = \"Assertion failed\";\n  if (givenMessage) {\n    message += \": \" + givenMessage;\n    var args = givenArgs;\n  } else {\n    defaultMessage && (message += \": \" + defaultMessage, args = defaultArgs);\n  }\n  var e = new goog.asserts.AssertionError(\"\" + message, args || []);\n  goog.asserts.errorHandler_(e);\n};\ngoog.asserts.setErrorHandler = function(errorHandler) {\n  goog.asserts.ENABLE_ASSERTS && (goog.asserts.errorHandler_ = errorHandler);\n};\ngoog.asserts.assert = function(condition, opt_message, var_args) {\n  goog.asserts.ENABLE_ASSERTS && !condition && goog.asserts.doAssertFailure_(\"\", null, opt_message, Array.prototype.slice.call(arguments, 2));\n  return condition;\n};\ngoog.asserts.assertExists = function(value, opt_message, var_args) {\n  goog.asserts.ENABLE_ASSERTS && null == value && goog.asserts.doAssertFailure_(\"Expected to exist: %s.\", [value], opt_message, Array.prototype.slice.call(arguments, 2));\n  return value;\n};\ngoog.asserts.fail = function(opt_message, var_args) {\n  goog.asserts.ENABLE_ASSERTS && goog.asserts.errorHandler_(new goog.asserts.AssertionError(\"Failure\" + (opt_message ? \": \" + opt_message : \"\"), Array.prototype.slice.call(arguments, 1)));\n};\ngoog.asserts.assertNumber = function(value, opt_message, var_args) {\n  goog.asserts.ENABLE_ASSERTS && \"number\" !== typeof value && goog.asserts.doAssertFailure_(\"Expected number but got %s: %s.\", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));\n  return value;\n};\ngoog.asserts.assertString = function(value, opt_message, var_args) {\n  goog.asserts.ENABLE_ASSERTS && \"string\" !== typeof value && goog.asserts.doAssertFailure_(\"Expected string but got %s: %s.\", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));\n  return value;\n};\ngoog.asserts.assertFunction = function(value, opt_message, var_args) {\n  goog.asserts.ENABLE_ASSERTS && \"function\" !== typeof value && goog.asserts.doAssertFailure_(\"Expected function but got %s: %s.\", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));\n  return value;\n};\ngoog.asserts.assertObject = function(value, opt_message, var_args) {\n  goog.asserts.ENABLE_ASSERTS && !goog.isObject(value) && goog.asserts.doAssertFailure_(\"Expected object but got %s: %s.\", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));\n  return value;\n};\ngoog.asserts.assertArray = function(value, opt_message, var_args) {\n  goog.asserts.ENABLE_ASSERTS && !Array.isArray(value) && goog.asserts.doAssertFailure_(\"Expected array but got %s: %s.\", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));\n  return value;\n};\ngoog.asserts.assertBoolean = function(value, opt_message, var_args) {\n  goog.asserts.ENABLE_ASSERTS && \"boolean\" !== typeof value && goog.asserts.doAssertFailure_(\"Expected boolean but got %s: %s.\", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));\n  return value;\n};\ngoog.asserts.assertElement = function(value, opt_message, var_args) {\n  !goog.asserts.ENABLE_ASSERTS || goog.isObject(value) && value.nodeType == goog.dom.NodeType.ELEMENT || goog.asserts.doAssertFailure_(\"Expected Element but got %s: %s.\", [goog.typeOf(value), value], opt_message, Array.prototype.slice.call(arguments, 2));\n  return value;\n};\ngoog.asserts.assertInstanceof = function(value, type, opt_message, var_args) {\n  !goog.asserts.ENABLE_ASSERTS || value instanceof type || goog.asserts.doAssertFailure_(\"Expected instanceof %s but got %s.\", [goog.asserts.getType_(type), goog.asserts.getType_(value)], opt_message, Array.prototype.slice.call(arguments, 3));\n  return value;\n};\ngoog.asserts.assertFinite = function(value, opt_message, var_args) {\n  !goog.asserts.ENABLE_ASSERTS || \"number\" == typeof value && isFinite(value) || goog.asserts.doAssertFailure_(\"Expected %s to be a finite number but it is not.\", [value], opt_message, Array.prototype.slice.call(arguments, 2));\n  return value;\n};\ngoog.asserts.getType_ = function(value) {\n  return value instanceof Function ? value.displayName || value.name || \"unknown type name\" : value instanceof Object ? value.constructor.displayName || value.constructor.name || Object.prototype.toString.call(value) : null === value ? \"null\" : typeof value;\n};\ngoog.debug.entryPointRegistry = {};\ngoog.debug.entryPointRegistry.EntryPointMonitor = function() {\n};\ngoog.debug.EntryPointMonitor = goog.debug.entryPointRegistry.EntryPointMonitor;\ngoog.debug.entryPointRegistry.refList_ = [];\ngoog.debug.entryPointRegistry.monitors_ = [];\ngoog.debug.entryPointRegistry.monitorsMayExist_ = !1;\ngoog.debug.entryPointRegistry.register = function(callback) {\n  goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length] = callback;\n  if (goog.debug.entryPointRegistry.monitorsMayExist_) {\n    for (var monitors = goog.debug.entryPointRegistry.monitors_, i = 0; i < monitors.length; i++) {\n      callback(goog.bind(monitors[i].wrap, monitors[i]));\n    }\n  }\n};\ngoog.debug.entryPointRegistry.monitorAll = function(monitor) {\n  goog.debug.entryPointRegistry.monitorsMayExist_ = !0;\n  for (var transformer = goog.bind(monitor.wrap, monitor), i = 0; i < goog.debug.entryPointRegistry.refList_.length; i++) {\n    goog.debug.entryPointRegistry.refList_[i](transformer);\n  }\n  goog.debug.entryPointRegistry.monitors_.push(monitor);\n};\ngoog.debug.entryPointRegistry.unmonitorAllIfPossible = function(monitor) {\n  var monitors = goog.debug.entryPointRegistry.monitors_;\n  goog.asserts.assert(monitor == monitors[monitors.length - 1], \"Only the most recent monitor can be unwrapped.\");\n  for (var transformer = goog.bind(monitor.unwrap, monitor), i = 0; i < goog.debug.entryPointRegistry.refList_.length; i++) {\n    goog.debug.entryPointRegistry.refList_[i](transformer);\n  }\n  monitors.length--;\n};\ngoog.array = {};\ngoog.NATIVE_ARRAY_PROTOTYPES = goog.TRUSTED_SITE;\nvar module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS = 2012 < goog.FEATURESET_YEAR;\ngoog.array.ASSUME_NATIVE_FUNCTIONS = module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS;\nfunction module$contents$goog$array_peek(array) {\n  return array[array.length - 1];\n}\ngoog.array.peek = module$contents$goog$array_peek;\ngoog.array.last = module$contents$goog$array_peek;\nvar module$contents$goog$array_indexOf = goog.NATIVE_ARRAY_PROTOTYPES && (module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS || Array.prototype.indexOf) ? function(arr, obj, opt_fromIndex) {\n  goog.asserts.assert(null != arr.length);\n  return Array.prototype.indexOf.call(arr, obj, opt_fromIndex);\n} : function(arr, obj, opt_fromIndex) {\n  var fromIndex = null == opt_fromIndex ? 0 : 0 > opt_fromIndex ? Math.max(0, arr.length + opt_fromIndex) : opt_fromIndex;\n  if (\"string\" === typeof arr) {\n    return \"string\" !== typeof obj || 1 != obj.length ? -1 : arr.indexOf(obj, fromIndex);\n  }\n  for (var i = fromIndex; i < arr.length; i++) {\n    if (i in arr && arr[i] === obj) {\n      return i;\n    }\n  }\n  return -1;\n};\ngoog.array.indexOf = module$contents$goog$array_indexOf;\nvar module$contents$goog$array_lastIndexOf = goog.NATIVE_ARRAY_PROTOTYPES && (module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS || Array.prototype.lastIndexOf) ? function(arr, obj, opt_fromIndex) {\n  goog.asserts.assert(null != arr.length);\n  return Array.prototype.lastIndexOf.call(arr, obj, null == opt_fromIndex ? arr.length - 1 : opt_fromIndex);\n} : function(arr, obj, opt_fromIndex) {\n  var fromIndex = null == opt_fromIndex ? arr.length - 1 : opt_fromIndex;\n  0 > fromIndex && (fromIndex = Math.max(0, arr.length + fromIndex));\n  if (\"string\" === typeof arr) {\n    return \"string\" !== typeof obj || 1 != obj.length ? -1 : arr.lastIndexOf(obj, fromIndex);\n  }\n  for (var i = fromIndex; 0 <= i; i--) {\n    if (i in arr && arr[i] === obj) {\n      return i;\n    }\n  }\n  return -1;\n};\ngoog.array.lastIndexOf = module$contents$goog$array_lastIndexOf;\nvar module$contents$goog$array_forEach = goog.NATIVE_ARRAY_PROTOTYPES && (module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS || Array.prototype.forEach) ? function(arr, f, opt_obj) {\n  goog.asserts.assert(null != arr.length);\n  Array.prototype.forEach.call(arr, f, opt_obj);\n} : function(arr, f, opt_obj) {\n  for (var l = arr.length, arr2 = \"string\" === typeof arr ? arr.split(\"\") : arr, i = 0; i < l; i++) {\n    i in arr2 && f.call(opt_obj, arr2[i], i, arr);\n  }\n};\ngoog.array.forEach = module$contents$goog$array_forEach;\nfunction module$contents$goog$array_forEachRight(arr, f, opt_obj) {\n  for (var l = arr.length, arr2 = \"string\" === typeof arr ? arr.split(\"\") : arr, i = l - 1; 0 <= i; --i) {\n    i in arr2 && f.call(opt_obj, arr2[i], i, arr);\n  }\n}\ngoog.array.forEachRight = module$contents$goog$array_forEachRight;\nvar module$contents$goog$array_filter = goog.NATIVE_ARRAY_PROTOTYPES && (module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS || Array.prototype.filter) ? function(arr, f, opt_obj) {\n  goog.asserts.assert(null != arr.length);\n  return Array.prototype.filter.call(arr, f, opt_obj);\n} : function(arr, f, opt_obj) {\n  for (var l = arr.length, res = [], resLength = 0, arr2 = \"string\" === typeof arr ? arr.split(\"\") : arr, i = 0; i < l; i++) {\n    if (i in arr2) {\n      var val = arr2[i];\n      f.call(opt_obj, val, i, arr) && (res[resLength++] = val);\n    }\n  }\n  return res;\n};\ngoog.array.filter = module$contents$goog$array_filter;\nvar module$contents$goog$array_map = goog.NATIVE_ARRAY_PROTOTYPES && (module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS || Array.prototype.map) ? function(arr, f, opt_obj) {\n  goog.asserts.assert(null != arr.length);\n  return Array.prototype.map.call(arr, f, opt_obj);\n} : function(arr, f, opt_obj) {\n  for (var l = arr.length, res = Array(l), arr2 = \"string\" === typeof arr ? arr.split(\"\") : arr, i = 0; i < l; i++) {\n    i in arr2 && (res[i] = f.call(opt_obj, arr2[i], i, arr));\n  }\n  return res;\n};\ngoog.array.map = module$contents$goog$array_map;\ngoog.array.reduce = goog.NATIVE_ARRAY_PROTOTYPES && (module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS || Array.prototype.reduce) ? function(arr, f, val, opt_obj) {\n  goog.asserts.assert(null != arr.length);\n  opt_obj && (f = goog.bind(f, opt_obj));\n  return Array.prototype.reduce.call(arr, f, val);\n} : function(arr, f, val$jscomp$0, opt_obj) {\n  var rval = val$jscomp$0;\n  module$contents$goog$array_forEach(arr, function(val, index) {\n    rval = f.call(opt_obj, rval, val, index, arr);\n  });\n  return rval;\n};\ngoog.array.reduceRight = goog.NATIVE_ARRAY_PROTOTYPES && (module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS || Array.prototype.reduceRight) ? function(arr, f, val, opt_obj) {\n  goog.asserts.assert(null != arr.length);\n  goog.asserts.assert(null != f);\n  opt_obj && (f = goog.bind(f, opt_obj));\n  return Array.prototype.reduceRight.call(arr, f, val);\n} : function(arr, f, val$jscomp$0, opt_obj) {\n  var rval = val$jscomp$0;\n  module$contents$goog$array_forEachRight(arr, function(val, index) {\n    rval = f.call(opt_obj, rval, val, index, arr);\n  });\n  return rval;\n};\nvar module$contents$goog$array_some = goog.NATIVE_ARRAY_PROTOTYPES && (module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS || Array.prototype.some) ? function(arr, f, opt_obj) {\n  goog.asserts.assert(null != arr.length);\n  return Array.prototype.some.call(arr, f, opt_obj);\n} : function(arr, f, opt_obj) {\n  for (var l = arr.length, arr2 = \"string\" === typeof arr ? arr.split(\"\") : arr, i = 0; i < l; i++) {\n    if (i in arr2 && f.call(opt_obj, arr2[i], i, arr)) {\n      return !0;\n    }\n  }\n  return !1;\n};\ngoog.array.some = module$contents$goog$array_some;\nvar module$contents$goog$array_every = goog.NATIVE_ARRAY_PROTOTYPES && (module$contents$goog$array_ASSUME_NATIVE_FUNCTIONS || Array.prototype.every) ? function(arr, f, opt_obj) {\n  goog.asserts.assert(null != arr.length);\n  return Array.prototype.every.call(arr, f, opt_obj);\n} : function(arr, f, opt_obj) {\n  for (var l = arr.length, arr2 = \"string\" === typeof arr ? arr.split(\"\") : arr, i = 0; i < l; i++) {\n    if (i in arr2 && !f.call(opt_obj, arr2[i], i, arr)) {\n      return !1;\n    }\n  }\n  return !0;\n};\ngoog.array.every = module$contents$goog$array_every;\nfunction module$contents$goog$array_count(arr$jscomp$0, f, opt_obj) {\n  var count = 0;\n  module$contents$goog$array_forEach(arr$jscomp$0, function(element, index, arr) {\n    f.call(opt_obj, element, index, arr) && ++count;\n  }, opt_obj);\n  return count;\n}\ngoog.array.count = module$contents$goog$array_count;\nfunction module$contents$goog$array_find(arr, f, opt_obj) {\n  var i = module$contents$goog$array_findIndex(arr, f, opt_obj);\n  return 0 > i ? null : \"string\" === typeof arr ? arr.charAt(i) : arr[i];\n}\ngoog.array.find = module$contents$goog$array_find;\nfunction module$contents$goog$array_findIndex(arr, f, opt_obj) {\n  for (var l = arr.length, arr2 = \"string\" === typeof arr ? arr.split(\"\") : arr, i = 0; i < l; i++) {\n    if (i in arr2 && f.call(opt_obj, arr2[i], i, arr)) {\n      return i;\n    }\n  }\n  return -1;\n}\ngoog.array.findIndex = module$contents$goog$array_findIndex;\ngoog.array.findRight = function module$contents$goog$array_findRight(arr, f, opt_obj) {\n  var i = module$contents$goog$array_findIndexRight(arr, f, opt_obj);\n  return 0 > i ? null : \"string\" === typeof arr ? arr.charAt(i) : arr[i];\n};\nfunction module$contents$goog$array_findIndexRight(arr, f, opt_obj) {\n  for (var l = arr.length, arr2 = \"string\" === typeof arr ? arr.split(\"\") : arr, i = l - 1; 0 <= i; i--) {\n    if (i in arr2 && f.call(opt_obj, arr2[i], i, arr)) {\n      return i;\n    }\n  }\n  return -1;\n}\ngoog.array.findIndexRight = module$contents$goog$array_findIndexRight;\nfunction module$contents$goog$array_contains(arr, obj) {\n  return 0 <= module$contents$goog$array_indexOf(arr, obj);\n}\ngoog.array.contains = module$contents$goog$array_contains;\nfunction module$contents$goog$array_isEmpty(arr) {\n  return 0 == arr.length;\n}\ngoog.array.isEmpty = module$contents$goog$array_isEmpty;\nfunction module$contents$goog$array_clear(arr) {\n  if (!Array.isArray(arr)) {\n    for (var i = arr.length - 1; 0 <= i; i--) {\n      delete arr[i];\n    }\n  }\n  arr.length = 0;\n}\ngoog.array.clear = module$contents$goog$array_clear;\ngoog.array.insert = function module$contents$goog$array_insert(arr, obj) {\n  module$contents$goog$array_contains(arr, obj) || arr.push(obj);\n};\nfunction module$contents$goog$array_insertAt(arr, obj, opt_i) {\n  module$contents$goog$array_splice(arr, opt_i, 0, obj);\n}\ngoog.array.insertAt = module$contents$goog$array_insertAt;\ngoog.array.insertArrayAt = function module$contents$goog$array_insertArrayAt(arr, elementsToAdd, opt_i) {\n  goog.partial(module$contents$goog$array_splice, arr, opt_i, 0).apply(null, elementsToAdd);\n};\ngoog.array.insertBefore = function module$contents$goog$array_insertBefore(arr, obj, opt_obj2) {\n  var i;\n  2 == arguments.length || 0 > (i = module$contents$goog$array_indexOf(arr, opt_obj2)) ? arr.push(obj) : module$contents$goog$array_insertAt(arr, obj, i);\n};\nfunction module$contents$goog$array_remove(arr, obj) {\n  var i = module$contents$goog$array_indexOf(arr, obj), rv;\n  (rv = 0 <= i) && module$contents$goog$array_removeAt(arr, i);\n  return rv;\n}\ngoog.array.remove = module$contents$goog$array_remove;\nfunction module$contents$goog$array_removeLast(arr, obj) {\n  var i = module$contents$goog$array_lastIndexOf(arr, obj);\n  return 0 <= i ? (module$contents$goog$array_removeAt(arr, i), !0) : !1;\n}\ngoog.array.removeLast = module$contents$goog$array_removeLast;\nfunction module$contents$goog$array_removeAt(arr, i) {\n  goog.asserts.assert(null != arr.length);\n  return 1 == Array.prototype.splice.call(arr, i, 1).length;\n}\ngoog.array.removeAt = module$contents$goog$array_removeAt;\ngoog.array.removeIf = function module$contents$goog$array_removeIf(arr, f, opt_obj) {\n  var i = module$contents$goog$array_findIndex(arr, f, opt_obj);\n  return 0 <= i ? (module$contents$goog$array_removeAt(arr, i), !0) : !1;\n};\ngoog.array.removeAllIf = function module$contents$goog$array_removeAllIf(arr, f, opt_obj) {\n  var removedCount = 0;\n  module$contents$goog$array_forEachRight(arr, function(val, index) {\n    f.call(opt_obj, val, index, arr) && module$contents$goog$array_removeAt(arr, index) && removedCount++;\n  });\n  return removedCount;\n};\nfunction module$contents$goog$array_concat(var_args) {\n  return Array.prototype.concat.apply([], arguments);\n}\ngoog.array.concat = module$contents$goog$array_concat;\ngoog.array.join = function module$contents$goog$array_join(var_args) {\n  return Array.prototype.concat.apply([], arguments);\n};\nfunction module$contents$goog$array_toArray(object) {\n  var length = object.length;\n  if (0 < length) {\n    for (var rv = Array(length), i = 0; i < length; i++) {\n      rv[i] = object[i];\n    }\n    return rv;\n  }\n  return [];\n}\nvar module$contents$goog$array_clone = goog.array.toArray = module$contents$goog$array_toArray;\ngoog.array.clone = module$contents$goog$array_toArray;\nfunction module$contents$goog$array_extend(arr1, var_args) {\n  for (var i = 1; i < arguments.length; i++) {\n    var arr2 = arguments[i];\n    if (goog.isArrayLike(arr2)) {\n      var len1 = arr1.length || 0, len2 = arr2.length || 0;\n      arr1.length = len1 + len2;\n      for (var j = 0; j < len2; j++) {\n        arr1[len1 + j] = arr2[j];\n      }\n    } else {\n      arr1.push(arr2);\n    }\n  }\n}\ngoog.array.extend = module$contents$goog$array_extend;\nfunction module$contents$goog$array_splice(arr, index, howMany, var_args) {\n  goog.asserts.assert(null != arr.length);\n  return Array.prototype.splice.apply(arr, module$contents$goog$array_slice(arguments, 1));\n}\ngoog.array.splice = module$contents$goog$array_splice;\nfunction module$contents$goog$array_slice(arr, start, opt_end) {\n  goog.asserts.assert(null != arr.length);\n  return 2 >= arguments.length ? Array.prototype.slice.call(arr, start) : Array.prototype.slice.call(arr, start, opt_end);\n}\ngoog.array.slice = module$contents$goog$array_slice;\nfunction module$contents$goog$array_removeDuplicates(arr, opt_rv, opt_hashFn) {\n  for (var returnArray = opt_rv || arr, defaultHashFn = function(item) {\n    return goog.isObject(item) ? \"o\" + goog.getUid(item) : (typeof item).charAt(0) + item;\n  }, hashFn = opt_hashFn || defaultHashFn, cursorInsert = 0, cursorRead = 0, seen = {}; cursorRead < arr.length;) {\n    var current = arr[cursorRead++], key = hashFn(current);\n    Object.prototype.hasOwnProperty.call(seen, key) || (seen[key] = !0, returnArray[cursorInsert++] = current);\n  }\n  returnArray.length = cursorInsert;\n}\ngoog.array.removeDuplicates = module$contents$goog$array_removeDuplicates;\nfunction module$contents$goog$array_binarySearch(arr, target, opt_compareFn) {\n  return module$contents$goog$array_binarySearch_(arr, opt_compareFn || module$contents$goog$array_defaultCompare, !1, target);\n}\ngoog.array.binarySearch = module$contents$goog$array_binarySearch;\ngoog.array.binarySelect = function module$contents$goog$array_binarySelect(arr, evaluator, opt_obj) {\n  return module$contents$goog$array_binarySearch_(arr, evaluator, !0, void 0, opt_obj);\n};\nfunction module$contents$goog$array_binarySearch_(arr, compareFn, isEvaluator, opt_target, opt_selfObj) {\n  for (var left = 0, right = arr.length, found; left < right;) {\n    var middle = left + (right - left >>> 1), compareResult = void 0;\n    compareResult = isEvaluator ? compareFn.call(opt_selfObj, arr[middle], middle, arr) : compareFn(opt_target, arr[middle]);\n    0 < compareResult ? left = middle + 1 : (right = middle, found = !compareResult);\n  }\n  return found ? left : -left - 1;\n}\nfunction module$contents$goog$array_sort(arr, opt_compareFn) {\n  arr.sort(opt_compareFn || module$contents$goog$array_defaultCompare);\n}\ngoog.array.sort = module$contents$goog$array_sort;\ngoog.array.stableSort = function module$contents$goog$array_stableSort(arr, opt_compareFn) {\n  for (var compArr = Array(arr.length), i = 0; i < arr.length; i++) {\n    compArr[i] = {index:i, value:arr[i]};\n  }\n  var valueCompareFn = opt_compareFn || module$contents$goog$array_defaultCompare;\n  module$contents$goog$array_sort(compArr, function stableCompareFn(obj1, obj2) {\n    return valueCompareFn(obj1.value, obj2.value) || obj1.index - obj2.index;\n  });\n  for (var i$28 = 0; i$28 < arr.length; i$28++) {\n    arr[i$28] = compArr[i$28].value;\n  }\n};\nfunction module$contents$goog$array_sortByKey(arr, keyFn, opt_compareFn) {\n  var keyCompareFn = opt_compareFn || module$contents$goog$array_defaultCompare;\n  module$contents$goog$array_sort(arr, function(a, b) {\n    return keyCompareFn(keyFn(a), keyFn(b));\n  });\n}\ngoog.array.sortByKey = module$contents$goog$array_sortByKey;\ngoog.array.sortObjectsByKey = function module$contents$goog$array_sortObjectsByKey(arr, key, opt_compareFn) {\n  module$contents$goog$array_sortByKey(arr, function(obj) {\n    return obj[key];\n  }, opt_compareFn);\n};\nfunction module$contents$goog$array_isSorted(arr, opt_compareFn, opt_strict) {\n  for (var compare = opt_compareFn || module$contents$goog$array_defaultCompare, i = 1; i < arr.length; i++) {\n    var compareResult = compare(arr[i - 1], arr[i]);\n    if (0 < compareResult || 0 == compareResult && opt_strict) {\n      return !1;\n    }\n  }\n  return !0;\n}\ngoog.array.isSorted = module$contents$goog$array_isSorted;\nfunction module$contents$goog$array_equals(arr1, arr2, opt_equalsFn) {\n  if (!goog.isArrayLike(arr1) || !goog.isArrayLike(arr2) || arr1.length != arr2.length) {\n    return !1;\n  }\n  for (var l = arr1.length, equalsFn = opt_equalsFn || module$contents$goog$array_defaultCompareEquality, i = 0; i < l; i++) {\n    if (!equalsFn(arr1[i], arr2[i])) {\n      return !1;\n    }\n  }\n  return !0;\n}\ngoog.array.equals = module$contents$goog$array_equals;\ngoog.array.compare3 = function module$contents$goog$array_compare3(arr1, arr2, opt_compareFn) {\n  for (var compare = opt_compareFn || module$contents$goog$array_defaultCompare, l = Math.min(arr1.length, arr2.length), i = 0; i < l; i++) {\n    var result = compare(arr1[i], arr2[i]);\n    if (0 != result) {\n      return result;\n    }\n  }\n  return module$contents$goog$array_defaultCompare(arr1.length, arr2.length);\n};\nfunction module$contents$goog$array_defaultCompare(a, b) {\n  return a > b ? 1 : a < b ? -1 : 0;\n}\ngoog.array.defaultCompare = module$contents$goog$array_defaultCompare;\ngoog.array.inverseDefaultCompare = function module$contents$goog$array_inverseDefaultCompare(a, b) {\n  return -module$contents$goog$array_defaultCompare(a, b);\n};\nfunction module$contents$goog$array_defaultCompareEquality(a, b) {\n  return a === b;\n}\ngoog.array.defaultCompareEquality = module$contents$goog$array_defaultCompareEquality;\ngoog.array.binaryInsert = function module$contents$goog$array_binaryInsert(array, value, opt_compareFn) {\n  var index = module$contents$goog$array_binarySearch(array, value, opt_compareFn);\n  return 0 > index ? (module$contents$goog$array_insertAt(array, value, -(index + 1)), !0) : !1;\n};\ngoog.array.binaryRemove = function module$contents$goog$array_binaryRemove(array, value, opt_compareFn) {\n  var index = module$contents$goog$array_binarySearch(array, value, opt_compareFn);\n  return 0 <= index ? module$contents$goog$array_removeAt(array, index) : !1;\n};\ngoog.array.bucket = function module$contents$goog$array_bucket(array, sorter, opt_obj) {\n  for (var buckets = {}, i = 0; i < array.length; i++) {\n    var value = array[i], key = sorter.call(opt_obj, value, i, array);\n    void 0 !== key && (buckets[key] || (buckets[key] = [])).push(value);\n  }\n  return buckets;\n};\ngoog.array.bucketToMap = function module$contents$goog$array_bucketToMap(array, sorter) {\n  for (var buckets = new Map(), i = 0; i < array.length; i++) {\n    var value = array[i], key = sorter(value, i, array);\n    if (void 0 !== key) {\n      var bucket = buckets.get(key);\n      bucket || (bucket = [], buckets.set(key, bucket));\n      bucket.push(value);\n    }\n  }\n  return buckets;\n};\ngoog.array.toObject = function module$contents$goog$array_toObject(arr, keyFunc, opt_obj) {\n  var ret = {};\n  module$contents$goog$array_forEach(arr, function(element, index) {\n    ret[keyFunc.call(opt_obj, element, index, arr)] = element;\n  });\n  return ret;\n};\ngoog.array.toMap = function module$contents$goog$array_toMap(arr, keyFunc) {\n  for (var map = new Map(), i = 0; i < arr.length; i++) {\n    var element = arr[i];\n    map.set(keyFunc(element, i, arr), element);\n  }\n  return map;\n};\nfunction module$contents$goog$array_range(startOrEnd, opt_end, opt_step) {\n  var array = [], start = 0, end = startOrEnd, step = opt_step || 1;\n  void 0 !== opt_end && (start = startOrEnd, end = opt_end);\n  if (0 > step * (end - start)) {\n    return [];\n  }\n  if (0 < step) {\n    for (var i = start; i < end; i += step) {\n      array.push(i);\n    }\n  } else {\n    for (var i$29 = start; i$29 > end; i$29 += step) {\n      array.push(i$29);\n    }\n  }\n  return array;\n}\ngoog.array.range = module$contents$goog$array_range;\nfunction module$contents$goog$array_repeat(value, n) {\n  for (var array = [], i = 0; i < n; i++) {\n    array[i] = value;\n  }\n  return array;\n}\ngoog.array.repeat = module$contents$goog$array_repeat;\nfunction module$contents$goog$array_flatten(var_args) {\n  for (var result = [], i = 0; i < arguments.length; i++) {\n    var element = arguments[i];\n    if (Array.isArray(element)) {\n      for (var c = 0; c < element.length; c += 8192) {\n        for (var chunk = module$contents$goog$array_slice(element, c, c + 8192), recurseResult = module$contents$goog$array_flatten.apply(null, chunk), r = 0; r < recurseResult.length; r++) {\n          result.push(recurseResult[r]);\n        }\n      }\n    } else {\n      result.push(element);\n    }\n  }\n  return result;\n}\ngoog.array.flatten = module$contents$goog$array_flatten;\ngoog.array.rotate = function module$contents$goog$array_rotate(array, n) {\n  goog.asserts.assert(null != array.length);\n  array.length && (n %= array.length, 0 < n ? Array.prototype.unshift.apply(array, array.splice(-n, n)) : 0 > n && Array.prototype.push.apply(array, array.splice(0, -n)));\n  return array;\n};\ngoog.array.moveItem = function module$contents$goog$array_moveItem(arr, fromIndex, toIndex) {\n  goog.asserts.assert(0 <= fromIndex && fromIndex < arr.length);\n  goog.asserts.assert(0 <= toIndex && toIndex < arr.length);\n  var removedItems = Array.prototype.splice.call(arr, fromIndex, 1);\n  Array.prototype.splice.call(arr, toIndex, 0, removedItems[0]);\n};\ngoog.array.zip = function module$contents$goog$array_zip(var_args) {\n  if (!arguments.length) {\n    return [];\n  }\n  for (var result = [], minLen = arguments[0].length, i = 1; i < arguments.length; i++) {\n    arguments[i].length < minLen && (minLen = arguments[i].length);\n  }\n  for (var i$30 = 0; i$30 < minLen; i$30++) {\n    for (var value = [], j = 0; j < arguments.length; j++) {\n      value.push(arguments[j][i$30]);\n    }\n    result.push(value);\n  }\n  return result;\n};\ngoog.array.shuffle = function module$contents$goog$array_shuffle(arr, opt_randFn) {\n  for (var randFn = opt_randFn || Math.random, i = arr.length - 1; 0 < i; i--) {\n    var j = Math.floor(randFn() * (i + 1)), tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n  }\n};\ngoog.array.copyByIndex = function module$contents$goog$array_copyByIndex(arr, index_arr) {\n  var result = [];\n  module$contents$goog$array_forEach(index_arr, function(index) {\n    result.push(arr[index]);\n  });\n  return result;\n};\ngoog.array.concatMap = function module$contents$goog$array_concatMap(arr, f, opt_obj) {\n  return module$contents$goog$array_concat.apply([], module$contents$goog$array_map(arr, f, opt_obj));\n};\ngoog.debug.errorcontext = {};\ngoog.debug.errorcontext.addErrorContext = function(err, contextKey, contextValue) {\n  err[goog.debug.errorcontext.CONTEXT_KEY_] || (err[goog.debug.errorcontext.CONTEXT_KEY_] = {});\n  err[goog.debug.errorcontext.CONTEXT_KEY_][contextKey] = contextValue;\n};\ngoog.debug.errorcontext.getErrorContext = function(err) {\n  return err[goog.debug.errorcontext.CONTEXT_KEY_] || {};\n};\ngoog.debug.errorcontext.CONTEXT_KEY_ = \"__closure__error__context__984382\";\ngoog.debug.LOGGING_ENABLED = goog.DEBUG;\ngoog.debug.FORCE_SLOPPY_STACKS = !1;\ngoog.debug.CHECK_FOR_THROWN_EVENT = !1;\ngoog.debug.catchErrors = function(logFunc, opt_cancel, opt_target) {\n  var target = opt_target || goog.global, oldErrorHandler = target.onerror, retVal = !!opt_cancel;\n  target.onerror = function(message, url, line, opt_col, opt_error) {\n    oldErrorHandler && oldErrorHandler(message, url, line, opt_col, opt_error);\n    logFunc({message:message, fileName:url, line:line, lineNumber:line, col:opt_col, error:opt_error});\n    return retVal;\n  };\n};\ngoog.debug.expose = function(obj, opt_showFn) {\n  if (\"undefined\" == typeof obj) {\n    return \"undefined\";\n  }\n  if (null == obj) {\n    return \"NULL\";\n  }\n  var str = [], x;\n  for (x in obj) {\n    if (opt_showFn || \"function\" !== typeof obj[x]) {\n      var s = x + \" = \";\n      try {\n        s += obj[x];\n      } catch (e) {\n        s += \"*** \" + e + \" ***\";\n      }\n      str.push(s);\n    }\n  }\n  return str.join(\"\\n\");\n};\ngoog.debug.deepExpose = function(obj$jscomp$0, opt_showFn) {\n  var str$jscomp$0 = [], uidsToCleanup = [], ancestorUids = {}, helper = function(obj, space) {\n    var nestspace = space + \"  \", indentMultiline = function(str) {\n      return str.replace(/\\n/g, \"\\n\" + space);\n    };\n    try {\n      if (void 0 === obj) {\n        str$jscomp$0.push(\"undefined\");\n      } else {\n        if (null === obj) {\n          str$jscomp$0.push(\"NULL\");\n        } else {\n          if (\"string\" === typeof obj) {\n            str$jscomp$0.push('\"' + indentMultiline(obj) + '\"');\n          } else {\n            if (\"function\" === typeof obj) {\n              str$jscomp$0.push(indentMultiline(String(obj)));\n            } else {\n              if (goog.isObject(obj)) {\n                goog.hasUid(obj) || uidsToCleanup.push(obj);\n                var uid = goog.getUid(obj);\n                if (ancestorUids[uid]) {\n                  str$jscomp$0.push(\"*** reference loop detected (id=\" + uid + \") ***\");\n                } else {\n                  ancestorUids[uid] = !0;\n                  str$jscomp$0.push(\"{\");\n                  for (var x in obj) {\n                    if (opt_showFn || \"function\" !== typeof obj[x]) {\n                      str$jscomp$0.push(\"\\n\"), str$jscomp$0.push(nestspace), str$jscomp$0.push(x + \" = \"), helper(obj[x], nestspace);\n                    }\n                  }\n                  str$jscomp$0.push(\"\\n\" + space + \"}\");\n                  delete ancestorUids[uid];\n                }\n              } else {\n                str$jscomp$0.push(obj);\n              }\n            }\n          }\n        }\n      }\n    } catch (e) {\n      str$jscomp$0.push(\"*** \" + e + \" ***\");\n    }\n  };\n  helper(obj$jscomp$0, \"\");\n  for (var i = 0; i < uidsToCleanup.length; i++) {\n    goog.removeUid(uidsToCleanup[i]);\n  }\n  return str$jscomp$0.join(\"\");\n};\ngoog.debug.exposeArray = function(arr) {\n  for (var str = [], i = 0; i < arr.length; i++) {\n    Array.isArray(arr[i]) ? str.push(goog.debug.exposeArray(arr[i])) : str.push(arr[i]);\n  }\n  return \"[ \" + str.join(\", \") + \" ]\";\n};\ngoog.debug.normalizeErrorObject = function(err) {\n  var href = goog.getObjectByName(\"window.location.href\");\n  null == err && (err = 'Unknown Error of type \"null/undefined\"');\n  if (\"string\" === typeof err) {\n    return {message:err, name:\"Unknown error\", lineNumber:\"Not available\", fileName:href, stack:\"Not available\"};\n  }\n  var threwError = !1;\n  try {\n    var lineNumber = err.lineNumber || err.line || \"Not available\";\n  } catch (e) {\n    lineNumber = \"Not available\", threwError = !0;\n  }\n  try {\n    var fileName = err.fileName || err.filename || err.sourceURL || goog.global.$googDebugFname || href;\n  } catch (e$31) {\n    fileName = \"Not available\", threwError = !0;\n  }\n  var stack = goog.debug.serializeErrorStack_(err);\n  if (!(!threwError && err.lineNumber && err.fileName && err.stack && err.message && err.name)) {\n    var message = err.message;\n    if (null == message) {\n      if (err.constructor && err.constructor instanceof Function) {\n        var ctorName = err.constructor.name ? err.constructor.name : goog.debug.getFunctionName(err.constructor);\n        message = 'Unknown Error of type \"' + ctorName + '\"';\n        if (goog.debug.CHECK_FOR_THROWN_EVENT && \"Event\" == ctorName) {\n          try {\n            message = message + ' with Event.type \"' + (err.type || \"\") + '\"';\n          } catch (e$32) {\n          }\n        }\n      } else {\n        message = \"Unknown Error of unknown type\";\n      }\n      \"function\" === typeof err.toString && Object.prototype.toString !== err.toString && (message += \": \" + err.toString());\n    }\n    return {message:message, name:err.name || \"UnknownError\", lineNumber:lineNumber, fileName:fileName, stack:stack || \"Not available\"};\n  }\n  err.stack = stack;\n  return {message:err.message, name:err.name, lineNumber:err.lineNumber, fileName:err.fileName, stack:err.stack};\n};\ngoog.debug.serializeErrorStack_ = function(e, seen) {\n  seen || (seen = {});\n  seen[goog.debug.serializeErrorAsKey_(e)] = !0;\n  var stack = e.stack || \"\", cause = e.cause;\n  cause && !seen[goog.debug.serializeErrorAsKey_(cause)] && (stack += \"\\nCaused by: \", cause.stack && 0 == cause.stack.indexOf(cause.toString()) || (stack += \"string\" === typeof cause ? cause : cause.message + \"\\n\"), stack += goog.debug.serializeErrorStack_(cause, seen));\n  return stack;\n};\ngoog.debug.serializeErrorAsKey_ = function(e) {\n  var keyPrefix = \"\";\n  \"function\" === typeof e.toString && (keyPrefix = \"\" + e);\n  return keyPrefix + e.stack;\n};\ngoog.debug.enhanceError = function(err, opt_message) {\n  if (err instanceof Error) {\n    var error = err;\n  } else {\n    error = Error(err), Error.captureStackTrace && Error.captureStackTrace(error, goog.debug.enhanceError);\n  }\n  error.stack || (error.stack = goog.debug.getStacktrace(goog.debug.enhanceError));\n  if (opt_message) {\n    for (var x = 0; error[\"message\" + x];) {\n      ++x;\n    }\n    error[\"message\" + x] = String(opt_message);\n  }\n  return error;\n};\ngoog.debug.enhanceErrorWithContext = function(err, opt_context) {\n  var error = goog.debug.enhanceError(err);\n  if (opt_context) {\n    for (var key in opt_context) {\n      goog.debug.errorcontext.addErrorContext(error, key, opt_context[key]);\n    }\n  }\n  return error;\n};\ngoog.debug.getStacktraceSimple = function(opt_depth) {\n  if (!goog.debug.FORCE_SLOPPY_STACKS) {\n    var stack = goog.debug.getNativeStackTrace_(goog.debug.getStacktraceSimple);\n    if (stack) {\n      return stack;\n    }\n  }\n  for (var sb = [], fn = arguments.callee.caller, depth = 0; fn && (!opt_depth || depth < opt_depth);) {\n    sb.push(goog.debug.getFunctionName(fn));\n    sb.push(\"()\\n\");\n    try {\n      fn = fn.caller;\n    } catch (e) {\n      sb.push(\"[exception trying to get caller]\\n\");\n      break;\n    }\n    depth++;\n    if (depth >= goog.debug.MAX_STACK_DEPTH) {\n      sb.push(\"[...long stack...]\");\n      break;\n    }\n  }\n  opt_depth && depth >= opt_depth ? sb.push(\"[...reached max depth limit...]\") : sb.push(\"[end]\");\n  return sb.join(\"\");\n};\ngoog.debug.MAX_STACK_DEPTH = 50;\ngoog.debug.getNativeStackTrace_ = function(fn) {\n  var tempErr = Error();\n  if (Error.captureStackTrace) {\n    return Error.captureStackTrace(tempErr, fn), String(tempErr.stack);\n  }\n  try {\n    throw tempErr;\n  } catch (e) {\n    tempErr = e;\n  }\n  var stack = tempErr.stack;\n  return stack ? String(stack) : null;\n};\ngoog.debug.getStacktrace = function(fn) {\n  var stack;\n  goog.debug.FORCE_SLOPPY_STACKS || (stack = goog.debug.getNativeStackTrace_(fn || goog.debug.getStacktrace));\n  stack || (stack = goog.debug.getStacktraceHelper_(fn || arguments.callee.caller, []));\n  return stack;\n};\ngoog.debug.getStacktraceHelper_ = function(fn, visited) {\n  var sb = [];\n  if (module$contents$goog$array_contains(visited, fn)) {\n    sb.push(\"[...circular reference...]\");\n  } else {\n    if (fn && visited.length < goog.debug.MAX_STACK_DEPTH) {\n      sb.push(goog.debug.getFunctionName(fn) + \"(\");\n      for (var args = fn.arguments, i = 0; args && i < args.length; i++) {\n        0 < i && sb.push(\", \");\n        var arg = args[i];\n        switch(typeof arg) {\n          case \"object\":\n            var argDesc = arg ? \"object\" : \"null\";\n            break;\n          case \"string\":\n            argDesc = arg;\n            break;\n          case \"number\":\n            argDesc = String(arg);\n            break;\n          case \"boolean\":\n            argDesc = arg ? \"true\" : \"false\";\n            break;\n          case \"function\":\n            argDesc = (argDesc = goog.debug.getFunctionName(arg)) ? argDesc : \"[fn]\";\n            break;\n          default:\n            argDesc = typeof arg;\n        }\n        40 < argDesc.length && (argDesc = argDesc.substr(0, 40) + \"...\");\n        sb.push(argDesc);\n      }\n      visited.push(fn);\n      sb.push(\")\\n\");\n      try {\n        sb.push(goog.debug.getStacktraceHelper_(fn.caller, visited));\n      } catch (e) {\n        sb.push(\"[exception trying to get caller]\\n\");\n      }\n    } else {\n      fn ? sb.push(\"[...long stack...]\") : sb.push(\"[end]\");\n    }\n  }\n  return sb.join(\"\");\n};\ngoog.debug.getFunctionName = function(fn) {\n  if (goog.debug.fnNameCache_[fn]) {\n    return goog.debug.fnNameCache_[fn];\n  }\n  var functionSource = String(fn);\n  if (!goog.debug.fnNameCache_[functionSource]) {\n    var matches = /function\\s+([^\\(]+)/m.exec(functionSource);\n    goog.debug.fnNameCache_[functionSource] = matches ? matches[1] : \"[Anonymous]\";\n  }\n  return goog.debug.fnNameCache_[functionSource];\n};\ngoog.debug.makeWhitespaceVisible = function(string) {\n  return string.replace(/ /g, \"[_]\").replace(/\\f/g, \"[f]\").replace(/\\n/g, \"[n]\\n\").replace(/\\r/g, \"[r]\").replace(/\\t/g, \"[t]\");\n};\ngoog.debug.runtimeType = function(value) {\n  return value instanceof Function ? value.displayName || value.name || \"unknown type name\" : value instanceof Object ? value.constructor.displayName || value.constructor.name || Object.prototype.toString.call(value) : null === value ? \"null\" : typeof value;\n};\ngoog.debug.fnNameCache_ = {};\ngoog.debug.freezeInternal_ = goog.DEBUG && Object.freeze || function(arg) {\n  return arg;\n};\ngoog.debug.freeze = function(arg) {\n  return function() {\n    return goog.debug.freezeInternal_(arg);\n  }();\n};\ngoog.events.BrowserFeature = {HAS_W3C_BUTTON:!0, HAS_W3C_EVENT_SUPPORT:!0, SET_KEY_CODE_TO_PREVENT_DEFAULT:!1, HAS_NAVIGATOR_ONLINE_PROPERTY:!0, HAS_HTML5_NETWORK_EVENT_SUPPORT:!0, HTML5_NETWORK_EVENTS_FIRE_ON_BODY:!1, TOUCH_ENABLED:\"ontouchstart\" in goog.global || !!(goog.global.document && document.documentElement && \"ontouchstart\" in document.documentElement) || !(!goog.global.navigator || !goog.global.navigator.maxTouchPoints && !goog.global.navigator.msMaxTouchPoints), POINTER_EVENTS:\"PointerEvent\" in \ngoog.global, MSPOINTER_EVENTS:\"MSPointerEvent\" in goog.global && !(!goog.global.navigator || !goog.global.navigator.msPointerEnabled), PASSIVE_EVENTS:function(fn) {\n  return {valueOf:fn}.valueOf();\n}(function() {\n  if (!goog.global.addEventListener || !Object.defineProperty) {\n    return !1;\n  }\n  var passive = !1, options = Object.defineProperty({}, \"passive\", {get:function() {\n    passive = !0;\n  }});\n  try {\n    goog.global.addEventListener(\"test\", goog.nullFunction, options), goog.global.removeEventListener(\"test\", goog.nullFunction, options);\n  } catch (e) {\n  }\n  return passive;\n})};\nvar module$exports$goog$labs$userAgent = {};\nmodule$exports$goog$labs$userAgent.USE_CLIENT_HINTS = function() {\n  return !1;\n}();\ngoog.string = {};\ngoog.string.internal = {};\ngoog.string.internal.startsWith = function(str, prefix) {\n  return 0 == str.lastIndexOf(prefix, 0);\n};\ngoog.string.internal.endsWith = function(str, suffix) {\n  var l = str.length - suffix.length;\n  return 0 <= l && str.indexOf(suffix, l) == l;\n};\ngoog.string.internal.caseInsensitiveStartsWith = function(str, prefix) {\n  return 0 == goog.string.internal.caseInsensitiveCompare(prefix, str.substr(0, prefix.length));\n};\ngoog.string.internal.caseInsensitiveEndsWith = function(str, suffix) {\n  return 0 == goog.string.internal.caseInsensitiveCompare(suffix, str.substr(str.length - suffix.length, suffix.length));\n};\ngoog.string.internal.caseInsensitiveEquals = function(str1, str2) {\n  return str1.toLowerCase() == str2.toLowerCase();\n};\ngoog.string.internal.isEmptyOrWhitespace = function(str) {\n  return /^[\\s\\xa0]*$/.test(str);\n};\ngoog.string.internal.trim = goog.TRUSTED_SITE && String.prototype.trim ? function(str) {\n  return str.trim();\n} : function(str) {\n  return /^[\\s\\xa0]*([\\s\\S]*?)[\\s\\xa0]*$/.exec(str)[1];\n};\ngoog.string.internal.caseInsensitiveCompare = function(str1, str2) {\n  var test1 = String(str1).toLowerCase(), test2 = String(str2).toLowerCase();\n  return test1 < test2 ? -1 : test1 == test2 ? 0 : 1;\n};\ngoog.string.internal.newLineToBr = function(str, opt_xml) {\n  return str.replace(/(\\r\\n|\\r|\\n)/g, opt_xml ? \"<br />\" : \"<br>\");\n};\ngoog.string.internal.htmlEscape = function(str, opt_isLikelyToContainHtmlChars) {\n  if (opt_isLikelyToContainHtmlChars) {\n    str = str.replace(goog.string.internal.AMP_RE_, \"&amp;\").replace(goog.string.internal.LT_RE_, \"&lt;\").replace(goog.string.internal.GT_RE_, \"&gt;\").replace(goog.string.internal.QUOT_RE_, \"&quot;\").replace(goog.string.internal.SINGLE_QUOTE_RE_, \"&#39;\").replace(goog.string.internal.NULL_RE_, \"&#0;\");\n  } else {\n    if (!goog.string.internal.ALL_RE_.test(str)) {\n      return str;\n    }\n    -1 != str.indexOf(\"&\") && (str = str.replace(goog.string.internal.AMP_RE_, \"&amp;\"));\n    -1 != str.indexOf(\"<\") && (str = str.replace(goog.string.internal.LT_RE_, \"&lt;\"));\n    -1 != str.indexOf(\">\") && (str = str.replace(goog.string.internal.GT_RE_, \"&gt;\"));\n    -1 != str.indexOf('\"') && (str = str.replace(goog.string.internal.QUOT_RE_, \"&quot;\"));\n    -1 != str.indexOf(\"'\") && (str = str.replace(goog.string.internal.SINGLE_QUOTE_RE_, \"&#39;\"));\n    -1 != str.indexOf(\"\\x00\") && (str = str.replace(goog.string.internal.NULL_RE_, \"&#0;\"));\n  }\n  return str;\n};\ngoog.string.internal.AMP_RE_ = /&/g;\ngoog.string.internal.LT_RE_ = /</g;\ngoog.string.internal.GT_RE_ = />/g;\ngoog.string.internal.QUOT_RE_ = /\"/g;\ngoog.string.internal.SINGLE_QUOTE_RE_ = /'/g;\ngoog.string.internal.NULL_RE_ = /\\x00/g;\ngoog.string.internal.ALL_RE_ = /[\\x00&<>\"']/;\ngoog.string.internal.whitespaceEscape = function(str, opt_xml) {\n  return goog.string.internal.newLineToBr(str.replace(/  /g, \" &#160;\"), opt_xml);\n};\ngoog.string.internal.contains = function(str, subString) {\n  return -1 != str.indexOf(subString);\n};\ngoog.string.internal.caseInsensitiveContains = function(str, subString) {\n  return goog.string.internal.contains(str.toLowerCase(), subString.toLowerCase());\n};\ngoog.string.internal.compareVersions = function(version1, version2) {\n  for (var order = 0, v1Subs = goog.string.internal.trim(String(version1)).split(\".\"), v2Subs = goog.string.internal.trim(String(version2)).split(\".\"), subCount = Math.max(v1Subs.length, v2Subs.length), subIdx = 0; 0 == order && subIdx < subCount; subIdx++) {\n    var v1Sub = v1Subs[subIdx] || \"\", v2Sub = v2Subs[subIdx] || \"\";\n    do {\n      var v1Comp = /(\\d*)(\\D*)(.*)/.exec(v1Sub) || [\"\", \"\", \"\", \"\"], v2Comp = /(\\d*)(\\D*)(.*)/.exec(v2Sub) || [\"\", \"\", \"\", \"\"];\n      if (0 == v1Comp[0].length && 0 == v2Comp[0].length) {\n        break;\n      }\n      order = goog.string.internal.compareElements_(0 == v1Comp[1].length ? 0 : parseInt(v1Comp[1], 10), 0 == v2Comp[1].length ? 0 : parseInt(v2Comp[1], 10)) || goog.string.internal.compareElements_(0 == v1Comp[2].length, 0 == v2Comp[2].length) || goog.string.internal.compareElements_(v1Comp[2], v2Comp[2]);\n      v1Sub = v1Comp[3];\n      v2Sub = v2Comp[3];\n    } while (0 == order);\n  }\n  return order;\n};\ngoog.string.internal.compareElements_ = function(left, right) {\n  return left < right ? -1 : left > right ? 1 : 0;\n};\ngoog.labs = {};\ngoog.labs.userAgent = {};\ngoog.labs.userAgent.util = {};\nfunction module$contents$goog$labs$userAgent$util_getNativeUserAgentString() {\n  var navigator = module$contents$goog$labs$userAgent$util_getNavigator();\n  if (navigator) {\n    var userAgent = navigator.userAgent;\n    if (userAgent) {\n      return userAgent;\n    }\n  }\n  return \"\";\n}\nfunction module$contents$goog$labs$userAgent$util_getNativeUserAgentData() {\n  if (!module$exports$goog$labs$userAgent.USE_CLIENT_HINTS) {\n    return null;\n  }\n  var navigator = module$contents$goog$labs$userAgent$util_getNavigator();\n  return navigator ? navigator.userAgentData || null : null;\n}\nfunction module$contents$goog$labs$userAgent$util_getNavigator() {\n  return goog.global.navigator;\n}\nvar module$contents$goog$labs$userAgent$util_userAgentInternal = module$contents$goog$labs$userAgent$util_getNativeUserAgentString(), module$contents$goog$labs$userAgent$util_userAgentDataInternal = module$contents$goog$labs$userAgent$util_getNativeUserAgentData();\nfunction module$contents$goog$labs$userAgent$util_getUserAgent() {\n  return module$contents$goog$labs$userAgent$util_userAgentInternal;\n}\nfunction module$contents$goog$labs$userAgent$util_getUserAgentData() {\n  return module$contents$goog$labs$userAgent$util_userAgentDataInternal;\n}\nfunction module$contents$goog$labs$userAgent$util_matchUserAgentDataBrand(str) {\n  var data = module$contents$goog$labs$userAgent$util_getUserAgentData();\n  return data ? data.brands.some(function($jscomp$destructuring$var0) {\n    var brand = $jscomp$destructuring$var0.brand;\n    return brand && (0,goog.string.internal.contains)(brand, str);\n  }) : !1;\n}\nfunction module$contents$goog$labs$userAgent$util_matchUserAgent(str) {\n  return (0,goog.string.internal.contains)(module$contents$goog$labs$userAgent$util_getUserAgent(), str);\n}\nfunction module$contents$goog$labs$userAgent$util_matchUserAgentIgnoreCase(str) {\n  return (0,goog.string.internal.caseInsensitiveContains)(module$contents$goog$labs$userAgent$util_getUserAgent(), str);\n}\nfunction module$contents$goog$labs$userAgent$util_extractVersionTuples(userAgent) {\n  for (var versionRegExp = RegExp(\"(\\\\w[\\\\w ]+)/([^\\\\s]+)\\\\s*(?:\\\\((.*?)\\\\))?\", \"g\"), data = [], match; match = versionRegExp.exec(userAgent);) {\n    data.push([match[1], match[2], match[3] || void 0]);\n  }\n  return data;\n}\ngoog.labs.userAgent.util.ASSUME_CLIENT_HINTS_SUPPORT = !1;\ngoog.labs.userAgent.util.extractVersionTuples = module$contents$goog$labs$userAgent$util_extractVersionTuples;\ngoog.labs.userAgent.util.getNativeUserAgentString = module$contents$goog$labs$userAgent$util_getNativeUserAgentString;\ngoog.labs.userAgent.util.getUserAgent = module$contents$goog$labs$userAgent$util_getUserAgent;\ngoog.labs.userAgent.util.getUserAgentData = module$contents$goog$labs$userAgent$util_getUserAgentData;\ngoog.labs.userAgent.util.matchUserAgent = module$contents$goog$labs$userAgent$util_matchUserAgent;\ngoog.labs.userAgent.util.matchUserAgentDataBrand = module$contents$goog$labs$userAgent$util_matchUserAgentDataBrand;\ngoog.labs.userAgent.util.matchUserAgentIgnoreCase = module$contents$goog$labs$userAgent$util_matchUserAgentIgnoreCase;\ngoog.labs.userAgent.util.resetUserAgentData = function module$contents$goog$labs$userAgent$util_resetUserAgentData() {\n  module$contents$goog$labs$userAgent$util_userAgentDataInternal = module$contents$goog$labs$userAgent$util_getNativeUserAgentData();\n};\ngoog.labs.userAgent.util.setUserAgent = function module$contents$goog$labs$userAgent$util_setUserAgent(userAgent) {\n  module$contents$goog$labs$userAgent$util_userAgentInternal = \"string\" === typeof userAgent ? userAgent : module$contents$goog$labs$userAgent$util_getNativeUserAgentString();\n};\ngoog.labs.userAgent.util.setUserAgentData = function module$contents$goog$labs$userAgent$util_setUserAgentData(userAgentData) {\n  module$contents$goog$labs$userAgent$util_userAgentDataInternal = userAgentData;\n};\nvar module$exports$goog$labs$userAgent$highEntropy$highEntropyValue = {AsyncValue:function() {\n}};\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyValue.AsyncValue.prototype.getIfLoaded = function() {\n};\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyValue.AsyncValue.prototype.load = function() {\n};\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue = function(key) {\n  this.key_ = key;\n  this.promise_ = this.value_ = void 0;\n  this.pending_ = !1;\n};\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue.prototype.getIfLoaded = function() {\n  if (module$contents$goog$labs$userAgent$util_getUserAgentData()) {\n    return this.value_;\n  }\n};\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue.prototype.load = function() {\n  var $jscomp$async$this = this, userAgentData;\n  return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context) {\n    if (1 == $jscomp$generator$context.nextAddress) {\n      userAgentData = module$contents$goog$labs$userAgent$util_getUserAgentData();\n      if (!userAgentData) {\n        return $jscomp$generator$context.return(void 0);\n      }\n      $jscomp$async$this.promise_ || ($jscomp$async$this.pending_ = !0, $jscomp$async$this.promise_ = function() {\n        var dataValues;\n        return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context$1) {\n          if (1 == $jscomp$generator$context$1.nextAddress) {\n            return $jscomp$generator$context$1.setFinallyBlock(2), $jscomp$generator$context$1.yield(userAgentData.getHighEntropyValues([$jscomp$async$this.key_]), 4);\n          }\n          if (2 != $jscomp$generator$context$1.nextAddress) {\n            return dataValues = $jscomp$generator$context$1.yieldResult, $jscomp$async$this.value_ = dataValues[$jscomp$async$this.key_], $jscomp$generator$context$1.return($jscomp$async$this.value_);\n          }\n          $jscomp$generator$context$1.enterFinallyBlock();\n          $jscomp$async$this.pending_ = !1;\n          return $jscomp$generator$context$1.leaveFinallyBlock(0);\n        });\n      }());\n      return $jscomp$generator$context.yield($jscomp$async$this.promise_, 2);\n    }\n    return $jscomp$generator$context.return($jscomp$generator$context.yieldResult);\n  });\n};\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue.prototype.resetForTesting = function() {\n  if (this.pending_) {\n    throw Error(\"Unsafe call to resetForTesting\");\n  }\n  this.value_ = this.promise_ = void 0;\n  this.pending_ = !1;\n};\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version = function(versionString) {\n  this.versionString_ = versionString;\n};\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version.prototype.toVersionStringForLogging = function() {\n  return this.versionString_;\n};\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version.prototype.isAtLeast = function(version) {\n  return 0 <= (0,goog.string.internal.compareVersions)(this.versionString_, version);\n};\nvar module$exports$goog$labs$userAgent$highEntropy$highEntropyData = {};\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyData.fullVersionList = new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue(\"fullVersionList\");\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyData.platformVersion = new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.HighEntropyValue(\"platformVersion\");\nmodule$exports$goog$labs$userAgent$highEntropy$highEntropyData.resetAllForTesting = function module$contents$goog$labs$userAgent$highEntropy$highEntropyData_resetAllForTesting() {\n  module$exports$goog$labs$userAgent$highEntropy$highEntropyData.fullVersionList.resetForTesting();\n  module$exports$goog$labs$userAgent$highEntropy$highEntropyData.platformVersion.resetForTesting();\n};\ngoog.labs.userAgent.browser = {};\nvar module$contents$goog$labs$userAgent$browser_Brand = {ANDROID_BROWSER:\"Android Browser\", CHROMIUM:\"Chromium\", EDGE:\"Microsoft Edge\", FIREFOX:\"Firefox\", IE:\"Internet Explorer\", OPERA:\"Opera\", SAFARI:\"Safari\", SILK:\"Silk\",};\ngoog.labs.userAgent.browser.Brand = module$contents$goog$labs$userAgent$browser_Brand;\nfunction module$contents$goog$labs$userAgent$browser_useUserAgentBrand() {\n  var userAgentData = module$contents$goog$labs$userAgent$util_getUserAgentData();\n  return !!userAgentData && 0 < userAgentData.brands.length;\n}\nfunction module$contents$goog$labs$userAgent$browser_matchOpera() {\n  return module$contents$goog$labs$userAgent$util_getUserAgentData() ? !1 : module$contents$goog$labs$userAgent$util_matchUserAgent(\"Opera\");\n}\nfunction module$contents$goog$labs$userAgent$browser_matchIE() {\n  return module$contents$goog$labs$userAgent$util_getUserAgentData() ? !1 : module$contents$goog$labs$userAgent$util_matchUserAgent(\"Trident\") || module$contents$goog$labs$userAgent$util_matchUserAgent(\"MSIE\");\n}\nfunction module$contents$goog$labs$userAgent$browser_matchEdgeHtml() {\n  return module$contents$goog$labs$userAgent$util_getUserAgentData() ? !1 : module$contents$goog$labs$userAgent$util_matchUserAgent(\"Edge\");\n}\nfunction module$contents$goog$labs$userAgent$browser_matchEdgeChromium() {\n  return module$contents$goog$labs$userAgent$browser_useUserAgentBrand() ? module$contents$goog$labs$userAgent$util_matchUserAgentDataBrand(module$contents$goog$labs$userAgent$browser_Brand.EDGE) : module$contents$goog$labs$userAgent$util_matchUserAgent(\"Edg/\");\n}\nfunction module$contents$goog$labs$userAgent$browser_matchOperaChromium() {\n  return module$contents$goog$labs$userAgent$browser_useUserAgentBrand() ? module$contents$goog$labs$userAgent$util_matchUserAgentDataBrand(module$contents$goog$labs$userAgent$browser_Brand.OPERA) : module$contents$goog$labs$userAgent$util_matchUserAgent(\"OPR\");\n}\nfunction module$contents$goog$labs$userAgent$browser_matchFirefox() {\n  return module$contents$goog$labs$userAgent$util_getUserAgentData() ? !1 : module$contents$goog$labs$userAgent$util_matchUserAgent(\"Firefox\") || module$contents$goog$labs$userAgent$util_matchUserAgent(\"FxiOS\");\n}\nfunction module$contents$goog$labs$userAgent$browser_matchSafari() {\n  return module$contents$goog$labs$userAgent$browser_useUserAgentBrand() ? !1 : module$contents$goog$labs$userAgent$util_matchUserAgent(\"Safari\") && !(module$contents$goog$labs$userAgent$browser_matchChrome() || module$contents$goog$labs$userAgent$browser_matchCoast() || module$contents$goog$labs$userAgent$browser_matchOpera() || module$contents$goog$labs$userAgent$browser_matchEdgeHtml() || module$contents$goog$labs$userAgent$browser_matchEdgeChromium() || module$contents$goog$labs$userAgent$browser_matchOperaChromium() || \n  module$contents$goog$labs$userAgent$browser_matchFirefox() || module$contents$goog$labs$userAgent$browser_isSilk() || module$contents$goog$labs$userAgent$util_matchUserAgent(\"Android\"));\n}\nfunction module$contents$goog$labs$userAgent$browser_matchCoast() {\n  return module$contents$goog$labs$userAgent$util_getUserAgentData() ? !1 : module$contents$goog$labs$userAgent$util_matchUserAgent(\"Coast\");\n}\nfunction module$contents$goog$labs$userAgent$browser_matchIosWebview() {\n  return module$contents$goog$labs$userAgent$util_getUserAgentData() ? !1 : (module$contents$goog$labs$userAgent$util_matchUserAgent(\"iPad\") || module$contents$goog$labs$userAgent$util_matchUserAgent(\"iPhone\")) && !module$contents$goog$labs$userAgent$browser_matchSafari() && !module$contents$goog$labs$userAgent$browser_matchChrome() && !module$contents$goog$labs$userAgent$browser_matchCoast() && !module$contents$goog$labs$userAgent$browser_matchFirefox() && module$contents$goog$labs$userAgent$util_matchUserAgent(\"AppleWebKit\");\n}\nfunction module$contents$goog$labs$userAgent$browser_matchChrome() {\n  return module$contents$goog$labs$userAgent$browser_useUserAgentBrand() ? module$contents$goog$labs$userAgent$util_matchUserAgentDataBrand(module$contents$goog$labs$userAgent$browser_Brand.CHROMIUM) : (module$contents$goog$labs$userAgent$util_matchUserAgent(\"Chrome\") || module$contents$goog$labs$userAgent$util_matchUserAgent(\"CriOS\")) && !module$contents$goog$labs$userAgent$browser_matchEdgeHtml();\n}\nfunction module$contents$goog$labs$userAgent$browser_matchAndroidBrowser() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"Android\") && !(module$contents$goog$labs$userAgent$browser_matchChrome() || module$contents$goog$labs$userAgent$browser_matchFirefox() || module$contents$goog$labs$userAgent$browser_matchOpera() || module$contents$goog$labs$userAgent$browser_isSilk());\n}\nvar module$contents$goog$labs$userAgent$browser_isOpera = module$contents$goog$labs$userAgent$browser_matchOpera;\ngoog.labs.userAgent.browser.isOpera = module$contents$goog$labs$userAgent$browser_matchOpera;\nvar module$contents$goog$labs$userAgent$browser_isIE = module$contents$goog$labs$userAgent$browser_matchIE;\ngoog.labs.userAgent.browser.isIE = module$contents$goog$labs$userAgent$browser_matchIE;\nvar module$contents$goog$labs$userAgent$browser_isEdge = module$contents$goog$labs$userAgent$browser_matchEdgeHtml;\ngoog.labs.userAgent.browser.isEdge = module$contents$goog$labs$userAgent$browser_matchEdgeHtml;\nvar module$contents$goog$labs$userAgent$browser_isEdgeChromium = module$contents$goog$labs$userAgent$browser_matchEdgeChromium;\ngoog.labs.userAgent.browser.isEdgeChromium = module$contents$goog$labs$userAgent$browser_matchEdgeChromium;\nvar module$contents$goog$labs$userAgent$browser_isOperaChromium = module$contents$goog$labs$userAgent$browser_matchOperaChromium;\ngoog.labs.userAgent.browser.isOperaChromium = module$contents$goog$labs$userAgent$browser_matchOperaChromium;\nvar module$contents$goog$labs$userAgent$browser_isFirefox = module$contents$goog$labs$userAgent$browser_matchFirefox;\ngoog.labs.userAgent.browser.isFirefox = module$contents$goog$labs$userAgent$browser_matchFirefox;\nvar module$contents$goog$labs$userAgent$browser_isSafari = module$contents$goog$labs$userAgent$browser_matchSafari;\ngoog.labs.userAgent.browser.isSafari = module$contents$goog$labs$userAgent$browser_matchSafari;\nvar module$contents$goog$labs$userAgent$browser_isCoast = module$contents$goog$labs$userAgent$browser_matchCoast;\ngoog.labs.userAgent.browser.isCoast = module$contents$goog$labs$userAgent$browser_matchCoast;\nvar module$contents$goog$labs$userAgent$browser_isIosWebview = module$contents$goog$labs$userAgent$browser_matchIosWebview;\ngoog.labs.userAgent.browser.isIosWebview = module$contents$goog$labs$userAgent$browser_matchIosWebview;\nvar module$contents$goog$labs$userAgent$browser_isChrome = module$contents$goog$labs$userAgent$browser_matchChrome;\ngoog.labs.userAgent.browser.isChrome = module$contents$goog$labs$userAgent$browser_matchChrome;\nvar module$contents$goog$labs$userAgent$browser_isAndroidBrowser = module$contents$goog$labs$userAgent$browser_matchAndroidBrowser;\ngoog.labs.userAgent.browser.isAndroidBrowser = module$contents$goog$labs$userAgent$browser_matchAndroidBrowser;\nfunction module$contents$goog$labs$userAgent$browser_isSilk() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"Silk\");\n}\ngoog.labs.userAgent.browser.isSilk = module$contents$goog$labs$userAgent$browser_isSilk;\nfunction module$contents$goog$labs$userAgent$browser_createVersionMap(versionTuples) {\n  var versionMap = {};\n  versionTuples.forEach(function(tuple) {\n    versionMap[tuple[0]] = tuple[1];\n  });\n  return function(keys) {\n    return versionMap[keys.find(function(key) {\n      return key in versionMap;\n    })] || \"\";\n  };\n}\nfunction module$contents$goog$labs$userAgent$browser_getVersion() {\n  var userAgentString = module$contents$goog$labs$userAgent$util_getUserAgent();\n  if (module$contents$goog$labs$userAgent$browser_matchIE()) {\n    return module$contents$goog$labs$userAgent$browser_getIEVersion(userAgentString);\n  }\n  var versionTuples = module$contents$goog$labs$userAgent$util_extractVersionTuples(userAgentString), lookUpValueWithKeys = module$contents$goog$labs$userAgent$browser_createVersionMap(versionTuples);\n  if (module$contents$goog$labs$userAgent$browser_matchOpera()) {\n    return lookUpValueWithKeys([\"Version\", \"Opera\"]);\n  }\n  if (module$contents$goog$labs$userAgent$browser_matchEdgeHtml()) {\n    return lookUpValueWithKeys([\"Edge\"]);\n  }\n  if (module$contents$goog$labs$userAgent$browser_matchEdgeChromium()) {\n    return lookUpValueWithKeys([\"Edg\"]);\n  }\n  if (module$contents$goog$labs$userAgent$browser_matchChrome()) {\n    return lookUpValueWithKeys([\"Chrome\", \"CriOS\", \"HeadlessChrome\"]);\n  }\n  var tuple = versionTuples[2];\n  return tuple && tuple[1] || \"\";\n}\ngoog.labs.userAgent.browser.getVersion = module$contents$goog$labs$userAgent$browser_getVersion;\ngoog.labs.userAgent.browser.isVersionOrHigher = function module$contents$goog$labs$userAgent$browser_isVersionOrHigher(version) {\n  return 0 <= (0,goog.string.internal.compareVersions)(module$contents$goog$labs$userAgent$browser_getVersion(), version);\n};\nfunction module$contents$goog$labs$userAgent$browser_getIEVersion(userAgent) {\n  var rv = /rv: *([\\d\\.]*)/.exec(userAgent);\n  if (rv && rv[1]) {\n    return rv[1];\n  }\n  var version = \"\", msie = /MSIE +([\\d\\.]+)/.exec(userAgent);\n  if (msie && msie[1]) {\n    var tridentVersion = /Trident\\/(\\d.\\d)/.exec(userAgent);\n    if (\"7.0\" == msie[1]) {\n      if (tridentVersion && tridentVersion[1]) {\n        switch(tridentVersion[1]) {\n          case \"4.0\":\n            version = \"8.0\";\n            break;\n          case \"5.0\":\n            version = \"9.0\";\n            break;\n          case \"6.0\":\n            version = \"10.0\";\n            break;\n          case \"7.0\":\n            version = \"11.0\";\n        }\n      } else {\n        version = \"7.0\";\n      }\n    } else {\n      version = msie[1];\n    }\n  }\n  return version;\n}\nfunction module$contents$goog$labs$userAgent$browser_getFullVersionFromUserAgentString(browser) {\n  var userAgentString = module$contents$goog$labs$userAgent$util_getUserAgent();\n  if (browser === module$contents$goog$labs$userAgent$browser_Brand.IE) {\n    return module$contents$goog$labs$userAgent$browser_matchIE() ? module$contents$goog$labs$userAgent$browser_getIEVersion(userAgentString) : \"\";\n  }\n  var versionTuples = module$contents$goog$labs$userAgent$util_extractVersionTuples(userAgentString), lookUpValueWithKeys = module$contents$goog$labs$userAgent$browser_createVersionMap(versionTuples);\n  switch(browser) {\n    case module$contents$goog$labs$userAgent$browser_Brand.OPERA:\n      if (module$contents$goog$labs$userAgent$browser_matchOpera()) {\n        return lookUpValueWithKeys([\"Version\", \"Opera\"]);\n      }\n      if (module$contents$goog$labs$userAgent$browser_matchOperaChromium()) {\n        return lookUpValueWithKeys([\"OPR\"]);\n      }\n      break;\n    case module$contents$goog$labs$userAgent$browser_Brand.EDGE:\n      if (module$contents$goog$labs$userAgent$browser_matchEdgeHtml()) {\n        return lookUpValueWithKeys([\"Edge\"]);\n      }\n      if (module$contents$goog$labs$userAgent$browser_matchEdgeChromium()) {\n        return lookUpValueWithKeys([\"Edg\"]);\n      }\n      break;\n    case module$contents$goog$labs$userAgent$browser_Brand.CHROMIUM:\n      if (module$contents$goog$labs$userAgent$browser_matchChrome()) {\n        return lookUpValueWithKeys([\"Chrome\", \"CriOS\", \"HeadlessChrome\"]);\n      }\n  }\n  if (browser === module$contents$goog$labs$userAgent$browser_Brand.FIREFOX && module$contents$goog$labs$userAgent$browser_matchFirefox() || browser === module$contents$goog$labs$userAgent$browser_Brand.SAFARI && module$contents$goog$labs$userAgent$browser_matchSafari() || browser === module$contents$goog$labs$userAgent$browser_Brand.ANDROID_BROWSER && module$contents$goog$labs$userAgent$browser_matchAndroidBrowser()) {\n    var tuple = versionTuples[2];\n    return tuple && tuple[1] || \"\";\n  }\n  return \"\";\n}\nfunction module$contents$goog$labs$userAgent$browser_versionOf(browser) {\n  if (module$contents$goog$labs$userAgent$browser_useUserAgentBrand()) {\n    var matchingBrand = module$contents$goog$labs$userAgent$util_getUserAgentData().brands.find(function($jscomp$destructuring$var2) {\n      return $jscomp$destructuring$var2.brand === browser;\n    });\n    if (!matchingBrand || !matchingBrand.version) {\n      return NaN;\n    }\n    var versionParts = matchingBrand.version.split(\".\");\n  } else {\n    var fullVersion = module$contents$goog$labs$userAgent$browser_getFullVersionFromUserAgentString(browser);\n    if (\"\" === fullVersion) {\n      return NaN;\n    }\n    versionParts = fullVersion.split(\".\");\n  }\n  return 0 === versionParts.length ? NaN : Number(versionParts[0]);\n}\ngoog.labs.userAgent.browser.versionOf = module$contents$goog$labs$userAgent$browser_versionOf;\nvar module$contents$goog$labs$userAgent$browser_HighEntropyBrandVersion = function(brand) {\n  this.brand_ = brand;\n};\nmodule$contents$goog$labs$userAgent$browser_HighEntropyBrandVersion.prototype.getIfLoaded = function() {\n  var $jscomp$this = this, loadedVersionList = module$exports$goog$labs$userAgent$highEntropy$highEntropyData.fullVersionList.getIfLoaded();\n  if (void 0 !== loadedVersionList) {\n    var matchingBrand = loadedVersionList.find(function($jscomp$destructuring$var4) {\n      return $jscomp$this.brand_ === $jscomp$destructuring$var4.brand;\n    });\n    goog.asserts.assertExists(matchingBrand);\n    return new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(matchingBrand.version);\n  }\n};\nmodule$contents$goog$labs$userAgent$browser_HighEntropyBrandVersion.prototype.load = function() {\n  var $jscomp$async$this = this, loadedVersionList, matchingBrand;\n  return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context) {\n    if (1 == $jscomp$generator$context.nextAddress) {\n      return $jscomp$generator$context.yield(module$exports$goog$labs$userAgent$highEntropy$highEntropyData.fullVersionList.load(), 2);\n    }\n    loadedVersionList = $jscomp$generator$context.yieldResult;\n    matchingBrand = loadedVersionList.find(function($jscomp$destructuring$var6) {\n      return $jscomp$async$this.brand_ === $jscomp$destructuring$var6.brand;\n    });\n    goog.asserts.assertExists(matchingBrand);\n    return $jscomp$generator$context.return(new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(matchingBrand.version));\n  });\n};\nvar module$contents$goog$labs$userAgent$browser_UserAgentStringFallbackBrandVersion = function(versionString) {\n  this.version_ = new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(versionString);\n};\nmodule$contents$goog$labs$userAgent$browser_UserAgentStringFallbackBrandVersion.prototype.getIfLoaded = function() {\n  return this.version_;\n};\nmodule$contents$goog$labs$userAgent$browser_UserAgentStringFallbackBrandVersion.prototype.load = function() {\n  var $jscomp$async$this = this;\n  return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context) {\n    return $jscomp$generator$context.return($jscomp$async$this.version_);\n  });\n};\nfunction module$contents$goog$labs$userAgent$browser_fullVersionOf(browser) {\n  if (!module$contents$goog$labs$userAgent$browser_useUserAgentBrand() || 101 > module$contents$goog$labs$userAgent$browser_versionOf(module$contents$goog$labs$userAgent$browser_Brand.CHROMIUM)) {\n    var fullVersionFromUserAgentString = module$contents$goog$labs$userAgent$browser_getFullVersionFromUserAgentString(browser);\n    return \"\" === fullVersionFromUserAgentString ? void 0 : new module$contents$goog$labs$userAgent$browser_UserAgentStringFallbackBrandVersion(fullVersionFromUserAgentString);\n  }\n  return module$contents$goog$labs$userAgent$util_getUserAgentData().brands.find(function($jscomp$destructuring$var8) {\n    return $jscomp$destructuring$var8.brand === browser;\n  }) ? new module$contents$goog$labs$userAgent$browser_HighEntropyBrandVersion(browser) : void 0;\n}\ngoog.labs.userAgent.browser.fullVersionOf = module$contents$goog$labs$userAgent$browser_fullVersionOf;\ngoog.labs.userAgent.browser.getVersionStringForLogging = function module$contents$goog$labs$userAgent$browser_getVersionStringForLogging(browser) {\n  if (module$contents$goog$labs$userAgent$browser_useUserAgentBrand()) {\n    var fullVersionObj = module$contents$goog$labs$userAgent$browser_fullVersionOf(browser);\n    if (fullVersionObj) {\n      var fullVersion = fullVersionObj.getIfLoaded();\n      if (fullVersion) {\n        return fullVersion.toVersionStringForLogging();\n      }\n      var matchingBrand = module$contents$goog$labs$userAgent$util_getUserAgentData().brands.find(function($jscomp$destructuring$var10) {\n        return $jscomp$destructuring$var10.brand === browser;\n      });\n      goog.asserts.assertExists(matchingBrand);\n      return matchingBrand.version;\n    }\n    return \"\";\n  }\n  return module$contents$goog$labs$userAgent$browser_getFullVersionFromUserAgentString(browser);\n};\ngoog.labs.userAgent.engine = {};\nfunction module$contents$goog$labs$userAgent$engine_isPresto() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"Presto\");\n}\nfunction module$contents$goog$labs$userAgent$engine_isTrident() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"Trident\") || module$contents$goog$labs$userAgent$util_matchUserAgent(\"MSIE\");\n}\nfunction module$contents$goog$labs$userAgent$engine_isEdge() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"Edge\");\n}\nfunction module$contents$goog$labs$userAgent$engine_isWebKit() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgentIgnoreCase(\"WebKit\") && !module$contents$goog$labs$userAgent$engine_isEdge();\n}\nfunction module$contents$goog$labs$userAgent$engine_isGecko() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"Gecko\") && !module$contents$goog$labs$userAgent$engine_isWebKit() && !module$contents$goog$labs$userAgent$engine_isTrident() && !module$contents$goog$labs$userAgent$engine_isEdge();\n}\nfunction module$contents$goog$labs$userAgent$engine_getVersion() {\n  var userAgentString = module$contents$goog$labs$userAgent$util_getUserAgent();\n  if (userAgentString) {\n    var tuples = module$contents$goog$labs$userAgent$util_extractVersionTuples(userAgentString), engineTuple = module$contents$goog$labs$userAgent$engine_getEngineTuple(tuples);\n    if (engineTuple) {\n      return \"Gecko\" == engineTuple[0] ? module$contents$goog$labs$userAgent$engine_getVersionForKey(tuples, \"Firefox\") : engineTuple[1];\n    }\n    var browserTuple = tuples[0], info;\n    if (browserTuple && (info = browserTuple[2])) {\n      var match = /Trident\\/([^\\s;]+)/.exec(info);\n      if (match) {\n        return match[1];\n      }\n    }\n  }\n  return \"\";\n}\nfunction module$contents$goog$labs$userAgent$engine_getEngineTuple(tuples) {\n  if (!module$contents$goog$labs$userAgent$engine_isEdge()) {\n    return tuples[1];\n  }\n  for (var i = 0; i < tuples.length; i++) {\n    var tuple = tuples[i];\n    if (\"Edge\" == tuple[0]) {\n      return tuple;\n    }\n  }\n}\nfunction module$contents$goog$labs$userAgent$engine_getVersionForKey(tuples, key) {\n  var pair = module$contents$goog$array_find(tuples, function(pair) {\n    return key == pair[0];\n  });\n  return pair && pair[1] || \"\";\n}\ngoog.labs.userAgent.engine.getVersion = module$contents$goog$labs$userAgent$engine_getVersion;\ngoog.labs.userAgent.engine.isEdge = module$contents$goog$labs$userAgent$engine_isEdge;\ngoog.labs.userAgent.engine.isGecko = module$contents$goog$labs$userAgent$engine_isGecko;\ngoog.labs.userAgent.engine.isPresto = module$contents$goog$labs$userAgent$engine_isPresto;\ngoog.labs.userAgent.engine.isTrident = module$contents$goog$labs$userAgent$engine_isTrident;\ngoog.labs.userAgent.engine.isVersionOrHigher = function module$contents$goog$labs$userAgent$engine_isVersionOrHigher(version) {\n  return 0 <= goog.string.internal.compareVersions(module$contents$goog$labs$userAgent$engine_getVersion(), version);\n};\ngoog.labs.userAgent.engine.isWebKit = module$contents$goog$labs$userAgent$engine_isWebKit;\ngoog.labs.userAgent.platform = {};\nfunction module$contents$goog$labs$userAgent$platform_isAndroid() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"Android\");\n}\nfunction module$contents$goog$labs$userAgent$platform_isIpod() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"iPod\");\n}\nfunction module$contents$goog$labs$userAgent$platform_isIphone() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"iPhone\") && !module$contents$goog$labs$userAgent$util_matchUserAgent(\"iPod\") && !module$contents$goog$labs$userAgent$util_matchUserAgent(\"iPad\");\n}\nfunction module$contents$goog$labs$userAgent$platform_isIpad() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"iPad\");\n}\nfunction module$contents$goog$labs$userAgent$platform_isIos() {\n  return module$contents$goog$labs$userAgent$platform_isIphone() || module$contents$goog$labs$userAgent$platform_isIpad() || module$contents$goog$labs$userAgent$platform_isIpod();\n}\nfunction module$contents$goog$labs$userAgent$platform_isMacintosh() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"Macintosh\");\n}\nfunction module$contents$goog$labs$userAgent$platform_isLinux() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"Linux\");\n}\nfunction module$contents$goog$labs$userAgent$platform_isWindows() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"Windows\");\n}\nfunction module$contents$goog$labs$userAgent$platform_isChromeOS() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"CrOS\");\n}\nfunction module$contents$goog$labs$userAgent$platform_isKaiOS() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgentIgnoreCase(\"KaiOS\");\n}\nfunction module$contents$goog$labs$userAgent$platform_getVersion() {\n  var userAgentString = module$contents$goog$labs$userAgent$util_getUserAgent(), version = \"\";\n  if (module$contents$goog$labs$userAgent$platform_isWindows()) {\n    var re = /Windows (?:NT|Phone) ([0-9.]+)/;\n    var match = re.exec(userAgentString);\n    version = match ? match[1] : \"0.0\";\n  } else {\n    if (module$contents$goog$labs$userAgent$platform_isIos()) {\n      re = /(?:iPhone|iPod|iPad|CPU)\\s+OS\\s+(\\S+)/;\n      var match$33 = re.exec(userAgentString);\n      version = match$33 && match$33[1].replace(/_/g, \".\");\n    } else {\n      if (module$contents$goog$labs$userAgent$platform_isMacintosh()) {\n        re = /Mac OS X ([0-9_.]+)/;\n        var match$34 = re.exec(userAgentString);\n        version = match$34 ? match$34[1].replace(/_/g, \".\") : \"10\";\n      } else {\n        if (module$contents$goog$labs$userAgent$platform_isKaiOS()) {\n          re = /(?:KaiOS)\\/(\\S+)/i;\n          var match$35 = re.exec(userAgentString);\n          version = match$35 && match$35[1];\n        } else {\n          if (module$contents$goog$labs$userAgent$platform_isAndroid()) {\n            re = /Android\\s+([^\\);]+)(\\)|;)/;\n            var match$36 = re.exec(userAgentString);\n            version = match$36 && match$36[1];\n          } else {\n            if (module$contents$goog$labs$userAgent$platform_isChromeOS()) {\n              re = /(?:CrOS\\s+(?:i686|x86_64)\\s+([0-9.]+))/;\n              var match$37 = re.exec(userAgentString);\n              version = match$37 && match$37[1];\n            }\n          }\n        }\n      }\n    }\n  }\n  return version || \"\";\n}\nvar module$contents$goog$labs$userAgent$platform_PlatformVersion = function() {\n};\nmodule$contents$goog$labs$userAgent$platform_PlatformVersion.prototype.getIfLoaded = function() {\n  if (module$contents$goog$labs$userAgent$util_getUserAgentData()) {\n    var loadedPlatformVersion = module$exports$goog$labs$userAgent$highEntropy$highEntropyData.platformVersion.getIfLoaded();\n    if (void 0 !== loadedPlatformVersion) {\n      return new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(loadedPlatformVersion);\n    }\n  } else {\n    return new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(module$contents$goog$labs$userAgent$platform_getVersion());\n  }\n};\nmodule$contents$goog$labs$userAgent$platform_PlatformVersion.prototype.load = function() {\n  var JSCompiler_temp_const;\n  return $jscomp.asyncExecutePromiseGeneratorProgram(function($jscomp$generator$context) {\n    if (1 == $jscomp$generator$context.nextAddress) {\n      if (!module$contents$goog$labs$userAgent$util_getUserAgentData()) {\n        return $jscomp$generator$context.return(new module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version(module$contents$goog$labs$userAgent$platform_getVersion()));\n        return $jscomp$generator$context.jumpTo(0);\n      }\n      JSCompiler_temp_const = module$exports$goog$labs$userAgent$highEntropy$highEntropyValue.Version;\n      return $jscomp$generator$context.yield(module$exports$goog$labs$userAgent$highEntropy$highEntropyData.platformVersion.load(), 3);\n    }\n    return $jscomp$generator$context.return(new JSCompiler_temp_const($jscomp$generator$context.yieldResult));\n  });\n};\nvar module$contents$goog$labs$userAgent$platform_version = new module$contents$goog$labs$userAgent$platform_PlatformVersion();\ngoog.labs.userAgent.platform.getVersion = module$contents$goog$labs$userAgent$platform_getVersion;\ngoog.labs.userAgent.platform.isAndroid = module$contents$goog$labs$userAgent$platform_isAndroid;\ngoog.labs.userAgent.platform.isChromeOS = module$contents$goog$labs$userAgent$platform_isChromeOS;\ngoog.labs.userAgent.platform.isChromecast = function module$contents$goog$labs$userAgent$platform_isChromecast() {\n  return module$contents$goog$labs$userAgent$util_matchUserAgent(\"CrKey\");\n};\ngoog.labs.userAgent.platform.isIos = module$contents$goog$labs$userAgent$platform_isIos;\ngoog.labs.userAgent.platform.isIpad = module$contents$goog$labs$userAgent$platform_isIpad;\ngoog.labs.userAgent.platform.isIphone = module$contents$goog$labs$userAgent$platform_isIphone;\ngoog.labs.userAgent.platform.isIpod = module$contents$goog$labs$userAgent$platform_isIpod;\ngoog.labs.userAgent.platform.isKaiOS = module$contents$goog$labs$userAgent$platform_isKaiOS;\ngoog.labs.userAgent.platform.isLinux = module$contents$goog$labs$userAgent$platform_isLinux;\ngoog.labs.userAgent.platform.isMacintosh = module$contents$goog$labs$userAgent$platform_isMacintosh;\ngoog.labs.userAgent.platform.isVersionOrHigher = function module$contents$goog$labs$userAgent$platform_isVersionOrHigher(version) {\n  return 0 <= goog.string.internal.compareVersions(module$contents$goog$labs$userAgent$platform_getVersion(), version);\n};\ngoog.labs.userAgent.platform.isWindows = module$contents$goog$labs$userAgent$platform_isWindows;\ngoog.labs.userAgent.platform.version = module$contents$goog$labs$userAgent$platform_version;\ngoog.reflect = {};\ngoog.reflect.object = function(type, object) {\n  return object;\n};\ngoog.reflect.objectProperty = function(prop, object) {\n  return prop;\n};\ngoog.reflect.sinkValue = function(x) {\n  goog.reflect.sinkValue[\" \"](x);\n  return x;\n};\ngoog.reflect.sinkValue[\" \"] = goog.nullFunction;\ngoog.reflect.canAccessProperty = function(obj, prop) {\n  try {\n    return goog.reflect.sinkValue(obj[prop]), !0;\n  } catch (e) {\n  }\n  return !1;\n};\ngoog.reflect.cache = function(cacheObj, key, valueFn, opt_keyFn) {\n  var storedKey = opt_keyFn ? opt_keyFn(key) : key;\n  return Object.prototype.hasOwnProperty.call(cacheObj, storedKey) ? cacheObj[storedKey] : cacheObj[storedKey] = valueFn(key);\n};\ngoog.userAgent = {};\ngoog.userAgent.ASSUME_IE = !1;\ngoog.userAgent.ASSUME_EDGE = !1;\ngoog.userAgent.ASSUME_GECKO = !1;\ngoog.userAgent.ASSUME_WEBKIT = !1;\ngoog.userAgent.ASSUME_MOBILE_WEBKIT = !1;\ngoog.userAgent.ASSUME_OPERA = !1;\ngoog.userAgent.ASSUME_ANY_VERSION = !1;\ngoog.userAgent.BROWSER_KNOWN_ = goog.userAgent.ASSUME_IE || goog.userAgent.ASSUME_EDGE || goog.userAgent.ASSUME_GECKO || goog.userAgent.ASSUME_MOBILE_WEBKIT || goog.userAgent.ASSUME_WEBKIT || goog.userAgent.ASSUME_OPERA;\ngoog.userAgent.getUserAgentString = function() {\n  return module$contents$goog$labs$userAgent$util_getUserAgent();\n};\ngoog.userAgent.getNavigatorTyped = function() {\n  return goog.global.navigator || null;\n};\ngoog.userAgent.getNavigator = function() {\n  return goog.userAgent.getNavigatorTyped();\n};\ngoog.userAgent.OPERA = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_OPERA : module$contents$goog$labs$userAgent$browser_matchOpera();\ngoog.userAgent.IE = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_IE : module$contents$goog$labs$userAgent$browser_matchIE();\ngoog.userAgent.EDGE = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_EDGE : module$contents$goog$labs$userAgent$engine_isEdge();\ngoog.userAgent.EDGE_OR_IE = goog.userAgent.EDGE || goog.userAgent.IE;\ngoog.userAgent.GECKO = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_GECKO : module$contents$goog$labs$userAgent$engine_isGecko();\ngoog.userAgent.WEBKIT = goog.userAgent.BROWSER_KNOWN_ ? goog.userAgent.ASSUME_WEBKIT || goog.userAgent.ASSUME_MOBILE_WEBKIT : module$contents$goog$labs$userAgent$engine_isWebKit();\ngoog.userAgent.isMobile_ = function() {\n  return goog.userAgent.WEBKIT && module$contents$goog$labs$userAgent$util_matchUserAgent(\"Mobile\");\n};\ngoog.userAgent.MOBILE = goog.userAgent.ASSUME_MOBILE_WEBKIT || goog.userAgent.isMobile_();\ngoog.userAgent.SAFARI = goog.userAgent.WEBKIT;\ngoog.userAgent.determinePlatform_ = function() {\n  var navigator = goog.userAgent.getNavigatorTyped();\n  return navigator && navigator.platform || \"\";\n};\ngoog.userAgent.PLATFORM = goog.userAgent.determinePlatform_();\ngoog.userAgent.ASSUME_MAC = !1;\ngoog.userAgent.ASSUME_WINDOWS = !1;\ngoog.userAgent.ASSUME_LINUX = !1;\ngoog.userAgent.ASSUME_X11 = !1;\ngoog.userAgent.ASSUME_ANDROID = !1;\ngoog.userAgent.ASSUME_IPHONE = !1;\ngoog.userAgent.ASSUME_IPAD = !1;\ngoog.userAgent.ASSUME_IPOD = !1;\ngoog.userAgent.ASSUME_KAIOS = !1;\ngoog.userAgent.PLATFORM_KNOWN_ = goog.userAgent.ASSUME_MAC || goog.userAgent.ASSUME_WINDOWS || goog.userAgent.ASSUME_LINUX || goog.userAgent.ASSUME_X11 || goog.userAgent.ASSUME_ANDROID || goog.userAgent.ASSUME_IPHONE || goog.userAgent.ASSUME_IPAD || goog.userAgent.ASSUME_IPOD;\ngoog.userAgent.MAC = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_MAC : module$contents$goog$labs$userAgent$platform_isMacintosh();\ngoog.userAgent.WINDOWS = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_WINDOWS : module$contents$goog$labs$userAgent$platform_isWindows();\ngoog.userAgent.isLegacyLinux_ = function() {\n  return module$contents$goog$labs$userAgent$platform_isLinux() || module$contents$goog$labs$userAgent$platform_isChromeOS();\n};\ngoog.userAgent.LINUX = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_LINUX : goog.userAgent.isLegacyLinux_();\ngoog.userAgent.isX11_ = function() {\n  var navigator = goog.userAgent.getNavigatorTyped();\n  return !!navigator && goog.string.internal.contains(navigator.appVersion || \"\", \"X11\");\n};\ngoog.userAgent.X11 = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_X11 : goog.userAgent.isX11_();\ngoog.userAgent.ANDROID = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_ANDROID : module$contents$goog$labs$userAgent$platform_isAndroid();\ngoog.userAgent.IPHONE = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_IPHONE : module$contents$goog$labs$userAgent$platform_isIphone();\ngoog.userAgent.IPAD = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_IPAD : module$contents$goog$labs$userAgent$platform_isIpad();\ngoog.userAgent.IPOD = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_IPOD : module$contents$goog$labs$userAgent$platform_isIpod();\ngoog.userAgent.IOS = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_IPHONE || goog.userAgent.ASSUME_IPAD || goog.userAgent.ASSUME_IPOD : module$contents$goog$labs$userAgent$platform_isIos();\ngoog.userAgent.KAIOS = goog.userAgent.PLATFORM_KNOWN_ ? goog.userAgent.ASSUME_KAIOS : module$contents$goog$labs$userAgent$platform_isKaiOS();\ngoog.userAgent.determineVersion_ = function() {\n  var version = \"\", arr = goog.userAgent.getVersionRegexResult_();\n  arr && (version = arr ? arr[1] : \"\");\n  if (goog.userAgent.IE) {\n    var docMode = goog.userAgent.getDocumentMode_();\n    if (null != docMode && docMode > parseFloat(version)) {\n      return String(docMode);\n    }\n  }\n  return version;\n};\ngoog.userAgent.getVersionRegexResult_ = function() {\n  var userAgent = goog.userAgent.getUserAgentString();\n  if (goog.userAgent.GECKO) {\n    return /rv:([^\\);]+)(\\)|;)/.exec(userAgent);\n  }\n  if (goog.userAgent.EDGE) {\n    return /Edge\\/([\\d\\.]+)/.exec(userAgent);\n  }\n  if (goog.userAgent.IE) {\n    return /\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(userAgent);\n  }\n  if (goog.userAgent.WEBKIT) {\n    return /WebKit\\/(\\S+)/.exec(userAgent);\n  }\n  if (goog.userAgent.OPERA) {\n    return /(?:Version)[ \\/]?(\\S+)/.exec(userAgent);\n  }\n};\ngoog.userAgent.getDocumentMode_ = function() {\n  var doc = goog.global.document;\n  return doc ? doc.documentMode : void 0;\n};\ngoog.userAgent.VERSION = goog.userAgent.determineVersion_();\ngoog.userAgent.compare = function(v1, v2) {\n  return goog.string.internal.compareVersions(v1, v2);\n};\ngoog.userAgent.isVersionOrHigherCache_ = {};\ngoog.userAgent.isVersionOrHigher = function(version) {\n  return goog.userAgent.ASSUME_ANY_VERSION || goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_, version, function() {\n    return 0 <= goog.string.internal.compareVersions(goog.userAgent.VERSION, version);\n  });\n};\ngoog.userAgent.isDocumentModeOrHigher = function(documentMode) {\n  return Number(goog.userAgent.DOCUMENT_MODE) >= documentMode;\n};\ngoog.userAgent.isDocumentMode = goog.userAgent.isDocumentModeOrHigher;\ngoog.userAgent.DOCUMENT_MODE = function() {\n  if (goog.global.document && goog.userAgent.IE) {\n    var documentMode = goog.userAgent.getDocumentMode_();\n    return documentMode ? documentMode : parseInt(goog.userAgent.VERSION, 10) || void 0;\n  }\n}();\ngoog.events.MouseEvents = {};\ngoog.events.getVendorPrefixedName_ = function(eventName) {\n  return goog.userAgent.WEBKIT ? \"webkit\" + eventName : eventName.toLowerCase();\n};\ngoog.events.EventType = {CLICK:\"click\", RIGHTCLICK:\"rightclick\", DBLCLICK:\"dblclick\", AUXCLICK:\"auxclick\", MOUSEDOWN:\"mousedown\", MOUSEUP:\"mouseup\", MOUSEOVER:\"mouseover\", MOUSEOUT:\"mouseout\", MOUSEMOVE:\"mousemove\", MOUSEENTER:\"mouseenter\", MOUSELEAVE:\"mouseleave\", MOUSECANCEL:\"mousecancel\", SELECTIONCHANGE:\"selectionchange\", SELECTSTART:\"selectstart\", WHEEL:\"wheel\", KEYPRESS:\"keypress\", KEYDOWN:\"keydown\", KEYUP:\"keyup\", BLUR:\"blur\", FOCUS:\"focus\", DEACTIVATE:\"deactivate\", FOCUSIN:\"focusin\", FOCUSOUT:\"focusout\", \nCHANGE:\"change\", RESET:\"reset\", SELECT:\"select\", SUBMIT:\"submit\", INPUT:\"input\", PROPERTYCHANGE:\"propertychange\", DRAGSTART:\"dragstart\", DRAG:\"drag\", DRAGENTER:\"dragenter\", DRAGOVER:\"dragover\", DRAGLEAVE:\"dragleave\", DROP:\"drop\", DRAGEND:\"dragend\", TOUCHSTART:\"touchstart\", TOUCHMOVE:\"touchmove\", TOUCHEND:\"touchend\", TOUCHCANCEL:\"touchcancel\", BEFOREUNLOAD:\"beforeunload\", CONSOLEMESSAGE:\"consolemessage\", CONTEXTMENU:\"contextmenu\", DEVICECHANGE:\"devicechange\", DEVICEMOTION:\"devicemotion\", DEVICEORIENTATION:\"deviceorientation\", \nDOMCONTENTLOADED:\"DOMContentLoaded\", ERROR:\"error\", HELP:\"help\", LOAD:\"load\", LOSECAPTURE:\"losecapture\", ORIENTATIONCHANGE:\"orientationchange\", READYSTATECHANGE:\"readystatechange\", RESIZE:\"resize\", SCROLL:\"scroll\", UNLOAD:\"unload\", CANPLAY:\"canplay\", CANPLAYTHROUGH:\"canplaythrough\", DURATIONCHANGE:\"durationchange\", EMPTIED:\"emptied\", ENDED:\"ended\", LOADEDDATA:\"loadeddata\", LOADEDMETADATA:\"loadedmetadata\", PAUSE:\"pause\", PLAY:\"play\", PLAYING:\"playing\", PROGRESS:\"progress\", RATECHANGE:\"ratechange\", \nSEEKED:\"seeked\", SEEKING:\"seeking\", STALLED:\"stalled\", SUSPEND:\"suspend\", TIMEUPDATE:\"timeupdate\", VOLUMECHANGE:\"volumechange\", WAITING:\"waiting\", SOURCEOPEN:\"sourceopen\", SOURCEENDED:\"sourceended\", SOURCECLOSED:\"sourceclosed\", ABORT:\"abort\", UPDATE:\"update\", UPDATESTART:\"updatestart\", UPDATEEND:\"updateend\", HASHCHANGE:\"hashchange\", PAGEHIDE:\"pagehide\", PAGESHOW:\"pageshow\", POPSTATE:\"popstate\", COPY:\"copy\", PASTE:\"paste\", CUT:\"cut\", BEFORECOPY:\"beforecopy\", BEFORECUT:\"beforecut\", BEFOREPASTE:\"beforepaste\", \nONLINE:\"online\", OFFLINE:\"offline\", MESSAGE:\"message\", CONNECT:\"connect\", INSTALL:\"install\", ACTIVATE:\"activate\", FETCH:\"fetch\", FOREIGNFETCH:\"foreignfetch\", MESSAGEERROR:\"messageerror\", STATECHANGE:\"statechange\", UPDATEFOUND:\"updatefound\", CONTROLLERCHANGE:\"controllerchange\", ANIMATIONSTART:goog.events.getVendorPrefixedName_(\"AnimationStart\"), ANIMATIONEND:goog.events.getVendorPrefixedName_(\"AnimationEnd\"), ANIMATIONITERATION:goog.events.getVendorPrefixedName_(\"AnimationIteration\"), TRANSITIONEND:goog.events.getVendorPrefixedName_(\"TransitionEnd\"), \nPOINTERDOWN:\"pointerdown\", POINTERUP:\"pointerup\", POINTERCANCEL:\"pointercancel\", POINTERMOVE:\"pointermove\", POINTEROVER:\"pointerover\", POINTEROUT:\"pointerout\", POINTERENTER:\"pointerenter\", POINTERLEAVE:\"pointerleave\", GOTPOINTERCAPTURE:\"gotpointercapture\", LOSTPOINTERCAPTURE:\"lostpointercapture\", MSGESTURECHANGE:\"MSGestureChange\", MSGESTUREEND:\"MSGestureEnd\", MSGESTUREHOLD:\"MSGestureHold\", MSGESTURESTART:\"MSGestureStart\", MSGESTURETAP:\"MSGestureTap\", MSGOTPOINTERCAPTURE:\"MSGotPointerCapture\", MSINERTIASTART:\"MSInertiaStart\", \nMSLOSTPOINTERCAPTURE:\"MSLostPointerCapture\", MSPOINTERCANCEL:\"MSPointerCancel\", MSPOINTERDOWN:\"MSPointerDown\", MSPOINTERENTER:\"MSPointerEnter\", MSPOINTERHOVER:\"MSPointerHover\", MSPOINTERLEAVE:\"MSPointerLeave\", MSPOINTERMOVE:\"MSPointerMove\", MSPOINTEROUT:\"MSPointerOut\", MSPOINTEROVER:\"MSPointerOver\", MSPOINTERUP:\"MSPointerUp\", TEXT:\"text\", TEXTINPUT:goog.userAgent.IE ? \"textinput\" : \"textInput\", COMPOSITIONSTART:\"compositionstart\", COMPOSITIONUPDATE:\"compositionupdate\", COMPOSITIONEND:\"compositionend\", \nBEFOREINPUT:\"beforeinput\", EXIT:\"exit\", LOADABORT:\"loadabort\", LOADCOMMIT:\"loadcommit\", LOADREDIRECT:\"loadredirect\", LOADSTART:\"loadstart\", LOADSTOP:\"loadstop\", RESPONSIVE:\"responsive\", SIZECHANGED:\"sizechanged\", UNRESPONSIVE:\"unresponsive\", VISIBILITYCHANGE:\"visibilitychange\", STORAGE:\"storage\", DOMSUBTREEMODIFIED:\"DOMSubtreeModified\", DOMNODEINSERTED:\"DOMNodeInserted\", DOMNODEREMOVED:\"DOMNodeRemoved\", DOMNODEREMOVEDFROMDOCUMENT:\"DOMNodeRemovedFromDocument\", DOMNODEINSERTEDINTODOCUMENT:\"DOMNodeInsertedIntoDocument\", \nDOMATTRMODIFIED:\"DOMAttrModified\", DOMCHARACTERDATAMODIFIED:\"DOMCharacterDataModified\", BEFOREPRINT:\"beforeprint\", AFTERPRINT:\"afterprint\", BEFOREINSTALLPROMPT:\"beforeinstallprompt\", APPINSTALLED:\"appinstalled\"};\ngoog.events.getPointerFallbackEventName_ = function(pointerEventName, msPointerEventName, fallbackEventName) {\n  return goog.events.BrowserFeature.POINTER_EVENTS ? pointerEventName : goog.events.BrowserFeature.MSPOINTER_EVENTS ? msPointerEventName : fallbackEventName;\n};\ngoog.events.PointerFallbackEventType = {POINTERDOWN:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERDOWN, goog.events.EventType.MSPOINTERDOWN, goog.events.EventType.MOUSEDOWN), POINTERUP:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERUP, goog.events.EventType.MSPOINTERUP, goog.events.EventType.MOUSEUP), POINTERCANCEL:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERCANCEL, goog.events.EventType.MSPOINTERCANCEL, goog.events.EventType.MOUSECANCEL), \nPOINTERMOVE:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERMOVE, goog.events.EventType.MSPOINTERMOVE, goog.events.EventType.MOUSEMOVE), POINTEROVER:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTEROVER, goog.events.EventType.MSPOINTEROVER, goog.events.EventType.MOUSEOVER), POINTEROUT:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTEROUT, goog.events.EventType.MSPOINTEROUT, goog.events.EventType.MOUSEOUT), POINTERENTER:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERENTER, \ngoog.events.EventType.MSPOINTERENTER, goog.events.EventType.MOUSEENTER), POINTERLEAVE:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERLEAVE, goog.events.EventType.MSPOINTERLEAVE, goog.events.EventType.MOUSELEAVE)};\ngoog.events.PointerTouchFallbackEventType = {POINTERDOWN:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERDOWN, goog.events.EventType.MSPOINTERDOWN, goog.events.EventType.TOUCHSTART), POINTERUP:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERUP, goog.events.EventType.MSPOINTERUP, goog.events.EventType.TOUCHEND), POINTERCANCEL:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERCANCEL, goog.events.EventType.MSPOINTERCANCEL, goog.events.EventType.TOUCHCANCEL), \nPOINTERMOVE:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERMOVE, goog.events.EventType.MSPOINTERMOVE, goog.events.EventType.TOUCHMOVE)};\ngoog.events.PointerAsMouseEventType = {MOUSEDOWN:goog.events.PointerFallbackEventType.POINTERDOWN, MOUSEUP:goog.events.PointerFallbackEventType.POINTERUP, MOUSECANCEL:goog.events.PointerFallbackEventType.POINTERCANCEL, MOUSEMOVE:goog.events.PointerFallbackEventType.POINTERMOVE, MOUSEOVER:goog.events.PointerFallbackEventType.POINTEROVER, MOUSEOUT:goog.events.PointerFallbackEventType.POINTEROUT, MOUSEENTER:goog.events.PointerFallbackEventType.POINTERENTER, MOUSELEAVE:goog.events.PointerFallbackEventType.POINTERLEAVE};\ngoog.events.MouseAsMouseEventType = {MOUSEDOWN:goog.events.EventType.MOUSEDOWN, MOUSEUP:goog.events.EventType.MOUSEUP, MOUSECANCEL:goog.events.EventType.MOUSECANCEL, MOUSEMOVE:goog.events.EventType.MOUSEMOVE, MOUSEOVER:goog.events.EventType.MOUSEOVER, MOUSEOUT:goog.events.EventType.MOUSEOUT, MOUSEENTER:goog.events.EventType.MOUSEENTER, MOUSELEAVE:goog.events.EventType.MOUSELEAVE};\ngoog.events.PointerAsTouchEventType = {TOUCHCANCEL:goog.events.PointerTouchFallbackEventType.POINTERCANCEL, TOUCHEND:goog.events.PointerTouchFallbackEventType.POINTERUP, TOUCHMOVE:goog.events.PointerTouchFallbackEventType.POINTERMOVE, TOUCHSTART:goog.events.PointerTouchFallbackEventType.POINTERDOWN};\ngoog.events.USE_LAYER_XY_AS_OFFSET_XY = !1;\ngoog.events.BrowserEvent = function(opt_e, opt_currentTarget) {\n  goog.events.Event.call(this, opt_e ? opt_e.type : \"\");\n  this.relatedTarget = this.currentTarget = this.target = null;\n  this.button = this.screenY = this.screenX = this.clientY = this.clientX = this.offsetY = this.offsetX = 0;\n  this.key = \"\";\n  this.charCode = this.keyCode = 0;\n  this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = !1;\n  this.state = null;\n  this.platformModifierKey = !1;\n  this.pointerId = 0;\n  this.pointerType = \"\";\n  this.event_ = null;\n  opt_e && this.init(opt_e, opt_currentTarget);\n};\ngoog.inherits(goog.events.BrowserEvent, goog.events.Event);\ngoog.events.BrowserEvent.MouseButton = {LEFT:0, MIDDLE:1, RIGHT:2};\ngoog.events.BrowserEvent.PointerType = {MOUSE:\"mouse\", PEN:\"pen\", TOUCH:\"touch\"};\ngoog.events.BrowserEvent.IEButtonMap = goog.debug.freeze([1, 4, 2]);\ngoog.events.BrowserEvent.IE_BUTTON_MAP = goog.events.BrowserEvent.IEButtonMap;\ngoog.events.BrowserEvent.IE_POINTER_TYPE_MAP = goog.debug.freeze({2:goog.events.BrowserEvent.PointerType.TOUCH, 3:goog.events.BrowserEvent.PointerType.PEN, 4:goog.events.BrowserEvent.PointerType.MOUSE});\ngoog.events.BrowserEvent.prototype.init = function(e, opt_currentTarget) {\n  var type = this.type = e.type, relevantTouch = e.changedTouches && e.changedTouches.length ? e.changedTouches[0] : null;\n  this.target = e.target || e.srcElement;\n  this.currentTarget = opt_currentTarget;\n  var relatedTarget = e.relatedTarget;\n  relatedTarget ? goog.userAgent.GECKO && (goog.reflect.canAccessProperty(relatedTarget, \"nodeName\") || (relatedTarget = null)) : type == goog.events.EventType.MOUSEOVER ? relatedTarget = e.fromElement : type == goog.events.EventType.MOUSEOUT && (relatedTarget = e.toElement);\n  this.relatedTarget = relatedTarget;\n  relevantTouch ? (this.clientX = void 0 !== relevantTouch.clientX ? relevantTouch.clientX : relevantTouch.pageX, this.clientY = void 0 !== relevantTouch.clientY ? relevantTouch.clientY : relevantTouch.pageY, this.screenX = relevantTouch.screenX || 0, this.screenY = relevantTouch.screenY || 0) : (goog.events.USE_LAYER_XY_AS_OFFSET_XY ? (this.offsetX = void 0 !== e.layerX ? e.layerX : e.offsetX, this.offsetY = void 0 !== e.layerY ? e.layerY : e.offsetY) : (this.offsetX = goog.userAgent.WEBKIT || void 0 !== \n  e.offsetX ? e.offsetX : e.layerX, this.offsetY = goog.userAgent.WEBKIT || void 0 !== e.offsetY ? e.offsetY : e.layerY), this.clientX = void 0 !== e.clientX ? e.clientX : e.pageX, this.clientY = void 0 !== e.clientY ? e.clientY : e.pageY, this.screenX = e.screenX || 0, this.screenY = e.screenY || 0);\n  this.button = e.button;\n  this.keyCode = e.keyCode || 0;\n  this.key = e.key || \"\";\n  this.charCode = e.charCode || (\"keypress\" == type ? e.keyCode : 0);\n  this.ctrlKey = e.ctrlKey;\n  this.altKey = e.altKey;\n  this.shiftKey = e.shiftKey;\n  this.metaKey = e.metaKey;\n  this.platformModifierKey = goog.userAgent.MAC ? e.metaKey : e.ctrlKey;\n  this.pointerId = e.pointerId || 0;\n  this.pointerType = goog.events.BrowserEvent.getPointerType_(e);\n  this.state = e.state;\n  this.event_ = e;\n  e.defaultPrevented && goog.events.BrowserEvent.superClass_.preventDefault.call(this);\n};\ngoog.events.BrowserEvent.prototype.isButton = function(button) {\n  return this.event_.button == button;\n};\ngoog.events.BrowserEvent.prototype.isMouseActionButton = function() {\n  return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT) && !(goog.userAgent.MAC && this.ctrlKey);\n};\ngoog.events.BrowserEvent.prototype.stopPropagation = function() {\n  goog.events.BrowserEvent.superClass_.stopPropagation.call(this);\n  this.event_.stopPropagation ? this.event_.stopPropagation() : this.event_.cancelBubble = !0;\n};\ngoog.events.BrowserEvent.prototype.preventDefault = function() {\n  goog.events.BrowserEvent.superClass_.preventDefault.call(this);\n  var be = this.event_;\n  be.preventDefault ? be.preventDefault() : be.returnValue = !1;\n};\ngoog.events.BrowserEvent.prototype.getBrowserEvent = function() {\n  return this.event_;\n};\ngoog.events.BrowserEvent.getPointerType_ = function(e) {\n  return \"string\" === typeof e.pointerType ? e.pointerType : goog.events.BrowserEvent.IE_POINTER_TYPE_MAP[e.pointerType] || \"\";\n};\ngoog.events.Listenable = function() {\n};\ngoog.events.Listenable.IMPLEMENTED_BY_PROP = \"closure_listenable_\" + (1e6 * Math.random() | 0);\ngoog.events.Listenable.addImplementation = function(cls) {\n  cls.prototype[goog.events.Listenable.IMPLEMENTED_BY_PROP] = !0;\n};\ngoog.events.Listenable.isImplementedBy = function(obj) {\n  return !(!obj || !obj[goog.events.Listenable.IMPLEMENTED_BY_PROP]);\n};\ngoog.events.Listenable.prototype.listen = function(type, listener, opt_useCapture, opt_listenerScope) {\n};\ngoog.events.Listenable.prototype.listenOnce = function(type, listener, opt_useCapture, opt_listenerScope) {\n};\ngoog.events.Listenable.prototype.unlisten = function(type, listener, opt_useCapture, opt_listenerScope) {\n};\ngoog.events.Listenable.prototype.unlistenByKey = function(key) {\n};\ngoog.events.Listenable.prototype.dispatchEvent = function(e) {\n};\ngoog.events.Listenable.prototype.removeAllListeners = function(opt_type) {\n};\ngoog.events.Listenable.prototype.getParentEventTarget = function() {\n};\ngoog.events.Listenable.prototype.fireListeners = function(type, capture, eventObject) {\n};\ngoog.events.Listenable.prototype.getListeners = function(type, capture) {\n};\ngoog.events.Listenable.prototype.getListener = function(type, listener, capture, opt_listenerScope) {\n};\ngoog.events.Listenable.prototype.hasListener = function(opt_type, opt_capture) {\n};\ngoog.events.ListenableKey = function() {\n};\ngoog.events.ListenableKey.counter_ = 0;\ngoog.events.ListenableKey.reserveKey = function() {\n  return ++goog.events.ListenableKey.counter_;\n};\ngoog.events.Listener = function(listener, proxy, src, type, capture, opt_handler) {\n  goog.events.Listener.ENABLE_MONITORING && (this.creationStack = Error().stack);\n  this.listener = listener;\n  this.proxy = proxy;\n  this.src = src;\n  this.type = type;\n  this.capture = !!capture;\n  this.handler = opt_handler;\n  this.key = goog.events.ListenableKey.reserveKey();\n  this.removed = this.callOnce = !1;\n};\ngoog.events.Listener.ENABLE_MONITORING = !1;\ngoog.events.Listener.prototype.markAsRemoved = function() {\n  this.removed = !0;\n  this.handler = this.src = this.proxy = this.listener = null;\n};\ngoog.object = {};\nfunction module$contents$goog$object_forEach(obj, f, opt_obj) {\n  for (var key in obj) {\n    f.call(opt_obj, obj[key], key, obj);\n  }\n}\nfunction module$contents$goog$object_filter(obj, f, opt_obj) {\n  var res = {}, key;\n  for (key in obj) {\n    f.call(opt_obj, obj[key], key, obj) && (res[key] = obj[key]);\n  }\n  return res;\n}\nfunction module$contents$goog$object_map(obj, f, opt_obj) {\n  var res = {}, key;\n  for (key in obj) {\n    res[key] = f.call(opt_obj, obj[key], key, obj);\n  }\n  return res;\n}\nfunction module$contents$goog$object_some(obj, f, opt_obj) {\n  for (var key in obj) {\n    if (f.call(opt_obj, obj[key], key, obj)) {\n      return !0;\n    }\n  }\n  return !1;\n}\nfunction module$contents$goog$object_getCount(obj) {\n  var rv = 0, key;\n  for (key in obj) {\n    rv++;\n  }\n  return rv;\n}\nfunction module$contents$goog$object_contains(obj, val) {\n  return module$contents$goog$object_containsValue(obj, val);\n}\nfunction module$contents$goog$object_getValues(obj) {\n  var res = [], i = 0, key;\n  for (key in obj) {\n    res[i++] = obj[key];\n  }\n  return res;\n}\nfunction module$contents$goog$object_getKeys(obj) {\n  var res = [], i = 0, key;\n  for (key in obj) {\n    res[i++] = key;\n  }\n  return res;\n}\nfunction module$contents$goog$object_containsKey(obj, key) {\n  return null !== obj && key in obj;\n}\nfunction module$contents$goog$object_containsValue(obj, val) {\n  for (var key in obj) {\n    if (obj[key] == val) {\n      return !0;\n    }\n  }\n  return !1;\n}\nfunction module$contents$goog$object_findKey(obj, f, thisObj) {\n  for (var key in obj) {\n    if (f.call(thisObj, obj[key], key, obj)) {\n      return key;\n    }\n  }\n}\nfunction module$contents$goog$object_isEmpty(obj) {\n  for (var key in obj) {\n    return !1;\n  }\n  return !0;\n}\nfunction module$contents$goog$object_clear(obj) {\n  for (var i in obj) {\n    delete obj[i];\n  }\n}\nfunction module$contents$goog$object_remove(obj, key) {\n  var rv;\n  (rv = key in obj) && delete obj[key];\n  return rv;\n}\nfunction module$contents$goog$object_set(obj, key, value) {\n  obj[key] = value;\n}\nfunction module$contents$goog$object_clone(obj) {\n  var res = {}, key;\n  for (key in obj) {\n    res[key] = obj[key];\n  }\n  return res;\n}\nfunction module$contents$goog$object_unsafeClone(obj) {\n  if (!obj || \"object\" !== typeof obj) {\n    return obj;\n  }\n  if (\"function\" === typeof obj.clone) {\n    return obj.clone();\n  }\n  if (\"undefined\" !== typeof Map && obj instanceof Map) {\n    return new Map(obj);\n  }\n  if (\"undefined\" !== typeof Set && obj instanceof Set) {\n    return new Set(obj);\n  }\n  var clone = Array.isArray(obj) ? [] : \"function\" !== typeof ArrayBuffer || \"function\" !== typeof ArrayBuffer.isView || !ArrayBuffer.isView(obj) || obj instanceof DataView ? {} : new obj.constructor(obj.length), key;\n  for (key in obj) {\n    clone[key] = module$contents$goog$object_unsafeClone(obj[key]);\n  }\n  return clone;\n}\nvar module$contents$goog$object_PROTOTYPE_FIELDS = \"constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf\".split(\" \");\nfunction module$contents$goog$object_extend(target, var_args) {\n  for (var key, source, i = 1; i < arguments.length; i++) {\n    source = arguments[i];\n    for (key in source) {\n      target[key] = source[key];\n    }\n    for (var j = 0; j < module$contents$goog$object_PROTOTYPE_FIELDS.length; j++) {\n      key = module$contents$goog$object_PROTOTYPE_FIELDS[j], Object.prototype.hasOwnProperty.call(source, key) && (target[key] = source[key]);\n    }\n  }\n}\nfunction module$contents$goog$object_create(var_args) {\n  var argLength = arguments.length;\n  if (1 == argLength && Array.isArray(arguments[0])) {\n    return module$contents$goog$object_create.apply(null, arguments[0]);\n  }\n  if (argLength % 2) {\n    throw Error(\"Uneven number of arguments\");\n  }\n  for (var rv = {}, i = 0; i < argLength; i += 2) {\n    rv[arguments[i]] = arguments[i + 1];\n  }\n  return rv;\n}\nfunction module$contents$goog$object_createSet(var_args) {\n  var argLength = arguments.length;\n  if (1 == argLength && Array.isArray(arguments[0])) {\n    return module$contents$goog$object_createSet.apply(null, arguments[0]);\n  }\n  for (var rv = {}, i = 0; i < argLength; i++) {\n    rv[arguments[i]] = !0;\n  }\n  return rv;\n}\ngoog.object.add = function module$contents$goog$object_add(obj, key, val) {\n  if (null !== obj && key in obj) {\n    throw Error('The object already contains the key \"' + key + '\"');\n  }\n  module$contents$goog$object_set(obj, key, val);\n};\ngoog.object.clear = module$contents$goog$object_clear;\ngoog.object.clone = module$contents$goog$object_clone;\ngoog.object.contains = module$contents$goog$object_contains;\ngoog.object.containsKey = module$contents$goog$object_containsKey;\ngoog.object.containsValue = module$contents$goog$object_containsValue;\ngoog.object.create = module$contents$goog$object_create;\ngoog.object.createImmutableView = function module$contents$goog$object_createImmutableView(obj) {\n  var result = obj;\n  Object.isFrozen && !Object.isFrozen(obj) && (result = Object.create(obj), Object.freeze(result));\n  return result;\n};\ngoog.object.createSet = module$contents$goog$object_createSet;\ngoog.object.equals = function module$contents$goog$object_equals(a, b) {\n  for (var k in a) {\n    if (!(k in b) || a[k] !== b[k]) {\n      return !1;\n    }\n  }\n  for (var k$38 in b) {\n    if (!(k$38 in a)) {\n      return !1;\n    }\n  }\n  return !0;\n};\ngoog.object.every = function module$contents$goog$object_every(obj, f, opt_obj) {\n  for (var key in obj) {\n    if (!f.call(opt_obj, obj[key], key, obj)) {\n      return !1;\n    }\n  }\n  return !0;\n};\ngoog.object.extend = module$contents$goog$object_extend;\ngoog.object.filter = module$contents$goog$object_filter;\ngoog.object.findKey = module$contents$goog$object_findKey;\ngoog.object.findValue = function module$contents$goog$object_findValue(obj, f, thisObj) {\n  var key = module$contents$goog$object_findKey(obj, f, thisObj);\n  return key && obj[key];\n};\ngoog.object.forEach = module$contents$goog$object_forEach;\ngoog.object.get = function module$contents$goog$object_get(obj, key, val) {\n  return null !== obj && key in obj ? obj[key] : val;\n};\ngoog.object.getAllPropertyNames = function module$contents$goog$object_getAllPropertyNames(obj, includeObjectPrototype, includeFunctionPrototype) {\n  if (!obj) {\n    return [];\n  }\n  if (!Object.getOwnPropertyNames || !Object.getPrototypeOf) {\n    return module$contents$goog$object_getKeys(obj);\n  }\n  for (var visitedSet = {}, proto = obj; proto && (proto !== Object.prototype || includeObjectPrototype) && (proto !== Function.prototype || includeFunctionPrototype);) {\n    for (var names = Object.getOwnPropertyNames(proto), i = 0; i < names.length; i++) {\n      visitedSet[names[i]] = !0;\n    }\n    proto = Object.getPrototypeOf(proto);\n  }\n  return module$contents$goog$object_getKeys(visitedSet);\n};\ngoog.object.getAnyKey = function module$contents$goog$object_getAnyKey(obj) {\n  for (var key in obj) {\n    return key;\n  }\n};\ngoog.object.getAnyValue = function module$contents$goog$object_getAnyValue(obj) {\n  for (var key in obj) {\n    return obj[key];\n  }\n};\ngoog.object.getCount = module$contents$goog$object_getCount;\ngoog.object.getKeys = module$contents$goog$object_getKeys;\ngoog.object.getSuperClass = function module$contents$goog$object_getSuperClass(constructor) {\n  var proto = Object.getPrototypeOf(constructor.prototype);\n  return proto && proto.constructor;\n};\ngoog.object.getValueByKeys = function module$contents$goog$object_getValueByKeys(obj, var_args) {\n  for (var isArrayLike = goog.isArrayLike(var_args), keys = isArrayLike ? var_args : arguments, i = isArrayLike ? 0 : 1; i < keys.length; i++) {\n    if (null == obj) {\n      return;\n    }\n    obj = obj[keys[i]];\n  }\n  return obj;\n};\ngoog.object.getValues = module$contents$goog$object_getValues;\ngoog.object.isEmpty = module$contents$goog$object_isEmpty;\ngoog.object.isImmutableView = function module$contents$goog$object_isImmutableView(obj) {\n  return !!Object.isFrozen && Object.isFrozen(obj);\n};\ngoog.object.map = module$contents$goog$object_map;\ngoog.object.remove = module$contents$goog$object_remove;\ngoog.object.set = module$contents$goog$object_set;\ngoog.object.setIfUndefined = function module$contents$goog$object_setIfUndefined(obj, key, value) {\n  return key in obj ? obj[key] : obj[key] = value;\n};\ngoog.object.setWithReturnValueIfNotSet = function module$contents$goog$object_setWithReturnValueIfNotSet(obj, key, f) {\n  if (key in obj) {\n    return obj[key];\n  }\n  var val = f();\n  return obj[key] = val;\n};\ngoog.object.some = module$contents$goog$object_some;\ngoog.object.transpose = function module$contents$goog$object_transpose(obj) {\n  var transposed = {}, key;\n  for (key in obj) {\n    transposed[obj[key]] = key;\n  }\n  return transposed;\n};\ngoog.object.unsafeClone = module$contents$goog$object_unsafeClone;\ngoog.events.ListenerMap = function(src) {\n  this.src = src;\n  this.listeners = {};\n  this.typeCount_ = 0;\n};\ngoog.events.ListenerMap.prototype.getTypeCount = function() {\n  return this.typeCount_;\n};\ngoog.events.ListenerMap.prototype.getListenerCount = function() {\n  var count = 0, type;\n  for (type in this.listeners) {\n    count += this.listeners[type].length;\n  }\n  return count;\n};\ngoog.events.ListenerMap.prototype.add = function(type, listener, callOnce, opt_useCapture, opt_listenerScope) {\n  var typeStr = type.toString(), listenerArray = this.listeners[typeStr];\n  listenerArray || (listenerArray = this.listeners[typeStr] = [], this.typeCount_++);\n  var index = goog.events.ListenerMap.findListenerIndex_(listenerArray, listener, opt_useCapture, opt_listenerScope);\n  if (-1 < index) {\n    var listenerObj = listenerArray[index];\n    callOnce || (listenerObj.callOnce = !1);\n  } else {\n    listenerObj = new goog.events.Listener(listener, null, this.src, typeStr, !!opt_useCapture, opt_listenerScope), listenerObj.callOnce = callOnce, listenerArray.push(listenerObj);\n  }\n  return listenerObj;\n};\ngoog.events.ListenerMap.prototype.remove = function(type, listener, opt_useCapture, opt_listenerScope) {\n  var typeStr = type.toString();\n  if (!(typeStr in this.listeners)) {\n    return !1;\n  }\n  var listenerArray = this.listeners[typeStr], index = goog.events.ListenerMap.findListenerIndex_(listenerArray, listener, opt_useCapture, opt_listenerScope);\n  return -1 < index ? (listenerArray[index].markAsRemoved(), module$contents$goog$array_removeAt(listenerArray, index), 0 == listenerArray.length && (delete this.listeners[typeStr], this.typeCount_--), !0) : !1;\n};\ngoog.events.ListenerMap.prototype.removeByKey = function(listener) {\n  var type = listener.type;\n  if (!(type in this.listeners)) {\n    return !1;\n  }\n  var removed = module$contents$goog$array_remove(this.listeners[type], listener);\n  removed && (listener.markAsRemoved(), 0 == this.listeners[type].length && (delete this.listeners[type], this.typeCount_--));\n  return removed;\n};\ngoog.events.ListenerMap.prototype.removeAll = function(opt_type) {\n  var typeStr = opt_type && opt_type.toString(), count = 0, type;\n  for (type in this.listeners) {\n    if (!typeStr || type == typeStr) {\n      for (var listenerArray = this.listeners[type], i = 0; i < listenerArray.length; i++) {\n        ++count, listenerArray[i].markAsRemoved();\n      }\n      delete this.listeners[type];\n      this.typeCount_--;\n    }\n  }\n  return count;\n};\ngoog.events.ListenerMap.prototype.getListeners = function(type, capture) {\n  var listenerArray = this.listeners[type.toString()], rv = [];\n  if (listenerArray) {\n    for (var i = 0; i < listenerArray.length; ++i) {\n      var listenerObj = listenerArray[i];\n      listenerObj.capture == capture && rv.push(listenerObj);\n    }\n  }\n  return rv;\n};\ngoog.events.ListenerMap.prototype.getListener = function(type, listener, capture, opt_listenerScope) {\n  var listenerArray = this.listeners[type.toString()], i = -1;\n  listenerArray && (i = goog.events.ListenerMap.findListenerIndex_(listenerArray, listener, capture, opt_listenerScope));\n  return -1 < i ? listenerArray[i] : null;\n};\ngoog.events.ListenerMap.prototype.hasListener = function(opt_type, opt_capture) {\n  var hasType = void 0 !== opt_type, typeStr = hasType ? opt_type.toString() : \"\", hasCapture = void 0 !== opt_capture;\n  return module$contents$goog$object_some(this.listeners, function(listenerArray, type) {\n    for (var i = 0; i < listenerArray.length; ++i) {\n      if (!(hasType && listenerArray[i].type != typeStr || hasCapture && listenerArray[i].capture != opt_capture)) {\n        return !0;\n      }\n    }\n    return !1;\n  });\n};\ngoog.events.ListenerMap.findListenerIndex_ = function(listenerArray, listener, opt_useCapture, opt_listenerScope) {\n  for (var i = 0; i < listenerArray.length; ++i) {\n    var listenerObj = listenerArray[i];\n    if (!listenerObj.removed && listenerObj.listener == listener && listenerObj.capture == !!opt_useCapture && listenerObj.handler == opt_listenerScope) {\n      return i;\n    }\n  }\n  return -1;\n};\ngoog.events.Key = {};\ngoog.events.ListenableType = {};\ngoog.events.LISTENER_MAP_PROP_ = \"closure_lm_\" + (1e6 * Math.random() | 0);\ngoog.events.onString_ = \"on\";\ngoog.events.onStringMap_ = {};\ngoog.events.CaptureSimulationMode = {OFF_AND_FAIL:0, OFF_AND_SILENT:1, ON:2};\ngoog.events.CAPTURE_SIMULATION_MODE = 2;\ngoog.events.listenerCountEstimate_ = 0;\ngoog.events.listen = function(src, type, listener, opt_options, opt_handler) {\n  if (opt_options && opt_options.once) {\n    return goog.events.listenOnce(src, type, listener, opt_options, opt_handler);\n  }\n  if (Array.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      goog.events.listen(src, type[i], listener, opt_options, opt_handler);\n    }\n    return null;\n  }\n  listener = goog.events.wrapListener(listener);\n  return goog.events.Listenable.isImplementedBy(src) ? src.listen(type, listener, goog.isObject(opt_options) ? !!opt_options.capture : !!opt_options, opt_handler) : goog.events.listen_(src, type, listener, !1, opt_options, opt_handler);\n};\ngoog.events.listen_ = function(src, type, listener, callOnce, opt_options, opt_handler) {\n  if (!type) {\n    throw Error(\"Invalid event type\");\n  }\n  var capture = goog.isObject(opt_options) ? !!opt_options.capture : !!opt_options, listenerMap = goog.events.getListenerMap_(src);\n  listenerMap || (src[goog.events.LISTENER_MAP_PROP_] = listenerMap = new goog.events.ListenerMap(src));\n  var listenerObj = listenerMap.add(type, listener, callOnce, capture, opt_handler);\n  if (listenerObj.proxy) {\n    return listenerObj;\n  }\n  var proxy = goog.events.getProxy();\n  listenerObj.proxy = proxy;\n  proxy.src = src;\n  proxy.listener = listenerObj;\n  if (src.addEventListener) {\n    goog.events.BrowserFeature.PASSIVE_EVENTS || (opt_options = capture), void 0 === opt_options && (opt_options = !1), src.addEventListener(type.toString(), proxy, opt_options);\n  } else {\n    if (src.attachEvent) {\n      src.attachEvent(goog.events.getOnString_(type.toString()), proxy);\n    } else {\n      if (src.addListener && src.removeListener) {\n        goog.asserts.assert(\"change\" === type, \"MediaQueryList only has a change event\"), src.addListener(proxy);\n      } else {\n        throw Error(\"addEventListener and attachEvent are unavailable.\");\n      }\n    }\n  }\n  goog.events.listenerCountEstimate_++;\n  return listenerObj;\n};\ngoog.events.getProxy = function() {\n  var proxyCallbackFunction = goog.events.handleBrowserEvent_, f = function(eventObject) {\n    return proxyCallbackFunction.call(f.src, f.listener, eventObject);\n  };\n  return f;\n};\ngoog.events.listenOnce = function(src, type, listener, opt_options, opt_handler) {\n  if (Array.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      goog.events.listenOnce(src, type[i], listener, opt_options, opt_handler);\n    }\n    return null;\n  }\n  listener = goog.events.wrapListener(listener);\n  return goog.events.Listenable.isImplementedBy(src) ? src.listenOnce(type, listener, goog.isObject(opt_options) ? !!opt_options.capture : !!opt_options, opt_handler) : goog.events.listen_(src, type, listener, !0, opt_options, opt_handler);\n};\ngoog.events.listenWithWrapper = function(src, wrapper, listener, opt_capt, opt_handler) {\n  wrapper.listen(src, listener, opt_capt, opt_handler);\n};\ngoog.events.unlisten = function(src, type, listener, opt_options, opt_handler) {\n  if (Array.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      goog.events.unlisten(src, type[i], listener, opt_options, opt_handler);\n    }\n    return null;\n  }\n  var capture = goog.isObject(opt_options) ? !!opt_options.capture : !!opt_options;\n  listener = goog.events.wrapListener(listener);\n  if (goog.events.Listenable.isImplementedBy(src)) {\n    return src.unlisten(type, listener, capture, opt_handler);\n  }\n  if (!src) {\n    return !1;\n  }\n  var listenerMap = goog.events.getListenerMap_(src);\n  if (listenerMap) {\n    var listenerObj = listenerMap.getListener(type, listener, capture, opt_handler);\n    if (listenerObj) {\n      return goog.events.unlistenByKey(listenerObj);\n    }\n  }\n  return !1;\n};\ngoog.events.unlistenByKey = function(key) {\n  if (\"number\" === typeof key || !key || key.removed) {\n    return !1;\n  }\n  var src = key.src;\n  if (goog.events.Listenable.isImplementedBy(src)) {\n    return src.unlistenByKey(key);\n  }\n  var type = key.type, proxy = key.proxy;\n  src.removeEventListener ? src.removeEventListener(type, proxy, key.capture) : src.detachEvent ? src.detachEvent(goog.events.getOnString_(type), proxy) : src.addListener && src.removeListener && src.removeListener(proxy);\n  goog.events.listenerCountEstimate_--;\n  var listenerMap = goog.events.getListenerMap_(src);\n  listenerMap ? (listenerMap.removeByKey(key), 0 == listenerMap.getTypeCount() && (listenerMap.src = null, src[goog.events.LISTENER_MAP_PROP_] = null)) : key.markAsRemoved();\n  return !0;\n};\ngoog.events.unlistenWithWrapper = function(src, wrapper, listener, opt_capt, opt_handler) {\n  wrapper.unlisten(src, listener, opt_capt, opt_handler);\n};\ngoog.events.removeAll = function(obj, opt_type) {\n  if (!obj) {\n    return 0;\n  }\n  if (goog.events.Listenable.isImplementedBy(obj)) {\n    return obj.removeAllListeners(opt_type);\n  }\n  var listenerMap = goog.events.getListenerMap_(obj);\n  if (!listenerMap) {\n    return 0;\n  }\n  var count = 0, typeStr = opt_type && opt_type.toString(), type;\n  for (type in listenerMap.listeners) {\n    if (!typeStr || type == typeStr) {\n      for (var listeners = listenerMap.listeners[type].concat(), i = 0; i < listeners.length; ++i) {\n        goog.events.unlistenByKey(listeners[i]) && ++count;\n      }\n    }\n  }\n  return count;\n};\ngoog.events.getListeners = function(obj, type, capture) {\n  if (goog.events.Listenable.isImplementedBy(obj)) {\n    return obj.getListeners(type, capture);\n  }\n  if (!obj) {\n    return [];\n  }\n  var listenerMap = goog.events.getListenerMap_(obj);\n  return listenerMap ? listenerMap.getListeners(type, capture) : [];\n};\ngoog.events.getListener = function(src, type, listener, opt_capt, opt_handler) {\n  listener = goog.events.wrapListener(listener);\n  var capture = !!opt_capt;\n  if (goog.events.Listenable.isImplementedBy(src)) {\n    return src.getListener(type, listener, capture, opt_handler);\n  }\n  if (!src) {\n    return null;\n  }\n  var listenerMap = goog.events.getListenerMap_(src);\n  return listenerMap ? listenerMap.getListener(type, listener, capture, opt_handler) : null;\n};\ngoog.events.hasListener = function(obj, opt_type, opt_capture) {\n  if (goog.events.Listenable.isImplementedBy(obj)) {\n    return obj.hasListener(opt_type, opt_capture);\n  }\n  var listenerMap = goog.events.getListenerMap_(obj);\n  return !!listenerMap && listenerMap.hasListener(opt_type, opt_capture);\n};\ngoog.events.expose = function(e) {\n  var str = [], key;\n  for (key in e) {\n    e[key] && e[key].id ? str.push(key + \" = \" + e[key] + \" (\" + e[key].id + \")\") : str.push(key + \" = \" + e[key]);\n  }\n  return str.join(\"\\n\");\n};\ngoog.events.getOnString_ = function(type) {\n  return type in goog.events.onStringMap_ ? goog.events.onStringMap_[type] : goog.events.onStringMap_[type] = goog.events.onString_ + type;\n};\ngoog.events.fireListeners = function(obj, type, capture, eventObject) {\n  return goog.events.Listenable.isImplementedBy(obj) ? obj.fireListeners(type, capture, eventObject) : goog.events.fireListeners_(obj, type, capture, eventObject);\n};\ngoog.events.fireListeners_ = function(obj, type, capture, eventObject) {\n  var retval = !0, listenerMap = goog.events.getListenerMap_(obj);\n  if (listenerMap) {\n    var listenerArray = listenerMap.listeners[type.toString()];\n    if (listenerArray) {\n      listenerArray = listenerArray.concat();\n      for (var i = 0; i < listenerArray.length; i++) {\n        var listener = listenerArray[i];\n        if (listener && listener.capture == capture && !listener.removed) {\n          var result = goog.events.fireListener(listener, eventObject);\n          retval = retval && !1 !== result;\n        }\n      }\n    }\n  }\n  return retval;\n};\ngoog.events.fireListener = function(listener, eventObject) {\n  var listenerFn = listener.listener, listenerHandler = listener.handler || listener.src;\n  listener.callOnce && goog.events.unlistenByKey(listener);\n  return listenerFn.call(listenerHandler, eventObject);\n};\ngoog.events.getTotalListenerCount = function() {\n  return goog.events.listenerCountEstimate_;\n};\ngoog.events.dispatchEvent = function(src, e) {\n  goog.asserts.assert(goog.events.Listenable.isImplementedBy(src), \"Can not use goog.events.dispatchEvent with non-goog.events.Listenable instance.\");\n  return src.dispatchEvent(e);\n};\ngoog.events.protectBrowserEventEntryPoint = function(errorHandler) {\n  goog.events.handleBrowserEvent_ = errorHandler.protectEntryPoint(goog.events.handleBrowserEvent_);\n};\ngoog.events.handleBrowserEvent_ = function(listener, opt_evt) {\n  return listener.removed ? !0 : goog.events.fireListener(listener, new goog.events.BrowserEvent(opt_evt, this));\n};\ngoog.events.markIeEvent_ = function(e) {\n  var useReturnValue = !1;\n  if (0 == e.keyCode) {\n    try {\n      e.keyCode = -1;\n      return;\n    } catch (ex) {\n      useReturnValue = !0;\n    }\n  }\n  if (useReturnValue || void 0 == e.returnValue) {\n    e.returnValue = !0;\n  }\n};\ngoog.events.isMarkedIeEvent_ = function(e) {\n  return 0 > e.keyCode || void 0 != e.returnValue;\n};\ngoog.events.uniqueIdCounter_ = 0;\ngoog.events.getUniqueId = function(identifier) {\n  return identifier + \"_\" + goog.events.uniqueIdCounter_++;\n};\ngoog.events.getListenerMap_ = function(src) {\n  var listenerMap = src[goog.events.LISTENER_MAP_PROP_];\n  return listenerMap instanceof goog.events.ListenerMap ? listenerMap : null;\n};\ngoog.events.LISTENER_WRAPPER_PROP_ = \"__closure_events_fn_\" + (1e9 * Math.random() >>> 0);\ngoog.events.wrapListener = function(listener) {\n  goog.asserts.assert(listener, \"Listener can not be null.\");\n  if (\"function\" === typeof listener) {\n    return listener;\n  }\n  goog.asserts.assert(listener.handleEvent, \"An object listener must have handleEvent method.\");\n  listener[goog.events.LISTENER_WRAPPER_PROP_] || (listener[goog.events.LISTENER_WRAPPER_PROP_] = function(e) {\n    return listener.handleEvent(e);\n  });\n  return listener[goog.events.LISTENER_WRAPPER_PROP_];\n};\ngoog.debug.entryPointRegistry.register(function(transformer) {\n  goog.events.handleBrowserEvent_ = transformer(goog.events.handleBrowserEvent_);\n});\ngoog.events.EventTarget = function() {\n  goog.Disposable.call(this);\n  this.eventTargetListeners_ = new goog.events.ListenerMap(this);\n  this.actualEventTarget_ = this;\n  this.parentEventTarget_ = null;\n};\ngoog.inherits(goog.events.EventTarget, goog.Disposable);\ngoog.events.Listenable.addImplementation(goog.events.EventTarget);\ngoog.events.EventTarget.MAX_ANCESTORS_ = 1000;\ngoog.events.EventTarget.prototype.getParentEventTarget = function() {\n  return this.parentEventTarget_;\n};\ngoog.events.EventTarget.prototype.setParentEventTarget = function(parent) {\n  this.parentEventTarget_ = parent;\n};\ngoog.events.EventTarget.prototype.addEventListener = function(type, handler, opt_capture, opt_handlerScope) {\n  goog.events.listen(this, type, handler, opt_capture, opt_handlerScope);\n};\ngoog.events.EventTarget.prototype.removeEventListener = function(type, handler, opt_capture, opt_handlerScope) {\n  goog.events.unlisten(this, type, handler, opt_capture, opt_handlerScope);\n};\ngoog.events.EventTarget.prototype.dispatchEvent = function(e) {\n  this.assertInitialized_();\n  var ancestor = this.getParentEventTarget();\n  if (ancestor) {\n    var ancestorsTree = [];\n    for (var ancestorCount = 1; ancestor; ancestor = ancestor.getParentEventTarget()) {\n      ancestorsTree.push(ancestor), goog.asserts.assert(++ancestorCount < goog.events.EventTarget.MAX_ANCESTORS_, \"infinite loop\");\n    }\n  }\n  return goog.events.EventTarget.dispatchEventInternal_(this.actualEventTarget_, e, ancestorsTree);\n};\ngoog.events.EventTarget.prototype.disposeInternal = function() {\n  goog.events.EventTarget.superClass_.disposeInternal.call(this);\n  this.removeAllListeners();\n  this.parentEventTarget_ = null;\n};\ngoog.events.EventTarget.prototype.listen = function(type, listener, opt_useCapture, opt_listenerScope) {\n  this.assertInitialized_();\n  return this.eventTargetListeners_.add(String(type), listener, !1, opt_useCapture, opt_listenerScope);\n};\ngoog.events.EventTarget.prototype.listenOnce = function(type, listener, opt_useCapture, opt_listenerScope) {\n  return this.eventTargetListeners_.add(String(type), listener, !0, opt_useCapture, opt_listenerScope);\n};\ngoog.events.EventTarget.prototype.unlisten = function(type, listener, opt_useCapture, opt_listenerScope) {\n  return this.eventTargetListeners_.remove(String(type), listener, opt_useCapture, opt_listenerScope);\n};\ngoog.events.EventTarget.prototype.unlistenByKey = function(key) {\n  return this.eventTargetListeners_.removeByKey(key);\n};\ngoog.events.EventTarget.prototype.removeAllListeners = function(opt_type) {\n  return this.eventTargetListeners_ ? this.eventTargetListeners_.removeAll(opt_type) : 0;\n};\ngoog.events.EventTarget.prototype.fireListeners = function(type, capture, eventObject) {\n  var listenerArray = this.eventTargetListeners_.listeners[String(type)];\n  if (!listenerArray) {\n    return !0;\n  }\n  listenerArray = listenerArray.concat();\n  for (var rv = !0, i = 0; i < listenerArray.length; ++i) {\n    var listener = listenerArray[i];\n    if (listener && !listener.removed && listener.capture == capture) {\n      var listenerFn = listener.listener, listenerHandler = listener.handler || listener.src;\n      listener.callOnce && this.unlistenByKey(listener);\n      rv = !1 !== listenerFn.call(listenerHandler, eventObject) && rv;\n    }\n  }\n  return rv && !eventObject.defaultPrevented;\n};\ngoog.events.EventTarget.prototype.getListeners = function(type, capture) {\n  return this.eventTargetListeners_.getListeners(String(type), capture);\n};\ngoog.events.EventTarget.prototype.getListener = function(type, listener, capture, opt_listenerScope) {\n  return this.eventTargetListeners_.getListener(String(type), listener, capture, opt_listenerScope);\n};\ngoog.events.EventTarget.prototype.hasListener = function(opt_type, opt_capture) {\n  return this.eventTargetListeners_.hasListener(void 0 !== opt_type ? String(opt_type) : void 0, opt_capture);\n};\ngoog.events.EventTarget.prototype.setTargetForTesting = function(target) {\n  this.actualEventTarget_ = target;\n};\ngoog.events.EventTarget.prototype.assertInitialized_ = function() {\n  goog.asserts.assert(this.eventTargetListeners_, \"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?\");\n};\ngoog.events.EventTarget.dispatchEventInternal_ = function(target, e, opt_ancestorsTree) {\n  var type = e.type || e;\n  if (\"string\" === typeof e) {\n    e = new goog.events.Event(e, target);\n  } else {\n    if (e instanceof goog.events.Event) {\n      e.target = e.target || target;\n    } else {\n      var oldEvent = e;\n      e = new goog.events.Event(type, target);\n      module$contents$goog$object_extend(e, oldEvent);\n    }\n  }\n  var rv = !0;\n  if (opt_ancestorsTree) {\n    for (var i = opt_ancestorsTree.length - 1; !e.hasPropagationStopped() && 0 <= i; i--) {\n      var currentTarget = e.currentTarget = opt_ancestorsTree[i];\n      rv = currentTarget.fireListeners(type, !0, e) && rv;\n    }\n  }\n  e.hasPropagationStopped() || (currentTarget = e.currentTarget = target, rv = currentTarget.fireListeners(type, !0, e) && rv, e.hasPropagationStopped() || (rv = currentTarget.fireListeners(type, !1, e) && rv));\n  if (opt_ancestorsTree) {\n    for (i = 0; !e.hasPropagationStopped() && i < opt_ancestorsTree.length; i++) {\n      currentTarget = e.currentTarget = opt_ancestorsTree[i], rv = currentTarget.fireListeners(type, !1, e) && rv;\n    }\n  }\n  return rv;\n};\ngoog.structs = {};\ngoog.structs.Collection = function() {\n};\ngoog.collections = {};\ngoog.collections.iters = {};\nfunction module$contents$goog$collections$iters_getIterator(iterable) {\n  return iterable[goog.global.Symbol.iterator]();\n}\ngoog.collections.iters.getIterator = module$contents$goog$collections$iters_getIterator;\ngoog.collections.iters.forEach = function(iterable, f) {\n  for (var $jscomp$iter$5 = $jscomp.makeIterator(iterable), $jscomp$key$elem = $jscomp$iter$5.next(); !$jscomp$key$elem.done; $jscomp$key$elem = $jscomp$iter$5.next()) {\n    f($jscomp$key$elem.value);\n  }\n};\nvar module$contents$goog$collections$iters_MapIterator = function(childIter, mapFn) {\n  this.childIterator_ = module$contents$goog$collections$iters_getIterator(childIter);\n  this.mapFn_ = mapFn;\n  this.nextIndex_ = 0;\n};\nmodule$contents$goog$collections$iters_MapIterator.prototype[Symbol.iterator] = function() {\n  return this;\n};\nmodule$contents$goog$collections$iters_MapIterator.prototype.next = function() {\n  var childResult = this.childIterator_.next();\n  return {value:childResult.done ? void 0 : this.mapFn_.call(void 0, childResult.value, this.nextIndex_++), done:childResult.done,};\n};\ngoog.collections.iters.map = function(iterable, f) {\n  return new module$contents$goog$collections$iters_MapIterator(iterable, f);\n};\nvar module$contents$goog$collections$iters_FilterIterator = function(childIter, filterFn) {\n  this.childIter_ = module$contents$goog$collections$iters_getIterator(childIter);\n  this.filterFn_ = filterFn;\n  this.nextIndex_ = 0;\n};\nmodule$contents$goog$collections$iters_FilterIterator.prototype[Symbol.iterator] = function() {\n  return this;\n};\nmodule$contents$goog$collections$iters_FilterIterator.prototype.next = function() {\n  for (;;) {\n    var childResult = this.childIter_.next();\n    if (childResult.done) {\n      return {done:!0, value:void 0};\n    }\n    if (this.filterFn_.call(void 0, childResult.value, this.nextIndex_++)) {\n      return childResult;\n    }\n  }\n};\ngoog.collections.iters.filter = function(iterable, f) {\n  return new module$contents$goog$collections$iters_FilterIterator(iterable, f);\n};\nvar module$contents$goog$collections$iters_ConcatIterator = function(iterators) {\n  this.iterators_ = iterators;\n  this.iterIndex_ = 0;\n};\nmodule$contents$goog$collections$iters_ConcatIterator.prototype[Symbol.iterator] = function() {\n  return this;\n};\nmodule$contents$goog$collections$iters_ConcatIterator.prototype.next = function() {\n  for (; this.iterIndex_ < this.iterators_.length;) {\n    var result = this.iterators_[this.iterIndex_].next();\n    if (!result.done) {\n      return result;\n    }\n    this.iterIndex_++;\n  }\n  return {done:!0};\n};\ngoog.collections.iters.concat = function() {\n  return new module$contents$goog$collections$iters_ConcatIterator($jscomp.getRestArguments.apply(0, arguments).map(module$contents$goog$collections$iters_getIterator));\n};\ngoog.functions = {};\ngoog.functions.constant = function(retValue) {\n  return function() {\n    return retValue;\n  };\n};\ngoog.functions.FALSE = function() {\n  return !1;\n};\ngoog.functions.TRUE = function() {\n  return !0;\n};\ngoog.functions.NULL = function() {\n  return null;\n};\ngoog.functions.UNDEFINED = function() {\n};\ngoog.functions.EMPTY = goog.functions.UNDEFINED;\ngoog.functions.identity = function(opt_returnValue, var_args) {\n  return opt_returnValue;\n};\ngoog.functions.error = function(message) {\n  return function() {\n    throw Error(message);\n  };\n};\ngoog.functions.fail = function(err) {\n  return function() {\n    throw err;\n  };\n};\ngoog.functions.lock = function(f, opt_numArgs) {\n  opt_numArgs = opt_numArgs || 0;\n  return function() {\n    return f.apply(this, Array.prototype.slice.call(arguments, 0, opt_numArgs));\n  };\n};\ngoog.functions.nth = function(n) {\n  return function() {\n    return arguments[n];\n  };\n};\ngoog.functions.partialRight = function(fn, var_args) {\n  var rightArgs = Array.prototype.slice.call(arguments, 1);\n  return function() {\n    var self = this;\n    self === goog.global && (self = void 0);\n    var newArgs = Array.prototype.slice.call(arguments);\n    newArgs.push.apply(newArgs, rightArgs);\n    return fn.apply(self, newArgs);\n  };\n};\ngoog.functions.withReturnValue = function(f, retValue) {\n  return goog.functions.sequence(f, goog.functions.constant(retValue));\n};\ngoog.functions.equalTo = function(value, opt_useLooseComparison) {\n  return function(other) {\n    return opt_useLooseComparison ? value == other : value === other;\n  };\n};\ngoog.functions.compose = function(fn, var_args) {\n  var functions = arguments, length = functions.length;\n  return function() {\n    var result;\n    length && (result = functions[length - 1].apply(this, arguments));\n    for (var i = length - 2; 0 <= i; i--) {\n      result = functions[i].call(this, result);\n    }\n    return result;\n  };\n};\ngoog.functions.sequence = function(var_args) {\n  var functions = arguments, length = functions.length;\n  return function() {\n    for (var result, i = 0; i < length; i++) {\n      result = functions[i].apply(this, arguments);\n    }\n    return result;\n  };\n};\ngoog.functions.and = function(var_args) {\n  var functions = arguments, length = functions.length;\n  return function() {\n    for (var i = 0; i < length; i++) {\n      if (!functions[i].apply(this, arguments)) {\n        return !1;\n      }\n    }\n    return !0;\n  };\n};\ngoog.functions.or = function(var_args) {\n  var functions = arguments, length = functions.length;\n  return function() {\n    for (var i = 0; i < length; i++) {\n      if (functions[i].apply(this, arguments)) {\n        return !0;\n      }\n    }\n    return !1;\n  };\n};\ngoog.functions.not = function(f) {\n  return function() {\n    return !f.apply(this, arguments);\n  };\n};\ngoog.functions.create = function(constructor, var_args) {\n  var temp = function() {\n  };\n  temp.prototype = constructor.prototype;\n  var obj = new temp();\n  constructor.apply(obj, Array.prototype.slice.call(arguments, 1));\n  return obj;\n};\ngoog.functions.CACHE_RETURN_VALUE = !0;\ngoog.functions.cacheReturnValue = function(fn) {\n  var called = !1, value;\n  return function() {\n    if (!goog.functions.CACHE_RETURN_VALUE) {\n      return fn();\n    }\n    called || (value = fn(), called = !0);\n    return value;\n  };\n};\ngoog.functions.once = function(f) {\n  var inner = f;\n  return function() {\n    if (inner) {\n      var tmp = inner;\n      inner = null;\n      tmp();\n    }\n  };\n};\ngoog.functions.debounce = function(f, interval, opt_scope) {\n  var timeout = 0;\n  return function(var_args) {\n    goog.global.clearTimeout(timeout);\n    var args = arguments;\n    timeout = goog.global.setTimeout(function() {\n      f.apply(opt_scope, args);\n    }, interval);\n  };\n};\ngoog.functions.throttle = function(f, interval, opt_scope) {\n  var timeout = 0, shouldFire = !1, storedArgs = [], handleTimeout = function() {\n    timeout = 0;\n    shouldFire && (shouldFire = !1, fire());\n  }, fire = function() {\n    timeout = goog.global.setTimeout(handleTimeout, interval);\n    var args = storedArgs;\n    storedArgs = [];\n    f.apply(opt_scope, args);\n  };\n  return function(var_args) {\n    storedArgs = arguments;\n    timeout ? shouldFire = !0 : fire();\n  };\n};\ngoog.functions.rateLimit = function(f, interval, opt_scope) {\n  var timeout = 0, handleTimeout = function() {\n    timeout = 0;\n  };\n  return function(var_args) {\n    timeout || (timeout = goog.global.setTimeout(handleTimeout, interval), f.apply(opt_scope, arguments));\n  };\n};\ngoog.functions.isFunction = function(val) {\n  return \"function\" === typeof val;\n};\ngoog.math = {};\ngoog.math.randomInt = function(a) {\n  return Math.floor(Math.random() * a);\n};\ngoog.math.uniformRandom = function(a, b) {\n  return a + Math.random() * (b - a);\n};\ngoog.math.clamp = function(value, min, max) {\n  return Math.min(Math.max(value, min), max);\n};\ngoog.math.modulo = function(a, b) {\n  var r = a % b;\n  return 0 > r * b ? r + b : r;\n};\ngoog.math.lerp = function(a, b, x) {\n  return a + x * (b - a);\n};\ngoog.math.nearlyEquals = function(a, b, opt_tolerance) {\n  return Math.abs(a - b) <= (opt_tolerance || 0.000001);\n};\ngoog.math.standardAngle = function(angle) {\n  return goog.math.modulo(angle, 360);\n};\ngoog.math.standardAngleInRadians = function(angle) {\n  return goog.math.modulo(angle, 2 * Math.PI);\n};\ngoog.math.toRadians = function(angleDegrees) {\n  return angleDegrees * Math.PI / 180;\n};\ngoog.math.toDegrees = function(angleRadians) {\n  return 180 * angleRadians / Math.PI;\n};\ngoog.math.angleDx = function(degrees, radius) {\n  return radius * Math.cos(goog.math.toRadians(degrees));\n};\ngoog.math.angleDy = function(degrees, radius) {\n  return radius * Math.sin(goog.math.toRadians(degrees));\n};\ngoog.math.angle = function(x1, y1, x2, y2) {\n  return goog.math.standardAngle(goog.math.toDegrees(Math.atan2(y2 - y1, x2 - x1)));\n};\ngoog.math.angleDifference = function(startAngle, endAngle) {\n  var d = goog.math.standardAngle(endAngle) - goog.math.standardAngle(startAngle);\n  180 < d ? d -= 360 : -180 >= d && (d = 360 + d);\n  return d;\n};\ngoog.math.sign = function(x) {\n  return 0 < x ? 1 : 0 > x ? -1 : x;\n};\ngoog.math.longestCommonSubsequence = function(array1, array2, opt_compareFn, opt_collectorFn) {\n  for (var compare = opt_compareFn || function(a, b) {\n    return a == b;\n  }, collect = opt_collectorFn || function(i1, i2) {\n    return array1[i1];\n  }, length1 = array1.length, length2 = array2.length, arr = [], i = 0; i < length1 + 1; i++) {\n    arr[i] = [], arr[i][0] = 0;\n  }\n  for (var j = 0; j < length2 + 1; j++) {\n    arr[0][j] = 0;\n  }\n  for (i = 1; i <= length1; i++) {\n    for (j = 1; j <= length2; j++) {\n      compare(array1[i - 1], array2[j - 1]) ? arr[i][j] = arr[i - 1][j - 1] + 1 : arr[i][j] = Math.max(arr[i - 1][j], arr[i][j - 1]);\n    }\n  }\n  var result = [];\n  i = length1;\n  for (j = length2; 0 < i && 0 < j;) {\n    compare(array1[i - 1], array2[j - 1]) ? (result.unshift(collect(i - 1, j - 1)), i--, j--) : arr[i - 1][j] > arr[i][j - 1] ? i-- : j--;\n  }\n  return result;\n};\ngoog.math.sum = function(var_args) {\n  return Array.prototype.reduce.call(arguments, function(sum, value) {\n    return sum + value;\n  }, 0);\n};\ngoog.math.average = function(var_args) {\n  return goog.math.sum.apply(null, arguments) / arguments.length;\n};\ngoog.math.sampleVariance = function(var_args) {\n  var sampleSize = arguments.length;\n  if (2 > sampleSize) {\n    return 0;\n  }\n  var mean = goog.math.average.apply(null, arguments);\n  return goog.math.sum.apply(null, Array.prototype.map.call(arguments, function(val) {\n    return Math.pow(val - mean, 2);\n  })) / (sampleSize - 1);\n};\ngoog.math.standardDeviation = function(var_args) {\n  return Math.sqrt(goog.math.sampleVariance.apply(null, arguments));\n};\ngoog.math.isInt = function(num) {\n  return isFinite(num) && 0 == num % 1;\n};\ngoog.math.isFiniteNumber = function(num) {\n  return isFinite(num);\n};\ngoog.math.isNegativeZero = function(num) {\n  return 0 == num && 0 > 1 / num;\n};\ngoog.math.log10Floor = function(num) {\n  if (0 < num) {\n    var x = Math.round(Math.log(num) * Math.LOG10E);\n    return x - (parseFloat(\"1e\" + x) > num ? 1 : 0);\n  }\n  return 0 == num ? -Infinity : NaN;\n};\ngoog.math.safeFloor = function(num, opt_epsilon) {\n  goog.asserts.assert(void 0 === opt_epsilon || 0 < opt_epsilon);\n  return Math.floor(num + (opt_epsilon || 2e-15));\n};\ngoog.math.safeCeil = function(num, opt_epsilon) {\n  goog.asserts.assert(void 0 === opt_epsilon || 0 < opt_epsilon);\n  return Math.ceil(num - (opt_epsilon || 2e-15));\n};\ngoog.iter = {};\ngoog.iter.Iterable = {};\ngoog.iter.StopIteration = \"StopIteration\" in goog.global ? goog.global.StopIteration : {message:\"StopIteration\", stack:\"\"};\ngoog.iter.Iterator = function() {\n};\ngoog.iter.Iterator.prototype.nextValueOrThrow = function() {\n  throw goog.iter.StopIteration;\n};\ngoog.iter.Iterator.prototype.next = function() {\n  return goog.iter.ES6_ITERATOR_DONE;\n};\ngoog.iter.ES6_ITERATOR_DONE = goog.debug.freeze({done:!0, value:void 0});\ngoog.iter.createEs6IteratorYield = function(value) {\n  return {value:value, done:!1};\n};\ngoog.iter.toEs4IteratorNext = function(es6NextValue) {\n  if (es6NextValue.done) {\n    throw goog.iter.StopIteration;\n  }\n  return es6NextValue.value;\n};\ngoog.iter.checkNoImplicitStopIterationInEs6 = function(ex) {\n  if (ex === goog.iter.StopIteration) {\n    throw Error(\"ES6 Iteration protocol does NOT adjust control flow when StopIteration is thrown from callback helper functions. If your code relies on this behavior, consider throwing a different error and catching it to terminate iteration.\");\n  }\n  throw ex;\n};\ngoog.iter.Iterator.prototype.__iterator__ = function(opt_keys) {\n  return this;\n};\ngoog.iter.toIterator = function(iterable) {\n  if (iterable instanceof goog.iter.Iterator) {\n    return iterable;\n  }\n  if (\"function\" == typeof iterable.__iterator__) {\n    return iterable.__iterator__(!1);\n  }\n  if (goog.isArrayLike(iterable)) {\n    var i = 0, newIter = new goog.iter.Iterator();\n    newIter.next = function() {\n      for (;;) {\n        if (i >= iterable.length) {\n          return goog.iter.ES6_ITERATOR_DONE;\n        }\n        if (i in iterable) {\n          return goog.iter.createEs6IteratorYield(iterable[i++]);\n        }\n        i++;\n      }\n    };\n    var iterNext = newIter.next;\n    newIter.nextValueOrThrow = function() {\n      return goog.iter.toEs4IteratorNext(iterNext.call(newIter));\n    };\n    return newIter;\n  }\n  throw Error(\"Not implemented\");\n};\ngoog.iter.forEach = function(iterable, f, opt_obj) {\n  if (goog.isArrayLike(iterable)) {\n    try {\n      module$contents$goog$array_forEach(iterable, f, opt_obj);\n    } catch (ex) {\n      goog.iter.checkNoImplicitStopIterationInEs6(ex);\n    }\n  } else {\n    for (iterable = goog.iter.toIterator(iterable);;) {\n      var val = void 0;\n      try {\n        val = iterable.nextValueOrThrow();\n      } catch (ex$39) {\n        if (ex$39 === goog.iter.StopIteration) {\n          break;\n        }\n        throw ex$39;\n      }\n      try {\n        f.call(opt_obj, val, void 0, iterable);\n      } catch (ex$40) {\n        goog.iter.checkNoImplicitStopIterationInEs6(ex$40);\n      }\n    }\n  }\n};\ngoog.iter.filter = function(iterable, f, opt_obj) {\n  var iterator = goog.iter.toIterator(iterable), newIter = new goog.iter.Iterator();\n  newIter.next = function() {\n    for (;;) {\n      var val = void 0;\n      try {\n        val = iterator.nextValueOrThrow();\n      } catch (ex) {\n        if (ex === goog.iter.StopIteration) {\n          return goog.iter.ES6_ITERATOR_DONE;\n        }\n        throw ex;\n      }\n      try {\n        if (f.call(opt_obj, val, void 0, iterator)) {\n          return goog.iter.createEs6IteratorYield(val);\n        }\n      } catch (ex$41) {\n        goog.iter.checkNoImplicitStopIterationInEs6(ex$41);\n      }\n    }\n  };\n  var iterNext = newIter.next;\n  newIter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(newIter));\n  };\n  return newIter;\n};\ngoog.iter.filterFalse = function(iterable, f, opt_obj) {\n  return goog.iter.filter(iterable, goog.functions.not(f), opt_obj);\n};\ngoog.iter.range = function(startOrStop, opt_stop, opt_step) {\n  var start = 0, stop = startOrStop, step = opt_step || 1;\n  1 < arguments.length && (start = startOrStop, stop = +opt_stop);\n  if (0 == step) {\n    throw Error(\"Range step argument must not be zero\");\n  }\n  var newIter = new goog.iter.Iterator();\n  newIter.next = function() {\n    if (0 < step && start >= stop || 0 > step && start <= stop) {\n      return goog.iter.ES6_ITERATOR_DONE;\n    }\n    var rv = start;\n    start += step;\n    return goog.iter.createEs6IteratorYield(rv);\n  };\n  var iterNext = newIter.next;\n  newIter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(newIter));\n  };\n  return newIter;\n};\ngoog.iter.join = function(iterable, deliminator) {\n  return goog.iter.toArray(iterable).join(deliminator);\n};\ngoog.iter.map = function(iterable, f, opt_obj) {\n  var iterator = goog.iter.toIterator(iterable), newIter = new goog.iter.Iterator();\n  newIter.next = function() {\n    try {\n      var val = iterator.nextValueOrThrow();\n    } catch (ex) {\n      if (ex === goog.iter.StopIteration) {\n        return goog.iter.ES6_ITERATOR_DONE;\n      }\n      throw ex;\n    }\n    try {\n      var mappedVal = f.call(opt_obj, val, void 0, iterator);\n      return goog.iter.createEs6IteratorYield(mappedVal);\n    } catch (ex$42) {\n      goog.iter.checkNoImplicitStopIterationInEs6(ex$42);\n    }\n  };\n  var iterNext = newIter.next;\n  newIter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(newIter));\n  };\n  return newIter;\n};\ngoog.iter.reduce = function(iterable, f, val$jscomp$0, opt_obj) {\n  var rval = val$jscomp$0;\n  goog.iter.forEach(iterable, function(val) {\n    rval = f.call(opt_obj, rval, val);\n  });\n  return rval;\n};\ngoog.iter.some = function(iterable, f, opt_obj) {\n  for (iterable = goog.iter.toIterator(iterable);;) {\n    var val = void 0;\n    try {\n      val = iterable.nextValueOrThrow();\n    } catch (ex) {\n      if (ex === goog.iter.StopIteration) {\n        return !1;\n      }\n      throw ex;\n    }\n    try {\n      if (f.call(opt_obj, val, void 0, iterable)) {\n        return !0;\n      }\n    } catch (ex$43) {\n      goog.iter.checkNoImplicitStopIterationInEs6(ex$43);\n    }\n  }\n};\ngoog.iter.every = function(iterable, f, opt_obj) {\n  for (iterable = goog.iter.toIterator(iterable);;) {\n    var val = void 0;\n    try {\n      val = iterable.nextValueOrThrow();\n    } catch (ex) {\n      if (ex === goog.iter.StopIteration) {\n        return !0;\n      }\n      throw ex;\n    }\n    try {\n      if (!f.call(opt_obj, val, void 0, iterable)) {\n        return !1;\n      }\n    } catch (ex$44) {\n      goog.iter.checkNoImplicitStopIterationInEs6(ex$44);\n    }\n  }\n};\ngoog.iter.chain = function(var_args) {\n  return goog.iter.chainFromIterable(arguments);\n};\ngoog.iter.chainFromIterable = function(iterable) {\n  var iterator = goog.iter.toIterator(iterable), iter = new goog.iter.Iterator(), current = null;\n  iter.next = function() {\n    for (;;) {\n      if (null == current) {\n        try {\n          var it = iterator.nextValueOrThrow();\n          current = goog.iter.toIterator(it);\n        } catch (ex) {\n          if (ex === goog.iter.StopIteration) {\n            return goog.iter.ES6_ITERATOR_DONE;\n          }\n          throw ex;\n        }\n      }\n      try {\n        var value = current.nextValueOrThrow();\n        return goog.iter.createEs6IteratorYield(value);\n      } catch (ex$45) {\n        if (ex$45 !== goog.iter.StopIteration) {\n          throw ex$45;\n        }\n        current = null;\n      }\n    }\n  };\n  var iterNext = iter.next;\n  iter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(iter));\n  };\n  return iter;\n};\ngoog.iter.dropWhile = function(iterable, f, opt_obj) {\n  var iterator = goog.iter.toIterator(iterable), newIter = new goog.iter.Iterator(), dropping = !0;\n  newIter.next = function() {\n    for (;;) {\n      var val = void 0;\n      try {\n        val = iterator.nextValueOrThrow();\n      } catch (ex) {\n        if (ex === goog.iter.StopIteration) {\n          return goog.iter.ES6_ITERATOR_DONE;\n        }\n        throw ex;\n      }\n      if (!dropping || !f.call(opt_obj, val, void 0, iterator)) {\n        return dropping = !1, goog.iter.createEs6IteratorYield(val);\n      }\n    }\n  };\n  var iterNext = newIter.next;\n  newIter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(newIter));\n  };\n  return newIter;\n};\ngoog.iter.takeWhile = function(iterable, f, opt_obj) {\n  var iterator = goog.iter.toIterator(iterable), iter = new goog.iter.Iterator();\n  iter.next = function() {\n    try {\n      var val = iterator.nextValueOrThrow();\n    } catch (ex) {\n      if (ex === goog.iter.StopIteration) {\n        return goog.iter.ES6_ITERATOR_DONE;\n      }\n      throw ex;\n    }\n    try {\n      return f.call(opt_obj, val, void 0, iterator) ? goog.iter.createEs6IteratorYield(val) : goog.iter.ES6_ITERATOR_DONE;\n    } catch (ex$46) {\n      goog.iter.checkNoImplicitStopIterationInEs6(ex$46);\n    }\n  };\n  var iterNext = iter.next;\n  iter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(iter));\n  };\n  return iter;\n};\ngoog.iter.toArray = function(iterable) {\n  if (goog.isArrayLike(iterable)) {\n    return module$contents$goog$array_toArray(iterable);\n  }\n  iterable = goog.iter.toIterator(iterable);\n  var array = [];\n  goog.iter.forEach(iterable, function(val) {\n    array.push(val);\n  });\n  return array;\n};\ngoog.iter.equals = function(iterable1, iterable2, opt_equalsFn) {\n  var pairs = goog.iter.zipLongest({}, iterable1, iterable2), equalsFn = opt_equalsFn || module$contents$goog$array_defaultCompareEquality;\n  return goog.iter.every(pairs, function(pair) {\n    return equalsFn(pair[0], pair[1]);\n  });\n};\ngoog.iter.nextOrValue = function(iterable, defaultValue) {\n  try {\n    return goog.iter.toIterator(iterable).nextValueOrThrow();\n  } catch (e) {\n    if (e != goog.iter.StopIteration) {\n      throw e;\n    }\n    return defaultValue;\n  }\n};\ngoog.iter.product = function(var_args) {\n  if (Array.prototype.some.call(arguments, function(arr) {\n    return !arr.length;\n  }) || !arguments.length) {\n    return new goog.iter.Iterator();\n  }\n  var iter = new goog.iter.Iterator(), arrays = arguments, indices = module$contents$goog$array_repeat(0, arrays.length);\n  iter.next = function() {\n    if (indices) {\n      for (var retVal = module$contents$goog$array_map(indices, function(valueIndex, arrayIndex) {\n        return arrays[arrayIndex][valueIndex];\n      }), i = indices.length - 1; 0 <= i; i--) {\n        goog.asserts.assert(indices);\n        if (indices[i] < arrays[i].length - 1) {\n          indices[i]++;\n          break;\n        }\n        if (0 == i) {\n          indices = null;\n          break;\n        }\n        indices[i] = 0;\n      }\n      return goog.iter.createEs6IteratorYield(retVal);\n    }\n    return goog.iter.ES6_ITERATOR_DONE;\n  };\n  var iterNext = iter.next;\n  iter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(iter));\n  };\n  return iter;\n};\ngoog.iter.cycle = function(iterable) {\n  var baseIterator = goog.iter.toIterator(iterable), cache = [], cacheIndex = 0, iter = new goog.iter.Iterator(), useCache = !1;\n  iter.next = function() {\n    var returnElement = null;\n    if (!useCache) {\n      try {\n        return returnElement = baseIterator.nextValueOrThrow(), cache.push(returnElement), goog.iter.createEs6IteratorYield(returnElement);\n      } catch (e) {\n        if (e != goog.iter.StopIteration) {\n          throw e;\n        }\n        if (e === goog.iter.StopIteration && module$contents$goog$array_isEmpty(cache)) {\n          return goog.iter.ES6_ITERATOR_DONE;\n        }\n        useCache = !0;\n      }\n    }\n    returnElement = cache[cacheIndex];\n    cacheIndex = (cacheIndex + 1) % cache.length;\n    return goog.iter.createEs6IteratorYield(returnElement);\n  };\n  var iterNext = iter.next;\n  iter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(iter));\n  };\n  return iter;\n};\ngoog.iter.count = function(opt_start, opt_step) {\n  var counter = opt_start || 0, step = void 0 !== opt_step ? opt_step : 1, iter = new goog.iter.Iterator();\n  iter.next = function() {\n    var returnValue = counter;\n    counter += step;\n    return goog.iter.createEs6IteratorYield(returnValue);\n  };\n  var iterNext = iter.next;\n  iter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(iter));\n  };\n  return iter;\n};\ngoog.iter.repeat = function(value) {\n  var iter = new goog.iter.Iterator();\n  iter.next = function() {\n    return goog.iter.createEs6IteratorYield(value);\n  };\n  var iterNext = iter.next;\n  iter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(iter));\n  };\n  return iter;\n};\ngoog.iter.accumulate = function(iterable) {\n  var iterator = goog.iter.toIterator(iterable), total = 0, iter = new goog.iter.Iterator();\n  iter.next = function() {\n    try {\n      total += iterator.nextValueOrThrow();\n    } catch (ex) {\n      if (ex === goog.iter.StopIteration) {\n        return goog.iter.ES6_ITERATOR_DONE;\n      }\n      throw ex;\n    }\n    return goog.iter.createEs6IteratorYield(total);\n  };\n  var iterNext = iter.next;\n  iter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(iter));\n  };\n  return iter;\n};\ngoog.iter.zip = function(var_args) {\n  var args = arguments, iter = new goog.iter.Iterator();\n  if (0 < args.length) {\n    var iterators = module$contents$goog$array_map(args, goog.iter.toIterator), allDone = !1;\n    iter.next = function() {\n      if (allDone) {\n        return goog.iter.ES6_ITERATOR_DONE;\n      }\n      for (var arr = [], i = 0, it = void 0; it = iterators[i++];) {\n        try {\n          arr.push(it.nextValueOrThrow());\n        } catch (ex) {\n          if (ex === goog.iter.StopIteration) {\n            return allDone = !0, goog.iter.ES6_ITERATOR_DONE;\n          }\n          throw ex;\n        }\n      }\n      return goog.iter.createEs6IteratorYield(arr);\n    };\n    var iterNext = iter.next;\n    iter.nextValueOrThrow = function() {\n      return goog.iter.toEs4IteratorNext(iterNext.call(iter));\n    };\n  }\n  return iter;\n};\ngoog.iter.zipLongest = function(fillValue, var_args) {\n  var args = Array.prototype.slice.call(arguments, 1), iter = new goog.iter.Iterator();\n  if (0 < args.length) {\n    var iterators = module$contents$goog$array_map(args, goog.iter.toIterator), allDone = !1;\n    iter.next = function() {\n      if (allDone) {\n        return goog.iter.ES6_ITERATOR_DONE;\n      }\n      for (var iteratorsHaveValues = !1, arr = [], i = 0, it = void 0; it = iterators[i++];) {\n        try {\n          arr.push(it.nextValueOrThrow()), iteratorsHaveValues = !0;\n        } catch (ex) {\n          if (ex !== goog.iter.StopIteration) {\n            throw ex;\n          }\n          arr.push(fillValue);\n        }\n      }\n      return iteratorsHaveValues ? goog.iter.createEs6IteratorYield(arr) : (allDone = !0, goog.iter.ES6_ITERATOR_DONE);\n    };\n    var iterNext = iter.next;\n    iter.nextValueOrThrow = function() {\n      return goog.iter.toEs4IteratorNext(iterNext.call(iter));\n    };\n  }\n  return iter;\n};\ngoog.iter.compress = function(iterable, selectors) {\n  var valueIterator = goog.iter.toIterator(iterable), selectorIterator = goog.iter.toIterator(selectors), iter = new goog.iter.Iterator(), allDone = !1;\n  iter.next = function() {\n    if (allDone) {\n      return goog.iter.ES6_ITERATOR_DONE;\n    }\n    for (;;) {\n      var val = void 0, selectorVal = void 0;\n      try {\n        val = valueIterator.nextValueOrThrow(), selectorVal = selectorIterator.nextValueOrThrow();\n      } catch (ex) {\n        if (ex === goog.iter.StopIteration) {\n          return allDone = !0, goog.iter.ES6_ITERATOR_DONE;\n        }\n        throw ex;\n      }\n      if (selectorVal) {\n        return goog.iter.createEs6IteratorYield(val);\n      }\n    }\n  };\n  var iterNext = iter.next;\n  iter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(iter));\n  };\n  return iter;\n};\ngoog.iter.GroupByIterator_ = function(iterable, opt_keyFunc) {\n  this.iterator = goog.iter.toIterator(iterable);\n  this.keyFunc = opt_keyFunc || goog.functions.identity;\n};\ngoog.inherits(goog.iter.GroupByIterator_, goog.iter.Iterator);\ngoog.iter.GroupByIterator_.prototype.next = function() {\n  for (; this.currentKey == this.targetKey;) {\n    try {\n      this.currentValue = this.iterator.nextValueOrThrow();\n    } catch (ex) {\n      if (ex === goog.iter.StopIteration) {\n        return goog.iter.ES6_ITERATOR_DONE;\n      }\n      throw ex;\n    }\n    this.currentKey = this.keyFunc(this.currentValue);\n  }\n  this.targetKey = this.currentKey;\n  return goog.iter.createEs6IteratorYield([this.currentKey, this.groupItems_(this.targetKey)]);\n};\ngoog.iter.GroupByIterator_.prototype.nextValueOrThrow = function() {\n  return goog.iter.toEs4IteratorNext(goog.iter.GroupByIterator_.prototype.next.call(this));\n};\ngoog.iter.GroupByIterator_.prototype.groupItems_ = function(targetKey) {\n  for (var arr = []; this.currentKey == targetKey;) {\n    arr.push(this.currentValue);\n    try {\n      this.currentValue = this.iterator.nextValueOrThrow();\n    } catch (ex) {\n      if (ex !== goog.iter.StopIteration) {\n        throw ex;\n      }\n      break;\n    }\n    this.currentKey = this.keyFunc(this.currentValue);\n  }\n  return arr;\n};\ngoog.iter.groupBy = function(iterable, opt_keyFunc) {\n  return new goog.iter.GroupByIterator_(iterable, opt_keyFunc);\n};\ngoog.iter.starMap = function(iterable, f, opt_obj) {\n  var iterator = goog.iter.toIterator(iterable), iter = new goog.iter.Iterator();\n  iter.next = function() {\n    try {\n      var args = goog.iter.toArray(iterator.nextValueOrThrow()), value = f.apply(opt_obj, module$contents$goog$array_concat(args, void 0, iterator));\n      return goog.iter.createEs6IteratorYield(value);\n    } catch (ex) {\n      if (ex === goog.iter.StopIteration) {\n        return goog.iter.ES6_ITERATOR_DONE;\n      }\n      throw ex;\n    }\n  };\n  var iterNext = iter.next;\n  iter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(iter));\n  };\n  return iter;\n};\ngoog.iter.tee = function(iterable, opt_num) {\n  function addNextIteratorValueToBuffers() {\n    try {\n      for (var val = iterator.nextValueOrThrow(), i = 0, buffer = void 0; buffer = buffers[i++];) {\n        buffer.push(val);\n      }\n      return !0;\n    } catch (ex) {\n      if (ex === goog.iter.StopIteration) {\n        return !1;\n      }\n      throw ex;\n    }\n  }\n  var iterator = goog.iter.toIterator(iterable), buffers = module$contents$goog$array_map(module$contents$goog$array_range(\"number\" === typeof opt_num ? opt_num : 2), function() {\n    return [];\n  });\n  return module$contents$goog$array_map(buffers, function createIterator(buffer) {\n    var iter = new goog.iter.Iterator();\n    iter.next = function() {\n      if (module$contents$goog$array_isEmpty(buffer) && !addNextIteratorValueToBuffers()) {\n        return goog.iter.ES6_ITERATOR_DONE;\n      }\n      goog.asserts.assert(!module$contents$goog$array_isEmpty(buffer));\n      return goog.iter.createEs6IteratorYield(buffer.shift());\n    };\n    var iterNext = iter.next;\n    iter.nextValueOrThrow = function() {\n      return goog.iter.toEs4IteratorNext(iterNext.call(iter));\n    };\n    return iter;\n  });\n};\ngoog.iter.enumerate = function(iterable, opt_start) {\n  return goog.iter.zip(goog.iter.count(opt_start), iterable);\n};\ngoog.iter.limit = function(iterable, limitSize) {\n  goog.asserts.assert(goog.math.isInt(limitSize) && 0 <= limitSize);\n  var iterator = goog.iter.toIterator(iterable), iter = new goog.iter.Iterator(), remaining = limitSize;\n  iter.next = function() {\n    if (0 < remaining--) {\n      try {\n        return goog.iter.createEs6IteratorYield(iterator.nextValueOrThrow());\n      } catch (ex) {\n        if (ex === goog.iter.StopIteration) {\n          return goog.iter.ES6_ITERATOR_DONE;\n        }\n        throw ex;\n      }\n    }\n    return goog.iter.ES6_ITERATOR_DONE;\n  };\n  var iterNext = iter.next;\n  iter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(iter));\n  };\n  return iter;\n};\ngoog.iter.consume = function(iterable, count) {\n  goog.asserts.assert(goog.math.isInt(count) && 0 <= count);\n  for (var iterator = goog.iter.toIterator(iterable); 0 < count--;) {\n    goog.iter.nextOrValue(iterator, null);\n  }\n  return iterator;\n};\ngoog.iter.slice = function(iterable, start, opt_end) {\n  goog.asserts.assert(goog.math.isInt(start) && 0 <= start);\n  var iterator = goog.iter.consume(iterable, start);\n  \"number\" === typeof opt_end && (goog.asserts.assert(goog.math.isInt(opt_end) && opt_end >= start), iterator = goog.iter.limit(iterator, opt_end - start));\n  return iterator;\n};\ngoog.iter.hasDuplicates_ = function(arr) {\n  var deduped = [];\n  module$contents$goog$array_removeDuplicates(arr, deduped);\n  return arr.length != deduped.length;\n};\ngoog.iter.permutations = function(iterable, opt_length) {\n  var elements = goog.iter.toArray(iterable), product = goog.iter.product.apply(void 0, module$contents$goog$array_repeat(elements, \"number\" === typeof opt_length ? opt_length : elements.length));\n  return goog.iter.filter(product, function(arr) {\n    return !goog.iter.hasDuplicates_(arr);\n  });\n};\ngoog.iter.combinations = function(iterable, length) {\n  function getIndexFromElements(index) {\n    return elements[index];\n  }\n  var elements = goog.iter.toArray(iterable), indexes = goog.iter.range(elements.length), indexIterator = goog.iter.permutations(indexes, length), sortedIndexIterator = goog.iter.filter(indexIterator, function(arr) {\n    return module$contents$goog$array_isSorted(arr);\n  }), iter = new goog.iter.Iterator();\n  iter.next = function() {\n    try {\n      var nextArr = sortedIndexIterator.nextValueOrThrow();\n      return goog.iter.createEs6IteratorYield(module$contents$goog$array_map(nextArr, getIndexFromElements));\n    } catch (ex) {\n      if (ex === goog.iter.StopIteration) {\n        return goog.iter.ES6_ITERATOR_DONE;\n      }\n      throw ex;\n    }\n  };\n  var iterNext = iter.next;\n  iter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(iter));\n  };\n  return iter;\n};\ngoog.iter.combinationsWithReplacement = function(iterable, length) {\n  function getIndexFromElements(index) {\n    return elements[index];\n  }\n  var elements = goog.iter.toArray(iterable), indexes = module$contents$goog$array_range(elements.length), indexIterator = goog.iter.product.apply(void 0, module$contents$goog$array_repeat(indexes, length)), sortedIndexIterator = goog.iter.filter(indexIterator, function(arr) {\n    return module$contents$goog$array_isSorted(arr);\n  }), iter = new goog.iter.Iterator();\n  iter.next = function() {\n    try {\n      return goog.iter.createEs6IteratorYield(module$contents$goog$array_map(sortedIndexIterator.nextValueOrThrow(), getIndexFromElements));\n    } catch (ex) {\n      if (ex === goog.iter.StopIteration) {\n        return goog.iter.ES6_ITERATOR_DONE;\n      }\n      throw ex;\n    }\n  };\n  var iterNext = iter.next;\n  iter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(iter));\n  };\n  return iter;\n};\ngoog.iter.es6 = {};\nvar module$contents$goog$iter$es6_ShimIterable = function() {\n};\nmodule$contents$goog$iter$es6_ShimIterable.prototype.__iterator__ = function() {\n};\nmodule$contents$goog$iter$es6_ShimIterable.prototype.toGoog = function() {\n};\nmodule$contents$goog$iter$es6_ShimIterable.prototype.toEs6 = function() {\n};\nmodule$contents$goog$iter$es6_ShimIterable.of = function(iter) {\n  if (iter instanceof module$contents$goog$iter$es6_ShimIterableImpl || iter instanceof module$contents$goog$iter$es6_ShimGoogIterator || iter instanceof module$contents$goog$iter$es6_ShimEs6Iterator) {\n    return iter;\n  }\n  if (\"function\" == typeof iter.nextValueOrThrow) {\n    return new module$contents$goog$iter$es6_ShimIterableImpl(function() {\n      return module$contents$goog$iter$es6_wrapGoog(iter);\n    });\n  }\n  if (\"function\" == typeof iter[Symbol.iterator]) {\n    return new module$contents$goog$iter$es6_ShimIterableImpl(function() {\n      return iter[Symbol.iterator]();\n    });\n  }\n  if (\"function\" == typeof iter.__iterator__) {\n    return new module$contents$goog$iter$es6_ShimIterableImpl(function() {\n      return module$contents$goog$iter$es6_wrapGoog(iter.__iterator__());\n    });\n  }\n  throw Error(\"Not an iterator or iterable.\");\n};\nvar module$contents$goog$iter$es6_wrapGoog = function(iter) {\n  if (!(iter instanceof goog.iter.Iterator)) {\n    return iter;\n  }\n  var done = !1;\n  return {next:function() {\n    for (var value; !done;) {\n      try {\n        value = iter.nextValueOrThrow();\n        break;\n      } catch (err$47) {\n        if (err$47 !== goog.iter.StopIteration) {\n          throw err$47;\n        }\n        done = !0;\n      }\n    }\n    return {value:value, done:done};\n  },};\n}, module$contents$goog$iter$es6_ShimIterableImpl = function(func) {\n  this.func_ = func;\n};\nmodule$contents$goog$iter$es6_ShimIterableImpl.prototype.__iterator__ = function() {\n  return new module$contents$goog$iter$es6_ShimGoogIterator(this.func_());\n};\nmodule$contents$goog$iter$es6_ShimIterableImpl.prototype.toGoog = function() {\n  return new module$contents$goog$iter$es6_ShimGoogIterator(this.func_());\n};\nmodule$contents$goog$iter$es6_ShimIterableImpl.prototype[Symbol.iterator] = function() {\n  return new module$contents$goog$iter$es6_ShimEs6Iterator(this.func_());\n};\nmodule$contents$goog$iter$es6_ShimIterableImpl.prototype.toEs6 = function() {\n  return new module$contents$goog$iter$es6_ShimEs6Iterator(this.func_());\n};\nvar module$contents$goog$iter$es6_ShimGoogIterator = function(iter) {\n  goog.iter.Iterator.call(this);\n  this.iter_ = iter;\n};\n$jscomp.inherits(module$contents$goog$iter$es6_ShimGoogIterator, goog.iter.Iterator);\nmodule$contents$goog$iter$es6_ShimGoogIterator.prototype.nextValueOrThrow = function() {\n  var result = this.iter_.next();\n  if (result.done) {\n    throw goog.iter.StopIteration;\n  }\n  return result.value;\n};\nmodule$contents$goog$iter$es6_ShimGoogIterator.prototype.next = function() {\n  return this.iter_.next();\n};\nmodule$contents$goog$iter$es6_ShimGoogIterator.prototype.toGoog = function() {\n  return this;\n};\nmodule$contents$goog$iter$es6_ShimGoogIterator.prototype[Symbol.iterator] = function() {\n  return new module$contents$goog$iter$es6_ShimEs6Iterator(this.iter_);\n};\nmodule$contents$goog$iter$es6_ShimGoogIterator.prototype.toEs6 = function() {\n  return new module$contents$goog$iter$es6_ShimEs6Iterator(this.iter_);\n};\nvar module$contents$goog$iter$es6_ShimEs6Iterator = function(iter) {\n  module$contents$goog$iter$es6_ShimIterableImpl.call(this, function() {\n    return iter;\n  });\n  this.iter_ = iter;\n};\n$jscomp.inherits(module$contents$goog$iter$es6_ShimEs6Iterator, module$contents$goog$iter$es6_ShimIterableImpl);\nmodule$contents$goog$iter$es6_ShimEs6Iterator.prototype.next = function() {\n  return this.iter_.next();\n};\ngoog.iter.es6.ShimIterable = module$contents$goog$iter$es6_ShimIterable;\ngoog.iter.es6.ShimEs6Iterator = module$contents$goog$iter$es6_ShimEs6Iterator;\ngoog.iter.es6.ShimGoogIterator = module$contents$goog$iter$es6_ShimGoogIterator;\ngoog.structs.Map = function(opt_map, var_args) {\n  this.map_ = {};\n  this.keys_ = [];\n  this.version_ = this.size = 0;\n  var argLength = arguments.length;\n  if (1 < argLength) {\n    if (argLength % 2) {\n      throw Error(\"Uneven number of arguments\");\n    }\n    for (var i = 0; i < argLength; i += 2) {\n      this.set(arguments[i], arguments[i + 1]);\n    }\n  } else {\n    opt_map && this.addAll(opt_map);\n  }\n};\ngoog.structs.Map.prototype.getCount = function() {\n  return this.size;\n};\ngoog.structs.Map.prototype.getValues = function() {\n  this.cleanupKeysArray_();\n  for (var rv = [], i = 0; i < this.keys_.length; i++) {\n    rv.push(this.map_[this.keys_[i]]);\n  }\n  return rv;\n};\ngoog.structs.Map.prototype.getKeys = function() {\n  this.cleanupKeysArray_();\n  return this.keys_.concat();\n};\ngoog.structs.Map.prototype.containsKey = function(key) {\n  return this.has(key);\n};\ngoog.structs.Map.prototype.has = function(key) {\n  return goog.structs.Map.hasKey_(this.map_, key);\n};\ngoog.structs.Map.prototype.containsValue = function(val) {\n  for (var i = 0; i < this.keys_.length; i++) {\n    var key = this.keys_[i];\n    if (goog.structs.Map.hasKey_(this.map_, key) && this.map_[key] == val) {\n      return !0;\n    }\n  }\n  return !1;\n};\ngoog.structs.Map.prototype.equals = function(otherMap, opt_equalityFn) {\n  if (this === otherMap) {\n    return !0;\n  }\n  if (this.size != otherMap.getCount()) {\n    return !1;\n  }\n  var equalityFn = opt_equalityFn || goog.structs.Map.defaultEquals;\n  this.cleanupKeysArray_();\n  for (var key, i = 0; key = this.keys_[i]; i++) {\n    if (!equalityFn(this.get(key), otherMap.get(key))) {\n      return !1;\n    }\n  }\n  return !0;\n};\ngoog.structs.Map.defaultEquals = function(a, b) {\n  return a === b;\n};\ngoog.structs.Map.prototype.isEmpty = function() {\n  return 0 == this.size;\n};\ngoog.structs.Map.prototype.clear = function() {\n  this.map_ = {};\n  this.keys_.length = 0;\n  this.setSizeInternal_(0);\n  this.version_ = 0;\n};\ngoog.structs.Map.prototype.remove = function(key) {\n  return this.delete(key);\n};\ngoog.structs.Map.prototype.delete = function(key) {\n  return goog.structs.Map.hasKey_(this.map_, key) ? (delete this.map_[key], this.setSizeInternal_(this.size - 1), this.version_++, this.keys_.length > 2 * this.size && this.cleanupKeysArray_(), !0) : !1;\n};\ngoog.structs.Map.prototype.cleanupKeysArray_ = function() {\n  if (this.size != this.keys_.length) {\n    for (var srcIndex = 0, destIndex = 0; srcIndex < this.keys_.length;) {\n      var key = this.keys_[srcIndex];\n      goog.structs.Map.hasKey_(this.map_, key) && (this.keys_[destIndex++] = key);\n      srcIndex++;\n    }\n    this.keys_.length = destIndex;\n  }\n  if (this.size != this.keys_.length) {\n    var seen = {};\n    for (destIndex = srcIndex = 0; srcIndex < this.keys_.length;) {\n      key = this.keys_[srcIndex], goog.structs.Map.hasKey_(seen, key) || (this.keys_[destIndex++] = key, seen[key] = 1), srcIndex++;\n    }\n    this.keys_.length = destIndex;\n  }\n};\ngoog.structs.Map.prototype.get = function(key, opt_val) {\n  return goog.structs.Map.hasKey_(this.map_, key) ? this.map_[key] : opt_val;\n};\ngoog.structs.Map.prototype.set = function(key, value) {\n  goog.structs.Map.hasKey_(this.map_, key) || (this.setSizeInternal_(this.size + 1), this.keys_.push(key), this.version_++);\n  this.map_[key] = value;\n};\ngoog.structs.Map.prototype.addAll = function(map) {\n  if (map instanceof goog.structs.Map) {\n    for (var keys = map.getKeys(), i = 0; i < keys.length; i++) {\n      this.set(keys[i], map.get(keys[i]));\n    }\n  } else {\n    for (var key in map) {\n      this.set(key, map[key]);\n    }\n  }\n};\ngoog.structs.Map.prototype.forEach = function(f, opt_obj) {\n  for (var keys = this.getKeys(), i = 0; i < keys.length; i++) {\n    var key = keys[i], value = this.get(key);\n    f.call(opt_obj, value, key, this);\n  }\n};\ngoog.structs.Map.prototype.clone = function() {\n  return new goog.structs.Map(this);\n};\ngoog.structs.Map.prototype.transpose = function() {\n  for (var transposed = new goog.structs.Map(), i = 0; i < this.keys_.length; i++) {\n    var key = this.keys_[i];\n    transposed.set(this.map_[key], key);\n  }\n  return transposed;\n};\ngoog.structs.Map.prototype.toObject = function() {\n  this.cleanupKeysArray_();\n  for (var obj = {}, i = 0; i < this.keys_.length; i++) {\n    var key = this.keys_[i];\n    obj[key] = this.map_[key];\n  }\n  return obj;\n};\ngoog.structs.Map.prototype.getKeyIterator = function() {\n  return this.__iterator__(!0);\n};\ngoog.structs.Map.prototype.keys = function() {\n  return module$contents$goog$iter$es6_ShimIterable.of(this.getKeyIterator()).toEs6();\n};\ngoog.structs.Map.prototype.getValueIterator = function() {\n  return this.__iterator__(!1);\n};\ngoog.structs.Map.prototype.values = function() {\n  return module$contents$goog$iter$es6_ShimIterable.of(this.getValueIterator()).toEs6();\n};\ngoog.structs.Map.prototype.entries = function() {\n  var self = this;\n  return goog.collections.iters.map(this.keys(), function(key) {\n    return [key, self.get(key)];\n  });\n};\ngoog.structs.Map.prototype.__iterator__ = function(opt_keys) {\n  this.cleanupKeysArray_();\n  var i = 0, version = this.version_, selfObj = this, newIter = new goog.iter.Iterator();\n  newIter.next = function() {\n    if (version != selfObj.version_) {\n      throw Error(\"The map has changed since the iterator was created\");\n    }\n    if (i >= selfObj.keys_.length) {\n      return goog.iter.ES6_ITERATOR_DONE;\n    }\n    var key = selfObj.keys_[i++];\n    return goog.iter.createEs6IteratorYield(opt_keys ? key : selfObj.map_[key]);\n  };\n  var iterNext = newIter.next;\n  newIter.nextValueOrThrow = function() {\n    return goog.iter.toEs4IteratorNext(iterNext.call(newIter));\n  };\n  return newIter;\n};\ngoog.structs.Map.prototype.setSizeInternal_ = function(newSize) {\n  this.size = newSize;\n};\ngoog.structs.Map.hasKey_ = function(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n};\ngoog.structs.getCount = function(col) {\n  return col.getCount && \"function\" == typeof col.getCount ? col.getCount() : goog.isArrayLike(col) || \"string\" === typeof col ? col.length : module$contents$goog$object_getCount(col);\n};\ngoog.structs.getValues = function(col) {\n  if (col.getValues && \"function\" == typeof col.getValues) {\n    return col.getValues();\n  }\n  if (\"undefined\" !== typeof Map && col instanceof Map || \"undefined\" !== typeof Set && col instanceof Set) {\n    return Array.from(col.values());\n  }\n  if (\"string\" === typeof col) {\n    return col.split(\"\");\n  }\n  if (goog.isArrayLike(col)) {\n    for (var rv = [], l = col.length, i = 0; i < l; i++) {\n      rv.push(col[i]);\n    }\n    return rv;\n  }\n  return module$contents$goog$object_getValues(col);\n};\ngoog.structs.getKeys = function(col) {\n  if (col.getKeys && \"function\" == typeof col.getKeys) {\n    return col.getKeys();\n  }\n  if (!col.getValues || \"function\" != typeof col.getValues) {\n    if (\"undefined\" !== typeof Map && col instanceof Map) {\n      return Array.from(col.keys());\n    }\n    if (!(\"undefined\" !== typeof Set && col instanceof Set)) {\n      if (goog.isArrayLike(col) || \"string\" === typeof col) {\n        for (var rv = [], l = col.length, i = 0; i < l; i++) {\n          rv.push(i);\n        }\n        return rv;\n      }\n      return module$contents$goog$object_getKeys(col);\n    }\n  }\n};\ngoog.structs.contains = function(col, val) {\n  return col.contains && \"function\" == typeof col.contains ? col.contains(val) : col.containsValue && \"function\" == typeof col.containsValue ? col.containsValue(val) : goog.isArrayLike(col) || \"string\" === typeof col ? module$contents$goog$array_contains(col, val) : module$contents$goog$object_containsValue(col, val);\n};\ngoog.structs.isEmpty = function(col) {\n  return col.isEmpty && \"function\" == typeof col.isEmpty ? col.isEmpty() : goog.isArrayLike(col) || \"string\" === typeof col ? 0 === col.length : module$contents$goog$object_isEmpty(col);\n};\ngoog.structs.clear = function(col) {\n  col.clear && \"function\" == typeof col.clear ? col.clear() : goog.isArrayLike(col) ? module$contents$goog$array_clear(col) : module$contents$goog$object_clear(col);\n};\ngoog.structs.forEach = function(col, f, opt_obj) {\n  if (col.forEach && \"function\" == typeof col.forEach) {\n    col.forEach(f, opt_obj);\n  } else {\n    if (goog.isArrayLike(col) || \"string\" === typeof col) {\n      Array.prototype.forEach.call(col, f, opt_obj);\n    } else {\n      for (var keys = goog.structs.getKeys(col), values = goog.structs.getValues(col), l = values.length, i = 0; i < l; i++) {\n        f.call(opt_obj, values[i], keys && keys[i], col);\n      }\n    }\n  }\n};\ngoog.structs.filter = function(col, f, opt_obj) {\n  if (\"function\" == typeof col.filter) {\n    return col.filter(f, opt_obj);\n  }\n  if (goog.isArrayLike(col) || \"string\" === typeof col) {\n    return Array.prototype.filter.call(col, f, opt_obj);\n  }\n  var keys = goog.structs.getKeys(col), values = goog.structs.getValues(col), l = values.length;\n  if (keys) {\n    var rv = {};\n    for (var i = 0; i < l; i++) {\n      f.call(opt_obj, values[i], keys[i], col) && (rv[keys[i]] = values[i]);\n    }\n  } else {\n    for (rv = [], i = 0; i < l; i++) {\n      f.call(opt_obj, values[i], void 0, col) && rv.push(values[i]);\n    }\n  }\n  return rv;\n};\ngoog.structs.map = function(col, f, opt_obj) {\n  if (\"function\" == typeof col.map) {\n    return col.map(f, opt_obj);\n  }\n  if (goog.isArrayLike(col) || \"string\" === typeof col) {\n    return Array.prototype.map.call(col, f, opt_obj);\n  }\n  var keys = goog.structs.getKeys(col), values = goog.structs.getValues(col), l = values.length;\n  if (keys) {\n    var rv = {};\n    for (var i = 0; i < l; i++) {\n      rv[keys[i]] = f.call(opt_obj, values[i], keys[i], col);\n    }\n  } else {\n    for (rv = [], i = 0; i < l; i++) {\n      rv[i] = f.call(opt_obj, values[i], void 0, col);\n    }\n  }\n  return rv;\n};\ngoog.structs.some = function(col, f, opt_obj) {\n  if (\"function\" == typeof col.some) {\n    return col.some(f, opt_obj);\n  }\n  if (goog.isArrayLike(col) || \"string\" === typeof col) {\n    return Array.prototype.some.call(col, f, opt_obj);\n  }\n  for (var keys = goog.structs.getKeys(col), values = goog.structs.getValues(col), l = values.length, i = 0; i < l; i++) {\n    if (f.call(opt_obj, values[i], keys && keys[i], col)) {\n      return !0;\n    }\n  }\n  return !1;\n};\ngoog.structs.every = function(col, f, opt_obj) {\n  if (\"function\" == typeof col.every) {\n    return col.every(f, opt_obj);\n  }\n  if (goog.isArrayLike(col) || \"string\" === typeof col) {\n    return Array.prototype.every.call(col, f, opt_obj);\n  }\n  for (var keys = goog.structs.getKeys(col), values = goog.structs.getValues(col), l = values.length, i = 0; i < l; i++) {\n    if (!f.call(opt_obj, values[i], keys && keys[i], col)) {\n      return !1;\n    }\n  }\n  return !0;\n};\ngoog.structs.Set = function(opt_values) {\n  this.map_ = new goog.structs.Map();\n  this.size = 0;\n  opt_values && this.addAll(opt_values);\n};\ngoog.structs.Set.getUid_ = goog.getUid;\ngoog.structs.Set.getKey_ = function(val) {\n  var type = typeof val;\n  return \"object\" == type && val || \"function\" == type ? \"o\" + goog.getUid(val) : type.substr(0, 1) + val;\n};\ngoog.structs.Set.prototype.getCount = function() {\n  return this.map_.size;\n};\ngoog.structs.Set.prototype.add = function(element) {\n  this.map_.set(goog.structs.Set.getKey_(element), element);\n  this.setSizeInternal_(this.map_.size);\n};\ngoog.structs.Set.prototype.addAll = function(col) {\n  for (var values = goog.structs.getValues(col), l = values.length, i = 0; i < l; i++) {\n    this.add(values[i]);\n  }\n  this.setSizeInternal_(this.map_.size);\n};\ngoog.structs.Set.prototype.removeAll = function(col) {\n  for (var values = goog.structs.getValues(col), l = values.length, i = 0; i < l; i++) {\n    this.remove(values[i]);\n  }\n  this.setSizeInternal_(this.map_.size);\n};\ngoog.structs.Set.prototype.delete = function(element) {\n  var rv = this.map_.remove(goog.structs.Set.getKey_(element));\n  this.setSizeInternal_(this.map_.size);\n  return rv;\n};\ngoog.structs.Set.prototype.remove = function(element) {\n  return this.delete(element);\n};\ngoog.structs.Set.prototype.clear = function() {\n  this.map_.clear();\n  this.setSizeInternal_(0);\n};\ngoog.structs.Set.prototype.isEmpty = function() {\n  return 0 === this.map_.size;\n};\ngoog.structs.Set.prototype.has = function(element) {\n  return this.map_.containsKey(goog.structs.Set.getKey_(element));\n};\ngoog.structs.Set.prototype.contains = function(element) {\n  return this.map_.containsKey(goog.structs.Set.getKey_(element));\n};\ngoog.structs.Set.prototype.containsAll = function(col) {\n  return goog.structs.every(col, this.contains, this);\n};\ngoog.structs.Set.prototype.intersection = function(col) {\n  for (var result = new goog.structs.Set(), values = goog.structs.getValues(col), i = 0; i < values.length; i++) {\n    var value = values[i];\n    this.contains(value) && result.add(value);\n  }\n  return result;\n};\ngoog.structs.Set.prototype.difference = function(col) {\n  var result = this.clone();\n  result.removeAll(col);\n  return result;\n};\ngoog.structs.Set.prototype.getValues = function() {\n  return this.map_.getValues();\n};\ngoog.structs.Set.prototype.values = function() {\n  return this.map_.values();\n};\ngoog.structs.Set.prototype.clone = function() {\n  return new goog.structs.Set(this);\n};\ngoog.structs.Set.prototype.equals = function(col) {\n  return this.getCount() == goog.structs.getCount(col) && this.isSubsetOf(col);\n};\ngoog.structs.Set.prototype.isSubsetOf = function(col) {\n  var colCount = goog.structs.getCount(col);\n  if (this.getCount() > colCount) {\n    return !1;\n  }\n  !(col instanceof goog.structs.Set) && 5 < colCount && (col = new goog.structs.Set(col));\n  return goog.structs.every(this, function(value) {\n    return goog.structs.contains(col, value);\n  });\n};\ngoog.structs.Set.prototype.__iterator__ = function(opt_keys) {\n  return this.map_.__iterator__(!1);\n};\ngoog.structs.Set.prototype[Symbol.iterator] = function() {\n  return this.values();\n};\ngoog.structs.Set.prototype.setSizeInternal_ = function(newSize) {\n  this.size = newSize;\n};\nvar ee = {AbstractOverlay:function(url, mapId, token, opt_init, opt_profiler) {\n  goog.events.EventTarget.call(this);\n  this.mapId = mapId;\n  this.token = token;\n  this.tilesLoading = [];\n  this.tilesFailed = new goog.structs.Set();\n  this.tileCounter = 0;\n  this.url = url;\n}};\ngoog.inherits(ee.AbstractOverlay, goog.events.EventTarget);\ngoog.exportSymbol(\"ee.AbstractOverlay\", ee.AbstractOverlay);\nee.AbstractOverlay.EventType = {TILE_LOADED:\"tileevent\"};\nee.AbstractOverlay.prototype.getTileId = function(coord, zoom) {\n  var maxCoord = 1 << zoom, x = coord.x % maxCoord;\n  0 > x && (x += maxCoord);\n  return [this.mapId, zoom, x, coord.y].join(\"/\");\n};\nee.AbstractOverlay.prototype.getLoadingTilesCount = function() {\n  return this.tilesLoading.length;\n};\nee.AbstractOverlay.prototype.getFailedTilesCount = function() {\n  return this.tilesFailed.getCount();\n};\nee.TileEvent = function(count) {\n  goog.events.Event.call(this, ee.AbstractOverlay.EventType.TILE_LOADED);\n  this.count = count;\n};\ngoog.inherits(ee.TileEvent, goog.events.Event);\nvar module$exports$tslib = {}, module$contents$tslib_extendStatics = Object.setPrototypeOf || {__proto__:[]} instanceof Array && function(d, b) {\n  d.__proto__ = b;\n} || function(d, b) {\n  for (var p in b) {\n    b.hasOwnProperty(p) && (d[p] = b[p]);\n  }\n};\nmodule$exports$tslib.__extends = function(d, b) {\n  function __() {\n    this.constructor = d;\n  }\n  module$contents$tslib_extendStatics(d, b);\n  d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nmodule$exports$tslib.__assign = Object.assign || function(t) {\n  for (var s, i = 1, n = arguments.length; i < n; i++) {\n    s = arguments[i];\n    for (var p in s) {\n      Object.prototype.hasOwnProperty.call(s, p) && (t[p] = s[p]);\n    }\n  }\n  return t;\n};\nmodule$exports$tslib.__rest = function(s, e) {\n  var t = {}, p;\n  for (p in s) {\n    Object.prototype.hasOwnProperty.call(s, p) && 0 > e.indexOf(p) && (t[p] = s[p]);\n  }\n  if (null != s && \"function\" === typeof Object.getOwnPropertySymbols) {\n    var i = 0;\n    for (p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n      0 > e.indexOf(p[i]) && (t[p[i]] = s[p[i]]);\n    }\n  }\n  return t;\n};\nmodule$exports$tslib.__decorate = function(decorators, target, key, desc) {\n  var c = arguments.length, r = 3 > c ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (\"object\" === typeof Reflect && Reflect && \"function\" === typeof Reflect.decorate) {\n    r = Reflect.decorate(decorators, target, key, desc);\n  } else {\n    for (var i = decorators.length - 1; 0 <= i; i--) {\n      if (d = decorators[i]) {\n        r = (3 > c ? d(r) : 3 < c ? d(target, key, r) : d(target, key)) || r;\n      }\n    }\n  }\n  return 3 < c && r && Object.defineProperty(target, key, r), r;\n};\nmodule$exports$tslib.__metadata = function(metadataKey, metadataValue) {\n  if (\"object\" === typeof Reflect && Reflect && \"function\" === typeof Reflect.metadata) {\n    return Reflect.metadata(metadataKey, metadataValue);\n  }\n};\nmodule$exports$tslib.__param = function(paramIndex, decorator) {\n  return function(target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nmodule$exports$tslib.__awaiter = function(thisArg, _arguments, P, generator) {\n  return new (P || (P = Promise))(function(resolve$jscomp$0, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve$jscomp$0(result.value) : (new P(function(resolve) {\n        resolve(result.value);\n      })).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments)).next());\n  });\n};\nmodule$exports$tslib.__generator = function(thisArg, body) {\n  function verb(n) {\n    return function(v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) {\n      throw new TypeError(\"Generator is already executing.\");\n    }\n    for (; _;) {\n      try {\n        if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) {\n          return t;\n        }\n        if (y = 0, t) {\n          op = [0, t.value];\n        }\n        switch(op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n          case 4:\n            return _.label++, {value:op[1], done:!1};\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n          case 7:\n            op = _.ops.pop();\n            _.trys.pop();\n            continue;\n          default:\n            if (!(t = _.trys, t = 0 < t.length && t[t.length - 1]) && (6 === op[0] || 2 === op[0])) {\n              _ = 0;\n              continue;\n            }\n            if (3 === op[0] && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n            } else {\n              if (6 === op[0] && _.label < t[1]) {\n                _.label = t[1], t = op;\n              } else {\n                if (t && _.label < t[2]) {\n                  _.label = t[2], _.ops.push(op);\n                } else {\n                  t[2] && _.ops.pop();\n                  _.trys.pop();\n                  continue;\n                }\n              }\n            }\n        }\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e], y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n    if (op[0] & 5) {\n      throw op[1];\n    }\n    return {value:op[0] ? op[1] : void 0, done:!0};\n  }\n  var _ = {label:0, sent:function() {\n    if (t[0] & 1) {\n      throw t[1];\n    }\n    return t[1];\n  }, trys:[], ops:[]}, f, y, t, g;\n  return g = {next:verb(0), \"throw\":verb(1), \"return\":verb(2)}, \"function\" === typeof Symbol && (g[Symbol.iterator] = function() {\n    return g;\n  }), g;\n};\nmodule$exports$tslib.__exportStar = function(m, e) {\n  for (var p in m) {\n    e.hasOwnProperty(p) || (e[p] = m[p]);\n  }\n};\nmodule$exports$tslib.__values = function(o) {\n  var m = \"function\" === typeof Symbol && o[Symbol.iterator], i = 0;\n  return m ? m.call(o) : {next:function() {\n    o && i >= o.length && (o = void 0);\n    return {value:o && o[i++], done:!o};\n  }};\n};\nmodule$exports$tslib.__read = function(o, n) {\n  var m = \"function\" === typeof Symbol && o[Symbol.iterator];\n  if (!m) {\n    return o;\n  }\n  var i = m.call(o), r, ar = [];\n  try {\n    for (; (void 0 === n || 0 < n--) && !(r = i.next()).done;) {\n      ar.push(r.value);\n    }\n  } catch (error) {\n    var e = {error:error};\n  } finally {\n    try {\n      r && !r.done && (m = i[\"return\"]) && m.call(i);\n    } finally {\n      if (e) {\n        throw e.error;\n      }\n    }\n  }\n  return ar;\n};\nmodule$exports$tslib.__spread = function() {\n  for (var ar = [], i = 0; i < arguments.length; i++) {\n    ar = ar.concat(module$exports$tslib.__read(arguments[i]));\n  }\n  return ar;\n};\nmodule$exports$tslib.__spreadArrays = function() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n  var r = Array(s), k = 0;\n  for (i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n  return r;\n};\nmodule$exports$tslib.__spreadArray = function(to, from) {\n  if (!(Array.isArray(from) || from instanceof NodeList)) {\n    throw new TypeError(\"Expected an Array or NodeList: \" + String(from));\n  }\n  for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) {\n    to[j] = from[i];\n  }\n  return to;\n};\nmodule$exports$tslib.__await = function(v) {\n  return this instanceof module$exports$tslib.__await ? (this.v = v, this) : new module$exports$tslib.__await(v);\n};\nmodule$exports$tslib.__asyncGenerator = function __asyncGenerator(thisArg, _arguments, generator) {\n  function verb(n) {\n    g[n] && (i[n] = function(v) {\n      return new Promise(function(a, b) {\n        1 < q.push([n, v, a, b]) || resume(n, v);\n      });\n    });\n  }\n  function resume(n, v) {\n    try {\n      step(g[n](v));\n    } catch (e) {\n      settle(q[0][3], e);\n    }\n  }\n  function step(r) {\n    r.value instanceof module$exports$tslib.__await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);\n  }\n  function fulfill(value) {\n    resume(\"next\", value);\n  }\n  function reject(value) {\n    resume(\"throw\", value);\n  }\n  function settle(f, v) {\n    (f(v), q.shift(), q.length) && resume(q[0][0], q[0][1]);\n  }\n  if (!Symbol.asyncIterator) {\n    throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  }\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function() {\n    return this;\n  }, i;\n};\nmodule$exports$tslib.__asyncDelegator = function(o) {\n  function verb(n, f) {\n    o[n] && (i[n] = function(v) {\n      return (p = !p) ? {value:new module$exports$tslib.__await(o[n](v)), done:\"return\" === n} : f ? f(v) : v;\n    });\n  }\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function(e) {\n    throw e;\n  }), verb(\"return\"), i[Symbol.iterator] = function() {\n    return i;\n  }, i;\n};\nmodule$exports$tslib.__asyncValues = function(o) {\n  if (!Symbol.asyncIterator) {\n    throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  }\n  var m = o[Symbol.asyncIterator];\n  return m ? m.call(o) : \"function\" === typeof __values ? __values(o) : o[Symbol.iterator]();\n};\nmodule$exports$tslib.__makeTemplateObject = function(cooked, raw) {\n  Object.defineProperty ? Object.defineProperty(cooked, \"raw\", {value:raw}) : cooked.raw = raw;\n  return cooked;\n};\nmodule$exports$tslib.__classPrivateFieldGet = function(receiver, privateMap) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to get private field on non-instance\");\n  }\n  return privateMap.get(receiver);\n};\nmodule$exports$tslib.__classPrivateFieldSet = function(receiver, privateMap, value) {\n  if (!privateMap.has(receiver)) {\n    throw new TypeError(\"attempted to set private field on non-instance\");\n  }\n  privateMap.set(receiver, value);\n  return value;\n};\nvar module$exports$eeapiclient$domain_object = {}, module$contents$eeapiclient$domain_object_module = module$contents$eeapiclient$domain_object_module || {id:\"javascript/typescript/contrib/apiclient/core/domain_object.closure.js\"};\nmodule$exports$eeapiclient$domain_object.ObjectMapMetadata = function module$contents$eeapiclient$domain_object_ObjectMapMetadata() {\n};\nvar module$contents$eeapiclient$domain_object_Primitive;\nmodule$exports$eeapiclient$domain_object.ClassMetadata = function module$contents$eeapiclient$domain_object_ClassMetadata() {\n};\nvar module$contents$eeapiclient$domain_object_NullClass = function() {\n};\nmodule$exports$eeapiclient$domain_object.NULL_VALUE = new module$contents$eeapiclient$domain_object_NullClass();\nmodule$exports$eeapiclient$domain_object.ISerializable = function module$contents$eeapiclient$domain_object_ISerializable() {\n};\nfunction module$contents$eeapiclient$domain_object_buildClassMetadataFromPartial(partialClassMetadata) {\n  return Object.assign({arrays:{}, descriptions:{}, keys:[], objectMaps:{}, objects:{}, enums:{}, emptyArrayIsUnset:!1}, partialClassMetadata);\n}\nmodule$exports$eeapiclient$domain_object.buildClassMetadataFromPartial = module$contents$eeapiclient$domain_object_buildClassMetadataFromPartial;\nmodule$exports$eeapiclient$domain_object.Serializable = function() {\n  this.Serializable$values = {};\n};\nmodule$exports$eeapiclient$domain_object.Serializable.prototype.getClassMetadata = function() {\n  return module$contents$eeapiclient$domain_object_buildClassMetadataFromPartial(this.getPartialClassMetadata());\n};\nmodule$exports$eeapiclient$domain_object.Serializable.prototype.Serializable$get = function(key) {\n  return this.Serializable$values.hasOwnProperty(key) ? this.Serializable$values[key] : null;\n};\nmodule$exports$eeapiclient$domain_object.Serializable.prototype.Serializable$set = function(key, value) {\n  this.Serializable$values[key] = value;\n};\nmodule$exports$eeapiclient$domain_object.Serializable.prototype.Serializable$has = function(key) {\n  return null != this.Serializable$values[key];\n};\nmodule$exports$eeapiclient$domain_object.SerializableCtor = function module$contents$eeapiclient$domain_object_SerializableCtor() {\n};\nmodule$exports$eeapiclient$domain_object.clone = function module$contents$eeapiclient$domain_object_clone(serializable) {\n  return module$contents$eeapiclient$domain_object_deserialize(serializable.getConstructor(), module$contents$eeapiclient$domain_object_serialize(serializable));\n};\nmodule$exports$eeapiclient$domain_object.isEmpty = function module$contents$eeapiclient$domain_object_isEmpty(serializable) {\n  return !Object.keys(module$contents$eeapiclient$domain_object_serialize(serializable)).length;\n};\nfunction module$contents$eeapiclient$domain_object_serialize(serializable) {\n  return module$contents$eeapiclient$domain_object_deepCopy(serializable, module$contents$eeapiclient$domain_object_serializeGetter, module$contents$eeapiclient$domain_object_serializeSetter, module$contents$eeapiclient$domain_object_serializeInstanciator);\n}\nmodule$exports$eeapiclient$domain_object.serialize = module$contents$eeapiclient$domain_object_serialize;\nfunction module$contents$eeapiclient$domain_object_serializeGetter(key, obj) {\n  return obj.Serializable$get(key);\n}\nfunction module$contents$eeapiclient$domain_object_serializeSetter(key, obj, value) {\n  obj[key] = value;\n}\nfunction module$contents$eeapiclient$domain_object_serializeInstanciator(ctor) {\n  return {};\n}\nfunction module$contents$eeapiclient$domain_object_deserialize(type, raw) {\n  var result = new type();\n  return null == raw ? result : module$contents$eeapiclient$domain_object_deepCopy(raw, module$contents$eeapiclient$domain_object_deserializeGetter, module$contents$eeapiclient$domain_object_deserializeSetter, module$contents$eeapiclient$domain_object_deserializeInstanciator, type);\n}\nmodule$exports$eeapiclient$domain_object.deserialize = module$contents$eeapiclient$domain_object_deserialize;\nfunction module$contents$eeapiclient$domain_object_deserializeGetter(key, obj) {\n  return obj[key];\n}\nfunction module$contents$eeapiclient$domain_object_deserializeSetter(key, obj, value) {\n  obj.Serializable$set(key, value);\n}\nfunction module$contents$eeapiclient$domain_object_deserializeInstanciator(ctor) {\n  if (null == ctor) {\n    throw Error(\"Cannot deserialize, target constructor was null.\");\n  }\n  return new ctor();\n}\nmodule$exports$eeapiclient$domain_object.strictDeserialize = function module$contents$eeapiclient$domain_object_strictDeserialize(type, raw) {\n  return module$contents$eeapiclient$domain_object_deserialize(type, raw);\n};\nvar module$contents$eeapiclient$domain_object_CopyValueGetter, module$contents$eeapiclient$domain_object_CopyValueSetter, module$contents$eeapiclient$domain_object_CopyConstructor, module$contents$eeapiclient$domain_object_CopyInstanciator;\nfunction module$contents$eeapiclient$domain_object_deepCopy(source, valueGetter, valueSetter, copyInstanciator, targetConstructor) {\n  for (var target = copyInstanciator(targetConstructor), metadata = module$contents$eeapiclient$domain_object_deepCopyMetadata(source, target), arrays = metadata.arrays || {}, objects = metadata.objects || {}, objectMaps = metadata.objectMaps || {}, $jscomp$loop$71 = {}, $jscomp$iter$6 = $jscomp.makeIterator(metadata.keys || []), $jscomp$key$key = $jscomp$iter$6.next(); !$jscomp$key$key.done; $jscomp$loop$71 = {$jscomp$loop$prop$mapMetadata$72:$jscomp$loop$71.$jscomp$loop$prop$mapMetadata$72}, \n  $jscomp$key$key = $jscomp$iter$6.next()) {\n    var key = $jscomp$key$key.value, value = valueGetter(key, source);\n    if (null != value) {\n      var copy = void 0;\n      if (arrays.hasOwnProperty(key)) {\n        if (metadata.emptyArrayIsUnset && 0 === value.length) {\n          continue;\n        }\n        copy = module$contents$eeapiclient$domain_object_deepCopyValue(value, valueGetter, valueSetter, copyInstanciator, !0, !0, arrays[key]);\n      } else {\n        if (objects.hasOwnProperty(key)) {\n          copy = module$contents$eeapiclient$domain_object_deepCopyValue(value, valueGetter, valueSetter, copyInstanciator, !1, !0, objects[key]);\n        } else {\n          if (objectMaps.hasOwnProperty(key)) {\n            $jscomp$loop$71.$jscomp$loop$prop$mapMetadata$72 = objectMaps[key], copy = $jscomp$loop$71.$jscomp$loop$prop$mapMetadata$72.isPropertyArray ? value.map(function($jscomp$loop$71) {\n              return function(v) {\n                return module$contents$eeapiclient$domain_object_deepCopyObjectMap(v, $jscomp$loop$71.$jscomp$loop$prop$mapMetadata$72, valueGetter, valueSetter, copyInstanciator);\n              };\n            }($jscomp$loop$71)) : module$contents$eeapiclient$domain_object_deepCopyObjectMap(value, $jscomp$loop$71.$jscomp$loop$prop$mapMetadata$72, valueGetter, valueSetter, copyInstanciator);\n          } else {\n            if (Array.isArray(value)) {\n              if (metadata.emptyArrayIsUnset && 0 === value.length) {\n                continue;\n              }\n              copy = module$contents$eeapiclient$domain_object_deepCopyValue(value, valueGetter, valueSetter, copyInstanciator, !0, !1);\n            } else {\n              copy = value instanceof module$contents$eeapiclient$domain_object_NullClass ? null : value;\n            }\n          }\n        }\n      }\n      valueSetter(key, target, copy);\n    }\n  }\n  return target;\n}\nfunction module$contents$eeapiclient$domain_object_deepCopyObjectMap(value, mapMetadata, valueGetter, valueSetter, copyInstanciator) {\n  for (var objMap = {}, $jscomp$iter$7 = $jscomp.makeIterator(Object.keys(value)), $jscomp$key$mapKey = $jscomp$iter$7.next(); !$jscomp$key$mapKey.done; $jscomp$key$mapKey = $jscomp$iter$7.next()) {\n    var mapKey = $jscomp$key$mapKey.value, mapValue = value[mapKey];\n    null != mapValue && (objMap[mapKey] = module$contents$eeapiclient$domain_object_deepCopyValue(mapValue, valueGetter, valueSetter, copyInstanciator, mapMetadata.isValueArray, mapMetadata.isSerializable, mapMetadata.ctor));\n  }\n  return objMap;\n}\nfunction module$contents$eeapiclient$domain_object_deepCopyValue(value, valueGetter, valueSetter, copyInstanciator, isArray, isRef, ctor) {\n  if (isRef && null == ctor) {\n    throw Error(\"Cannot deserialize a reference object without a constructor.\");\n  }\n  return null == value ? value : isArray && isRef ? value.map(function(v) {\n    return module$contents$eeapiclient$domain_object_deepCopy(v, valueGetter, valueSetter, copyInstanciator, ctor);\n  }) : isArray && !isRef ? value.map(function(v) {\n    return v;\n  }) : !isArray && isRef ? module$contents$eeapiclient$domain_object_deepCopy(value, valueGetter, valueSetter, copyInstanciator, ctor) : value instanceof module$contents$eeapiclient$domain_object_NullClass ? null : \"object\" === typeof value ? JSON.parse(JSON.stringify(value)) : value;\n}\nfunction module$contents$eeapiclient$domain_object_deepCopyMetadata(source, target) {\n  if (target instanceof module$exports$eeapiclient$domain_object.Serializable) {\n    var metadata = target.getClassMetadata();\n  } else {\n    if (source instanceof module$exports$eeapiclient$domain_object.Serializable) {\n      metadata = source.getClassMetadata();\n    } else {\n      throw Error(\"Cannot find ClassMetadata.\");\n    }\n  }\n  return metadata;\n}\nfunction module$contents$eeapiclient$domain_object_deepEquals(serializable1, serializable2) {\n  var metadata1 = serializable1.getClassMetadata(), keys1 = metadata1.keys || [], arrays1 = metadata1.arrays || {}, objects1 = metadata1.objects || {}, objectMaps1 = metadata1.objectMaps || {}, metadata2 = serializable2.getClassMetadata(), arrays2 = metadata2.arrays || {}, objects2 = metadata2.objects || {}, objectMaps2 = metadata2.objectMaps || {};\n  if (!(module$contents$eeapiclient$domain_object_sameKeys(keys1, metadata2.keys || []) && module$contents$eeapiclient$domain_object_sameKeys(arrays1, arrays2) && module$contents$eeapiclient$domain_object_sameKeys(objects1, objects2) && module$contents$eeapiclient$domain_object_sameKeys(objectMaps1, objectMaps2))) {\n    return !1;\n  }\n  for (var $jscomp$loop$73 = {}, $jscomp$iter$8 = $jscomp.makeIterator(keys1), $jscomp$key$key = $jscomp$iter$8.next(); !$jscomp$key$key.done; $jscomp$loop$73 = {$jscomp$loop$prop$value2$74:$jscomp$loop$73.$jscomp$loop$prop$value2$74, $jscomp$loop$prop$mapMetadata$75:$jscomp$loop$73.$jscomp$loop$prop$mapMetadata$75}, $jscomp$key$key = $jscomp$iter$8.next()) {\n    var key = $jscomp$key$key.value, has1 = module$contents$eeapiclient$domain_object_hasAndIsNotEmptyArray(serializable1, key, metadata1), has2 = module$contents$eeapiclient$domain_object_hasAndIsNotEmptyArray(serializable2, key, metadata2);\n    if (has1 !== has2) {\n      return !1;\n    }\n    if (has1) {\n      var value1 = serializable1.Serializable$get(key);\n      $jscomp$loop$73.$jscomp$loop$prop$value2$74 = serializable2.Serializable$get(key);\n      if (arrays1.hasOwnProperty(key)) {\n        if (!module$contents$eeapiclient$domain_object_deepEqualsValue(value1, $jscomp$loop$73.$jscomp$loop$prop$value2$74, !0, !0)) {\n          return !1;\n        }\n      } else {\n        if (objects1.hasOwnProperty(key)) {\n          if (!module$contents$eeapiclient$domain_object_deepEqualsValue(value1, $jscomp$loop$73.$jscomp$loop$prop$value2$74, !1, !0)) {\n            return !1;\n          }\n        } else {\n          if (objectMaps1.hasOwnProperty(key)) {\n            if ($jscomp$loop$73.$jscomp$loop$prop$mapMetadata$75 = objectMaps1[key], $jscomp$loop$73.$jscomp$loop$prop$mapMetadata$75.isPropertyArray) {\n              if (!module$contents$eeapiclient$domain_object_sameKeys(value1, $jscomp$loop$73.$jscomp$loop$prop$value2$74) || value1.some(function($jscomp$loop$73) {\n                return function(v1, i) {\n                  return !module$contents$eeapiclient$domain_object_deepEqualsObjectMap(v1, $jscomp$loop$73.$jscomp$loop$prop$value2$74[i], $jscomp$loop$73.$jscomp$loop$prop$mapMetadata$75);\n                };\n              }($jscomp$loop$73))) {\n                return !1;\n              }\n            } else {\n              if (!module$contents$eeapiclient$domain_object_deepEqualsObjectMap(value1, $jscomp$loop$73.$jscomp$loop$prop$value2$74, $jscomp$loop$73.$jscomp$loop$prop$mapMetadata$75)) {\n                return !1;\n              }\n            }\n          } else {\n            if (Array.isArray(value1)) {\n              if (!module$contents$eeapiclient$domain_object_deepEqualsValue(value1, $jscomp$loop$73.$jscomp$loop$prop$value2$74, !0, !1)) {\n                return !1;\n              }\n            } else {\n              if (!module$contents$eeapiclient$domain_object_deepEqualsValue(value1, $jscomp$loop$73.$jscomp$loop$prop$value2$74, !1, !1)) {\n                return !1;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  return !0;\n}\nmodule$exports$eeapiclient$domain_object.deepEquals = module$contents$eeapiclient$domain_object_deepEquals;\nfunction module$contents$eeapiclient$domain_object_hasAndIsNotEmptyArray(serializable, key, metadata) {\n  if (!serializable.Serializable$has(key)) {\n    return !1;\n  }\n  if (!metadata.emptyArrayIsUnset) {\n    return !0;\n  }\n  var value = serializable.Serializable$get(key);\n  return Array.isArray(value) ? 0 !== value.length : !0;\n}\nfunction module$contents$eeapiclient$domain_object_deepEqualsObjectMap(value1, value2, mapMetadata) {\n  if (!module$contents$eeapiclient$domain_object_sameKeys(value1, value2)) {\n    return !1;\n  }\n  for (var $jscomp$iter$9 = $jscomp.makeIterator(Object.keys(value1)), $jscomp$key$mapKey = $jscomp$iter$9.next(); !$jscomp$key$mapKey.done; $jscomp$key$mapKey = $jscomp$iter$9.next()) {\n    var mapKey = $jscomp$key$mapKey.value;\n    if (!module$contents$eeapiclient$domain_object_deepEqualsValue(value1[mapKey], value2[mapKey], mapMetadata.isValueArray, mapMetadata.isSerializable)) {\n      return !1;\n    }\n  }\n  return !0;\n}\nfunction module$contents$eeapiclient$domain_object_deepEqualsValue(value1, value2, isArray, isSerializable) {\n  if (null == value1 && null == value2) {\n    return !0;\n  }\n  if (isArray && isSerializable) {\n    if (!module$contents$eeapiclient$domain_object_sameKeys(value1, value2) || value1.some(function(v1, i) {\n      return !module$contents$eeapiclient$domain_object_deepEquals(v1, value2[i]);\n    })) {\n      return !1;\n    }\n  } else {\n    if (isArray && !isSerializable) {\n      if (!module$contents$eeapiclient$domain_object_sameKeys(value1, value2) || value1.some(function(v, i) {\n        return v !== value2[i];\n      })) {\n        return !1;\n      }\n    } else {\n      if (\"object\" === typeof value1) {\n        if (JSON.stringify(value1) !== JSON.stringify(value2)) {\n          return !1;\n        }\n      } else {\n        if (value1 !== value2) {\n          return !1;\n        }\n      }\n    }\n  }\n  return !0;\n}\nfunction module$contents$eeapiclient$domain_object_sameKeys(a, b) {\n  if (typeof a !== typeof b || Array.isArray(a) !== Array.isArray(b)) {\n    throw Error(\"Types are not comparable.\");\n  }\n  var aKeys = Object.keys(a), bKeys = Object.keys(b);\n  if (aKeys.length !== bKeys.length) {\n    return !1;\n  }\n  Array.isArray(a) || (aKeys.sort(), bKeys.sort());\n  for (var i = 0; i < aKeys.length; i++) {\n    if (aKeys[i] !== bKeys[i]) {\n      return !1;\n    }\n  }\n  return !0;\n}\nmodule$exports$eeapiclient$domain_object.serializableEqualityTester = function module$contents$eeapiclient$domain_object_serializableEqualityTester(left, right) {\n  if (left instanceof module$exports$eeapiclient$domain_object.Serializable && right instanceof module$exports$eeapiclient$domain_object.Serializable) {\n    return module$contents$eeapiclient$domain_object_deepEquals(left, right);\n  }\n};\ngoog.dom.asserts = {};\ngoog.dom.asserts.assertIsLocation = function(o) {\n  if (goog.asserts.ENABLE_ASSERTS) {\n    var win = goog.dom.asserts.getWindow_(o);\n    win && (!o || !(o instanceof win.Location) && o instanceof win.Element) && goog.asserts.fail(\"Argument is not a Location (or a non-Element mock); got: %s\", goog.dom.asserts.debugStringForType_(o));\n  }\n  return o;\n};\ngoog.dom.asserts.assertIsElementType_ = function(o, typename) {\n  if (goog.asserts.ENABLE_ASSERTS) {\n    var win = goog.dom.asserts.getWindow_(o);\n    win && \"undefined\" != typeof win[typename] && (o && (o instanceof win[typename] || !(o instanceof win.Location || o instanceof win.Element)) || goog.asserts.fail(\"Argument is not a %s (or a non-Element, non-Location mock); got: %s\", typename, goog.dom.asserts.debugStringForType_(o)));\n  }\n  return o;\n};\ngoog.dom.asserts.assertIsHTMLAnchorElement = function(o) {\n  return goog.dom.asserts.assertIsElementType_(o, \"HTMLAnchorElement\");\n};\ngoog.dom.asserts.assertIsHTMLButtonElement = function(o) {\n  return goog.dom.asserts.assertIsElementType_(o, \"HTMLButtonElement\");\n};\ngoog.dom.asserts.assertIsHTMLLinkElement = function(o) {\n  return goog.dom.asserts.assertIsElementType_(o, \"HTMLLinkElement\");\n};\ngoog.dom.asserts.assertIsHTMLImageElement = function(o) {\n  return goog.dom.asserts.assertIsElementType_(o, \"HTMLImageElement\");\n};\ngoog.dom.asserts.assertIsHTMLAudioElement = function(o) {\n  return goog.dom.asserts.assertIsElementType_(o, \"HTMLAudioElement\");\n};\ngoog.dom.asserts.assertIsHTMLVideoElement = function(o) {\n  return goog.dom.asserts.assertIsElementType_(o, \"HTMLVideoElement\");\n};\ngoog.dom.asserts.assertIsHTMLInputElement = function(o) {\n  return goog.dom.asserts.assertIsElementType_(o, \"HTMLInputElement\");\n};\ngoog.dom.asserts.assertIsHTMLTextAreaElement = function(o) {\n  return goog.dom.asserts.assertIsElementType_(o, \"HTMLTextAreaElement\");\n};\ngoog.dom.asserts.assertIsHTMLCanvasElement = function(o) {\n  return goog.dom.asserts.assertIsElementType_(o, \"HTMLCanvasElement\");\n};\ngoog.dom.asserts.assertIsHTMLEmbedElement = function(o) {\n  return goog.dom.asserts.assertIsElementType_(o, \"HTMLEmbedElement\");\n};\ngoog.dom.asserts.assertIsHTMLFormElement = function(o) {\n  return goog.dom.asserts.assertIsElementType_(o, \"HTMLFormElement\");\n};\ngoog.dom.asserts.assertIsHTMLFrameElement = function(o) {\n  return goog.dom.asserts.assertIsElementType_(o, \"HTMLFrameElement\");\n};\ngoog.dom.asserts.assertIsHTMLIFrameElement = function(o) {\n  return goog.dom.asserts.assertIsElementType_(o, \"HTMLIFrameElement\");\n};\ngoog.dom.asserts.assertIsHTMLObjectElement = function(o) {\n  return goog.dom.asserts.assertIsElementType_(o, \"HTMLObjectElement\");\n};\ngoog.dom.asserts.assertIsHTMLScriptElement = function(o) {\n  return goog.dom.asserts.assertIsElementType_(o, \"HTMLScriptElement\");\n};\ngoog.dom.asserts.debugStringForType_ = function(value) {\n  if (goog.isObject(value)) {\n    try {\n      return value.constructor.displayName || value.constructor.name || Object.prototype.toString.call(value);\n    } catch (e) {\n      return \"<object could not be stringified>\";\n    }\n  } else {\n    return void 0 === value ? \"undefined\" : null === value ? \"null\" : typeof value;\n  }\n};\ngoog.dom.asserts.getWindow_ = function(o) {\n  try {\n    var doc = o && o.ownerDocument, win = doc && (doc.defaultView || doc.parentWindow);\n    win = win || goog.global;\n    if (win.Element && win.Location) {\n      return win;\n    }\n  } catch (ex) {\n  }\n  return null;\n};\ngoog.dom.HtmlElement = function() {\n};\ngoog.dom.TagName = function() {\n};\ngoog.dom.TagName.cast = function(name, type) {\n  return name;\n};\ngoog.dom.TagName.prototype.toString = function() {\n};\ngoog.dom.TagName.A = \"A\";\ngoog.dom.TagName.ABBR = \"ABBR\";\ngoog.dom.TagName.ACRONYM = \"ACRONYM\";\ngoog.dom.TagName.ADDRESS = \"ADDRESS\";\ngoog.dom.TagName.APPLET = \"APPLET\";\ngoog.dom.TagName.AREA = \"AREA\";\ngoog.dom.TagName.ARTICLE = \"ARTICLE\";\ngoog.dom.TagName.ASIDE = \"ASIDE\";\ngoog.dom.TagName.AUDIO = \"AUDIO\";\ngoog.dom.TagName.B = \"B\";\ngoog.dom.TagName.BASE = \"BASE\";\ngoog.dom.TagName.BASEFONT = \"BASEFONT\";\ngoog.dom.TagName.BDI = \"BDI\";\ngoog.dom.TagName.BDO = \"BDO\";\ngoog.dom.TagName.BIG = \"BIG\";\ngoog.dom.TagName.BLOCKQUOTE = \"BLOCKQUOTE\";\ngoog.dom.TagName.BODY = \"BODY\";\ngoog.dom.TagName.BR = \"BR\";\ngoog.dom.TagName.BUTTON = \"BUTTON\";\ngoog.dom.TagName.CANVAS = \"CANVAS\";\ngoog.dom.TagName.CAPTION = \"CAPTION\";\ngoog.dom.TagName.CENTER = \"CENTER\";\ngoog.dom.TagName.CITE = \"CITE\";\ngoog.dom.TagName.CODE = \"CODE\";\ngoog.dom.TagName.COL = \"COL\";\ngoog.dom.TagName.COLGROUP = \"COLGROUP\";\ngoog.dom.TagName.COMMAND = \"COMMAND\";\ngoog.dom.TagName.DATA = \"DATA\";\ngoog.dom.TagName.DATALIST = \"DATALIST\";\ngoog.dom.TagName.DD = \"DD\";\ngoog.dom.TagName.DEL = \"DEL\";\ngoog.dom.TagName.DETAILS = \"DETAILS\";\ngoog.dom.TagName.DFN = \"DFN\";\ngoog.dom.TagName.DIALOG = \"DIALOG\";\ngoog.dom.TagName.DIR = \"DIR\";\ngoog.dom.TagName.DIV = \"DIV\";\ngoog.dom.TagName.DL = \"DL\";\ngoog.dom.TagName.DT = \"DT\";\ngoog.dom.TagName.EM = \"EM\";\ngoog.dom.TagName.EMBED = \"EMBED\";\ngoog.dom.TagName.FIELDSET = \"FIELDSET\";\ngoog.dom.TagName.FIGCAPTION = \"FIGCAPTION\";\ngoog.dom.TagName.FIGURE = \"FIGURE\";\ngoog.dom.TagName.FONT = \"FONT\";\ngoog.dom.TagName.FOOTER = \"FOOTER\";\ngoog.dom.TagName.FORM = \"FORM\";\ngoog.dom.TagName.FRAME = \"FRAME\";\ngoog.dom.TagName.FRAMESET = \"FRAMESET\";\ngoog.dom.TagName.H1 = \"H1\";\ngoog.dom.TagName.H2 = \"H2\";\ngoog.dom.TagName.H3 = \"H3\";\ngoog.dom.TagName.H4 = \"H4\";\ngoog.dom.TagName.H5 = \"H5\";\ngoog.dom.TagName.H6 = \"H6\";\ngoog.dom.TagName.HEAD = \"HEAD\";\ngoog.dom.TagName.HEADER = \"HEADER\";\ngoog.dom.TagName.HGROUP = \"HGROUP\";\ngoog.dom.TagName.HR = \"HR\";\ngoog.dom.TagName.HTML = \"HTML\";\ngoog.dom.TagName.I = \"I\";\ngoog.dom.TagName.IFRAME = \"IFRAME\";\ngoog.dom.TagName.IMG = \"IMG\";\ngoog.dom.TagName.INPUT = \"INPUT\";\ngoog.dom.TagName.INS = \"INS\";\ngoog.dom.TagName.ISINDEX = \"ISINDEX\";\ngoog.dom.TagName.KBD = \"KBD\";\ngoog.dom.TagName.KEYGEN = \"KEYGEN\";\ngoog.dom.TagName.LABEL = \"LABEL\";\ngoog.dom.TagName.LEGEND = \"LEGEND\";\ngoog.dom.TagName.LI = \"LI\";\ngoog.dom.TagName.LINK = \"LINK\";\ngoog.dom.TagName.MAIN = \"MAIN\";\ngoog.dom.TagName.MAP = \"MAP\";\ngoog.dom.TagName.MARK = \"MARK\";\ngoog.dom.TagName.MATH = \"MATH\";\ngoog.dom.TagName.MENU = \"MENU\";\ngoog.dom.TagName.MENUITEM = \"MENUITEM\";\ngoog.dom.TagName.META = \"META\";\ngoog.dom.TagName.METER = \"METER\";\ngoog.dom.TagName.NAV = \"NAV\";\ngoog.dom.TagName.NOFRAMES = \"NOFRAMES\";\ngoog.dom.TagName.NOSCRIPT = \"NOSCRIPT\";\ngoog.dom.TagName.OBJECT = \"OBJECT\";\ngoog.dom.TagName.OL = \"OL\";\ngoog.dom.TagName.OPTGROUP = \"OPTGROUP\";\ngoog.dom.TagName.OPTION = \"OPTION\";\ngoog.dom.TagName.OUTPUT = \"OUTPUT\";\ngoog.dom.TagName.P = \"P\";\ngoog.dom.TagName.PARAM = \"PARAM\";\ngoog.dom.TagName.PICTURE = \"PICTURE\";\ngoog.dom.TagName.PRE = \"PRE\";\ngoog.dom.TagName.PROGRESS = \"PROGRESS\";\ngoog.dom.TagName.Q = \"Q\";\ngoog.dom.TagName.RP = \"RP\";\ngoog.dom.TagName.RT = \"RT\";\ngoog.dom.TagName.RTC = \"RTC\";\ngoog.dom.TagName.RUBY = \"RUBY\";\ngoog.dom.TagName.S = \"S\";\ngoog.dom.TagName.SAMP = \"SAMP\";\ngoog.dom.TagName.SCRIPT = \"SCRIPT\";\ngoog.dom.TagName.SECTION = \"SECTION\";\ngoog.dom.TagName.SELECT = \"SELECT\";\ngoog.dom.TagName.SMALL = \"SMALL\";\ngoog.dom.TagName.SOURCE = \"SOURCE\";\ngoog.dom.TagName.SPAN = \"SPAN\";\ngoog.dom.TagName.STRIKE = \"STRIKE\";\ngoog.dom.TagName.STRONG = \"STRONG\";\ngoog.dom.TagName.STYLE = \"STYLE\";\ngoog.dom.TagName.SUB = \"SUB\";\ngoog.dom.TagName.SUMMARY = \"SUMMARY\";\ngoog.dom.TagName.SUP = \"SUP\";\ngoog.dom.TagName.SVG = \"SVG\";\ngoog.dom.TagName.TABLE = \"TABLE\";\ngoog.dom.TagName.TBODY = \"TBODY\";\ngoog.dom.TagName.TD = \"TD\";\ngoog.dom.TagName.TEMPLATE = \"TEMPLATE\";\ngoog.dom.TagName.TEXTAREA = \"TEXTAREA\";\ngoog.dom.TagName.TFOOT = \"TFOOT\";\ngoog.dom.TagName.TH = \"TH\";\ngoog.dom.TagName.THEAD = \"THEAD\";\ngoog.dom.TagName.TIME = \"TIME\";\ngoog.dom.TagName.TITLE = \"TITLE\";\ngoog.dom.TagName.TR = \"TR\";\ngoog.dom.TagName.TRACK = \"TRACK\";\ngoog.dom.TagName.TT = \"TT\";\ngoog.dom.TagName.U = \"U\";\ngoog.dom.TagName.UL = \"UL\";\ngoog.dom.TagName.VAR = \"VAR\";\ngoog.dom.TagName.VIDEO = \"VIDEO\";\ngoog.dom.TagName.WBR = \"WBR\";\ngoog.dom.tags = {};\ngoog.dom.tags.VOID_TAGS_ = {area:!0, base:!0, br:!0, col:!0, command:!0, embed:!0, hr:!0, img:!0, input:!0, keygen:!0, link:!0, meta:!0, param:!0, source:!0, track:!0, wbr:!0};\ngoog.dom.tags.isVoidTag = function(tagName) {\n  return !0 === goog.dom.tags.VOID_TAGS_[tagName];\n};\ngoog.html = {};\ngoog.html.trustedtypes = {};\ngoog.html.trustedtypes.getPolicyPrivateDoNotAccessOrElse = function() {\n  if (!goog.TRUSTED_TYPES_POLICY_NAME) {\n    return null;\n  }\n  void 0 === goog.html.trustedtypes.cachedPolicy_ && (goog.html.trustedtypes.cachedPolicy_ = goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME + \"#html\"));\n  return goog.html.trustedtypes.cachedPolicy_;\n};\ngoog.string.TypedString = function() {\n};\ngoog.string.Const = function(opt_token, opt_content) {\n  this.stringConstValueWithSecurityContract__googStringSecurityPrivate_ = opt_token === goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_ && opt_content || \"\";\n  this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_ = goog.string.Const.TYPE_MARKER_;\n};\ngoog.string.Const.prototype.implementsGoogStringTypedString = !0;\ngoog.string.Const.prototype.getTypedStringValue = function() {\n  return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_;\n};\ngoog.DEBUG && (goog.string.Const.prototype.toString = function() {\n  return \"Const{\" + this.stringConstValueWithSecurityContract__googStringSecurityPrivate_ + \"}\";\n});\ngoog.string.Const.unwrap = function(stringConst) {\n  if (stringConst instanceof goog.string.Const && stringConst.constructor === goog.string.Const && stringConst.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_ === goog.string.Const.TYPE_MARKER_) {\n    return stringConst.stringConstValueWithSecurityContract__googStringSecurityPrivate_;\n  }\n  goog.asserts.fail(\"expected object of type Const, got '\" + stringConst + \"'\");\n  return \"type_error:Const\";\n};\ngoog.string.Const.from = function(s) {\n  return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_, s);\n};\ngoog.string.Const.TYPE_MARKER_ = {};\ngoog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_ = {};\ngoog.string.Const.EMPTY = goog.string.Const.from(\"\");\nvar module$contents$goog$html$SafeScript_CONSTRUCTOR_TOKEN_PRIVATE = {}, module$contents$goog$html$SafeScript_SafeScript = function(value, token) {\n  this.privateDoNotAccessOrElseSafeScriptWrappedValue_ = token === module$contents$goog$html$SafeScript_CONSTRUCTOR_TOKEN_PRIVATE ? value : \"\";\n  this.implementsGoogStringTypedString = !0;\n};\nmodule$contents$goog$html$SafeScript_SafeScript.fromConstant = function(script) {\n  var scriptString = goog.string.Const.unwrap(script);\n  return 0 === scriptString.length ? module$contents$goog$html$SafeScript_SafeScript.EMPTY : module$contents$goog$html$SafeScript_SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(scriptString);\n};\nmodule$contents$goog$html$SafeScript_SafeScript.fromJson = function(val) {\n  return module$contents$goog$html$SafeScript_SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(module$contents$goog$html$SafeScript_SafeScript.stringify_(val));\n};\nmodule$contents$goog$html$SafeScript_SafeScript.prototype.getTypedStringValue = function() {\n  return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString();\n};\nmodule$contents$goog$html$SafeScript_SafeScript.unwrap = function(safeScript) {\n  return module$contents$goog$html$SafeScript_SafeScript.unwrapTrustedScript(safeScript).toString();\n};\nmodule$contents$goog$html$SafeScript_SafeScript.unwrapTrustedScript = function(safeScript) {\n  if (safeScript instanceof module$contents$goog$html$SafeScript_SafeScript && safeScript.constructor === module$contents$goog$html$SafeScript_SafeScript) {\n    return safeScript.privateDoNotAccessOrElseSafeScriptWrappedValue_;\n  }\n  (0,goog.asserts.fail)(\"expected object of type SafeScript, got '\" + safeScript + \"' of type \" + goog.typeOf(safeScript));\n  return \"type_error:SafeScript\";\n};\nmodule$contents$goog$html$SafeScript_SafeScript.stringify_ = function(val) {\n  return JSON.stringify(val).replace(/</g, \"\\\\x3c\");\n};\nmodule$contents$goog$html$SafeScript_SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse = function(script) {\n  var policy = goog.html.trustedtypes.getPolicyPrivateDoNotAccessOrElse(), trustedScript = policy ? policy.createScript(script) : script;\n  return new module$contents$goog$html$SafeScript_SafeScript(trustedScript, module$contents$goog$html$SafeScript_CONSTRUCTOR_TOKEN_PRIVATE);\n};\nmodule$contents$goog$html$SafeScript_SafeScript.prototype.toString = function() {\n  return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString();\n};\nmodule$contents$goog$html$SafeScript_SafeScript.EMPTY = function() {\n  return module$contents$goog$html$SafeScript_SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(\"\");\n}();\ngoog.html.SafeScript = module$contents$goog$html$SafeScript_SafeScript;\ngoog.fs = {};\ngoog.fs.url = {};\ngoog.fs.url.createObjectUrl = function(obj) {\n  return goog.fs.url.getUrlObject_().createObjectURL(obj);\n};\ngoog.fs.url.revokeObjectUrl = function(url) {\n  goog.fs.url.getUrlObject_().revokeObjectURL(url);\n};\ngoog.fs.url.UrlObject_ = function() {\n};\ngoog.fs.url.UrlObject_.prototype.createObjectURL = function(arg) {\n};\ngoog.fs.url.UrlObject_.prototype.revokeObjectURL = function(s) {\n};\ngoog.fs.url.getUrlObject_ = function() {\n  var urlObject = goog.fs.url.findUrlObject_();\n  if (null != urlObject) {\n    return urlObject;\n  }\n  throw Error(\"This browser doesn't seem to support blob URLs\");\n};\ngoog.fs.url.findUrlObject_ = function() {\n  return void 0 !== goog.global.URL && void 0 !== goog.global.URL.createObjectURL ? goog.global.URL : void 0 !== goog.global.createObjectURL ? goog.global : null;\n};\ngoog.fs.url.browserSupportsObjectUrls = function() {\n  return null != goog.fs.url.findUrlObject_();\n};\ngoog.fs.blob = {};\ngoog.fs.blob.getBlob = function(var_args) {\n  var BlobBuilder = goog.global.BlobBuilder || goog.global.WebKitBlobBuilder;\n  if (void 0 !== BlobBuilder) {\n    for (var bb = new BlobBuilder(), i = 0; i < arguments.length; i++) {\n      bb.append(arguments[i]);\n    }\n    return bb.getBlob();\n  }\n  return goog.fs.blob.getBlobWithProperties(Array.prototype.slice.call(arguments));\n};\ngoog.fs.blob.getBlobWithProperties = function(parts, opt_type, opt_endings) {\n  var BlobBuilder = goog.global.BlobBuilder || goog.global.WebKitBlobBuilder;\n  if (void 0 !== BlobBuilder) {\n    for (var bb = new BlobBuilder(), i = 0; i < parts.length; i++) {\n      bb.append(parts[i], opt_endings);\n    }\n    return bb.getBlob(opt_type);\n  }\n  if (void 0 !== goog.global.Blob) {\n    var properties = {};\n    opt_type && (properties.type = opt_type);\n    opt_endings && (properties.endings = opt_endings);\n    return new Blob(parts, properties);\n  }\n  throw Error(\"This browser doesn't seem to support creating Blobs\");\n};\ngoog.i18n = {};\ngoog.i18n.bidi = {};\ngoog.i18n.bidi.FORCE_RTL = !1;\ngoog.i18n.bidi.IS_RTL = goog.i18n.bidi.FORCE_RTL || (\"ar\" == goog.LOCALE.substring(0, 2).toLowerCase() || \"fa\" == goog.LOCALE.substring(0, 2).toLowerCase() || \"he\" == goog.LOCALE.substring(0, 2).toLowerCase() || \"iw\" == goog.LOCALE.substring(0, 2).toLowerCase() || \"ps\" == goog.LOCALE.substring(0, 2).toLowerCase() || \"sd\" == goog.LOCALE.substring(0, 2).toLowerCase() || \"ug\" == goog.LOCALE.substring(0, 2).toLowerCase() || \"ur\" == goog.LOCALE.substring(0, 2).toLowerCase() || \"yi\" == goog.LOCALE.substring(0, \n2).toLowerCase()) && (2 == goog.LOCALE.length || \"-\" == goog.LOCALE.substring(2, 3) || \"_\" == goog.LOCALE.substring(2, 3)) || 3 <= goog.LOCALE.length && \"ckb\" == goog.LOCALE.substring(0, 3).toLowerCase() && (3 == goog.LOCALE.length || \"-\" == goog.LOCALE.substring(3, 4) || \"_\" == goog.LOCALE.substring(3, 4)) || 7 <= goog.LOCALE.length && (\"-\" == goog.LOCALE.substring(2, 3) || \"_\" == goog.LOCALE.substring(2, 3)) && (\"adlm\" == goog.LOCALE.substring(3, 7).toLowerCase() || \"arab\" == goog.LOCALE.substring(3, \n7).toLowerCase() || \"hebr\" == goog.LOCALE.substring(3, 7).toLowerCase() || \"nkoo\" == goog.LOCALE.substring(3, 7).toLowerCase() || \"rohg\" == goog.LOCALE.substring(3, 7).toLowerCase() || \"thaa\" == goog.LOCALE.substring(3, 7).toLowerCase()) || 8 <= goog.LOCALE.length && (\"-\" == goog.LOCALE.substring(3, 4) || \"_\" == goog.LOCALE.substring(3, 4)) && (\"adlm\" == goog.LOCALE.substring(4, 8).toLowerCase() || \"arab\" == goog.LOCALE.substring(4, 8).toLowerCase() || \"hebr\" == goog.LOCALE.substring(4, 8).toLowerCase() || \n\"nkoo\" == goog.LOCALE.substring(4, 8).toLowerCase() || \"rohg\" == goog.LOCALE.substring(4, 8).toLowerCase() || \"thaa\" == goog.LOCALE.substring(4, 8).toLowerCase());\ngoog.i18n.bidi.Format = {LRE:\"\\u202a\", RLE:\"\\u202b\", PDF:\"\\u202c\", LRM:\"\\u200e\", RLM:\"\\u200f\"};\ngoog.i18n.bidi.Dir = {LTR:1, RTL:-1, NEUTRAL:0};\ngoog.i18n.bidi.RIGHT = \"right\";\ngoog.i18n.bidi.LEFT = \"left\";\ngoog.i18n.bidi.I18N_RIGHT = goog.i18n.bidi.IS_RTL ? goog.i18n.bidi.LEFT : goog.i18n.bidi.RIGHT;\ngoog.i18n.bidi.I18N_LEFT = goog.i18n.bidi.IS_RTL ? goog.i18n.bidi.RIGHT : goog.i18n.bidi.LEFT;\ngoog.i18n.bidi.toDir = function(givenDir, opt_noNeutral) {\n  return \"number\" == typeof givenDir ? 0 < givenDir ? goog.i18n.bidi.Dir.LTR : 0 > givenDir ? goog.i18n.bidi.Dir.RTL : opt_noNeutral ? null : goog.i18n.bidi.Dir.NEUTRAL : null == givenDir ? null : givenDir ? goog.i18n.bidi.Dir.RTL : goog.i18n.bidi.Dir.LTR;\n};\ngoog.i18n.bidi.ltrChars_ = \"A-Za-z\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u02b8\\u0300-\\u0590\\u0900-\\u1fff\\u200e\\u2c00-\\ud801\\ud804-\\ud839\\ud83c-\\udbff\\uf900-\\ufb1c\\ufe00-\\ufe6f\\ufefd-\\uffff\";\ngoog.i18n.bidi.rtlChars_ = \"\\u0591-\\u06ef\\u06fa-\\u08ff\\u200f\\ud802-\\ud803\\ud83a-\\ud83b\\ufb1d-\\ufdff\\ufe70-\\ufefc\";\ngoog.i18n.bidi.htmlSkipReg_ = /<[^>]*>|&[^;]+;/g;\ngoog.i18n.bidi.stripHtmlIfNeeded_ = function(str, opt_isStripNeeded) {\n  return opt_isStripNeeded ? str.replace(goog.i18n.bidi.htmlSkipReg_, \"\") : str;\n};\ngoog.i18n.bidi.rtlCharReg_ = new RegExp(\"[\" + goog.i18n.bidi.rtlChars_ + \"]\");\ngoog.i18n.bidi.ltrCharReg_ = new RegExp(\"[\" + goog.i18n.bidi.ltrChars_ + \"]\");\ngoog.i18n.bidi.hasAnyRtl = function(str, opt_isHtml) {\n  return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml));\n};\ngoog.i18n.bidi.hasRtlChar = goog.i18n.bidi.hasAnyRtl;\ngoog.i18n.bidi.hasAnyLtr = function(str, opt_isHtml) {\n  return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml));\n};\ngoog.i18n.bidi.ltrRe_ = new RegExp(\"^[\" + goog.i18n.bidi.ltrChars_ + \"]\");\ngoog.i18n.bidi.rtlRe_ = new RegExp(\"^[\" + goog.i18n.bidi.rtlChars_ + \"]\");\ngoog.i18n.bidi.isRtlChar = function(str) {\n  return goog.i18n.bidi.rtlRe_.test(str);\n};\ngoog.i18n.bidi.isLtrChar = function(str) {\n  return goog.i18n.bidi.ltrRe_.test(str);\n};\ngoog.i18n.bidi.isNeutralChar = function(str) {\n  return !goog.i18n.bidi.isLtrChar(str) && !goog.i18n.bidi.isRtlChar(str);\n};\ngoog.i18n.bidi.ltrDirCheckRe_ = new RegExp(\"^[^\" + goog.i18n.bidi.rtlChars_ + \"]*[\" + goog.i18n.bidi.ltrChars_ + \"]\");\ngoog.i18n.bidi.rtlDirCheckRe_ = new RegExp(\"^[^\" + goog.i18n.bidi.ltrChars_ + \"]*[\" + goog.i18n.bidi.rtlChars_ + \"]\");\ngoog.i18n.bidi.startsWithRtl = function(str, opt_isHtml) {\n  return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml));\n};\ngoog.i18n.bidi.isRtlText = goog.i18n.bidi.startsWithRtl;\ngoog.i18n.bidi.startsWithLtr = function(str, opt_isHtml) {\n  return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml));\n};\ngoog.i18n.bidi.isLtrText = goog.i18n.bidi.startsWithLtr;\ngoog.i18n.bidi.isRequiredLtrRe_ = /^http:\\/\\/.*/;\ngoog.i18n.bidi.isNeutralText = function(str, opt_isHtml) {\n  str = goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml);\n  return goog.i18n.bidi.isRequiredLtrRe_.test(str) || !goog.i18n.bidi.hasAnyLtr(str) && !goog.i18n.bidi.hasAnyRtl(str);\n};\ngoog.i18n.bidi.ltrExitDirCheckRe_ = new RegExp(\"[\" + goog.i18n.bidi.ltrChars_ + \"][^\" + goog.i18n.bidi.rtlChars_ + \"]*$\");\ngoog.i18n.bidi.rtlExitDirCheckRe_ = new RegExp(\"[\" + goog.i18n.bidi.rtlChars_ + \"][^\" + goog.i18n.bidi.ltrChars_ + \"]*$\");\ngoog.i18n.bidi.endsWithLtr = function(str, opt_isHtml) {\n  return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml));\n};\ngoog.i18n.bidi.isLtrExitText = goog.i18n.bidi.endsWithLtr;\ngoog.i18n.bidi.endsWithRtl = function(str, opt_isHtml) {\n  return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml));\n};\ngoog.i18n.bidi.isRtlExitText = goog.i18n.bidi.endsWithRtl;\ngoog.i18n.bidi.rtlLocalesRe_ = RegExp(\"^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)\", \"i\");\ngoog.i18n.bidi.isRtlLanguage = function(lang) {\n  return goog.i18n.bidi.rtlLocalesRe_.test(lang);\n};\ngoog.i18n.bidi.bracketGuardTextRe_ = /(\\(.*?\\)+)|(\\[.*?\\]+)|(\\{.*?\\}+)|(<.*?>+)/g;\ngoog.i18n.bidi.guardBracketInText = function(s, opt_isRtlContext) {\n  var mark = (void 0 === opt_isRtlContext ? goog.i18n.bidi.hasAnyRtl(s) : opt_isRtlContext) ? goog.i18n.bidi.Format.RLM : goog.i18n.bidi.Format.LRM;\n  return s.replace(goog.i18n.bidi.bracketGuardTextRe_, mark + \"$&\" + mark);\n};\ngoog.i18n.bidi.enforceRtlInHtml = function(html) {\n  return \"<\" == html.charAt(0) ? html.replace(/<\\w+/, \"$& dir=rtl\") : \"\\n<span dir=rtl>\" + html + \"</span>\";\n};\ngoog.i18n.bidi.enforceRtlInText = function(text) {\n  return goog.i18n.bidi.Format.RLE + text + goog.i18n.bidi.Format.PDF;\n};\ngoog.i18n.bidi.enforceLtrInHtml = function(html) {\n  return \"<\" == html.charAt(0) ? html.replace(/<\\w+/, \"$& dir=ltr\") : \"\\n<span dir=ltr>\" + html + \"</span>\";\n};\ngoog.i18n.bidi.enforceLtrInText = function(text) {\n  return goog.i18n.bidi.Format.LRE + text + goog.i18n.bidi.Format.PDF;\n};\ngoog.i18n.bidi.dimensionsRe_ = /:\\s*([.\\d][.\\w]*)\\s+([.\\d][.\\w]*)\\s+([.\\d][.\\w]*)\\s+([.\\d][.\\w]*)/g;\ngoog.i18n.bidi.leftRe_ = /left/gi;\ngoog.i18n.bidi.rightRe_ = /right/gi;\ngoog.i18n.bidi.tempRe_ = /%%%%/g;\ngoog.i18n.bidi.mirrorCSS = function(cssStr) {\n  return cssStr.replace(goog.i18n.bidi.dimensionsRe_, \":$1 $4 $3 $2\").replace(goog.i18n.bidi.leftRe_, \"%%%%\").replace(goog.i18n.bidi.rightRe_, goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_, goog.i18n.bidi.RIGHT);\n};\ngoog.i18n.bidi.doubleQuoteSubstituteRe_ = /([\\u0591-\\u05f2])\"/g;\ngoog.i18n.bidi.singleQuoteSubstituteRe_ = /([\\u0591-\\u05f2])'/g;\ngoog.i18n.bidi.normalizeHebrewQuote = function(str) {\n  return str.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_, \"$1\\u05f4\").replace(goog.i18n.bidi.singleQuoteSubstituteRe_, \"$1\\u05f3\");\n};\ngoog.i18n.bidi.wordSeparatorRe_ = /\\s+/;\ngoog.i18n.bidi.hasNumeralsRe_ = /[\\d\\u06f0-\\u06f9]/;\ngoog.i18n.bidi.rtlDetectionThreshold_ = 0.40;\ngoog.i18n.bidi.estimateDirection = function(str, opt_isHtml) {\n  for (var rtlCount = 0, totalCount = 0, hasWeaklyLtr = !1, tokens = goog.i18n.bidi.stripHtmlIfNeeded_(str, opt_isHtml).split(goog.i18n.bidi.wordSeparatorRe_), i = 0; i < tokens.length; i++) {\n    var token = tokens[i];\n    goog.i18n.bidi.startsWithRtl(token) ? (rtlCount++, totalCount++) : goog.i18n.bidi.isRequiredLtrRe_.test(token) ? hasWeaklyLtr = !0 : goog.i18n.bidi.hasAnyLtr(token) ? totalCount++ : goog.i18n.bidi.hasNumeralsRe_.test(token) && (hasWeaklyLtr = !0);\n  }\n  return 0 == totalCount ? hasWeaklyLtr ? goog.i18n.bidi.Dir.LTR : goog.i18n.bidi.Dir.NEUTRAL : rtlCount / totalCount > goog.i18n.bidi.rtlDetectionThreshold_ ? goog.i18n.bidi.Dir.RTL : goog.i18n.bidi.Dir.LTR;\n};\ngoog.i18n.bidi.detectRtlDirectionality = function(str, opt_isHtml) {\n  return goog.i18n.bidi.estimateDirection(str, opt_isHtml) == goog.i18n.bidi.Dir.RTL;\n};\ngoog.i18n.bidi.setElementDirAndAlign = function(element, dir) {\n  element && (dir = goog.i18n.bidi.toDir(dir)) && (element.style.textAlign = dir == goog.i18n.bidi.Dir.RTL ? goog.i18n.bidi.RIGHT : goog.i18n.bidi.LEFT, element.dir = dir == goog.i18n.bidi.Dir.RTL ? \"rtl\" : \"ltr\");\n};\ngoog.i18n.bidi.setElementDirByTextDirectionality = function(element, text) {\n  switch(goog.i18n.bidi.estimateDirection(text)) {\n    case goog.i18n.bidi.Dir.LTR:\n      \"ltr\" !== element.dir && (element.dir = \"ltr\");\n      break;\n    case goog.i18n.bidi.Dir.RTL:\n      \"rtl\" !== element.dir && (element.dir = \"rtl\");\n      break;\n    default:\n      element.removeAttribute(\"dir\");\n  }\n};\ngoog.i18n.bidi.DirectionalString = function() {\n};\ngoog.html.TrustedResourceUrl = function(value, token) {\n  this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_ = token === goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_ ? value : \"\";\n};\ngoog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString = !0;\ngoog.html.TrustedResourceUrl.prototype.getTypedStringValue = function() {\n  return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString();\n};\ngoog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString = !0;\ngoog.html.TrustedResourceUrl.prototype.getDirection = function() {\n  return goog.i18n.bidi.Dir.LTR;\n};\ngoog.html.TrustedResourceUrl.prototype.cloneWithParams = function(searchParams, opt_hashParams) {\n  var url = goog.html.TrustedResourceUrl.unwrap(this), parts = goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(url), urlHash = parts[3] || \"\";\n  return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(parts[1] + goog.html.TrustedResourceUrl.stringifyParams_(\"?\", parts[2] || \"\", searchParams) + goog.html.TrustedResourceUrl.stringifyParams_(\"#\", urlHash, opt_hashParams));\n};\ngoog.html.TrustedResourceUrl.prototype.toString = function() {\n  return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_ + \"\";\n};\ngoog.html.TrustedResourceUrl.unwrap = function(trustedResourceUrl) {\n  return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(trustedResourceUrl).toString();\n};\ngoog.html.TrustedResourceUrl.unwrapTrustedScriptURL = function(trustedResourceUrl) {\n  if (trustedResourceUrl instanceof goog.html.TrustedResourceUrl && trustedResourceUrl.constructor === goog.html.TrustedResourceUrl) {\n    return trustedResourceUrl.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_;\n  }\n  goog.asserts.fail(\"expected object of type TrustedResourceUrl, got '\" + trustedResourceUrl + \"' of type \" + goog.typeOf(trustedResourceUrl));\n  return \"type_error:TrustedResourceUrl\";\n};\ngoog.html.TrustedResourceUrl.format = function(format, args) {\n  var formatStr = goog.string.Const.unwrap(format);\n  if (!goog.html.TrustedResourceUrl.BASE_URL_.test(formatStr)) {\n    throw Error(\"Invalid TrustedResourceUrl format: \" + formatStr);\n  }\n  var result = formatStr.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_, function(match, id) {\n    if (!Object.prototype.hasOwnProperty.call(args, id)) {\n      throw Error('Found marker, \"' + id + '\", in format string, \"' + formatStr + '\", but no valid label mapping found in args: ' + JSON.stringify(args));\n    }\n    var arg = args[id];\n    return arg instanceof goog.string.Const ? goog.string.Const.unwrap(arg) : encodeURIComponent(String(arg));\n  });\n  return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(result);\n};\ngoog.html.TrustedResourceUrl.FORMAT_MARKER_ = /%{(\\w+)}/g;\ngoog.html.TrustedResourceUrl.BASE_URL_ = RegExp(\"^((https:)?//[0-9a-z.:[\\\\]-]+/|/[^/\\\\\\\\]|[^:/\\\\\\\\%]+/|[^:/\\\\\\\\%]*[?#]|about:blank#)\", \"i\");\ngoog.html.TrustedResourceUrl.URL_PARAM_PARSER_ = /^([^?#]*)(\\?[^#]*)?(#[\\s\\S]*)?/;\ngoog.html.TrustedResourceUrl.formatWithParams = function(format, args, searchParams, opt_hashParams) {\n  return goog.html.TrustedResourceUrl.format(format, args).cloneWithParams(searchParams, opt_hashParams);\n};\ngoog.html.TrustedResourceUrl.fromConstant = function(url) {\n  return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(url));\n};\ngoog.html.TrustedResourceUrl.fromConstants = function(parts) {\n  for (var unwrapped = \"\", i = 0; i < parts.length; i++) {\n    unwrapped += goog.string.Const.unwrap(parts[i]);\n  }\n  return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(unwrapped);\n};\ngoog.html.TrustedResourceUrl.fromSafeScript = function(safeScript) {\n  var blob = goog.fs.blob.getBlobWithProperties([module$contents$goog$html$SafeScript_SafeScript.unwrap(safeScript)], \"text/javascript\"), url = goog.fs.url.createObjectUrl(blob);\n  return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(url);\n};\ngoog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_ = {};\ngoog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse = function(url) {\n  var policy = goog.html.trustedtypes.getPolicyPrivateDoNotAccessOrElse(), value = policy ? policy.createScriptURL(url) : url;\n  return new goog.html.TrustedResourceUrl(value, goog.html.TrustedResourceUrl.CONSTRUCTOR_TOKEN_PRIVATE_);\n};\ngoog.html.TrustedResourceUrl.stringifyParams_ = function(prefix, currentString, params) {\n  if (null == params) {\n    return currentString;\n  }\n  if (\"string\" === typeof params) {\n    return params ? prefix + encodeURIComponent(params) : \"\";\n  }\n  for (var key in params) {\n    if (Object.prototype.hasOwnProperty.call(params, key)) {\n      for (var value = params[key], outputValues = Array.isArray(value) ? value : [value], i = 0; i < outputValues.length; i++) {\n        var outputValue = outputValues[i];\n        null != outputValue && (currentString || (currentString = prefix), currentString += (currentString.length > prefix.length ? \"&\" : \"\") + encodeURIComponent(key) + \"=\" + encodeURIComponent(String(outputValue)));\n      }\n    }\n  }\n  return currentString;\n};\ngoog.html.SafeUrl = function(value, token) {\n  this.privateDoNotAccessOrElseSafeUrlWrappedValue_ = token === goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_ ? value : \"\";\n};\ngoog.html.SafeUrl.INNOCUOUS_STRING = \"about:invalid#zClosurez\";\ngoog.html.SafeUrl.prototype.implementsGoogStringTypedString = !0;\ngoog.html.SafeUrl.prototype.getTypedStringValue = function() {\n  return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString();\n};\ngoog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString = !0;\ngoog.html.SafeUrl.prototype.getDirection = function() {\n  return goog.i18n.bidi.Dir.LTR;\n};\ngoog.html.SafeUrl.prototype.toString = function() {\n  return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString();\n};\ngoog.html.SafeUrl.unwrap = function(safeUrl) {\n  if (safeUrl instanceof goog.html.SafeUrl && safeUrl.constructor === goog.html.SafeUrl) {\n    return safeUrl.privateDoNotAccessOrElseSafeUrlWrappedValue_;\n  }\n  goog.asserts.fail(\"expected object of type SafeUrl, got '\" + safeUrl + \"' of type \" + goog.typeOf(safeUrl));\n  return \"type_error:SafeUrl\";\n};\ngoog.html.SafeUrl.fromConstant = function(url) {\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(url));\n};\ngoog.html.SAFE_MIME_TYPE_PATTERN_ = RegExp('^(?:audio/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font/\\\\w+|image/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|video/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\\\\w+=(?:\\\\w+|\"[\\\\w;,= ]+\"))*$', \"i\");\ngoog.html.SafeUrl.isSafeMimeType = function(mimeType) {\n  return goog.html.SAFE_MIME_TYPE_PATTERN_.test(mimeType);\n};\ngoog.html.SafeUrl.fromBlob = function(blob) {\n  var url = goog.html.SafeUrl.isSafeMimeType(blob.type) ? goog.fs.url.createObjectUrl(blob) : goog.html.SafeUrl.INNOCUOUS_STRING;\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(url);\n};\ngoog.html.SafeUrl.revokeObjectUrl = function(safeUrl) {\n  var url = safeUrl.getTypedStringValue();\n  url !== goog.html.SafeUrl.INNOCUOUS_STRING && goog.fs.url.revokeObjectUrl(url);\n};\ngoog.html.SafeUrl.fromMediaSource = function(mediaSource) {\n  goog.asserts.assert(\"MediaSource\" in goog.global, \"No support for MediaSource\");\n  var url = mediaSource instanceof MediaSource ? goog.fs.url.createObjectUrl(mediaSource) : goog.html.SafeUrl.INNOCUOUS_STRING;\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(url);\n};\ngoog.html.DATA_URL_PATTERN_ = /^data:(.*);base64,[a-z0-9+\\/]+=*$/i;\ngoog.html.SafeUrl.tryFromDataUrl = function(dataUrl) {\n  dataUrl = String(dataUrl);\n  var filteredDataUrl = dataUrl.replace(/(%0A|%0D)/g, \"\"), match = filteredDataUrl.match(goog.html.DATA_URL_PATTERN_);\n  return match && goog.html.SafeUrl.isSafeMimeType(match[1]) ? goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(filteredDataUrl) : null;\n};\ngoog.html.SafeUrl.fromDataUrl = function(dataUrl) {\n  return goog.html.SafeUrl.tryFromDataUrl(dataUrl) || goog.html.SafeUrl.INNOCUOUS_URL;\n};\ngoog.html.SafeUrl.fromTelUrl = function(telUrl) {\n  goog.string.internal.caseInsensitiveStartsWith(telUrl, \"tel:\") || (telUrl = goog.html.SafeUrl.INNOCUOUS_STRING);\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(telUrl);\n};\ngoog.html.SIP_URL_PATTERN_ = RegExp(\"^sip[s]?:[+a-z0-9_.!$%&'*\\\\/=^`{|}~-]+@([a-z0-9-]+\\\\.)+[a-z0-9]{2,63}$\", \"i\");\ngoog.html.SafeUrl.fromSipUrl = function(sipUrl) {\n  goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(sipUrl)) || (sipUrl = goog.html.SafeUrl.INNOCUOUS_STRING);\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(sipUrl);\n};\ngoog.html.SafeUrl.fromFacebookMessengerUrl = function(facebookMessengerUrl) {\n  goog.string.internal.caseInsensitiveStartsWith(facebookMessengerUrl, \"fb-messenger://share\") || (facebookMessengerUrl = goog.html.SafeUrl.INNOCUOUS_STRING);\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(facebookMessengerUrl);\n};\ngoog.html.SafeUrl.fromWhatsAppUrl = function(whatsAppUrl) {\n  goog.string.internal.caseInsensitiveStartsWith(whatsAppUrl, \"whatsapp://send\") || (whatsAppUrl = goog.html.SafeUrl.INNOCUOUS_STRING);\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(whatsAppUrl);\n};\ngoog.html.SafeUrl.fromSmsUrl = function(smsUrl) {\n  goog.string.internal.caseInsensitiveStartsWith(smsUrl, \"sms:\") && goog.html.SafeUrl.isSmsUrlBodyValid_(smsUrl) || (smsUrl = goog.html.SafeUrl.INNOCUOUS_STRING);\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(smsUrl);\n};\ngoog.html.SafeUrl.isSmsUrlBodyValid_ = function(smsUrl) {\n  var hash = smsUrl.indexOf(\"#\");\n  0 < hash && (smsUrl = smsUrl.substring(0, hash));\n  var bodyParams = smsUrl.match(/[?&]body=/gi);\n  if (!bodyParams) {\n    return !0;\n  }\n  if (1 < bodyParams.length) {\n    return !1;\n  }\n  var bodyValue = smsUrl.match(/[?&]body=([^&]*)/)[1];\n  if (!bodyValue) {\n    return !0;\n  }\n  try {\n    decodeURIComponent(bodyValue);\n  } catch (error) {\n    return !1;\n  }\n  return /^(?:[a-z0-9\\-_.~]|%[0-9a-f]{2})+$/i.test(bodyValue);\n};\ngoog.html.SafeUrl.fromSshUrl = function(sshUrl) {\n  goog.string.internal.caseInsensitiveStartsWith(sshUrl, \"ssh://\") || (sshUrl = goog.html.SafeUrl.INNOCUOUS_STRING);\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(sshUrl);\n};\ngoog.html.SafeUrl.sanitizeChromeExtensionUrl = function(url, extensionId) {\n  return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\\/\\/([^\\/]+)\\//, url, extensionId);\n};\ngoog.html.SafeUrl.sanitizeFirefoxExtensionUrl = function(url, extensionId) {\n  return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\\/\\/([^\\/]+)\\//, url, extensionId);\n};\ngoog.html.SafeUrl.sanitizeEdgeExtensionUrl = function(url, extensionId) {\n  return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\\/\\/([^\\/]+)\\//, url, extensionId);\n};\ngoog.html.SafeUrl.sanitizeExtensionUrl_ = function(scheme, url, extensionId) {\n  var matches = scheme.exec(url);\n  if (matches) {\n    var extractedExtensionId = matches[1];\n    -1 == (extensionId instanceof goog.string.Const ? [goog.string.Const.unwrap(extensionId)] : extensionId.map(function unwrap(x) {\n      return goog.string.Const.unwrap(x);\n    })).indexOf(extractedExtensionId) && (url = goog.html.SafeUrl.INNOCUOUS_STRING);\n  } else {\n    url = goog.html.SafeUrl.INNOCUOUS_STRING;\n  }\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(url);\n};\ngoog.html.SafeUrl.fromTrustedResourceUrl = function(trustedResourceUrl) {\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(trustedResourceUrl));\n};\ngoog.html.SAFE_URL_PATTERN_ = /^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;\ngoog.html.SafeUrl.SAFE_URL_PATTERN = goog.html.SAFE_URL_PATTERN_;\ngoog.html.SafeUrl.trySanitize = function(url) {\n  if (url instanceof goog.html.SafeUrl) {\n    return url;\n  }\n  url = \"object\" == typeof url && url.implementsGoogStringTypedString ? url.getTypedStringValue() : String(url);\n  return goog.html.SAFE_URL_PATTERN_.test(url) ? goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(url) : goog.html.SafeUrl.tryFromDataUrl(url);\n};\ngoog.html.SafeUrl.sanitize = function(url) {\n  return goog.html.SafeUrl.trySanitize(url) || goog.html.SafeUrl.INNOCUOUS_URL;\n};\ngoog.html.SafeUrl.sanitizeAssertUnchanged = function(url, opt_allowDataUrl) {\n  if (url instanceof goog.html.SafeUrl) {\n    return url;\n  }\n  url = \"object\" == typeof url && url.implementsGoogStringTypedString ? url.getTypedStringValue() : String(url);\n  if (opt_allowDataUrl && /^data:/i.test(url)) {\n    var safeUrl = goog.html.SafeUrl.fromDataUrl(url);\n    if (safeUrl.getTypedStringValue() == url) {\n      return safeUrl;\n    }\n  }\n  goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(url), \"%s does not match the safe URL pattern\", url) || (url = goog.html.SafeUrl.INNOCUOUS_STRING);\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(url);\n};\ngoog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_ = {};\ngoog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse = function(url) {\n  return new goog.html.SafeUrl(url, goog.html.SafeUrl.CONSTRUCTOR_TOKEN_PRIVATE_);\n};\ngoog.html.SafeUrl.INNOCUOUS_URL = goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.SafeUrl.INNOCUOUS_STRING);\ngoog.html.SafeUrl.ABOUT_BLANK = goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(\"about:blank\");\nvar module$contents$goog$html$SafeStyle_CONSTRUCTOR_TOKEN_PRIVATE = {}, module$contents$goog$html$SafeStyle_SafeStyle = function(value, token) {\n  this.privateDoNotAccessOrElseSafeStyleWrappedValue_ = token === module$contents$goog$html$SafeStyle_CONSTRUCTOR_TOKEN_PRIVATE ? value : \"\";\n  this.implementsGoogStringTypedString = !0;\n};\nmodule$contents$goog$html$SafeStyle_SafeStyle.fromConstant = function(style) {\n  var styleString = goog.string.Const.unwrap(style);\n  if (0 === styleString.length) {\n    return module$contents$goog$html$SafeStyle_SafeStyle.EMPTY;\n  }\n  (0,goog.asserts.assert)((0,goog.string.internal.endsWith)(styleString, \";\"), \"Last character of style string is not ';': \" + styleString);\n  (0,goog.asserts.assert)((0,goog.string.internal.contains)(styleString, \":\"), \"Style string must contain at least one ':', to specify a \\\"name: value\\\" pair: \" + styleString);\n  return module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(styleString);\n};\nmodule$contents$goog$html$SafeStyle_SafeStyle.prototype.getTypedStringValue = function() {\n  return this.privateDoNotAccessOrElseSafeStyleWrappedValue_;\n};\nmodule$contents$goog$html$SafeStyle_SafeStyle.prototype.toString = function() {\n  return this.privateDoNotAccessOrElseSafeStyleWrappedValue_.toString();\n};\nmodule$contents$goog$html$SafeStyle_SafeStyle.unwrap = function(safeStyle) {\n  if (safeStyle instanceof module$contents$goog$html$SafeStyle_SafeStyle && safeStyle.constructor === module$contents$goog$html$SafeStyle_SafeStyle) {\n    return safeStyle.privateDoNotAccessOrElseSafeStyleWrappedValue_;\n  }\n  (0,goog.asserts.fail)(\"expected object of type SafeStyle, got '\" + safeStyle + \"' of type \" + goog.typeOf(safeStyle));\n  return \"type_error:SafeStyle\";\n};\nmodule$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse = function(style) {\n  return new module$contents$goog$html$SafeStyle_SafeStyle(style, module$contents$goog$html$SafeStyle_CONSTRUCTOR_TOKEN_PRIVATE);\n};\nmodule$contents$goog$html$SafeStyle_SafeStyle.create = function(map) {\n  var style = \"\", name;\n  for (name in map) {\n    if (Object.prototype.hasOwnProperty.call(map, name)) {\n      if (!/^[-_a-zA-Z0-9]+$/.test(name)) {\n        throw Error(\"Name allows only [-_a-zA-Z0-9], got: \" + name);\n      }\n      var value = map[name];\n      null != value && (value = Array.isArray(value) ? value.map(module$contents$goog$html$SafeStyle_sanitizePropertyValue).join(\" \") : module$contents$goog$html$SafeStyle_sanitizePropertyValue(value), style += name + \":\" + value + \";\");\n    }\n  }\n  return style ? module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(style) : module$contents$goog$html$SafeStyle_SafeStyle.EMPTY;\n};\nmodule$contents$goog$html$SafeStyle_SafeStyle.concat = function(var_args) {\n  var style = \"\", addArgument = function(argument) {\n    Array.isArray(argument) ? argument.forEach(addArgument) : style += module$contents$goog$html$SafeStyle_SafeStyle.unwrap(argument);\n  };\n  Array.prototype.forEach.call(arguments, addArgument);\n  return style ? module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(style) : module$contents$goog$html$SafeStyle_SafeStyle.EMPTY;\n};\nmodule$contents$goog$html$SafeStyle_SafeStyle.EMPTY = module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(\"\");\nmodule$contents$goog$html$SafeStyle_SafeStyle.INNOCUOUS_STRING = \"zClosurez\";\nfunction module$contents$goog$html$SafeStyle_sanitizePropertyValue(value) {\n  if (value instanceof goog.html.SafeUrl) {\n    return 'url(\"' + goog.html.SafeUrl.unwrap(value).replace(/</g, \"%3c\").replace(/[\\\\\"]/g, \"\\\\$&\") + '\")';\n  }\n  var result = value instanceof goog.string.Const ? goog.string.Const.unwrap(value) : module$contents$goog$html$SafeStyle_sanitizePropertyValueString(String(value));\n  if (/[{;}]/.test(result)) {\n    throw new goog.asserts.AssertionError(\"Value does not allow [{;}], got: %s.\", [result]);\n  }\n  return result;\n}\nfunction module$contents$goog$html$SafeStyle_sanitizePropertyValueString(value) {\n  var valueWithoutFunctions = value.replace(module$contents$goog$html$SafeStyle_FUNCTIONS_RE, \"$1\").replace(module$contents$goog$html$SafeStyle_FUNCTIONS_RE, \"$1\").replace(module$contents$goog$html$SafeStyle_URL_RE, \"url\");\n  if (module$contents$goog$html$SafeStyle_VALUE_RE.test(valueWithoutFunctions)) {\n    if (module$contents$goog$html$SafeStyle_COMMENT_RE.test(value)) {\n      return (0,goog.asserts.fail)(\"String value disallows comments, got: \" + value), module$contents$goog$html$SafeStyle_SafeStyle.INNOCUOUS_STRING;\n    }\n    if (!module$contents$goog$html$SafeStyle_hasBalancedQuotes(value)) {\n      return (0,goog.asserts.fail)(\"String value requires balanced quotes, got: \" + value), module$contents$goog$html$SafeStyle_SafeStyle.INNOCUOUS_STRING;\n    }\n    if (!module$contents$goog$html$SafeStyle_hasBalancedSquareBrackets(value)) {\n      return (0,goog.asserts.fail)(\"String value requires balanced square brackets and one identifier per pair of brackets, got: \" + value), module$contents$goog$html$SafeStyle_SafeStyle.INNOCUOUS_STRING;\n    }\n  } else {\n    return (0,goog.asserts.fail)(\"String value allows only [-,.\\\"'%_!#/ a-zA-Z0-9\\\\[\\\\]] and simple functions, got: \" + value), module$contents$goog$html$SafeStyle_SafeStyle.INNOCUOUS_STRING;\n  }\n  return module$contents$goog$html$SafeStyle_sanitizeUrl(value);\n}\nfunction module$contents$goog$html$SafeStyle_hasBalancedQuotes(value) {\n  for (var outsideSingle = !0, outsideDouble = !0, i = 0; i < value.length; i++) {\n    var c = value.charAt(i);\n    \"'\" == c && outsideDouble ? outsideSingle = !outsideSingle : '\"' == c && outsideSingle && (outsideDouble = !outsideDouble);\n  }\n  return outsideSingle && outsideDouble;\n}\nfunction module$contents$goog$html$SafeStyle_hasBalancedSquareBrackets(value) {\n  for (var outside = !0, tokenRe = /^[-_a-zA-Z0-9]$/, i = 0; i < value.length; i++) {\n    var c = value.charAt(i);\n    if (\"]\" == c) {\n      if (outside) {\n        return !1;\n      }\n      outside = !0;\n    } else {\n      if (\"[\" == c) {\n        if (!outside) {\n          return !1;\n        }\n        outside = !1;\n      } else {\n        if (!outside && !tokenRe.test(c)) {\n          return !1;\n        }\n      }\n    }\n  }\n  return outside;\n}\nvar module$contents$goog$html$SafeStyle_VALUE_RE = RegExp(\"^[-,.\\\"'%_!#/ a-zA-Z0-9\\\\[\\\\]]+$\"), module$contents$goog$html$SafeStyle_URL_RE = RegExp(\"\\\\b(url\\\\([ \\t\\n]*)('[ -&(-\\\\[\\\\]-~]*'|\\\"[ !#-\\\\[\\\\]-~]*\\\"|[!#-&*-\\\\[\\\\]-~]*)([ \\t\\n]*\\\\))\", \"g\"), module$contents$goog$html$SafeStyle_FUNCTIONS_RE = RegExp(\"\\\\b(calc|cubic-bezier|fit-content|hsl|hsla|linear-gradient|matrix|minmax|repeat|rgb|rgba|(rotate|scale|translate)(X|Y|Z|3d)?|var)\\\\([-+*/0-9a-zA-Z.%#\\\\[\\\\], ]+\\\\)\", \"g\"), module$contents$goog$html$SafeStyle_COMMENT_RE = \n/\\/\\*/;\nfunction module$contents$goog$html$SafeStyle_sanitizeUrl(value) {\n  return value.replace(module$contents$goog$html$SafeStyle_URL_RE, function(match$jscomp$0, before, url, after) {\n    var quote = \"\";\n    url = url.replace(/^(['\"])(.*)\\1$/, function(match, start, inside) {\n      quote = start;\n      return inside;\n    });\n    var sanitized = goog.html.SafeUrl.sanitize(url).getTypedStringValue();\n    return before + quote + sanitized + quote + after;\n  });\n}\ngoog.html.SafeStyle = module$contents$goog$html$SafeStyle_SafeStyle;\nvar module$contents$goog$html$SafeStyleSheet_CONSTRUCTOR_TOKEN_PRIVATE = {}, module$contents$goog$html$SafeStyleSheet_SafeStyleSheet = function(value, token) {\n  this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_ = token === module$contents$goog$html$SafeStyleSheet_CONSTRUCTOR_TOKEN_PRIVATE ? value : \"\";\n  this.implementsGoogStringTypedString = !0;\n};\nmodule$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createRule = function(selector, style) {\n  if ((0,goog.string.internal.contains)(selector, \"<\")) {\n    throw Error(\"Selector does not allow '<', got: \" + selector);\n  }\n  var selectorToCheck = selector.replace(/('|\")((?!\\1)[^\\r\\n\\f\\\\]|\\\\[\\s\\S])*\\1/g, \"\");\n  if (!/^[-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|]+$/.test(selectorToCheck)) {\n    throw Error(\"Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\\\]()=^$|] and strings, got: \" + selector);\n  }\n  if (!module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.hasBalancedBrackets_(selectorToCheck)) {\n    throw Error(\"() and [] in selector must be balanced, got: \" + selector);\n  }\n  style instanceof module$contents$goog$html$SafeStyle_SafeStyle || (style = module$contents$goog$html$SafeStyle_SafeStyle.create(style));\n  var styleSheet = selector + \"{\" + module$contents$goog$html$SafeStyle_SafeStyle.unwrap(style).replace(/</g, \"\\\\3C \") + \"}\";\n  return module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(styleSheet);\n};\nmodule$contents$goog$html$SafeStyleSheet_SafeStyleSheet.hasBalancedBrackets_ = function(s) {\n  for (var brackets = {\"(\":\")\", \"[\":\"]\"}, expectedBrackets = [], i = 0; i < s.length; i++) {\n    var ch = s[i];\n    if (brackets[ch]) {\n      expectedBrackets.push(brackets[ch]);\n    } else {\n      if (module$contents$goog$object_contains(brackets, ch) && expectedBrackets.pop() != ch) {\n        return !1;\n      }\n    }\n  }\n  return 0 == expectedBrackets.length;\n};\nmodule$contents$goog$html$SafeStyleSheet_SafeStyleSheet.concat = function(var_args) {\n  var result = \"\", addArgument = function(argument) {\n    Array.isArray(argument) ? argument.forEach(addArgument) : result += module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.unwrap(argument);\n  };\n  Array.prototype.forEach.call(arguments, addArgument);\n  return module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(result);\n};\nmodule$contents$goog$html$SafeStyleSheet_SafeStyleSheet.fromConstant = function(styleSheet) {\n  var styleSheetString = goog.string.Const.unwrap(styleSheet);\n  if (0 === styleSheetString.length) {\n    return module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.EMPTY;\n  }\n  (0,goog.asserts.assert)(!(0,goog.string.internal.contains)(styleSheetString, \"<\"), \"Forbidden '<' character in style sheet string: \" + styleSheetString);\n  return module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(styleSheetString);\n};\nmodule$contents$goog$html$SafeStyleSheet_SafeStyleSheet.prototype.getTypedStringValue = function() {\n  return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_;\n};\nmodule$contents$goog$html$SafeStyleSheet_SafeStyleSheet.unwrap = function(safeStyleSheet) {\n  if (safeStyleSheet instanceof module$contents$goog$html$SafeStyleSheet_SafeStyleSheet && safeStyleSheet.constructor === module$contents$goog$html$SafeStyleSheet_SafeStyleSheet) {\n    return safeStyleSheet.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_;\n  }\n  (0,goog.asserts.fail)(\"expected object of type SafeStyleSheet, got '\" + safeStyleSheet + \"' of type \" + goog.typeOf(safeStyleSheet));\n  return \"type_error:SafeStyleSheet\";\n};\nmodule$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse = function(styleSheet) {\n  return new module$contents$goog$html$SafeStyleSheet_SafeStyleSheet(styleSheet, module$contents$goog$html$SafeStyleSheet_CONSTRUCTOR_TOKEN_PRIVATE);\n};\nmodule$contents$goog$html$SafeStyleSheet_SafeStyleSheet.prototype.toString = function() {\n  return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_.toString();\n};\nmodule$contents$goog$html$SafeStyleSheet_SafeStyleSheet.EMPTY = module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(\"\");\ngoog.html.SafeStyleSheet = module$contents$goog$html$SafeStyleSheet_SafeStyleSheet;\nvar module$contents$goog$html$SafeHtml_CONSTRUCTOR_TOKEN_PRIVATE = {}, module$contents$goog$html$SafeHtml_SafeHtml = function(value, dir, token) {\n  this.privateDoNotAccessOrElseSafeHtmlWrappedValue_ = token === module$contents$goog$html$SafeHtml_CONSTRUCTOR_TOKEN_PRIVATE ? value : \"\";\n  this.dir_ = dir;\n  this.implementsGoogStringTypedString = this.implementsGoogI18nBidiDirectionalString = !0;\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.prototype.getDirection = function() {\n  return this.dir_;\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.prototype.getTypedStringValue = function() {\n  return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString();\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.prototype.toString = function() {\n  return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString();\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.unwrap = function(safeHtml) {\n  return module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(safeHtml).toString();\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML = function(safeHtml) {\n  if (safeHtml instanceof module$contents$goog$html$SafeHtml_SafeHtml && safeHtml.constructor === module$contents$goog$html$SafeHtml_SafeHtml) {\n    return safeHtml.privateDoNotAccessOrElseSafeHtmlWrappedValue_;\n  }\n  goog.asserts.fail(\"expected object of type SafeHtml, got '\" + safeHtml + \"' of type \" + goog.typeOf(safeHtml));\n  return \"type_error:SafeHtml\";\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.htmlEscape = function(textOrHtml) {\n  if (textOrHtml instanceof module$contents$goog$html$SafeHtml_SafeHtml) {\n    return textOrHtml;\n  }\n  var textIsObject = \"object\" == typeof textOrHtml, dir = null;\n  textIsObject && textOrHtml.implementsGoogI18nBidiDirectionalString && (dir = textOrHtml.getDirection());\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(textIsObject && textOrHtml.implementsGoogStringTypedString ? textOrHtml.getTypedStringValue() : String(textOrHtml)), dir);\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.htmlEscapePreservingNewlines = function(textOrHtml) {\n  if (textOrHtml instanceof module$contents$goog$html$SafeHtml_SafeHtml) {\n    return textOrHtml;\n  }\n  var html = module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape(textOrHtml);\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(module$contents$goog$html$SafeHtml_SafeHtml.unwrap(html)), html.getDirection());\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.htmlEscapePreservingNewlinesAndSpaces = function(textOrHtml) {\n  if (textOrHtml instanceof module$contents$goog$html$SafeHtml_SafeHtml) {\n    return textOrHtml;\n  }\n  var html = module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape(textOrHtml);\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(module$contents$goog$html$SafeHtml_SafeHtml.unwrap(html)), html.getDirection());\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.comment = function(text) {\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(\"\\x3c!--\" + goog.string.internal.htmlEscape(text) + \"--\\x3e\", null);\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.create = function(tagName, attributes, content) {\n  module$contents$goog$html$SafeHtml_SafeHtml.verifyTagName(String(tagName));\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(tagName), attributes, content);\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.verifyTagName = function(tagName) {\n  if (!module$contents$goog$html$SafeHtml_VALID_NAMES_IN_TAG.test(tagName)) {\n    throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES ? \"Invalid tag name <\" + tagName + \">.\" : \"\");\n  }\n  if (tagName.toUpperCase() in module$contents$goog$html$SafeHtml_NOT_ALLOWED_TAG_NAMES) {\n    throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES ? \"Tag name <\" + tagName + \"> is not allowed for SafeHtml.\" : \"\");\n  }\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.createIframe = function(src, srcdoc, attributes, content) {\n  src && goog.html.TrustedResourceUrl.unwrap(src);\n  var fixedAttributes = {};\n  fixedAttributes.src = src || null;\n  fixedAttributes.srcdoc = srcdoc && module$contents$goog$html$SafeHtml_SafeHtml.unwrap(srcdoc);\n  var combinedAttrs = module$contents$goog$html$SafeHtml_SafeHtml.combineAttributes(fixedAttributes, {sandbox:\"\"}, attributes);\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"iframe\", combinedAttrs, content);\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.createSandboxIframe = function(src, srcdoc, attributes, content) {\n  if (!module$contents$goog$html$SafeHtml_SafeHtml.canUseSandboxIframe()) {\n    throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES ? \"The browser does not support sandboxed iframes.\" : \"\");\n  }\n  var fixedAttributes = {};\n  fixedAttributes.src = src ? goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(src)) : null;\n  fixedAttributes.srcdoc = srcdoc || null;\n  fixedAttributes.sandbox = \"\";\n  var combinedAttrs = module$contents$goog$html$SafeHtml_SafeHtml.combineAttributes(fixedAttributes, {}, attributes);\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"iframe\", combinedAttrs, content);\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.canUseSandboxIframe = function() {\n  return goog.global.HTMLIFrameElement && \"sandbox\" in goog.global.HTMLIFrameElement.prototype;\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.createScriptSrc = function(src, attributes) {\n  goog.html.TrustedResourceUrl.unwrap(src);\n  var combinedAttrs = module$contents$goog$html$SafeHtml_SafeHtml.combineAttributes({src:src}, {}, attributes);\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"script\", combinedAttrs);\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.createScript = function(script, attributes) {\n  for (var attr in attributes) {\n    if (Object.prototype.hasOwnProperty.call(attributes, attr)) {\n      var attrLower = attr.toLowerCase();\n      if (\"language\" == attrLower || \"src\" == attrLower || \"text\" == attrLower || \"type\" == attrLower) {\n        throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES ? 'Cannot set \"' + attrLower + '\" attribute' : \"\");\n      }\n    }\n  }\n  var content = \"\";\n  script = module$contents$goog$array_concat(script);\n  for (var i = 0; i < script.length; i++) {\n    content += module$contents$goog$html$SafeScript_SafeScript.unwrap(script[i]);\n  }\n  var htmlContent = module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(content, goog.i18n.bidi.Dir.NEUTRAL);\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"script\", attributes, htmlContent);\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.createStyle = function(styleSheet, attributes) {\n  var combinedAttrs = module$contents$goog$html$SafeHtml_SafeHtml.combineAttributes({type:\"text/css\"}, {}, attributes), content = \"\";\n  styleSheet = module$contents$goog$array_concat(styleSheet);\n  for (var i = 0; i < styleSheet.length; i++) {\n    content += module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.unwrap(styleSheet[i]);\n  }\n  var htmlContent = module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(content, goog.i18n.bidi.Dir.NEUTRAL);\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"style\", combinedAttrs, htmlContent);\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.createMetaRefresh = function(url, secs) {\n  var unwrappedUrl = goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(url));\n  (module$contents$goog$labs$userAgent$browser_matchIE() || module$contents$goog$labs$userAgent$browser_matchEdgeHtml()) && goog.string.internal.contains(unwrappedUrl, \";\") && (unwrappedUrl = \"'\" + unwrappedUrl.replace(/'/g, \"%27\") + \"'\");\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(\"meta\", {\"http-equiv\":\"refresh\", content:(secs || 0) + \"; url=\" + unwrappedUrl,});\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.createWithDir = function(dir, tagName, attributes, content) {\n  var html = module$contents$goog$html$SafeHtml_SafeHtml.create(tagName, attributes, content);\n  html.dir_ = dir;\n  return html;\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.join = function(separator, parts) {\n  var separatorHtml = module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape(separator), dir = separatorHtml.getDirection(), content = [], addArgument = function(argument) {\n    if (Array.isArray(argument)) {\n      argument.forEach(addArgument);\n    } else {\n      var html = module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape(argument);\n      content.push(module$contents$goog$html$SafeHtml_SafeHtml.unwrap(html));\n      var htmlDir = html.getDirection();\n      dir == goog.i18n.bidi.Dir.NEUTRAL ? dir = htmlDir : htmlDir != goog.i18n.bidi.Dir.NEUTRAL && dir != htmlDir && (dir = null);\n    }\n  };\n  parts.forEach(addArgument);\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(content.join(module$contents$goog$html$SafeHtml_SafeHtml.unwrap(separatorHtml)), dir);\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.concat = function(var_args) {\n  return module$contents$goog$html$SafeHtml_SafeHtml.join(module$contents$goog$html$SafeHtml_SafeHtml.EMPTY, Array.prototype.slice.call(arguments));\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.concatWithDir = function(dir, var_args) {\n  var html = module$contents$goog$html$SafeHtml_SafeHtml.concat(Array.prototype.slice.call(arguments, 1));\n  html.dir_ = dir;\n  return html;\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse = function(html, dir) {\n  var policy = goog.html.trustedtypes.getPolicyPrivateDoNotAccessOrElse(), trustedHtml = policy ? policy.createHTML(html) : html;\n  return new module$contents$goog$html$SafeHtml_SafeHtml(trustedHtml, dir, module$contents$goog$html$SafeHtml_CONSTRUCTOR_TOKEN_PRIVATE);\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse = function(tagName, attributes, content) {\n  var dir = null;\n  var result = \"<\" + tagName + module$contents$goog$html$SafeHtml_SafeHtml.stringifyAttributes(tagName, attributes);\n  null == content ? content = [] : Array.isArray(content) || (content = [content]);\n  if (goog.dom.tags.isVoidTag(tagName.toLowerCase())) {\n    goog.asserts.assert(!content.length, \"Void tag <\" + tagName + \"> does not allow content.\"), result += \">\";\n  } else {\n    var html = module$contents$goog$html$SafeHtml_SafeHtml.concat(content);\n    result += \">\" + module$contents$goog$html$SafeHtml_SafeHtml.unwrap(html) + \"</\" + tagName + \">\";\n    dir = html.getDirection();\n  }\n  var dirAttribute = attributes && attributes.dir;\n  dirAttribute && (dir = /^(ltr|rtl|auto)$/i.test(dirAttribute) ? goog.i18n.bidi.Dir.NEUTRAL : null);\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(result, dir);\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.stringifyAttributes = function(tagName, attributes) {\n  var result = \"\";\n  if (attributes) {\n    for (var name in attributes) {\n      if (Object.prototype.hasOwnProperty.call(attributes, name)) {\n        if (!module$contents$goog$html$SafeHtml_VALID_NAMES_IN_TAG.test(name)) {\n          throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES ? 'Invalid attribute name \"' + name + '\".' : \"\");\n        }\n        var value = attributes[name];\n        null != value && (result += \" \" + module$contents$goog$html$SafeHtml_getAttrNameAndValue(tagName, name, value));\n      }\n    }\n  }\n  return result;\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.combineAttributes = function(fixedAttributes, defaultAttributes, attributes) {\n  var combinedAttributes = {}, name;\n  for (name in fixedAttributes) {\n    Object.prototype.hasOwnProperty.call(fixedAttributes, name) && (goog.asserts.assert(name.toLowerCase() == name, \"Must be lower case\"), combinedAttributes[name] = fixedAttributes[name]);\n  }\n  for (var name$48 in defaultAttributes) {\n    Object.prototype.hasOwnProperty.call(defaultAttributes, name$48) && (goog.asserts.assert(name$48.toLowerCase() == name$48, \"Must be lower case\"), combinedAttributes[name$48] = defaultAttributes[name$48]);\n  }\n  if (attributes) {\n    for (var name$49 in attributes) {\n      if (Object.prototype.hasOwnProperty.call(attributes, name$49)) {\n        var nameLower = name$49.toLowerCase();\n        if (nameLower in fixedAttributes) {\n          throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES ? 'Cannot override \"' + nameLower + '\" attribute, got \"' + name$49 + '\" with value \"' + attributes[name$49] + '\"' : \"\");\n        }\n        nameLower in defaultAttributes && delete combinedAttributes[nameLower];\n        combinedAttributes[name$49] = attributes[name$49];\n      }\n    }\n  }\n  return combinedAttributes;\n};\nmodule$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES = goog.DEBUG;\nmodule$contents$goog$html$SafeHtml_SafeHtml.SUPPORT_STYLE_ATTRIBUTE = !0;\nmodule$contents$goog$html$SafeHtml_SafeHtml.from = module$contents$goog$html$SafeHtml_SafeHtml.htmlEscape;\nvar module$contents$goog$html$SafeHtml_VALID_NAMES_IN_TAG = /^[a-zA-Z0-9-]+$/, module$contents$goog$html$SafeHtml_URL_ATTRIBUTES = {action:!0, cite:!0, data:!0, formaction:!0, href:!0, manifest:!0, poster:!0, src:!0}, module$contents$goog$html$SafeHtml_NOT_ALLOWED_TAG_NAMES = module$contents$goog$object_createSet(goog.dom.TagName.APPLET, goog.dom.TagName.BASE, goog.dom.TagName.EMBED, goog.dom.TagName.IFRAME, goog.dom.TagName.LINK, goog.dom.TagName.MATH, goog.dom.TagName.META, goog.dom.TagName.OBJECT, \ngoog.dom.TagName.SCRIPT, goog.dom.TagName.STYLE, goog.dom.TagName.SVG, goog.dom.TagName.TEMPLATE);\nfunction module$contents$goog$html$SafeHtml_getAttrNameAndValue(tagName, name, value) {\n  if (value instanceof goog.string.Const) {\n    value = goog.string.Const.unwrap(value);\n  } else {\n    if (\"style\" == name.toLowerCase()) {\n      if (module$contents$goog$html$SafeHtml_SafeHtml.SUPPORT_STYLE_ATTRIBUTE) {\n        value = module$contents$goog$html$SafeHtml_getStyleValue(value);\n      } else {\n        throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES ? 'Attribute \"style\" not supported.' : \"\");\n      }\n    } else {\n      if (/^on/i.test(name)) {\n        throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES ? 'Attribute \"' + name + '\" requires goog.string.Const value, \"' + value + '\" given.' : \"\");\n      }\n      if (name.toLowerCase() in module$contents$goog$html$SafeHtml_URL_ATTRIBUTES) {\n        if (value instanceof goog.html.TrustedResourceUrl) {\n          value = goog.html.TrustedResourceUrl.unwrap(value);\n        } else {\n          if (value instanceof goog.html.SafeUrl) {\n            value = goog.html.SafeUrl.unwrap(value);\n          } else {\n            if (\"string\" === typeof value) {\n              value = goog.html.SafeUrl.sanitize(value).getTypedStringValue();\n            } else {\n              throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES ? 'Attribute \"' + name + '\" on tag \"' + tagName + '\" requires goog.html.SafeUrl, goog.string.Const, or string, value \"' + value + '\" given.' : \"\");\n            }\n          }\n        }\n      }\n    }\n  }\n  value.implementsGoogStringTypedString && (value = value.getTypedStringValue());\n  goog.asserts.assert(\"string\" === typeof value || \"number\" === typeof value, \"String or number value expected, got \" + typeof value + \" with value: \" + value);\n  return name + '=\"' + goog.string.internal.htmlEscape(String(value)) + '\"';\n}\nfunction module$contents$goog$html$SafeHtml_getStyleValue(value) {\n  if (!goog.isObject(value)) {\n    throw Error(module$contents$goog$html$SafeHtml_SafeHtml.ENABLE_ERROR_MESSAGES ? 'The \"style\" attribute requires goog.html.SafeStyle or map of style properties, ' + typeof value + \" given: \" + value : \"\");\n  }\n  value instanceof module$contents$goog$html$SafeStyle_SafeStyle || (value = module$contents$goog$html$SafeStyle_SafeStyle.create(value));\n  return module$contents$goog$html$SafeStyle_SafeStyle.unwrap(value);\n}\nmodule$contents$goog$html$SafeHtml_SafeHtml.DOCTYPE_HTML = function() {\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(\"<!DOCTYPE html>\", goog.i18n.bidi.Dir.NEUTRAL);\n}();\nmodule$contents$goog$html$SafeHtml_SafeHtml.EMPTY = new module$contents$goog$html$SafeHtml_SafeHtml(goog.global.trustedTypes && goog.global.trustedTypes.emptyHTML || \"\", goog.i18n.bidi.Dir.NEUTRAL, module$contents$goog$html$SafeHtml_CONSTRUCTOR_TOKEN_PRIVATE);\nmodule$contents$goog$html$SafeHtml_SafeHtml.BR = function() {\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(\"<br>\", goog.i18n.bidi.Dir.NEUTRAL);\n}();\ngoog.html.SafeHtml = module$contents$goog$html$SafeHtml_SafeHtml;\ngoog.html.uncheckedconversions = {};\ngoog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract = function(justification, html, opt_dir) {\n  goog.asserts.assertString(goog.string.Const.unwrap(justification), \"must provide justification\");\n  goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(justification)), \"must provide non-empty justification\");\n  return module$contents$goog$html$SafeHtml_SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(html, opt_dir || null);\n};\ngoog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract = function(justification, script) {\n  goog.asserts.assertString(goog.string.Const.unwrap(justification), \"must provide justification\");\n  goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(justification)), \"must provide non-empty justification\");\n  return module$contents$goog$html$SafeScript_SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(script);\n};\ngoog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract = function(justification, style) {\n  goog.asserts.assertString(goog.string.Const.unwrap(justification), \"must provide justification\");\n  goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(justification)), \"must provide non-empty justification\");\n  return module$contents$goog$html$SafeStyle_SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(style);\n};\ngoog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract = function(justification, styleSheet) {\n  goog.asserts.assertString(goog.string.Const.unwrap(justification), \"must provide justification\");\n  goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(justification)), \"must provide non-empty justification\");\n  return module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(styleSheet);\n};\ngoog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract = function(justification, url) {\n  goog.asserts.assertString(goog.string.Const.unwrap(justification), \"must provide justification\");\n  goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(justification)), \"must provide non-empty justification\");\n  return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(url);\n};\ngoog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract = function(justification, url) {\n  goog.asserts.assertString(goog.string.Const.unwrap(justification), \"must provide justification\");\n  goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(justification)), \"must provide non-empty justification\");\n  return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(url);\n};\ngoog.dom.safe = {};\ngoog.dom.safe.InsertAdjacentHtmlPosition = {AFTERBEGIN:\"afterbegin\", AFTEREND:\"afterend\", BEFOREBEGIN:\"beforebegin\", BEFOREEND:\"beforeend\"};\ngoog.dom.safe.insertAdjacentHtml = function(node, position, html) {\n  node.insertAdjacentHTML(position, module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(html));\n};\ngoog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_ = {MATH:!0, SCRIPT:!0, STYLE:!0, SVG:!0, TEMPLATE:!0};\ngoog.dom.safe.isInnerHtmlCleanupRecursive_ = goog.functions.cacheReturnValue(function() {\n  if (goog.DEBUG && \"undefined\" === typeof document) {\n    return !1;\n  }\n  var div = document.createElement(\"div\"), childDiv = document.createElement(\"div\");\n  childDiv.appendChild(document.createElement(\"div\"));\n  div.appendChild(childDiv);\n  if (goog.DEBUG && !div.firstChild) {\n    return !1;\n  }\n  var innerChild = div.firstChild.firstChild;\n  div.innerHTML = module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(module$contents$goog$html$SafeHtml_SafeHtml.EMPTY);\n  return !innerChild.parentElement;\n});\ngoog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse = function(elem, html) {\n  if (goog.dom.safe.isInnerHtmlCleanupRecursive_()) {\n    for (; elem.lastChild;) {\n      elem.removeChild(elem.lastChild);\n    }\n  }\n  elem.innerHTML = module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(html);\n};\ngoog.dom.safe.setInnerHtml = function(elem, html) {\n  if (goog.asserts.ENABLE_ASSERTS && elem.tagName && goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[elem.tagName.toUpperCase()]) {\n    throw Error(\"goog.dom.safe.setInnerHtml cannot be used to set content of \" + elem.tagName + \".\");\n  }\n  goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(elem, html);\n};\ngoog.dom.safe.setInnerHtmlFromConstant = function(element, constHtml) {\n  goog.dom.safe.setInnerHtml(element, goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from(\"Constant HTML to be immediatelly used.\"), goog.string.Const.unwrap(constHtml)));\n};\ngoog.dom.safe.setOuterHtml = function(elem, html) {\n  elem.outerHTML = module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(html);\n};\ngoog.dom.safe.setFormElementAction = function(form, url) {\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url);\n  goog.dom.asserts.assertIsHTMLFormElement(form).action = goog.html.SafeUrl.unwrap(safeUrl);\n};\ngoog.dom.safe.setButtonFormAction = function(button, url) {\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url);\n  goog.dom.asserts.assertIsHTMLButtonElement(button).formAction = goog.html.SafeUrl.unwrap(safeUrl);\n};\ngoog.dom.safe.setInputFormAction = function(input, url) {\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url);\n  goog.dom.asserts.assertIsHTMLInputElement(input).formAction = goog.html.SafeUrl.unwrap(safeUrl);\n};\ngoog.dom.safe.setStyle = function(elem, style) {\n  elem.style.cssText = module$contents$goog$html$SafeStyle_SafeStyle.unwrap(style);\n};\ngoog.dom.safe.documentWrite = function(doc, html) {\n  doc.write(module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(html));\n};\ngoog.dom.safe.setAnchorHref = function(anchor, url) {\n  goog.dom.asserts.assertIsHTMLAnchorElement(anchor);\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url);\n  anchor.href = goog.html.SafeUrl.unwrap(safeUrl);\n};\ngoog.dom.safe.setImageSrc = function(imageElement, url) {\n  goog.dom.asserts.assertIsHTMLImageElement(imageElement);\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url, /^data:image\\//i.test(url));\n  imageElement.src = goog.html.SafeUrl.unwrap(safeUrl);\n};\ngoog.dom.safe.setAudioSrc = function(audioElement, url) {\n  goog.dom.asserts.assertIsHTMLAudioElement(audioElement);\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url, /^data:audio\\//i.test(url));\n  audioElement.src = goog.html.SafeUrl.unwrap(safeUrl);\n};\ngoog.dom.safe.setVideoSrc = function(videoElement, url) {\n  goog.dom.asserts.assertIsHTMLVideoElement(videoElement);\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url, /^data:video\\//i.test(url));\n  videoElement.src = goog.html.SafeUrl.unwrap(safeUrl);\n};\ngoog.dom.safe.setEmbedSrc = function(embed, url) {\n  goog.dom.asserts.assertIsHTMLEmbedElement(embed);\n  embed.src = goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(url);\n};\ngoog.dom.safe.setFrameSrc = function(frame, url) {\n  goog.dom.asserts.assertIsHTMLFrameElement(frame);\n  frame.src = goog.html.TrustedResourceUrl.unwrap(url);\n};\ngoog.dom.safe.setIframeSrc = function(iframe, url) {\n  goog.dom.asserts.assertIsHTMLIFrameElement(iframe);\n  iframe.src = goog.html.TrustedResourceUrl.unwrap(url);\n};\ngoog.dom.safe.setIframeSrcdoc = function(iframe, html) {\n  goog.dom.asserts.assertIsHTMLIFrameElement(iframe);\n  iframe.srcdoc = module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(html);\n};\ngoog.dom.safe.setLinkHrefAndRel = function(link, url, rel) {\n  goog.dom.asserts.assertIsHTMLLinkElement(link);\n  link.rel = rel;\n  if (goog.string.internal.caseInsensitiveContains(rel, \"stylesheet\")) {\n    goog.asserts.assert(url instanceof goog.html.TrustedResourceUrl, 'URL must be TrustedResourceUrl because \"rel\" contains \"stylesheet\"');\n    link.href = goog.html.TrustedResourceUrl.unwrap(url);\n    var nonce = goog.dom.safe.getStyleNonce(link.ownerDocument && link.ownerDocument.defaultView);\n    nonce && link.setAttribute(\"nonce\", nonce);\n  } else {\n    link.href = url instanceof goog.html.TrustedResourceUrl ? goog.html.TrustedResourceUrl.unwrap(url) : url instanceof goog.html.SafeUrl ? goog.html.SafeUrl.unwrap(url) : goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitizeAssertUnchanged(url));\n  }\n};\ngoog.dom.safe.setObjectData = function(object, url) {\n  goog.dom.asserts.assertIsHTMLObjectElement(object);\n  object.data = goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(url);\n};\ngoog.dom.safe.setScriptSrc = function(script, url) {\n  goog.dom.asserts.assertIsHTMLScriptElement(script);\n  script.src = goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(url);\n  goog.dom.safe.setNonceForScriptElement_(script);\n};\ngoog.dom.safe.setScriptContent = function(script, content) {\n  goog.dom.asserts.assertIsHTMLScriptElement(script);\n  script.textContent = module$contents$goog$html$SafeScript_SafeScript.unwrapTrustedScript(content);\n  goog.dom.safe.setNonceForScriptElement_(script);\n};\ngoog.dom.safe.setNonceForScriptElement_ = function(script) {\n  var nonce = goog.dom.safe.getScriptNonce(script.ownerDocument && script.ownerDocument.defaultView);\n  nonce && script.setAttribute(\"nonce\", nonce);\n};\ngoog.dom.safe.setLocationHref = function(loc, url) {\n  goog.dom.asserts.assertIsLocation(loc);\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url);\n  loc.href = goog.html.SafeUrl.unwrap(safeUrl);\n};\ngoog.dom.safe.assignLocation = function(loc, url) {\n  goog.dom.asserts.assertIsLocation(loc);\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url);\n  loc.assign(goog.html.SafeUrl.unwrap(safeUrl));\n};\ngoog.dom.safe.replaceLocation = function(loc, url) {\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url);\n  loc.replace(goog.html.SafeUrl.unwrap(safeUrl));\n};\ngoog.dom.safe.openInWindow = function(url, opt_openerWin, opt_name, opt_specs) {\n  var safeUrl = url instanceof goog.html.SafeUrl ? url : goog.html.SafeUrl.sanitizeAssertUnchanged(url);\n  var win = opt_openerWin || goog.global, name = opt_name instanceof goog.string.Const ? goog.string.Const.unwrap(opt_name) : opt_name || \"\";\n  return void 0 !== opt_specs ? win.open(goog.html.SafeUrl.unwrap(safeUrl), name, opt_specs) : win.open(goog.html.SafeUrl.unwrap(safeUrl), name);\n};\ngoog.dom.safe.parseFromStringHtml = function(parser, html) {\n  return goog.dom.safe.parseFromString(parser, html, \"text/html\");\n};\ngoog.dom.safe.parseFromString = function(parser, content, type) {\n  return parser.parseFromString(module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(content), type);\n};\ngoog.dom.safe.createImageFromBlob = function(blob) {\n  if (!/^image\\/.*/g.test(blob.type)) {\n    throw Error(\"goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.\");\n  }\n  var objectUrl = goog.global.URL.createObjectURL(blob), image = new goog.global.Image();\n  image.onload = function() {\n    goog.global.URL.revokeObjectURL(objectUrl);\n  };\n  goog.dom.safe.setImageSrc(image, goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from(\"Image blob URL.\"), objectUrl));\n  return image;\n};\ngoog.dom.safe.createContextualFragment = function(range, html) {\n  return range.createContextualFragment(module$contents$goog$html$SafeHtml_SafeHtml.unwrapTrustedHTML(html));\n};\ngoog.dom.safe.getScriptNonce = function(opt_window) {\n  return goog.dom.safe.getNonce_(\"script[nonce]\", opt_window);\n};\ngoog.dom.safe.getStyleNonce = function(opt_window) {\n  return goog.dom.safe.getNonce_('style[nonce],link[rel=\"stylesheet\"][nonce]', opt_window);\n};\ngoog.dom.safe.NONCE_PATTERN_ = /^[\\w+/_-]+[=]{0,2}$/;\ngoog.dom.safe.getNonce_ = function(selector, win) {\n  var doc = (win || goog.global).document;\n  if (!doc.querySelector) {\n    return \"\";\n  }\n  var el = doc.querySelector(selector);\n  if (el) {\n    var nonce = el.nonce || el.getAttribute(\"nonce\");\n    if (nonce && goog.dom.safe.NONCE_PATTERN_.test(nonce)) {\n      return nonce;\n    }\n  }\n  return \"\";\n};\ngoog.string.DETECT_DOUBLE_ESCAPING = !1;\ngoog.string.FORCE_NON_DOM_HTML_UNESCAPING = !1;\ngoog.string.Unicode = {NBSP:\"\\u00a0\"};\ngoog.string.startsWith = goog.string.internal.startsWith;\ngoog.string.endsWith = goog.string.internal.endsWith;\ngoog.string.caseInsensitiveStartsWith = goog.string.internal.caseInsensitiveStartsWith;\ngoog.string.caseInsensitiveEndsWith = goog.string.internal.caseInsensitiveEndsWith;\ngoog.string.caseInsensitiveEquals = goog.string.internal.caseInsensitiveEquals;\ngoog.string.subs = function(str, var_args) {\n  for (var splitParts = str.split(\"%s\"), returnString = \"\", subsArguments = Array.prototype.slice.call(arguments, 1); subsArguments.length && 1 < splitParts.length;) {\n    returnString += splitParts.shift() + subsArguments.shift();\n  }\n  return returnString + splitParts.join(\"%s\");\n};\ngoog.string.collapseWhitespace = function(str) {\n  return str.replace(/[\\s\\xa0]+/g, \" \").replace(/^\\s+|\\s+$/g, \"\");\n};\ngoog.string.isEmptyOrWhitespace = goog.string.internal.isEmptyOrWhitespace;\ngoog.string.isEmptyString = function(str) {\n  return 0 == str.length;\n};\ngoog.string.isEmpty = goog.string.isEmptyOrWhitespace;\ngoog.string.isEmptyOrWhitespaceSafe = function(str) {\n  return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(str));\n};\ngoog.string.isEmptySafe = goog.string.isEmptyOrWhitespaceSafe;\ngoog.string.isBreakingWhitespace = function(str) {\n  return !/[^\\t\\n\\r ]/.test(str);\n};\ngoog.string.isAlpha = function(str) {\n  return !/[^a-zA-Z]/.test(str);\n};\ngoog.string.isNumeric = function(str) {\n  return !/[^0-9]/.test(str);\n};\ngoog.string.isAlphaNumeric = function(str) {\n  return !/[^a-zA-Z0-9]/.test(str);\n};\ngoog.string.isSpace = function(ch) {\n  return \" \" == ch;\n};\ngoog.string.isUnicodeChar = function(ch) {\n  return 1 == ch.length && \" \" <= ch && \"~\" >= ch || \"\\u0080\" <= ch && \"\\ufffd\" >= ch;\n};\ngoog.string.stripNewlines = function(str) {\n  return str.replace(/(\\r\\n|\\r|\\n)+/g, \" \");\n};\ngoog.string.canonicalizeNewlines = function(str) {\n  return str.replace(/(\\r\\n|\\r|\\n)/g, \"\\n\");\n};\ngoog.string.normalizeWhitespace = function(str) {\n  return str.replace(/\\xa0|\\s/g, \" \");\n};\ngoog.string.normalizeSpaces = function(str) {\n  return str.replace(/\\xa0|[ \\t]+/g, \" \");\n};\ngoog.string.collapseBreakingSpaces = function(str) {\n  return str.replace(/[\\t\\r\\n ]+/g, \" \").replace(/^[\\t\\r\\n ]+|[\\t\\r\\n ]+$/g, \"\");\n};\ngoog.string.trim = goog.string.internal.trim;\ngoog.string.trimLeft = function(str) {\n  return str.replace(/^[\\s\\xa0]+/, \"\");\n};\ngoog.string.trimRight = function(str) {\n  return str.replace(/[\\s\\xa0]+$/, \"\");\n};\ngoog.string.caseInsensitiveCompare = goog.string.internal.caseInsensitiveCompare;\ngoog.string.numberAwareCompare_ = function(str1, str2, tokenizerRegExp) {\n  if (str1 == str2) {\n    return 0;\n  }\n  if (!str1) {\n    return -1;\n  }\n  if (!str2) {\n    return 1;\n  }\n  for (var tokens1 = str1.toLowerCase().match(tokenizerRegExp), tokens2 = str2.toLowerCase().match(tokenizerRegExp), count = Math.min(tokens1.length, tokens2.length), i = 0; i < count; i++) {\n    var a = tokens1[i], b = tokens2[i];\n    if (a != b) {\n      var num1 = parseInt(a, 10);\n      if (!isNaN(num1)) {\n        var num2 = parseInt(b, 10);\n        if (!isNaN(num2) && num1 - num2) {\n          return num1 - num2;\n        }\n      }\n      return a < b ? -1 : 1;\n    }\n  }\n  return tokens1.length != tokens2.length ? tokens1.length - tokens2.length : str1 < str2 ? -1 : 1;\n};\ngoog.string.intAwareCompare = function(str1, str2) {\n  return goog.string.numberAwareCompare_(str1, str2, /\\d+|\\D+/g);\n};\ngoog.string.floatAwareCompare = function(str1, str2) {\n  return goog.string.numberAwareCompare_(str1, str2, /\\d+|\\.\\d+|\\D+/g);\n};\ngoog.string.numerateCompare = goog.string.floatAwareCompare;\ngoog.string.urlEncode = function(str) {\n  return encodeURIComponent(String(str));\n};\ngoog.string.urlDecode = function(str) {\n  return decodeURIComponent(str.replace(/\\+/g, \" \"));\n};\ngoog.string.newLineToBr = goog.string.internal.newLineToBr;\ngoog.string.htmlEscape = function(str, opt_isLikelyToContainHtmlChars) {\n  str = goog.string.internal.htmlEscape(str, opt_isLikelyToContainHtmlChars);\n  goog.string.DETECT_DOUBLE_ESCAPING && (str = str.replace(goog.string.E_RE_, \"&#101;\"));\n  return str;\n};\ngoog.string.E_RE_ = /e/g;\ngoog.string.unescapeEntities = function(str) {\n  return goog.string.contains(str, \"&\") ? !goog.string.FORCE_NON_DOM_HTML_UNESCAPING && \"document\" in goog.global ? goog.string.unescapeEntitiesUsingDom_(str) : goog.string.unescapePureXmlEntities_(str) : str;\n};\ngoog.string.unescapeEntitiesWithDocument = function(str, document) {\n  return goog.string.contains(str, \"&\") ? goog.string.unescapeEntitiesUsingDom_(str, document) : str;\n};\ngoog.string.unescapeEntitiesUsingDom_ = function(str, opt_document) {\n  var seen = {\"&amp;\":\"&\", \"&lt;\":\"<\", \"&gt;\":\">\", \"&quot;\":'\"'};\n  var div = opt_document ? opt_document.createElement(\"div\") : goog.global.document.createElement(\"div\");\n  return str.replace(goog.string.HTML_ENTITY_PATTERN_, function(s, entity) {\n    var value = seen[s];\n    if (value) {\n      return value;\n    }\n    if (\"#\" == entity.charAt(0)) {\n      var n = Number(\"0\" + entity.substr(1));\n      isNaN(n) || (value = String.fromCharCode(n));\n    }\n    value || (goog.dom.safe.setInnerHtml(div, goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from(\"Single HTML entity.\"), s + \" \")), value = div.firstChild.nodeValue.slice(0, -1));\n    return seen[s] = value;\n  });\n};\ngoog.string.unescapePureXmlEntities_ = function(str) {\n  return str.replace(/&([^;]+);/g, function(s, entity) {\n    switch(entity) {\n      case \"amp\":\n        return \"&\";\n      case \"lt\":\n        return \"<\";\n      case \"gt\":\n        return \">\";\n      case \"quot\":\n        return '\"';\n      default:\n        if (\"#\" == entity.charAt(0)) {\n          var n = Number(\"0\" + entity.substr(1));\n          if (!isNaN(n)) {\n            return String.fromCharCode(n);\n          }\n        }\n        return s;\n    }\n  });\n};\ngoog.string.HTML_ENTITY_PATTERN_ = /&([^;\\s<&]+);?/g;\ngoog.string.whitespaceEscape = function(str, opt_xml) {\n  return goog.string.newLineToBr(str.replace(/  /g, \" &#160;\"), opt_xml);\n};\ngoog.string.preserveSpaces = function(str) {\n  return str.replace(/(^|[\\n ]) /g, \"$1\" + goog.string.Unicode.NBSP);\n};\ngoog.string.stripQuotes = function(str, quoteChars) {\n  for (var length = quoteChars.length, i = 0; i < length; i++) {\n    var quoteChar = 1 == length ? quoteChars : quoteChars.charAt(i);\n    if (str.charAt(0) == quoteChar && str.charAt(str.length - 1) == quoteChar) {\n      return str.substring(1, str.length - 1);\n    }\n  }\n  return str;\n};\ngoog.string.truncate = function(str, chars, opt_protectEscapedCharacters) {\n  opt_protectEscapedCharacters && (str = goog.string.unescapeEntities(str));\n  str.length > chars && (str = str.substring(0, chars - 3) + \"...\");\n  opt_protectEscapedCharacters && (str = goog.string.htmlEscape(str));\n  return str;\n};\ngoog.string.truncateMiddle = function(str, chars, opt_protectEscapedCharacters, opt_trailingChars) {\n  opt_protectEscapedCharacters && (str = goog.string.unescapeEntities(str));\n  if (opt_trailingChars && str.length > chars) {\n    opt_trailingChars > chars && (opt_trailingChars = chars), str = str.substring(0, chars - opt_trailingChars) + \"...\" + str.substring(str.length - opt_trailingChars);\n  } else {\n    if (str.length > chars) {\n      var half = Math.floor(chars / 2);\n      str = str.substring(0, half + chars % 2) + \"...\" + str.substring(str.length - half);\n    }\n  }\n  opt_protectEscapedCharacters && (str = goog.string.htmlEscape(str));\n  return str;\n};\ngoog.string.specialEscapeChars_ = {\"\\x00\":\"\\\\0\", \"\\b\":\"\\\\b\", \"\\f\":\"\\\\f\", \"\\n\":\"\\\\n\", \"\\r\":\"\\\\r\", \"\\t\":\"\\\\t\", \"\\x0B\":\"\\\\x0B\", '\"':'\\\\\"', \"\\\\\":\"\\\\\\\\\", \"<\":\"\\\\u003C\"};\ngoog.string.jsEscapeCache_ = {\"'\":\"\\\\'\"};\ngoog.string.quote = function(s) {\n  s = String(s);\n  for (var sb = ['\"'], i = 0; i < s.length; i++) {\n    var ch = s.charAt(i), cc = ch.charCodeAt(0);\n    sb[i + 1] = goog.string.specialEscapeChars_[ch] || (31 < cc && 127 > cc ? ch : goog.string.escapeChar(ch));\n  }\n  sb.push('\"');\n  return sb.join(\"\");\n};\ngoog.string.escapeString = function(str) {\n  for (var sb = [], i = 0; i < str.length; i++) {\n    sb[i] = goog.string.escapeChar(str.charAt(i));\n  }\n  return sb.join(\"\");\n};\ngoog.string.escapeChar = function(c) {\n  if (c in goog.string.jsEscapeCache_) {\n    return goog.string.jsEscapeCache_[c];\n  }\n  if (c in goog.string.specialEscapeChars_) {\n    return goog.string.jsEscapeCache_[c] = goog.string.specialEscapeChars_[c];\n  }\n  var rv = c, cc = c.charCodeAt(0);\n  if (31 < cc && 127 > cc) {\n    rv = c;\n  } else {\n    if (256 > cc) {\n      if (rv = \"\\\\x\", 16 > cc || 256 < cc) {\n        rv += \"0\";\n      }\n    } else {\n      rv = \"\\\\u\", 4096 > cc && (rv += \"0\");\n    }\n    rv += cc.toString(16).toUpperCase();\n  }\n  return goog.string.jsEscapeCache_[c] = rv;\n};\ngoog.string.contains = goog.string.internal.contains;\ngoog.string.caseInsensitiveContains = goog.string.internal.caseInsensitiveContains;\ngoog.string.countOf = function(s, ss) {\n  return s && ss ? s.split(ss).length - 1 : 0;\n};\ngoog.string.removeAt = function(s, index, stringLength) {\n  var resultStr = s;\n  0 <= index && index < s.length && 0 < stringLength && (resultStr = s.substr(0, index) + s.substr(index + stringLength, s.length - index - stringLength));\n  return resultStr;\n};\ngoog.string.remove = function(str, substr) {\n  return str.replace(substr, \"\");\n};\ngoog.string.removeAll = function(s, ss) {\n  var re = new RegExp(goog.string.regExpEscape(ss), \"g\");\n  return s.replace(re, \"\");\n};\ngoog.string.replaceAll = function(s, ss, replacement) {\n  var re = new RegExp(goog.string.regExpEscape(ss), \"g\");\n  return s.replace(re, replacement.replace(/\\$/g, \"$$$$\"));\n};\ngoog.string.regExpEscape = function(s) {\n  return String(s).replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, \"\\\\$1\").replace(/\\x08/g, \"\\\\x08\");\n};\ngoog.string.repeat = String.prototype.repeat ? function(string, length) {\n  return string.repeat(length);\n} : function(string, length) {\n  return Array(length + 1).join(string);\n};\ngoog.string.padNumber = function(num, length, opt_precision) {\n  if (!Number.isFinite(num)) {\n    return String(num);\n  }\n  var s = void 0 !== opt_precision ? num.toFixed(opt_precision) : String(num), index = s.indexOf(\".\");\n  -1 === index && (index = s.length);\n  var sign = \"-\" === s[0] ? \"-\" : \"\";\n  sign && (s = s.substring(1));\n  return sign + goog.string.repeat(\"0\", Math.max(0, length - index)) + s;\n};\ngoog.string.makeSafe = function(obj) {\n  return null == obj ? \"\" : String(obj);\n};\ngoog.string.buildString = function(var_args) {\n  return Array.prototype.join.call(arguments, \"\");\n};\ngoog.string.getRandomString = function() {\n  return Math.floor(2147483648 * Math.random()).toString(36) + Math.abs(Math.floor(2147483648 * Math.random()) ^ goog.now()).toString(36);\n};\ngoog.string.compareVersions = goog.string.internal.compareVersions;\ngoog.string.hashCode = function(str) {\n  for (var result = 0, i = 0; i < str.length; ++i) {\n    result = 31 * result + str.charCodeAt(i) >>> 0;\n  }\n  return result;\n};\ngoog.string.uniqueStringCounter_ = 2147483648 * Math.random() | 0;\ngoog.string.createUniqueString = function() {\n  return \"goog_\" + goog.string.uniqueStringCounter_++;\n};\ngoog.string.toNumber = function(str) {\n  var num = Number(str);\n  return 0 == num && goog.string.isEmptyOrWhitespace(str) ? NaN : num;\n};\ngoog.string.isLowerCamelCase = function(str) {\n  return /^[a-z]+([A-Z][a-z]*)*$/.test(str);\n};\ngoog.string.isUpperCamelCase = function(str) {\n  return /^([A-Z][a-z]*)+$/.test(str);\n};\ngoog.string.toCamelCase = function(str) {\n  return String(str).replace(/\\-([a-z])/g, function(all, match) {\n    return match.toUpperCase();\n  });\n};\ngoog.string.toSelectorCase = function(str) {\n  return String(str).replace(/([A-Z])/g, \"-$1\").toLowerCase();\n};\ngoog.string.toTitleCase = function(str, opt_delimiters) {\n  var delimiters = \"string\" === typeof opt_delimiters ? goog.string.regExpEscape(opt_delimiters) : \"\\\\s\";\n  return str.replace(new RegExp(\"(^\" + (delimiters ? \"|[\" + delimiters + \"]+\" : \"\") + \")([a-z])\", \"g\"), function(all, p1, p2) {\n    return p1 + p2.toUpperCase();\n  });\n};\ngoog.string.capitalize = function(str) {\n  return String(str.charAt(0)).toUpperCase() + String(str.substr(1)).toLowerCase();\n};\ngoog.string.parseInt = function(value) {\n  isFinite(value) && (value = String(value));\n  return \"string\" === typeof value ? /^\\s*-?0x/i.test(value) ? parseInt(value, 16) : parseInt(value, 10) : NaN;\n};\ngoog.string.splitLimit = function(str, separator, limit) {\n  for (var parts = str.split(separator), returnVal = []; 0 < limit && parts.length;) {\n    returnVal.push(parts.shift()), limit--;\n  }\n  parts.length && returnVal.push(parts.join(separator));\n  return returnVal;\n};\ngoog.string.lastComponent = function(str, separators) {\n  if (separators) {\n    \"string\" == typeof separators && (separators = [separators]);\n  } else {\n    return str;\n  }\n  for (var lastSeparatorIndex = -1, i = 0; i < separators.length; i++) {\n    if (\"\" != separators[i]) {\n      var currentSeparatorIndex = str.lastIndexOf(separators[i]);\n      currentSeparatorIndex > lastSeparatorIndex && (lastSeparatorIndex = currentSeparatorIndex);\n    }\n  }\n  return -1 == lastSeparatorIndex ? str : str.slice(lastSeparatorIndex + 1);\n};\ngoog.string.editDistance = function(a, b) {\n  var v0 = [], v1 = [];\n  if (a == b) {\n    return 0;\n  }\n  if (!a.length || !b.length) {\n    return Math.max(a.length, b.length);\n  }\n  for (var i = 0; i < b.length + 1; i++) {\n    v0[i] = i;\n  }\n  for (var i$50 = 0; i$50 < a.length; i$50++) {\n    v1[0] = i$50 + 1;\n    for (var j = 0; j < b.length; j++) {\n      v1[j + 1] = Math.min(v1[j] + 1, v0[j + 1] + 1, v0[j] + Number(a[i$50] != b[j]));\n    }\n    for (var j$51 = 0; j$51 < v0.length; j$51++) {\n      v0[j$51] = v1[j$51];\n    }\n  }\n  return v1[b.length];\n};\ngoog.collections.maps = {};\nvar module$contents$goog$collections$maps_MapLike = function() {\n};\nmodule$contents$goog$collections$maps_MapLike.prototype.set = function(key, val) {\n};\nmodule$contents$goog$collections$maps_MapLike.prototype.get = function(key) {\n};\nmodule$contents$goog$collections$maps_MapLike.prototype.keys = function() {\n};\nmodule$contents$goog$collections$maps_MapLike.prototype.values = function() {\n};\nmodule$contents$goog$collections$maps_MapLike.prototype.has = function(key) {\n};\ngoog.collections.maps.MapLike = module$contents$goog$collections$maps_MapLike;\ngoog.collections.maps.setAll = function module$contents$goog$collections$maps_setAll(map, entries) {\n  if (entries) {\n    for (var $jscomp$iter$10 = $jscomp.makeIterator(entries), $jscomp$key$ = $jscomp$iter$10.next(); !$jscomp$key$.done; $jscomp$key$ = $jscomp$iter$10.next()) {\n      var $jscomp$destructuring$var13 = $jscomp.makeIterator($jscomp$key$.value), k = $jscomp$destructuring$var13.next().value, v = $jscomp$destructuring$var13.next().value;\n      map.set(k, v);\n    }\n  }\n};\ngoog.collections.maps.hasValue = function module$contents$goog$collections$maps_hasValue(map, val, valueEqualityFn) {\n  valueEqualityFn = void 0 === valueEqualityFn ? module$contents$goog$collections$maps_defaultEqualityFn : valueEqualityFn;\n  for (var $jscomp$iter$11 = $jscomp.makeIterator(map.values()), $jscomp$key$v = $jscomp$iter$11.next(); !$jscomp$key$v.done; $jscomp$key$v = $jscomp$iter$11.next()) {\n    if (valueEqualityFn($jscomp$key$v.value, val)) {\n      return !0;\n    }\n  }\n  return !1;\n};\nvar module$contents$goog$collections$maps_defaultEqualityFn = function(a, b) {\n  return a === b;\n};\ngoog.collections.maps.equals = function module$contents$goog$collections$maps_equals(map, otherMap, valueEqualityFn) {\n  valueEqualityFn = void 0 === valueEqualityFn ? module$contents$goog$collections$maps_defaultEqualityFn : valueEqualityFn;\n  if (map === otherMap) {\n    return !0;\n  }\n  if (map.size !== otherMap.size) {\n    return !1;\n  }\n  for (var $jscomp$iter$12 = $jscomp.makeIterator(map.keys()), $jscomp$key$key = $jscomp$iter$12.next(); !$jscomp$key$key.done; $jscomp$key$key = $jscomp$iter$12.next()) {\n    var key = $jscomp$key$key.value;\n    if (!otherMap.has(key) || !valueEqualityFn(map.get(key), otherMap.get(key))) {\n      return !1;\n    }\n  }\n  return !0;\n};\ngoog.collections.maps.transpose = function module$contents$goog$collections$maps_transpose(map) {\n  for (var transposed = new Map(), $jscomp$iter$13 = $jscomp.makeIterator(map.keys()), $jscomp$key$key = $jscomp$iter$13.next(); !$jscomp$key$key.done; $jscomp$key$key = $jscomp$iter$13.next()) {\n    var key = $jscomp$key$key.value, val = map.get(key);\n    transposed.set(val, key);\n  }\n  return transposed;\n};\ngoog.collections.maps.toObject = function module$contents$goog$collections$maps_toObject(map) {\n  for (var obj = {}, $jscomp$iter$14 = $jscomp.makeIterator(map.keys()), $jscomp$key$key = $jscomp$iter$14.next(); !$jscomp$key$key.done; $jscomp$key$key = $jscomp$iter$14.next()) {\n    var key = $jscomp$key$key.value;\n    obj[key] = map.get(key);\n  }\n  return obj;\n};\ngoog.uri = {};\ngoog.uri.utils = {};\ngoog.uri.utils.QueryArray = {};\ngoog.uri.utils.QueryValue = {};\ngoog.uri.utils.CharCode_ = {AMPERSAND:38, EQUAL:61, HASH:35, QUESTION:63};\ngoog.uri.utils.buildFromEncodedParts = function(opt_scheme, opt_userInfo, opt_domain, opt_port, opt_path, opt_queryData, opt_fragment) {\n  var out = \"\";\n  opt_scheme && (out += opt_scheme + \":\");\n  opt_domain && (out += \"//\", opt_userInfo && (out += opt_userInfo + \"@\"), out += opt_domain, opt_port && (out += \":\" + opt_port));\n  opt_path && (out += opt_path);\n  opt_queryData && (out += \"?\" + opt_queryData);\n  opt_fragment && (out += \"#\" + opt_fragment);\n  return out;\n};\ngoog.uri.utils.splitRe_ = RegExp(\"^(?:([^:/?#.]+):)?(?://(?:([^\\\\\\\\/?#]*)@)?([^\\\\\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\\\\\/?#]|$))?([^?#]+)?(?:\\\\?([^#]*))?(?:#([\\\\s\\\\S]*))?$\");\ngoog.uri.utils.ComponentIndex = {SCHEME:1, USER_INFO:2, DOMAIN:3, PORT:4, PATH:5, QUERY_DATA:6, FRAGMENT:7};\ngoog.uri.utils.urlPackageSupportLoggingHandler_ = null;\ngoog.uri.utils.setUrlPackageSupportLoggingHandler = function(handler) {\n  goog.uri.utils.urlPackageSupportLoggingHandler_ = handler;\n};\ngoog.uri.utils.split = function(uri) {\n  var result = uri.match(goog.uri.utils.splitRe_);\n  goog.uri.utils.urlPackageSupportLoggingHandler_ && 0 <= [\"http\", \"https\", \"ws\", \"wss\", \"ftp\"].indexOf(result[goog.uri.utils.ComponentIndex.SCHEME]) && goog.uri.utils.urlPackageSupportLoggingHandler_(uri);\n  return result;\n};\ngoog.uri.utils.decodeIfPossible_ = function(uri, opt_preserveReserved) {\n  return uri ? opt_preserveReserved ? decodeURI(uri) : decodeURIComponent(uri) : uri;\n};\ngoog.uri.utils.getComponentByIndex_ = function(componentIndex, uri) {\n  return goog.uri.utils.split(uri)[componentIndex] || null;\n};\ngoog.uri.utils.getScheme = function(uri) {\n  return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.SCHEME, uri);\n};\ngoog.uri.utils.getEffectiveScheme = function(uri) {\n  var scheme = goog.uri.utils.getScheme(uri);\n  if (!scheme && goog.global.self && goog.global.self.location) {\n    var protocol = goog.global.self.location.protocol;\n    scheme = protocol.substr(0, protocol.length - 1);\n  }\n  return scheme ? scheme.toLowerCase() : \"\";\n};\ngoog.uri.utils.getUserInfoEncoded = function(uri) {\n  return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.USER_INFO, uri);\n};\ngoog.uri.utils.getUserInfo = function(uri) {\n  return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getUserInfoEncoded(uri));\n};\ngoog.uri.utils.getDomainEncoded = function(uri) {\n  return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.DOMAIN, uri);\n};\ngoog.uri.utils.getDomain = function(uri) {\n  return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getDomainEncoded(uri), !0);\n};\ngoog.uri.utils.getPort = function(uri) {\n  return Number(goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PORT, uri)) || null;\n};\ngoog.uri.utils.getPathEncoded = function(uri) {\n  return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.PATH, uri);\n};\ngoog.uri.utils.getPath = function(uri) {\n  return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getPathEncoded(uri), !0);\n};\ngoog.uri.utils.getQueryData = function(uri) {\n  return goog.uri.utils.getComponentByIndex_(goog.uri.utils.ComponentIndex.QUERY_DATA, uri);\n};\ngoog.uri.utils.getFragmentEncoded = function(uri) {\n  var hashIndex = uri.indexOf(\"#\");\n  return 0 > hashIndex ? null : uri.substr(hashIndex + 1);\n};\ngoog.uri.utils.setFragmentEncoded = function(uri, fragment) {\n  return goog.uri.utils.removeFragment(uri) + (fragment ? \"#\" + fragment : \"\");\n};\ngoog.uri.utils.getFragment = function(uri) {\n  return goog.uri.utils.decodeIfPossible_(goog.uri.utils.getFragmentEncoded(uri));\n};\ngoog.uri.utils.getHost = function(uri) {\n  var pieces = goog.uri.utils.split(uri);\n  return goog.uri.utils.buildFromEncodedParts(pieces[goog.uri.utils.ComponentIndex.SCHEME], pieces[goog.uri.utils.ComponentIndex.USER_INFO], pieces[goog.uri.utils.ComponentIndex.DOMAIN], pieces[goog.uri.utils.ComponentIndex.PORT]);\n};\ngoog.uri.utils.getOrigin = function(uri) {\n  var pieces = goog.uri.utils.split(uri);\n  return goog.uri.utils.buildFromEncodedParts(pieces[goog.uri.utils.ComponentIndex.SCHEME], null, pieces[goog.uri.utils.ComponentIndex.DOMAIN], pieces[goog.uri.utils.ComponentIndex.PORT]);\n};\ngoog.uri.utils.getPathAndAfter = function(uri) {\n  var pieces = goog.uri.utils.split(uri);\n  return goog.uri.utils.buildFromEncodedParts(null, null, null, null, pieces[goog.uri.utils.ComponentIndex.PATH], pieces[goog.uri.utils.ComponentIndex.QUERY_DATA], pieces[goog.uri.utils.ComponentIndex.FRAGMENT]);\n};\ngoog.uri.utils.removeFragment = function(uri) {\n  var hashIndex = uri.indexOf(\"#\");\n  return 0 > hashIndex ? uri : uri.substr(0, hashIndex);\n};\ngoog.uri.utils.haveSameDomain = function(uri1, uri2) {\n  var pieces1 = goog.uri.utils.split(uri1), pieces2 = goog.uri.utils.split(uri2);\n  return pieces1[goog.uri.utils.ComponentIndex.DOMAIN] == pieces2[goog.uri.utils.ComponentIndex.DOMAIN] && pieces1[goog.uri.utils.ComponentIndex.SCHEME] == pieces2[goog.uri.utils.ComponentIndex.SCHEME] && pieces1[goog.uri.utils.ComponentIndex.PORT] == pieces2[goog.uri.utils.ComponentIndex.PORT];\n};\ngoog.uri.utils.assertNoFragmentsOrQueries_ = function(uri) {\n  goog.asserts.assert(0 > uri.indexOf(\"#\") && 0 > uri.indexOf(\"?\"), \"goog.uri.utils: Fragment or query identifiers are not supported: [%s]\", uri);\n};\ngoog.uri.utils.parseQueryData = function(encodedQuery, callback) {\n  if (encodedQuery) {\n    for (var pairs = encodedQuery.split(\"&\"), i = 0; i < pairs.length; i++) {\n      var indexOfEquals = pairs[i].indexOf(\"=\"), name = null, value = null;\n      0 <= indexOfEquals ? (name = pairs[i].substring(0, indexOfEquals), value = pairs[i].substring(indexOfEquals + 1)) : name = pairs[i];\n      callback(name, value ? goog.string.urlDecode(value) : \"\");\n    }\n  }\n};\ngoog.uri.utils.splitQueryData_ = function(uri) {\n  var hashIndex = uri.indexOf(\"#\");\n  0 > hashIndex && (hashIndex = uri.length);\n  var questionIndex = uri.indexOf(\"?\");\n  if (0 > questionIndex || questionIndex > hashIndex) {\n    questionIndex = hashIndex;\n    var queryData = \"\";\n  } else {\n    queryData = uri.substring(questionIndex + 1, hashIndex);\n  }\n  return [uri.substr(0, questionIndex), queryData, uri.substr(hashIndex)];\n};\ngoog.uri.utils.joinQueryData_ = function(parts) {\n  return parts[0] + (parts[1] ? \"?\" + parts[1] : \"\") + parts[2];\n};\ngoog.uri.utils.appendQueryData_ = function(queryData, newData) {\n  return newData ? queryData ? queryData + \"&\" + newData : newData : queryData;\n};\ngoog.uri.utils.appendQueryDataToUri_ = function(uri, queryData) {\n  if (!queryData) {\n    return uri;\n  }\n  var parts = goog.uri.utils.splitQueryData_(uri);\n  parts[1] = goog.uri.utils.appendQueryData_(parts[1], queryData);\n  return goog.uri.utils.joinQueryData_(parts);\n};\ngoog.uri.utils.appendKeyValuePairs_ = function(key, value, pairs) {\n  goog.asserts.assertString(key);\n  if (Array.isArray(value)) {\n    goog.asserts.assertArray(value);\n    for (var j = 0; j < value.length; j++) {\n      goog.uri.utils.appendKeyValuePairs_(key, String(value[j]), pairs);\n    }\n  } else {\n    null != value && pairs.push(key + (\"\" === value ? \"\" : \"=\" + goog.string.urlEncode(value)));\n  }\n};\ngoog.uri.utils.buildQueryData = function(keysAndValues, opt_startIndex) {\n  goog.asserts.assert(0 == Math.max(keysAndValues.length - (opt_startIndex || 0), 0) % 2, \"goog.uri.utils: Key/value lists must be even in length.\");\n  for (var params = [], i = opt_startIndex || 0; i < keysAndValues.length; i += 2) {\n    goog.uri.utils.appendKeyValuePairs_(keysAndValues[i], keysAndValues[i + 1], params);\n  }\n  return params.join(\"&\");\n};\ngoog.uri.utils.buildQueryDataFromMap = function(map) {\n  var params = [], key;\n  for (key in map) {\n    goog.uri.utils.appendKeyValuePairs_(key, map[key], params);\n  }\n  return params.join(\"&\");\n};\ngoog.uri.utils.appendParams = function(uri, var_args) {\n  var queryData = 2 == arguments.length ? goog.uri.utils.buildQueryData(arguments[1], 0) : goog.uri.utils.buildQueryData(arguments, 1);\n  return goog.uri.utils.appendQueryDataToUri_(uri, queryData);\n};\ngoog.uri.utils.appendParamsFromMap = function(uri, map) {\n  var queryData = goog.uri.utils.buildQueryDataFromMap(map);\n  return goog.uri.utils.appendQueryDataToUri_(uri, queryData);\n};\ngoog.uri.utils.appendParam = function(uri, key, opt_value) {\n  var value = null != opt_value ? \"=\" + goog.string.urlEncode(opt_value) : \"\";\n  return goog.uri.utils.appendQueryDataToUri_(uri, key + value);\n};\ngoog.uri.utils.findParam_ = function(uri, startIndex, keyEncoded, hashOrEndIndex) {\n  for (var index = startIndex, keyLength = keyEncoded.length; 0 <= (index = uri.indexOf(keyEncoded, index)) && index < hashOrEndIndex;) {\n    var precedingChar = uri.charCodeAt(index - 1);\n    if (precedingChar == goog.uri.utils.CharCode_.AMPERSAND || precedingChar == goog.uri.utils.CharCode_.QUESTION) {\n      var followingChar = uri.charCodeAt(index + keyLength);\n      if (!followingChar || followingChar == goog.uri.utils.CharCode_.EQUAL || followingChar == goog.uri.utils.CharCode_.AMPERSAND || followingChar == goog.uri.utils.CharCode_.HASH) {\n        return index;\n      }\n    }\n    index += keyLength + 1;\n  }\n  return -1;\n};\ngoog.uri.utils.hashOrEndRe_ = /#|$/;\ngoog.uri.utils.hasParam = function(uri, keyEncoded) {\n  return 0 <= goog.uri.utils.findParam_(uri, 0, keyEncoded, uri.search(goog.uri.utils.hashOrEndRe_));\n};\ngoog.uri.utils.getParamValue = function(uri, keyEncoded) {\n  var hashOrEndIndex = uri.search(goog.uri.utils.hashOrEndRe_), foundIndex = goog.uri.utils.findParam_(uri, 0, keyEncoded, hashOrEndIndex);\n  if (0 > foundIndex) {\n    return null;\n  }\n  var endPosition = uri.indexOf(\"&\", foundIndex);\n  if (0 > endPosition || endPosition > hashOrEndIndex) {\n    endPosition = hashOrEndIndex;\n  }\n  foundIndex += keyEncoded.length + 1;\n  return goog.string.urlDecode(uri.substr(foundIndex, endPosition - foundIndex));\n};\ngoog.uri.utils.getParamValues = function(uri, keyEncoded) {\n  for (var hashOrEndIndex = uri.search(goog.uri.utils.hashOrEndRe_), position = 0, foundIndex, result = []; 0 <= (foundIndex = goog.uri.utils.findParam_(uri, position, keyEncoded, hashOrEndIndex));) {\n    position = uri.indexOf(\"&\", foundIndex);\n    if (0 > position || position > hashOrEndIndex) {\n      position = hashOrEndIndex;\n    }\n    foundIndex += keyEncoded.length + 1;\n    result.push(goog.string.urlDecode(uri.substr(foundIndex, position - foundIndex)));\n  }\n  return result;\n};\ngoog.uri.utils.trailingQueryPunctuationRe_ = /[?&]($|#)/;\ngoog.uri.utils.removeParam = function(uri, keyEncoded) {\n  for (var hashOrEndIndex = uri.search(goog.uri.utils.hashOrEndRe_), position = 0, foundIndex, buffer = []; 0 <= (foundIndex = goog.uri.utils.findParam_(uri, position, keyEncoded, hashOrEndIndex));) {\n    buffer.push(uri.substring(position, foundIndex)), position = Math.min(uri.indexOf(\"&\", foundIndex) + 1 || hashOrEndIndex, hashOrEndIndex);\n  }\n  buffer.push(uri.substr(position));\n  return buffer.join(\"\").replace(goog.uri.utils.trailingQueryPunctuationRe_, \"$1\");\n};\ngoog.uri.utils.setParam = function(uri, keyEncoded, value) {\n  return goog.uri.utils.appendParam(goog.uri.utils.removeParam(uri, keyEncoded), keyEncoded, value);\n};\ngoog.uri.utils.setParamsFromMap = function(uri, params) {\n  var parts = goog.uri.utils.splitQueryData_(uri), queryData = parts[1], buffer = [];\n  queryData && queryData.split(\"&\").forEach(function(pair) {\n    var indexOfEquals = pair.indexOf(\"=\");\n    params.hasOwnProperty(0 <= indexOfEquals ? pair.substr(0, indexOfEquals) : pair) || buffer.push(pair);\n  });\n  parts[1] = goog.uri.utils.appendQueryData_(buffer.join(\"&\"), goog.uri.utils.buildQueryDataFromMap(params));\n  return goog.uri.utils.joinQueryData_(parts);\n};\ngoog.uri.utils.appendPath = function(baseUri, path) {\n  goog.uri.utils.assertNoFragmentsOrQueries_(baseUri);\n  goog.string.endsWith(baseUri, \"/\") && (baseUri = baseUri.substr(0, baseUri.length - 1));\n  goog.string.startsWith(path, \"/\") && (path = path.substr(1));\n  return \"\" + baseUri + \"/\" + path;\n};\ngoog.uri.utils.setPath = function(uri, path) {\n  goog.string.startsWith(path, \"/\") || (path = \"/\" + path);\n  var parts = goog.uri.utils.split(uri);\n  return goog.uri.utils.buildFromEncodedParts(parts[goog.uri.utils.ComponentIndex.SCHEME], parts[goog.uri.utils.ComponentIndex.USER_INFO], parts[goog.uri.utils.ComponentIndex.DOMAIN], parts[goog.uri.utils.ComponentIndex.PORT], path, parts[goog.uri.utils.ComponentIndex.QUERY_DATA], parts[goog.uri.utils.ComponentIndex.FRAGMENT]);\n};\ngoog.uri.utils.StandardQueryParam = {RANDOM:\"zx\"};\ngoog.uri.utils.makeUnique = function(uri) {\n  return goog.uri.utils.setParam(uri, goog.uri.utils.StandardQueryParam.RANDOM, goog.string.getRandomString());\n};\ngoog.Uri = function(opt_uri, opt_ignoreCase) {\n  this.domain_ = this.userInfo_ = this.scheme_ = \"\";\n  this.port_ = null;\n  this.fragment_ = this.path_ = \"\";\n  this.ignoreCase_ = this.isReadOnly_ = !1;\n  var m;\n  opt_uri instanceof goog.Uri ? (this.ignoreCase_ = void 0 !== opt_ignoreCase ? opt_ignoreCase : opt_uri.getIgnoreCase(), this.setScheme(opt_uri.getScheme()), this.setUserInfo(opt_uri.getUserInfo()), this.setDomain(opt_uri.getDomain()), this.setPort(opt_uri.getPort()), this.setPath(opt_uri.getPath()), this.setQueryData(opt_uri.getQueryData().clone()), this.setFragment(opt_uri.getFragment())) : opt_uri && (m = goog.uri.utils.split(String(opt_uri))) ? (this.ignoreCase_ = !!opt_ignoreCase, this.setScheme(m[goog.uri.utils.ComponentIndex.SCHEME] || \n  \"\", !0), this.setUserInfo(m[goog.uri.utils.ComponentIndex.USER_INFO] || \"\", !0), this.setDomain(m[goog.uri.utils.ComponentIndex.DOMAIN] || \"\", !0), this.setPort(m[goog.uri.utils.ComponentIndex.PORT]), this.setPath(m[goog.uri.utils.ComponentIndex.PATH] || \"\", !0), this.setQueryData(m[goog.uri.utils.ComponentIndex.QUERY_DATA] || \"\", !0), this.setFragment(m[goog.uri.utils.ComponentIndex.FRAGMENT] || \"\", !0)) : (this.ignoreCase_ = !!opt_ignoreCase, this.queryData_ = new goog.Uri.QueryData(null, this.ignoreCase_));\n};\ngoog.Uri.RANDOM_PARAM = goog.uri.utils.StandardQueryParam.RANDOM;\ngoog.Uri.prototype.toString = function() {\n  var out = [], scheme = this.getScheme();\n  scheme && out.push(goog.Uri.encodeSpecialChars_(scheme, goog.Uri.reDisallowedInSchemeOrUserInfo_, !0), \":\");\n  var domain = this.getDomain();\n  if (domain || \"file\" == scheme) {\n    out.push(\"//\");\n    var userInfo = this.getUserInfo();\n    userInfo && out.push(goog.Uri.encodeSpecialChars_(userInfo, goog.Uri.reDisallowedInSchemeOrUserInfo_, !0), \"@\");\n    out.push(goog.Uri.removeDoubleEncoding_(goog.string.urlEncode(domain)));\n    var port = this.getPort();\n    null != port && out.push(\":\", String(port));\n  }\n  var path = this.getPath();\n  path && (this.hasDomain() && \"/\" != path.charAt(0) && out.push(\"/\"), out.push(goog.Uri.encodeSpecialChars_(path, \"/\" == path.charAt(0) ? goog.Uri.reDisallowedInAbsolutePath_ : goog.Uri.reDisallowedInRelativePath_, !0)));\n  var query = this.getEncodedQuery();\n  query && out.push(\"?\", query);\n  var fragment = this.getFragment();\n  fragment && out.push(\"#\", goog.Uri.encodeSpecialChars_(fragment, goog.Uri.reDisallowedInFragment_));\n  return out.join(\"\");\n};\ngoog.Uri.prototype.resolve = function(relativeUri) {\n  var absoluteUri = this.clone(), overridden = relativeUri.hasScheme();\n  overridden ? absoluteUri.setScheme(relativeUri.getScheme()) : overridden = relativeUri.hasUserInfo();\n  overridden ? absoluteUri.setUserInfo(relativeUri.getUserInfo()) : overridden = relativeUri.hasDomain();\n  overridden ? absoluteUri.setDomain(relativeUri.getDomain()) : overridden = relativeUri.hasPort();\n  var path = relativeUri.getPath();\n  if (overridden) {\n    absoluteUri.setPort(relativeUri.getPort());\n  } else {\n    if (overridden = relativeUri.hasPath()) {\n      if (\"/\" != path.charAt(0)) {\n        if (this.hasDomain() && !this.hasPath()) {\n          path = \"/\" + path;\n        } else {\n          var lastSlashIndex = absoluteUri.getPath().lastIndexOf(\"/\");\n          -1 != lastSlashIndex && (path = absoluteUri.getPath().substr(0, lastSlashIndex + 1) + path);\n        }\n      }\n      path = goog.Uri.removeDotSegments(path);\n    }\n  }\n  overridden ? absoluteUri.setPath(path) : overridden = relativeUri.hasQuery();\n  overridden ? absoluteUri.setQueryData(relativeUri.getQueryData().clone()) : overridden = relativeUri.hasFragment();\n  overridden && absoluteUri.setFragment(relativeUri.getFragment());\n  return absoluteUri;\n};\ngoog.Uri.prototype.clone = function() {\n  return new goog.Uri(this);\n};\ngoog.Uri.prototype.getScheme = function() {\n  return this.scheme_;\n};\ngoog.Uri.prototype.setScheme = function(newScheme, opt_decode) {\n  this.enforceReadOnly();\n  if (this.scheme_ = opt_decode ? goog.Uri.decodeOrEmpty_(newScheme, !0) : newScheme) {\n    this.scheme_ = this.scheme_.replace(/:$/, \"\");\n  }\n  return this;\n};\ngoog.Uri.prototype.hasScheme = function() {\n  return !!this.scheme_;\n};\ngoog.Uri.prototype.getUserInfo = function() {\n  return this.userInfo_;\n};\ngoog.Uri.prototype.setUserInfo = function(newUserInfo, opt_decode) {\n  this.enforceReadOnly();\n  this.userInfo_ = opt_decode ? goog.Uri.decodeOrEmpty_(newUserInfo) : newUserInfo;\n  return this;\n};\ngoog.Uri.prototype.hasUserInfo = function() {\n  return !!this.userInfo_;\n};\ngoog.Uri.prototype.getDomain = function() {\n  return this.domain_;\n};\ngoog.Uri.prototype.setDomain = function(newDomain, opt_decode) {\n  this.enforceReadOnly();\n  this.domain_ = opt_decode ? goog.Uri.decodeOrEmpty_(newDomain, !0) : newDomain;\n  return this;\n};\ngoog.Uri.prototype.hasDomain = function() {\n  return !!this.domain_;\n};\ngoog.Uri.prototype.getPort = function() {\n  return this.port_;\n};\ngoog.Uri.prototype.setPort = function(newPort) {\n  this.enforceReadOnly();\n  if (newPort) {\n    newPort = Number(newPort);\n    if (isNaN(newPort) || 0 > newPort) {\n      throw Error(\"Bad port number \" + newPort);\n    }\n    this.port_ = newPort;\n  } else {\n    this.port_ = null;\n  }\n  return this;\n};\ngoog.Uri.prototype.hasPort = function() {\n  return null != this.port_;\n};\ngoog.Uri.prototype.getPath = function() {\n  return this.path_;\n};\ngoog.Uri.prototype.setPath = function(newPath, opt_decode) {\n  this.enforceReadOnly();\n  this.path_ = opt_decode ? goog.Uri.decodeOrEmpty_(newPath, !0) : newPath;\n  return this;\n};\ngoog.Uri.prototype.hasPath = function() {\n  return !!this.path_;\n};\ngoog.Uri.prototype.hasQuery = function() {\n  return \"\" !== this.queryData_.toString();\n};\ngoog.Uri.prototype.setQueryData = function(queryData, opt_decode) {\n  this.enforceReadOnly();\n  queryData instanceof goog.Uri.QueryData ? (this.queryData_ = queryData, this.queryData_.setIgnoreCase(this.ignoreCase_)) : (opt_decode || (queryData = goog.Uri.encodeSpecialChars_(queryData, goog.Uri.reDisallowedInQuery_)), this.queryData_ = new goog.Uri.QueryData(queryData, this.ignoreCase_));\n  return this;\n};\ngoog.Uri.prototype.setQuery = function(newQuery, opt_decode) {\n  return this.setQueryData(newQuery, opt_decode);\n};\ngoog.Uri.prototype.getEncodedQuery = function() {\n  return this.queryData_.toString();\n};\ngoog.Uri.prototype.getDecodedQuery = function() {\n  return this.queryData_.toDecodedString();\n};\ngoog.Uri.prototype.getQueryData = function() {\n  return this.queryData_;\n};\ngoog.Uri.prototype.getQuery = function() {\n  return this.getEncodedQuery();\n};\ngoog.Uri.prototype.setParameterValue = function(key, value) {\n  this.enforceReadOnly();\n  this.queryData_.set(key, value);\n  return this;\n};\ngoog.Uri.prototype.setParameterValues = function(key, values) {\n  this.enforceReadOnly();\n  Array.isArray(values) || (values = [String(values)]);\n  this.queryData_.setValues(key, values);\n  return this;\n};\ngoog.Uri.prototype.getParameterValues = function(name) {\n  return this.queryData_.getValues(name);\n};\ngoog.Uri.prototype.getParameterValue = function(paramName) {\n  return this.queryData_.get(paramName);\n};\ngoog.Uri.prototype.getFragment = function() {\n  return this.fragment_;\n};\ngoog.Uri.prototype.setFragment = function(newFragment, opt_decode) {\n  this.enforceReadOnly();\n  this.fragment_ = opt_decode ? goog.Uri.decodeOrEmpty_(newFragment) : newFragment;\n  return this;\n};\ngoog.Uri.prototype.hasFragment = function() {\n  return !!this.fragment_;\n};\ngoog.Uri.prototype.hasSameDomainAs = function(uri2) {\n  return (!this.hasDomain() && !uri2.hasDomain() || this.getDomain() == uri2.getDomain()) && (!this.hasPort() && !uri2.hasPort() || this.getPort() == uri2.getPort());\n};\ngoog.Uri.prototype.makeUnique = function() {\n  this.enforceReadOnly();\n  this.setParameterValue(goog.Uri.RANDOM_PARAM, goog.string.getRandomString());\n  return this;\n};\ngoog.Uri.prototype.removeParameter = function(key) {\n  this.enforceReadOnly();\n  this.queryData_.remove(key);\n  return this;\n};\ngoog.Uri.prototype.setReadOnly = function(isReadOnly) {\n  this.isReadOnly_ = isReadOnly;\n  return this;\n};\ngoog.Uri.prototype.isReadOnly = function() {\n  return this.isReadOnly_;\n};\ngoog.Uri.prototype.enforceReadOnly = function() {\n  if (this.isReadOnly_) {\n    throw Error(\"Tried to modify a read-only Uri\");\n  }\n};\ngoog.Uri.prototype.setIgnoreCase = function(ignoreCase) {\n  this.ignoreCase_ = ignoreCase;\n  this.queryData_ && this.queryData_.setIgnoreCase(ignoreCase);\n  return this;\n};\ngoog.Uri.prototype.getIgnoreCase = function() {\n  return this.ignoreCase_;\n};\ngoog.Uri.parse = function(uri, opt_ignoreCase) {\n  return uri instanceof goog.Uri ? uri.clone() : new goog.Uri(uri, opt_ignoreCase);\n};\ngoog.Uri.create = function(opt_scheme, opt_userInfo, opt_domain, opt_port, opt_path, opt_query, opt_fragment, opt_ignoreCase) {\n  var uri = new goog.Uri(null, opt_ignoreCase);\n  opt_scheme && uri.setScheme(opt_scheme);\n  opt_userInfo && uri.setUserInfo(opt_userInfo);\n  opt_domain && uri.setDomain(opt_domain);\n  opt_port && uri.setPort(opt_port);\n  opt_path && uri.setPath(opt_path);\n  opt_query && uri.setQueryData(opt_query);\n  opt_fragment && uri.setFragment(opt_fragment);\n  return uri;\n};\ngoog.Uri.resolve = function(base, rel) {\n  base instanceof goog.Uri || (base = goog.Uri.parse(base));\n  rel instanceof goog.Uri || (rel = goog.Uri.parse(rel));\n  return base.resolve(rel);\n};\ngoog.Uri.removeDotSegments = function(path) {\n  if (\"..\" == path || \".\" == path) {\n    return \"\";\n  }\n  if (goog.string.contains(path, \"./\") || goog.string.contains(path, \"/.\")) {\n    for (var leadingSlash = goog.string.startsWith(path, \"/\"), segments = path.split(\"/\"), out = [], pos = 0; pos < segments.length;) {\n      var segment = segments[pos++];\n      \".\" == segment ? leadingSlash && pos == segments.length && out.push(\"\") : \"..\" == segment ? ((1 < out.length || 1 == out.length && \"\" != out[0]) && out.pop(), leadingSlash && pos == segments.length && out.push(\"\")) : (out.push(segment), leadingSlash = !0);\n    }\n    return out.join(\"/\");\n  }\n  return path;\n};\ngoog.Uri.decodeOrEmpty_ = function(val, opt_preserveReserved) {\n  return val ? opt_preserveReserved ? decodeURI(val.replace(/%25/g, \"%2525\")) : decodeURIComponent(val) : \"\";\n};\ngoog.Uri.encodeSpecialChars_ = function(unescapedPart, extra, opt_removeDoubleEncoding) {\n  if (\"string\" === typeof unescapedPart) {\n    var encoded = encodeURI(unescapedPart).replace(extra, goog.Uri.encodeChar_);\n    opt_removeDoubleEncoding && (encoded = goog.Uri.removeDoubleEncoding_(encoded));\n    return encoded;\n  }\n  return null;\n};\ngoog.Uri.encodeChar_ = function(ch) {\n  var n = ch.charCodeAt(0);\n  return \"%\" + (n >> 4 & 15).toString(16) + (n & 15).toString(16);\n};\ngoog.Uri.removeDoubleEncoding_ = function(doubleEncodedString) {\n  return doubleEncodedString.replace(/%25([0-9a-fA-F]{2})/g, \"%$1\");\n};\ngoog.Uri.reDisallowedInSchemeOrUserInfo_ = /[#\\/\\?@]/g;\ngoog.Uri.reDisallowedInRelativePath_ = /[#\\?:]/g;\ngoog.Uri.reDisallowedInAbsolutePath_ = /[#\\?]/g;\ngoog.Uri.reDisallowedInQuery_ = /[#\\?@]/g;\ngoog.Uri.reDisallowedInFragment_ = /#/g;\ngoog.Uri.haveSameDomain = function(uri1String, uri2String) {\n  var pieces1 = goog.uri.utils.split(uri1String), pieces2 = goog.uri.utils.split(uri2String);\n  return pieces1[goog.uri.utils.ComponentIndex.DOMAIN] == pieces2[goog.uri.utils.ComponentIndex.DOMAIN] && pieces1[goog.uri.utils.ComponentIndex.PORT] == pieces2[goog.uri.utils.ComponentIndex.PORT];\n};\ngoog.Uri.QueryData = function(opt_query, opt_ignoreCase) {\n  this.count_ = this.keyMap_ = null;\n  this.encodedQuery_ = opt_query || null;\n  this.ignoreCase_ = !!opt_ignoreCase;\n};\ngoog.Uri.QueryData.prototype.ensureKeyMapInitialized_ = function() {\n  if (!this.keyMap_ && (this.keyMap_ = new Map(), this.count_ = 0, this.encodedQuery_)) {\n    var self = this;\n    goog.uri.utils.parseQueryData(this.encodedQuery_, function(name, value) {\n      self.add(goog.string.urlDecode(name), value);\n    });\n  }\n};\ngoog.Uri.QueryData.createFromMap = function(map, opt_ignoreCase) {\n  var keys = goog.structs.getKeys(map);\n  if (\"undefined\" == typeof keys) {\n    throw Error(\"Keys are undefined\");\n  }\n  for (var queryData = new goog.Uri.QueryData(null, opt_ignoreCase), values = goog.structs.getValues(map), i = 0; i < keys.length; i++) {\n    var key = keys[i], value = values[i];\n    Array.isArray(value) ? queryData.setValues(key, value) : queryData.add(key, value);\n  }\n  return queryData;\n};\ngoog.Uri.QueryData.createFromKeysValues = function(keys, values, opt_ignoreCase) {\n  if (keys.length != values.length) {\n    throw Error(\"Mismatched lengths for keys/values\");\n  }\n  for (var queryData = new goog.Uri.QueryData(null, opt_ignoreCase), i = 0; i < keys.length; i++) {\n    queryData.add(keys[i], values[i]);\n  }\n  return queryData;\n};\ngoog.Uri.QueryData.prototype.getCount = function() {\n  this.ensureKeyMapInitialized_();\n  return this.count_;\n};\ngoog.Uri.QueryData.prototype.add = function(key, value) {\n  this.ensureKeyMapInitialized_();\n  this.invalidateCache_();\n  key = this.getKeyName_(key);\n  var values = this.keyMap_.get(key);\n  values || this.keyMap_.set(key, values = []);\n  values.push(value);\n  this.count_ = goog.asserts.assertNumber(this.count_) + 1;\n  return this;\n};\ngoog.Uri.QueryData.prototype.remove = function(key) {\n  this.ensureKeyMapInitialized_();\n  key = this.getKeyName_(key);\n  return this.keyMap_.has(key) ? (this.invalidateCache_(), this.count_ = goog.asserts.assertNumber(this.count_) - this.keyMap_.get(key).length, this.keyMap_.delete(key)) : !1;\n};\ngoog.Uri.QueryData.prototype.clear = function() {\n  this.invalidateCache_();\n  this.keyMap_ = null;\n  this.count_ = 0;\n};\ngoog.Uri.QueryData.prototype.isEmpty = function() {\n  this.ensureKeyMapInitialized_();\n  return 0 == this.count_;\n};\ngoog.Uri.QueryData.prototype.containsKey = function(key) {\n  this.ensureKeyMapInitialized_();\n  key = this.getKeyName_(key);\n  return this.keyMap_.has(key);\n};\ngoog.Uri.QueryData.prototype.containsValue = function(value) {\n  var vals = this.getValues();\n  return module$contents$goog$array_contains(vals, value);\n};\ngoog.Uri.QueryData.prototype.forEach = function(f, opt_scope) {\n  this.ensureKeyMapInitialized_();\n  this.keyMap_.forEach(function(values, key) {\n    values.forEach(function(value) {\n      f.call(opt_scope, value, key, this);\n    }, this);\n  }, this);\n};\ngoog.Uri.QueryData.prototype.getKeys = function() {\n  this.ensureKeyMapInitialized_();\n  for (var vals = Array.from(this.keyMap_.values()), keys = Array.from(this.keyMap_.keys()), rv = [], i = 0; i < keys.length; i++) {\n    for (var val = vals[i], j = 0; j < val.length; j++) {\n      rv.push(keys[i]);\n    }\n  }\n  return rv;\n};\ngoog.Uri.QueryData.prototype.getValues = function(opt_key) {\n  this.ensureKeyMapInitialized_();\n  var rv = [];\n  if (\"string\" === typeof opt_key) {\n    this.containsKey(opt_key) && (rv = rv.concat(this.keyMap_.get(this.getKeyName_(opt_key))));\n  } else {\n    for (var values = Array.from(this.keyMap_.values()), i = 0; i < values.length; i++) {\n      rv = rv.concat(values[i]);\n    }\n  }\n  return rv;\n};\ngoog.Uri.QueryData.prototype.set = function(key, value) {\n  this.ensureKeyMapInitialized_();\n  this.invalidateCache_();\n  key = this.getKeyName_(key);\n  this.containsKey(key) && (this.count_ = goog.asserts.assertNumber(this.count_) - this.keyMap_.get(key).length);\n  this.keyMap_.set(key, [value]);\n  this.count_ = goog.asserts.assertNumber(this.count_) + 1;\n  return this;\n};\ngoog.Uri.QueryData.prototype.get = function(key, opt_default) {\n  if (!key) {\n    return opt_default;\n  }\n  var values = this.getValues(key);\n  return 0 < values.length ? String(values[0]) : opt_default;\n};\ngoog.Uri.QueryData.prototype.setValues = function(key, values) {\n  this.remove(key);\n  0 < values.length && (this.invalidateCache_(), this.keyMap_.set(this.getKeyName_(key), module$contents$goog$array_toArray(values)), this.count_ = goog.asserts.assertNumber(this.count_) + values.length);\n};\ngoog.Uri.QueryData.prototype.toString = function() {\n  if (this.encodedQuery_) {\n    return this.encodedQuery_;\n  }\n  if (!this.keyMap_) {\n    return \"\";\n  }\n  for (var sb = [], keys = Array.from(this.keyMap_.keys()), i = 0; i < keys.length; i++) {\n    for (var key = keys[i], encodedKey = goog.string.urlEncode(key), val = this.getValues(key), j = 0; j < val.length; j++) {\n      var param = encodedKey;\n      \"\" !== val[j] && (param += \"=\" + goog.string.urlEncode(val[j]));\n      sb.push(param);\n    }\n  }\n  return this.encodedQuery_ = sb.join(\"&\");\n};\ngoog.Uri.QueryData.prototype.toDecodedString = function() {\n  return goog.Uri.decodeOrEmpty_(this.toString());\n};\ngoog.Uri.QueryData.prototype.invalidateCache_ = function() {\n  this.encodedQuery_ = null;\n};\ngoog.Uri.QueryData.prototype.filterKeys = function(keys) {\n  this.ensureKeyMapInitialized_();\n  this.keyMap_.forEach(function(value, key) {\n    module$contents$goog$array_contains(keys, key) || this.remove(key);\n  }, this);\n  return this;\n};\ngoog.Uri.QueryData.prototype.clone = function() {\n  var rv = new goog.Uri.QueryData();\n  rv.encodedQuery_ = this.encodedQuery_;\n  this.keyMap_ && (rv.keyMap_ = new Map(this.keyMap_), rv.count_ = this.count_);\n  return rv;\n};\ngoog.Uri.QueryData.prototype.getKeyName_ = function(arg) {\n  var keyName = String(arg);\n  this.ignoreCase_ && (keyName = keyName.toLowerCase());\n  return keyName;\n};\ngoog.Uri.QueryData.prototype.setIgnoreCase = function(ignoreCase) {\n  ignoreCase && !this.ignoreCase_ && (this.ensureKeyMapInitialized_(), this.invalidateCache_(), this.keyMap_.forEach(function(value, key) {\n    var lowerCase = key.toLowerCase();\n    key != lowerCase && (this.remove(key), this.setValues(lowerCase, value));\n  }, this));\n  this.ignoreCase_ = ignoreCase;\n};\ngoog.Uri.QueryData.prototype.extend = function(var_args) {\n  for (var i = 0; i < arguments.length; i++) {\n    goog.structs.forEach(arguments[i], function(value, key) {\n      this.add(key, value);\n    }, this);\n  }\n};\nvar module$exports$goog$net$rpc$HttpCors = {HTTP_HEADERS_PARAM_NAME:\"$httpHeaders\", HTTP_METHOD_PARAM_NAME:\"$httpMethod\", generateHttpHeadersOverwriteParam:function(headers) {\n  var result = \"\";\n  module$contents$goog$object_forEach(headers, function(value, key) {\n    result += key;\n    result += \":\";\n    result += value;\n    result += \"\\r\\n\";\n  });\n  return result;\n}, generateEncodedHttpHeadersOverwriteParam:function(headers) {\n  return goog.string.urlEncode(module$exports$goog$net$rpc$HttpCors.generateHttpHeadersOverwriteParam(headers));\n}, setHttpHeadersWithOverwriteParam:function(url, urlParam, extraHeaders) {\n  if (module$contents$goog$object_isEmpty(extraHeaders)) {\n    return url;\n  }\n  var httpHeaders = module$exports$goog$net$rpc$HttpCors.generateHttpHeadersOverwriteParam(extraHeaders);\n  if (\"string\" === typeof url) {\n    return goog.uri.utils.appendParam(url, goog.string.urlEncode(urlParam), httpHeaders);\n  }\n  url.setParameterValue(urlParam, httpHeaders);\n  return url;\n}};\nvar module$exports$eeapiclient$request_params = {}, module$contents$eeapiclient$request_params_module = module$contents$eeapiclient$request_params_module || {id:\"javascript/typescript/contrib/apiclient/core/request_params.closure.js\"};\nmodule$exports$eeapiclient$request_params.HttpMethodEnum = {GET:\"GET\", POST:\"POST\", PUT:\"PUT\", PATCH:\"PATCH\", DELETE:\"DELETE\",};\nmodule$exports$eeapiclient$request_params.AuthType = {AUTO:\"auto\", NONE:\"none\", OAUTH2:\"oauth2\", FIRST_PARTY:\"1p\",};\nmodule$exports$eeapiclient$request_params.StreamingType = {NONE:\"NONE\", CLIENT_SIDE:\"CLIENT_SIDE\", SERVER_SIDE:\"SERVER_SIDE\", BIDIRECTONAL:\"BIDIRECTONAL\",};\nfunction module$contents$eeapiclient$request_params_MakeRequestParams() {\n}\nmodule$exports$eeapiclient$request_params.MakeRequestParams = module$contents$eeapiclient$request_params_MakeRequestParams;\nfunction module$contents$eeapiclient$request_params_processParams(params) {\n  if (null != params.queryParams) {\n    var filteredQueryParams = {}, key;\n    for (key in params.queryParams) {\n      void 0 !== params.queryParams[key] && (filteredQueryParams[key] = params.queryParams[key]);\n    }\n    params.queryParams = filteredQueryParams;\n  }\n}\nmodule$exports$eeapiclient$request_params.processParams = module$contents$eeapiclient$request_params_processParams;\nfunction module$contents$eeapiclient$request_params_buildQueryParams(params, mapping, passthroughParams) {\n  for (var urlQueryParams = passthroughParams = void 0 === passthroughParams ? {} : passthroughParams, $jscomp$iter$15 = $jscomp.makeIterator(Object.entries(mapping)), $jscomp$key$ = $jscomp$iter$15.next(); !$jscomp$key$.done; $jscomp$key$ = $jscomp$iter$15.next()) {\n    var $jscomp$destructuring$var15 = $jscomp.makeIterator($jscomp$key$.value), jsName__tsickle_destructured_1 = $jscomp$destructuring$var15.next().value, urlQueryParamName__tsickle_destructured_2 = $jscomp$destructuring$var15.next().value, jsName = jsName__tsickle_destructured_1, urlQueryParamName = urlQueryParamName__tsickle_destructured_2;\n    jsName in params && (urlQueryParams[urlQueryParamName] = params[jsName]);\n  }\n  return urlQueryParams;\n}\nmodule$exports$eeapiclient$request_params.buildQueryParams = module$contents$eeapiclient$request_params_buildQueryParams;\nvar module$contents$eeapiclient$request_params_simpleCorsAllowedHeaders = [\"accept\", \"accept-language\", \"content-language\"], module$contents$eeapiclient$request_params_simpleCorsAllowedMethods = [\"GET\", \"HEAD\", \"POST\"];\nmodule$exports$eeapiclient$request_params.bypassCorsPreflight = function module$contents$eeapiclient$request_params_bypassCorsPreflight(params) {\n  var safeHeaders = {}, unsafeHeaders = {}, hasUnsafeHeaders = !1, hasSafeHeaders = !1, hasContentType = !1;\n  if (params.headers) {\n    hasContentType = null != params.headers[\"Content-Type\"];\n    for (var $jscomp$iter$16 = $jscomp.makeIterator(Object.entries(params.headers)), $jscomp$key$ = $jscomp$iter$16.next(); !$jscomp$key$.done; $jscomp$key$ = $jscomp$iter$16.next()) {\n      var $jscomp$destructuring$var17 = $jscomp.makeIterator($jscomp$key$.value), key__tsickle_destructured_3 = $jscomp$destructuring$var17.next().value, value__tsickle_destructured_4 = $jscomp$destructuring$var17.next().value, key = key__tsickle_destructured_3, value = value__tsickle_destructured_4;\n      module$contents$eeapiclient$request_params_simpleCorsAllowedHeaders.includes(key) ? (safeHeaders[key] = value, hasSafeHeaders = !0) : (unsafeHeaders[key] = value, hasUnsafeHeaders = !0);\n    }\n  }\n  if (null != params.body || \"PUT\" === params.httpMethod || \"POST\" === params.httpMethod) {\n    hasContentType || (unsafeHeaders[\"Content-Type\"] = \"application/json\", hasUnsafeHeaders = !0), safeHeaders[\"Content-Type\"] = \"text/plain\", hasSafeHeaders = !0;\n  }\n  if (hasUnsafeHeaders) {\n    var finalParam = (0,module$exports$goog$net$rpc$HttpCors.generateEncodedHttpHeadersOverwriteParam)(unsafeHeaders);\n    module$contents$eeapiclient$request_params_addQueryParameter(params, module$exports$goog$net$rpc$HttpCors.HTTP_HEADERS_PARAM_NAME, finalParam);\n  }\n  hasSafeHeaders && (params.headers = safeHeaders);\n  module$contents$eeapiclient$request_params_simpleCorsAllowedMethods.includes(params.httpMethod) || (module$contents$eeapiclient$request_params_addQueryParameter(params, module$exports$goog$net$rpc$HttpCors.HTTP_METHOD_PARAM_NAME, params.httpMethod), params.httpMethod = \"POST\");\n};\nfunction module$contents$eeapiclient$request_params_addQueryParameter(params, key, value) {\n  if (params.queryParams) {\n    params.queryParams[key] = value;\n  } else {\n    var $jscomp$compprop0 = {};\n    params.queryParams = ($jscomp$compprop0[key] = value, $jscomp$compprop0);\n  }\n}\n;var module$exports$eeapiclient$multipart_request = {}, module$contents$eeapiclient$multipart_request_module = module$contents$eeapiclient$multipart_request_module || {id:\"javascript/typescript/contrib/apiclient/core/multipart_request.closure.js\"};\nmodule$exports$eeapiclient$multipart_request.MultipartRequest = function(files, _metadata) {\n  this.files = files;\n  this._metadata = _metadata;\n  this._metadataPayload = \"\";\n  this._boundary = Date.now().toString();\n  _metadata && this.addMetadata(_metadata);\n  this._payloadPromise = this.build();\n};\nmodule$exports$eeapiclient$multipart_request.MultipartRequest.prototype.boundary = function() {\n  return this._boundary;\n};\nmodule$exports$eeapiclient$multipart_request.MultipartRequest.prototype.metadata = function() {\n  return this._metadata;\n};\nmodule$exports$eeapiclient$multipart_request.MultipartRequest.prototype.payloadPromise = function() {\n  return this._payloadPromise;\n};\nmodule$exports$eeapiclient$multipart_request.MultipartRequest.prototype.addMetadata = function(metadata) {\n  var json = metadata instanceof module$exports$eeapiclient$domain_object.Serializable ? module$contents$eeapiclient$domain_object_serialize(metadata) : metadata;\n  this._metadataPayload += \"Content-Type: application/json; charset=utf-8\\r\\n\\r\\n\" + JSON.stringify(json) + (\"\\r\\n--\" + this._boundary + \"\\r\\n\");\n};\nmodule$exports$eeapiclient$multipart_request.MultipartRequest.prototype.build = function() {\n  var $jscomp$this = this, payload = \"--\" + this._boundary + \"\\r\\n\";\n  payload += this._metadataPayload;\n  return Promise.all(this.files.map(function(f) {\n    return $jscomp$this.encodeFile(f);\n  })).then(function(filePayloads) {\n    for (var $jscomp$iter$17 = $jscomp.makeIterator(filePayloads), $jscomp$key$filePayload = $jscomp$iter$17.next(); !$jscomp$key$filePayload.done; $jscomp$key$filePayload = $jscomp$iter$17.next()) {\n      payload += $jscomp$key$filePayload.value;\n    }\n    return payload += \"\\r\\n--\" + $jscomp$this._boundary + \"--\";\n  });\n};\nmodule$exports$eeapiclient$multipart_request.MultipartRequest.prototype.encodeFile = function(file) {\n  return this.base64EncodeFile(file).then(function(base64Str) {\n    return \"Content-Type: \" + file.type + '\\r\\nContent-Disposition: form-data; name=\"file\"; filename=\"' + (encodeURIComponent(file.name) + '\"\\r\\nContent-Transfer-Encoding: base64\\r\\n\\r\\n') + base64Str;\n  });\n};\nmodule$exports$eeapiclient$multipart_request.MultipartRequest.prototype.base64EncodeFile = function(file) {\n  return new Promise(function(resolve, reject) {\n    var reader = new FileReader();\n    reader.onload = function(ev) {\n      try {\n        var file$52 = ev.target.result, toResolve = file$52.substr(file$52.indexOf(\",\") + 1);\n        resolve(toResolve);\n      } catch (e) {\n        reject(e);\n      }\n    };\n    reader.readAsDataURL(file);\n  });\n};\nvar module$exports$eeapiclient$api_client = {}, module$contents$eeapiclient$api_client_module = module$contents$eeapiclient$api_client_module || {id:\"javascript/typescript/contrib/apiclient/core/api_client.closure.js\"};\nmodule$exports$eeapiclient$api_client.ApiClient = function() {\n};\nmodule$exports$eeapiclient$api_client.ApiClient.prototype.$validateParameter = function(param, pattern) {\n  var paramStr = String(param);\n  if (!pattern.test(paramStr)) {\n    throw Error(\"parameter [\" + paramStr + \"] does not match pattern [\" + pattern.toString() + \"]\");\n  }\n};\nfunction module$contents$eeapiclient$api_client_toMakeRequestParams(requestParams) {\n  var body = requestParams.body instanceof module$exports$eeapiclient$domain_object.Serializable ? module$contents$eeapiclient$domain_object_serialize(requestParams.body) : requestParams.body;\n  return {path:requestParams.path, httpMethod:requestParams.httpMethod, methodId:requestParams.methodId, body:body, queryParams:requestParams.queryParams, streamingType:requestParams.streamingType && requestParams.streamingType};\n}\nmodule$exports$eeapiclient$api_client.toMakeRequestParams = module$contents$eeapiclient$api_client_toMakeRequestParams;\nfunction module$contents$eeapiclient$api_client_toMultipartMakeRequestParams(requestParams) {\n  if (!(requestParams.body instanceof module$exports$eeapiclient$multipart_request.MultipartRequest)) {\n    throw Error(requestParams.path + \" request must be a MultipartRequest\");\n  }\n  var multipartRequest = requestParams.body;\n  return multipartRequest.payloadPromise().then(function(body) {\n    var _a, queryParams = null !== (_a = requestParams.queryParams) && void 0 !== _a ? _a : {};\n    return {path:requestParams.path, httpMethod:requestParams.httpMethod, methodId:requestParams.methodId, queryParams:Object.assign(Object.assign({}, queryParams), {uploadType:\"multipart\"}), headers:{\"X-Goog-Upload-Protocol\":\"multipart\", \"Content-Type\":\"multipart/related; boundary=\" + multipartRequest.boundary()}, body:body,};\n  });\n}\nmodule$exports$eeapiclient$api_client.toMultipartMakeRequestParams = module$contents$eeapiclient$api_client_toMultipartMakeRequestParams;\nvar module$exports$eeapiclient$api_request_hook = {}, module$contents$eeapiclient$api_request_hook_module = module$contents$eeapiclient$api_request_hook_module || {id:\"javascript/typescript/contrib/apiclient/core/api_request_hook.closure.js\"};\nmodule$exports$eeapiclient$api_request_hook.ApiClientRequestHook = function module$contents$eeapiclient$api_request_hook_ApiClientRequestHook() {\n};\nmodule$exports$eeapiclient$api_request_hook.ApiClientHookFactory = function() {\n};\nmodule$exports$eeapiclient$api_request_hook.ApiClientHookFactoryCtor = function module$contents$eeapiclient$api_request_hook_ApiClientHookFactoryCtor() {\n};\nmodule$exports$eeapiclient$api_request_hook.DefaultApiClientHookFactory = function() {\n};\nmodule$exports$eeapiclient$api_request_hook.DefaultApiClientHookFactory.prototype.getRequestHook = function(requestParams) {\n  return {onBeforeSend:function() {\n  }, onSuccess:function(response) {\n  }, onError:function(error) {\n  },};\n};\nfunction module$contents$eeapiclient$api_request_hook_getRequestHook(factory, requestParams) {\n  if (null == factory) {\n    return null;\n  }\n  var hook = factory.getRequestHook(requestParams);\n  return null == hook ? null : hook;\n}\nmodule$exports$eeapiclient$api_request_hook.getRequestHook = module$contents$eeapiclient$api_request_hook_getRequestHook;\nvar module$exports$eeapiclient$promise_api_client = {}, module$contents$eeapiclient$promise_api_client_module = module$contents$eeapiclient$promise_api_client_module || {id:\"javascript/typescript/contrib/apiclient/request_service/promise_api_client.closure.js\"};\nmodule$exports$eeapiclient$promise_api_client.PromiseApiClient = function(requestService, hookFactory) {\n  this.requestService = requestService;\n  this.hookFactory = void 0 === hookFactory ? null : hookFactory;\n};\n$jscomp.inherits(module$exports$eeapiclient$promise_api_client.PromiseApiClient, module$exports$eeapiclient$api_client.ApiClient);\nmodule$exports$eeapiclient$promise_api_client.PromiseApiClient.prototype.$addHooksToRequest = function(requestParams, promise) {\n  return null == module$contents$eeapiclient$api_request_hook_getRequestHook(this.hookFactory, requestParams) ? promise : promise.then(function(response) {\n    return response;\n  }, function(error) {\n    throw error;\n  });\n};\nmodule$exports$eeapiclient$promise_api_client.PromiseApiClient.prototype.$request = function(requestParams) {\n  var responseCtor = requestParams.responseCtor || void 0;\n  return this.$addHooksToRequest(requestParams, this.requestService.send(module$contents$eeapiclient$api_client_toMakeRequestParams(requestParams), responseCtor));\n};\nmodule$exports$eeapiclient$promise_api_client.PromiseApiClient.prototype.$uploadRequest = function(requestParams) {\n  var $jscomp$this = this, responseCtor = requestParams.responseCtor || void 0;\n  return this.$addHooksToRequest(requestParams, module$contents$eeapiclient$api_client_toMultipartMakeRequestParams(requestParams).then(function(params) {\n    return $jscomp$this.requestService.send(params, responseCtor);\n  }));\n};\nvar module$exports$eeapiclient$ee_api_client = {}, module$contents$eeapiclient$ee_api_client_module = module$contents$eeapiclient$ee_api_client_module || {id:\"geo/gestalt/client/javascript/v1alpha/ee_api_client.closure.js\"};\nmodule$exports$eeapiclient$ee_api_client.IAuditLogConfigLogTypeEnum = function module$contents$eeapiclient$ee_api_client_IAuditLogConfigLogTypeEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum = {ADMIN_READ:\"ADMIN_READ\", DATA_READ:\"DATA_READ\", DATA_WRITE:\"DATA_WRITE\", LOG_TYPE_UNSPECIFIED:\"LOG_TYPE_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum.LOG_TYPE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum.ADMIN_READ, module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum.DATA_WRITE, module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum.DATA_READ];\n}};\nmodule$exports$eeapiclient$ee_api_client.IAuthorizationLoggingOptionsPermissionTypeEnum = function module$contents$eeapiclient$ee_api_client_IAuthorizationLoggingOptionsPermissionTypeEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum = {ADMIN_READ:\"ADMIN_READ\", ADMIN_WRITE:\"ADMIN_WRITE\", DATA_READ:\"DATA_READ\", DATA_WRITE:\"DATA_WRITE\", PERMISSION_TYPE_UNSPECIFIED:\"PERMISSION_TYPE_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum.PERMISSION_TYPE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum.ADMIN_READ, module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum.ADMIN_WRITE, module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum.DATA_READ, \n  module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum.DATA_WRITE];\n}};\nmodule$exports$eeapiclient$ee_api_client.ICapabilitiesCapabilitiesEnum = function module$contents$eeapiclient$ee_api_client_ICapabilitiesCapabilitiesEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum = {CAPABILITY_GROUP_UNSPECIFIED:\"CAPABILITY_GROUP_UNSPECIFIED\", CLOUD_ALPHA:\"CLOUD_ALPHA\", EXTERNAL:\"EXTERNAL\", INTERNAL:\"INTERNAL\", LIMITED:\"LIMITED\", PREAUTHORIZED:\"PREAUTHORIZED\", PREVIEW:\"PREVIEW\", PUBLIC:\"PUBLIC\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.CAPABILITY_GROUP_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.PUBLIC, module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.INTERNAL, module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.EXTERNAL, module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.LIMITED, \n  module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.PREAUTHORIZED, module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.PREVIEW, module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum.CLOUD_ALPHA];\n}};\nmodule$exports$eeapiclient$ee_api_client.ICloudAuditOptionsLogNameEnum = function module$contents$eeapiclient$ee_api_client_ICloudAuditOptionsLogNameEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.CloudAuditOptionsLogNameEnum = {ADMIN_ACTIVITY:\"ADMIN_ACTIVITY\", DATA_ACCESS:\"DATA_ACCESS\", UNSPECIFIED_LOG_NAME:\"UNSPECIFIED_LOG_NAME\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.CloudAuditOptionsLogNameEnum.UNSPECIFIED_LOG_NAME, module$exports$eeapiclient$ee_api_client.CloudAuditOptionsLogNameEnum.ADMIN_ACTIVITY, module$exports$eeapiclient$ee_api_client.CloudAuditOptionsLogNameEnum.DATA_ACCESS];\n}};\nmodule$exports$eeapiclient$ee_api_client.ICloudStorageDestinationPermissionsEnum = function module$contents$eeapiclient$ee_api_client_ICloudStorageDestinationPermissionsEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.CloudStorageDestinationPermissionsEnum = {DEFAULT_OBJECT_ACL:\"DEFAULT_OBJECT_ACL\", PUBLIC:\"PUBLIC\", TILE_PERMISSIONS_UNSPECIFIED:\"TILE_PERMISSIONS_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.CloudStorageDestinationPermissionsEnum.TILE_PERMISSIONS_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.CloudStorageDestinationPermissionsEnum.PUBLIC, module$exports$eeapiclient$ee_api_client.CloudStorageDestinationPermissionsEnum.DEFAULT_OBJECT_ACL];\n}};\nmodule$exports$eeapiclient$ee_api_client.IComputePixelsRequestFileFormatEnum = function module$contents$eeapiclient$ee_api_client_IComputePixelsRequestFileFormatEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum = {AUTO_JPEG_PNG:\"AUTO_JPEG_PNG\", GEO_TIFF:\"GEO_TIFF\", IMAGE_FILE_FORMAT_UNSPECIFIED:\"IMAGE_FILE_FORMAT_UNSPECIFIED\", JPEG:\"JPEG\", MULTI_BAND_IMAGE_TILE:\"MULTI_BAND_IMAGE_TILE\", NPY:\"NPY\", PNG:\"PNG\", TF_RECORD_IMAGE:\"TF_RECORD_IMAGE\", ZIPPED_GEO_TIFF:\"ZIPPED_GEO_TIFF\", ZIPPED_GEO_TIFF_PER_BAND:\"ZIPPED_GEO_TIFF_PER_BAND\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.IMAGE_FILE_FORMAT_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.JPEG, module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.PNG, module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.AUTO_JPEG_PNG, \n  module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.NPY, module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.GEO_TIFF, module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.TF_RECORD_IMAGE, module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.MULTI_BAND_IMAGE_TILE, module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.ZIPPED_GEO_TIFF, \n  module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum.ZIPPED_GEO_TIFF_PER_BAND];\n}};\nmodule$exports$eeapiclient$ee_api_client.IConditionIamEnum = function module$contents$eeapiclient$ee_api_client_IConditionIamEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ConditionIamEnum = {APPROVER:\"APPROVER\", ATTRIBUTION:\"ATTRIBUTION\", AUTHORITY:\"AUTHORITY\", CREDENTIALS_TYPE:\"CREDENTIALS_TYPE\", CREDS_ASSERTION:\"CREDS_ASSERTION\", JUSTIFICATION_TYPE:\"JUSTIFICATION_TYPE\", NO_ATTR:\"NO_ATTR\", SECURITY_REALM:\"SECURITY_REALM\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ConditionIamEnum.NO_ATTR, module$exports$eeapiclient$ee_api_client.ConditionIamEnum.AUTHORITY, module$exports$eeapiclient$ee_api_client.ConditionIamEnum.ATTRIBUTION, module$exports$eeapiclient$ee_api_client.ConditionIamEnum.SECURITY_REALM, module$exports$eeapiclient$ee_api_client.ConditionIamEnum.APPROVER, \n  module$exports$eeapiclient$ee_api_client.ConditionIamEnum.JUSTIFICATION_TYPE, module$exports$eeapiclient$ee_api_client.ConditionIamEnum.CREDENTIALS_TYPE, module$exports$eeapiclient$ee_api_client.ConditionIamEnum.CREDS_ASSERTION];\n}};\nmodule$exports$eeapiclient$ee_api_client.IConditionOpEnum = function module$contents$eeapiclient$ee_api_client_IConditionOpEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ConditionOpEnum = {DISCHARGED:\"DISCHARGED\", EQUALS:\"EQUALS\", IN:\"IN\", NOT_EQUALS:\"NOT_EQUALS\", NOT_IN:\"NOT_IN\", NO_OP:\"NO_OP\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ConditionOpEnum.NO_OP, module$exports$eeapiclient$ee_api_client.ConditionOpEnum.EQUALS, module$exports$eeapiclient$ee_api_client.ConditionOpEnum.NOT_EQUALS, module$exports$eeapiclient$ee_api_client.ConditionOpEnum.IN, module$exports$eeapiclient$ee_api_client.ConditionOpEnum.NOT_IN, \n  module$exports$eeapiclient$ee_api_client.ConditionOpEnum.DISCHARGED];\n}};\nmodule$exports$eeapiclient$ee_api_client.IConditionSysEnum = function module$contents$eeapiclient$ee_api_client_IConditionSysEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ConditionSysEnum = {IP:\"IP\", NAME:\"NAME\", NO_ATTR:\"NO_ATTR\", REGION:\"REGION\", SERVICE:\"SERVICE\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ConditionSysEnum.NO_ATTR, module$exports$eeapiclient$ee_api_client.ConditionSysEnum.REGION, module$exports$eeapiclient$ee_api_client.ConditionSysEnum.SERVICE, module$exports$eeapiclient$ee_api_client.ConditionSysEnum.NAME, module$exports$eeapiclient$ee_api_client.ConditionSysEnum.IP];\n}};\nmodule$exports$eeapiclient$ee_api_client.IDataAccessOptionsLogModeEnum = function module$contents$eeapiclient$ee_api_client_IDataAccessOptionsLogModeEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.DataAccessOptionsLogModeEnum = {LOG_FAIL_CLOSED:\"LOG_FAIL_CLOSED\", LOG_MODE_UNSPECIFIED:\"LOG_MODE_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.DataAccessOptionsLogModeEnum.LOG_MODE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.DataAccessOptionsLogModeEnum.LOG_FAIL_CLOSED];\n}};\nmodule$exports$eeapiclient$ee_api_client.IDmsAttributeTypeEnum = function module$contents$eeapiclient$ee_api_client_IDmsAttributeTypeEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.DmsAttributeTypeEnum = {BOOLEAN:\"BOOLEAN\", DATE_TIME:\"DATE_TIME\", DOUBLE:\"DOUBLE\", INTEGER:\"INTEGER\", STRING:\"STRING\", TYPE_UNSPECIFIED:\"TYPE_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.DmsAttributeTypeEnum.TYPE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.DmsAttributeTypeEnum.INTEGER, module$exports$eeapiclient$ee_api_client.DmsAttributeTypeEnum.BOOLEAN, module$exports$eeapiclient$ee_api_client.DmsAttributeTypeEnum.DOUBLE, module$exports$eeapiclient$ee_api_client.DmsAttributeTypeEnum.STRING, \n  module$exports$eeapiclient$ee_api_client.DmsAttributeTypeEnum.DATE_TIME];\n}};\nmodule$exports$eeapiclient$ee_api_client.IEarthEngineAssetTypeEnum = function module$contents$eeapiclient$ee_api_client_IEarthEngineAssetTypeEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum = {CLASSIFIER:\"CLASSIFIER\", DATA_MAPPING_SERVICE:\"DATA_MAPPING_SERVICE\", FOLDER:\"FOLDER\", IMAGE:\"IMAGE\", IMAGE_COLLECTION:\"IMAGE_COLLECTION\", TABLE:\"TABLE\", TYPE_UNSPECIFIED:\"TYPE_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.TYPE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.IMAGE, module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.IMAGE_COLLECTION, module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.TABLE, module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.FOLDER, \n  module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.CLASSIFIER, module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum.DATA_MAPPING_SERVICE];\n}};\nmodule$exports$eeapiclient$ee_api_client.IEarthEngineMapFileFormatEnum = function module$contents$eeapiclient$ee_api_client_IEarthEngineMapFileFormatEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum = {AUTO_JPEG_PNG:\"AUTO_JPEG_PNG\", GEO_TIFF:\"GEO_TIFF\", IMAGE_FILE_FORMAT_UNSPECIFIED:\"IMAGE_FILE_FORMAT_UNSPECIFIED\", JPEG:\"JPEG\", MULTI_BAND_IMAGE_TILE:\"MULTI_BAND_IMAGE_TILE\", NPY:\"NPY\", PNG:\"PNG\", TF_RECORD_IMAGE:\"TF_RECORD_IMAGE\", ZIPPED_GEO_TIFF:\"ZIPPED_GEO_TIFF\", ZIPPED_GEO_TIFF_PER_BAND:\"ZIPPED_GEO_TIFF_PER_BAND\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.IMAGE_FILE_FORMAT_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.JPEG, module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.PNG, module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.AUTO_JPEG_PNG, module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.NPY, \n  module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.GEO_TIFF, module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.TF_RECORD_IMAGE, module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.MULTI_BAND_IMAGE_TILE, module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.ZIPPED_GEO_TIFF, module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum.ZIPPED_GEO_TIFF_PER_BAND];\n}};\nmodule$exports$eeapiclient$ee_api_client.IExportVideoMapRequestVersionEnum = function module$contents$eeapiclient$ee_api_client_IExportVideoMapRequestVersionEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ExportVideoMapRequestVersionEnum = {V1:\"V1\", V2:\"V2\", VERSION_UNSPECIFIED:\"VERSION_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ExportVideoMapRequestVersionEnum.VERSION_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ExportVideoMapRequestVersionEnum.V1, module$exports$eeapiclient$ee_api_client.ExportVideoMapRequestVersionEnum.V2];\n}};\nmodule$exports$eeapiclient$ee_api_client.IFeatureViewAttributeTypeEnum = function module$contents$eeapiclient$ee_api_client_IFeatureViewAttributeTypeEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum = {BOOLEAN:\"BOOLEAN\", DATE_TIME:\"DATE_TIME\", DOUBLE:\"DOUBLE\", INTEGER:\"INTEGER\", STRING:\"STRING\", TYPE_UNSPECIFIED:\"TYPE_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum.TYPE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum.INTEGER, module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum.BOOLEAN, module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum.DOUBLE, module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum.STRING, \n  module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum.DATE_TIME];\n}};\nmodule$exports$eeapiclient$ee_api_client.IFilmstripThumbnailFileFormatEnum = function module$contents$eeapiclient$ee_api_client_IFilmstripThumbnailFileFormatEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum = {AUTO_JPEG_PNG:\"AUTO_JPEG_PNG\", GEO_TIFF:\"GEO_TIFF\", IMAGE_FILE_FORMAT_UNSPECIFIED:\"IMAGE_FILE_FORMAT_UNSPECIFIED\", JPEG:\"JPEG\", MULTI_BAND_IMAGE_TILE:\"MULTI_BAND_IMAGE_TILE\", NPY:\"NPY\", PNG:\"PNG\", TF_RECORD_IMAGE:\"TF_RECORD_IMAGE\", ZIPPED_GEO_TIFF:\"ZIPPED_GEO_TIFF\", ZIPPED_GEO_TIFF_PER_BAND:\"ZIPPED_GEO_TIFF_PER_BAND\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.IMAGE_FILE_FORMAT_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.JPEG, module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.PNG, module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.AUTO_JPEG_PNG, module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.NPY, \n  module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.GEO_TIFF, module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.TF_RECORD_IMAGE, module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.MULTI_BAND_IMAGE_TILE, module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.ZIPPED_GEO_TIFF, \n  module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum.ZIPPED_GEO_TIFF_PER_BAND];\n}};\nmodule$exports$eeapiclient$ee_api_client.IFilmstripThumbnailOrientationEnum = function module$contents$eeapiclient$ee_api_client_IFilmstripThumbnailOrientationEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.FilmstripThumbnailOrientationEnum = {HORIZONTAL:\"HORIZONTAL\", ORIENTATION_UNSPECIFIED:\"ORIENTATION_UNSPECIFIED\", VERTICAL:\"VERTICAL\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.FilmstripThumbnailOrientationEnum.ORIENTATION_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.FilmstripThumbnailOrientationEnum.HORIZONTAL, module$exports$eeapiclient$ee_api_client.FilmstripThumbnailOrientationEnum.VERTICAL];\n}};\nmodule$exports$eeapiclient$ee_api_client.IGcsDestinationPermissionsEnum = function module$contents$eeapiclient$ee_api_client_IGcsDestinationPermissionsEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.GcsDestinationPermissionsEnum = {DEFAULT_OBJECT_ACL:\"DEFAULT_OBJECT_ACL\", PUBLIC:\"PUBLIC\", TILE_PERMISSIONS_UNSPECIFIED:\"TILE_PERMISSIONS_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.GcsDestinationPermissionsEnum.TILE_PERMISSIONS_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.GcsDestinationPermissionsEnum.PUBLIC, module$exports$eeapiclient$ee_api_client.GcsDestinationPermissionsEnum.DEFAULT_OBJECT_ACL];\n}};\nmodule$exports$eeapiclient$ee_api_client.IGetPixelsRequestFileFormatEnum = function module$contents$eeapiclient$ee_api_client_IGetPixelsRequestFileFormatEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum = {AUTO_JPEG_PNG:\"AUTO_JPEG_PNG\", GEO_TIFF:\"GEO_TIFF\", IMAGE_FILE_FORMAT_UNSPECIFIED:\"IMAGE_FILE_FORMAT_UNSPECIFIED\", JPEG:\"JPEG\", MULTI_BAND_IMAGE_TILE:\"MULTI_BAND_IMAGE_TILE\", NPY:\"NPY\", PNG:\"PNG\", TF_RECORD_IMAGE:\"TF_RECORD_IMAGE\", ZIPPED_GEO_TIFF:\"ZIPPED_GEO_TIFF\", ZIPPED_GEO_TIFF_PER_BAND:\"ZIPPED_GEO_TIFF_PER_BAND\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.IMAGE_FILE_FORMAT_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.JPEG, module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.PNG, module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.AUTO_JPEG_PNG, module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.NPY, \n  module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.GEO_TIFF, module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.TF_RECORD_IMAGE, module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.MULTI_BAND_IMAGE_TILE, module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.ZIPPED_GEO_TIFF, module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum.ZIPPED_GEO_TIFF_PER_BAND];\n}};\nmodule$exports$eeapiclient$ee_api_client.IImageAssetExportOptionsPyramidingPolicyEnum = function module$contents$eeapiclient$ee_api_client_IImageAssetExportOptionsPyramidingPolicyEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum = {MAX:\"MAX\", MEAN:\"MEAN\", MEDIAN:\"MEDIAN\", MIN:\"MIN\", MODE:\"MODE\", PYRAMIDING_POLICY_UNSPECIFIED:\"PYRAMIDING_POLICY_UNSPECIFIED\", SAMPLE:\"SAMPLE\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.PYRAMIDING_POLICY_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.MEAN, module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.SAMPLE, module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.MIN, \n  module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.MAX, module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.MODE, module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum.MEDIAN];\n}};\nmodule$exports$eeapiclient$ee_api_client.IImageAssetExportOptionsPyramidingPolicyOverridesEnum = function module$contents$eeapiclient$ee_api_client_IImageAssetExportOptionsPyramidingPolicyOverridesEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum = {MAX:\"MAX\", MEAN:\"MEAN\", MEDIAN:\"MEDIAN\", MIN:\"MIN\", MODE:\"MODE\", PYRAMIDING_POLICY_UNSPECIFIED:\"PYRAMIDING_POLICY_UNSPECIFIED\", SAMPLE:\"SAMPLE\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.PYRAMIDING_POLICY_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.MEAN, module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.SAMPLE, module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.MIN, \n  module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.MAX, module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.MODE, module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum.MEDIAN];\n}};\nmodule$exports$eeapiclient$ee_api_client.IImageBandPyramidingPolicyEnum = function module$contents$eeapiclient$ee_api_client_IImageBandPyramidingPolicyEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum = {MAX:\"MAX\", MEAN:\"MEAN\", MEDIAN:\"MEDIAN\", MIN:\"MIN\", MODE:\"MODE\", PYRAMIDING_POLICY_UNSPECIFIED:\"PYRAMIDING_POLICY_UNSPECIFIED\", SAMPLE:\"SAMPLE\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.PYRAMIDING_POLICY_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.MEAN, module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.SAMPLE, module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.MIN, module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.MAX, \n  module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.MODE, module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum.MEDIAN];\n}};\nmodule$exports$eeapiclient$ee_api_client.IImageFileExportOptionsFileFormatEnum = function module$contents$eeapiclient$ee_api_client_IImageFileExportOptionsFileFormatEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum = {AUTO_JPEG_PNG:\"AUTO_JPEG_PNG\", GEO_TIFF:\"GEO_TIFF\", IMAGE_FILE_FORMAT_UNSPECIFIED:\"IMAGE_FILE_FORMAT_UNSPECIFIED\", JPEG:\"JPEG\", MULTI_BAND_IMAGE_TILE:\"MULTI_BAND_IMAGE_TILE\", NPY:\"NPY\", PNG:\"PNG\", TF_RECORD_IMAGE:\"TF_RECORD_IMAGE\", ZIPPED_GEO_TIFF:\"ZIPPED_GEO_TIFF\", ZIPPED_GEO_TIFF_PER_BAND:\"ZIPPED_GEO_TIFF_PER_BAND\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.IMAGE_FILE_FORMAT_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.JPEG, module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.PNG, module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.AUTO_JPEG_PNG, \n  module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.NPY, module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.GEO_TIFF, module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.TF_RECORD_IMAGE, module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.MULTI_BAND_IMAGE_TILE, \n  module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.ZIPPED_GEO_TIFF, module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum.ZIPPED_GEO_TIFF_PER_BAND];\n}};\nmodule$exports$eeapiclient$ee_api_client.IImageManifestPyramidingPolicyEnum = function module$contents$eeapiclient$ee_api_client_IImageManifestPyramidingPolicyEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum = {MAX:\"MAX\", MEAN:\"MEAN\", MEDIAN:\"MEDIAN\", MIN:\"MIN\", MODE:\"MODE\", PYRAMIDING_POLICY_UNSPECIFIED:\"PYRAMIDING_POLICY_UNSPECIFIED\", SAMPLE:\"SAMPLE\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.PYRAMIDING_POLICY_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.MEAN, module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.SAMPLE, module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.MIN, module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.MAX, \n  module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.MODE, module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum.MEDIAN];\n}};\nmodule$exports$eeapiclient$ee_api_client.IOperationMetadataStateEnum = function module$contents$eeapiclient$ee_api_client_IOperationMetadataStateEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum = {CANCELLED:\"CANCELLED\", CANCELLING:\"CANCELLING\", FAILED:\"FAILED\", PENDING:\"PENDING\", RUNNING:\"RUNNING\", STATE_UNSPECIFIED:\"STATE_UNSPECIFIED\", SUCCEEDED:\"SUCCEEDED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.STATE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.PENDING, module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.RUNNING, module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.CANCELLING, module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.SUCCEEDED, \n  module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.CANCELLED, module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum.FAILED];\n}};\nmodule$exports$eeapiclient$ee_api_client.IPixelDataTypePrecisionEnum = function module$contents$eeapiclient$ee_api_client_IPixelDataTypePrecisionEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum = {DOUBLE:\"DOUBLE\", FLOAT:\"FLOAT\", INT:\"INT\", PRECISION_UNSPECIFIED:\"PRECISION_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum.PRECISION_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum.INT, module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum.FLOAT, module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum.DOUBLE];\n}};\nmodule$exports$eeapiclient$ee_api_client.IRankByOneThingRuleDirectionEnum = function module$contents$eeapiclient$ee_api_client_IRankByOneThingRuleDirectionEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.RankByOneThingRuleDirectionEnum = {ASCENDING:\"ASCENDING\", DESCENDING:\"DESCENDING\", DIRECTION_UNSPECIFIED:\"DIRECTION_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.RankByOneThingRuleDirectionEnum.DIRECTION_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.RankByOneThingRuleDirectionEnum.ASCENDING, module$exports$eeapiclient$ee_api_client.RankByOneThingRuleDirectionEnum.DESCENDING];\n}};\nmodule$exports$eeapiclient$ee_api_client.IRuleActionEnum = function module$contents$eeapiclient$ee_api_client_IRuleActionEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.RuleActionEnum = {ALLOW:\"ALLOW\", ALLOW_WITH_LOG:\"ALLOW_WITH_LOG\", DENY:\"DENY\", DENY_WITH_LOG:\"DENY_WITH_LOG\", LOG:\"LOG\", NO_ACTION:\"NO_ACTION\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.RuleActionEnum.NO_ACTION, module$exports$eeapiclient$ee_api_client.RuleActionEnum.ALLOW, module$exports$eeapiclient$ee_api_client.RuleActionEnum.ALLOW_WITH_LOG, module$exports$eeapiclient$ee_api_client.RuleActionEnum.DENY, module$exports$eeapiclient$ee_api_client.RuleActionEnum.DENY_WITH_LOG, \n  module$exports$eeapiclient$ee_api_client.RuleActionEnum.LOG];\n}};\nmodule$exports$eeapiclient$ee_api_client.ITableFileExportOptionsFileFormatEnum = function module$contents$eeapiclient$ee_api_client_ITableFileExportOptionsFileFormatEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum = {CSV:\"CSV\", GEO_JSON:\"GEO_JSON\", KML:\"KML\", KMZ:\"KMZ\", SHP:\"SHP\", TABLE_FILE_FORMAT_UNSPECIFIED:\"TABLE_FILE_FORMAT_UNSPECIFIED\", TF_RECORD_TABLE:\"TF_RECORD_TABLE\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.TABLE_FILE_FORMAT_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.CSV, module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.GEO_JSON, module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.KML, \n  module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.KMZ, module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.SHP, module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum.TF_RECORD_TABLE];\n}};\nmodule$exports$eeapiclient$ee_api_client.ITableFileFormatEnum = function module$contents$eeapiclient$ee_api_client_ITableFileFormatEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.TableFileFormatEnum = {CSV:\"CSV\", GEO_JSON:\"GEO_JSON\", KML:\"KML\", KMZ:\"KMZ\", SHP:\"SHP\", TABLE_FILE_FORMAT_UNSPECIFIED:\"TABLE_FILE_FORMAT_UNSPECIFIED\", TF_RECORD_TABLE:\"TF_RECORD_TABLE\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.TABLE_FILE_FORMAT_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.CSV, module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.GEO_JSON, module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.KML, module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.KMZ, \n  module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.SHP, module$exports$eeapiclient$ee_api_client.TableFileFormatEnum.TF_RECORD_TABLE];\n}};\nmodule$exports$eeapiclient$ee_api_client.ITableSourceCsvColumnDataTypeOverridesEnum = function module$contents$eeapiclient$ee_api_client_ITableSourceCsvColumnDataTypeOverridesEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.TableSourceCsvColumnDataTypeOverridesEnum = {CSV_COLUMN_DATA_TYPE_NUMERIC:\"CSV_COLUMN_DATA_TYPE_NUMERIC\", CSV_COLUMN_DATA_TYPE_STRING:\"CSV_COLUMN_DATA_TYPE_STRING\", CSV_COLUMN_DATA_TYPE_UNSPECIFIED:\"CSV_COLUMN_DATA_TYPE_UNSPECIFIED\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.TableSourceCsvColumnDataTypeOverridesEnum.CSV_COLUMN_DATA_TYPE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.TableSourceCsvColumnDataTypeOverridesEnum.CSV_COLUMN_DATA_TYPE_STRING, module$exports$eeapiclient$ee_api_client.TableSourceCsvColumnDataTypeOverridesEnum.CSV_COLUMN_DATA_TYPE_NUMERIC];\n}};\nmodule$exports$eeapiclient$ee_api_client.IThinningOptionsThinningStrategyEnum = function module$contents$eeapiclient$ee_api_client_IThinningOptionsThinningStrategyEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ThinningOptionsThinningStrategyEnum = {GLOBALLY_CONSISTENT:\"GLOBALLY_CONSISTENT\", HIGHER_DENSITY:\"HIGHER_DENSITY\", UNKNOWN_THINNING_STRATEGY:\"UNKNOWN_THINNING_STRATEGY\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ThinningOptionsThinningStrategyEnum.UNKNOWN_THINNING_STRATEGY, module$exports$eeapiclient$ee_api_client.ThinningOptionsThinningStrategyEnum.GLOBALLY_CONSISTENT, module$exports$eeapiclient$ee_api_client.ThinningOptionsThinningStrategyEnum.HIGHER_DENSITY];\n}};\nmodule$exports$eeapiclient$ee_api_client.IThumbnailFileFormatEnum = function module$contents$eeapiclient$ee_api_client_IThumbnailFileFormatEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum = {AUTO_JPEG_PNG:\"AUTO_JPEG_PNG\", GEO_TIFF:\"GEO_TIFF\", IMAGE_FILE_FORMAT_UNSPECIFIED:\"IMAGE_FILE_FORMAT_UNSPECIFIED\", JPEG:\"JPEG\", MULTI_BAND_IMAGE_TILE:\"MULTI_BAND_IMAGE_TILE\", NPY:\"NPY\", PNG:\"PNG\", TF_RECORD_IMAGE:\"TF_RECORD_IMAGE\", ZIPPED_GEO_TIFF:\"ZIPPED_GEO_TIFF\", ZIPPED_GEO_TIFF_PER_BAND:\"ZIPPED_GEO_TIFF_PER_BAND\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.IMAGE_FILE_FORMAT_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.JPEG, module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.PNG, module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.AUTO_JPEG_PNG, module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.NPY, \n  module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.GEO_TIFF, module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.TF_RECORD_IMAGE, module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.MULTI_BAND_IMAGE_TILE, module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.ZIPPED_GEO_TIFF, module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum.ZIPPED_GEO_TIFF_PER_BAND];\n}};\nmodule$exports$eeapiclient$ee_api_client.ITilesetBandPyramidingPolicyEnum = function module$contents$eeapiclient$ee_api_client_ITilesetBandPyramidingPolicyEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum = {MAX:\"MAX\", MEAN:\"MEAN\", MEDIAN:\"MEDIAN\", MIN:\"MIN\", MODE:\"MODE\", PYRAMIDING_POLICY_UNSPECIFIED:\"PYRAMIDING_POLICY_UNSPECIFIED\", SAMPLE:\"SAMPLE\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.PYRAMIDING_POLICY_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.MEAN, module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.SAMPLE, module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.MIN, module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.MAX, \n  module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.MODE, module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum.MEDIAN];\n}};\nmodule$exports$eeapiclient$ee_api_client.ITilesetDataTypeEnum = function module$contents$eeapiclient$ee_api_client_ITilesetDataTypeEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum = {DATA_TYPE_UNSPECIFIED:\"DATA_TYPE_UNSPECIFIED\", DOUBLE:\"DOUBLE\", FLOAT:\"FLOAT\", INT16:\"INT16\", INT32:\"INT32\", INT8:\"INT8\", UINT16:\"UINT16\", UINT32:\"UINT32\", UINT8:\"UINT8\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.DATA_TYPE_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.INT8, module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.UINT8, module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.INT16, module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.UINT16, \n  module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.INT32, module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.UINT32, module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.FLOAT, module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum.DOUBLE];\n}};\nmodule$exports$eeapiclient$ee_api_client.IVideoFileExportOptionsFileFormatEnum = function module$contents$eeapiclient$ee_api_client_IVideoFileExportOptionsFileFormatEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum = {GIF:\"GIF\", MP4:\"MP4\", VIDEO_FILE_FORMAT_UNSPECIFIED:\"VIDEO_FILE_FORMAT_UNSPECIFIED\", VP9:\"VP9\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum.VIDEO_FILE_FORMAT_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum.MP4, module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum.GIF, module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum.VP9];\n}};\nmodule$exports$eeapiclient$ee_api_client.IVideoThumbnailFileFormatEnum = function module$contents$eeapiclient$ee_api_client_IVideoThumbnailFileFormatEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum = {GIF:\"GIF\", MP4:\"MP4\", VIDEO_FILE_FORMAT_UNSPECIFIED:\"VIDEO_FILE_FORMAT_UNSPECIFIED\", VP9:\"VP9\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum.VIDEO_FILE_FORMAT_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum.MP4, module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum.GIF, module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum.VP9];\n}};\nmodule$exports$eeapiclient$ee_api_client.AffineTransformParameters = function module$contents$eeapiclient$ee_api_client_AffineTransformParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.AffineTransform = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"scaleX\", null == parameters.scaleX ? null : parameters.scaleX);\n  this.Serializable$set(\"shearX\", null == parameters.shearX ? null : parameters.shearX);\n  this.Serializable$set(\"translateX\", null == parameters.translateX ? null : parameters.translateX);\n  this.Serializable$set(\"shearY\", null == parameters.shearY ? null : parameters.shearY);\n  this.Serializable$set(\"scaleY\", null == parameters.scaleY ? null : parameters.scaleY);\n  this.Serializable$set(\"translateY\", null == parameters.translateY ? null : parameters.translateY);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.AffineTransform, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.AffineTransform.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.AffineTransform;\n};\nmodule$exports$eeapiclient$ee_api_client.AffineTransform.prototype.getPartialClassMetadata = function() {\n  return {keys:\"scaleX scaleY shearX shearY translateX translateY\".split(\" \")};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AffineTransform.prototype, {scaleX:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"scaleX\") ? this.Serializable$get(\"scaleX\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"scaleX\", value);\n}}, scaleY:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"scaleY\") ? this.Serializable$get(\"scaleY\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"scaleY\", value);\n}}, shearX:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"shearX\") ? this.Serializable$get(\"shearX\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"shearX\", value);\n}}, shearY:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"shearY\") ? this.Serializable$get(\"shearY\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"shearY\", value);\n}}, translateX:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"translateX\") ? this.Serializable$get(\"translateX\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"translateX\", value);\n}}, translateY:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"translateY\") ? this.Serializable$get(\"translateY\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"translateY\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.AlgorithmParameters = function module$contents$eeapiclient$ee_api_client_AlgorithmParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Algorithm = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"returnType\", null == parameters.returnType ? null : parameters.returnType);\n  this.Serializable$set(\"arguments\", null == parameters.arguments ? null : parameters.arguments);\n  this.Serializable$set(\"deprecated\", null == parameters.deprecated ? null : parameters.deprecated);\n  this.Serializable$set(\"deprecationReason\", null == parameters.deprecationReason ? null : parameters.deprecationReason);\n  this.Serializable$set(\"hidden\", null == parameters.hidden ? null : parameters.hidden);\n  this.Serializable$set(\"preview\", null == parameters.preview ? null : parameters.preview);\n  this.Serializable$set(\"sourceCodeUri\", null == parameters.sourceCodeUri ? null : parameters.sourceCodeUri);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Algorithm, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Algorithm.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Algorithm;\n};\nmodule$exports$eeapiclient$ee_api_client.Algorithm.prototype.getPartialClassMetadata = function() {\n  return {arrays:{arguments:module$exports$eeapiclient$ee_api_client.AlgorithmArgument}, keys:\"arguments deprecated deprecationReason description hidden name preview returnType sourceCodeUri\".split(\" \")};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Algorithm.prototype, {arguments:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"arguments\") ? this.Serializable$get(\"arguments\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"arguments\", value);\n}}, deprecated:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"deprecated\") ? this.Serializable$get(\"deprecated\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"deprecated\", value);\n}}, deprecationReason:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"deprecationReason\") ? this.Serializable$get(\"deprecationReason\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"deprecationReason\", value);\n}}, description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, hidden:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"hidden\") ? this.Serializable$get(\"hidden\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"hidden\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, preview:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"preview\") ? this.Serializable$get(\"preview\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"preview\", value);\n}}, returnType:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"returnType\") ? this.Serializable$get(\"returnType\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"returnType\", value);\n}}, sourceCodeUri:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"sourceCodeUri\") ? this.Serializable$get(\"sourceCodeUri\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"sourceCodeUri\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.AlgorithmArgumentParameters = function module$contents$eeapiclient$ee_api_client_AlgorithmArgumentParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.AlgorithmArgument = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"argumentName\", null == parameters.argumentName ? null : parameters.argumentName);\n  this.Serializable$set(\"type\", null == parameters.type ? null : parameters.type);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"optional\", null == parameters.optional ? null : parameters.optional);\n  this.Serializable$set(\"defaultValue\", null == parameters.defaultValue ? null : parameters.defaultValue);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.AlgorithmArgument, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.AlgorithmArgument.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.AlgorithmArgument;\n};\nmodule$exports$eeapiclient$ee_api_client.AlgorithmArgument.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"argumentName\", \"defaultValue\", \"description\", \"optional\", \"type\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AlgorithmArgument.prototype, {argumentName:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"argumentName\") ? this.Serializable$get(\"argumentName\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"argumentName\", value);\n}}, defaultValue:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"defaultValue\") ? this.Serializable$get(\"defaultValue\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"defaultValue\", value);\n}}, description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, optional:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"optional\") ? this.Serializable$get(\"optional\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"optional\", value);\n}}, type:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"type\") ? this.Serializable$get(\"type\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"type\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ArrayValueParameters = function module$contents$eeapiclient$ee_api_client_ArrayValueParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ArrayValue = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"values\", null == parameters.values ? null : parameters.values);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ArrayValue, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ArrayValue.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ArrayValue;\n};\nmodule$exports$eeapiclient$ee_api_client.ArrayValue.prototype.getPartialClassMetadata = function() {\n  return {arrays:{values:module$exports$eeapiclient$ee_api_client.ValueNode}, keys:[\"values\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ArrayValue.prototype, {values:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"values\") ? this.Serializable$get(\"values\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"values\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.AuditConfigParameters = function module$contents$eeapiclient$ee_api_client_AuditConfigParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.AuditConfig = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"service\", null == parameters.service ? null : parameters.service);\n  this.Serializable$set(\"exemptedMembers\", null == parameters.exemptedMembers ? null : parameters.exemptedMembers);\n  this.Serializable$set(\"auditLogConfigs\", null == parameters.auditLogConfigs ? null : parameters.auditLogConfigs);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.AuditConfig, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.AuditConfig.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.AuditConfig;\n};\nmodule$exports$eeapiclient$ee_api_client.AuditConfig.prototype.getPartialClassMetadata = function() {\n  return {arrays:{auditLogConfigs:module$exports$eeapiclient$ee_api_client.AuditLogConfig}, keys:[\"auditLogConfigs\", \"exemptedMembers\", \"service\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AuditConfig.prototype, {auditLogConfigs:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"auditLogConfigs\") ? this.Serializable$get(\"auditLogConfigs\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"auditLogConfigs\", value);\n}}, exemptedMembers:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"exemptedMembers\") ? this.Serializable$get(\"exemptedMembers\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"exemptedMembers\", value);\n}}, service:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"service\") ? this.Serializable$get(\"service\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"service\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.AuditLogConfigParameters = function module$contents$eeapiclient$ee_api_client_AuditLogConfigParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.AuditLogConfig = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"logType\", null == parameters.logType ? null : parameters.logType);\n  this.Serializable$set(\"exemptedMembers\", null == parameters.exemptedMembers ? null : parameters.exemptedMembers);\n  this.Serializable$set(\"ignoreChildExemptions\", null == parameters.ignoreChildExemptions ? null : parameters.ignoreChildExemptions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.AuditLogConfig, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.AuditLogConfig.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.AuditLogConfig;\n};\nmodule$exports$eeapiclient$ee_api_client.AuditLogConfig.prototype.getPartialClassMetadata = function() {\n  return {enums:{logType:module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum}, keys:[\"exemptedMembers\", \"ignoreChildExemptions\", \"logType\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AuditLogConfig.prototype, {exemptedMembers:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"exemptedMembers\") ? this.Serializable$get(\"exemptedMembers\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"exemptedMembers\", value);\n}}, ignoreChildExemptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"ignoreChildExemptions\") ? this.Serializable$get(\"ignoreChildExemptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"ignoreChildExemptions\", value);\n}}, logType:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"logType\") ? this.Serializable$get(\"logType\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"logType\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AuditLogConfig, {LogType:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.AuditLogConfigLogTypeEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsParameters = function module$contents$eeapiclient$ee_api_client_AuthorizationLoggingOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"permissionType\", null == parameters.permissionType ? null : parameters.permissionType);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions.prototype.getPartialClassMetadata = function() {\n  return {enums:{permissionType:module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum}, keys:[\"permissionType\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions.prototype, {permissionType:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"permissionType\") ? this.Serializable$get(\"permissionType\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"permissionType\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions, {PermissionType:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptionsPermissionTypeEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.BindingParameters = function module$contents$eeapiclient$ee_api_client_BindingParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Binding = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"role\", null == parameters.role ? null : parameters.role);\n  this.Serializable$set(\"members\", null == parameters.members ? null : parameters.members);\n  this.Serializable$set(\"condition\", null == parameters.condition ? null : parameters.condition);\n  this.Serializable$set(\"bindingId\", null == parameters.bindingId ? null : parameters.bindingId);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Binding, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Binding.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Binding;\n};\nmodule$exports$eeapiclient$ee_api_client.Binding.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"bindingId\", \"condition\", \"members\", \"role\"], objects:{condition:module$exports$eeapiclient$ee_api_client.Expr}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Binding.prototype, {bindingId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bindingId\") ? this.Serializable$get(\"bindingId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bindingId\", value);\n}}, condition:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"condition\") ? this.Serializable$get(\"condition\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"condition\", value);\n}}, members:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"members\") ? this.Serializable$get(\"members\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"members\", value);\n}}, role:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"role\") ? this.Serializable$get(\"role\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"role\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.CancelOperationRequestParameters = function module$contents$eeapiclient$ee_api_client_CancelOperationRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.CancelOperationRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CancelOperationRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.CancelOperationRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.CancelOperationRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.CancelOperationRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[]};\n};\nmodule$exports$eeapiclient$ee_api_client.CapabilitiesParameters = function module$contents$eeapiclient$ee_api_client_CapabilitiesParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Capabilities = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"capabilities\", null == parameters.capabilities ? null : parameters.capabilities);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Capabilities, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Capabilities.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Capabilities;\n};\nmodule$exports$eeapiclient$ee_api_client.Capabilities.prototype.getPartialClassMetadata = function() {\n  return {enums:{capabilities:module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum}, keys:[\"capabilities\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Capabilities.prototype, {capabilities:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"capabilities\") ? this.Serializable$get(\"capabilities\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"capabilities\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Capabilities, {Capabilities:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.CapabilitiesCapabilitiesEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptionsParameters = function module$contents$eeapiclient$ee_api_client_ClassifierAssetExportOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"earthEngineDestination\", null == parameters.earthEngineDestination ? null : parameters.earthEngineDestination);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"earthEngineDestination\"], objects:{earthEngineDestination:module$exports$eeapiclient$ee_api_client.EarthEngineDestination}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions.prototype, {earthEngineDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"earthEngineDestination\") ? this.Serializable$get(\"earthEngineDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"earthEngineDestination\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.CloudAuditOptionsParameters = function module$contents$eeapiclient$ee_api_client_CloudAuditOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.CloudAuditOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"logName\", null == parameters.logName ? null : parameters.logName);\n  this.Serializable$set(\"authorizationLoggingOptions\", null == parameters.authorizationLoggingOptions ? null : parameters.authorizationLoggingOptions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CloudAuditOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.CloudAuditOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.CloudAuditOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.CloudAuditOptions.prototype.getPartialClassMetadata = function() {\n  return {enums:{logName:module$exports$eeapiclient$ee_api_client.CloudAuditOptionsLogNameEnum}, keys:[\"authorizationLoggingOptions\", \"logName\"], objects:{authorizationLoggingOptions:module$exports$eeapiclient$ee_api_client.AuthorizationLoggingOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CloudAuditOptions.prototype, {authorizationLoggingOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"authorizationLoggingOptions\") ? this.Serializable$get(\"authorizationLoggingOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"authorizationLoggingOptions\", value);\n}}, logName:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"logName\") ? this.Serializable$get(\"logName\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"logName\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CloudAuditOptions, {LogName:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.CloudAuditOptionsLogNameEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.CloudStorageDestinationParameters = function module$contents$eeapiclient$ee_api_client_CloudStorageDestinationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.CloudStorageDestination = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"bucket\", null == parameters.bucket ? null : parameters.bucket);\n  this.Serializable$set(\"filenamePrefix\", null == parameters.filenamePrefix ? null : parameters.filenamePrefix);\n  this.Serializable$set(\"permissions\", null == parameters.permissions ? null : parameters.permissions);\n  this.Serializable$set(\"bucketCorsUris\", null == parameters.bucketCorsUris ? null : parameters.bucketCorsUris);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CloudStorageDestination, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.CloudStorageDestination.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.CloudStorageDestination;\n};\nmodule$exports$eeapiclient$ee_api_client.CloudStorageDestination.prototype.getPartialClassMetadata = function() {\n  return {enums:{permissions:module$exports$eeapiclient$ee_api_client.CloudStorageDestinationPermissionsEnum}, keys:[\"bucket\", \"bucketCorsUris\", \"filenamePrefix\", \"permissions\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CloudStorageDestination.prototype, {bucket:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bucket\") ? this.Serializable$get(\"bucket\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bucket\", value);\n}}, bucketCorsUris:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bucketCorsUris\") ? this.Serializable$get(\"bucketCorsUris\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bucketCorsUris\", value);\n}}, filenamePrefix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"filenamePrefix\") ? this.Serializable$get(\"filenamePrefix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"filenamePrefix\", value);\n}}, permissions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"permissions\") ? this.Serializable$get(\"permissions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"permissions\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CloudStorageDestination, {Permissions:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.CloudStorageDestinationPermissionsEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.CloudStorageLocationParameters = function module$contents$eeapiclient$ee_api_client_CloudStorageLocationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.CloudStorageLocation = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"uris\", null == parameters.uris ? null : parameters.uris);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CloudStorageLocation, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.CloudStorageLocation.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.CloudStorageLocation;\n};\nmodule$exports$eeapiclient$ee_api_client.CloudStorageLocation.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"uris\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CloudStorageLocation.prototype, {uris:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"uris\") ? this.Serializable$get(\"uris\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"uris\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ComputeFeaturesRequestParameters = function module$contents$eeapiclient$ee_api_client_ComputeFeaturesRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeFeaturesRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"pageSize\", null == parameters.pageSize ? null : parameters.pageSize);\n  this.Serializable$set(\"pageToken\", null == parameters.pageToken ? null : parameters.pageToken);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputeFeaturesRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ComputeFeaturesRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ComputeFeaturesRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeFeaturesRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"expression\", \"pageSize\", \"pageToken\"], objects:{expression:module$exports$eeapiclient$ee_api_client.Expression}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputeFeaturesRequest.prototype, {expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, pageSize:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pageSize\") ? this.Serializable$get(\"pageSize\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pageSize\", value);\n}}, pageToken:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pageToken\") ? this.Serializable$get(\"pageToken\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pageToken\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ComputeFeaturesResponseParameters = function module$contents$eeapiclient$ee_api_client_ComputeFeaturesResponseParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"type\", null == parameters.type ? null : parameters.type);\n  this.Serializable$set(\"features\", null == parameters.features ? null : parameters.features);\n  this.Serializable$set(\"nextPageToken\", null == parameters.nextPageToken ? null : parameters.nextPageToken);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse;\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse.prototype.getPartialClassMetadata = function() {\n  return {arrays:{features:module$exports$eeapiclient$ee_api_client.Feature}, keys:[\"features\", \"nextPageToken\", \"type\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse.prototype, {features:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"features\") ? this.Serializable$get(\"features\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"features\", value);\n}}, nextPageToken:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"nextPageToken\") ? this.Serializable$get(\"nextPageToken\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"nextPageToken\", value);\n}}, type:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"type\") ? this.Serializable$get(\"type\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"type\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ComputeImagesRequestParameters = function module$contents$eeapiclient$ee_api_client_ComputeImagesRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeImagesRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"pageSize\", null == parameters.pageSize ? null : parameters.pageSize);\n  this.Serializable$set(\"pageToken\", null == parameters.pageToken ? null : parameters.pageToken);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputeImagesRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ComputeImagesRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ComputeImagesRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeImagesRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"expression\", \"pageSize\", \"pageToken\"], objects:{expression:module$exports$eeapiclient$ee_api_client.Expression}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputeImagesRequest.prototype, {expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, pageSize:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pageSize\") ? this.Serializable$get(\"pageSize\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pageSize\", value);\n}}, pageToken:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pageToken\") ? this.Serializable$get(\"pageToken\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pageToken\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ComputeImagesResponseParameters = function module$contents$eeapiclient$ee_api_client_ComputeImagesResponseParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeImagesResponse = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"images\", null == parameters.images ? null : parameters.images);\n  this.Serializable$set(\"nextPageToken\", null == parameters.nextPageToken ? null : parameters.nextPageToken);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputeImagesResponse, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ComputeImagesResponse.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ComputeImagesResponse;\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeImagesResponse.prototype.getPartialClassMetadata = function() {\n  return {arrays:{images:module$exports$eeapiclient$ee_api_client.EarthEngineAsset}, keys:[\"images\", \"nextPageToken\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputeImagesResponse.prototype, {images:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"images\") ? this.Serializable$get(\"images\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"images\", value);\n}}, nextPageToken:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"nextPageToken\") ? this.Serializable$get(\"nextPageToken\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"nextPageToken\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ComputePixelsRequestParameters = function module$contents$eeapiclient$ee_api_client_ComputePixelsRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ComputePixelsRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"fileFormat\", null == parameters.fileFormat ? null : parameters.fileFormat);\n  this.Serializable$set(\"grid\", null == parameters.grid ? null : parameters.grid);\n  this.Serializable$set(\"bandIds\", null == parameters.bandIds ? null : parameters.bandIds);\n  this.Serializable$set(\"visualizationOptions\", null == parameters.visualizationOptions ? null : parameters.visualizationOptions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputePixelsRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ComputePixelsRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ComputePixelsRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ComputePixelsRequest.prototype.getPartialClassMetadata = function() {\n  return {enums:{fileFormat:module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum}, keys:[\"bandIds\", \"expression\", \"fileFormat\", \"grid\", \"visualizationOptions\"], objects:{expression:module$exports$eeapiclient$ee_api_client.Expression, grid:module$exports$eeapiclient$ee_api_client.PixelGrid, visualizationOptions:module$exports$eeapiclient$ee_api_client.VisualizationOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputePixelsRequest.prototype, {bandIds:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bandIds\") ? this.Serializable$get(\"bandIds\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bandIds\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, fileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileFormat\") ? this.Serializable$get(\"fileFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileFormat\", value);\n}}, grid:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"grid\") ? this.Serializable$get(\"grid\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"grid\", value);\n}}, visualizationOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"visualizationOptions\") ? this.Serializable$get(\"visualizationOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"visualizationOptions\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputePixelsRequest, {FileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ComputePixelsRequestFileFormatEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.ComputeValueRequestParameters = function module$contents$eeapiclient$ee_api_client_ComputeValueRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeValueRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputeValueRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ComputeValueRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ComputeValueRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeValueRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"expression\"], objects:{expression:module$exports$eeapiclient$ee_api_client.Expression}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputeValueRequest.prototype, {expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ComputeValueResponseParameters = function module$contents$eeapiclient$ee_api_client_ComputeValueResponseParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeValueResponse = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"result\", null == parameters.result ? null : parameters.result);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ComputeValueResponse, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ComputeValueResponse.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ComputeValueResponse;\n};\nmodule$exports$eeapiclient$ee_api_client.ComputeValueResponse.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"result\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ComputeValueResponse.prototype, {result:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"result\") ? this.Serializable$get(\"result\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"result\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ConditionParameters = function module$contents$eeapiclient$ee_api_client_ConditionParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Condition = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"iam\", null == parameters.iam ? null : parameters.iam);\n  this.Serializable$set(\"sys\", null == parameters.sys ? null : parameters.sys);\n  this.Serializable$set(\"svc\", null == parameters.svc ? null : parameters.svc);\n  this.Serializable$set(\"op\", null == parameters.op ? null : parameters.op);\n  this.Serializable$set(\"values\", null == parameters.values ? null : parameters.values);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Condition, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Condition.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Condition;\n};\nmodule$exports$eeapiclient$ee_api_client.Condition.prototype.getPartialClassMetadata = function() {\n  return {enums:{iam:module$exports$eeapiclient$ee_api_client.ConditionIamEnum, op:module$exports$eeapiclient$ee_api_client.ConditionOpEnum, sys:module$exports$eeapiclient$ee_api_client.ConditionSysEnum}, keys:[\"iam\", \"op\", \"svc\", \"sys\", \"values\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Condition.prototype, {iam:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"iam\") ? this.Serializable$get(\"iam\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"iam\", value);\n}}, op:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"op\") ? this.Serializable$get(\"op\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"op\", value);\n}}, svc:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"svc\") ? this.Serializable$get(\"svc\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"svc\", value);\n}}, sys:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"sys\") ? this.Serializable$get(\"sys\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"sys\", value);\n}}, values:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"values\") ? this.Serializable$get(\"values\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"values\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Condition, {Iam:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ConditionIamEnum;\n}}, Op:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ConditionOpEnum;\n}}, Sys:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ConditionSysEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.CopyAssetRequestParameters = function module$contents$eeapiclient$ee_api_client_CopyAssetRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.CopyAssetRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"destinationName\", null == parameters.destinationName ? null : parameters.destinationName);\n  this.Serializable$set(\"overwrite\", null == parameters.overwrite ? null : parameters.overwrite);\n  this.Serializable$set(\"bandIds\", null == parameters.bandIds ? null : parameters.bandIds);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CopyAssetRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.CopyAssetRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.CopyAssetRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.CopyAssetRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"bandIds\", \"destinationName\", \"overwrite\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CopyAssetRequest.prototype, {bandIds:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bandIds\") ? this.Serializable$get(\"bandIds\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bandIds\", value);\n}}, destinationName:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"destinationName\") ? this.Serializable$get(\"destinationName\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"destinationName\", value);\n}}, overwrite:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"overwrite\") ? this.Serializable$get(\"overwrite\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"overwrite\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.CounterOptionsParameters = function module$contents$eeapiclient$ee_api_client_CounterOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.CounterOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"metric\", null == parameters.metric ? null : parameters.metric);\n  this.Serializable$set(\"field\", null == parameters.field ? null : parameters.field);\n  this.Serializable$set(\"customFields\", null == parameters.customFields ? null : parameters.customFields);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CounterOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.CounterOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.CounterOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.CounterOptions.prototype.getPartialClassMetadata = function() {\n  return {arrays:{customFields:module$exports$eeapiclient$ee_api_client.CustomField}, keys:[\"customFields\", \"field\", \"metric\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CounterOptions.prototype, {customFields:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"customFields\") ? this.Serializable$get(\"customFields\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"customFields\", value);\n}}, field:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"field\") ? this.Serializable$get(\"field\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"field\", value);\n}}, metric:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"metric\") ? this.Serializable$get(\"metric\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"metric\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.CustomFieldParameters = function module$contents$eeapiclient$ee_api_client_CustomFieldParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.CustomField = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"value\", null == parameters.value ? null : parameters.value);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.CustomField, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.CustomField.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.CustomField;\n};\nmodule$exports$eeapiclient$ee_api_client.CustomField.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"name\", \"value\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.CustomField.prototype, {name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, value:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"value\") ? this.Serializable$get(\"value\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"value\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.DMSMapParameters = function module$contents$eeapiclient$ee_api_client_DMSMapParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.DMSMap = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"asset\", null == parameters.asset ? null : parameters.asset);\n  this.Serializable$set(\"dmsName\", null == parameters.dmsName ? null : parameters.dmsName);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"visualizationOptions\", null == parameters.visualizationOptions ? null : parameters.visualizationOptions);\n  this.Serializable$set(\"visualizationExpression\", null == parameters.visualizationExpression ? null : parameters.visualizationExpression);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DMSMap, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.DMSMap.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.DMSMap;\n};\nmodule$exports$eeapiclient$ee_api_client.DMSMap.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"asset\", \"dmsName\", \"name\", \"visualizationExpression\", \"visualizationOptions\"], objects:{visualizationExpression:module$exports$eeapiclient$ee_api_client.Expression}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DMSMap.prototype, {asset:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"asset\") ? this.Serializable$get(\"asset\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"asset\", value);\n}}, dmsName:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dmsName\") ? this.Serializable$get(\"dmsName\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dmsName\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, visualizationExpression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"visualizationExpression\") ? this.Serializable$get(\"visualizationExpression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"visualizationExpression\", value);\n}}, visualizationOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"visualizationOptions\") ? this.Serializable$get(\"visualizationOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"visualizationOptions\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.DataAccessOptionsParameters = function module$contents$eeapiclient$ee_api_client_DataAccessOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.DataAccessOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"logMode\", null == parameters.logMode ? null : parameters.logMode);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DataAccessOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.DataAccessOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.DataAccessOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.DataAccessOptions.prototype.getPartialClassMetadata = function() {\n  return {enums:{logMode:module$exports$eeapiclient$ee_api_client.DataAccessOptionsLogModeEnum}, keys:[\"logMode\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DataAccessOptions.prototype, {logMode:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"logMode\") ? this.Serializable$get(\"logMode\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"logMode\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DataAccessOptions, {LogMode:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.DataAccessOptionsLogModeEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.DictionaryValueParameters = function module$contents$eeapiclient$ee_api_client_DictionaryValueParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.DictionaryValue = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"values\", null == parameters.values ? null : parameters.values);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DictionaryValue, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.DictionaryValue.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.DictionaryValue;\n};\nmodule$exports$eeapiclient$ee_api_client.DictionaryValue.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"values\"], objectMaps:{values:{ctor:module$exports$eeapiclient$ee_api_client.ValueNode, isPropertyArray:!1, isSerializable:!0, isValueArray:!1}}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DictionaryValue.prototype, {values:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"values\") ? this.Serializable$get(\"values\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"values\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.DmsAssetExportOptionsParameters = function module$contents$eeapiclient$ee_api_client_DmsAssetExportOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.DmsAssetExportOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"dmsDestination\", null == parameters.dmsDestination ? null : parameters.dmsDestination);\n  this.Serializable$set(\"ingestionTimeParameters\", null == parameters.ingestionTimeParameters ? null : parameters.ingestionTimeParameters);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DmsAssetExportOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.DmsAssetExportOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.DmsAssetExportOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.DmsAssetExportOptions.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"dmsDestination\", \"ingestionTimeParameters\"], objects:{dmsDestination:module$exports$eeapiclient$ee_api_client.DmsDestination, ingestionTimeParameters:module$exports$eeapiclient$ee_api_client.DmsIngestionTimeParameters}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DmsAssetExportOptions.prototype, {dmsDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dmsDestination\") ? this.Serializable$get(\"dmsDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dmsDestination\", value);\n}}, ingestionTimeParameters:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"ingestionTimeParameters\") ? this.Serializable$get(\"ingestionTimeParameters\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"ingestionTimeParameters\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.DmsAttributeParameters = function module$contents$eeapiclient$ee_api_client_DmsAttributeParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.DmsAttribute = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"type\", null == parameters.type ? null : parameters.type);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DmsAttribute, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.DmsAttribute.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.DmsAttribute;\n};\nmodule$exports$eeapiclient$ee_api_client.DmsAttribute.prototype.getPartialClassMetadata = function() {\n  return {enums:{type:module$exports$eeapiclient$ee_api_client.DmsAttributeTypeEnum}, keys:[\"name\", \"type\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DmsAttribute.prototype, {name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, type:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"type\") ? this.Serializable$get(\"type\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"type\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DmsAttribute, {Type:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.DmsAttributeTypeEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.DmsDestinationParameters = function module$contents$eeapiclient$ee_api_client_DmsDestinationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.DmsDestination = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"dmsName\", null == parameters.dmsName ? null : parameters.dmsName);\n  this.Serializable$set(\"assetVersion\", null == parameters.assetVersion ? null : parameters.assetVersion);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DmsDestination, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.DmsDestination.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.DmsDestination;\n};\nmodule$exports$eeapiclient$ee_api_client.DmsDestination.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"assetVersion\", \"dmsName\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DmsDestination.prototype, {assetVersion:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"assetVersion\") ? this.Serializable$get(\"assetVersion\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"assetVersion\", value);\n}}, dmsName:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dmsName\") ? this.Serializable$get(\"dmsName\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dmsName\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.DmsIngestionTimeParametersParameters = function module$contents$eeapiclient$ee_api_client_DmsIngestionTimeParametersParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.DmsIngestionTimeParameters = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"thinningOptions\", null == parameters.thinningOptions ? null : parameters.thinningOptions);\n  this.Serializable$set(\"rankingOptions\", null == parameters.rankingOptions ? null : parameters.rankingOptions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DmsIngestionTimeParameters, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.DmsIngestionTimeParameters.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.DmsIngestionTimeParameters;\n};\nmodule$exports$eeapiclient$ee_api_client.DmsIngestionTimeParameters.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"rankingOptions\", \"thinningOptions\"], objects:{rankingOptions:module$exports$eeapiclient$ee_api_client.RankingOptions, thinningOptions:module$exports$eeapiclient$ee_api_client.ThinningOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DmsIngestionTimeParameters.prototype, {rankingOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"rankingOptions\") ? this.Serializable$get(\"rankingOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"rankingOptions\", value);\n}}, thinningOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"thinningOptions\") ? this.Serializable$get(\"thinningOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"thinningOptions\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.DmsLocationParameters = function module$contents$eeapiclient$ee_api_client_DmsLocationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.DmsLocation = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"location\", null == parameters.location ? null : parameters.location);\n  this.Serializable$set(\"dmsAssetOptions\", null == parameters.dmsAssetOptions ? null : parameters.dmsAssetOptions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DmsLocation, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.DmsLocation.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.DmsLocation;\n};\nmodule$exports$eeapiclient$ee_api_client.DmsLocation.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"dmsAssetOptions\", \"location\"], objects:{dmsAssetOptions:module$exports$eeapiclient$ee_api_client.DmsOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DmsLocation.prototype, {dmsAssetOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dmsAssetOptions\") ? this.Serializable$get(\"dmsAssetOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dmsAssetOptions\", value);\n}}, location:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"location\") ? this.Serializable$get(\"location\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"location\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.DmsOptionsParameters = function module$contents$eeapiclient$ee_api_client_DmsOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.DmsOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"attributes\", null == parameters.attributes ? null : parameters.attributes);\n  this.Serializable$set(\"dmsAttributes\", null == parameters.dmsAttributes ? null : parameters.dmsAttributes);\n  this.Serializable$set(\"ingestionTimeParameters\", null == parameters.ingestionTimeParameters ? null : parameters.ingestionTimeParameters);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DmsOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.DmsOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.DmsOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.DmsOptions.prototype.getPartialClassMetadata = function() {\n  return {arrays:{dmsAttributes:module$exports$eeapiclient$ee_api_client.DmsAttribute}, keys:[\"attributes\", \"dmsAttributes\", \"ingestionTimeParameters\"], objects:{ingestionTimeParameters:module$exports$eeapiclient$ee_api_client.DmsIngestionTimeParameters}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DmsOptions.prototype, {attributes:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"attributes\") ? this.Serializable$get(\"attributes\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"attributes\", value);\n}}, dmsAttributes:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dmsAttributes\") ? this.Serializable$get(\"dmsAttributes\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dmsAttributes\", value);\n}}, ingestionTimeParameters:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"ingestionTimeParameters\") ? this.Serializable$get(\"ingestionTimeParameters\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"ingestionTimeParameters\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.DoubleRangeParameters = function module$contents$eeapiclient$ee_api_client_DoubleRangeParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.DoubleRange = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"min\", null == parameters.min ? null : parameters.min);\n  this.Serializable$set(\"max\", null == parameters.max ? null : parameters.max);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DoubleRange, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.DoubleRange.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.DoubleRange;\n};\nmodule$exports$eeapiclient$ee_api_client.DoubleRange.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"max\", \"min\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DoubleRange.prototype, {max:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"max\") ? this.Serializable$get(\"max\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"max\", value);\n}}, min:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"min\") ? this.Serializable$get(\"min\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"min\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.DriveDestinationParameters = function module$contents$eeapiclient$ee_api_client_DriveDestinationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.DriveDestination = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"folder\", null == parameters.folder ? null : parameters.folder);\n  this.Serializable$set(\"filenamePrefix\", null == parameters.filenamePrefix ? null : parameters.filenamePrefix);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.DriveDestination, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.DriveDestination.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.DriveDestination;\n};\nmodule$exports$eeapiclient$ee_api_client.DriveDestination.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"filenamePrefix\", \"folder\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.DriveDestination.prototype, {filenamePrefix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"filenamePrefix\") ? this.Serializable$get(\"filenamePrefix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"filenamePrefix\", value);\n}}, folder:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"folder\") ? this.Serializable$get(\"folder\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"folder\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.EarthEngineAssetParameters = function module$contents$eeapiclient$ee_api_client_EarthEngineAssetParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.EarthEngineAsset = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"tilestoreLocation\", null == parameters.tilestoreLocation ? null : parameters.tilestoreLocation);\n  this.Serializable$set(\"cloudStorageLocation\", null == parameters.cloudStorageLocation ? null : parameters.cloudStorageLocation);\n  this.Serializable$set(\"tilestoreEntry\", null == parameters.tilestoreEntry ? null : parameters.tilestoreEntry);\n  this.Serializable$set(\"gcsLocation\", null == parameters.gcsLocation ? null : parameters.gcsLocation);\n  this.Serializable$set(\"featureViewAssetLocation\", null == parameters.featureViewAssetLocation ? null : parameters.featureViewAssetLocation);\n  this.Serializable$set(\"type\", null == parameters.type ? null : parameters.type);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"id\", null == parameters.id ? null : parameters.id);\n  this.Serializable$set(\"updateTime\", null == parameters.updateTime ? null : parameters.updateTime);\n  this.Serializable$set(\"title\", null == parameters.title ? null : parameters.title);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"properties\", null == parameters.properties ? null : parameters.properties);\n  this.Serializable$set(\"startTime\", null == parameters.startTime ? null : parameters.startTime);\n  this.Serializable$set(\"endTime\", null == parameters.endTime ? null : parameters.endTime);\n  this.Serializable$set(\"geometry\", null == parameters.geometry ? null : parameters.geometry);\n  this.Serializable$set(\"bands\", null == parameters.bands ? null : parameters.bands);\n  this.Serializable$set(\"sizeBytes\", null == parameters.sizeBytes ? null : parameters.sizeBytes);\n  this.Serializable$set(\"featureCount\", null == parameters.featureCount ? null : parameters.featureCount);\n  this.Serializable$set(\"quota\", null == parameters.quota ? null : parameters.quota);\n  this.Serializable$set(\"dmsAssetLocation\", null == parameters.dmsAssetLocation ? null : parameters.dmsAssetLocation);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.EarthEngineAsset, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.EarthEngineAsset.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.EarthEngineAsset;\n};\nmodule$exports$eeapiclient$ee_api_client.EarthEngineAsset.prototype.getPartialClassMetadata = function() {\n  return {arrays:{bands:module$exports$eeapiclient$ee_api_client.ImageBand}, enums:{type:module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum}, keys:\"bands cloudStorageLocation description dmsAssetLocation endTime expression featureCount featureViewAssetLocation gcsLocation geometry id name properties quota sizeBytes startTime tilestoreEntry tilestoreLocation title type updateTime\".split(\" \"), objectMaps:{geometry:{ctor:null, \n  isPropertyArray:!1, isSerializable:!1, isValueArray:!1}, properties:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}}, objects:{cloudStorageLocation:module$exports$eeapiclient$ee_api_client.CloudStorageLocation, dmsAssetLocation:module$exports$eeapiclient$ee_api_client.DmsLocation, expression:module$exports$eeapiclient$ee_api_client.Expression, featureViewAssetLocation:module$exports$eeapiclient$ee_api_client.FeatureViewLocation, \n  gcsLocation:module$exports$eeapiclient$ee_api_client.GcsLocation, quota:module$exports$eeapiclient$ee_api_client.FolderQuota, tilestoreEntry:module$exports$eeapiclient$ee_api_client.TilestoreEntry, tilestoreLocation:module$exports$eeapiclient$ee_api_client.TilestoreLocation}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.EarthEngineAsset.prototype, {bands:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bands\") ? this.Serializable$get(\"bands\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bands\", value);\n}}, cloudStorageLocation:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"cloudStorageLocation\") ? this.Serializable$get(\"cloudStorageLocation\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"cloudStorageLocation\", value);\n}}, description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, dmsAssetLocation:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dmsAssetLocation\") ? this.Serializable$get(\"dmsAssetLocation\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dmsAssetLocation\", value);\n}}, endTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"endTime\") ? this.Serializable$get(\"endTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"endTime\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, featureCount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"featureCount\") ? this.Serializable$get(\"featureCount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"featureCount\", value);\n}}, featureViewAssetLocation:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"featureViewAssetLocation\") ? this.Serializable$get(\"featureViewAssetLocation\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"featureViewAssetLocation\", value);\n}}, gcsLocation:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"gcsLocation\") ? this.Serializable$get(\"gcsLocation\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"gcsLocation\", value);\n}}, geometry:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"geometry\") ? this.Serializable$get(\"geometry\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"geometry\", value);\n}}, id:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"id\") ? this.Serializable$get(\"id\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"id\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, properties:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"properties\") ? this.Serializable$get(\"properties\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"properties\", value);\n}}, quota:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"quota\") ? this.Serializable$get(\"quota\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"quota\", value);\n}}, sizeBytes:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"sizeBytes\") ? this.Serializable$get(\"sizeBytes\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"sizeBytes\", value);\n}}, startTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"startTime\") ? this.Serializable$get(\"startTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"startTime\", value);\n}}, tilestoreEntry:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tilestoreEntry\") ? this.Serializable$get(\"tilestoreEntry\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tilestoreEntry\", value);\n}}, tilestoreLocation:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tilestoreLocation\") ? this.Serializable$get(\"tilestoreLocation\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tilestoreLocation\", value);\n}}, title:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"title\") ? this.Serializable$get(\"title\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"title\", value);\n}}, type:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"type\") ? this.Serializable$get(\"type\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"type\", value);\n}}, updateTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"updateTime\") ? this.Serializable$get(\"updateTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"updateTime\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.EarthEngineAsset, {Type:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.EarthEngineAssetTypeEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.EarthEngineDestinationParameters = function module$contents$eeapiclient$ee_api_client_EarthEngineDestinationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.EarthEngineDestination = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.EarthEngineDestination, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.EarthEngineDestination.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.EarthEngineDestination;\n};\nmodule$exports$eeapiclient$ee_api_client.EarthEngineDestination.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"name\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.EarthEngineDestination.prototype, {name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.EarthEngineMapParameters = function module$contents$eeapiclient$ee_api_client_EarthEngineMapParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.EarthEngineMap = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"fileFormat\", null == parameters.fileFormat ? null : parameters.fileFormat);\n  this.Serializable$set(\"bandIds\", null == parameters.bandIds ? null : parameters.bandIds);\n  this.Serializable$set(\"visualizationOptions\", null == parameters.visualizationOptions ? null : parameters.visualizationOptions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.EarthEngineMap, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.EarthEngineMap.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.EarthEngineMap;\n};\nmodule$exports$eeapiclient$ee_api_client.EarthEngineMap.prototype.getPartialClassMetadata = function() {\n  return {enums:{fileFormat:module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum}, keys:[\"bandIds\", \"expression\", \"fileFormat\", \"name\", \"visualizationOptions\"], objects:{expression:module$exports$eeapiclient$ee_api_client.Expression, visualizationOptions:module$exports$eeapiclient$ee_api_client.VisualizationOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.EarthEngineMap.prototype, {bandIds:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bandIds\") ? this.Serializable$get(\"bandIds\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bandIds\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, fileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileFormat\") ? this.Serializable$get(\"fileFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileFormat\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, visualizationOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"visualizationOptions\") ? this.Serializable$get(\"visualizationOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"visualizationOptions\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.EarthEngineMap, {FileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.EarthEngineMapFileFormatEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.EmptyParameters = function module$contents$eeapiclient$ee_api_client_EmptyParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Empty = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Empty, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Empty.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Empty;\n};\nmodule$exports$eeapiclient$ee_api_client.Empty.prototype.getPartialClassMetadata = function() {\n  return {keys:[]};\n};\nmodule$exports$eeapiclient$ee_api_client.ExportClassifierRequestParameters = function module$contents$eeapiclient$ee_api_client_ExportClassifierRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ExportClassifierRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"requestId\", null == parameters.requestId ? null : parameters.requestId);\n  this.Serializable$set(\"assetExportOptions\", null == parameters.assetExportOptions ? null : parameters.assetExportOptions);\n  this.Serializable$set(\"maxWorkers\", null == parameters.maxWorkers ? null : parameters.maxWorkers);\n  this.Serializable$set(\"maxWorkerCount\", null == parameters.maxWorkerCount ? null : parameters.maxWorkerCount);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ExportClassifierRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ExportClassifierRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ExportClassifierRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ExportClassifierRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:\"assetExportOptions description expression maxWorkerCount maxWorkers requestId\".split(\" \"), objects:{assetExportOptions:module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions, expression:module$exports$eeapiclient$ee_api_client.Expression}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportClassifierRequest.prototype, {assetExportOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"assetExportOptions\") ? this.Serializable$get(\"assetExportOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"assetExportOptions\", value);\n}}, description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, maxWorkerCount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkerCount\") ? this.Serializable$get(\"maxWorkerCount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkerCount\", value);\n}}, maxWorkers:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkers\") ? this.Serializable$get(\"maxWorkers\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkers\", value);\n}}, requestId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"requestId\") ? this.Serializable$get(\"requestId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"requestId\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ExportImageRequestParameters = function module$contents$eeapiclient$ee_api_client_ExportImageRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ExportImageRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"fileExportOptions\", null == parameters.fileExportOptions ? null : parameters.fileExportOptions);\n  this.Serializable$set(\"assetExportOptions\", null == parameters.assetExportOptions ? null : parameters.assetExportOptions);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"maxPixels\", null == parameters.maxPixels ? null : parameters.maxPixels);\n  this.Serializable$set(\"grid\", null == parameters.grid ? null : parameters.grid);\n  this.Serializable$set(\"requestId\", null == parameters.requestId ? null : parameters.requestId);\n  this.Serializable$set(\"maxWorkers\", null == parameters.maxWorkers ? null : parameters.maxWorkers);\n  this.Serializable$set(\"maxWorkerCount\", null == parameters.maxWorkerCount ? null : parameters.maxWorkerCount);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ExportImageRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ExportImageRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ExportImageRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ExportImageRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:\"assetExportOptions description expression fileExportOptions grid maxPixels maxWorkerCount maxWorkers requestId\".split(\" \"), objects:{assetExportOptions:module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions, expression:module$exports$eeapiclient$ee_api_client.Expression, fileExportOptions:module$exports$eeapiclient$ee_api_client.ImageFileExportOptions, grid:module$exports$eeapiclient$ee_api_client.PixelGrid}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportImageRequest.prototype, {assetExportOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"assetExportOptions\") ? this.Serializable$get(\"assetExportOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"assetExportOptions\", value);\n}}, description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, fileExportOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileExportOptions\") ? this.Serializable$get(\"fileExportOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileExportOptions\", value);\n}}, grid:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"grid\") ? this.Serializable$get(\"grid\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"grid\", value);\n}}, maxPixels:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxPixels\") ? this.Serializable$get(\"maxPixels\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxPixels\", value);\n}}, maxWorkerCount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkerCount\") ? this.Serializable$get(\"maxWorkerCount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkerCount\", value);\n}}, maxWorkers:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkers\") ? this.Serializable$get(\"maxWorkers\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkers\", value);\n}}, requestId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"requestId\") ? this.Serializable$get(\"requestId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"requestId\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ExportMapRequestParameters = function module$contents$eeapiclient$ee_api_client_ExportMapRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ExportMapRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"tileOptions\", null == parameters.tileOptions ? null : parameters.tileOptions);\n  this.Serializable$set(\"tileExportOptions\", null == parameters.tileExportOptions ? null : parameters.tileExportOptions);\n  this.Serializable$set(\"requestId\", null == parameters.requestId ? null : parameters.requestId);\n  this.Serializable$set(\"maxWorkers\", null == parameters.maxWorkers ? null : parameters.maxWorkers);\n  this.Serializable$set(\"maxWorkerCount\", null == parameters.maxWorkerCount ? null : parameters.maxWorkerCount);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ExportMapRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ExportMapRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ExportMapRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ExportMapRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:\"description expression maxWorkerCount maxWorkers requestId tileExportOptions tileOptions\".split(\" \"), objects:{expression:module$exports$eeapiclient$ee_api_client.Expression, tileExportOptions:module$exports$eeapiclient$ee_api_client.ImageFileExportOptions, tileOptions:module$exports$eeapiclient$ee_api_client.TileOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportMapRequest.prototype, {description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, maxWorkerCount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkerCount\") ? this.Serializable$get(\"maxWorkerCount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkerCount\", value);\n}}, maxWorkers:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkers\") ? this.Serializable$get(\"maxWorkers\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkers\", value);\n}}, requestId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"requestId\") ? this.Serializable$get(\"requestId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"requestId\", value);\n}}, tileExportOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tileExportOptions\") ? this.Serializable$get(\"tileExportOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tileExportOptions\", value);\n}}, tileOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tileOptions\") ? this.Serializable$get(\"tileOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tileOptions\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ExportTableRequestParameters = function module$contents$eeapiclient$ee_api_client_ExportTableRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ExportTableRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"fileExportOptions\", null == parameters.fileExportOptions ? null : parameters.fileExportOptions);\n  this.Serializable$set(\"assetExportOptions\", null == parameters.assetExportOptions ? null : parameters.assetExportOptions);\n  this.Serializable$set(\"dmsExportOptions\", null == parameters.dmsExportOptions ? null : parameters.dmsExportOptions);\n  this.Serializable$set(\"featureViewExportOptions\", null == parameters.featureViewExportOptions ? null : parameters.featureViewExportOptions);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"selectors\", null == parameters.selectors ? null : parameters.selectors);\n  this.Serializable$set(\"requestId\", null == parameters.requestId ? null : parameters.requestId);\n  this.Serializable$set(\"maxErrorMeters\", null == parameters.maxErrorMeters ? null : parameters.maxErrorMeters);\n  this.Serializable$set(\"maxWorkers\", null == parameters.maxWorkers ? null : parameters.maxWorkers);\n  this.Serializable$set(\"maxWorkerCount\", null == parameters.maxWorkerCount ? null : parameters.maxWorkerCount);\n  this.Serializable$set(\"maxVertices\", null == parameters.maxVertices ? null : parameters.maxVertices);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ExportTableRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ExportTableRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ExportTableRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ExportTableRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:\"assetExportOptions description dmsExportOptions expression featureViewExportOptions fileExportOptions maxErrorMeters maxVertices maxWorkerCount maxWorkers requestId selectors\".split(\" \"), objects:{assetExportOptions:module$exports$eeapiclient$ee_api_client.TableAssetExportOptions, dmsExportOptions:module$exports$eeapiclient$ee_api_client.DmsAssetExportOptions, expression:module$exports$eeapiclient$ee_api_client.Expression, \n  featureViewExportOptions:module$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptions, fileExportOptions:module$exports$eeapiclient$ee_api_client.TableFileExportOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportTableRequest.prototype, {assetExportOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"assetExportOptions\") ? this.Serializable$get(\"assetExportOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"assetExportOptions\", value);\n}}, description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, dmsExportOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dmsExportOptions\") ? this.Serializable$get(\"dmsExportOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dmsExportOptions\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, featureViewExportOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"featureViewExportOptions\") ? this.Serializable$get(\"featureViewExportOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"featureViewExportOptions\", value);\n}}, fileExportOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileExportOptions\") ? this.Serializable$get(\"fileExportOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileExportOptions\", value);\n}}, maxErrorMeters:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxErrorMeters\") ? this.Serializable$get(\"maxErrorMeters\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxErrorMeters\", value);\n}}, maxVertices:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxVertices\") ? this.Serializable$get(\"maxVertices\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxVertices\", value);\n}}, maxWorkerCount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkerCount\") ? this.Serializable$get(\"maxWorkerCount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkerCount\", value);\n}}, maxWorkers:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkers\") ? this.Serializable$get(\"maxWorkers\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkers\", value);\n}}, requestId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"requestId\") ? this.Serializable$get(\"requestId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"requestId\", value);\n}}, selectors:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"selectors\") ? this.Serializable$get(\"selectors\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"selectors\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ExportVideoMapRequestParameters = function module$contents$eeapiclient$ee_api_client_ExportVideoMapRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ExportVideoMapRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"videoOptions\", null == parameters.videoOptions ? null : parameters.videoOptions);\n  this.Serializable$set(\"tileOptions\", null == parameters.tileOptions ? null : parameters.tileOptions);\n  this.Serializable$set(\"tileExportOptions\", null == parameters.tileExportOptions ? null : parameters.tileExportOptions);\n  this.Serializable$set(\"requestId\", null == parameters.requestId ? null : parameters.requestId);\n  this.Serializable$set(\"version\", null == parameters.version ? null : parameters.version);\n  this.Serializable$set(\"maxWorkers\", null == parameters.maxWorkers ? null : parameters.maxWorkers);\n  this.Serializable$set(\"maxWorkerCount\", null == parameters.maxWorkerCount ? null : parameters.maxWorkerCount);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ExportVideoMapRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ExportVideoMapRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ExportVideoMapRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ExportVideoMapRequest.prototype.getPartialClassMetadata = function() {\n  return {enums:{version:module$exports$eeapiclient$ee_api_client.ExportVideoMapRequestVersionEnum}, keys:\"description expression maxWorkerCount maxWorkers requestId tileExportOptions tileOptions version videoOptions\".split(\" \"), objects:{expression:module$exports$eeapiclient$ee_api_client.Expression, tileExportOptions:module$exports$eeapiclient$ee_api_client.VideoFileExportOptions, tileOptions:module$exports$eeapiclient$ee_api_client.TileOptions, \n  videoOptions:module$exports$eeapiclient$ee_api_client.VideoOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportVideoMapRequest.prototype, {description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, maxWorkerCount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkerCount\") ? this.Serializable$get(\"maxWorkerCount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkerCount\", value);\n}}, maxWorkers:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkers\") ? this.Serializable$get(\"maxWorkers\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkers\", value);\n}}, requestId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"requestId\") ? this.Serializable$get(\"requestId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"requestId\", value);\n}}, tileExportOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tileExportOptions\") ? this.Serializable$get(\"tileExportOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tileExportOptions\", value);\n}}, tileOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tileOptions\") ? this.Serializable$get(\"tileOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tileOptions\", value);\n}}, version:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"version\") ? this.Serializable$get(\"version\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"version\", value);\n}}, videoOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"videoOptions\") ? this.Serializable$get(\"videoOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"videoOptions\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportVideoMapRequest, {Version:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ExportVideoMapRequestVersionEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.ExportVideoRequestParameters = function module$contents$eeapiclient$ee_api_client_ExportVideoRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ExportVideoRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"videoOptions\", null == parameters.videoOptions ? null : parameters.videoOptions);\n  this.Serializable$set(\"fileExportOptions\", null == parameters.fileExportOptions ? null : parameters.fileExportOptions);\n  this.Serializable$set(\"requestId\", null == parameters.requestId ? null : parameters.requestId);\n  this.Serializable$set(\"maxWorkers\", null == parameters.maxWorkers ? null : parameters.maxWorkers);\n  this.Serializable$set(\"maxWorkerCount\", null == parameters.maxWorkerCount ? null : parameters.maxWorkerCount);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ExportVideoRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ExportVideoRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ExportVideoRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ExportVideoRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:\"description expression fileExportOptions maxWorkerCount maxWorkers requestId videoOptions\".split(\" \"), objects:{expression:module$exports$eeapiclient$ee_api_client.Expression, fileExportOptions:module$exports$eeapiclient$ee_api_client.VideoFileExportOptions, videoOptions:module$exports$eeapiclient$ee_api_client.VideoOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ExportVideoRequest.prototype, {description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, fileExportOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileExportOptions\") ? this.Serializable$get(\"fileExportOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileExportOptions\", value);\n}}, maxWorkerCount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkerCount\") ? this.Serializable$get(\"maxWorkerCount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkerCount\", value);\n}}, maxWorkers:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxWorkers\") ? this.Serializable$get(\"maxWorkers\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxWorkers\", value);\n}}, requestId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"requestId\") ? this.Serializable$get(\"requestId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"requestId\", value);\n}}, videoOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"videoOptions\") ? this.Serializable$get(\"videoOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"videoOptions\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ExprParameters = function module$contents$eeapiclient$ee_api_client_ExprParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Expr = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"title\", null == parameters.title ? null : parameters.title);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"location\", null == parameters.location ? null : parameters.location);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Expr, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Expr.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Expr;\n};\nmodule$exports$eeapiclient$ee_api_client.Expr.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"description\", \"expression\", \"location\", \"title\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Expr.prototype, {description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, location:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"location\") ? this.Serializable$get(\"location\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"location\", value);\n}}, title:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"title\") ? this.Serializable$get(\"title\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"title\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ExpressionParameters = function module$contents$eeapiclient$ee_api_client_ExpressionParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Expression = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"values\", null == parameters.values ? null : parameters.values);\n  this.Serializable$set(\"result\", null == parameters.result ? null : parameters.result);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Expression, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Expression.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Expression;\n};\nmodule$exports$eeapiclient$ee_api_client.Expression.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"result\", \"values\"], objectMaps:{values:{ctor:module$exports$eeapiclient$ee_api_client.ValueNode, isPropertyArray:!1, isSerializable:!0, isValueArray:!1}}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Expression.prototype, {result:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"result\") ? this.Serializable$get(\"result\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"result\", value);\n}}, values:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"values\") ? this.Serializable$get(\"values\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"values\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.FeatureParameters = function module$contents$eeapiclient$ee_api_client_FeatureParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Feature = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"type\", null == parameters.type ? null : parameters.type);\n  this.Serializable$set(\"geometry\", null == parameters.geometry ? null : parameters.geometry);\n  this.Serializable$set(\"properties\", null == parameters.properties ? null : parameters.properties);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Feature, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Feature.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Feature;\n};\nmodule$exports$eeapiclient$ee_api_client.Feature.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"geometry\", \"properties\", \"type\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Feature.prototype, {geometry:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"geometry\") ? this.Serializable$get(\"geometry\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"geometry\", value);\n}}, properties:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"properties\") ? this.Serializable$get(\"properties\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"properties\", value);\n}}, type:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"type\") ? this.Serializable$get(\"type\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"type\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.FeatureViewParameters = function module$contents$eeapiclient$ee_api_client_FeatureViewParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureView = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"asset\", null == parameters.asset ? null : parameters.asset);\n  this.Serializable$set(\"mapName\", null == parameters.mapName ? null : parameters.mapName);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"visualizationExpression\", null == parameters.visualizationExpression ? null : parameters.visualizationExpression);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FeatureView, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FeatureView.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FeatureView;\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureView.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"asset\", \"mapName\", \"name\", \"visualizationExpression\"], objects:{visualizationExpression:module$exports$eeapiclient$ee_api_client.Expression}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureView.prototype, {asset:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"asset\") ? this.Serializable$get(\"asset\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"asset\", value);\n}}, mapName:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"mapName\") ? this.Serializable$get(\"mapName\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"mapName\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, visualizationExpression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"visualizationExpression\") ? this.Serializable$get(\"visualizationExpression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"visualizationExpression\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptionsParameters = function module$contents$eeapiclient$ee_api_client_FeatureViewAssetExportOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"featureViewDestination\", null == parameters.featureViewDestination ? null : parameters.featureViewDestination);\n  this.Serializable$set(\"ingestionTimeParameters\", null == parameters.ingestionTimeParameters ? null : parameters.ingestionTimeParameters);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptions.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"featureViewDestination\", \"ingestionTimeParameters\"], objects:{featureViewDestination:module$exports$eeapiclient$ee_api_client.FeatureViewDestination, ingestionTimeParameters:module$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureViewAssetExportOptions.prototype, {featureViewDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"featureViewDestination\") ? this.Serializable$get(\"featureViewDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"featureViewDestination\", value);\n}}, ingestionTimeParameters:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"ingestionTimeParameters\") ? this.Serializable$get(\"ingestionTimeParameters\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"ingestionTimeParameters\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.FeatureViewAttributeParameters = function module$contents$eeapiclient$ee_api_client_FeatureViewAttributeParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewAttribute = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"type\", null == parameters.type ? null : parameters.type);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FeatureViewAttribute, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FeatureViewAttribute.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FeatureViewAttribute;\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewAttribute.prototype.getPartialClassMetadata = function() {\n  return {enums:{type:module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum}, keys:[\"name\", \"type\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureViewAttribute.prototype, {name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, type:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"type\") ? this.Serializable$get(\"type\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"type\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureViewAttribute, {Type:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.FeatureViewAttributeTypeEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.FeatureViewDestinationParameters = function module$contents$eeapiclient$ee_api_client_FeatureViewDestinationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewDestination = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"assetVersion\", null == parameters.assetVersion ? null : parameters.assetVersion);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FeatureViewDestination, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FeatureViewDestination.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FeatureViewDestination;\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewDestination.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"assetVersion\", \"name\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureViewDestination.prototype, {assetVersion:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"assetVersion\") ? this.Serializable$get(\"assetVersion\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"assetVersion\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParametersParameters = function module$contents$eeapiclient$ee_api_client_FeatureViewIngestionTimeParametersParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"thinningOptions\", null == parameters.thinningOptions ? null : parameters.thinningOptions);\n  this.Serializable$set(\"rankingOptions\", null == parameters.rankingOptions ? null : parameters.rankingOptions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters;\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"rankingOptions\", \"thinningOptions\"], objects:{rankingOptions:module$exports$eeapiclient$ee_api_client.RankingOptions, thinningOptions:module$exports$eeapiclient$ee_api_client.ThinningOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters.prototype, {rankingOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"rankingOptions\") ? this.Serializable$get(\"rankingOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"rankingOptions\", value);\n}}, thinningOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"thinningOptions\") ? this.Serializable$get(\"thinningOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"thinningOptions\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.FeatureViewLocationParameters = function module$contents$eeapiclient$ee_api_client_FeatureViewLocationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewLocation = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"location\", null == parameters.location ? null : parameters.location);\n  this.Serializable$set(\"assetOptions\", null == parameters.assetOptions ? null : parameters.assetOptions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FeatureViewLocation, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FeatureViewLocation.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FeatureViewLocation;\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewLocation.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"assetOptions\", \"location\"], objects:{assetOptions:module$exports$eeapiclient$ee_api_client.FeatureViewOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureViewLocation.prototype, {assetOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"assetOptions\") ? this.Serializable$get(\"assetOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"assetOptions\", value);\n}}, location:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"location\") ? this.Serializable$get(\"location\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"location\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.FeatureViewOptionsParameters = function module$contents$eeapiclient$ee_api_client_FeatureViewOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"featureViewAttributes\", null == parameters.featureViewAttributes ? null : parameters.featureViewAttributes);\n  this.Serializable$set(\"ingestionTimeParameters\", null == parameters.ingestionTimeParameters ? null : parameters.ingestionTimeParameters);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FeatureViewOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FeatureViewOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FeatureViewOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.FeatureViewOptions.prototype.getPartialClassMetadata = function() {\n  return {arrays:{featureViewAttributes:module$exports$eeapiclient$ee_api_client.FeatureViewAttribute}, keys:[\"featureViewAttributes\", \"ingestionTimeParameters\"], objects:{ingestionTimeParameters:module$exports$eeapiclient$ee_api_client.FeatureViewIngestionTimeParameters}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FeatureViewOptions.prototype, {featureViewAttributes:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"featureViewAttributes\") ? this.Serializable$get(\"featureViewAttributes\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"featureViewAttributes\", value);\n}}, ingestionTimeParameters:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"ingestionTimeParameters\") ? this.Serializable$get(\"ingestionTimeParameters\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"ingestionTimeParameters\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.FilmstripThumbnailParameters = function module$contents$eeapiclient$ee_api_client_FilmstripThumbnailParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FilmstripThumbnail = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"orientation\", null == parameters.orientation ? null : parameters.orientation);\n  this.Serializable$set(\"fileFormat\", null == parameters.fileFormat ? null : parameters.fileFormat);\n  this.Serializable$set(\"grid\", null == parameters.grid ? null : parameters.grid);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FilmstripThumbnail, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FilmstripThumbnail.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FilmstripThumbnail;\n};\nmodule$exports$eeapiclient$ee_api_client.FilmstripThumbnail.prototype.getPartialClassMetadata = function() {\n  return {enums:{fileFormat:module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum, orientation:module$exports$eeapiclient$ee_api_client.FilmstripThumbnailOrientationEnum}, keys:[\"expression\", \"fileFormat\", \"grid\", \"name\", \"orientation\"], objects:{expression:module$exports$eeapiclient$ee_api_client.Expression, grid:module$exports$eeapiclient$ee_api_client.PixelGrid}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FilmstripThumbnail.prototype, {expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, fileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileFormat\") ? this.Serializable$get(\"fileFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileFormat\", value);\n}}, grid:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"grid\") ? this.Serializable$get(\"grid\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"grid\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, orientation:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"orientation\") ? this.Serializable$get(\"orientation\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"orientation\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FilmstripThumbnail, {FileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.FilmstripThumbnailFileFormatEnum;\n}}, Orientation:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.FilmstripThumbnailOrientationEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.FolderQuotaParameters = function module$contents$eeapiclient$ee_api_client_FolderQuotaParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FolderQuota = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"sizeBytes\", null == parameters.sizeBytes ? null : parameters.sizeBytes);\n  this.Serializable$set(\"maxSizeBytes\", null == parameters.maxSizeBytes ? null : parameters.maxSizeBytes);\n  this.Serializable$set(\"assetCount\", null == parameters.assetCount ? null : parameters.assetCount);\n  this.Serializable$set(\"maxAssets\", null == parameters.maxAssets ? null : parameters.maxAssets);\n  this.Serializable$set(\"maxAssetCount\", null == parameters.maxAssetCount ? null : parameters.maxAssetCount);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FolderQuota, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FolderQuota.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FolderQuota;\n};\nmodule$exports$eeapiclient$ee_api_client.FolderQuota.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"assetCount\", \"maxAssetCount\", \"maxAssets\", \"maxSizeBytes\", \"sizeBytes\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FolderQuota.prototype, {assetCount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"assetCount\") ? this.Serializable$get(\"assetCount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"assetCount\", value);\n}}, maxAssetCount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxAssetCount\") ? this.Serializable$get(\"maxAssetCount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxAssetCount\", value);\n}}, maxAssets:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxAssets\") ? this.Serializable$get(\"maxAssets\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxAssets\", value);\n}}, maxSizeBytes:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxSizeBytes\") ? this.Serializable$get(\"maxSizeBytes\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxSizeBytes\", value);\n}}, sizeBytes:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"sizeBytes\") ? this.Serializable$get(\"sizeBytes\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"sizeBytes\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.FunctionDefinitionParameters = function module$contents$eeapiclient$ee_api_client_FunctionDefinitionParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FunctionDefinition = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"argumentNames\", null == parameters.argumentNames ? null : parameters.argumentNames);\n  this.Serializable$set(\"body\", null == parameters.body ? null : parameters.body);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FunctionDefinition, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FunctionDefinition.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FunctionDefinition;\n};\nmodule$exports$eeapiclient$ee_api_client.FunctionDefinition.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"argumentNames\", \"body\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FunctionDefinition.prototype, {argumentNames:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"argumentNames\") ? this.Serializable$get(\"argumentNames\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"argumentNames\", value);\n}}, body:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"body\") ? this.Serializable$get(\"body\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"body\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.FunctionInvocationParameters = function module$contents$eeapiclient$ee_api_client_FunctionInvocationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.FunctionInvocation = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"functionName\", null == parameters.functionName ? null : parameters.functionName);\n  this.Serializable$set(\"functionReference\", null == parameters.functionReference ? null : parameters.functionReference);\n  this.Serializable$set(\"arguments\", null == parameters.arguments ? null : parameters.arguments);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.FunctionInvocation, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.FunctionInvocation.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.FunctionInvocation;\n};\nmodule$exports$eeapiclient$ee_api_client.FunctionInvocation.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"arguments\", \"functionName\", \"functionReference\"], objectMaps:{arguments:{ctor:module$exports$eeapiclient$ee_api_client.ValueNode, isPropertyArray:!1, isSerializable:!0, isValueArray:!1}}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.FunctionInvocation.prototype, {arguments:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"arguments\") ? this.Serializable$get(\"arguments\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"arguments\", value);\n}}, functionName:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"functionName\") ? this.Serializable$get(\"functionName\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"functionName\", value);\n}}, functionReference:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"functionReference\") ? this.Serializable$get(\"functionReference\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"functionReference\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.GcsDestinationParameters = function module$contents$eeapiclient$ee_api_client_GcsDestinationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.GcsDestination = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"bucket\", null == parameters.bucket ? null : parameters.bucket);\n  this.Serializable$set(\"filenamePrefix\", null == parameters.filenamePrefix ? null : parameters.filenamePrefix);\n  this.Serializable$set(\"permissions\", null == parameters.permissions ? null : parameters.permissions);\n  this.Serializable$set(\"bucketCorsUris\", null == parameters.bucketCorsUris ? null : parameters.bucketCorsUris);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GcsDestination, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.GcsDestination.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.GcsDestination;\n};\nmodule$exports$eeapiclient$ee_api_client.GcsDestination.prototype.getPartialClassMetadata = function() {\n  return {enums:{permissions:module$exports$eeapiclient$ee_api_client.GcsDestinationPermissionsEnum}, keys:[\"bucket\", \"bucketCorsUris\", \"filenamePrefix\", \"permissions\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GcsDestination.prototype, {bucket:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bucket\") ? this.Serializable$get(\"bucket\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bucket\", value);\n}}, bucketCorsUris:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bucketCorsUris\") ? this.Serializable$get(\"bucketCorsUris\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bucketCorsUris\", value);\n}}, filenamePrefix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"filenamePrefix\") ? this.Serializable$get(\"filenamePrefix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"filenamePrefix\", value);\n}}, permissions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"permissions\") ? this.Serializable$get(\"permissions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"permissions\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GcsDestination, {Permissions:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.GcsDestinationPermissionsEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.GcsLocationParameters = function module$contents$eeapiclient$ee_api_client_GcsLocationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.GcsLocation = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"uris\", null == parameters.uris ? null : parameters.uris);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GcsLocation, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.GcsLocation.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.GcsLocation;\n};\nmodule$exports$eeapiclient$ee_api_client.GcsLocation.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"uris\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GcsLocation.prototype, {uris:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"uris\") ? this.Serializable$get(\"uris\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"uris\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptionsParameters = function module$contents$eeapiclient$ee_api_client_GeoTiffImageExportOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"cloudOptimized\", null == parameters.cloudOptimized ? null : parameters.cloudOptimized);\n  this.Serializable$set(\"tileDimensions\", null == parameters.tileDimensions ? null : parameters.tileDimensions);\n  this.Serializable$set(\"skipEmptyFiles\", null == parameters.skipEmptyFiles ? null : parameters.skipEmptyFiles);\n  this.Serializable$set(\"tileSize\", null == parameters.tileSize ? null : parameters.tileSize);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"cloudOptimized\", \"skipEmptyFiles\", \"tileDimensions\", \"tileSize\"], objects:{tileDimensions:module$exports$eeapiclient$ee_api_client.GridDimensions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions.prototype, {cloudOptimized:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"cloudOptimized\") ? this.Serializable$get(\"cloudOptimized\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"cloudOptimized\", value);\n}}, skipEmptyFiles:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"skipEmptyFiles\") ? this.Serializable$get(\"skipEmptyFiles\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"skipEmptyFiles\", value);\n}}, tileDimensions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tileDimensions\") ? this.Serializable$get(\"tileDimensions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tileDimensions\", value);\n}}, tileSize:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tileSize\") ? this.Serializable$get(\"tileSize\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tileSize\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.GetIamPolicyRequestParameters = function module$contents$eeapiclient$ee_api_client_GetIamPolicyRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.GetIamPolicyRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"options\", null == parameters.options ? null : parameters.options);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GetIamPolicyRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.GetIamPolicyRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.GetIamPolicyRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.GetIamPolicyRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"options\"], objects:{options:module$exports$eeapiclient$ee_api_client.GetPolicyOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GetIamPolicyRequest.prototype, {options:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"options\") ? this.Serializable$get(\"options\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"options\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.GetLinkedAssetRequestParameters = function module$contents$eeapiclient$ee_api_client_GetLinkedAssetRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.GetLinkedAssetRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GetLinkedAssetRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.GetLinkedAssetRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.GetLinkedAssetRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.GetLinkedAssetRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[]};\n};\nmodule$exports$eeapiclient$ee_api_client.GetPixelsRequestParameters = function module$contents$eeapiclient$ee_api_client_GetPixelsRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.GetPixelsRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"fileFormat\", null == parameters.fileFormat ? null : parameters.fileFormat);\n  this.Serializable$set(\"grid\", null == parameters.grid ? null : parameters.grid);\n  this.Serializable$set(\"region\", null == parameters.region ? null : parameters.region);\n  this.Serializable$set(\"bandIds\", null == parameters.bandIds ? null : parameters.bandIds);\n  this.Serializable$set(\"visualizationOptions\", null == parameters.visualizationOptions ? null : parameters.visualizationOptions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GetPixelsRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.GetPixelsRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.GetPixelsRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.GetPixelsRequest.prototype.getPartialClassMetadata = function() {\n  return {enums:{fileFormat:module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum}, keys:[\"bandIds\", \"fileFormat\", \"grid\", \"region\", \"visualizationOptions\"], objectMaps:{region:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}}, objects:{grid:module$exports$eeapiclient$ee_api_client.PixelGrid, visualizationOptions:module$exports$eeapiclient$ee_api_client.VisualizationOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GetPixelsRequest.prototype, {bandIds:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bandIds\") ? this.Serializable$get(\"bandIds\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bandIds\", value);\n}}, fileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileFormat\") ? this.Serializable$get(\"fileFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileFormat\", value);\n}}, grid:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"grid\") ? this.Serializable$get(\"grid\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"grid\", value);\n}}, region:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"region\") ? this.Serializable$get(\"region\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"region\", value);\n}}, visualizationOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"visualizationOptions\") ? this.Serializable$get(\"visualizationOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"visualizationOptions\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GetPixelsRequest, {FileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.GetPixelsRequestFileFormatEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.GetPolicyOptionsParameters = function module$contents$eeapiclient$ee_api_client_GetPolicyOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.GetPolicyOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"requestedPolicyVersion\", null == parameters.requestedPolicyVersion ? null : parameters.requestedPolicyVersion);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GetPolicyOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.GetPolicyOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.GetPolicyOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.GetPolicyOptions.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"requestedPolicyVersion\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GetPolicyOptions.prototype, {requestedPolicyVersion:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"requestedPolicyVersion\") ? this.Serializable$get(\"requestedPolicyVersion\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"requestedPolicyVersion\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.GridDimensionsParameters = function module$contents$eeapiclient$ee_api_client_GridDimensionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.GridDimensions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"width\", null == parameters.width ? null : parameters.width);\n  this.Serializable$set(\"height\", null == parameters.height ? null : parameters.height);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GridDimensions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.GridDimensions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.GridDimensions;\n};\nmodule$exports$eeapiclient$ee_api_client.GridDimensions.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"height\", \"width\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GridDimensions.prototype, {height:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"height\") ? this.Serializable$get(\"height\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"height\", value);\n}}, width:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"width\") ? this.Serializable$get(\"width\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"width\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.GridPointParameters = function module$contents$eeapiclient$ee_api_client_GridPointParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.GridPoint = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"x\", null == parameters.x ? null : parameters.x);\n  this.Serializable$set(\"y\", null == parameters.y ? null : parameters.y);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.GridPoint, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.GridPoint.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.GridPoint;\n};\nmodule$exports$eeapiclient$ee_api_client.GridPoint.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"x\", \"y\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.GridPoint.prototype, {x:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"x\") ? this.Serializable$get(\"x\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"x\", value);\n}}, y:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"y\") ? this.Serializable$get(\"y\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"y\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.HttpBodyParameters = function module$contents$eeapiclient$ee_api_client_HttpBodyParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.HttpBody = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"contentType\", null == parameters.contentType ? null : parameters.contentType);\n  this.Serializable$set(\"data\", null == parameters.data ? null : parameters.data);\n  this.Serializable$set(\"extensions\", null == parameters.extensions ? null : parameters.extensions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.HttpBody, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.HttpBody.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.HttpBody;\n};\nmodule$exports$eeapiclient$ee_api_client.HttpBody.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"contentType\", \"data\", \"extensions\"], objectMaps:{extensions:{ctor:null, isPropertyArray:!0, isSerializable:!1, isValueArray:!1}}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.HttpBody.prototype, {contentType:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"contentType\") ? this.Serializable$get(\"contentType\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"contentType\", value);\n}}, data:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"data\") ? this.Serializable$get(\"data\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"data\", value);\n}}, extensions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"extensions\") ? this.Serializable$get(\"extensions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"extensions\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ImageParameters = function module$contents$eeapiclient$ee_api_client_ImageParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Image = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"id\", null == parameters.id ? null : parameters.id);\n  this.Serializable$set(\"updateTime\", null == parameters.updateTime ? null : parameters.updateTime);\n  this.Serializable$set(\"title\", null == parameters.title ? null : parameters.title);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"properties\", null == parameters.properties ? null : parameters.properties);\n  this.Serializable$set(\"startTime\", null == parameters.startTime ? null : parameters.startTime);\n  this.Serializable$set(\"endTime\", null == parameters.endTime ? null : parameters.endTime);\n  this.Serializable$set(\"geometry\", null == parameters.geometry ? null : parameters.geometry);\n  this.Serializable$set(\"bands\", null == parameters.bands ? null : parameters.bands);\n  this.Serializable$set(\"sizeBytes\", null == parameters.sizeBytes ? null : parameters.sizeBytes);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Image, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Image.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Image;\n};\nmodule$exports$eeapiclient$ee_api_client.Image.prototype.getPartialClassMetadata = function() {\n  return {arrays:{bands:module$exports$eeapiclient$ee_api_client.ImageBand}, keys:\"bands description endTime geometry id name properties sizeBytes startTime title updateTime\".split(\" \"), objectMaps:{geometry:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}, properties:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Image.prototype, {bands:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bands\") ? this.Serializable$get(\"bands\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bands\", value);\n}}, description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, endTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"endTime\") ? this.Serializable$get(\"endTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"endTime\", value);\n}}, geometry:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"geometry\") ? this.Serializable$get(\"geometry\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"geometry\", value);\n}}, id:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"id\") ? this.Serializable$get(\"id\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"id\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, properties:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"properties\") ? this.Serializable$get(\"properties\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"properties\", value);\n}}, sizeBytes:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"sizeBytes\") ? this.Serializable$get(\"sizeBytes\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"sizeBytes\", value);\n}}, startTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"startTime\") ? this.Serializable$get(\"startTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"startTime\", value);\n}}, title:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"title\") ? this.Serializable$get(\"title\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"title\", value);\n}}, updateTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"updateTime\") ? this.Serializable$get(\"updateTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"updateTime\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsParameters = function module$contents$eeapiclient$ee_api_client_ImageAssetExportOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImageAssetExportOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"earthEngineDestination\", null == parameters.earthEngineDestination ? null : parameters.earthEngineDestination);\n  this.Serializable$set(\"pyramidingPolicy\", null == parameters.pyramidingPolicy ? null : parameters.pyramidingPolicy);\n  this.Serializable$set(\"pyramidingPolicyOverrides\", null == parameters.pyramidingPolicyOverrides ? null : parameters.pyramidingPolicyOverrides);\n  this.Serializable$set(\"tileSize\", null == parameters.tileSize ? null : parameters.tileSize);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ImageAssetExportOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.ImageAssetExportOptions.prototype.getPartialClassMetadata = function() {\n  return {enums:{pyramidingPolicy:module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum, pyramidingPolicyOverrides:module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum}, keys:[\"earthEngineDestination\", \"pyramidingPolicy\", \"pyramidingPolicyOverrides\", \"tileSize\"], objectMaps:{pyramidingPolicyOverrides:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}}, \n  objects:{earthEngineDestination:module$exports$eeapiclient$ee_api_client.EarthEngineDestination}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions.prototype, {earthEngineDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"earthEngineDestination\") ? this.Serializable$get(\"earthEngineDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"earthEngineDestination\", value);\n}}, pyramidingPolicy:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pyramidingPolicy\") ? this.Serializable$get(\"pyramidingPolicy\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pyramidingPolicy\", value);\n}}, pyramidingPolicyOverrides:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pyramidingPolicyOverrides\") ? this.Serializable$get(\"pyramidingPolicyOverrides\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pyramidingPolicyOverrides\", value);\n}}, tileSize:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tileSize\") ? this.Serializable$get(\"tileSize\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tileSize\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions, {PyramidingPolicy:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyEnum;\n}}, PyramidingPolicyOverrides:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ImageAssetExportOptionsPyramidingPolicyOverridesEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.ImageBandParameters = function module$contents$eeapiclient$ee_api_client_ImageBandParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImageBand = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"id\", null == parameters.id ? null : parameters.id);\n  this.Serializable$set(\"dataType\", null == parameters.dataType ? null : parameters.dataType);\n  this.Serializable$set(\"grid\", null == parameters.grid ? null : parameters.grid);\n  this.Serializable$set(\"pyramidingPolicy\", null == parameters.pyramidingPolicy ? null : parameters.pyramidingPolicy);\n  this.Serializable$set(\"tilesets\", null == parameters.tilesets ? null : parameters.tilesets);\n  this.Serializable$set(\"missingData\", null == parameters.missingData ? null : parameters.missingData);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImageBand, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ImageBand.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ImageBand;\n};\nmodule$exports$eeapiclient$ee_api_client.ImageBand.prototype.getPartialClassMetadata = function() {\n  return {arrays:{tilesets:module$exports$eeapiclient$ee_api_client.TilestoreTileset}, enums:{pyramidingPolicy:module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum}, keys:\"dataType grid id missingData pyramidingPolicy tilesets\".split(\" \"), objects:{dataType:module$exports$eeapiclient$ee_api_client.PixelDataType, grid:module$exports$eeapiclient$ee_api_client.PixelGrid, \n  missingData:module$exports$eeapiclient$ee_api_client.MissingData}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageBand.prototype, {dataType:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dataType\") ? this.Serializable$get(\"dataType\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dataType\", value);\n}}, grid:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"grid\") ? this.Serializable$get(\"grid\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"grid\", value);\n}}, id:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"id\") ? this.Serializable$get(\"id\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"id\", value);\n}}, missingData:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"missingData\") ? this.Serializable$get(\"missingData\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"missingData\", value);\n}}, pyramidingPolicy:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pyramidingPolicy\") ? this.Serializable$get(\"pyramidingPolicy\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pyramidingPolicy\", value);\n}}, tilesets:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tilesets\") ? this.Serializable$get(\"tilesets\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tilesets\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageBand, {PyramidingPolicy:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ImageBandPyramidingPolicyEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.ImageFileExportOptionsParameters = function module$contents$eeapiclient$ee_api_client_ImageFileExportOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImageFileExportOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"driveDestination\", null == parameters.driveDestination ? null : parameters.driveDestination);\n  this.Serializable$set(\"cloudStorageDestination\", null == parameters.cloudStorageDestination ? null : parameters.cloudStorageDestination);\n  this.Serializable$set(\"gcsDestination\", null == parameters.gcsDestination ? null : parameters.gcsDestination);\n  this.Serializable$set(\"geoTiffOptions\", null == parameters.geoTiffOptions ? null : parameters.geoTiffOptions);\n  this.Serializable$set(\"tfRecordOptions\", null == parameters.tfRecordOptions ? null : parameters.tfRecordOptions);\n  this.Serializable$set(\"fileFormat\", null == parameters.fileFormat ? null : parameters.fileFormat);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImageFileExportOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ImageFileExportOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ImageFileExportOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.ImageFileExportOptions.prototype.getPartialClassMetadata = function() {\n  return {enums:{fileFormat:module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum}, keys:\"cloudStorageDestination driveDestination fileFormat gcsDestination geoTiffOptions tfRecordOptions\".split(\" \"), objects:{cloudStorageDestination:module$exports$eeapiclient$ee_api_client.CloudStorageDestination, driveDestination:module$exports$eeapiclient$ee_api_client.DriveDestination, \n  gcsDestination:module$exports$eeapiclient$ee_api_client.GcsDestination, geoTiffOptions:module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions, tfRecordOptions:module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageFileExportOptions.prototype, {cloudStorageDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"cloudStorageDestination\") ? this.Serializable$get(\"cloudStorageDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"cloudStorageDestination\", value);\n}}, driveDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"driveDestination\") ? this.Serializable$get(\"driveDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"driveDestination\", value);\n}}, fileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileFormat\") ? this.Serializable$get(\"fileFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileFormat\", value);\n}}, gcsDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"gcsDestination\") ? this.Serializable$get(\"gcsDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"gcsDestination\", value);\n}}, geoTiffOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"geoTiffOptions\") ? this.Serializable$get(\"geoTiffOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"geoTiffOptions\", value);\n}}, tfRecordOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tfRecordOptions\") ? this.Serializable$get(\"tfRecordOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tfRecordOptions\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageFileExportOptions, {FileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ImageFileExportOptionsFileFormatEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.ImageManifestParameters = function module$contents$eeapiclient$ee_api_client_ImageManifestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImageManifest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"properties\", null == parameters.properties ? null : parameters.properties);\n  this.Serializable$set(\"uriPrefix\", null == parameters.uriPrefix ? null : parameters.uriPrefix);\n  this.Serializable$set(\"tilesets\", null == parameters.tilesets ? null : parameters.tilesets);\n  this.Serializable$set(\"bands\", null == parameters.bands ? null : parameters.bands);\n  this.Serializable$set(\"maskBands\", null == parameters.maskBands ? null : parameters.maskBands);\n  this.Serializable$set(\"footprint\", null == parameters.footprint ? null : parameters.footprint);\n  this.Serializable$set(\"missingData\", null == parameters.missingData ? null : parameters.missingData);\n  this.Serializable$set(\"pyramidingPolicy\", null == parameters.pyramidingPolicy ? null : parameters.pyramidingPolicy);\n  this.Serializable$set(\"startTime\", null == parameters.startTime ? null : parameters.startTime);\n  this.Serializable$set(\"endTime\", null == parameters.endTime ? null : parameters.endTime);\n  this.Serializable$set(\"minTileAreaRatio\", null == parameters.minTileAreaRatio ? null : parameters.minTileAreaRatio);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImageManifest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ImageManifest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ImageManifest;\n};\nmodule$exports$eeapiclient$ee_api_client.ImageManifest.prototype.getPartialClassMetadata = function() {\n  return {arrays:{bands:module$exports$eeapiclient$ee_api_client.TilesetBand, maskBands:module$exports$eeapiclient$ee_api_client.TilesetMaskBand, tilesets:module$exports$eeapiclient$ee_api_client.Tileset}, enums:{pyramidingPolicy:module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum}, keys:\"bands endTime footprint maskBands minTileAreaRatio missingData name properties pyramidingPolicy startTime tilesets uriPrefix\".split(\" \"), \n  objectMaps:{properties:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}}, objects:{footprint:module$exports$eeapiclient$ee_api_client.PixelFootprint, missingData:module$exports$eeapiclient$ee_api_client.MissingData}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageManifest.prototype, {bands:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bands\") ? this.Serializable$get(\"bands\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bands\", value);\n}}, endTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"endTime\") ? this.Serializable$get(\"endTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"endTime\", value);\n}}, footprint:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"footprint\") ? this.Serializable$get(\"footprint\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"footprint\", value);\n}}, maskBands:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maskBands\") ? this.Serializable$get(\"maskBands\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maskBands\", value);\n}}, minTileAreaRatio:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"minTileAreaRatio\") ? this.Serializable$get(\"minTileAreaRatio\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"minTileAreaRatio\", value);\n}}, missingData:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"missingData\") ? this.Serializable$get(\"missingData\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"missingData\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, properties:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"properties\") ? this.Serializable$get(\"properties\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"properties\", value);\n}}, pyramidingPolicy:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pyramidingPolicy\") ? this.Serializable$get(\"pyramidingPolicy\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pyramidingPolicy\", value);\n}}, startTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"startTime\") ? this.Serializable$get(\"startTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"startTime\", value);\n}}, tilesets:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tilesets\") ? this.Serializable$get(\"tilesets\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tilesets\", value);\n}}, uriPrefix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"uriPrefix\") ? this.Serializable$get(\"uriPrefix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"uriPrefix\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageManifest, {PyramidingPolicy:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ImageManifestPyramidingPolicyEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.ImageSourceParameters = function module$contents$eeapiclient$ee_api_client_ImageSourceParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImageSource = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"uris\", null == parameters.uris ? null : parameters.uris);\n  this.Serializable$set(\"affineTransform\", null == parameters.affineTransform ? null : parameters.affineTransform);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImageSource, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ImageSource.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ImageSource;\n};\nmodule$exports$eeapiclient$ee_api_client.ImageSource.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"affineTransform\", \"uris\"], objects:{affineTransform:module$exports$eeapiclient$ee_api_client.AffineTransform}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImageSource.prototype, {affineTransform:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"affineTransform\") ? this.Serializable$get(\"affineTransform\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"affineTransform\", value);\n}}, uris:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"uris\") ? this.Serializable$get(\"uris\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"uris\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ImportImageRequestParameters = function module$contents$eeapiclient$ee_api_client_ImportImageRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImportImageRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"imageManifest\", null == parameters.imageManifest ? null : parameters.imageManifest);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"overwrite\", null == parameters.overwrite ? null : parameters.overwrite);\n  this.Serializable$set(\"requestId\", null == parameters.requestId ? null : parameters.requestId);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImportImageRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ImportImageRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ImportImageRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ImportImageRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"description\", \"imageManifest\", \"overwrite\", \"requestId\"], objects:{imageManifest:module$exports$eeapiclient$ee_api_client.ImageManifest}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImportImageRequest.prototype, {description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, imageManifest:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"imageManifest\") ? this.Serializable$get(\"imageManifest\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"imageManifest\", value);\n}}, overwrite:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"overwrite\") ? this.Serializable$get(\"overwrite\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"overwrite\", value);\n}}, requestId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"requestId\") ? this.Serializable$get(\"requestId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"requestId\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ImportTableRequestParameters = function module$contents$eeapiclient$ee_api_client_ImportTableRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ImportTableRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"tableManifest\", null == parameters.tableManifest ? null : parameters.tableManifest);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"overwrite\", null == parameters.overwrite ? null : parameters.overwrite);\n  this.Serializable$set(\"requestId\", null == parameters.requestId ? null : parameters.requestId);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ImportTableRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ImportTableRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ImportTableRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.ImportTableRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"description\", \"overwrite\", \"requestId\", \"tableManifest\"], objects:{tableManifest:module$exports$eeapiclient$ee_api_client.TableManifest}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ImportTableRequest.prototype, {description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, overwrite:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"overwrite\") ? this.Serializable$get(\"overwrite\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"overwrite\", value);\n}}, requestId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"requestId\") ? this.Serializable$get(\"requestId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"requestId\", value);\n}}, tableManifest:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tableManifest\") ? this.Serializable$get(\"tableManifest\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tableManifest\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.LinkAssetRequestParameters = function module$contents$eeapiclient$ee_api_client_LinkAssetRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.LinkAssetRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"destinationName\", null == parameters.destinationName ? null : parameters.destinationName);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.LinkAssetRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.LinkAssetRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.LinkAssetRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.LinkAssetRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"destinationName\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.LinkAssetRequest.prototype, {destinationName:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"destinationName\") ? this.Serializable$get(\"destinationName\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"destinationName\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ListAlgorithmsResponseParameters = function module$contents$eeapiclient$ee_api_client_ListAlgorithmsResponseParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"algorithms\", null == parameters.algorithms ? null : parameters.algorithms);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse;\n};\nmodule$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse.prototype.getPartialClassMetadata = function() {\n  return {arrays:{algorithms:module$exports$eeapiclient$ee_api_client.Algorithm}, keys:[\"algorithms\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse.prototype, {algorithms:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"algorithms\") ? this.Serializable$get(\"algorithms\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"algorithms\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ListAssetsResponseParameters = function module$contents$eeapiclient$ee_api_client_ListAssetsResponseParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ListAssetsResponse = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"assets\", null == parameters.assets ? null : parameters.assets);\n  this.Serializable$set(\"nextPageToken\", null == parameters.nextPageToken ? null : parameters.nextPageToken);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ListAssetsResponse, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ListAssetsResponse.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ListAssetsResponse;\n};\nmodule$exports$eeapiclient$ee_api_client.ListAssetsResponse.prototype.getPartialClassMetadata = function() {\n  return {arrays:{assets:module$exports$eeapiclient$ee_api_client.EarthEngineAsset}, keys:[\"assets\", \"nextPageToken\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ListAssetsResponse.prototype, {assets:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"assets\") ? this.Serializable$get(\"assets\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"assets\", value);\n}}, nextPageToken:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"nextPageToken\") ? this.Serializable$get(\"nextPageToken\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"nextPageToken\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ListFeaturesResponseParameters = function module$contents$eeapiclient$ee_api_client_ListFeaturesResponseParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ListFeaturesResponse = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"type\", null == parameters.type ? null : parameters.type);\n  this.Serializable$set(\"features\", null == parameters.features ? null : parameters.features);\n  this.Serializable$set(\"nextPageToken\", null == parameters.nextPageToken ? null : parameters.nextPageToken);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ListFeaturesResponse, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ListFeaturesResponse.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ListFeaturesResponse;\n};\nmodule$exports$eeapiclient$ee_api_client.ListFeaturesResponse.prototype.getPartialClassMetadata = function() {\n  return {arrays:{features:module$exports$eeapiclient$ee_api_client.Feature}, keys:[\"features\", \"nextPageToken\", \"type\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ListFeaturesResponse.prototype, {features:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"features\") ? this.Serializable$get(\"features\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"features\", value);\n}}, nextPageToken:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"nextPageToken\") ? this.Serializable$get(\"nextPageToken\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"nextPageToken\", value);\n}}, type:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"type\") ? this.Serializable$get(\"type\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"type\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ListImagesResponseParameters = function module$contents$eeapiclient$ee_api_client_ListImagesResponseParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ListImagesResponse = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"images\", null == parameters.images ? null : parameters.images);\n  this.Serializable$set(\"nextPageToken\", null == parameters.nextPageToken ? null : parameters.nextPageToken);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ListImagesResponse, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ListImagesResponse.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ListImagesResponse;\n};\nmodule$exports$eeapiclient$ee_api_client.ListImagesResponse.prototype.getPartialClassMetadata = function() {\n  return {arrays:{images:module$exports$eeapiclient$ee_api_client.Image}, keys:[\"images\", \"nextPageToken\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ListImagesResponse.prototype, {images:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"images\") ? this.Serializable$get(\"images\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"images\", value);\n}}, nextPageToken:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"nextPageToken\") ? this.Serializable$get(\"nextPageToken\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"nextPageToken\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ListOperationsResponseParameters = function module$contents$eeapiclient$ee_api_client_ListOperationsResponseParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ListOperationsResponse = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"operations\", null == parameters.operations ? null : parameters.operations);\n  this.Serializable$set(\"nextPageToken\", null == parameters.nextPageToken ? null : parameters.nextPageToken);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ListOperationsResponse, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ListOperationsResponse.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ListOperationsResponse;\n};\nmodule$exports$eeapiclient$ee_api_client.ListOperationsResponse.prototype.getPartialClassMetadata = function() {\n  return {arrays:{operations:module$exports$eeapiclient$ee_api_client.Operation}, keys:[\"nextPageToken\", \"operations\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ListOperationsResponse.prototype, {nextPageToken:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"nextPageToken\") ? this.Serializable$get(\"nextPageToken\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"nextPageToken\", value);\n}}, operations:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"operations\") ? this.Serializable$get(\"operations\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"operations\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.LogConfigParameters = function module$contents$eeapiclient$ee_api_client_LogConfigParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.LogConfig = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"counter\", null == parameters.counter ? null : parameters.counter);\n  this.Serializable$set(\"dataAccess\", null == parameters.dataAccess ? null : parameters.dataAccess);\n  this.Serializable$set(\"cloudAudit\", null == parameters.cloudAudit ? null : parameters.cloudAudit);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.LogConfig, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.LogConfig.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.LogConfig;\n};\nmodule$exports$eeapiclient$ee_api_client.LogConfig.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"cloudAudit\", \"counter\", \"dataAccess\"], objects:{cloudAudit:module$exports$eeapiclient$ee_api_client.CloudAuditOptions, counter:module$exports$eeapiclient$ee_api_client.CounterOptions, dataAccess:module$exports$eeapiclient$ee_api_client.DataAccessOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.LogConfig.prototype, {cloudAudit:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"cloudAudit\") ? this.Serializable$get(\"cloudAudit\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"cloudAudit\", value);\n}}, counter:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"counter\") ? this.Serializable$get(\"counter\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"counter\", value);\n}}, dataAccess:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dataAccess\") ? this.Serializable$get(\"dataAccess\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dataAccess\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.MissingDataParameters = function module$contents$eeapiclient$ee_api_client_MissingDataParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.MissingData = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"values\", null == parameters.values ? null : parameters.values);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.MissingData, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.MissingData.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.MissingData;\n};\nmodule$exports$eeapiclient$ee_api_client.MissingData.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"values\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.MissingData.prototype, {values:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"values\") ? this.Serializable$get(\"values\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"values\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.MoveAssetRequestParameters = function module$contents$eeapiclient$ee_api_client_MoveAssetRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.MoveAssetRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"destinationName\", null == parameters.destinationName ? null : parameters.destinationName);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.MoveAssetRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.MoveAssetRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.MoveAssetRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.MoveAssetRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"destinationName\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.MoveAssetRequest.prototype, {destinationName:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"destinationName\") ? this.Serializable$get(\"destinationName\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"destinationName\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.OperationParameters = function module$contents$eeapiclient$ee_api_client_OperationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Operation = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"metadata\", null == parameters.metadata ? null : parameters.metadata);\n  this.Serializable$set(\"done\", null == parameters.done ? null : parameters.done);\n  this.Serializable$set(\"error\", null == parameters.error ? null : parameters.error);\n  this.Serializable$set(\"response\", null == parameters.response ? null : parameters.response);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Operation, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Operation.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Operation;\n};\nmodule$exports$eeapiclient$ee_api_client.Operation.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"done\", \"error\", \"metadata\", \"name\", \"response\"], objectMaps:{metadata:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}, response:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}}, objects:{error:module$exports$eeapiclient$ee_api_client.Status}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Operation.prototype, {done:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"done\") ? this.Serializable$get(\"done\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"done\", value);\n}}, error:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"error\") ? this.Serializable$get(\"error\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"error\", value);\n}}, metadata:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"metadata\") ? this.Serializable$get(\"metadata\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"metadata\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, response:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"response\") ? this.Serializable$get(\"response\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"response\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.OperationMetadataParameters = function module$contents$eeapiclient$ee_api_client_OperationMetadataParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.OperationMetadata = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"state\", null == parameters.state ? null : parameters.state);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"type\", null == parameters.type ? null : parameters.type);\n  this.Serializable$set(\"priority\", null == parameters.priority ? null : parameters.priority);\n  this.Serializable$set(\"createTime\", null == parameters.createTime ? null : parameters.createTime);\n  this.Serializable$set(\"updateTime\", null == parameters.updateTime ? null : parameters.updateTime);\n  this.Serializable$set(\"startTime\", null == parameters.startTime ? null : parameters.startTime);\n  this.Serializable$set(\"endTime\", null == parameters.endTime ? null : parameters.endTime);\n  this.Serializable$set(\"progress\", null == parameters.progress ? null : parameters.progress);\n  this.Serializable$set(\"stages\", null == parameters.stages ? null : parameters.stages);\n  this.Serializable$set(\"attempt\", null == parameters.attempt ? null : parameters.attempt);\n  this.Serializable$set(\"scriptUri\", null == parameters.scriptUri ? null : parameters.scriptUri);\n  this.Serializable$set(\"destinationUris\", null == parameters.destinationUris ? null : parameters.destinationUris);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.OperationMetadata, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.OperationMetadata.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.OperationMetadata;\n};\nmodule$exports$eeapiclient$ee_api_client.OperationMetadata.prototype.getPartialClassMetadata = function() {\n  return {arrays:{stages:module$exports$eeapiclient$ee_api_client.OperationStage}, enums:{state:module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum}, keys:\"attempt createTime description destinationUris endTime priority progress scriptUri stages startTime state type updateTime\".split(\" \")};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.OperationMetadata.prototype, {attempt:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"attempt\") ? this.Serializable$get(\"attempt\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"attempt\", value);\n}}, createTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"createTime\") ? this.Serializable$get(\"createTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"createTime\", value);\n}}, description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, destinationUris:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"destinationUris\") ? this.Serializable$get(\"destinationUris\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"destinationUris\", value);\n}}, endTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"endTime\") ? this.Serializable$get(\"endTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"endTime\", value);\n}}, priority:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"priority\") ? this.Serializable$get(\"priority\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"priority\", value);\n}}, progress:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"progress\") ? this.Serializable$get(\"progress\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"progress\", value);\n}}, scriptUri:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"scriptUri\") ? this.Serializable$get(\"scriptUri\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"scriptUri\", value);\n}}, stages:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"stages\") ? this.Serializable$get(\"stages\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"stages\", value);\n}}, startTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"startTime\") ? this.Serializable$get(\"startTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"startTime\", value);\n}}, state:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"state\") ? this.Serializable$get(\"state\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"state\", value);\n}}, type:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"type\") ? this.Serializable$get(\"type\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"type\", value);\n}}, updateTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"updateTime\") ? this.Serializable$get(\"updateTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"updateTime\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.OperationMetadata, {State:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.OperationMetadataStateEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.OperationStageParameters = function module$contents$eeapiclient$ee_api_client_OperationStageParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.OperationStage = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"displayName\", null == parameters.displayName ? null : parameters.displayName);\n  this.Serializable$set(\"completeWorkUnits\", null == parameters.completeWorkUnits ? null : parameters.completeWorkUnits);\n  this.Serializable$set(\"totalWorkUnits\", null == parameters.totalWorkUnits ? null : parameters.totalWorkUnits);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.OperationStage, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.OperationStage.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.OperationStage;\n};\nmodule$exports$eeapiclient$ee_api_client.OperationStage.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"completeWorkUnits\", \"description\", \"displayName\", \"totalWorkUnits\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.OperationStage.prototype, {completeWorkUnits:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"completeWorkUnits\") ? this.Serializable$get(\"completeWorkUnits\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"completeWorkUnits\", value);\n}}, description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, displayName:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"displayName\") ? this.Serializable$get(\"displayName\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"displayName\", value);\n}}, totalWorkUnits:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"totalWorkUnits\") ? this.Serializable$get(\"totalWorkUnits\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"totalWorkUnits\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.PixelDataTypeParameters = function module$contents$eeapiclient$ee_api_client_PixelDataTypeParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.PixelDataType = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"precision\", null == parameters.precision ? null : parameters.precision);\n  this.Serializable$set(\"range\", null == parameters.range ? null : parameters.range);\n  this.Serializable$set(\"dimensionsCount\", null == parameters.dimensionsCount ? null : parameters.dimensionsCount);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.PixelDataType, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.PixelDataType.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.PixelDataType;\n};\nmodule$exports$eeapiclient$ee_api_client.PixelDataType.prototype.getPartialClassMetadata = function() {\n  return {enums:{precision:module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum}, keys:[\"dimensionsCount\", \"precision\", \"range\"], objects:{range:module$exports$eeapiclient$ee_api_client.DoubleRange}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.PixelDataType.prototype, {dimensionsCount:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dimensionsCount\") ? this.Serializable$get(\"dimensionsCount\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dimensionsCount\", value);\n}}, precision:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"precision\") ? this.Serializable$get(\"precision\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"precision\", value);\n}}, range:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"range\") ? this.Serializable$get(\"range\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"range\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.PixelDataType, {Precision:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.PixelDataTypePrecisionEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.PixelFootprintParameters = function module$contents$eeapiclient$ee_api_client_PixelFootprintParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.PixelFootprint = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"points\", null == parameters.points ? null : parameters.points);\n  this.Serializable$set(\"bandId\", null == parameters.bandId ? null : parameters.bandId);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.PixelFootprint, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.PixelFootprint.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.PixelFootprint;\n};\nmodule$exports$eeapiclient$ee_api_client.PixelFootprint.prototype.getPartialClassMetadata = function() {\n  return {arrays:{points:module$exports$eeapiclient$ee_api_client.GridPoint}, keys:[\"bandId\", \"points\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.PixelFootprint.prototype, {bandId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bandId\") ? this.Serializable$get(\"bandId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bandId\", value);\n}}, points:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"points\") ? this.Serializable$get(\"points\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"points\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.PixelGridParameters = function module$contents$eeapiclient$ee_api_client_PixelGridParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.PixelGrid = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"crsCode\", null == parameters.crsCode ? null : parameters.crsCode);\n  this.Serializable$set(\"crsWkt\", null == parameters.crsWkt ? null : parameters.crsWkt);\n  this.Serializable$set(\"dimensions\", null == parameters.dimensions ? null : parameters.dimensions);\n  this.Serializable$set(\"affineTransform\", null == parameters.affineTransform ? null : parameters.affineTransform);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.PixelGrid, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.PixelGrid.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.PixelGrid;\n};\nmodule$exports$eeapiclient$ee_api_client.PixelGrid.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"affineTransform\", \"crsCode\", \"crsWkt\", \"dimensions\"], objects:{affineTransform:module$exports$eeapiclient$ee_api_client.AffineTransform, dimensions:module$exports$eeapiclient$ee_api_client.GridDimensions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.PixelGrid.prototype, {affineTransform:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"affineTransform\") ? this.Serializable$get(\"affineTransform\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"affineTransform\", value);\n}}, crsCode:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"crsCode\") ? this.Serializable$get(\"crsCode\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"crsCode\", value);\n}}, crsWkt:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"crsWkt\") ? this.Serializable$get(\"crsWkt\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"crsWkt\", value);\n}}, dimensions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dimensions\") ? this.Serializable$get(\"dimensions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dimensions\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.PolicyParameters = function module$contents$eeapiclient$ee_api_client_PolicyParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Policy = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"version\", null == parameters.version ? null : parameters.version);\n  this.Serializable$set(\"bindings\", null == parameters.bindings ? null : parameters.bindings);\n  this.Serializable$set(\"auditConfigs\", null == parameters.auditConfigs ? null : parameters.auditConfigs);\n  this.Serializable$set(\"rules\", null == parameters.rules ? null : parameters.rules);\n  this.Serializable$set(\"etag\", null == parameters.etag ? null : parameters.etag);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Policy, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Policy.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Policy;\n};\nmodule$exports$eeapiclient$ee_api_client.Policy.prototype.getPartialClassMetadata = function() {\n  return {arrays:{auditConfigs:module$exports$eeapiclient$ee_api_client.AuditConfig, bindings:module$exports$eeapiclient$ee_api_client.Binding, rules:module$exports$eeapiclient$ee_api_client.Rule}, keys:[\"auditConfigs\", \"bindings\", \"etag\", \"rules\", \"version\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Policy.prototype, {auditConfigs:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"auditConfigs\") ? this.Serializable$get(\"auditConfigs\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"auditConfigs\", value);\n}}, bindings:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bindings\") ? this.Serializable$get(\"bindings\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bindings\", value);\n}}, etag:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"etag\") ? this.Serializable$get(\"etag\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"etag\", value);\n}}, rules:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"rules\") ? this.Serializable$get(\"rules\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"rules\", value);\n}}, version:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"version\") ? this.Serializable$get(\"version\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"version\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.RankByAttributeRuleParameters = function module$contents$eeapiclient$ee_api_client_RankByAttributeRuleParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.RankByAttributeRule = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"attributeName\", null == parameters.attributeName ? null : parameters.attributeName);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankByAttributeRule, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.RankByAttributeRule.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.RankByAttributeRule;\n};\nmodule$exports$eeapiclient$ee_api_client.RankByAttributeRule.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"attributeName\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.RankByAttributeRule.prototype, {attributeName:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"attributeName\") ? this.Serializable$get(\"attributeName\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"attributeName\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.RankByGeometryTypeRuleParameters = function module$contents$eeapiclient$ee_api_client_RankByGeometryTypeRuleParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule;\n};\nmodule$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule.prototype.getPartialClassMetadata = function() {\n  return {keys:[]};\n};\nmodule$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRuleParameters = function module$contents$eeapiclient$ee_api_client_RankByMinVisibleLodRuleParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule;\n};\nmodule$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule.prototype.getPartialClassMetadata = function() {\n  return {keys:[]};\n};\nmodule$exports$eeapiclient$ee_api_client.RankByNaturalOrderParameters = function module$contents$eeapiclient$ee_api_client_RankByNaturalOrderParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.RankByNaturalOrder = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankByNaturalOrder, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.RankByNaturalOrder.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.RankByNaturalOrder;\n};\nmodule$exports$eeapiclient$ee_api_client.RankByNaturalOrder.prototype.getPartialClassMetadata = function() {\n  return {keys:[]};\n};\nmodule$exports$eeapiclient$ee_api_client.RankByOneThingRuleParameters = function module$contents$eeapiclient$ee_api_client_RankByOneThingRuleParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.RankByOneThingRule = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"rankByAttributeRule\", null == parameters.rankByAttributeRule ? null : parameters.rankByAttributeRule);\n  this.Serializable$set(\"rankByMinVisibleLodRule\", null == parameters.rankByMinVisibleLodRule ? null : parameters.rankByMinVisibleLodRule);\n  this.Serializable$set(\"rankByGeometryTypeRule\", null == parameters.rankByGeometryTypeRule ? null : parameters.rankByGeometryTypeRule);\n  this.Serializable$set(\"rankByNaturalOrderRule\", null == parameters.rankByNaturalOrderRule ? null : parameters.rankByNaturalOrderRule);\n  this.Serializable$set(\"direction\", null == parameters.direction ? null : parameters.direction);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankByOneThingRule, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.RankByOneThingRule.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.RankByOneThingRule;\n};\nmodule$exports$eeapiclient$ee_api_client.RankByOneThingRule.prototype.getPartialClassMetadata = function() {\n  return {enums:{direction:module$exports$eeapiclient$ee_api_client.RankByOneThingRuleDirectionEnum}, keys:[\"direction\", \"rankByAttributeRule\", \"rankByGeometryTypeRule\", \"rankByMinVisibleLodRule\", \"rankByNaturalOrderRule\"], objects:{rankByAttributeRule:module$exports$eeapiclient$ee_api_client.RankByAttributeRule, rankByGeometryTypeRule:module$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule, \n  rankByMinVisibleLodRule:module$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule, rankByNaturalOrderRule:module$exports$eeapiclient$ee_api_client.RankByNaturalOrder}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.RankByOneThingRule.prototype, {direction:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"direction\") ? this.Serializable$get(\"direction\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"direction\", value);\n}}, rankByAttributeRule:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"rankByAttributeRule\") ? this.Serializable$get(\"rankByAttributeRule\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"rankByAttributeRule\", value);\n}}, rankByGeometryTypeRule:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"rankByGeometryTypeRule\") ? this.Serializable$get(\"rankByGeometryTypeRule\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"rankByGeometryTypeRule\", value);\n}}, rankByMinVisibleLodRule:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"rankByMinVisibleLodRule\") ? this.Serializable$get(\"rankByMinVisibleLodRule\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"rankByMinVisibleLodRule\", value);\n}}, rankByNaturalOrderRule:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"rankByNaturalOrderRule\") ? this.Serializable$get(\"rankByNaturalOrderRule\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"rankByNaturalOrderRule\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.RankByOneThingRule, {Direction:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.RankByOneThingRuleDirectionEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.RankingOptionsParameters = function module$contents$eeapiclient$ee_api_client_RankingOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.RankingOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"zOrderRankingRule\", null == parameters.zOrderRankingRule ? null : parameters.zOrderRankingRule);\n  this.Serializable$set(\"thinningRankingRule\", null == parameters.thinningRankingRule ? null : parameters.thinningRankingRule);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankingOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.RankingOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.RankingOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.RankingOptions.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"thinningRankingRule\", \"zOrderRankingRule\"], objects:{thinningRankingRule:module$exports$eeapiclient$ee_api_client.RankingRule, zOrderRankingRule:module$exports$eeapiclient$ee_api_client.RankingRule}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.RankingOptions.prototype, {thinningRankingRule:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"thinningRankingRule\") ? this.Serializable$get(\"thinningRankingRule\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"thinningRankingRule\", value);\n}}, zOrderRankingRule:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"zOrderRankingRule\") ? this.Serializable$get(\"zOrderRankingRule\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"zOrderRankingRule\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.RankingRuleParameters = function module$contents$eeapiclient$ee_api_client_RankingRuleParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.RankingRule = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"rankByOneThingRule\", null == parameters.rankByOneThingRule ? null : parameters.rankByOneThingRule);\n  this.Serializable$set(\"pseudoRandomTiebreaking\", null == parameters.pseudoRandomTiebreaking ? null : parameters.pseudoRandomTiebreaking);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.RankingRule, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.RankingRule.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.RankingRule;\n};\nmodule$exports$eeapiclient$ee_api_client.RankingRule.prototype.getPartialClassMetadata = function() {\n  return {arrays:{rankByOneThingRule:module$exports$eeapiclient$ee_api_client.RankByOneThingRule}, keys:[\"pseudoRandomTiebreaking\", \"rankByOneThingRule\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.RankingRule.prototype, {pseudoRandomTiebreaking:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pseudoRandomTiebreaking\") ? this.Serializable$get(\"pseudoRandomTiebreaking\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pseudoRandomTiebreaking\", value);\n}}, rankByOneThingRule:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"rankByOneThingRule\") ? this.Serializable$get(\"rankByOneThingRule\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"rankByOneThingRule\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.RuleParameters = function module$contents$eeapiclient$ee_api_client_RuleParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Rule = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"description\", null == parameters.description ? null : parameters.description);\n  this.Serializable$set(\"permissions\", null == parameters.permissions ? null : parameters.permissions);\n  this.Serializable$set(\"action\", null == parameters.action ? null : parameters.action);\n  this.Serializable$set(\"in\", null == parameters.in ? null : parameters.in);\n  this.Serializable$set(\"notIn\", null == parameters.notIn ? null : parameters.notIn);\n  this.Serializable$set(\"conditions\", null == parameters.conditions ? null : parameters.conditions);\n  this.Serializable$set(\"logConfig\", null == parameters.logConfig ? null : parameters.logConfig);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Rule, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Rule.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Rule;\n};\nmodule$exports$eeapiclient$ee_api_client.Rule.prototype.getPartialClassMetadata = function() {\n  return {arrays:{conditions:module$exports$eeapiclient$ee_api_client.Condition, logConfig:module$exports$eeapiclient$ee_api_client.LogConfig}, enums:{action:module$exports$eeapiclient$ee_api_client.RuleActionEnum}, keys:\"action conditions description in logConfig notIn permissions\".split(\" \")};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Rule.prototype, {action:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"action\") ? this.Serializable$get(\"action\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"action\", value);\n}}, conditions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"conditions\") ? this.Serializable$get(\"conditions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"conditions\", value);\n}}, description:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"description\") ? this.Serializable$get(\"description\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"description\", value);\n}}, in:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"in\") ? this.Serializable$get(\"in\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"in\", value);\n}}, logConfig:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"logConfig\") ? this.Serializable$get(\"logConfig\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"logConfig\", value);\n}}, notIn:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"notIn\") ? this.Serializable$get(\"notIn\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"notIn\", value);\n}}, permissions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"permissions\") ? this.Serializable$get(\"permissions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"permissions\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Rule, {Action:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.RuleActionEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.SetIamPolicyRequestParameters = function module$contents$eeapiclient$ee_api_client_SetIamPolicyRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.SetIamPolicyRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"policy\", null == parameters.policy ? null : parameters.policy);\n  this.Serializable$set(\"updateMask\", null == parameters.updateMask ? null : parameters.updateMask);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.SetIamPolicyRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.SetIamPolicyRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.SetIamPolicyRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.SetIamPolicyRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"policy\", \"updateMask\"], objects:{policy:module$exports$eeapiclient$ee_api_client.Policy}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.SetIamPolicyRequest.prototype, {policy:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"policy\") ? this.Serializable$get(\"policy\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"policy\", value);\n}}, updateMask:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"updateMask\") ? this.Serializable$get(\"updateMask\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"updateMask\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.StatusParameters = function module$contents$eeapiclient$ee_api_client_StatusParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Status = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"code\", null == parameters.code ? null : parameters.code);\n  this.Serializable$set(\"message\", null == parameters.message ? null : parameters.message);\n  this.Serializable$set(\"details\", null == parameters.details ? null : parameters.details);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Status, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Status.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Status;\n};\nmodule$exports$eeapiclient$ee_api_client.Status.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"code\", \"details\", \"message\"], objectMaps:{details:{ctor:null, isPropertyArray:!0, isSerializable:!1, isValueArray:!1}}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Status.prototype, {code:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"code\") ? this.Serializable$get(\"code\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"code\", value);\n}}, details:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"details\") ? this.Serializable$get(\"details\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"details\", value);\n}}, message:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"message\") ? this.Serializable$get(\"message\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"message\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TableParameters = function module$contents$eeapiclient$ee_api_client_TableParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Table = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"fileFormat\", null == parameters.fileFormat ? null : parameters.fileFormat);\n  this.Serializable$set(\"selectors\", null == parameters.selectors ? null : parameters.selectors);\n  this.Serializable$set(\"filename\", null == parameters.filename ? null : parameters.filename);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Table, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Table.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Table;\n};\nmodule$exports$eeapiclient$ee_api_client.Table.prototype.getPartialClassMetadata = function() {\n  return {enums:{fileFormat:module$exports$eeapiclient$ee_api_client.TableFileFormatEnum}, keys:[\"expression\", \"fileFormat\", \"filename\", \"name\", \"selectors\"], objects:{expression:module$exports$eeapiclient$ee_api_client.Expression}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Table.prototype, {expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, fileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileFormat\") ? this.Serializable$get(\"fileFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileFormat\", value);\n}}, filename:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"filename\") ? this.Serializable$get(\"filename\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"filename\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, selectors:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"selectors\") ? this.Serializable$get(\"selectors\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"selectors\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Table, {FileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.TableFileFormatEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.TableAssetExportOptionsParameters = function module$contents$eeapiclient$ee_api_client_TableAssetExportOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TableAssetExportOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"earthEngineDestination\", null == parameters.earthEngineDestination ? null : parameters.earthEngineDestination);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TableAssetExportOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TableAssetExportOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TableAssetExportOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.TableAssetExportOptions.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"earthEngineDestination\"], objects:{earthEngineDestination:module$exports$eeapiclient$ee_api_client.EarthEngineDestination}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableAssetExportOptions.prototype, {earthEngineDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"earthEngineDestination\") ? this.Serializable$get(\"earthEngineDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"earthEngineDestination\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TableFileExportOptionsParameters = function module$contents$eeapiclient$ee_api_client_TableFileExportOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TableFileExportOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"driveDestination\", null == parameters.driveDestination ? null : parameters.driveDestination);\n  this.Serializable$set(\"cloudStorageDestination\", null == parameters.cloudStorageDestination ? null : parameters.cloudStorageDestination);\n  this.Serializable$set(\"gcsDestination\", null == parameters.gcsDestination ? null : parameters.gcsDestination);\n  this.Serializable$set(\"fileFormat\", null == parameters.fileFormat ? null : parameters.fileFormat);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TableFileExportOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TableFileExportOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TableFileExportOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.TableFileExportOptions.prototype.getPartialClassMetadata = function() {\n  return {enums:{fileFormat:module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum}, keys:[\"cloudStorageDestination\", \"driveDestination\", \"fileFormat\", \"gcsDestination\"], objects:{cloudStorageDestination:module$exports$eeapiclient$ee_api_client.CloudStorageDestination, driveDestination:module$exports$eeapiclient$ee_api_client.DriveDestination, gcsDestination:module$exports$eeapiclient$ee_api_client.GcsDestination}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableFileExportOptions.prototype, {cloudStorageDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"cloudStorageDestination\") ? this.Serializable$get(\"cloudStorageDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"cloudStorageDestination\", value);\n}}, driveDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"driveDestination\") ? this.Serializable$get(\"driveDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"driveDestination\", value);\n}}, fileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileFormat\") ? this.Serializable$get(\"fileFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileFormat\", value);\n}}, gcsDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"gcsDestination\") ? this.Serializable$get(\"gcsDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"gcsDestination\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableFileExportOptions, {FileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.TableFileExportOptionsFileFormatEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.TableManifestParameters = function module$contents$eeapiclient$ee_api_client_TableManifestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TableManifest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"properties\", null == parameters.properties ? null : parameters.properties);\n  this.Serializable$set(\"uriPrefix\", null == parameters.uriPrefix ? null : parameters.uriPrefix);\n  this.Serializable$set(\"sources\", null == parameters.sources ? null : parameters.sources);\n  this.Serializable$set(\"startTime\", null == parameters.startTime ? null : parameters.startTime);\n  this.Serializable$set(\"endTime\", null == parameters.endTime ? null : parameters.endTime);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TableManifest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TableManifest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TableManifest;\n};\nmodule$exports$eeapiclient$ee_api_client.TableManifest.prototype.getPartialClassMetadata = function() {\n  return {arrays:{sources:module$exports$eeapiclient$ee_api_client.TableSource}, keys:\"endTime name properties sources startTime uriPrefix\".split(\" \"), objectMaps:{properties:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableManifest.prototype, {endTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"endTime\") ? this.Serializable$get(\"endTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"endTime\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, properties:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"properties\") ? this.Serializable$get(\"properties\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"properties\", value);\n}}, sources:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"sources\") ? this.Serializable$get(\"sources\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"sources\", value);\n}}, startTime:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"startTime\") ? this.Serializable$get(\"startTime\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"startTime\", value);\n}}, uriPrefix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"uriPrefix\") ? this.Serializable$get(\"uriPrefix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"uriPrefix\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TableSourceParameters = function module$contents$eeapiclient$ee_api_client_TableSourceParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TableSource = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"uris\", null == parameters.uris ? null : parameters.uris);\n  this.Serializable$set(\"charset\", null == parameters.charset ? null : parameters.charset);\n  this.Serializable$set(\"maxErrorMeters\", null == parameters.maxErrorMeters ? null : parameters.maxErrorMeters);\n  this.Serializable$set(\"maxVertices\", null == parameters.maxVertices ? null : parameters.maxVertices);\n  this.Serializable$set(\"crs\", null == parameters.crs ? null : parameters.crs);\n  this.Serializable$set(\"geodesic\", null == parameters.geodesic ? null : parameters.geodesic);\n  this.Serializable$set(\"primaryGeometryColumn\", null == parameters.primaryGeometryColumn ? null : parameters.primaryGeometryColumn);\n  this.Serializable$set(\"xColumn\", null == parameters.xColumn ? null : parameters.xColumn);\n  this.Serializable$set(\"yColumn\", null == parameters.yColumn ? null : parameters.yColumn);\n  this.Serializable$set(\"dateFormat\", null == parameters.dateFormat ? null : parameters.dateFormat);\n  this.Serializable$set(\"csvDelimiter\", null == parameters.csvDelimiter ? null : parameters.csvDelimiter);\n  this.Serializable$set(\"csvQualifier\", null == parameters.csvQualifier ? null : parameters.csvQualifier);\n  this.Serializable$set(\"csvColumnDataTypeOverrides\", null == parameters.csvColumnDataTypeOverrides ? null : parameters.csvColumnDataTypeOverrides);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TableSource, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TableSource.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TableSource;\n};\nmodule$exports$eeapiclient$ee_api_client.TableSource.prototype.getPartialClassMetadata = function() {\n  return {enums:{csvColumnDataTypeOverrides:module$exports$eeapiclient$ee_api_client.TableSourceCsvColumnDataTypeOverridesEnum}, keys:\"charset crs csvColumnDataTypeOverrides csvDelimiter csvQualifier dateFormat geodesic maxErrorMeters maxVertices primaryGeometryColumn uris xColumn yColumn\".split(\" \"), objectMaps:{csvColumnDataTypeOverrides:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableSource.prototype, {charset:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"charset\") ? this.Serializable$get(\"charset\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"charset\", value);\n}}, crs:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"crs\") ? this.Serializable$get(\"crs\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"crs\", value);\n}}, csvColumnDataTypeOverrides:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"csvColumnDataTypeOverrides\") ? this.Serializable$get(\"csvColumnDataTypeOverrides\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"csvColumnDataTypeOverrides\", value);\n}}, csvDelimiter:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"csvDelimiter\") ? this.Serializable$get(\"csvDelimiter\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"csvDelimiter\", value);\n}}, csvQualifier:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"csvQualifier\") ? this.Serializable$get(\"csvQualifier\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"csvQualifier\", value);\n}}, dateFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dateFormat\") ? this.Serializable$get(\"dateFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dateFormat\", value);\n}}, geodesic:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"geodesic\") ? this.Serializable$get(\"geodesic\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"geodesic\", value);\n}}, maxErrorMeters:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxErrorMeters\") ? this.Serializable$get(\"maxErrorMeters\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxErrorMeters\", value);\n}}, maxVertices:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxVertices\") ? this.Serializable$get(\"maxVertices\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxVertices\", value);\n}}, primaryGeometryColumn:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"primaryGeometryColumn\") ? this.Serializable$get(\"primaryGeometryColumn\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"primaryGeometryColumn\", value);\n}}, uris:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"uris\") ? this.Serializable$get(\"uris\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"uris\", value);\n}}, xColumn:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"xColumn\") ? this.Serializable$get(\"xColumn\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"xColumn\", value);\n}}, yColumn:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"yColumn\") ? this.Serializable$get(\"yColumn\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"yColumn\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TableSource, {CsvColumnDataTypeOverrides:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.TableSourceCsvColumnDataTypeOverridesEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.TestIamPermissionsRequestParameters = function module$contents$eeapiclient$ee_api_client_TestIamPermissionsRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TestIamPermissionsRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"permissions\", null == parameters.permissions ? null : parameters.permissions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TestIamPermissionsRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TestIamPermissionsRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TestIamPermissionsRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.TestIamPermissionsRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"permissions\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TestIamPermissionsRequest.prototype, {permissions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"permissions\") ? this.Serializable$get(\"permissions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"permissions\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TestIamPermissionsResponseParameters = function module$contents$eeapiclient$ee_api_client_TestIamPermissionsResponseParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"permissions\", null == parameters.permissions ? null : parameters.permissions);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse;\n};\nmodule$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"permissions\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse.prototype, {permissions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"permissions\") ? this.Serializable$get(\"permissions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"permissions\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TfRecordImageExportOptionsParameters = function module$contents$eeapiclient$ee_api_client_TfRecordImageExportOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"tileDimensions\", null == parameters.tileDimensions ? null : parameters.tileDimensions);\n  this.Serializable$set(\"marginDimensions\", null == parameters.marginDimensions ? null : parameters.marginDimensions);\n  this.Serializable$set(\"compress\", null == parameters.compress ? null : parameters.compress);\n  this.Serializable$set(\"maxSizeBytes\", null == parameters.maxSizeBytes ? null : parameters.maxSizeBytes);\n  this.Serializable$set(\"defaultValue\", null == parameters.defaultValue ? null : parameters.defaultValue);\n  this.Serializable$set(\"tensorDepths\", null == parameters.tensorDepths ? null : parameters.tensorDepths);\n  this.Serializable$set(\"sequenceData\", null == parameters.sequenceData ? null : parameters.sequenceData);\n  this.Serializable$set(\"collapseBands\", null == parameters.collapseBands ? null : parameters.collapseBands);\n  this.Serializable$set(\"maxMaskedRatio\", null == parameters.maxMaskedRatio ? null : parameters.maxMaskedRatio);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions.prototype.getPartialClassMetadata = function() {\n  return {keys:\"collapseBands compress defaultValue marginDimensions maxMaskedRatio maxSizeBytes sequenceData tensorDepths tileDimensions\".split(\" \"), objectMaps:{tensorDepths:{ctor:null, isPropertyArray:!1, isSerializable:!1, isValueArray:!1}}, objects:{marginDimensions:module$exports$eeapiclient$ee_api_client.GridDimensions, tileDimensions:module$exports$eeapiclient$ee_api_client.GridDimensions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions.prototype, {collapseBands:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"collapseBands\") ? this.Serializable$get(\"collapseBands\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"collapseBands\", value);\n}}, compress:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"compress\") ? this.Serializable$get(\"compress\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"compress\", value);\n}}, defaultValue:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"defaultValue\") ? this.Serializable$get(\"defaultValue\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"defaultValue\", value);\n}}, marginDimensions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"marginDimensions\") ? this.Serializable$get(\"marginDimensions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"marginDimensions\", value);\n}}, maxMaskedRatio:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxMaskedRatio\") ? this.Serializable$get(\"maxMaskedRatio\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxMaskedRatio\", value);\n}}, maxSizeBytes:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxSizeBytes\") ? this.Serializable$get(\"maxSizeBytes\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxSizeBytes\", value);\n}}, sequenceData:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"sequenceData\") ? this.Serializable$get(\"sequenceData\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"sequenceData\", value);\n}}, tensorDepths:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tensorDepths\") ? this.Serializable$get(\"tensorDepths\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tensorDepths\", value);\n}}, tileDimensions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tileDimensions\") ? this.Serializable$get(\"tileDimensions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tileDimensions\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ThinningOptionsParameters = function module$contents$eeapiclient$ee_api_client_ThinningOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ThinningOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"maxFeaturesPerTile\", null == parameters.maxFeaturesPerTile ? null : parameters.maxFeaturesPerTile);\n  this.Serializable$set(\"thinningStrategy\", null == parameters.thinningStrategy ? null : parameters.thinningStrategy);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ThinningOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ThinningOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ThinningOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.ThinningOptions.prototype.getPartialClassMetadata = function() {\n  return {enums:{thinningStrategy:module$exports$eeapiclient$ee_api_client.ThinningOptionsThinningStrategyEnum}, keys:[\"maxFeaturesPerTile\", \"thinningStrategy\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ThinningOptions.prototype, {maxFeaturesPerTile:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxFeaturesPerTile\") ? this.Serializable$get(\"maxFeaturesPerTile\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxFeaturesPerTile\", value);\n}}, thinningStrategy:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"thinningStrategy\") ? this.Serializable$get(\"thinningStrategy\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"thinningStrategy\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ThinningOptions, {ThinningStrategy:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ThinningOptionsThinningStrategyEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.ThumbnailParameters = function module$contents$eeapiclient$ee_api_client_ThumbnailParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Thumbnail = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"fileFormat\", null == parameters.fileFormat ? null : parameters.fileFormat);\n  this.Serializable$set(\"bandIds\", null == parameters.bandIds ? null : parameters.bandIds);\n  this.Serializable$set(\"visualizationOptions\", null == parameters.visualizationOptions ? null : parameters.visualizationOptions);\n  this.Serializable$set(\"grid\", null == parameters.grid ? null : parameters.grid);\n  this.Serializable$set(\"filenamePrefix\", null == parameters.filenamePrefix ? null : parameters.filenamePrefix);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Thumbnail, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Thumbnail.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Thumbnail;\n};\nmodule$exports$eeapiclient$ee_api_client.Thumbnail.prototype.getPartialClassMetadata = function() {\n  return {enums:{fileFormat:module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum}, keys:\"bandIds expression fileFormat filenamePrefix grid name visualizationOptions\".split(\" \"), objects:{expression:module$exports$eeapiclient$ee_api_client.Expression, grid:module$exports$eeapiclient$ee_api_client.PixelGrid, visualizationOptions:module$exports$eeapiclient$ee_api_client.VisualizationOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Thumbnail.prototype, {bandIds:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bandIds\") ? this.Serializable$get(\"bandIds\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bandIds\", value);\n}}, expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, fileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileFormat\") ? this.Serializable$get(\"fileFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileFormat\", value);\n}}, filenamePrefix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"filenamePrefix\") ? this.Serializable$get(\"filenamePrefix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"filenamePrefix\", value);\n}}, grid:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"grid\") ? this.Serializable$get(\"grid\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"grid\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, visualizationOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"visualizationOptions\") ? this.Serializable$get(\"visualizationOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"visualizationOptions\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Thumbnail, {FileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.ThumbnailFileFormatEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.TileOptionsParameters = function module$contents$eeapiclient$ee_api_client_TileOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TileOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"endZoom\", null == parameters.endZoom ? null : parameters.endZoom);\n  this.Serializable$set(\"maxZoom\", null == parameters.maxZoom ? null : parameters.maxZoom);\n  this.Serializable$set(\"scale\", null == parameters.scale ? null : parameters.scale);\n  this.Serializable$set(\"startZoom\", null == parameters.startZoom ? null : parameters.startZoom);\n  this.Serializable$set(\"minZoom\", null == parameters.minZoom ? null : parameters.minZoom);\n  this.Serializable$set(\"skipEmpty\", null == parameters.skipEmpty ? null : parameters.skipEmpty);\n  this.Serializable$set(\"skipEmptyTiles\", null == parameters.skipEmptyTiles ? null : parameters.skipEmptyTiles);\n  this.Serializable$set(\"mapsApiKey\", null == parameters.mapsApiKey ? null : parameters.mapsApiKey);\n  this.Serializable$set(\"dimensions\", null == parameters.dimensions ? null : parameters.dimensions);\n  this.Serializable$set(\"tileDimensions\", null == parameters.tileDimensions ? null : parameters.tileDimensions);\n  this.Serializable$set(\"stride\", null == parameters.stride ? null : parameters.stride);\n  this.Serializable$set(\"zoomSubset\", null == parameters.zoomSubset ? null : parameters.zoomSubset);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TileOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TileOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TileOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.TileOptions.prototype.getPartialClassMetadata = function() {\n  return {keys:\"dimensions endZoom mapsApiKey maxZoom minZoom scale skipEmpty skipEmptyTiles startZoom stride tileDimensions zoomSubset\".split(\" \"), objects:{dimensions:module$exports$eeapiclient$ee_api_client.GridDimensions, tileDimensions:module$exports$eeapiclient$ee_api_client.GridDimensions, zoomSubset:module$exports$eeapiclient$ee_api_client.ZoomSubset}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TileOptions.prototype, {dimensions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dimensions\") ? this.Serializable$get(\"dimensions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dimensions\", value);\n}}, endZoom:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"endZoom\") ? this.Serializable$get(\"endZoom\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"endZoom\", value);\n}}, mapsApiKey:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"mapsApiKey\") ? this.Serializable$get(\"mapsApiKey\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"mapsApiKey\", value);\n}}, maxZoom:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxZoom\") ? this.Serializable$get(\"maxZoom\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxZoom\", value);\n}}, minZoom:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"minZoom\") ? this.Serializable$get(\"minZoom\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"minZoom\", value);\n}}, scale:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"scale\") ? this.Serializable$get(\"scale\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"scale\", value);\n}}, skipEmpty:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"skipEmpty\") ? this.Serializable$get(\"skipEmpty\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"skipEmpty\", value);\n}}, skipEmptyTiles:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"skipEmptyTiles\") ? this.Serializable$get(\"skipEmptyTiles\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"skipEmptyTiles\", value);\n}}, startZoom:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"startZoom\") ? this.Serializable$get(\"startZoom\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"startZoom\", value);\n}}, stride:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"stride\") ? this.Serializable$get(\"stride\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"stride\", value);\n}}, tileDimensions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tileDimensions\") ? this.Serializable$get(\"tileDimensions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tileDimensions\", value);\n}}, zoomSubset:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"zoomSubset\") ? this.Serializable$get(\"zoomSubset\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"zoomSubset\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TilesetParameters = function module$contents$eeapiclient$ee_api_client_TilesetParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.Tileset = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"id\", null == parameters.id ? null : parameters.id);\n  this.Serializable$set(\"sources\", null == parameters.sources ? null : parameters.sources);\n  this.Serializable$set(\"dataType\", null == parameters.dataType ? null : parameters.dataType);\n  this.Serializable$set(\"crs\", null == parameters.crs ? null : parameters.crs);\n  this.Serializable$set(\"subdatasetPrefix\", null == parameters.subdatasetPrefix ? null : parameters.subdatasetPrefix);\n  this.Serializable$set(\"subdatasetSuffix\", null == parameters.subdatasetSuffix ? null : parameters.subdatasetSuffix);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.Tileset, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.Tileset.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.Tileset;\n};\nmodule$exports$eeapiclient$ee_api_client.Tileset.prototype.getPartialClassMetadata = function() {\n  return {arrays:{sources:module$exports$eeapiclient$ee_api_client.ImageSource}, enums:{dataType:module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum}, keys:\"crs dataType id sources subdatasetPrefix subdatasetSuffix\".split(\" \")};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Tileset.prototype, {crs:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"crs\") ? this.Serializable$get(\"crs\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"crs\", value);\n}}, dataType:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dataType\") ? this.Serializable$get(\"dataType\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dataType\", value);\n}}, id:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"id\") ? this.Serializable$get(\"id\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"id\", value);\n}}, sources:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"sources\") ? this.Serializable$get(\"sources\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"sources\", value);\n}}, subdatasetPrefix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"subdatasetPrefix\") ? this.Serializable$get(\"subdatasetPrefix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"subdatasetPrefix\", value);\n}}, subdatasetSuffix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"subdatasetSuffix\") ? this.Serializable$get(\"subdatasetSuffix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"subdatasetSuffix\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.Tileset, {DataType:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.TilesetDataTypeEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.TilesetBandParameters = function module$contents$eeapiclient$ee_api_client_TilesetBandParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TilesetBand = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"id\", null == parameters.id ? null : parameters.id);\n  this.Serializable$set(\"tilesetId\", null == parameters.tilesetId ? null : parameters.tilesetId);\n  this.Serializable$set(\"tilesetBandIndex\", null == parameters.tilesetBandIndex ? null : parameters.tilesetBandIndex);\n  this.Serializable$set(\"missingData\", null == parameters.missingData ? null : parameters.missingData);\n  this.Serializable$set(\"pyramidingPolicy\", null == parameters.pyramidingPolicy ? null : parameters.pyramidingPolicy);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TilesetBand, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TilesetBand.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TilesetBand;\n};\nmodule$exports$eeapiclient$ee_api_client.TilesetBand.prototype.getPartialClassMetadata = function() {\n  return {enums:{pyramidingPolicy:module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum}, keys:[\"id\", \"missingData\", \"pyramidingPolicy\", \"tilesetBandIndex\", \"tilesetId\"], objects:{missingData:module$exports$eeapiclient$ee_api_client.MissingData}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilesetBand.prototype, {id:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"id\") ? this.Serializable$get(\"id\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"id\", value);\n}}, missingData:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"missingData\") ? this.Serializable$get(\"missingData\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"missingData\", value);\n}}, pyramidingPolicy:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pyramidingPolicy\") ? this.Serializable$get(\"pyramidingPolicy\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pyramidingPolicy\", value);\n}}, tilesetBandIndex:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tilesetBandIndex\") ? this.Serializable$get(\"tilesetBandIndex\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tilesetBandIndex\", value);\n}}, tilesetId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tilesetId\") ? this.Serializable$get(\"tilesetId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tilesetId\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilesetBand, {PyramidingPolicy:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.TilesetBandPyramidingPolicyEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.TilesetMaskBandParameters = function module$contents$eeapiclient$ee_api_client_TilesetMaskBandParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TilesetMaskBand = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"tilesetId\", null == parameters.tilesetId ? null : parameters.tilesetId);\n  this.Serializable$set(\"bandIds\", null == parameters.bandIds ? null : parameters.bandIds);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TilesetMaskBand, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TilesetMaskBand.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TilesetMaskBand;\n};\nmodule$exports$eeapiclient$ee_api_client.TilesetMaskBand.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"bandIds\", \"tilesetId\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilesetMaskBand.prototype, {bandIds:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bandIds\") ? this.Serializable$get(\"bandIds\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bandIds\", value);\n}}, tilesetId:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tilesetId\") ? this.Serializable$get(\"tilesetId\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tilesetId\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TilestoreEntryParameters = function module$contents$eeapiclient$ee_api_client_TilestoreEntryParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TilestoreEntry = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"sources\", null == parameters.sources ? null : parameters.sources);\n  this.Serializable$set(\"pathPrefix\", null == parameters.pathPrefix ? null : parameters.pathPrefix);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TilestoreEntry, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TilestoreEntry.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TilestoreEntry;\n};\nmodule$exports$eeapiclient$ee_api_client.TilestoreEntry.prototype.getPartialClassMetadata = function() {\n  return {arrays:{sources:module$exports$eeapiclient$ee_api_client.TilestoreSource}, keys:[\"pathPrefix\", \"sources\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilestoreEntry.prototype, {pathPrefix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pathPrefix\") ? this.Serializable$get(\"pathPrefix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pathPrefix\", value);\n}}, sources:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"sources\") ? this.Serializable$get(\"sources\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"sources\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TilestoreLocationParameters = function module$contents$eeapiclient$ee_api_client_TilestoreLocationParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TilestoreLocation = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"sources\", null == parameters.sources ? null : parameters.sources);\n  this.Serializable$set(\"pathPrefix\", null == parameters.pathPrefix ? null : parameters.pathPrefix);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TilestoreLocation, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TilestoreLocation.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TilestoreLocation;\n};\nmodule$exports$eeapiclient$ee_api_client.TilestoreLocation.prototype.getPartialClassMetadata = function() {\n  return {arrays:{sources:module$exports$eeapiclient$ee_api_client.TilestoreSource}, keys:[\"pathPrefix\", \"sources\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilestoreLocation.prototype, {pathPrefix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pathPrefix\") ? this.Serializable$get(\"pathPrefix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pathPrefix\", value);\n}}, sources:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"sources\") ? this.Serializable$get(\"sources\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"sources\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TilestoreSourceParameters = function module$contents$eeapiclient$ee_api_client_TilestoreSourceParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TilestoreSource = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"pathSuffix\", null == parameters.pathSuffix ? null : parameters.pathSuffix);\n  this.Serializable$set(\"headerSizeBytes\", null == parameters.headerSizeBytes ? null : parameters.headerSizeBytes);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TilestoreSource, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TilestoreSource.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TilestoreSource;\n};\nmodule$exports$eeapiclient$ee_api_client.TilestoreSource.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"headerSizeBytes\", \"pathSuffix\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilestoreSource.prototype, {headerSizeBytes:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"headerSizeBytes\") ? this.Serializable$get(\"headerSizeBytes\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"headerSizeBytes\", value);\n}}, pathSuffix:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"pathSuffix\") ? this.Serializable$get(\"pathSuffix\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"pathSuffix\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.TilestoreTilesetParameters = function module$contents$eeapiclient$ee_api_client_TilestoreTilesetParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.TilestoreTileset = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"fileIndexes\", null == parameters.fileIndexes ? null : parameters.fileIndexes);\n  this.Serializable$set(\"firstTileIndex\", null == parameters.firstTileIndex ? null : parameters.firstTileIndex);\n  this.Serializable$set(\"tilesPerFile\", null == parameters.tilesPerFile ? null : parameters.tilesPerFile);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.TilestoreTileset, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.TilestoreTileset.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.TilestoreTileset;\n};\nmodule$exports$eeapiclient$ee_api_client.TilestoreTileset.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"fileIndexes\", \"firstTileIndex\", \"tilesPerFile\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.TilestoreTileset.prototype, {fileIndexes:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileIndexes\") ? this.Serializable$get(\"fileIndexes\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileIndexes\", value);\n}}, firstTileIndex:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"firstTileIndex\") ? this.Serializable$get(\"firstTileIndex\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"firstTileIndex\", value);\n}}, tilesPerFile:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"tilesPerFile\") ? this.Serializable$get(\"tilesPerFile\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"tilesPerFile\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.UpdateAssetRequestParameters = function module$contents$eeapiclient$ee_api_client_UpdateAssetRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.UpdateAssetRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"asset\", null == parameters.asset ? null : parameters.asset);\n  this.Serializable$set(\"updateMask\", null == parameters.updateMask ? null : parameters.updateMask);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.UpdateAssetRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.UpdateAssetRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.UpdateAssetRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.UpdateAssetRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"asset\", \"updateMask\"], objects:{asset:module$exports$eeapiclient$ee_api_client.EarthEngineAsset}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.UpdateAssetRequest.prototype, {asset:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"asset\") ? this.Serializable$get(\"asset\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"asset\", value);\n}}, updateMask:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"updateMask\") ? this.Serializable$get(\"updateMask\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"updateMask\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ValueNodeParameters = function module$contents$eeapiclient$ee_api_client_ValueNodeParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ValueNode = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"constantValue\", null == parameters.constantValue ? null : parameters.constantValue);\n  this.Serializable$set(\"integerValue\", null == parameters.integerValue ? null : parameters.integerValue);\n  this.Serializable$set(\"bytesValue\", null == parameters.bytesValue ? null : parameters.bytesValue);\n  this.Serializable$set(\"arrayValue\", null == parameters.arrayValue ? null : parameters.arrayValue);\n  this.Serializable$set(\"dictionaryValue\", null == parameters.dictionaryValue ? null : parameters.dictionaryValue);\n  this.Serializable$set(\"functionDefinitionValue\", null == parameters.functionDefinitionValue ? null : parameters.functionDefinitionValue);\n  this.Serializable$set(\"functionInvocationValue\", null == parameters.functionInvocationValue ? null : parameters.functionInvocationValue);\n  this.Serializable$set(\"argumentReference\", null == parameters.argumentReference ? null : parameters.argumentReference);\n  this.Serializable$set(\"valueReference\", null == parameters.valueReference ? null : parameters.valueReference);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ValueNode, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ValueNode.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ValueNode;\n};\nmodule$exports$eeapiclient$ee_api_client.ValueNode.prototype.getPartialClassMetadata = function() {\n  return {keys:\"argumentReference arrayValue bytesValue constantValue dictionaryValue functionDefinitionValue functionInvocationValue integerValue valueReference\".split(\" \"), objects:{arrayValue:module$exports$eeapiclient$ee_api_client.ArrayValue, dictionaryValue:module$exports$eeapiclient$ee_api_client.DictionaryValue, functionDefinitionValue:module$exports$eeapiclient$ee_api_client.FunctionDefinition, \n  functionInvocationValue:module$exports$eeapiclient$ee_api_client.FunctionInvocation}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ValueNode.prototype, {argumentReference:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"argumentReference\") ? this.Serializable$get(\"argumentReference\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"argumentReference\", value);\n}}, arrayValue:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"arrayValue\") ? this.Serializable$get(\"arrayValue\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"arrayValue\", value);\n}}, bytesValue:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"bytesValue\") ? this.Serializable$get(\"bytesValue\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"bytesValue\", value);\n}}, constantValue:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"constantValue\") ? this.Serializable$get(\"constantValue\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"constantValue\", value);\n}}, dictionaryValue:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"dictionaryValue\") ? this.Serializable$get(\"dictionaryValue\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"dictionaryValue\", value);\n}}, functionDefinitionValue:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"functionDefinitionValue\") ? this.Serializable$get(\"functionDefinitionValue\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"functionDefinitionValue\", value);\n}}, functionInvocationValue:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"functionInvocationValue\") ? this.Serializable$get(\"functionInvocationValue\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"functionInvocationValue\", value);\n}}, integerValue:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"integerValue\") ? this.Serializable$get(\"integerValue\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"integerValue\", value);\n}}, valueReference:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"valueReference\") ? this.Serializable$get(\"valueReference\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"valueReference\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.VideoFileExportOptionsParameters = function module$contents$eeapiclient$ee_api_client_VideoFileExportOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.VideoFileExportOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"driveDestination\", null == parameters.driveDestination ? null : parameters.driveDestination);\n  this.Serializable$set(\"cloudStorageDestination\", null == parameters.cloudStorageDestination ? null : parameters.cloudStorageDestination);\n  this.Serializable$set(\"gcsDestination\", null == parameters.gcsDestination ? null : parameters.gcsDestination);\n  this.Serializable$set(\"fileFormat\", null == parameters.fileFormat ? null : parameters.fileFormat);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.VideoFileExportOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.VideoFileExportOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.VideoFileExportOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.VideoFileExportOptions.prototype.getPartialClassMetadata = function() {\n  return {enums:{fileFormat:module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum}, keys:[\"cloudStorageDestination\", \"driveDestination\", \"fileFormat\", \"gcsDestination\"], objects:{cloudStorageDestination:module$exports$eeapiclient$ee_api_client.CloudStorageDestination, driveDestination:module$exports$eeapiclient$ee_api_client.DriveDestination, gcsDestination:module$exports$eeapiclient$ee_api_client.GcsDestination}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.VideoFileExportOptions.prototype, {cloudStorageDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"cloudStorageDestination\") ? this.Serializable$get(\"cloudStorageDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"cloudStorageDestination\", value);\n}}, driveDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"driveDestination\") ? this.Serializable$get(\"driveDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"driveDestination\", value);\n}}, fileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileFormat\") ? this.Serializable$get(\"fileFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileFormat\", value);\n}}, gcsDestination:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"gcsDestination\") ? this.Serializable$get(\"gcsDestination\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"gcsDestination\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.VideoFileExportOptions, {FileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.VideoFileExportOptionsFileFormatEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.VideoOptionsParameters = function module$contents$eeapiclient$ee_api_client_VideoOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.VideoOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"framesPerSecond\", null == parameters.framesPerSecond ? null : parameters.framesPerSecond);\n  this.Serializable$set(\"maxFrames\", null == parameters.maxFrames ? null : parameters.maxFrames);\n  this.Serializable$set(\"maxPixelsPerFrame\", null == parameters.maxPixelsPerFrame ? null : parameters.maxPixelsPerFrame);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.VideoOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.VideoOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.VideoOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.VideoOptions.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"framesPerSecond\", \"maxFrames\", \"maxPixelsPerFrame\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.VideoOptions.prototype, {framesPerSecond:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"framesPerSecond\") ? this.Serializable$get(\"framesPerSecond\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"framesPerSecond\", value);\n}}, maxFrames:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxFrames\") ? this.Serializable$get(\"maxFrames\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxFrames\", value);\n}}, maxPixelsPerFrame:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"maxPixelsPerFrame\") ? this.Serializable$get(\"maxPixelsPerFrame\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"maxPixelsPerFrame\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.VideoThumbnailParameters = function module$contents$eeapiclient$ee_api_client_VideoThumbnailParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.VideoThumbnail = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"name\", null == parameters.name ? null : parameters.name);\n  this.Serializable$set(\"expression\", null == parameters.expression ? null : parameters.expression);\n  this.Serializable$set(\"videoOptions\", null == parameters.videoOptions ? null : parameters.videoOptions);\n  this.Serializable$set(\"fileFormat\", null == parameters.fileFormat ? null : parameters.fileFormat);\n  this.Serializable$set(\"grid\", null == parameters.grid ? null : parameters.grid);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.VideoThumbnail, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.VideoThumbnail.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.VideoThumbnail;\n};\nmodule$exports$eeapiclient$ee_api_client.VideoThumbnail.prototype.getPartialClassMetadata = function() {\n  return {enums:{fileFormat:module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum}, keys:[\"expression\", \"fileFormat\", \"grid\", \"name\", \"videoOptions\"], objects:{expression:module$exports$eeapiclient$ee_api_client.Expression, grid:module$exports$eeapiclient$ee_api_client.PixelGrid, videoOptions:module$exports$eeapiclient$ee_api_client.VideoOptions}};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.VideoThumbnail.prototype, {expression:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"expression\") ? this.Serializable$get(\"expression\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"expression\", value);\n}}, fileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"fileFormat\") ? this.Serializable$get(\"fileFormat\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"fileFormat\", value);\n}}, grid:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"grid\") ? this.Serializable$get(\"grid\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"grid\", value);\n}}, name:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"name\") ? this.Serializable$get(\"name\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"name\", value);\n}}, videoOptions:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"videoOptions\") ? this.Serializable$get(\"videoOptions\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"videoOptions\", value);\n}}});\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.VideoThumbnail, {FileFormat:{configurable:!0, enumerable:!0, get:function() {\n  return module$exports$eeapiclient$ee_api_client.VideoThumbnailFileFormatEnum;\n}}});\nmodule$exports$eeapiclient$ee_api_client.VisualizationOptionsParameters = function module$contents$eeapiclient$ee_api_client_VisualizationOptionsParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.VisualizationOptions = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"ranges\", null == parameters.ranges ? null : parameters.ranges);\n  this.Serializable$set(\"paletteColors\", null == parameters.paletteColors ? null : parameters.paletteColors);\n  this.Serializable$set(\"gamma\", null == parameters.gamma ? null : parameters.gamma);\n  this.Serializable$set(\"opacity\", null == parameters.opacity ? null : parameters.opacity);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.VisualizationOptions, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.VisualizationOptions.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.VisualizationOptions;\n};\nmodule$exports$eeapiclient$ee_api_client.VisualizationOptions.prototype.getPartialClassMetadata = function() {\n  return {arrays:{ranges:module$exports$eeapiclient$ee_api_client.DoubleRange}, keys:[\"gamma\", \"opacity\", \"paletteColors\", \"ranges\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.VisualizationOptions.prototype, {gamma:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"gamma\") ? this.Serializable$get(\"gamma\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"gamma\", value);\n}}, opacity:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"opacity\") ? this.Serializable$get(\"opacity\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"opacity\", value);\n}}, paletteColors:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"paletteColors\") ? this.Serializable$get(\"paletteColors\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"paletteColors\", value);\n}}, ranges:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"ranges\") ? this.Serializable$get(\"ranges\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"ranges\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.WaitOperationRequestParameters = function module$contents$eeapiclient$ee_api_client_WaitOperationRequestParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.WaitOperationRequest = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"timeout\", null == parameters.timeout ? null : parameters.timeout);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.WaitOperationRequest, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.WaitOperationRequest.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.WaitOperationRequest;\n};\nmodule$exports$eeapiclient$ee_api_client.WaitOperationRequest.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"timeout\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.WaitOperationRequest.prototype, {timeout:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"timeout\") ? this.Serializable$get(\"timeout\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"timeout\", value);\n}}});\nmodule$exports$eeapiclient$ee_api_client.ZoomSubsetParameters = function module$contents$eeapiclient$ee_api_client_ZoomSubsetParameters() {\n};\nmodule$exports$eeapiclient$ee_api_client.ZoomSubset = function(parameters) {\n  parameters = void 0 === parameters ? {} : parameters;\n  module$exports$eeapiclient$domain_object.Serializable.call(this);\n  this.Serializable$set(\"start\", null == parameters.start ? null : parameters.start);\n  this.Serializable$set(\"end\", null == parameters.end ? null : parameters.end);\n  this.Serializable$set(\"min\", null == parameters.min ? null : parameters.min);\n  this.Serializable$set(\"max\", null == parameters.max ? null : parameters.max);\n};\n$jscomp.inherits(module$exports$eeapiclient$ee_api_client.ZoomSubset, module$exports$eeapiclient$domain_object.Serializable);\nmodule$exports$eeapiclient$ee_api_client.ZoomSubset.prototype.getConstructor = function() {\n  return module$exports$eeapiclient$ee_api_client.ZoomSubset;\n};\nmodule$exports$eeapiclient$ee_api_client.ZoomSubset.prototype.getPartialClassMetadata = function() {\n  return {keys:[\"end\", \"max\", \"min\", \"start\"]};\n};\n$jscomp.global.Object.defineProperties(module$exports$eeapiclient$ee_api_client.ZoomSubset.prototype, {end:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"end\") ? this.Serializable$get(\"end\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"end\", value);\n}}, max:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"max\") ? this.Serializable$get(\"max\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"max\", value);\n}}, min:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"min\") ? this.Serializable$get(\"min\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"min\", value);\n}}, start:{configurable:!0, enumerable:!0, get:function() {\n  return this.Serializable$has(\"start\") ? this.Serializable$get(\"start\") : null;\n}, set:function(value) {\n  this.Serializable$set(\"start\", value);\n}}});\nvar module$contents$eeapiclient$ee_api_client_PARAM_MAP_0 = {$Xgafv:\"$.xgafv\", access_token:\"access_token\", alt:\"alt\", assetId:\"assetId\", callback:\"callback\", endTime:\"endTime\", fields:\"fields\", filter:\"filter\", key:\"key\", oauth_token:\"oauth_token\", overwrite:\"overwrite\", pageSize:\"pageSize\", pageToken:\"pageToken\", prettyPrint:\"prettyPrint\", quotaUser:\"quotaUser\", region:\"region\", startTime:\"startTime\", uploadType:\"uploadType\", upload_protocol:\"upload_protocol\", \nview:\"view\"};\nmodule$exports$eeapiclient$ee_api_client.IProjectsAlgorithmsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsAlgorithmsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsAlgorithmsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsAlgorithmsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientImpl.prototype.list = function(parent, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.algorithms.list\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/algorithms\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.ListAlgorithmsResponse});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsApiClientViewEnum = function module$contents$eeapiclient$ee_api_client_IProjectsApiClientViewEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsApiClientViewEnum = {BASIC:\"BASIC\", EARTH_ENGINE_ASSET_VIEW_UNSPECIFIED:\"EARTH_ENGINE_ASSET_VIEW_UNSPECIFIED\", FULL:\"FULL\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsApiClientViewEnum.EARTH_ENGINE_ASSET_VIEW_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ProjectsApiClientViewEnum.FULL, module$exports$eeapiclient$ee_api_client.ProjectsApiClientViewEnum.BASIC];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsApiClientImpl.prototype.getCapabilities = function(parent, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.getCapabilities\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/capabilities\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Capabilities});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsApiClientImpl.prototype.listAssets = function(parent, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.listAssets\", path:\"/\" + this.gapiVersion + \"/\" + parent + \":listAssets\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.ListAssetsResponse});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsAssetsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsAssetsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsAssetsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsAssetsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsAssetsApiClientViewEnum = function module$contents$eeapiclient$ee_api_client_IProjectsAssetsApiClientViewEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientViewEnum = {BASIC:\"BASIC\", EARTH_ENGINE_ASSET_VIEW_UNSPECIFIED:\"EARTH_ENGINE_ASSET_VIEW_UNSPECIFIED\", FULL:\"FULL\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientViewEnum.EARTH_ENGINE_ASSET_VIEW_UNSPECIFIED, module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientViewEnum.FULL, module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientViewEnum.BASIC];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.copy = function(sourceName, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(sourceName, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.assets.copy\", path:\"/\" + this.gapiVersion + \"/\" + sourceName + \":copy\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.assets.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/assets\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.delete = function(name, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"DELETE\", methodId:\"earthengine.projects.assets.delete\", path:\"/\" + this.gapiVersion + \"/\" + name, queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Empty});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.get = function(name, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.assets.get\", path:\"/\" + this.gapiVersion + \"/\" + name, queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.getIamPolicy = function(resource, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(resource, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.assets.getIamPolicy\", path:\"/\" + this.gapiVersion + \"/\" + resource + \":getIamPolicy\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Policy});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.getLinked = function(name, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.assets.getLinked\", path:\"/\" + this.gapiVersion + \"/\" + name + \":getLinked\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.getPixels = function(name, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.assets.getPixels\", path:\"/\" + this.gapiVersion + \"/\" + name + \":getPixels\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.link = function(sourceName, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(sourceName, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.assets.link\", path:\"/\" + this.gapiVersion + \"/\" + sourceName + \":link\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.listAssets = function(parent, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.assets.listAssets\", path:\"/\" + this.gapiVersion + \"/\" + parent + \":listAssets\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.ListAssetsResponse});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.listFeatures = function(asset, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(asset, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.assets.listFeatures\", path:\"/\" + this.gapiVersion + \"/\" + asset + \":listFeatures\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.ListFeaturesResponse});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.listImages = function(parent, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.assets.listImages\", path:\"/\" + this.gapiVersion + \"/\" + parent + \":listImages\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.ListImagesResponse});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.move = function(sourceName, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(sourceName, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.assets.move\", path:\"/\" + this.gapiVersion + \"/\" + sourceName + \":move\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.patch = function(name, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"PATCH\", methodId:\"earthengine.projects.assets.patch\", path:\"/\" + this.gapiVersion + \"/\" + name, queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.setIamPolicy = function(resource, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(resource, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.assets.setIamPolicy\", path:\"/\" + this.gapiVersion + \"/\" + resource + \":setIamPolicy\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Policy});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl.prototype.testIamPermissions = function(resource, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(resource, RegExp(\"^projects/[^/]+/assets/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.assets.testIamPermissions\", path:\"/\" + this.gapiVersion + \"/\" + resource + \":testIamPermissions\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.TestIamPermissionsResponse});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsClassifierApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsClassifierApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsClassifierApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsClassifierApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientImpl.prototype.export = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.classifier.export\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/classifier:export\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Operation});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsDmsMapsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsDmsMapsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsDmsMapsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsDmsMapsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.dmsMaps.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/dmsMaps\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.DMSMap});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsFeatureViewApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsFeatureViewApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsFeatureViewApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsFeatureViewApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.featureView.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/featureView\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.FeatureView});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFeatureViewApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsFilmstripThumbnailsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsFilmstripThumbnailsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsFilmstripThumbnailsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsFilmstripThumbnailsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.filmstripThumbnails.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/filmstripThumbnails\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.FilmstripThumbnail});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientImpl.prototype.getPixels = function(name, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/filmstripThumbnails/[^/]+$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.filmstripThumbnails.getPixels\", path:\"/\" + this.gapiVersion + \"/\" + name + \":getPixels\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsImageApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsImageApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsImageApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsImageApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsImageApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsImageApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsImageApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsImageApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsImageApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageApiClientImpl.prototype.computePixels = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.image.computePixels\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/image:computePixels\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageApiClientImpl.prototype.export = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.image.export\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/image:export\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Operation});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageApiClientImpl.prototype.import = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.image.import\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/image:import\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Operation});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsImageCollectionApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsImageCollectionApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsImageCollectionApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsImageCollectionApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClientImpl.prototype.computeImages = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.imageCollection.computeImages\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/imageCollection:computeImages\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.ComputeImagesResponse});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsImageCollectionApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsAssetsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsAssetsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsAssetsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsAssetsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+/locations/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.locations.assets.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/assets\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineAsset});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsAssetsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsFilmstripThumbnailsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsFilmstripThumbnailsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsFilmstripThumbnailsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsFilmstripThumbnailsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+/locations/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.locations.filmstripThumbnails.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/filmstripThumbnails\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.FilmstripThumbnail});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsFilmstripThumbnailsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsMapsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsMapsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsMapsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsMapsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+/locations/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.locations.maps.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/maps\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineMap});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsMapsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsTablesApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsTablesApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsTablesApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsTablesApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+/locations/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.locations.tables.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/tables\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Table});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsTablesApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsThumbnailsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsThumbnailsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsThumbnailsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsThumbnailsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+/locations/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.locations.thumbnails.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/thumbnails\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Thumbnail});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsThumbnailsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsVideoThumbnailsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsVideoThumbnailsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsLocationsVideoThumbnailsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsLocationsVideoThumbnailsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+/locations/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.locations.videoThumbnails.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/videoThumbnails\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.VideoThumbnail});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsLocationsVideoThumbnailsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsMapApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsMapApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsMapApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsMapApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsMapApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsMapApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsMapApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsMapApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsMapApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapApiClientImpl.prototype.export = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.map.export\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/map:export\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Operation});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsMapsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsMapsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsMapsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsMapsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.maps.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/maps\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.EarthEngineMap});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsMapsTilesApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsMapsTilesApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsMapsTilesApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsMapsTilesApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClientImpl.prototype.get = function(parent, zoom, x, y, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+/maps/[^/]+$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.maps.tiles.get\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/tiles/\" + zoom + \"/\" + x + \"/\" + y, queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsMapsTilesApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsOperationsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsOperationsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsOperationsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsOperationsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl.prototype.cancel = function(name, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/operations/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.operations.cancel\", path:\"/\" + this.gapiVersion + \"/\" + name + \":cancel\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Empty});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl.prototype.delete = function(name, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/operations/.*$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"DELETE\", methodId:\"earthengine.projects.operations.delete\", path:\"/\" + this.gapiVersion + \"/\" + name, queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Empty});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl.prototype.get = function(name, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/operations/.*$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.operations.get\", path:\"/\" + this.gapiVersion + \"/\" + name, queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Operation});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl.prototype.list = function(name, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.operations.list\", path:\"/\" + this.gapiVersion + \"/\" + name + \"/operations\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.ListOperationsResponse});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl.prototype.wait = function(name, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/operations/.*$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.operations.wait\", path:\"/\" + this.gapiVersion + \"/\" + name + \":wait\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Operation});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsTableApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsTableApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTableApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsTableApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsTableApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsTableApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsTableApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTableApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsTableApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsTableApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsTableApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTableApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTableApiClientImpl.prototype.computeFeatures = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.table.computeFeatures\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/table:computeFeatures\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.ComputeFeaturesResponse});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTableApiClientImpl.prototype.export = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.table.export\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/table:export\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Operation});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTableApiClientImpl.prototype.import = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.table.import\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/table:import\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Operation});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTableApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsTablesApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsTablesApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTablesApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsTablesApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsTablesApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.tables.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/tables\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Table});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientImpl.prototype.getFeatures = function(name, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/tables/[^/]+$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.tables.getFeatures\", path:\"/\" + this.gapiVersion + \"/\" + name + \":getFeatures\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsTablesApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsThumbnailsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsThumbnailsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsThumbnailsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsThumbnailsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.thumbnails.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/thumbnails\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Thumbnail});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientImpl.prototype.getPixels = function(name, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/thumbnails/[^/]+$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.thumbnails.getPixels\", path:\"/\" + this.gapiVersion + \"/\" + name + \":getPixels\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsValueApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsValueApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsValueApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsValueApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsValueApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsValueApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsValueApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsValueApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsValueApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsValueApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsValueApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsValueApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsValueApiClientImpl.prototype.compute = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.value.compute\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/value:compute\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.ComputeValueResponse});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsValueApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsVideoApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsVideoApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsVideoApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsVideoApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientImpl.prototype.export = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.video.export\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/video:export\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Operation});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsVideoMapApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsVideoMapApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsVideoMapApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsVideoMapApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientImpl.prototype.export = function(project, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(project, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.videoMap.export\", path:\"/\" + this.gapiVersion + \"/\" + project + \"/videoMap:export\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.Operation});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClient = function() {\n};\nmodule$exports$eeapiclient$ee_api_client.IProjectsVideoThumbnailsApiClient$XgafvEnum = function module$contents$eeapiclient$ee_api_client_IProjectsVideoThumbnailsApiClient$XgafvEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClient$XgafvEnum = {1:\"1\", 2:\"2\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClient$XgafvEnum[1], module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClient$XgafvEnum[2]];\n}};\nmodule$exports$eeapiclient$ee_api_client.IProjectsVideoThumbnailsApiClientAltEnum = function module$contents$eeapiclient$ee_api_client_IProjectsVideoThumbnailsApiClientAltEnum() {\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientAltEnum = {JSON:\"json\", MEDIA:\"media\", PROTO:\"proto\", values:function() {\n  return [module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientAltEnum.JSON, module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientAltEnum.MEDIA, module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientAltEnum.PROTO];\n}};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientImpl = function(gapiVersion, gapiRequestService, apiClientHookFactory) {\n  this.gapiVersion = gapiVersion;\n  this.$apiClient = new module$exports$eeapiclient$promise_api_client.PromiseApiClient(gapiRequestService, void 0 === apiClientHookFactory ? null : apiClientHookFactory);\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientImpl.prototype.create = function(parent, $requestBody, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(parent, RegExp(\"^projects/[^/]+$\"));\n  return this.$apiClient.$request({body:$requestBody, httpMethod:\"POST\", methodId:\"earthengine.projects.videoThumbnails.create\", path:\"/\" + this.gapiVersion + \"/\" + parent + \"/videoThumbnails\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.VideoThumbnail});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientImpl.prototype.getPixels = function(name, namedParameters, passthroughNamedParameters) {\n  namedParameters = void 0 === namedParameters ? {} : namedParameters;\n  passthroughNamedParameters = void 0 === passthroughNamedParameters ? {} : passthroughNamedParameters;\n  this.$apiClient.$validateParameter(name, RegExp(\"^projects/[^/]+/videoThumbnails/[^/]+$\"));\n  return this.$apiClient.$request({body:null, httpMethod:\"GET\", methodId:\"earthengine.projects.videoThumbnails.getPixels\", path:\"/\" + this.gapiVersion + \"/\" + name + \":getPixels\", queryParams:module$contents$eeapiclient$request_params_buildQueryParams(namedParameters, module$contents$eeapiclient$ee_api_client_PARAM_MAP_0, passthroughNamedParameters), responseCtor:module$exports$eeapiclient$ee_api_client.HttpBody});\n};\nmodule$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClient = function() {\n};\nee.api = module$exports$eeapiclient$ee_api_client;\nvar module$exports$ee$apiVersion = {V1ALPHA:\"v1alpha\"};\nmodule$exports$ee$apiVersion.VERSION = module$exports$ee$apiVersion.V1ALPHA;\nvar module$exports$eeapiclient$promise_request_service = {}, module$contents$eeapiclient$promise_request_service_module = module$contents$eeapiclient$promise_request_service_module || {id:\"javascript/typescript/contrib/apiclient/request_service/promise_request_service.closure.js\"};\nmodule$exports$eeapiclient$promise_request_service.PromiseRequestService = function() {\n};\nmodule$exports$eeapiclient$promise_request_service.PromiseRequestService.prototype.send = function(params, responseCtor) {\n  module$contents$eeapiclient$request_params_processParams(params);\n  return this.makeRequest(params).then(function(response) {\n    return responseCtor ? module$contents$eeapiclient$domain_object_deserialize(responseCtor, response) : response;\n  });\n};\ngoog.async = {};\ngoog.async.FreeList = function(create, reset, limit) {\n  this.limit_ = limit;\n  this.create_ = create;\n  this.reset_ = reset;\n  this.occupants_ = 0;\n  this.head_ = null;\n};\ngoog.async.FreeList.prototype.get = function() {\n  if (0 < this.occupants_) {\n    this.occupants_--;\n    var item = this.head_;\n    this.head_ = item.next;\n    item.next = null;\n  } else {\n    item = this.create_();\n  }\n  return item;\n};\ngoog.async.FreeList.prototype.put = function(item) {\n  this.reset_(item);\n  this.occupants_ < this.limit_ && (this.occupants_++, item.next = this.head_, this.head_ = item);\n};\ngoog.async.FreeList.prototype.occupants = function() {\n  return this.occupants_;\n};\ngoog.dom.BrowserFeature = {};\ngoog.dom.BrowserFeature.ASSUME_NO_OFFSCREEN_CANVAS = !1;\ngoog.dom.BrowserFeature.ASSUME_OFFSCREEN_CANVAS = !1;\ngoog.dom.BrowserFeature.detectOffscreenCanvas_ = function(contextName) {\n  try {\n    return !!(new self.OffscreenCanvas(0, 0)).getContext(contextName);\n  } catch (ex) {\n  }\n  return !1;\n};\ngoog.dom.BrowserFeature.OFFSCREEN_CANVAS_2D = !goog.dom.BrowserFeature.ASSUME_NO_OFFSCREEN_CANVAS && (goog.dom.BrowserFeature.ASSUME_OFFSCREEN_CANVAS || goog.dom.BrowserFeature.detectOffscreenCanvas_(\"2d\"));\ngoog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES = !0;\ngoog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE = !0;\ngoog.dom.BrowserFeature.CAN_USE_INNER_TEXT = !1;\ngoog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY = goog.userAgent.IE || goog.userAgent.WEBKIT;\ngoog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT = goog.userAgent.IE;\ngoog.math.Coordinate = function(opt_x, opt_y) {\n  this.x = void 0 !== opt_x ? opt_x : 0;\n  this.y = void 0 !== opt_y ? opt_y : 0;\n};\ngoog.math.Coordinate.prototype.clone = function() {\n  return new goog.math.Coordinate(this.x, this.y);\n};\ngoog.DEBUG && (goog.math.Coordinate.prototype.toString = function() {\n  return \"(\" + this.x + \", \" + this.y + \")\";\n});\ngoog.math.Coordinate.prototype.equals = function(other) {\n  return other instanceof goog.math.Coordinate && goog.math.Coordinate.equals(this, other);\n};\ngoog.math.Coordinate.equals = function(a, b) {\n  return a == b ? !0 : a && b ? a.x == b.x && a.y == b.y : !1;\n};\ngoog.math.Coordinate.distance = function(a, b) {\n  var dx = a.x - b.x, dy = a.y - b.y;\n  return Math.sqrt(dx * dx + dy * dy);\n};\ngoog.math.Coordinate.magnitude = function(a) {\n  return Math.sqrt(a.x * a.x + a.y * a.y);\n};\ngoog.math.Coordinate.azimuth = function(a) {\n  return goog.math.angle(0, 0, a.x, a.y);\n};\ngoog.math.Coordinate.squaredDistance = function(a, b) {\n  var dx = a.x - b.x, dy = a.y - b.y;\n  return dx * dx + dy * dy;\n};\ngoog.math.Coordinate.difference = function(a, b) {\n  return new goog.math.Coordinate(a.x - b.x, a.y - b.y);\n};\ngoog.math.Coordinate.sum = function(a, b) {\n  return new goog.math.Coordinate(a.x + b.x, a.y + b.y);\n};\ngoog.math.Coordinate.prototype.ceil = function() {\n  this.x = Math.ceil(this.x);\n  this.y = Math.ceil(this.y);\n  return this;\n};\ngoog.math.Coordinate.prototype.floor = function() {\n  this.x = Math.floor(this.x);\n  this.y = Math.floor(this.y);\n  return this;\n};\ngoog.math.Coordinate.prototype.round = function() {\n  this.x = Math.round(this.x);\n  this.y = Math.round(this.y);\n  return this;\n};\ngoog.math.Coordinate.prototype.translate = function(tx, opt_ty) {\n  tx instanceof goog.math.Coordinate ? (this.x += tx.x, this.y += tx.y) : (this.x += Number(tx), \"number\" === typeof opt_ty && (this.y += opt_ty));\n  return this;\n};\ngoog.math.Coordinate.prototype.scale = function(sx, opt_sy) {\n  var sy;\n  this.x *= sx;\n  this.y *= \"number\" === typeof opt_sy ? opt_sy : sx;\n  return this;\n};\ngoog.math.Coordinate.prototype.rotateRadians = function(radians, opt_center) {\n  var center = opt_center || new goog.math.Coordinate(0, 0), x = this.x, y = this.y, cos = Math.cos(radians), sin = Math.sin(radians);\n  this.x = (x - center.x) * cos - (y - center.y) * sin + center.x;\n  this.y = (x - center.x) * sin + (y - center.y) * cos + center.y;\n};\ngoog.math.Coordinate.prototype.rotateDegrees = function(degrees, opt_center) {\n  this.rotateRadians(goog.math.toRadians(degrees), opt_center);\n};\ngoog.math.Size = function(width, height) {\n  this.width = width;\n  this.height = height;\n};\ngoog.math.Size.equals = function(a, b) {\n  return a == b ? !0 : a && b ? a.width == b.width && a.height == b.height : !1;\n};\ngoog.math.Size.prototype.clone = function() {\n  return new goog.math.Size(this.width, this.height);\n};\ngoog.DEBUG && (goog.math.Size.prototype.toString = function() {\n  return \"(\" + this.width + \" x \" + this.height + \")\";\n});\ngoog.math.Size.prototype.getLongest = function() {\n  return Math.max(this.width, this.height);\n};\ngoog.math.Size.prototype.getShortest = function() {\n  return Math.min(this.width, this.height);\n};\ngoog.math.Size.prototype.area = function() {\n  return this.width * this.height;\n};\ngoog.math.Size.prototype.perimeter = function() {\n  return 2 * (this.width + this.height);\n};\ngoog.math.Size.prototype.aspectRatio = function() {\n  return this.width / this.height;\n};\ngoog.math.Size.prototype.isEmpty = function() {\n  return !this.area();\n};\ngoog.math.Size.prototype.ceil = function() {\n  this.width = Math.ceil(this.width);\n  this.height = Math.ceil(this.height);\n  return this;\n};\ngoog.math.Size.prototype.fitsInside = function(target) {\n  return this.width <= target.width && this.height <= target.height;\n};\ngoog.math.Size.prototype.floor = function() {\n  this.width = Math.floor(this.width);\n  this.height = Math.floor(this.height);\n  return this;\n};\ngoog.math.Size.prototype.round = function() {\n  this.width = Math.round(this.width);\n  this.height = Math.round(this.height);\n  return this;\n};\ngoog.math.Size.prototype.scale = function(sx, opt_sy) {\n  var sy;\n  this.width *= sx;\n  this.height *= \"number\" === typeof opt_sy ? opt_sy : sx;\n  return this;\n};\ngoog.math.Size.prototype.scaleToCover = function(target) {\n  var s = this.aspectRatio() <= target.aspectRatio() ? target.width / this.width : target.height / this.height;\n  return this.scale(s);\n};\ngoog.math.Size.prototype.scaleToFit = function(target) {\n  var s = this.aspectRatio() > target.aspectRatio() ? target.width / this.width : target.height / this.height;\n  return this.scale(s);\n};\ngoog.dom.Appendable = {};\ngoog.dom.ASSUME_QUIRKS_MODE = !1;\ngoog.dom.ASSUME_STANDARDS_MODE = !1;\ngoog.dom.COMPAT_MODE_KNOWN_ = goog.dom.ASSUME_QUIRKS_MODE || goog.dom.ASSUME_STANDARDS_MODE;\ngoog.dom.getDomHelper = function(opt_element) {\n  return opt_element ? new goog.dom.DomHelper(goog.dom.getOwnerDocument(opt_element)) : goog.dom.defaultDomHelper_ || (goog.dom.defaultDomHelper_ = new goog.dom.DomHelper());\n};\ngoog.dom.getDocument = function() {\n  return document;\n};\ngoog.dom.getElement = function(element) {\n  return goog.dom.getElementHelper_(document, element);\n};\ngoog.dom.getHTMLElement = function(id) {\n  var element = goog.dom.getElement(id);\n  return element ? goog.asserts.assertInstanceof(element, HTMLElement) : null;\n};\ngoog.dom.getElementHelper_ = function(doc, element) {\n  return \"string\" === typeof element ? doc.getElementById(element) : element;\n};\ngoog.dom.getRequiredElement = function(id) {\n  return goog.dom.getRequiredElementHelper_(document, id);\n};\ngoog.dom.getRequiredHTMLElement = function(id) {\n  return goog.asserts.assertInstanceof(goog.dom.getRequiredElementHelper_(document, id), HTMLElement);\n};\ngoog.dom.getRequiredElementHelper_ = function(doc, id) {\n  goog.asserts.assertString(id);\n  var element = goog.dom.getElementHelper_(doc, id);\n  return element = goog.asserts.assertElement(element, \"No element found with id: \" + id);\n};\ngoog.dom.$ = goog.dom.getElement;\ngoog.dom.getElementsByTagName = function(tagName, opt_parent) {\n  return (opt_parent || document).getElementsByTagName(String(tagName));\n};\ngoog.dom.getElementsByTagNameAndClass = function(opt_tag, opt_class, opt_el) {\n  return goog.dom.getElementsByTagNameAndClass_(document, opt_tag, opt_class, opt_el);\n};\ngoog.dom.getElementByTagNameAndClass = function(opt_tag, opt_class, opt_el) {\n  return goog.dom.getElementByTagNameAndClass_(document, opt_tag, opt_class, opt_el);\n};\ngoog.dom.getElementsByClass = function(className, opt_el) {\n  var parent = opt_el || document;\n  return goog.dom.canUseQuerySelector_(parent) ? parent.querySelectorAll(\".\" + className) : goog.dom.getElementsByTagNameAndClass_(document, \"*\", className, opt_el);\n};\ngoog.dom.getElementByClass = function(className, opt_el) {\n  var parent = opt_el || document, retVal = null;\n  return (retVal = parent.getElementsByClassName ? parent.getElementsByClassName(className)[0] : goog.dom.getElementByTagNameAndClass_(document, \"*\", className, opt_el)) || null;\n};\ngoog.dom.getHTMLElementByClass = function(className, opt_parent) {\n  var element = goog.dom.getElementByClass(className, opt_parent);\n  return element ? goog.asserts.assertInstanceof(element, HTMLElement) : null;\n};\ngoog.dom.getRequiredElementByClass = function(className, opt_root) {\n  var retValue = goog.dom.getElementByClass(className, opt_root);\n  return goog.asserts.assert(retValue, \"No element found with className: \" + className);\n};\ngoog.dom.getRequiredHTMLElementByClass = function(className, opt_parent) {\n  var retValue = goog.dom.getElementByClass(className, opt_parent);\n  return goog.asserts.assertInstanceof(retValue, HTMLElement, \"No HTMLElement found with className: \" + className);\n};\ngoog.dom.canUseQuerySelector_ = function(parent) {\n  return !(!parent.querySelectorAll || !parent.querySelector);\n};\ngoog.dom.getElementsByTagNameAndClass_ = function(doc, opt_tag, opt_class, opt_el) {\n  var parent = opt_el || doc, tagName = opt_tag && \"*\" != opt_tag ? String(opt_tag).toUpperCase() : \"\";\n  if (goog.dom.canUseQuerySelector_(parent) && (tagName || opt_class)) {\n    return parent.querySelectorAll(tagName + (opt_class ? \".\" + opt_class : \"\"));\n  }\n  if (opt_class && parent.getElementsByClassName) {\n    var els = parent.getElementsByClassName(opt_class);\n    if (tagName) {\n      for (var arrayLike = {}, len = 0, i = 0, el; el = els[i]; i++) {\n        tagName == el.nodeName && (arrayLike[len++] = el);\n      }\n      arrayLike.length = len;\n      return arrayLike;\n    }\n    return els;\n  }\n  els = parent.getElementsByTagName(tagName || \"*\");\n  if (opt_class) {\n    arrayLike = {};\n    for (i = len = 0; el = els[i]; i++) {\n      var className = el.className;\n      \"function\" == typeof className.split && module$contents$goog$array_contains(className.split(/\\s+/), opt_class) && (arrayLike[len++] = el);\n    }\n    arrayLike.length = len;\n    return arrayLike;\n  }\n  return els;\n};\ngoog.dom.getElementByTagNameAndClass_ = function(doc, opt_tag, opt_class, opt_el) {\n  var parent = opt_el || doc, tag = opt_tag && \"*\" != opt_tag ? String(opt_tag).toUpperCase() : \"\";\n  return goog.dom.canUseQuerySelector_(parent) && (tag || opt_class) ? parent.querySelector(tag + (opt_class ? \".\" + opt_class : \"\")) : goog.dom.getElementsByTagNameAndClass_(doc, opt_tag, opt_class, opt_el)[0] || null;\n};\ngoog.dom.$$ = goog.dom.getElementsByTagNameAndClass;\ngoog.dom.setProperties = function(element, properties) {\n  module$contents$goog$object_forEach(properties, function(val, key) {\n    val && \"object\" == typeof val && val.implementsGoogStringTypedString && (val = val.getTypedStringValue());\n    \"style\" == key ? element.style.cssText = val : \"class\" == key ? element.className = val : \"for\" == key ? element.htmlFor = val : goog.dom.DIRECT_ATTRIBUTE_MAP_.hasOwnProperty(key) ? element.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[key], val) : goog.string.startsWith(key, \"aria-\") || goog.string.startsWith(key, \"data-\") ? element.setAttribute(key, val) : element[key] = val;\n  });\n};\ngoog.dom.DIRECT_ATTRIBUTE_MAP_ = {cellpadding:\"cellPadding\", cellspacing:\"cellSpacing\", colspan:\"colSpan\", frameborder:\"frameBorder\", height:\"height\", maxlength:\"maxLength\", nonce:\"nonce\", role:\"role\", rowspan:\"rowSpan\", type:\"type\", usemap:\"useMap\", valign:\"vAlign\", width:\"width\"};\ngoog.dom.getViewportSize = function(opt_window) {\n  return goog.dom.getViewportSize_(opt_window || window);\n};\ngoog.dom.getViewportSize_ = function(win) {\n  var doc = win.document, el = goog.dom.isCss1CompatMode_(doc) ? doc.documentElement : doc.body;\n  return new goog.math.Size(el.clientWidth, el.clientHeight);\n};\ngoog.dom.getDocumentHeight = function() {\n  return goog.dom.getDocumentHeight_(window);\n};\ngoog.dom.getDocumentHeightForWindow = function(win) {\n  return goog.dom.getDocumentHeight_(win);\n};\ngoog.dom.getDocumentHeight_ = function(win) {\n  var doc = win.document, height = 0;\n  if (doc) {\n    var body = doc.body, docEl = doc.documentElement;\n    if (!docEl || !body) {\n      return 0;\n    }\n    var vh = goog.dom.getViewportSize_(win).height;\n    if (goog.dom.isCss1CompatMode_(doc) && docEl.scrollHeight) {\n      height = docEl.scrollHeight != vh ? docEl.scrollHeight : docEl.offsetHeight;\n    } else {\n      var sh = docEl.scrollHeight, oh = docEl.offsetHeight;\n      docEl.clientHeight != oh && (sh = body.scrollHeight, oh = body.offsetHeight);\n      height = sh > vh ? sh > oh ? sh : oh : sh < oh ? sh : oh;\n    }\n  }\n  return height;\n};\ngoog.dom.getPageScroll = function(opt_window) {\n  return goog.dom.getDomHelper((opt_window || goog.global || window).document).getDocumentScroll();\n};\ngoog.dom.getDocumentScroll = function() {\n  return goog.dom.getDocumentScroll_(document);\n};\ngoog.dom.getDocumentScroll_ = function(doc) {\n  var el = goog.dom.getDocumentScrollElement_(doc), win = goog.dom.getWindow_(doc);\n  return goog.userAgent.IE && goog.userAgent.isVersionOrHigher(\"10\") && win.pageYOffset != el.scrollTop ? new goog.math.Coordinate(el.scrollLeft, el.scrollTop) : new goog.math.Coordinate(win.pageXOffset || el.scrollLeft, win.pageYOffset || el.scrollTop);\n};\ngoog.dom.getDocumentScrollElement = function() {\n  return goog.dom.getDocumentScrollElement_(document);\n};\ngoog.dom.getDocumentScrollElement_ = function(doc) {\n  return doc.scrollingElement ? doc.scrollingElement : !goog.userAgent.WEBKIT && goog.dom.isCss1CompatMode_(doc) ? doc.documentElement : doc.body || doc.documentElement;\n};\ngoog.dom.getWindow = function(opt_doc) {\n  return opt_doc ? goog.dom.getWindow_(opt_doc) : window;\n};\ngoog.dom.getWindow_ = function(doc) {\n  return doc.parentWindow || doc.defaultView;\n};\ngoog.dom.createDom = function(tagName, opt_attributes, var_args) {\n  return goog.dom.createDom_(document, arguments);\n};\ngoog.dom.createDom_ = function(doc, args) {\n  var attributes = args[1], element = goog.dom.createElement_(doc, String(args[0]));\n  attributes && (\"string\" === typeof attributes ? element.className = attributes : Array.isArray(attributes) ? element.className = attributes.join(\" \") : goog.dom.setProperties(element, attributes));\n  2 < args.length && goog.dom.append_(doc, element, args, 2);\n  return element;\n};\ngoog.dom.append_ = function(doc, parent, args, startIndex) {\n  function childHandler(child) {\n    child && parent.appendChild(\"string\" === typeof child ? doc.createTextNode(child) : child);\n  }\n  for (var i = startIndex; i < args.length; i++) {\n    var arg = args[i];\n    goog.isArrayLike(arg) && !goog.dom.isNodeLike(arg) ? module$contents$goog$array_forEach(goog.dom.isNodeList(arg) ? module$contents$goog$array_toArray(arg) : arg, childHandler) : childHandler(arg);\n  }\n};\ngoog.dom.$dom = goog.dom.createDom;\ngoog.dom.createElement = function(name) {\n  return goog.dom.createElement_(document, name);\n};\ngoog.dom.createElement_ = function(doc, name) {\n  name = String(name);\n  \"application/xhtml+xml\" === doc.contentType && (name = name.toLowerCase());\n  return doc.createElement(name);\n};\ngoog.dom.createTextNode = function(content) {\n  return document.createTextNode(String(content));\n};\ngoog.dom.createTable = function(rows, columns, opt_fillWithNbsp) {\n  return goog.dom.createTable_(document, rows, columns, !!opt_fillWithNbsp);\n};\ngoog.dom.createTable_ = function(doc, rows, columns, fillWithNbsp) {\n  for (var table = goog.dom.createElement_(doc, goog.dom.TagName.TABLE), tbody = table.appendChild(goog.dom.createElement_(doc, goog.dom.TagName.TBODY)), i = 0; i < rows; i++) {\n    for (var tr = goog.dom.createElement_(doc, goog.dom.TagName.TR), j = 0; j < columns; j++) {\n      var td = goog.dom.createElement_(doc, goog.dom.TagName.TD);\n      fillWithNbsp && goog.dom.setTextContent(td, goog.string.Unicode.NBSP);\n      tr.appendChild(td);\n    }\n    tbody.appendChild(tr);\n  }\n  return table;\n};\ngoog.dom.constHtmlToNode = function(var_args) {\n  var stringArray = Array.prototype.map.call(arguments, goog.string.Const.unwrap), safeHtml = goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from(\"Constant HTML string, that gets turned into a Node later, so it will be automatically balanced.\"), stringArray.join(\"\"));\n  return goog.dom.safeHtmlToNode(safeHtml);\n};\ngoog.dom.safeHtmlToNode = function(html) {\n  return goog.dom.safeHtmlToNode_(document, html);\n};\ngoog.dom.safeHtmlToNode_ = function(doc, html) {\n  var tempDiv = goog.dom.createElement_(doc, goog.dom.TagName.DIV);\n  goog.userAgent.IE ? (goog.dom.safe.setInnerHtml(tempDiv, module$contents$goog$html$SafeHtml_SafeHtml.concat(module$contents$goog$html$SafeHtml_SafeHtml.BR, html)), tempDiv.removeChild(goog.asserts.assert(tempDiv.firstChild))) : goog.dom.safe.setInnerHtml(tempDiv, html);\n  return goog.dom.childrenToNode_(doc, tempDiv);\n};\ngoog.dom.childrenToNode_ = function(doc, tempDiv) {\n  if (1 == tempDiv.childNodes.length) {\n    return tempDiv.removeChild(goog.asserts.assert(tempDiv.firstChild));\n  }\n  for (var fragment = doc.createDocumentFragment(); tempDiv.firstChild;) {\n    fragment.appendChild(tempDiv.firstChild);\n  }\n  return fragment;\n};\ngoog.dom.isCss1CompatMode = function() {\n  return goog.dom.isCss1CompatMode_(document);\n};\ngoog.dom.isCss1CompatMode_ = function(doc) {\n  return goog.dom.COMPAT_MODE_KNOWN_ ? goog.dom.ASSUME_STANDARDS_MODE : \"CSS1Compat\" == doc.compatMode;\n};\ngoog.dom.canHaveChildren = function(node) {\n  if (node.nodeType != goog.dom.NodeType.ELEMENT) {\n    return !1;\n  }\n  switch(node.tagName) {\n    case String(goog.dom.TagName.APPLET):\n    case String(goog.dom.TagName.AREA):\n    case String(goog.dom.TagName.BASE):\n    case String(goog.dom.TagName.BR):\n    case String(goog.dom.TagName.COL):\n    case String(goog.dom.TagName.COMMAND):\n    case String(goog.dom.TagName.EMBED):\n    case String(goog.dom.TagName.FRAME):\n    case String(goog.dom.TagName.HR):\n    case String(goog.dom.TagName.IMG):\n    case String(goog.dom.TagName.INPUT):\n    case String(goog.dom.TagName.IFRAME):\n    case String(goog.dom.TagName.ISINDEX):\n    case String(goog.dom.TagName.KEYGEN):\n    case String(goog.dom.TagName.LINK):\n    case String(goog.dom.TagName.NOFRAMES):\n    case String(goog.dom.TagName.NOSCRIPT):\n    case String(goog.dom.TagName.META):\n    case String(goog.dom.TagName.OBJECT):\n    case String(goog.dom.TagName.PARAM):\n    case String(goog.dom.TagName.SCRIPT):\n    case String(goog.dom.TagName.SOURCE):\n    case String(goog.dom.TagName.STYLE):\n    case String(goog.dom.TagName.TRACK):\n    case String(goog.dom.TagName.WBR):\n      return !1;\n  }\n  return !0;\n};\ngoog.dom.appendChild = function(parent, child) {\n  goog.asserts.assert(null != parent && null != child, \"goog.dom.appendChild expects non-null arguments\");\n  parent.appendChild(child);\n};\ngoog.dom.append = function(parent, var_args) {\n  goog.dom.append_(goog.dom.getOwnerDocument(parent), parent, arguments, 1);\n};\ngoog.dom.removeChildren = function(node) {\n  for (var child; child = node.firstChild;) {\n    node.removeChild(child);\n  }\n};\ngoog.dom.insertSiblingBefore = function(newNode, refNode) {\n  goog.asserts.assert(null != newNode && null != refNode, \"goog.dom.insertSiblingBefore expects non-null arguments\");\n  refNode.parentNode && refNode.parentNode.insertBefore(newNode, refNode);\n};\ngoog.dom.insertSiblingAfter = function(newNode, refNode) {\n  goog.asserts.assert(null != newNode && null != refNode, \"goog.dom.insertSiblingAfter expects non-null arguments\");\n  refNode.parentNode && refNode.parentNode.insertBefore(newNode, refNode.nextSibling);\n};\ngoog.dom.insertChildAt = function(parent, child, index) {\n  goog.asserts.assert(null != parent, \"goog.dom.insertChildAt expects a non-null parent\");\n  parent.insertBefore(child, parent.childNodes[index] || null);\n};\ngoog.dom.removeNode = function(node) {\n  return node && node.parentNode ? node.parentNode.removeChild(node) : null;\n};\ngoog.dom.replaceNode = function(newNode, oldNode) {\n  goog.asserts.assert(null != newNode && null != oldNode, \"goog.dom.replaceNode expects non-null arguments\");\n  var parent = oldNode.parentNode;\n  parent && parent.replaceChild(newNode, oldNode);\n};\ngoog.dom.copyContents = function(target, source) {\n  goog.asserts.assert(null != target && null != source, \"goog.dom.copyContents expects non-null arguments\");\n  var childNodes = source.cloneNode(!0).childNodes;\n  for (goog.dom.removeChildren(target); childNodes.length;) {\n    target.appendChild(childNodes[0]);\n  }\n};\ngoog.dom.flattenElement = function(element) {\n  var child, parent = element.parentNode;\n  if (parent && parent.nodeType != goog.dom.NodeType.DOCUMENT_FRAGMENT) {\n    if (element.removeNode) {\n      return element.removeNode(!1);\n    }\n    for (; child = element.firstChild;) {\n      parent.insertBefore(child, element);\n    }\n    return goog.dom.removeNode(element);\n  }\n};\ngoog.dom.getChildren = function(element) {\n  return void 0 != element.children ? element.children : Array.prototype.filter.call(element.childNodes, function(node) {\n    return node.nodeType == goog.dom.NodeType.ELEMENT;\n  });\n};\ngoog.dom.getFirstElementChild = function(node) {\n  return void 0 !== node.firstElementChild ? node.firstElementChild : goog.dom.getNextElementNode_(node.firstChild, !0);\n};\ngoog.dom.getLastElementChild = function(node) {\n  return void 0 !== node.lastElementChild ? node.lastElementChild : goog.dom.getNextElementNode_(node.lastChild, !1);\n};\ngoog.dom.getNextElementSibling = function(node) {\n  return void 0 !== node.nextElementSibling ? node.nextElementSibling : goog.dom.getNextElementNode_(node.nextSibling, !0);\n};\ngoog.dom.getPreviousElementSibling = function(node) {\n  return void 0 !== node.previousElementSibling ? node.previousElementSibling : goog.dom.getNextElementNode_(node.previousSibling, !1);\n};\ngoog.dom.getNextElementNode_ = function(node, forward) {\n  for (; node && node.nodeType != goog.dom.NodeType.ELEMENT;) {\n    node = forward ? node.nextSibling : node.previousSibling;\n  }\n  return node;\n};\ngoog.dom.getNextNode = function(node) {\n  if (!node) {\n    return null;\n  }\n  if (node.firstChild) {\n    return node.firstChild;\n  }\n  for (; node && !node.nextSibling;) {\n    node = node.parentNode;\n  }\n  return node ? node.nextSibling : null;\n};\ngoog.dom.getPreviousNode = function(node) {\n  if (!node) {\n    return null;\n  }\n  if (!node.previousSibling) {\n    return node.parentNode;\n  }\n  for (node = node.previousSibling; node && node.lastChild;) {\n    node = node.lastChild;\n  }\n  return node;\n};\ngoog.dom.isNodeLike = function(obj) {\n  return goog.isObject(obj) && 0 < obj.nodeType;\n};\ngoog.dom.isElement = function(obj) {\n  return goog.isObject(obj) && obj.nodeType == goog.dom.NodeType.ELEMENT;\n};\ngoog.dom.isWindow = function(obj) {\n  return goog.isObject(obj) && obj.window == obj;\n};\ngoog.dom.getParentElement = function(element) {\n  var parent;\n  if (goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY && !(goog.userAgent.IE && goog.userAgent.isVersionOrHigher(\"9\") && !goog.userAgent.isVersionOrHigher(\"10\") && goog.global.SVGElement && element instanceof goog.global.SVGElement) && (parent = element.parentElement)) {\n    return parent;\n  }\n  parent = element.parentNode;\n  return goog.dom.isElement(parent) ? parent : null;\n};\ngoog.dom.contains = function(parent, descendant) {\n  if (!parent || !descendant) {\n    return !1;\n  }\n  if (parent.contains && descendant.nodeType == goog.dom.NodeType.ELEMENT) {\n    return parent == descendant || parent.contains(descendant);\n  }\n  if (\"undefined\" != typeof parent.compareDocumentPosition) {\n    return parent == descendant || !!(parent.compareDocumentPosition(descendant) & 16);\n  }\n  for (; descendant && parent != descendant;) {\n    descendant = descendant.parentNode;\n  }\n  return descendant == parent;\n};\ngoog.dom.compareNodeOrder = function(node1, node2) {\n  if (node1 == node2) {\n    return 0;\n  }\n  if (node1.compareDocumentPosition) {\n    return node1.compareDocumentPosition(node2) & 2 ? 1 : -1;\n  }\n  if (goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(9)) {\n    if (node1.nodeType == goog.dom.NodeType.DOCUMENT) {\n      return -1;\n    }\n    if (node2.nodeType == goog.dom.NodeType.DOCUMENT) {\n      return 1;\n    }\n  }\n  if (\"sourceIndex\" in node1 || node1.parentNode && \"sourceIndex\" in node1.parentNode) {\n    var isElement1 = node1.nodeType == goog.dom.NodeType.ELEMENT, isElement2 = node2.nodeType == goog.dom.NodeType.ELEMENT;\n    if (isElement1 && isElement2) {\n      return node1.sourceIndex - node2.sourceIndex;\n    }\n    var parent1 = node1.parentNode, parent2 = node2.parentNode;\n    return parent1 == parent2 ? goog.dom.compareSiblingOrder_(node1, node2) : !isElement1 && goog.dom.contains(parent1, node2) ? -1 * goog.dom.compareParentsDescendantNodeIe_(node1, node2) : !isElement2 && goog.dom.contains(parent2, node1) ? goog.dom.compareParentsDescendantNodeIe_(node2, node1) : (isElement1 ? node1.sourceIndex : parent1.sourceIndex) - (isElement2 ? node2.sourceIndex : parent2.sourceIndex);\n  }\n  var doc = goog.dom.getOwnerDocument(node1);\n  var range1 = doc.createRange();\n  range1.selectNode(node1);\n  range1.collapse(!0);\n  var range2 = doc.createRange();\n  range2.selectNode(node2);\n  range2.collapse(!0);\n  return range1.compareBoundaryPoints(goog.global.Range.START_TO_END, range2);\n};\ngoog.dom.compareParentsDescendantNodeIe_ = function(textNode, node) {\n  var parent = textNode.parentNode;\n  if (parent == node) {\n    return -1;\n  }\n  for (var sibling = node; sibling.parentNode != parent;) {\n    sibling = sibling.parentNode;\n  }\n  return goog.dom.compareSiblingOrder_(sibling, textNode);\n};\ngoog.dom.compareSiblingOrder_ = function(node1, node2) {\n  for (var s = node2; s = s.previousSibling;) {\n    if (s == node1) {\n      return -1;\n    }\n  }\n  return 1;\n};\ngoog.dom.findCommonAncestor = function(var_args) {\n  var i, count = arguments.length;\n  if (!count) {\n    return null;\n  }\n  if (1 == count) {\n    return arguments[0];\n  }\n  var paths = [], minLength = Infinity;\n  for (i = 0; i < count; i++) {\n    for (var ancestors = [], node = arguments[i]; node;) {\n      ancestors.unshift(node), node = node.parentNode;\n    }\n    paths.push(ancestors);\n    minLength = Math.min(minLength, ancestors.length);\n  }\n  var output = null;\n  for (i = 0; i < minLength; i++) {\n    for (var first = paths[0][i], j = 1; j < count; j++) {\n      if (first != paths[j][i]) {\n        return output;\n      }\n    }\n    output = first;\n  }\n  return output;\n};\ngoog.dom.isInDocument = function(node) {\n  return 16 == (node.ownerDocument.compareDocumentPosition(node) & 16);\n};\ngoog.dom.getOwnerDocument = function(node) {\n  goog.asserts.assert(node, \"Node cannot be null or undefined.\");\n  return node.nodeType == goog.dom.NodeType.DOCUMENT ? node : node.ownerDocument || node.document;\n};\ngoog.dom.getFrameContentDocument = function(frame) {\n  return frame.contentDocument || frame.contentWindow.document;\n};\ngoog.dom.getFrameContentWindow = function(frame) {\n  try {\n    return frame.contentWindow || (frame.contentDocument ? goog.dom.getWindow(frame.contentDocument) : null);\n  } catch (e) {\n  }\n  return null;\n};\ngoog.dom.setTextContent = function(node, text) {\n  goog.asserts.assert(null != node, \"goog.dom.setTextContent expects a non-null value for node\");\n  if (\"textContent\" in node) {\n    node.textContent = text;\n  } else {\n    if (node.nodeType == goog.dom.NodeType.TEXT) {\n      node.data = String(text);\n    } else {\n      if (node.firstChild && node.firstChild.nodeType == goog.dom.NodeType.TEXT) {\n        for (; node.lastChild != node.firstChild;) {\n          node.removeChild(goog.asserts.assert(node.lastChild));\n        }\n        node.firstChild.data = String(text);\n      } else {\n        goog.dom.removeChildren(node);\n        var doc = goog.dom.getOwnerDocument(node);\n        node.appendChild(doc.createTextNode(String(text)));\n      }\n    }\n  }\n};\ngoog.dom.getOuterHtml = function(element) {\n  goog.asserts.assert(null !== element, \"goog.dom.getOuterHtml expects a non-null value for element\");\n  if (\"outerHTML\" in element) {\n    return element.outerHTML;\n  }\n  var doc = goog.dom.getOwnerDocument(element), div = goog.dom.createElement_(doc, goog.dom.TagName.DIV);\n  div.appendChild(element.cloneNode(!0));\n  return div.innerHTML;\n};\ngoog.dom.findNode = function(root, p) {\n  var rv = [];\n  return goog.dom.findNodes_(root, p, rv, !0) ? rv[0] : void 0;\n};\ngoog.dom.findNodes = function(root, p) {\n  var rv = [];\n  goog.dom.findNodes_(root, p, rv, !1);\n  return rv;\n};\ngoog.dom.findNodes_ = function(root, p, rv, findOne) {\n  if (null != root) {\n    for (var child = root.firstChild; child;) {\n      if (p(child) && (rv.push(child), findOne) || goog.dom.findNodes_(child, p, rv, findOne)) {\n        return !0;\n      }\n      child = child.nextSibling;\n    }\n  }\n  return !1;\n};\ngoog.dom.findElement = function(root, pred) {\n  for (var stack = goog.dom.getChildrenReverse_(root); 0 < stack.length;) {\n    var next = stack.pop();\n    if (pred(next)) {\n      return next;\n    }\n    for (var c = next.lastElementChild; c; c = c.previousElementSibling) {\n      stack.push(c);\n    }\n  }\n  return null;\n};\ngoog.dom.findElements = function(root, pred) {\n  for (var result = [], stack = goog.dom.getChildrenReverse_(root); 0 < stack.length;) {\n    var next = stack.pop();\n    pred(next) && result.push(next);\n    for (var c = next.lastElementChild; c; c = c.previousElementSibling) {\n      stack.push(c);\n    }\n  }\n  return result;\n};\ngoog.dom.getChildrenReverse_ = function(node) {\n  if (node.nodeType == goog.dom.NodeType.DOCUMENT) {\n    return [node.documentElement];\n  }\n  for (var children = [], c = node.lastElementChild; c; c = c.previousElementSibling) {\n    children.push(c);\n  }\n  return children;\n};\ngoog.dom.TAGS_TO_IGNORE_ = {SCRIPT:1, STYLE:1, HEAD:1, IFRAME:1, OBJECT:1};\ngoog.dom.PREDEFINED_TAG_VALUES_ = {IMG:\" \", BR:\"\\n\"};\ngoog.dom.isFocusableTabIndex = function(element) {\n  return goog.dom.hasSpecifiedTabIndex_(element) && goog.dom.isTabIndexFocusable_(element);\n};\ngoog.dom.setFocusableTabIndex = function(element, enable) {\n  enable ? element.tabIndex = 0 : (element.tabIndex = -1, element.removeAttribute(\"tabIndex\"));\n};\ngoog.dom.isFocusable = function(element) {\n  var focusable;\n  return (focusable = goog.dom.nativelySupportsFocus_(element) ? !element.disabled && (!goog.dom.hasSpecifiedTabIndex_(element) || goog.dom.isTabIndexFocusable_(element)) : goog.dom.isFocusableTabIndex(element)) && goog.userAgent.IE ? goog.dom.hasNonZeroBoundingRect_(element) : focusable;\n};\ngoog.dom.hasSpecifiedTabIndex_ = function(element) {\n  return element.hasAttribute(\"tabindex\");\n};\ngoog.dom.isTabIndexFocusable_ = function(element) {\n  var index = element.tabIndex;\n  return \"number\" === typeof index && 0 <= index && 32768 > index;\n};\ngoog.dom.nativelySupportsFocus_ = function(element) {\n  return element.tagName == goog.dom.TagName.A && element.hasAttribute(\"href\") || element.tagName == goog.dom.TagName.INPUT || element.tagName == goog.dom.TagName.TEXTAREA || element.tagName == goog.dom.TagName.SELECT || element.tagName == goog.dom.TagName.BUTTON;\n};\ngoog.dom.hasNonZeroBoundingRect_ = function(element) {\n  var rect = \"function\" !== typeof element.getBoundingClientRect || goog.userAgent.IE && null == element.parentElement ? {height:element.offsetHeight, width:element.offsetWidth} : element.getBoundingClientRect();\n  return null != rect && 0 < rect.height && 0 < rect.width;\n};\ngoog.dom.getTextContent = function(node) {\n  var buf = [];\n  goog.dom.getTextContent_(node, buf, !0);\n  var textContent = buf.join(\"\");\n  textContent = textContent.replace(/ \\xAD /g, \" \").replace(/\\xAD/g, \"\");\n  textContent = textContent.replace(/\\u200B/g, \"\");\n  textContent = textContent.replace(/ +/g, \" \");\n  \" \" != textContent && (textContent = textContent.replace(/^\\s*/, \"\"));\n  return textContent;\n};\ngoog.dom.getRawTextContent = function(node) {\n  var buf = [];\n  goog.dom.getTextContent_(node, buf, !1);\n  return buf.join(\"\");\n};\ngoog.dom.getTextContent_ = function(node, buf, normalizeWhitespace) {\n  if (!(node.nodeName in goog.dom.TAGS_TO_IGNORE_)) {\n    if (node.nodeType == goog.dom.NodeType.TEXT) {\n      normalizeWhitespace ? buf.push(String(node.nodeValue).replace(/(\\r\\n|\\r|\\n)/g, \"\")) : buf.push(node.nodeValue);\n    } else {\n      if (node.nodeName in goog.dom.PREDEFINED_TAG_VALUES_) {\n        buf.push(goog.dom.PREDEFINED_TAG_VALUES_[node.nodeName]);\n      } else {\n        for (var child = node.firstChild; child;) {\n          goog.dom.getTextContent_(child, buf, normalizeWhitespace), child = child.nextSibling;\n        }\n      }\n    }\n  }\n};\ngoog.dom.getNodeTextLength = function(node) {\n  return goog.dom.getTextContent(node).length;\n};\ngoog.dom.getNodeTextOffset = function(node, opt_offsetParent) {\n  for (var root = opt_offsetParent || goog.dom.getOwnerDocument(node).body, buf = []; node && node != root;) {\n    for (var cur = node; cur = cur.previousSibling;) {\n      buf.unshift(goog.dom.getTextContent(cur));\n    }\n    node = node.parentNode;\n  }\n  return goog.string.trimLeft(buf.join(\"\")).replace(/ +/g, \" \").length;\n};\ngoog.dom.getNodeAtOffset = function(parent, offset, opt_result) {\n  for (var stack = [parent], pos = 0, cur = null; 0 < stack.length && pos < offset;) {\n    if (cur = stack.pop(), !(cur.nodeName in goog.dom.TAGS_TO_IGNORE_)) {\n      if (cur.nodeType == goog.dom.NodeType.TEXT) {\n        var text = cur.nodeValue.replace(/(\\r\\n|\\r|\\n)/g, \"\").replace(/ +/g, \" \");\n        pos += text.length;\n      } else {\n        if (cur.nodeName in goog.dom.PREDEFINED_TAG_VALUES_) {\n          pos += goog.dom.PREDEFINED_TAG_VALUES_[cur.nodeName].length;\n        } else {\n          for (var i = cur.childNodes.length - 1; 0 <= i; i--) {\n            stack.push(cur.childNodes[i]);\n          }\n        }\n      }\n    }\n  }\n  goog.isObject(opt_result) && (opt_result.remainder = cur ? cur.nodeValue.length + offset - pos - 1 : 0, opt_result.node = cur);\n  return cur;\n};\ngoog.dom.isNodeList = function(val) {\n  if (val && \"number\" == typeof val.length) {\n    if (goog.isObject(val)) {\n      return \"function\" == typeof val.item || \"string\" == typeof val.item;\n    }\n    if (\"function\" === typeof val) {\n      return \"function\" == typeof val.item;\n    }\n  }\n  return !1;\n};\ngoog.dom.getAncestorByTagNameAndClass = function(element, opt_tag, opt_class, opt_maxSearchSteps) {\n  if (!opt_tag && !opt_class) {\n    return null;\n  }\n  var tagName = opt_tag ? String(opt_tag).toUpperCase() : null;\n  return goog.dom.getAncestor(element, function(node) {\n    return (!tagName || node.nodeName == tagName) && (!opt_class || \"string\" === typeof node.className && module$contents$goog$array_contains(node.className.split(/\\s+/), opt_class));\n  }, !0, opt_maxSearchSteps);\n};\ngoog.dom.getAncestorByClass = function(element, className, opt_maxSearchSteps) {\n  return goog.dom.getAncestorByTagNameAndClass(element, null, className, opt_maxSearchSteps);\n};\ngoog.dom.getAncestor = function(element, matcher, opt_includeNode, opt_maxSearchSteps) {\n  element && !opt_includeNode && (element = element.parentNode);\n  for (var steps = 0; element && (null == opt_maxSearchSteps || steps <= opt_maxSearchSteps);) {\n    goog.asserts.assert(\"parentNode\" != element.name);\n    if (matcher(element)) {\n      return element;\n    }\n    element = element.parentNode;\n    steps++;\n  }\n  return null;\n};\ngoog.dom.getActiveElement = function(doc) {\n  try {\n    var activeElement = doc && doc.activeElement;\n    return activeElement && activeElement.nodeName ? activeElement : null;\n  } catch (e) {\n    return null;\n  }\n};\ngoog.dom.getPixelRatio = function() {\n  var win = goog.dom.getWindow();\n  return void 0 !== win.devicePixelRatio ? win.devicePixelRatio : win.matchMedia ? goog.dom.matchesPixelRatio_(3) || goog.dom.matchesPixelRatio_(2) || goog.dom.matchesPixelRatio_(1.5) || goog.dom.matchesPixelRatio_(1) || .75 : 1;\n};\ngoog.dom.matchesPixelRatio_ = function(pixelRatio) {\n  return goog.dom.getWindow().matchMedia(\"(min-resolution: \" + pixelRatio + \"dppx),(min--moz-device-pixel-ratio: \" + pixelRatio + \"),(min-resolution: \" + 96 * pixelRatio + \"dpi)\").matches ? pixelRatio : 0;\n};\ngoog.dom.getCanvasContext2D = function(canvas) {\n  return canvas.getContext(\"2d\");\n};\ngoog.dom.DomHelper = function(opt_document) {\n  this.document_ = opt_document || goog.global.document || document;\n};\ngoog.dom.DomHelper.prototype.getDomHelper = goog.dom.getDomHelper;\ngoog.dom.DomHelper.prototype.setDocument = function(document) {\n  this.document_ = document;\n};\ngoog.dom.DomHelper.prototype.getDocument = function() {\n  return this.document_;\n};\ngoog.dom.DomHelper.prototype.getElement = function(element) {\n  return goog.dom.getElementHelper_(this.document_, element);\n};\ngoog.dom.DomHelper.prototype.getRequiredElement = function(id) {\n  return goog.dom.getRequiredElementHelper_(this.document_, id);\n};\ngoog.dom.DomHelper.prototype.$ = goog.dom.DomHelper.prototype.getElement;\ngoog.dom.DomHelper.prototype.getElementsByTagName = function(tagName, opt_parent) {\n  return (opt_parent || this.document_).getElementsByTagName(String(tagName));\n};\ngoog.dom.DomHelper.prototype.getElementsByTagNameAndClass = function(opt_tag, opt_class, opt_el) {\n  return goog.dom.getElementsByTagNameAndClass_(this.document_, opt_tag, opt_class, opt_el);\n};\ngoog.dom.DomHelper.prototype.getElementByTagNameAndClass = function(opt_tag, opt_class, opt_el) {\n  return goog.dom.getElementByTagNameAndClass_(this.document_, opt_tag, opt_class, opt_el);\n};\ngoog.dom.DomHelper.prototype.getElementsByClass = function(className, opt_el) {\n  return goog.dom.getElementsByClass(className, opt_el || this.document_);\n};\ngoog.dom.DomHelper.prototype.getElementByClass = function(className, opt_el) {\n  return goog.dom.getElementByClass(className, opt_el || this.document_);\n};\ngoog.dom.DomHelper.prototype.getRequiredElementByClass = function(className, opt_root) {\n  return goog.dom.getRequiredElementByClass(className, opt_root || this.document_);\n};\ngoog.dom.DomHelper.prototype.$$ = goog.dom.DomHelper.prototype.getElementsByTagNameAndClass;\ngoog.dom.DomHelper.prototype.setProperties = goog.dom.setProperties;\ngoog.dom.DomHelper.prototype.getViewportSize = function(opt_window) {\n  return goog.dom.getViewportSize(opt_window || this.getWindow());\n};\ngoog.dom.DomHelper.prototype.getDocumentHeight = function() {\n  return goog.dom.getDocumentHeight_(this.getWindow());\n};\ngoog.dom.DomHelper.prototype.createDom = function(tagName, opt_attributes, var_args) {\n  return goog.dom.createDom_(this.document_, arguments);\n};\ngoog.dom.DomHelper.prototype.$dom = goog.dom.DomHelper.prototype.createDom;\ngoog.dom.DomHelper.prototype.createElement = function(name) {\n  return goog.dom.createElement_(this.document_, name);\n};\ngoog.dom.DomHelper.prototype.createTextNode = function(content) {\n  return this.document_.createTextNode(String(content));\n};\ngoog.dom.DomHelper.prototype.createTable = function(rows, columns, opt_fillWithNbsp) {\n  return goog.dom.createTable_(this.document_, rows, columns, !!opt_fillWithNbsp);\n};\ngoog.dom.DomHelper.prototype.safeHtmlToNode = function(html) {\n  return goog.dom.safeHtmlToNode_(this.document_, html);\n};\ngoog.dom.DomHelper.prototype.isCss1CompatMode = function() {\n  return goog.dom.isCss1CompatMode_(this.document_);\n};\ngoog.dom.DomHelper.prototype.getWindow = function() {\n  return goog.dom.getWindow_(this.document_);\n};\ngoog.dom.DomHelper.prototype.getDocumentScrollElement = function() {\n  return goog.dom.getDocumentScrollElement_(this.document_);\n};\ngoog.dom.DomHelper.prototype.getDocumentScroll = function() {\n  return goog.dom.getDocumentScroll_(this.document_);\n};\ngoog.dom.DomHelper.prototype.getActiveElement = function(opt_doc) {\n  return goog.dom.getActiveElement(opt_doc || this.document_);\n};\ngoog.dom.DomHelper.prototype.appendChild = goog.dom.appendChild;\ngoog.dom.DomHelper.prototype.append = goog.dom.append;\ngoog.dom.DomHelper.prototype.canHaveChildren = goog.dom.canHaveChildren;\ngoog.dom.DomHelper.prototype.removeChildren = goog.dom.removeChildren;\ngoog.dom.DomHelper.prototype.insertSiblingBefore = goog.dom.insertSiblingBefore;\ngoog.dom.DomHelper.prototype.insertSiblingAfter = goog.dom.insertSiblingAfter;\ngoog.dom.DomHelper.prototype.insertChildAt = goog.dom.insertChildAt;\ngoog.dom.DomHelper.prototype.removeNode = goog.dom.removeNode;\ngoog.dom.DomHelper.prototype.replaceNode = goog.dom.replaceNode;\ngoog.dom.DomHelper.prototype.copyContents = goog.dom.copyContents;\ngoog.dom.DomHelper.prototype.flattenElement = goog.dom.flattenElement;\ngoog.dom.DomHelper.prototype.getChildren = goog.dom.getChildren;\ngoog.dom.DomHelper.prototype.getFirstElementChild = goog.dom.getFirstElementChild;\ngoog.dom.DomHelper.prototype.getLastElementChild = goog.dom.getLastElementChild;\ngoog.dom.DomHelper.prototype.getNextElementSibling = goog.dom.getNextElementSibling;\ngoog.dom.DomHelper.prototype.getPreviousElementSibling = goog.dom.getPreviousElementSibling;\ngoog.dom.DomHelper.prototype.getNextNode = goog.dom.getNextNode;\ngoog.dom.DomHelper.prototype.getPreviousNode = goog.dom.getPreviousNode;\ngoog.dom.DomHelper.prototype.isNodeLike = goog.dom.isNodeLike;\ngoog.dom.DomHelper.prototype.isElement = goog.dom.isElement;\ngoog.dom.DomHelper.prototype.isWindow = goog.dom.isWindow;\ngoog.dom.DomHelper.prototype.getParentElement = goog.dom.getParentElement;\ngoog.dom.DomHelper.prototype.contains = goog.dom.contains;\ngoog.dom.DomHelper.prototype.compareNodeOrder = goog.dom.compareNodeOrder;\ngoog.dom.DomHelper.prototype.findCommonAncestor = goog.dom.findCommonAncestor;\ngoog.dom.DomHelper.prototype.getOwnerDocument = goog.dom.getOwnerDocument;\ngoog.dom.DomHelper.prototype.getFrameContentDocument = goog.dom.getFrameContentDocument;\ngoog.dom.DomHelper.prototype.getFrameContentWindow = goog.dom.getFrameContentWindow;\ngoog.dom.DomHelper.prototype.setTextContent = goog.dom.setTextContent;\ngoog.dom.DomHelper.prototype.getOuterHtml = goog.dom.getOuterHtml;\ngoog.dom.DomHelper.prototype.findNode = goog.dom.findNode;\ngoog.dom.DomHelper.prototype.findNodes = goog.dom.findNodes;\ngoog.dom.DomHelper.prototype.isFocusableTabIndex = goog.dom.isFocusableTabIndex;\ngoog.dom.DomHelper.prototype.setFocusableTabIndex = goog.dom.setFocusableTabIndex;\ngoog.dom.DomHelper.prototype.isFocusable = goog.dom.isFocusable;\ngoog.dom.DomHelper.prototype.getTextContent = goog.dom.getTextContent;\ngoog.dom.DomHelper.prototype.getNodeTextLength = goog.dom.getNodeTextLength;\ngoog.dom.DomHelper.prototype.getNodeTextOffset = goog.dom.getNodeTextOffset;\ngoog.dom.DomHelper.prototype.getNodeAtOffset = goog.dom.getNodeAtOffset;\ngoog.dom.DomHelper.prototype.isNodeList = goog.dom.isNodeList;\ngoog.dom.DomHelper.prototype.getAncestorByTagNameAndClass = goog.dom.getAncestorByTagNameAndClass;\ngoog.dom.DomHelper.prototype.getAncestorByClass = goog.dom.getAncestorByClass;\ngoog.dom.DomHelper.prototype.getAncestor = goog.dom.getAncestor;\ngoog.dom.DomHelper.prototype.getCanvasContext2D = goog.dom.getCanvasContext2D;\ngoog.async.nextTick = function(callback, opt_context, opt_useSetImmediate) {\n  var cb = callback;\n  opt_context && (cb = goog.bind(callback, opt_context));\n  cb = goog.async.nextTick.wrapCallback_(cb);\n  \"function\" === typeof goog.global.setImmediate && (opt_useSetImmediate || goog.async.nextTick.useSetImmediate_()) ? goog.global.setImmediate(cb) : (goog.async.nextTick.setImmediate_ || (goog.async.nextTick.setImmediate_ = goog.async.nextTick.getSetImmediateEmulator_()), goog.async.nextTick.setImmediate_(cb));\n};\ngoog.async.nextTick.useSetImmediate_ = function() {\n  return goog.global.Window && goog.global.Window.prototype && !module$contents$goog$labs$userAgent$browser_matchEdgeHtml() && goog.global.Window.prototype.setImmediate == goog.global.setImmediate ? !1 : !0;\n};\ngoog.async.nextTick.getSetImmediateEmulator_ = function() {\n  var Channel = goog.global.MessageChannel;\n  \"undefined\" === typeof Channel && \"undefined\" !== typeof window && window.postMessage && window.addEventListener && !module$contents$goog$labs$userAgent$engine_isPresto() && (Channel = function() {\n    var iframe = goog.dom.createElement(goog.dom.TagName.IFRAME);\n    iframe.style.display = \"none\";\n    document.documentElement.appendChild(iframe);\n    var win = iframe.contentWindow, doc = win.document;\n    doc.open();\n    doc.close();\n    var message = \"callImmediate\" + Math.random(), origin = \"file:\" == win.location.protocol ? \"*\" : win.location.protocol + \"//\" + win.location.host, onmessage = goog.bind(function(e) {\n      if ((\"*\" == origin || e.origin == origin) && e.data == message) {\n        this.port1.onmessage();\n      }\n    }, this);\n    win.addEventListener(\"message\", onmessage, !1);\n    this.port1 = {};\n    this.port2 = {postMessage:function() {\n      win.postMessage(message, origin);\n    }};\n  });\n  if (\"undefined\" !== typeof Channel && !module$contents$goog$labs$userAgent$browser_matchIE()) {\n    var channel = new Channel(), head = {}, tail = head;\n    channel.port1.onmessage = function() {\n      if (void 0 !== head.next) {\n        head = head.next;\n        var cb = head.cb;\n        head.cb = null;\n        cb();\n      }\n    };\n    return function(cb) {\n      tail.next = {cb:cb};\n      tail = tail.next;\n      channel.port2.postMessage(0);\n    };\n  }\n  return function(cb) {\n    goog.global.setTimeout(cb, 0);\n  };\n};\ngoog.async.nextTick.wrapCallback_ = goog.functions.identity;\ngoog.debug.entryPointRegistry.register(function(transformer) {\n  goog.async.nextTick.wrapCallback_ = transformer;\n});\nfunction module$contents$goog$async$throwException_throwException(exception) {\n  goog.global.setTimeout(function() {\n    throw exception;\n  }, 0);\n}\ngoog.async.throwException = module$contents$goog$async$throwException_throwException;\nvar module$contents$goog$async$WorkQueue_WorkQueue = function() {\n  this.workTail_ = this.workHead_ = null;\n};\nmodule$contents$goog$async$WorkQueue_WorkQueue.prototype.add = function(fn, scope) {\n  var item = this.getUnusedItem_();\n  item.set(fn, scope);\n  this.workTail_ ? this.workTail_.next = item : ((0,goog.asserts.assert)(!this.workHead_), this.workHead_ = item);\n  this.workTail_ = item;\n};\nmodule$contents$goog$async$WorkQueue_WorkQueue.prototype.remove = function() {\n  var item = null;\n  this.workHead_ && (item = this.workHead_, this.workHead_ = this.workHead_.next, this.workHead_ || (this.workTail_ = null), item.next = null);\n  return item;\n};\nmodule$contents$goog$async$WorkQueue_WorkQueue.prototype.returnUnused = function(item) {\n  module$contents$goog$async$WorkQueue_WorkQueue.freelist_.put(item);\n};\nmodule$contents$goog$async$WorkQueue_WorkQueue.prototype.getUnusedItem_ = function() {\n  return module$contents$goog$async$WorkQueue_WorkQueue.freelist_.get();\n};\nmodule$contents$goog$async$WorkQueue_WorkQueue.DEFAULT_MAX_UNUSED = 100;\nmodule$contents$goog$async$WorkQueue_WorkQueue.freelist_ = new goog.async.FreeList(function() {\n  return new module$contents$goog$async$WorkQueue_WorkItem();\n}, function(item) {\n  return item.reset();\n}, module$contents$goog$async$WorkQueue_WorkQueue.DEFAULT_MAX_UNUSED);\nvar module$contents$goog$async$WorkQueue_WorkItem = function() {\n  this.next = this.scope = this.fn = null;\n};\nmodule$contents$goog$async$WorkQueue_WorkItem.prototype.set = function(fn, scope) {\n  this.fn = fn;\n  this.scope = scope;\n  this.next = null;\n};\nmodule$contents$goog$async$WorkQueue_WorkItem.prototype.reset = function() {\n  this.next = this.scope = this.fn = null;\n};\ngoog.async.WorkQueue = module$contents$goog$async$WorkQueue_WorkQueue;\ngoog.ASSUME_NATIVE_PROMISE = !1;\ngoog.async.run = function(callback, opt_context) {\n  goog.async.run.schedule_ || goog.async.run.initializeRunner_();\n  goog.async.run.workQueueScheduled_ || (goog.async.run.schedule_(), goog.async.run.workQueueScheduled_ = !0);\n  goog.async.run.workQueue_.add(callback, opt_context);\n};\ngoog.async.run.initializeRunner_ = function() {\n  if (goog.ASSUME_NATIVE_PROMISE || goog.global.Promise && goog.global.Promise.resolve) {\n    var promise = goog.global.Promise.resolve(void 0);\n    goog.async.run.schedule_ = function() {\n      promise.then(goog.async.run.processWorkQueue);\n    };\n  } else {\n    goog.async.run.schedule_ = function() {\n      goog.async.nextTick(goog.async.run.processWorkQueue);\n    };\n  }\n};\ngoog.async.run.forceNextTick = function(opt_realSetTimeout) {\n  goog.async.run.schedule_ = function() {\n    goog.async.nextTick(goog.async.run.processWorkQueue);\n    opt_realSetTimeout && opt_realSetTimeout(goog.async.run.processWorkQueue);\n  };\n};\ngoog.async.run.workQueueScheduled_ = !1;\ngoog.async.run.workQueue_ = new module$contents$goog$async$WorkQueue_WorkQueue();\ngoog.DEBUG && (goog.async.run.resetQueue = function() {\n  goog.async.run.workQueueScheduled_ = !1;\n  goog.async.run.workQueue_ = new module$contents$goog$async$WorkQueue_WorkQueue();\n}, goog.async.run.resetSchedulerForTest = function() {\n  goog.async.run.initializeRunner_();\n});\ngoog.async.run.processWorkQueue = function() {\n  for (var item = null; item = goog.async.run.workQueue_.remove();) {\n    try {\n      item.fn.call(item.scope);\n    } catch (e) {\n      module$contents$goog$async$throwException_throwException(e);\n    }\n    goog.async.run.workQueue_.returnUnused(item);\n  }\n  goog.async.run.workQueueScheduled_ = !1;\n};\ngoog.promise = {};\ngoog.promise.Resolver = function() {\n};\ngoog.Thenable = function() {\n};\ngoog.Thenable.prototype.then = function(opt_onFulfilled, opt_onRejected, opt_context) {\n};\ngoog.Thenable.IMPLEMENTED_BY_PROP = \"$goog_Thenable\";\ngoog.Thenable.addImplementation = function(ctor) {\n  ctor.prototype[goog.Thenable.IMPLEMENTED_BY_PROP] = !0;\n};\ngoog.Thenable.isImplementedBy = function(object) {\n  if (!object) {\n    return !1;\n  }\n  try {\n    return !!object[goog.Thenable.IMPLEMENTED_BY_PROP];\n    return !!object.$goog_Thenable;\n  } catch (e) {\n    return !1;\n  }\n};\ngoog.Promise = function(resolver, opt_context) {\n  this.state_ = goog.Promise.State_.PENDING;\n  this.result_ = void 0;\n  this.callbackEntriesTail_ = this.callbackEntries_ = this.parent_ = null;\n  this.executing_ = !1;\n  0 < goog.Promise.UNHANDLED_REJECTION_DELAY ? this.unhandledRejectionId_ = 0 : 0 == goog.Promise.UNHANDLED_REJECTION_DELAY && (this.hadUnhandledRejection_ = !1);\n  goog.Promise.LONG_STACK_TRACES && (this.stack_ = [], this.addStackTrace_(Error(\"created\")), this.currentStep_ = 0);\n  if (resolver != goog.nullFunction) {\n    try {\n      var self = this;\n      resolver.call(opt_context, function(value) {\n        self.resolve_(goog.Promise.State_.FULFILLED, value);\n      }, function(reason) {\n        if (goog.DEBUG && !(reason instanceof goog.Promise.CancellationError)) {\n          try {\n            if (reason instanceof Error) {\n              throw reason;\n            }\n            throw Error(\"Promise rejected.\");\n          } catch (e) {\n          }\n        }\n        self.resolve_(goog.Promise.State_.REJECTED, reason);\n      });\n    } catch (e) {\n      this.resolve_(goog.Promise.State_.REJECTED, e);\n    }\n  }\n};\ngoog.Promise.LONG_STACK_TRACES = !1;\ngoog.Promise.UNHANDLED_REJECTION_DELAY = 0;\ngoog.Promise.State_ = {PENDING:0, BLOCKED:1, FULFILLED:2, REJECTED:3};\ngoog.Promise.CallbackEntry_ = function() {\n  this.next = this.context = this.onRejected = this.onFulfilled = this.child = null;\n  this.always = !1;\n};\ngoog.Promise.CallbackEntry_.prototype.reset = function() {\n  this.context = this.onRejected = this.onFulfilled = this.child = null;\n  this.always = !1;\n};\ngoog.Promise.DEFAULT_MAX_UNUSED = 100;\ngoog.Promise.freelist_ = new goog.async.FreeList(function() {\n  return new goog.Promise.CallbackEntry_();\n}, function(item) {\n  item.reset();\n}, goog.Promise.DEFAULT_MAX_UNUSED);\ngoog.Promise.getCallbackEntry_ = function(onFulfilled, onRejected, context) {\n  var entry = goog.Promise.freelist_.get();\n  entry.onFulfilled = onFulfilled;\n  entry.onRejected = onRejected;\n  entry.context = context;\n  return entry;\n};\ngoog.Promise.returnEntry_ = function(entry) {\n  goog.Promise.freelist_.put(entry);\n};\ngoog.Promise.resolve = function(opt_value) {\n  if (opt_value instanceof goog.Promise) {\n    return opt_value;\n  }\n  var promise = new goog.Promise(goog.nullFunction);\n  promise.resolve_(goog.Promise.State_.FULFILLED, opt_value);\n  return promise;\n};\ngoog.Promise.reject = function(opt_reason) {\n  return new goog.Promise(function(resolve, reject) {\n    reject(opt_reason);\n  });\n};\ngoog.Promise.resolveThen_ = function(value, onFulfilled, onRejected) {\n  goog.Promise.maybeThen_(value, onFulfilled, onRejected, null) || goog.async.run(goog.partial(onFulfilled, value));\n};\ngoog.Promise.race = function(promises) {\n  return new goog.Promise(function(resolve, reject) {\n    promises.length || resolve(void 0);\n    for (var i = 0, promise; i < promises.length; i++) {\n      promise = promises[i], goog.Promise.resolveThen_(promise, resolve, reject);\n    }\n  });\n};\ngoog.Promise.all = function(promises) {\n  return new goog.Promise(function(resolve, reject) {\n    var toFulfill = promises.length, values = [];\n    if (toFulfill) {\n      for (var onFulfill = function(index, value) {\n        toFulfill--;\n        values[index] = value;\n        0 == toFulfill && resolve(values);\n      }, onReject = function(reason) {\n        reject(reason);\n      }, i = 0, promise; i < promises.length; i++) {\n        promise = promises[i], goog.Promise.resolveThen_(promise, goog.partial(onFulfill, i), onReject);\n      }\n    } else {\n      resolve(values);\n    }\n  });\n};\ngoog.Promise.allSettled = function(promises) {\n  return new goog.Promise(function(resolve, reject) {\n    var toSettle = promises.length, results = [];\n    if (toSettle) {\n      for (var onSettled = function(index, fulfilled, result) {\n        toSettle--;\n        results[index] = fulfilled ? {fulfilled:!0, value:result} : {fulfilled:!1, reason:result};\n        0 == toSettle && resolve(results);\n      }, i = 0, promise; i < promises.length; i++) {\n        promise = promises[i], goog.Promise.resolveThen_(promise, goog.partial(onSettled, i, !0), goog.partial(onSettled, i, !1));\n      }\n    } else {\n      resolve(results);\n    }\n  });\n};\ngoog.Promise.firstFulfilled = function(promises) {\n  return new goog.Promise(function(resolve, reject) {\n    var toReject = promises.length, reasons = [];\n    if (toReject) {\n      for (var onFulfill = function(value) {\n        resolve(value);\n      }, onReject = function(index, reason) {\n        toReject--;\n        reasons[index] = reason;\n        0 == toReject && reject(reasons);\n      }, i = 0, promise; i < promises.length; i++) {\n        promise = promises[i], goog.Promise.resolveThen_(promise, onFulfill, goog.partial(onReject, i));\n      }\n    } else {\n      resolve(void 0);\n    }\n  });\n};\ngoog.Promise.withResolver = function() {\n  var resolve, reject, promise = new goog.Promise(function(rs, rj) {\n    resolve = rs;\n    reject = rj;\n  });\n  return new goog.Promise.Resolver_(promise, resolve, reject);\n};\ngoog.Promise.prototype.then = function(opt_onFulfilled, opt_onRejected, opt_context) {\n  null != opt_onFulfilled && goog.asserts.assertFunction(opt_onFulfilled, \"opt_onFulfilled should be a function.\");\n  null != opt_onRejected && goog.asserts.assertFunction(opt_onRejected, \"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?\");\n  goog.Promise.LONG_STACK_TRACES && this.addStackTrace_(Error(\"then\"));\n  return this.addChildPromise_(\"function\" === typeof opt_onFulfilled ? opt_onFulfilled : null, \"function\" === typeof opt_onRejected ? opt_onRejected : null, opt_context);\n};\ngoog.Thenable.addImplementation(goog.Promise);\ngoog.Promise.prototype.thenVoid = function(opt_onFulfilled, opt_onRejected, opt_context) {\n  null != opt_onFulfilled && goog.asserts.assertFunction(opt_onFulfilled, \"opt_onFulfilled should be a function.\");\n  null != opt_onRejected && goog.asserts.assertFunction(opt_onRejected, \"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?\");\n  goog.Promise.LONG_STACK_TRACES && this.addStackTrace_(Error(\"then\"));\n  this.addCallbackEntry_(goog.Promise.getCallbackEntry_(opt_onFulfilled || goog.nullFunction, opt_onRejected || null, opt_context));\n};\ngoog.Promise.prototype.thenAlways = function(onSettled, opt_context) {\n  goog.Promise.LONG_STACK_TRACES && this.addStackTrace_(Error(\"thenAlways\"));\n  var entry = goog.Promise.getCallbackEntry_(onSettled, onSettled, opt_context);\n  entry.always = !0;\n  this.addCallbackEntry_(entry);\n  return this;\n};\ngoog.Promise.prototype.thenCatch = function(onRejected, opt_context) {\n  goog.Promise.LONG_STACK_TRACES && this.addStackTrace_(Error(\"thenCatch\"));\n  return this.addChildPromise_(null, onRejected, opt_context);\n};\ngoog.Promise.prototype.cancel = function(opt_message) {\n  if (this.state_ == goog.Promise.State_.PENDING) {\n    var err = new goog.Promise.CancellationError(opt_message);\n    goog.async.run(function() {\n      this.cancelInternal_(err);\n    }, this);\n  }\n};\ngoog.Promise.prototype.cancelInternal_ = function(err) {\n  this.state_ == goog.Promise.State_.PENDING && (this.parent_ ? (this.parent_.cancelChild_(this, err), this.parent_ = null) : this.resolve_(goog.Promise.State_.REJECTED, err));\n};\ngoog.Promise.prototype.cancelChild_ = function(childPromise, err) {\n  if (this.callbackEntries_) {\n    for (var childCount = 0, childEntry = null, beforeChildEntry = null, entry = this.callbackEntries_; entry && (entry.always || (childCount++, entry.child == childPromise && (childEntry = entry), !(childEntry && 1 < childCount))); entry = entry.next) {\n      childEntry || (beforeChildEntry = entry);\n    }\n    childEntry && (this.state_ == goog.Promise.State_.PENDING && 1 == childCount ? this.cancelInternal_(err) : (beforeChildEntry ? this.removeEntryAfter_(beforeChildEntry) : this.popEntry_(), this.executeCallback_(childEntry, goog.Promise.State_.REJECTED, err)));\n  }\n};\ngoog.Promise.prototype.addCallbackEntry_ = function(callbackEntry) {\n  this.hasEntry_() || this.state_ != goog.Promise.State_.FULFILLED && this.state_ != goog.Promise.State_.REJECTED || this.scheduleCallbacks_();\n  this.queueEntry_(callbackEntry);\n};\ngoog.Promise.prototype.addChildPromise_ = function(onFulfilled, onRejected, opt_context) {\n  var callbackEntry = goog.Promise.getCallbackEntry_(null, null, null);\n  callbackEntry.child = new goog.Promise(function(resolve, reject) {\n    callbackEntry.onFulfilled = onFulfilled ? function(value) {\n      try {\n        var result = onFulfilled.call(opt_context, value);\n        resolve(result);\n      } catch (err$53) {\n        reject(err$53);\n      }\n    } : resolve;\n    callbackEntry.onRejected = onRejected ? function(reason) {\n      try {\n        var result = onRejected.call(opt_context, reason);\n        void 0 === result && reason instanceof goog.Promise.CancellationError ? reject(reason) : resolve(result);\n      } catch (err$54) {\n        reject(err$54);\n      }\n    } : reject;\n  });\n  callbackEntry.child.parent_ = this;\n  this.addCallbackEntry_(callbackEntry);\n  return callbackEntry.child;\n};\ngoog.Promise.prototype.unblockAndFulfill_ = function(value) {\n  goog.asserts.assert(this.state_ == goog.Promise.State_.BLOCKED);\n  this.state_ = goog.Promise.State_.PENDING;\n  this.resolve_(goog.Promise.State_.FULFILLED, value);\n};\ngoog.Promise.prototype.unblockAndReject_ = function(reason) {\n  goog.asserts.assert(this.state_ == goog.Promise.State_.BLOCKED);\n  this.state_ = goog.Promise.State_.PENDING;\n  this.resolve_(goog.Promise.State_.REJECTED, reason);\n};\ngoog.Promise.prototype.resolve_ = function(state, x) {\n  this.state_ == goog.Promise.State_.PENDING && (this === x && (state = goog.Promise.State_.REJECTED, x = new TypeError(\"Promise cannot resolve to itself\")), this.state_ = goog.Promise.State_.BLOCKED, goog.Promise.maybeThen_(x, this.unblockAndFulfill_, this.unblockAndReject_, this) || (this.result_ = x, this.state_ = state, this.parent_ = null, this.scheduleCallbacks_(), state != goog.Promise.State_.REJECTED || x instanceof goog.Promise.CancellationError || goog.Promise.addUnhandledRejection_(this, \n  x)));\n};\ngoog.Promise.maybeThen_ = function(value, onFulfilled, onRejected, context) {\n  if (value instanceof goog.Promise) {\n    return value.thenVoid(onFulfilled, onRejected, context), !0;\n  }\n  if (goog.Thenable.isImplementedBy(value)) {\n    return value.then(onFulfilled, onRejected, context), !0;\n  }\n  if (goog.isObject(value)) {\n    try {\n      var then = value.then;\n      if (\"function\" === typeof then) {\n        return goog.Promise.tryThen_(value, then, onFulfilled, onRejected, context), !0;\n      }\n    } catch (e) {\n      return onRejected.call(context, e), !0;\n    }\n  }\n  return !1;\n};\ngoog.Promise.tryThen_ = function(thenable, then, onFulfilled, onRejected, context) {\n  var called = !1, resolve = function(value) {\n    called || (called = !0, onFulfilled.call(context, value));\n  }, reject = function(reason) {\n    called || (called = !0, onRejected.call(context, reason));\n  };\n  try {\n    then.call(thenable, resolve, reject);\n  } catch (e) {\n    reject(e);\n  }\n};\ngoog.Promise.prototype.scheduleCallbacks_ = function() {\n  this.executing_ || (this.executing_ = !0, goog.async.run(this.executeCallbacks_, this));\n};\ngoog.Promise.prototype.hasEntry_ = function() {\n  return !!this.callbackEntries_;\n};\ngoog.Promise.prototype.queueEntry_ = function(entry) {\n  goog.asserts.assert(null != entry.onFulfilled);\n  this.callbackEntriesTail_ ? this.callbackEntriesTail_.next = entry : this.callbackEntries_ = entry;\n  this.callbackEntriesTail_ = entry;\n};\ngoog.Promise.prototype.popEntry_ = function() {\n  var entry = null;\n  this.callbackEntries_ && (entry = this.callbackEntries_, this.callbackEntries_ = entry.next, entry.next = null);\n  this.callbackEntries_ || (this.callbackEntriesTail_ = null);\n  null != entry && goog.asserts.assert(null != entry.onFulfilled);\n  return entry;\n};\ngoog.Promise.prototype.removeEntryAfter_ = function(previous) {\n  goog.asserts.assert(this.callbackEntries_);\n  goog.asserts.assert(null != previous);\n  previous.next == this.callbackEntriesTail_ && (this.callbackEntriesTail_ = previous);\n  previous.next = previous.next.next;\n};\ngoog.Promise.prototype.executeCallbacks_ = function() {\n  for (var entry = null; entry = this.popEntry_();) {\n    goog.Promise.LONG_STACK_TRACES && this.currentStep_++, this.executeCallback_(entry, this.state_, this.result_);\n  }\n  this.executing_ = !1;\n};\ngoog.Promise.prototype.executeCallback_ = function(callbackEntry, state, result) {\n  state == goog.Promise.State_.REJECTED && callbackEntry.onRejected && !callbackEntry.always && this.removeUnhandledRejection_();\n  if (callbackEntry.child) {\n    callbackEntry.child.parent_ = null, goog.Promise.invokeCallback_(callbackEntry, state, result);\n  } else {\n    try {\n      callbackEntry.always ? callbackEntry.onFulfilled.call(callbackEntry.context) : goog.Promise.invokeCallback_(callbackEntry, state, result);\n    } catch (err$55) {\n      goog.Promise.handleRejection_.call(null, err$55);\n    }\n  }\n  goog.Promise.returnEntry_(callbackEntry);\n};\ngoog.Promise.invokeCallback_ = function(callbackEntry, state, result) {\n  state == goog.Promise.State_.FULFILLED ? callbackEntry.onFulfilled.call(callbackEntry.context, result) : callbackEntry.onRejected && callbackEntry.onRejected.call(callbackEntry.context, result);\n};\ngoog.Promise.prototype.addStackTrace_ = function(err) {\n  if (goog.Promise.LONG_STACK_TRACES && \"string\" === typeof err.stack) {\n    var trace = err.stack.split(\"\\n\", 4)[3], message = err.message;\n    message += Array(11 - message.length).join(\" \");\n    this.stack_.push(message + trace);\n  }\n};\ngoog.Promise.prototype.appendLongStack_ = function(err) {\n  if (goog.Promise.LONG_STACK_TRACES && err && \"string\" === typeof err.stack && this.stack_.length) {\n    for (var longTrace = [\"Promise trace:\"], promise = this; promise; promise = promise.parent_) {\n      for (var i = this.currentStep_; 0 <= i; i--) {\n        longTrace.push(promise.stack_[i]);\n      }\n      longTrace.push(\"Value: [\" + (promise.state_ == goog.Promise.State_.REJECTED ? \"REJECTED\" : \"FULFILLED\") + \"] <\" + String(promise.result_) + \">\");\n    }\n    err.stack += \"\\n\\n\" + longTrace.join(\"\\n\");\n  }\n};\ngoog.Promise.prototype.removeUnhandledRejection_ = function() {\n  if (0 < goog.Promise.UNHANDLED_REJECTION_DELAY) {\n    for (var p = this; p && p.unhandledRejectionId_; p = p.parent_) {\n      goog.global.clearTimeout(p.unhandledRejectionId_), p.unhandledRejectionId_ = 0;\n    }\n  } else {\n    if (0 == goog.Promise.UNHANDLED_REJECTION_DELAY) {\n      for (p = this; p && p.hadUnhandledRejection_; p = p.parent_) {\n        p.hadUnhandledRejection_ = !1;\n      }\n    }\n  }\n};\ngoog.Promise.addUnhandledRejection_ = function(promise, reason) {\n  0 < goog.Promise.UNHANDLED_REJECTION_DELAY ? promise.unhandledRejectionId_ = goog.global.setTimeout(function() {\n    promise.appendLongStack_(reason);\n    goog.Promise.handleRejection_.call(null, reason);\n  }, goog.Promise.UNHANDLED_REJECTION_DELAY) : 0 == goog.Promise.UNHANDLED_REJECTION_DELAY && (promise.hadUnhandledRejection_ = !0, goog.async.run(function() {\n    promise.hadUnhandledRejection_ && (promise.appendLongStack_(reason), goog.Promise.handleRejection_.call(null, reason));\n  }));\n};\ngoog.Promise.handleRejection_ = module$contents$goog$async$throwException_throwException;\ngoog.Promise.setUnhandledRejectionHandler = function(handler) {\n  goog.Promise.handleRejection_ = handler;\n};\ngoog.Promise.CancellationError = function(opt_message) {\n  module$contents$goog$debug$Error_DebugError.call(this, opt_message);\n  this.reportErrorToServer = !1;\n};\ngoog.inherits(goog.Promise.CancellationError, module$contents$goog$debug$Error_DebugError);\ngoog.Promise.CancellationError.prototype.name = \"cancel\";\ngoog.Promise.Resolver_ = function(promise, resolve, reject) {\n  this.promise = promise;\n  this.resolve = resolve;\n  this.reject = reject;\n};\ngoog.Timer = function(opt_interval, opt_timerObject) {\n  goog.events.EventTarget.call(this);\n  this.interval_ = opt_interval || 1;\n  this.timerObject_ = opt_timerObject || goog.Timer.defaultTimerObject;\n  this.boundTick_ = goog.bind(this.tick_, this);\n  this.last_ = goog.now();\n};\ngoog.inherits(goog.Timer, goog.events.EventTarget);\ngoog.Timer.MAX_TIMEOUT_ = 2147483647;\ngoog.Timer.INVALID_TIMEOUT_ID_ = -1;\ngoog.Timer.prototype.enabled = !1;\ngoog.Timer.defaultTimerObject = goog.global;\ngoog.Timer.intervalScale = 0.8;\ngoog.Timer.prototype.timer_ = null;\ngoog.Timer.prototype.getInterval = function() {\n  return this.interval_;\n};\ngoog.Timer.prototype.setInterval = function(interval) {\n  this.interval_ = interval;\n  this.timer_ && this.enabled ? (this.stop(), this.start()) : this.timer_ && this.stop();\n};\ngoog.Timer.prototype.tick_ = function() {\n  if (this.enabled) {\n    var elapsed = goog.now() - this.last_;\n    0 < elapsed && elapsed < this.interval_ * goog.Timer.intervalScale ? this.timer_ = this.timerObject_.setTimeout(this.boundTick_, this.interval_ - elapsed) : (this.timer_ && (this.timerObject_.clearTimeout(this.timer_), this.timer_ = null), this.dispatchTick(), this.enabled && (this.stop(), this.start()));\n  }\n};\ngoog.Timer.prototype.dispatchTick = function() {\n  this.dispatchEvent(goog.Timer.TICK);\n};\ngoog.Timer.prototype.start = function() {\n  this.enabled = !0;\n  this.timer_ || (this.timer_ = this.timerObject_.setTimeout(this.boundTick_, this.interval_), this.last_ = goog.now());\n};\ngoog.Timer.prototype.stop = function() {\n  this.enabled = !1;\n  this.timer_ && (this.timerObject_.clearTimeout(this.timer_), this.timer_ = null);\n};\ngoog.Timer.prototype.disposeInternal = function() {\n  goog.Timer.superClass_.disposeInternal.call(this);\n  this.stop();\n  delete this.timerObject_;\n};\ngoog.Timer.TICK = \"tick\";\ngoog.Timer.callOnce = function(listener, opt_delay, opt_handler) {\n  if (\"function\" === typeof listener) {\n    opt_handler && (listener = goog.bind(listener, opt_handler));\n  } else {\n    if (listener && \"function\" == typeof listener.handleEvent) {\n      listener = goog.bind(listener.handleEvent, listener);\n    } else {\n      throw Error(\"Invalid listener argument\");\n    }\n  }\n  return Number(opt_delay) > goog.Timer.MAX_TIMEOUT_ ? goog.Timer.INVALID_TIMEOUT_ID_ : goog.Timer.defaultTimerObject.setTimeout(listener, opt_delay || 0);\n};\ngoog.Timer.clear = function(timerId) {\n  goog.Timer.defaultTimerObject.clearTimeout(timerId);\n};\ngoog.Timer.promise = function(delay, opt_result) {\n  var timerKey = null;\n  return (new goog.Promise(function(resolve, reject) {\n    timerKey = goog.Timer.callOnce(function() {\n      resolve(opt_result);\n    }, delay);\n    timerKey == goog.Timer.INVALID_TIMEOUT_ID_ && reject(Error(\"Failed to schedule timer.\"));\n  })).thenCatch(function(error) {\n    goog.Timer.clear(timerKey);\n    throw error;\n  });\n};\nvar module$contents$goog$async$Throttle_Throttle = function(listener, interval, handler) {\n  goog.Disposable.call(this);\n  this.listener_ = null != handler ? listener.bind(handler) : listener;\n  this.interval_ = interval;\n  this.args_ = null;\n  this.shouldFire_ = !1;\n  this.pauseCount_ = 0;\n  this.timer_ = null;\n};\n$jscomp.inherits(module$contents$goog$async$Throttle_Throttle, goog.Disposable);\nmodule$contents$goog$async$Throttle_Throttle.prototype.fire = function(var_args) {\n  this.args_ = arguments;\n  this.timer_ || this.pauseCount_ ? this.shouldFire_ = !0 : this.doAction_();\n};\nmodule$contents$goog$async$Throttle_Throttle.prototype.stop = function() {\n  this.timer_ && (goog.Timer.clear(this.timer_), this.timer_ = null, this.shouldFire_ = !1, this.args_ = null);\n};\nmodule$contents$goog$async$Throttle_Throttle.prototype.pause = function() {\n  this.pauseCount_++;\n};\nmodule$contents$goog$async$Throttle_Throttle.prototype.resume = function() {\n  this.pauseCount_--;\n  this.pauseCount_ || !this.shouldFire_ || this.timer_ || (this.shouldFire_ = !1, this.doAction_());\n};\nmodule$contents$goog$async$Throttle_Throttle.prototype.disposeInternal = function() {\n  goog.Disposable.prototype.disposeInternal.call(this);\n  this.stop();\n};\nmodule$contents$goog$async$Throttle_Throttle.prototype.onTimer_ = function() {\n  this.timer_ = null;\n  this.shouldFire_ && !this.pauseCount_ && (this.shouldFire_ = !1, this.doAction_());\n};\nmodule$contents$goog$async$Throttle_Throttle.prototype.doAction_ = function() {\n  var $jscomp$this = this;\n  this.timer_ = goog.Timer.callOnce(function() {\n    return $jscomp$this.onTimer_();\n  }, this.interval_);\n  var args = this.args_;\n  this.args_ = null;\n  this.listener_.apply(null, args);\n};\ngoog.async.Throttle = module$contents$goog$async$Throttle_Throttle;\n/*\n\n Copyright 2005, 2007 Bob Ippolito. All Rights Reserved.\n Copyright The Closure Library Authors.\n SPDX-License-Identifier: MIT\n*/\ngoog.async.Deferred = function(opt_onCancelFunction, opt_defaultScope) {\n  this.sequence_ = [];\n  this.onCancelFunction_ = opt_onCancelFunction;\n  this.defaultScope_ = opt_defaultScope || null;\n  this.hadError_ = this.fired_ = !1;\n  this.result_ = void 0;\n  this.silentlyCanceled_ = this.blocking_ = this.blocked_ = !1;\n  this.unhandledErrorId_ = 0;\n  this.parent_ = null;\n  this.branches_ = 0;\n  if (goog.async.Deferred.LONG_STACK_TRACES && (this.constructorStack_ = null, Error.captureStackTrace)) {\n    var target = {stack:\"\"};\n    Error.captureStackTrace(target, goog.async.Deferred);\n    \"string\" == typeof target.stack && (this.constructorStack_ = target.stack.replace(/^[^\\n]*\\n/, \"\"));\n  }\n};\ngoog.async.Deferred.STRICT_ERRORS = !1;\ngoog.async.Deferred.LONG_STACK_TRACES = !1;\ngoog.async.Deferred.prototype.cancel = function(opt_deepCancel) {\n  if (this.hasFired()) {\n    this.result_ instanceof goog.async.Deferred && this.result_.cancel();\n  } else {\n    if (this.parent_) {\n      var parent = this.parent_;\n      delete this.parent_;\n      opt_deepCancel ? parent.cancel(opt_deepCancel) : parent.branchCancel_();\n    }\n    this.onCancelFunction_ ? this.onCancelFunction_.call(this.defaultScope_, this) : this.silentlyCanceled_ = !0;\n    this.hasFired() || this.errback(new goog.async.Deferred.CanceledError(this));\n  }\n};\ngoog.async.Deferred.prototype.branchCancel_ = function() {\n  this.branches_--;\n  0 >= this.branches_ && this.cancel();\n};\ngoog.async.Deferred.prototype.continue_ = function(isSuccess, res) {\n  this.blocked_ = !1;\n  this.updateResult_(isSuccess, res);\n};\ngoog.async.Deferred.prototype.updateResult_ = function(isSuccess, res) {\n  this.fired_ = !0;\n  this.result_ = res;\n  this.hadError_ = !isSuccess;\n  this.fire_();\n};\ngoog.async.Deferred.prototype.check_ = function() {\n  if (this.hasFired()) {\n    if (!this.silentlyCanceled_) {\n      throw new goog.async.Deferred.AlreadyCalledError(this);\n    }\n    this.silentlyCanceled_ = !1;\n  }\n};\ngoog.async.Deferred.prototype.callback = function(opt_result) {\n  this.check_();\n  this.assertNotDeferred_(opt_result);\n  this.updateResult_(!0, opt_result);\n};\ngoog.async.Deferred.prototype.errback = function(opt_result) {\n  this.check_();\n  this.assertNotDeferred_(opt_result);\n  this.makeStackTraceLong_(opt_result);\n  this.updateResult_(!1, opt_result);\n};\ngoog.async.Deferred.unhandledErrorHandler_ = function(e) {\n  throw e;\n};\ngoog.async.Deferred.setUnhandledErrorHandler = function(handler) {\n  goog.async.Deferred.unhandledErrorHandler_ = handler;\n};\ngoog.async.Deferred.prototype.makeStackTraceLong_ = function(error) {\n  goog.async.Deferred.LONG_STACK_TRACES && this.constructorStack_ && goog.isObject(error) && error.stack && /^[^\\n]+(\\n   [^\\n]+)+/.test(error.stack) && (error.stack = error.stack + \"\\nDEFERRED OPERATION:\\n\" + this.constructorStack_);\n};\ngoog.async.Deferred.prototype.assertNotDeferred_ = function(obj) {\n  goog.asserts.assert(!(obj instanceof goog.async.Deferred), \"An execution sequence may not be initiated with a blocking Deferred.\");\n};\ngoog.async.Deferred.prototype.addCallback = function(cb, opt_scope) {\n  return this.addCallbacks(cb, null, opt_scope);\n};\ngoog.async.Deferred.prototype.addErrback = function(eb, opt_scope) {\n  return this.addCallbacks(null, eb, opt_scope);\n};\ngoog.async.Deferred.prototype.addBoth = function(f, opt_scope) {\n  return this.addCallbacks(f, f, opt_scope);\n};\ngoog.async.Deferred.prototype.addFinally = function(f, opt_scope) {\n  return this.addCallbacks(f, function(err) {\n    var result = f.call(this, err);\n    if (void 0 === result) {\n      throw err;\n    }\n    return result;\n  }, opt_scope);\n};\ngoog.async.Deferred.prototype.addCallbacks = function(cb, eb, opt_scope) {\n  goog.asserts.assert(!this.blocking_, \"Blocking Deferreds can not be re-used\");\n  this.sequence_.push([cb, eb, opt_scope]);\n  this.hasFired() && this.fire_();\n  return this;\n};\ngoog.async.Deferred.prototype.then = function(opt_onFulfilled, opt_onRejected, opt_context) {\n  var reject, resolve, promise = new goog.Promise(function(res, rej) {\n    resolve = res;\n    reject = rej;\n  });\n  this.addCallbacks(resolve, function(reason) {\n    reason instanceof goog.async.Deferred.CanceledError ? promise.cancel() : reject(reason);\n  });\n  return promise.then(opt_onFulfilled, opt_onRejected, opt_context);\n};\ngoog.Thenable.addImplementation(goog.async.Deferred);\ngoog.async.Deferred.prototype.chainDeferred = function(otherDeferred) {\n  this.addCallbacks(otherDeferred.callback, otherDeferred.errback, otherDeferred);\n  return this;\n};\ngoog.async.Deferred.prototype.awaitDeferred = function(otherDeferred) {\n  return otherDeferred instanceof goog.async.Deferred ? this.addCallback(goog.bind(otherDeferred.branch, otherDeferred)) : this.addCallback(function() {\n    return otherDeferred;\n  });\n};\ngoog.async.Deferred.prototype.branch = function(opt_propagateCancel) {\n  var d = new goog.async.Deferred();\n  this.chainDeferred(d);\n  opt_propagateCancel && (d.parent_ = this, this.branches_++);\n  return d;\n};\ngoog.async.Deferred.prototype.hasFired = function() {\n  return this.fired_;\n};\ngoog.async.Deferred.prototype.isError = function(res) {\n  return res instanceof Error;\n};\ngoog.async.Deferred.prototype.hasErrback_ = function() {\n  return module$contents$goog$array_some(this.sequence_, function(sequenceRow) {\n    return \"function\" === typeof sequenceRow[1];\n  });\n};\ngoog.async.Deferred.prototype.getLastValueForMigration = function() {\n  return this.hasFired() && !this.hadError_ ? this.result_ : void 0;\n};\ngoog.async.Deferred.prototype.fire_ = function() {\n  this.unhandledErrorId_ && this.hasFired() && this.hasErrback_() && (goog.async.Deferred.unscheduleError_(this.unhandledErrorId_), this.unhandledErrorId_ = 0);\n  this.parent_ && (this.parent_.branches_--, delete this.parent_);\n  for (var res = this.result_, unhandledException = !1, isNewlyBlocked = !1; this.sequence_.length && !this.blocked_;) {\n    var sequenceEntry = this.sequence_.shift(), callback = sequenceEntry[0], errback = sequenceEntry[1], scope = sequenceEntry[2], f = this.hadError_ ? errback : callback;\n    if (f) {\n      try {\n        var ret = f.call(scope || this.defaultScope_, res);\n        void 0 !== ret && (this.hadError_ = this.hadError_ && (ret == res || this.isError(ret)), this.result_ = res = ret);\n        if (goog.Thenable.isImplementedBy(res) || \"function\" === typeof goog.global.Promise && res instanceof goog.global.Promise) {\n          this.blocked_ = isNewlyBlocked = !0;\n        }\n      } catch (ex) {\n        res = ex, this.hadError_ = !0, this.makeStackTraceLong_(res), this.hasErrback_() || (unhandledException = !0);\n      }\n    }\n  }\n  this.result_ = res;\n  if (isNewlyBlocked) {\n    var onCallback = goog.bind(this.continue_, this, !0), onErrback = goog.bind(this.continue_, this, !1);\n    res instanceof goog.async.Deferred ? (res.addCallbacks(onCallback, onErrback), res.blocking_ = !0) : res.then(onCallback, onErrback);\n  } else {\n    !goog.async.Deferred.STRICT_ERRORS || !this.isError(res) || res instanceof goog.async.Deferred.CanceledError || (unhandledException = this.hadError_ = !0);\n  }\n  unhandledException && (this.unhandledErrorId_ = goog.async.Deferred.scheduleError_(res));\n};\ngoog.async.Deferred.succeed = function(opt_result) {\n  var d = new goog.async.Deferred();\n  d.callback(opt_result);\n  return d;\n};\ngoog.async.Deferred.fromPromise = function(promise) {\n  var d = new goog.async.Deferred();\n  promise.then(function(value) {\n    d.callback(value);\n  }, function(error) {\n    d.errback(error);\n  });\n  return d;\n};\ngoog.async.Deferred.fail = function(res) {\n  var d = new goog.async.Deferred();\n  d.errback(res);\n  return d;\n};\ngoog.async.Deferred.canceled = function() {\n  var d = new goog.async.Deferred();\n  d.cancel();\n  return d;\n};\ngoog.async.Deferred.when = function(value, callback, opt_scope) {\n  return value instanceof goog.async.Deferred ? value.branch(!0).addCallback(callback, opt_scope) : goog.async.Deferred.succeed(value).addCallback(callback, opt_scope);\n};\ngoog.async.Deferred.AlreadyCalledError = function(deferred) {\n  module$contents$goog$debug$Error_DebugError.call(this);\n  this.deferred = deferred;\n};\ngoog.inherits(goog.async.Deferred.AlreadyCalledError, module$contents$goog$debug$Error_DebugError);\ngoog.async.Deferred.AlreadyCalledError.prototype.message = \"Deferred has already fired\";\ngoog.async.Deferred.AlreadyCalledError.prototype.name = \"AlreadyCalledError\";\ngoog.async.Deferred.CanceledError = function(deferred) {\n  module$contents$goog$debug$Error_DebugError.call(this);\n  this.deferred = deferred;\n};\ngoog.inherits(goog.async.Deferred.CanceledError, module$contents$goog$debug$Error_DebugError);\ngoog.async.Deferred.CanceledError.prototype.message = \"Deferred was canceled\";\ngoog.async.Deferred.CanceledError.prototype.name = \"CanceledError\";\ngoog.async.Deferred.Error_ = function(error) {\n  this.id_ = goog.global.setTimeout(goog.bind(this.throwError, this), 0);\n  this.error_ = error;\n};\ngoog.async.Deferred.Error_.prototype.throwError = function() {\n  goog.asserts.assert(goog.async.Deferred.errorMap_[this.id_], \"Cannot throw an error that is not scheduled.\");\n  delete goog.async.Deferred.errorMap_[this.id_];\n  goog.async.Deferred.unhandledErrorHandler_(this.error_);\n};\ngoog.async.Deferred.Error_.prototype.resetTimer = function() {\n  goog.global.clearTimeout(this.id_);\n};\ngoog.async.Deferred.errorMap_ = {};\ngoog.async.Deferred.scheduleError_ = function(error) {\n  var deferredError = new goog.async.Deferred.Error_(error);\n  goog.async.Deferred.errorMap_[deferredError.id_] = deferredError;\n  return deferredError.id_;\n};\ngoog.async.Deferred.unscheduleError_ = function(id) {\n  var error = goog.async.Deferred.errorMap_[id];\n  error && (error.resetTimer(), delete goog.async.Deferred.errorMap_[id]);\n};\ngoog.async.Deferred.assertNoErrors = function() {\n  var map = goog.async.Deferred.errorMap_, key;\n  for (key in map) {\n    var error = map[key];\n    error.resetTimer();\n    error.throwError();\n  }\n};\ngoog.net = {};\ngoog.net.jsloader = {};\ngoog.net.jsloader.Options = {};\ngoog.net.jsloader.GLOBAL_VERIFY_OBJS_ = \"closure_verification\";\ngoog.net.jsloader.DEFAULT_TIMEOUT = 5000;\ngoog.net.jsloader.scriptsToLoad_ = [];\ngoog.net.jsloader.safeLoadMany = function(trustedUris, opt_options) {\n  if (!trustedUris.length) {\n    return goog.async.Deferred.succeed(null);\n  }\n  var isAnotherModuleLoading = goog.net.jsloader.scriptsToLoad_.length;\n  module$contents$goog$array_extend(goog.net.jsloader.scriptsToLoad_, trustedUris);\n  if (isAnotherModuleLoading) {\n    return goog.net.jsloader.scriptLoadingDeferred_;\n  }\n  trustedUris = goog.net.jsloader.scriptsToLoad_;\n  var popAndLoadNextScript = function() {\n    var trustedUri = trustedUris.shift(), deferred = goog.net.jsloader.safeLoad(trustedUri, opt_options);\n    trustedUris.length && deferred.addBoth(popAndLoadNextScript);\n    return deferred;\n  };\n  goog.net.jsloader.scriptLoadingDeferred_ = popAndLoadNextScript();\n  return goog.net.jsloader.scriptLoadingDeferred_;\n};\ngoog.net.jsloader.safeLoad = function(trustedUri, opt_options) {\n  var options = opt_options || {}, doc = options.document || document, uri = goog.html.TrustedResourceUrl.unwrap(trustedUri), script = (new goog.dom.DomHelper(doc)).createElement(goog.dom.TagName.SCRIPT), request = {script_:script, timeout_:void 0}, deferred = new goog.async.Deferred(goog.net.jsloader.cancel_, request), timeout = null, timeoutDuration = null != options.timeout ? options.timeout : goog.net.jsloader.DEFAULT_TIMEOUT;\n  0 < timeoutDuration && (timeout = window.setTimeout(function() {\n    goog.net.jsloader.cleanup_(script, !0);\n    deferred.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.TIMEOUT, \"Timeout reached for loading script \" + uri));\n  }, timeoutDuration), request.timeout_ = timeout);\n  script.onload = script.onreadystatechange = function() {\n    script.readyState && \"loaded\" != script.readyState && \"complete\" != script.readyState || (goog.net.jsloader.cleanup_(script, options.cleanupWhenDone || !1, timeout), deferred.callback(null));\n  };\n  script.onerror = function() {\n    goog.net.jsloader.cleanup_(script, !0, timeout);\n    deferred.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.LOAD_ERROR, \"Error while loading script \" + uri));\n  };\n  var properties = options.attributes || {};\n  module$contents$goog$object_extend(properties, {type:\"text/javascript\", charset:\"UTF-8\"});\n  goog.dom.setProperties(script, properties);\n  goog.dom.safe.setScriptSrc(script, trustedUri);\n  goog.net.jsloader.getScriptParentElement_(doc).appendChild(script);\n  return deferred;\n};\ngoog.net.jsloader.safeLoadAndVerify = function(trustedUri, verificationObjName, options) {\n  goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_] || (goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_] = {});\n  var verifyObjs = goog.global[goog.net.jsloader.GLOBAL_VERIFY_OBJS_], uri = goog.html.TrustedResourceUrl.unwrap(trustedUri);\n  if (void 0 !== verifyObjs[verificationObjName]) {\n    return goog.async.Deferred.fail(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.VERIFY_OBJECT_ALREADY_EXISTS, \"Verification object \" + verificationObjName + \" already defined.\"));\n  }\n  var sendDeferred = goog.net.jsloader.safeLoad(trustedUri, options), deferred = new goog.async.Deferred(goog.bind(sendDeferred.cancel, sendDeferred));\n  sendDeferred.addCallback(function() {\n    var result = verifyObjs[verificationObjName];\n    void 0 !== result ? (deferred.callback(result), delete verifyObjs[verificationObjName]) : deferred.errback(new goog.net.jsloader.Error(goog.net.jsloader.ErrorCode.VERIFY_ERROR, \"Script \" + uri + \" loaded, but verification object \" + verificationObjName + \" was not defined.\"));\n  });\n  sendDeferred.addErrback(function(error) {\n    void 0 !== verifyObjs[verificationObjName] && delete verifyObjs[verificationObjName];\n    deferred.errback(error);\n  });\n  return deferred;\n};\ngoog.net.jsloader.getScriptParentElement_ = function(doc) {\n  var headElements = goog.dom.getElementsByTagName(goog.dom.TagName.HEAD, doc);\n  return headElements && 0 !== headElements.length ? headElements[0] : doc.documentElement;\n};\ngoog.net.jsloader.cancel_ = function() {\n  if (this && this.script_) {\n    var scriptNode = this.script_;\n    scriptNode && scriptNode.tagName == goog.dom.TagName.SCRIPT && goog.net.jsloader.cleanup_(scriptNode, !0, this.timeout_);\n  }\n};\ngoog.net.jsloader.cleanup_ = function(scriptNode, removeScriptNode, opt_timeout) {\n  null != opt_timeout && goog.global.clearTimeout(opt_timeout);\n  scriptNode.onload = goog.nullFunction;\n  scriptNode.onerror = goog.nullFunction;\n  scriptNode.onreadystatechange = goog.nullFunction;\n  removeScriptNode && window.setTimeout(function() {\n    goog.dom.removeNode(scriptNode);\n  }, 0);\n};\ngoog.net.jsloader.ErrorCode = {LOAD_ERROR:0, TIMEOUT:1, VERIFY_ERROR:2, VERIFY_OBJECT_ALREADY_EXISTS:3,};\ngoog.net.jsloader.Error = function(code, opt_message) {\n  var msg = \"Jsloader error (code #\" + code + \")\";\n  opt_message && (msg += \": \" + opt_message);\n  module$contents$goog$debug$Error_DebugError.call(this, msg);\n  this.code = code;\n};\ngoog.inherits(goog.net.jsloader.Error, module$contents$goog$debug$Error_DebugError);\ngoog.json = {};\ngoog.json.Replacer = {};\ngoog.json.Reviver = {};\ngoog.json.USE_NATIVE_JSON = !1;\ngoog.json.TRY_NATIVE_JSON = !0;\ngoog.json.isValid = function(s) {\n  return /^\\s*$/.test(s) ? !1 : /^[\\],:{}\\s\\u2028\\u2029]*$/.test(s.replace(/\\\\[\"\\\\\\/bfnrtu]/g, \"@\").replace(/(?:\"[^\"\\\\\\n\\r\\u2028\\u2029\\x00-\\x08\\x0a-\\x1f]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?)[\\s\\u2028\\u2029]*(?=:|,|]|}|$)/g, \"]\").replace(/(?:^|:|,)(?:[\\s\\u2028\\u2029]*\\[)+/g, \"\"));\n};\ngoog.json.errorLogger_ = goog.nullFunction;\ngoog.json.setErrorLogger = function(errorLogger) {\n  goog.json.errorLogger_ = errorLogger;\n};\ngoog.json.parse = goog.json.USE_NATIVE_JSON ? goog.global.JSON.parse : function(s) {\n  if (goog.json.TRY_NATIVE_JSON) {\n    try {\n      return goog.global.JSON.parse(s);\n    } catch (ex) {\n      var error = ex;\n    }\n  }\n  var o = String(s);\n  if (goog.json.isValid(o)) {\n    try {\n      var result = eval(\"(\" + o + \")\");\n      error && goog.json.errorLogger_(\"Invalid JSON: \" + o, error);\n      return result;\n    } catch (ex$56) {\n    }\n  }\n  throw Error(\"Invalid JSON string: \" + o);\n};\ngoog.json.serialize = goog.json.USE_NATIVE_JSON ? goog.global.JSON.stringify : function(object, opt_replacer) {\n  return (new goog.json.Serializer(opt_replacer)).serialize(object);\n};\ngoog.json.Serializer = function(opt_replacer) {\n  this.replacer_ = opt_replacer;\n};\ngoog.json.Serializer.prototype.serialize = function(object) {\n  var sb = [];\n  this.serializeInternal(object, sb);\n  return sb.join(\"\");\n};\ngoog.json.Serializer.prototype.serializeInternal = function(object, sb) {\n  if (null == object) {\n    sb.push(\"null\");\n  } else {\n    if (\"object\" == typeof object) {\n      if (Array.isArray(object)) {\n        this.serializeArray(object, sb);\n        return;\n      }\n      if (object instanceof String || object instanceof Number || object instanceof Boolean) {\n        object = object.valueOf();\n      } else {\n        this.serializeObject_(object, sb);\n        return;\n      }\n    }\n    switch(typeof object) {\n      case \"string\":\n        this.serializeString_(object, sb);\n        break;\n      case \"number\":\n        this.serializeNumber_(object, sb);\n        break;\n      case \"boolean\":\n        sb.push(String(object));\n        break;\n      case \"function\":\n        sb.push(\"null\");\n        break;\n      default:\n        throw Error(\"Unknown type: \" + typeof object);\n    }\n  }\n};\ngoog.json.Serializer.charToJsonCharCache_ = {'\"':'\\\\\"', \"\\\\\":\"\\\\\\\\\", \"/\":\"\\\\/\", \"\\b\":\"\\\\b\", \"\\f\":\"\\\\f\", \"\\n\":\"\\\\n\", \"\\r\":\"\\\\r\", \"\\t\":\"\\\\t\", \"\\x0B\":\"\\\\u000b\"};\ngoog.json.Serializer.charsToReplace_ = /\\uffff/.test(\"\\uffff\") ? /[\\\\\"\\x00-\\x1f\\x7f-\\uffff]/g : /[\\\\\"\\x00-\\x1f\\x7f-\\xff]/g;\ngoog.json.Serializer.prototype.serializeString_ = function(s, sb) {\n  sb.push('\"', s.replace(goog.json.Serializer.charsToReplace_, function(c) {\n    var rv = goog.json.Serializer.charToJsonCharCache_[c];\n    rv || (rv = \"\\\\u\" + (c.charCodeAt(0) | 65536).toString(16).substr(1), goog.json.Serializer.charToJsonCharCache_[c] = rv);\n    return rv;\n  }), '\"');\n};\ngoog.json.Serializer.prototype.serializeNumber_ = function(n, sb) {\n  sb.push(isFinite(n) && !isNaN(n) ? String(n) : \"null\");\n};\ngoog.json.Serializer.prototype.serializeArray = function(arr, sb) {\n  var l = arr.length;\n  sb.push(\"[\");\n  for (var sep = \"\", i = 0; i < l; i++) {\n    sb.push(sep);\n    var value = arr[i];\n    this.serializeInternal(this.replacer_ ? this.replacer_.call(arr, String(i), value) : value, sb);\n    sep = \",\";\n  }\n  sb.push(\"]\");\n};\ngoog.json.Serializer.prototype.serializeObject_ = function(obj, sb) {\n  sb.push(\"{\");\n  var sep = \"\", key;\n  for (key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var value = obj[key];\n      \"function\" != typeof value && (sb.push(sep), this.serializeString_(key, sb), sb.push(\":\"), this.serializeInternal(this.replacer_ ? this.replacer_.call(obj, key, value) : value, sb), sep = \",\");\n    }\n  }\n  sb.push(\"}\");\n};\ngoog.json.hybrid = {};\ngoog.json.hybrid.stringify = goog.json.USE_NATIVE_JSON ? goog.global.JSON.stringify : function(obj) {\n  if (goog.global.JSON) {\n    try {\n      return goog.global.JSON.stringify(obj);\n    } catch (e) {\n    }\n  }\n  return goog.json.serialize(obj);\n};\ngoog.json.hybrid.parse_ = function(jsonString, fallbackParser) {\n  if (goog.global.JSON) {\n    try {\n      var obj = goog.global.JSON.parse(jsonString);\n      goog.asserts.assert(\"object\" == typeof obj);\n      return obj;\n    } catch (e) {\n    }\n  }\n  return fallbackParser(jsonString);\n};\ngoog.json.hybrid.parse = goog.json.USE_NATIVE_JSON ? goog.global.JSON.parse : function(jsonString) {\n  return goog.json.hybrid.parse_(jsonString, goog.json.parse);\n};\ngoog.log = {};\ngoog.log.ENABLED = goog.debug.LOGGING_ENABLED;\ngoog.log.ROOT_LOGGER_NAME = \"\";\nvar third_party$javascript$closure$log$log$classdecl$var0 = function(name, value) {\n  this.name = name;\n  this.value = value;\n};\nthird_party$javascript$closure$log$log$classdecl$var0.prototype.toString = function() {\n  return this.name;\n};\ngoog.log.Level = third_party$javascript$closure$log$log$classdecl$var0;\ngoog.log.Level.OFF = new goog.log.Level(\"OFF\", Infinity);\ngoog.log.Level.SHOUT = new goog.log.Level(\"SHOUT\", 1200);\ngoog.log.Level.SEVERE = new goog.log.Level(\"SEVERE\", 1000);\ngoog.log.Level.WARNING = new goog.log.Level(\"WARNING\", 900);\ngoog.log.Level.INFO = new goog.log.Level(\"INFO\", 800);\ngoog.log.Level.CONFIG = new goog.log.Level(\"CONFIG\", 700);\ngoog.log.Level.FINE = new goog.log.Level(\"FINE\", 500);\ngoog.log.Level.FINER = new goog.log.Level(\"FINER\", 400);\ngoog.log.Level.FINEST = new goog.log.Level(\"FINEST\", 300);\ngoog.log.Level.ALL = new goog.log.Level(\"ALL\", 0);\ngoog.log.Level.PREDEFINED_LEVELS = [goog.log.Level.OFF, goog.log.Level.SHOUT, goog.log.Level.SEVERE, goog.log.Level.WARNING, goog.log.Level.INFO, goog.log.Level.CONFIG, goog.log.Level.FINE, goog.log.Level.FINER, goog.log.Level.FINEST, goog.log.Level.ALL];\ngoog.log.Level.predefinedLevelsCache_ = null;\ngoog.log.Level.createPredefinedLevelsCache_ = function() {\n  goog.log.Level.predefinedLevelsCache_ = {};\n  for (var i = 0, level = void 0; level = goog.log.Level.PREDEFINED_LEVELS[i]; i++) {\n    goog.log.Level.predefinedLevelsCache_[level.value] = level, goog.log.Level.predefinedLevelsCache_[level.name] = level;\n  }\n};\ngoog.log.Level.getPredefinedLevel = function(name) {\n  goog.log.Level.predefinedLevelsCache_ || goog.log.Level.createPredefinedLevelsCache_();\n  return goog.log.Level.predefinedLevelsCache_[name] || null;\n};\ngoog.log.Level.getPredefinedLevelByValue = function(value) {\n  goog.log.Level.predefinedLevelsCache_ || goog.log.Level.createPredefinedLevelsCache_();\n  if (value in goog.log.Level.predefinedLevelsCache_) {\n    return goog.log.Level.predefinedLevelsCache_[value];\n  }\n  for (var i = 0; i < goog.log.Level.PREDEFINED_LEVELS.length; ++i) {\n    var level = goog.log.Level.PREDEFINED_LEVELS[i];\n    if (level.value <= value) {\n      return level;\n    }\n  }\n  return null;\n};\nvar third_party$javascript$closure$log$log$classdecl$var1 = function() {\n};\nthird_party$javascript$closure$log$log$classdecl$var1.prototype.getName = function() {\n};\ngoog.log.Logger = third_party$javascript$closure$log$log$classdecl$var1;\ngoog.log.Logger.Level = goog.log.Level;\nvar third_party$javascript$closure$log$log$classdecl$var2 = function(capacity) {\n  this.capacity_ = \"number\" === typeof capacity ? capacity : goog.log.LogBuffer.CAPACITY;\n  this.clear();\n};\nthird_party$javascript$closure$log$log$classdecl$var2.prototype.addRecord = function(level, msg, loggerName) {\n  if (!this.isBufferingEnabled()) {\n    return new goog.log.LogRecord(level, msg, loggerName);\n  }\n  var curIndex = (this.curIndex_ + 1) % this.capacity_;\n  this.curIndex_ = curIndex;\n  if (this.isFull_) {\n    var ret = this.buffer_[curIndex];\n    ret.reset(level, msg, loggerName);\n    return ret;\n  }\n  this.isFull_ = curIndex == this.capacity_ - 1;\n  return this.buffer_[curIndex] = new goog.log.LogRecord(level, msg, loggerName);\n};\nthird_party$javascript$closure$log$log$classdecl$var2.prototype.forEachRecord = function(func) {\n  var buffer = this.buffer_;\n  if (buffer[0]) {\n    var curIndex = this.curIndex_, i = this.isFull_ ? curIndex : -1;\n    do {\n      i = (i + 1) % this.capacity_, func(buffer[i]);\n    } while (i !== curIndex);\n  }\n};\nthird_party$javascript$closure$log$log$classdecl$var2.prototype.isBufferingEnabled = function() {\n  return 0 < this.capacity_;\n};\nthird_party$javascript$closure$log$log$classdecl$var2.prototype.isFull = function() {\n  return this.isFull_;\n};\nthird_party$javascript$closure$log$log$classdecl$var2.prototype.clear = function() {\n  this.buffer_ = Array(this.capacity_);\n  this.curIndex_ = -1;\n  this.isFull_ = !1;\n};\ngoog.log.LogBuffer = third_party$javascript$closure$log$log$classdecl$var2;\ngoog.log.LogBuffer.CAPACITY = 0;\ngoog.log.LogBuffer.getInstance = function() {\n  goog.log.LogBuffer.instance_ || (goog.log.LogBuffer.instance_ = new goog.log.LogBuffer(goog.log.LogBuffer.CAPACITY));\n  return goog.log.LogBuffer.instance_;\n};\ngoog.log.LogBuffer.isBufferingEnabled = function() {\n  return goog.log.LogBuffer.getInstance().isBufferingEnabled();\n};\nvar third_party$javascript$closure$log$log$classdecl$var3 = function(level, msg, loggerName, time, sequenceNumber) {\n  this.exception_ = void 0;\n  this.reset(level || goog.log.Level.OFF, msg, loggerName, time, sequenceNumber);\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.reset = function(level, msg, loggerName, time, sequenceNumber) {\n  this.time_ = time || goog.now();\n  this.level_ = level;\n  this.msg_ = msg;\n  this.loggerName_ = loggerName;\n  this.exception_ = void 0;\n  this.sequenceNumber_ = \"number\" === typeof sequenceNumber ? sequenceNumber : goog.log.LogRecord.nextSequenceNumber_;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.getLoggerName = function() {\n  return this.loggerName_;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.setLoggerName = function(name) {\n  this.loggerName_ = name;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.getException = function() {\n  return this.exception_;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.setException = function(exception) {\n  this.exception_ = exception;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.getLevel = function() {\n  return this.level_;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.setLevel = function(level) {\n  this.level_ = level;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.getMessage = function() {\n  return this.msg_;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.setMessage = function(msg) {\n  this.msg_ = msg;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.getMillis = function() {\n  return this.time_;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.setMillis = function(time) {\n  this.time_ = time;\n};\nthird_party$javascript$closure$log$log$classdecl$var3.prototype.getSequenceNumber = function() {\n  return this.sequenceNumber_;\n};\ngoog.log.LogRecord = third_party$javascript$closure$log$log$classdecl$var3;\ngoog.log.LogRecord.nextSequenceNumber_ = 0;\nvar third_party$javascript$closure$log$log$classdecl$var4 = function(name, parent) {\n  this.level = null;\n  this.handlers = [];\n  this.parent = (void 0 === parent ? null : parent) || null;\n  this.children = [];\n  this.logger = {getName:function() {\n    return name;\n  }};\n};\nthird_party$javascript$closure$log$log$classdecl$var4.prototype.getEffectiveLevel = function() {\n  if (this.level) {\n    return this.level;\n  }\n  if (this.parent) {\n    return this.parent.getEffectiveLevel();\n  }\n  goog.asserts.fail(\"Root logger has no level set.\");\n  return goog.log.Level.OFF;\n};\nthird_party$javascript$closure$log$log$classdecl$var4.prototype.publish = function(logRecord) {\n  for (var target = this; target;) {\n    target.handlers.forEach(function(handler) {\n      handler(logRecord);\n    }), target = target.parent;\n  }\n};\ngoog.log.LogRegistryEntry_ = third_party$javascript$closure$log$log$classdecl$var4;\nvar third_party$javascript$closure$log$log$classdecl$var5 = function() {\n  this.entries = {};\n  var rootLogRegistryEntry = new goog.log.LogRegistryEntry_(goog.log.ROOT_LOGGER_NAME);\n  rootLogRegistryEntry.level = goog.log.Level.CONFIG;\n  this.entries[goog.log.ROOT_LOGGER_NAME] = rootLogRegistryEntry;\n};\nthird_party$javascript$closure$log$log$classdecl$var5.prototype.getLogRegistryEntry = function(name, level) {\n  var entry = this.entries[name];\n  if (entry) {\n    return void 0 !== level && (entry.level = level), entry;\n  }\n  var lastDotIndex = name.lastIndexOf(\".\"), parentLogRegistryEntry = this.getLogRegistryEntry(name.substr(0, lastDotIndex)), logRegistryEntry = new goog.log.LogRegistryEntry_(name, parentLogRegistryEntry);\n  this.entries[name] = logRegistryEntry;\n  parentLogRegistryEntry.children.push(logRegistryEntry);\n  void 0 !== level && (logRegistryEntry.level = level);\n  return logRegistryEntry;\n};\nthird_party$javascript$closure$log$log$classdecl$var5.prototype.getAllLoggers = function() {\n  var $jscomp$this = this;\n  return Object.keys(this.entries).map(function(loggerName) {\n    return $jscomp$this.entries[loggerName].logger;\n  });\n};\ngoog.log.LogRegistry_ = third_party$javascript$closure$log$log$classdecl$var5;\ngoog.log.LogRegistry_.getInstance = function() {\n  goog.log.LogRegistry_.instance_ || (goog.log.LogRegistry_.instance_ = new goog.log.LogRegistry_());\n  return goog.log.LogRegistry_.instance_;\n};\ngoog.log.getLogger = function(name, level) {\n  return goog.log.ENABLED ? goog.log.LogRegistry_.getInstance().getLogRegistryEntry(name, level).logger : null;\n};\ngoog.log.getRootLogger = function() {\n  return goog.log.ENABLED ? goog.log.LogRegistry_.getInstance().getLogRegistryEntry(goog.log.ROOT_LOGGER_NAME).logger : null;\n};\ngoog.log.addHandler = function(logger, handler) {\n  goog.log.ENABLED && logger && goog.log.LogRegistry_.getInstance().getLogRegistryEntry(logger.getName()).handlers.push(handler);\n};\ngoog.log.removeHandler = function(logger, handler) {\n  if (goog.log.ENABLED && logger) {\n    var loggerEntry = goog.log.LogRegistry_.getInstance().getLogRegistryEntry(logger.getName()), indexOfHandler = loggerEntry.handlers.indexOf(handler);\n    if (-1 !== indexOfHandler) {\n      return loggerEntry.handlers.splice(indexOfHandler, 1), !0;\n    }\n  }\n  return !1;\n};\ngoog.log.setLevel = function(logger, level) {\n  goog.log.ENABLED && logger && (goog.log.LogRegistry_.getInstance().getLogRegistryEntry(logger.getName()).level = level);\n};\ngoog.log.getLevel = function(logger) {\n  return goog.log.ENABLED && logger ? goog.log.LogRegistry_.getInstance().getLogRegistryEntry(logger.getName()).level : null;\n};\ngoog.log.getEffectiveLevel = function(logger) {\n  return goog.log.ENABLED && logger ? goog.log.LogRegistry_.getInstance().getLogRegistryEntry(logger.getName()).getEffectiveLevel() : goog.log.Level.OFF;\n};\ngoog.log.isLoggable = function(logger, level) {\n  return goog.log.ENABLED && logger && level ? level.value >= goog.log.getEffectiveLevel(logger).value : !1;\n};\ngoog.log.getAllLoggers = function() {\n  return goog.log.ENABLED ? goog.log.LogRegistry_.getInstance().getAllLoggers() : [];\n};\ngoog.log.getLogRecord = function(logger, level, msg, exception) {\n  var logRecord = goog.log.LogBuffer.getInstance().addRecord(level || goog.log.Level.OFF, msg, logger.getName());\n  logRecord.setException(exception);\n  return logRecord;\n};\ngoog.log.publishLogRecord = function(logger, logRecord) {\n  goog.log.ENABLED && logger && goog.log.isLoggable(logger, logRecord.getLevel()) && goog.log.LogRegistry_.getInstance().getLogRegistryEntry(logger.getName()).publish(logRecord);\n};\ngoog.log.log = function(logger, level, msg, exception) {\n  if (goog.log.ENABLED && logger && goog.log.isLoggable(logger, level)) {\n    level = level || goog.log.Level.OFF;\n    var loggerEntry = goog.log.LogRegistry_.getInstance().getLogRegistryEntry(logger.getName());\n    \"function\" === typeof msg && (msg = msg());\n    var logRecord = goog.log.LogBuffer.getInstance().addRecord(level, msg, logger.getName());\n    logRecord.setException(exception);\n    loggerEntry.publish(logRecord);\n  }\n};\ngoog.log.error = function(logger, msg, exception) {\n  goog.log.ENABLED && logger && goog.log.log(logger, goog.log.Level.SEVERE, msg, exception);\n};\ngoog.log.warning = function(logger, msg, exception) {\n  goog.log.ENABLED && logger && goog.log.log(logger, goog.log.Level.WARNING, msg, exception);\n};\ngoog.log.info = function(logger, msg, exception) {\n  goog.log.ENABLED && logger && goog.log.log(logger, goog.log.Level.INFO, msg, exception);\n};\ngoog.log.fine = function(logger, msg, exception) {\n  goog.log.ENABLED && logger && goog.log.log(logger, goog.log.Level.FINE, msg, exception);\n};\ngoog.net.ErrorCode = {NO_ERROR:0, ACCESS_DENIED:1, FILE_NOT_FOUND:2, FF_SILENT_ERROR:3, CUSTOM_ERROR:4, EXCEPTION:5, HTTP_ERROR:6, ABORT:7, TIMEOUT:8, OFFLINE:9,};\ngoog.net.ErrorCode.getDebugMessage = function(errorCode) {\n  switch(errorCode) {\n    case goog.net.ErrorCode.NO_ERROR:\n      return \"No Error\";\n    case goog.net.ErrorCode.ACCESS_DENIED:\n      return \"Access denied to content document\";\n    case goog.net.ErrorCode.FILE_NOT_FOUND:\n      return \"File not found\";\n    case goog.net.ErrorCode.FF_SILENT_ERROR:\n      return \"Firefox silently errored\";\n    case goog.net.ErrorCode.CUSTOM_ERROR:\n      return \"Application custom error\";\n    case goog.net.ErrorCode.EXCEPTION:\n      return \"An exception occurred\";\n    case goog.net.ErrorCode.HTTP_ERROR:\n      return \"Http response at 400 or 500 level\";\n    case goog.net.ErrorCode.ABORT:\n      return \"Request was aborted\";\n    case goog.net.ErrorCode.TIMEOUT:\n      return \"Request timed out\";\n    case goog.net.ErrorCode.OFFLINE:\n      return \"The resource is not available offline\";\n    default:\n      return \"Unrecognized error code\";\n  }\n};\ngoog.net.EventType = {COMPLETE:\"complete\", SUCCESS:\"success\", ERROR:\"error\", ABORT:\"abort\", READY:\"ready\", READY_STATE_CHANGE:\"readystatechange\", TIMEOUT:\"timeout\", INCREMENTAL_DATA:\"incrementaldata\", PROGRESS:\"progress\", DOWNLOAD_PROGRESS:\"downloadprogress\", UPLOAD_PROGRESS:\"uploadprogress\",};\ngoog.net.HttpStatus = {CONTINUE:100, SWITCHING_PROTOCOLS:101, OK:200, CREATED:201, ACCEPTED:202, NON_AUTHORITATIVE_INFORMATION:203, NO_CONTENT:204, RESET_CONTENT:205, PARTIAL_CONTENT:206, MULTI_STATUS:207, MULTIPLE_CHOICES:300, MOVED_PERMANENTLY:301, FOUND:302, SEE_OTHER:303, NOT_MODIFIED:304, USE_PROXY:305, TEMPORARY_REDIRECT:307, PERMANENT_REDIRECT:308, BAD_REQUEST:400, UNAUTHORIZED:401, PAYMENT_REQUIRED:402, FORBIDDEN:403, NOT_FOUND:404, METHOD_NOT_ALLOWED:405, NOT_ACCEPTABLE:406, PROXY_AUTHENTICATION_REQUIRED:407, \nREQUEST_TIMEOUT:408, CONFLICT:409, GONE:410, LENGTH_REQUIRED:411, PRECONDITION_FAILED:412, REQUEST_ENTITY_TOO_LARGE:413, REQUEST_URI_TOO_LONG:414, UNSUPPORTED_MEDIA_TYPE:415, REQUEST_RANGE_NOT_SATISFIABLE:416, EXPECTATION_FAILED:417, UNPROCESSABLE_ENTITY:422, LOCKED:423, FAILED_DEPENDENCY:424, PRECONDITION_REQUIRED:428, TOO_MANY_REQUESTS:429, REQUEST_HEADER_FIELDS_TOO_LARGE:431, CLIENT_CLOSED_REQUEST:499, INTERNAL_SERVER_ERROR:500, NOT_IMPLEMENTED:501, BAD_GATEWAY:502, SERVICE_UNAVAILABLE:503, GATEWAY_TIMEOUT:504, \nHTTP_VERSION_NOT_SUPPORTED:505, INSUFFICIENT_STORAGE:507, NETWORK_AUTHENTICATION_REQUIRED:511, QUIRK_IE_NO_CONTENT:1223,};\ngoog.net.HttpStatus.isSuccess = function(status) {\n  switch(status) {\n    case goog.net.HttpStatus.OK:\n    case goog.net.HttpStatus.CREATED:\n    case goog.net.HttpStatus.ACCEPTED:\n    case goog.net.HttpStatus.NO_CONTENT:\n    case goog.net.HttpStatus.PARTIAL_CONTENT:\n    case goog.net.HttpStatus.NOT_MODIFIED:\n    case goog.net.HttpStatus.QUIRK_IE_NO_CONTENT:\n      return !0;\n    default:\n      return !1;\n  }\n};\ngoog.net.XhrLike = function() {\n};\ngoog.net.XhrLike.prototype.open = function(method, url, opt_async, opt_user, opt_password) {\n};\ngoog.net.XhrLike.prototype.send = function(opt_data) {\n};\ngoog.net.XhrLike.prototype.abort = function() {\n};\ngoog.net.XhrLike.prototype.setRequestHeader = function(header, value) {\n};\ngoog.net.XhrLike.prototype.getResponseHeader = function(header) {\n};\ngoog.net.XhrLike.prototype.getAllResponseHeaders = function() {\n};\ngoog.net.XhrLike.prototype.setTrustToken = function(trustTokenAttribute) {\n};\ngoog.net.XmlHttpFactory = function() {\n};\ngoog.net.XmlHttpFactory.prototype.cachedOptions_ = null;\ngoog.net.XmlHttpFactory.prototype.getOptions = function() {\n  return this.cachedOptions_ || (this.cachedOptions_ = this.internalGetOptions());\n};\ngoog.net.WrapperXmlHttpFactory = function(xhrFactory, optionsFactory) {\n  this.xhrFactory_ = xhrFactory;\n  this.optionsFactory_ = optionsFactory;\n};\ngoog.inherits(goog.net.WrapperXmlHttpFactory, goog.net.XmlHttpFactory);\ngoog.net.WrapperXmlHttpFactory.prototype.createInstance = function() {\n  return this.xhrFactory_();\n};\ngoog.net.WrapperXmlHttpFactory.prototype.getOptions = function() {\n  return this.optionsFactory_();\n};\ngoog.net.XmlHttp = function() {\n  return goog.net.XmlHttp.factory_.createInstance();\n};\ngoog.net.XmlHttp.ASSUME_NATIVE_XHR = !1;\ngoog.net.XmlHttpDefines = {};\ngoog.net.XmlHttpDefines.ASSUME_NATIVE_XHR = !1;\ngoog.net.XmlHttp.getOptions = function() {\n  return goog.net.XmlHttp.factory_.getOptions();\n};\ngoog.net.XmlHttp.OptionType = {USE_NULL_FUNCTION:0, LOCAL_REQUEST_ERROR:1,};\ngoog.net.XmlHttp.ReadyState = {UNINITIALIZED:0, LOADING:1, LOADED:2, INTERACTIVE:3, COMPLETE:4,};\ngoog.net.XmlHttp.setFactory = function(factory, optionsFactory) {\n  goog.net.XmlHttp.setGlobalFactory(new goog.net.WrapperXmlHttpFactory(goog.asserts.assert(factory), goog.asserts.assert(optionsFactory)));\n};\ngoog.net.XmlHttp.setGlobalFactory = function(factory) {\n  goog.net.XmlHttp.factory_ = factory;\n};\ngoog.net.DefaultXmlHttpFactory = function() {\n};\ngoog.inherits(goog.net.DefaultXmlHttpFactory, goog.net.XmlHttpFactory);\ngoog.net.DefaultXmlHttpFactory.prototype.createInstance = function() {\n  var progId = this.getProgId_();\n  return progId ? new ActiveXObject(progId) : new XMLHttpRequest();\n};\ngoog.net.DefaultXmlHttpFactory.prototype.internalGetOptions = function() {\n  var options = {};\n  this.getProgId_() && (options[goog.net.XmlHttp.OptionType.USE_NULL_FUNCTION] = !0, options[goog.net.XmlHttp.OptionType.LOCAL_REQUEST_ERROR] = !0);\n  return options;\n};\ngoog.net.DefaultXmlHttpFactory.prototype.getProgId_ = function() {\n  if (goog.net.XmlHttp.ASSUME_NATIVE_XHR || goog.net.XmlHttpDefines.ASSUME_NATIVE_XHR) {\n    return \"\";\n  }\n  if (!this.ieProgId_ && \"undefined\" == typeof XMLHttpRequest && \"undefined\" != typeof ActiveXObject) {\n    for (var ACTIVE_X_IDENTS = [\"MSXML2.XMLHTTP.6.0\", \"MSXML2.XMLHTTP.3.0\", \"MSXML2.XMLHTTP\", \"Microsoft.XMLHTTP\",], i = 0; i < ACTIVE_X_IDENTS.length; i++) {\n      var candidate = ACTIVE_X_IDENTS[i];\n      try {\n        return new ActiveXObject(candidate), this.ieProgId_ = candidate;\n      } catch (e) {\n      }\n    }\n    throw Error(\"Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed\");\n  }\n  return this.ieProgId_;\n};\ngoog.net.XmlHttp.setGlobalFactory(new goog.net.DefaultXmlHttpFactory());\ngoog.net.XhrIo = function(opt_xmlHttpFactory) {\n  goog.events.EventTarget.call(this);\n  this.headers = new Map();\n  this.xmlHttpFactory_ = opt_xmlHttpFactory || null;\n  this.active_ = !1;\n  this.xhrOptions_ = this.xhr_ = null;\n  this.lastMethod_ = this.lastUri_ = \"\";\n  this.lastErrorCode_ = goog.net.ErrorCode.NO_ERROR;\n  this.lastError_ = \"\";\n  this.inAbort_ = this.inOpen_ = this.inSend_ = this.errorDispatched_ = !1;\n  this.timeoutInterval_ = 0;\n  this.timeoutId_ = null;\n  this.responseType_ = goog.net.XhrIo.ResponseType.DEFAULT;\n  this.useXhr2Timeout_ = this.progressEventsEnabled_ = this.withCredentials_ = !1;\n  this.trustToken_ = null;\n};\ngoog.inherits(goog.net.XhrIo, goog.events.EventTarget);\ngoog.net.XhrIo.ResponseType = {DEFAULT:\"\", TEXT:\"text\", DOCUMENT:\"document\", BLOB:\"blob\", ARRAY_BUFFER:\"arraybuffer\",};\ngoog.net.XhrIo.prototype.logger_ = goog.log.getLogger(\"goog.net.XhrIo\");\ngoog.net.XhrIo.CONTENT_TYPE_HEADER = \"Content-Type\";\ngoog.net.XhrIo.CONTENT_TRANSFER_ENCODING = \"Content-Transfer-Encoding\";\ngoog.net.XhrIo.HTTP_SCHEME_PATTERN = /^https?$/i;\ngoog.net.XhrIo.METHODS_WITH_FORM_DATA = [\"POST\", \"PUT\"];\ngoog.net.XhrIo.FORM_CONTENT_TYPE = \"application/x-www-form-urlencoded;charset=utf-8\";\ngoog.net.XhrIo.XHR2_TIMEOUT_ = \"timeout\";\ngoog.net.XhrIo.XHR2_ON_TIMEOUT_ = \"ontimeout\";\ngoog.net.XhrIo.sendInstances_ = [];\ngoog.net.XhrIo.send = function(url, opt_callback, opt_method, opt_content, opt_headers, opt_timeoutInterval, opt_withCredentials) {\n  var x = new goog.net.XhrIo();\n  goog.net.XhrIo.sendInstances_.push(x);\n  opt_callback && x.listen(goog.net.EventType.COMPLETE, opt_callback);\n  x.listenOnce(goog.net.EventType.READY, x.cleanupSend_);\n  opt_timeoutInterval && x.setTimeoutInterval(opt_timeoutInterval);\n  opt_withCredentials && x.setWithCredentials(opt_withCredentials);\n  x.send(url, opt_method, opt_content, opt_headers);\n  return x;\n};\ngoog.net.XhrIo.cleanup = function() {\n  for (var instances = goog.net.XhrIo.sendInstances_; instances.length;) {\n    instances.pop().dispose();\n  }\n};\ngoog.net.XhrIo.protectEntryPoints = function(errorHandler) {\n  goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_ = errorHandler.protectEntryPoint(goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_);\n};\ngoog.net.XhrIo.prototype.cleanupSend_ = function() {\n  this.dispose();\n  module$contents$goog$array_remove(goog.net.XhrIo.sendInstances_, this);\n};\ngoog.net.XhrIo.prototype.getTimeoutInterval = function() {\n  return this.timeoutInterval_;\n};\ngoog.net.XhrIo.prototype.setTimeoutInterval = function(ms) {\n  this.timeoutInterval_ = Math.max(0, ms);\n};\ngoog.net.XhrIo.prototype.setResponseType = function(type) {\n  this.responseType_ = type;\n};\ngoog.net.XhrIo.prototype.getResponseType = function() {\n  return this.responseType_;\n};\ngoog.net.XhrIo.prototype.setWithCredentials = function(withCredentials) {\n  this.withCredentials_ = withCredentials;\n};\ngoog.net.XhrIo.prototype.getWithCredentials = function() {\n  return this.withCredentials_;\n};\ngoog.net.XhrIo.prototype.setProgressEventsEnabled = function(enabled) {\n  this.progressEventsEnabled_ = enabled;\n};\ngoog.net.XhrIo.prototype.getProgressEventsEnabled = function() {\n  return this.progressEventsEnabled_;\n};\ngoog.net.XhrIo.prototype.setTrustToken = function(trustToken) {\n  this.trustToken_ = trustToken;\n};\ngoog.net.XhrIo.prototype.send = function(url, opt_method, opt_content, opt_headers) {\n  if (this.xhr_) {\n    throw Error(\"[goog.net.XhrIo] Object is active with another request=\" + this.lastUri_ + \"; newUri=\" + url);\n  }\n  var method = opt_method ? opt_method.toUpperCase() : \"GET\";\n  this.lastUri_ = url;\n  this.lastError_ = \"\";\n  this.lastErrorCode_ = goog.net.ErrorCode.NO_ERROR;\n  this.lastMethod_ = method;\n  this.errorDispatched_ = !1;\n  this.active_ = !0;\n  this.xhr_ = this.createXhr();\n  this.xhrOptions_ = this.xmlHttpFactory_ ? this.xmlHttpFactory_.getOptions() : goog.net.XmlHttp.getOptions();\n  this.xhr_.onreadystatechange = goog.bind(this.onReadyStateChange_, this);\n  this.getProgressEventsEnabled() && \"onprogress\" in this.xhr_ && (this.xhr_.onprogress = goog.bind(function(e) {\n    this.onProgressHandler_(e, !0);\n  }, this), this.xhr_.upload && (this.xhr_.upload.onprogress = goog.bind(this.onProgressHandler_, this)));\n  try {\n    goog.log.fine(this.logger_, this.formatMsg_(\"Opening Xhr\")), this.inOpen_ = !0, this.xhr_.open(method, String(url), !0), this.inOpen_ = !1;\n  } catch (err$57) {\n    goog.log.fine(this.logger_, this.formatMsg_(\"Error opening Xhr: \" + err$57.message));\n    this.error_(goog.net.ErrorCode.EXCEPTION, err$57);\n    return;\n  }\n  var content = opt_content || \"\", headers = new Map(this.headers);\n  if (opt_headers) {\n    if (Object.getPrototypeOf(opt_headers) === Object.prototype) {\n      for (var key in opt_headers) {\n        headers.set(key, opt_headers[key]);\n      }\n    } else {\n      if (\"function\" === typeof opt_headers.keys && \"function\" === typeof opt_headers.get) {\n        for (var $jscomp$iter$18 = $jscomp.makeIterator(opt_headers.keys()), $jscomp$key$key = $jscomp$iter$18.next(); !$jscomp$key$key.done; $jscomp$key$key = $jscomp$iter$18.next()) {\n          var key$58 = $jscomp$key$key.value;\n          headers.set(key$58, opt_headers.get(key$58));\n        }\n      } else {\n        throw Error(\"Unknown input type for opt_headers: \" + String(opt_headers));\n      }\n    }\n  }\n  var contentTypeKey = Array.from(headers.keys()).find(function(header) {\n    return goog.string.caseInsensitiveEquals(goog.net.XhrIo.CONTENT_TYPE_HEADER, header);\n  }), contentIsFormData = goog.global.FormData && content instanceof goog.global.FormData;\n  !module$contents$goog$array_contains(goog.net.XhrIo.METHODS_WITH_FORM_DATA, method) || contentTypeKey || contentIsFormData || headers.set(goog.net.XhrIo.CONTENT_TYPE_HEADER, goog.net.XhrIo.FORM_CONTENT_TYPE);\n  for (var $jscomp$iter$19 = $jscomp.makeIterator(headers), $jscomp$key$ = $jscomp$iter$19.next(); !$jscomp$key$.done; $jscomp$key$ = $jscomp$iter$19.next()) {\n    var $jscomp$destructuring$var19 = $jscomp.makeIterator($jscomp$key$.value), key$59 = $jscomp$destructuring$var19.next().value, value = $jscomp$destructuring$var19.next().value;\n    this.xhr_.setRequestHeader(key$59, value);\n  }\n  this.responseType_ && (this.xhr_.responseType = this.responseType_);\n  \"withCredentials\" in this.xhr_ && this.xhr_.withCredentials !== this.withCredentials_ && (this.xhr_.withCredentials = this.withCredentials_);\n  if (\"setTrustToken\" in this.xhr_ && this.trustToken_) {\n    try {\n      this.xhr_.setTrustToken(this.trustToken_);\n    } catch (err$60) {\n      goog.log.fine(this.logger_, this.formatMsg_(\"Error SetTrustToken: \" + err$60.message));\n    }\n  }\n  try {\n    this.cleanUpTimeoutTimer_(), 0 < this.timeoutInterval_ && (this.useXhr2Timeout_ = goog.net.XhrIo.shouldUseXhr2Timeout_(this.xhr_), goog.log.fine(this.logger_, this.formatMsg_(\"Will abort after \" + this.timeoutInterval_ + \"ms if incomplete, xhr2 \" + this.useXhr2Timeout_)), this.useXhr2Timeout_ ? (this.xhr_[goog.net.XhrIo.XHR2_TIMEOUT_] = this.timeoutInterval_, this.xhr_[goog.net.XhrIo.XHR2_ON_TIMEOUT_] = goog.bind(this.timeout_, this)) : this.timeoutId_ = goog.Timer.callOnce(this.timeout_, this.timeoutInterval_, \n    this)), goog.log.fine(this.logger_, this.formatMsg_(\"Sending request\")), this.inSend_ = !0, this.xhr_.send(content), this.inSend_ = !1;\n  } catch (err$61) {\n    goog.log.fine(this.logger_, this.formatMsg_(\"Send error: \" + err$61.message)), this.error_(goog.net.ErrorCode.EXCEPTION, err$61);\n  }\n};\ngoog.net.XhrIo.shouldUseXhr2Timeout_ = function(xhr) {\n  return goog.userAgent.IE && goog.userAgent.isVersionOrHigher(9) && \"number\" === typeof xhr[goog.net.XhrIo.XHR2_TIMEOUT_] && void 0 !== xhr[goog.net.XhrIo.XHR2_ON_TIMEOUT_];\n};\ngoog.net.XhrIo.prototype.createXhr = function() {\n  return this.xmlHttpFactory_ ? this.xmlHttpFactory_.createInstance() : goog.net.XmlHttp();\n};\ngoog.net.XhrIo.prototype.timeout_ = function() {\n  \"undefined\" != typeof goog && this.xhr_ && (this.lastError_ = \"Timed out after \" + this.timeoutInterval_ + \"ms, aborting\", this.lastErrorCode_ = goog.net.ErrorCode.TIMEOUT, goog.log.fine(this.logger_, this.formatMsg_(this.lastError_)), this.dispatchEvent(goog.net.EventType.TIMEOUT), this.abort(goog.net.ErrorCode.TIMEOUT));\n};\ngoog.net.XhrIo.prototype.error_ = function(errorCode, err) {\n  this.active_ = !1;\n  this.xhr_ && (this.inAbort_ = !0, this.xhr_.abort(), this.inAbort_ = !1);\n  this.lastError_ = err;\n  this.lastErrorCode_ = errorCode;\n  this.dispatchErrors_();\n  this.cleanUpXhr_();\n};\ngoog.net.XhrIo.prototype.dispatchErrors_ = function() {\n  this.errorDispatched_ || (this.errorDispatched_ = !0, this.dispatchEvent(goog.net.EventType.COMPLETE), this.dispatchEvent(goog.net.EventType.ERROR));\n};\ngoog.net.XhrIo.prototype.abort = function(opt_failureCode) {\n  this.xhr_ && this.active_ && (goog.log.fine(this.logger_, this.formatMsg_(\"Aborting\")), this.active_ = !1, this.inAbort_ = !0, this.xhr_.abort(), this.inAbort_ = !1, this.lastErrorCode_ = opt_failureCode || goog.net.ErrorCode.ABORT, this.dispatchEvent(goog.net.EventType.COMPLETE), this.dispatchEvent(goog.net.EventType.ABORT), this.cleanUpXhr_());\n};\ngoog.net.XhrIo.prototype.disposeInternal = function() {\n  this.xhr_ && (this.active_ && (this.active_ = !1, this.inAbort_ = !0, this.xhr_.abort(), this.inAbort_ = !1), this.cleanUpXhr_(!0));\n  goog.net.XhrIo.superClass_.disposeInternal.call(this);\n};\ngoog.net.XhrIo.prototype.onReadyStateChange_ = function() {\n  if (!this.isDisposed()) {\n    if (this.inOpen_ || this.inSend_ || this.inAbort_) {\n      this.onReadyStateChangeHelper_();\n    } else {\n      this.onReadyStateChangeEntryPoint_();\n    }\n  }\n};\ngoog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_ = function() {\n  this.onReadyStateChangeHelper_();\n};\ngoog.net.XhrIo.prototype.onReadyStateChangeHelper_ = function() {\n  if (this.active_ && \"undefined\" != typeof goog) {\n    if (this.xhrOptions_[goog.net.XmlHttp.OptionType.LOCAL_REQUEST_ERROR] && this.getReadyState() == goog.net.XmlHttp.ReadyState.COMPLETE && 2 == this.getStatus()) {\n      goog.log.fine(this.logger_, this.formatMsg_(\"Local request error detected and ignored\"));\n    } else {\n      if (this.inSend_ && this.getReadyState() == goog.net.XmlHttp.ReadyState.COMPLETE) {\n        goog.Timer.callOnce(this.onReadyStateChange_, 0, this);\n      } else {\n        if (this.dispatchEvent(goog.net.EventType.READY_STATE_CHANGE), this.isComplete()) {\n          goog.log.fine(this.logger_, this.formatMsg_(\"Request complete\"));\n          this.active_ = !1;\n          try {\n            this.isSuccess() ? (this.dispatchEvent(goog.net.EventType.COMPLETE), this.dispatchEvent(goog.net.EventType.SUCCESS)) : (this.lastErrorCode_ = goog.net.ErrorCode.HTTP_ERROR, this.lastError_ = this.getStatusText() + \" [\" + this.getStatus() + \"]\", this.dispatchErrors_());\n          } finally {\n            this.cleanUpXhr_();\n          }\n        }\n      }\n    }\n  }\n};\ngoog.net.XhrIo.prototype.onProgressHandler_ = function(e, opt_isDownload) {\n  goog.asserts.assert(e.type === goog.net.EventType.PROGRESS, \"goog.net.EventType.PROGRESS is of the same type as raw XHR progress.\");\n  this.dispatchEvent(goog.net.XhrIo.buildProgressEvent_(e, goog.net.EventType.PROGRESS));\n  this.dispatchEvent(goog.net.XhrIo.buildProgressEvent_(e, opt_isDownload ? goog.net.EventType.DOWNLOAD_PROGRESS : goog.net.EventType.UPLOAD_PROGRESS));\n};\ngoog.net.XhrIo.buildProgressEvent_ = function(e, eventType) {\n  return {type:eventType, lengthComputable:e.lengthComputable, loaded:e.loaded, total:e.total,};\n};\ngoog.net.XhrIo.prototype.cleanUpXhr_ = function(opt_fromDispose) {\n  if (this.xhr_) {\n    this.cleanUpTimeoutTimer_();\n    var xhr = this.xhr_, clearedOnReadyStateChange = this.xhrOptions_[goog.net.XmlHttp.OptionType.USE_NULL_FUNCTION] ? goog.nullFunction : null;\n    this.xhrOptions_ = this.xhr_ = null;\n    opt_fromDispose || this.dispatchEvent(goog.net.EventType.READY);\n    try {\n      xhr.onreadystatechange = clearedOnReadyStateChange;\n    } catch (e) {\n      goog.log.error(this.logger_, \"Problem encountered resetting onreadystatechange: \" + e.message);\n    }\n  }\n};\ngoog.net.XhrIo.prototype.cleanUpTimeoutTimer_ = function() {\n  this.xhr_ && this.useXhr2Timeout_ && (this.xhr_[goog.net.XhrIo.XHR2_ON_TIMEOUT_] = null);\n  this.timeoutId_ && (goog.Timer.clear(this.timeoutId_), this.timeoutId_ = null);\n};\ngoog.net.XhrIo.prototype.isActive = function() {\n  return !!this.xhr_;\n};\ngoog.net.XhrIo.prototype.isComplete = function() {\n  return this.getReadyState() == goog.net.XmlHttp.ReadyState.COMPLETE;\n};\ngoog.net.XhrIo.prototype.isSuccess = function() {\n  var status = this.getStatus();\n  return goog.net.HttpStatus.isSuccess(status) || 0 === status && !this.isLastUriEffectiveSchemeHttp_();\n};\ngoog.net.XhrIo.prototype.isLastUriEffectiveSchemeHttp_ = function() {\n  var scheme = goog.uri.utils.getEffectiveScheme(String(this.lastUri_));\n  return goog.net.XhrIo.HTTP_SCHEME_PATTERN.test(scheme);\n};\ngoog.net.XhrIo.prototype.getReadyState = function() {\n  return this.xhr_ ? this.xhr_.readyState : goog.net.XmlHttp.ReadyState.UNINITIALIZED;\n};\ngoog.net.XhrIo.prototype.getStatus = function() {\n  try {\n    return this.getReadyState() > goog.net.XmlHttp.ReadyState.LOADED ? this.xhr_.status : -1;\n  } catch (e) {\n    return -1;\n  }\n};\ngoog.net.XhrIo.prototype.getStatusText = function() {\n  try {\n    return this.getReadyState() > goog.net.XmlHttp.ReadyState.LOADED ? this.xhr_.statusText : \"\";\n  } catch (e) {\n    return goog.log.fine(this.logger_, \"Can not get status: \" + e.message), \"\";\n  }\n};\ngoog.net.XhrIo.prototype.getLastUri = function() {\n  return String(this.lastUri_);\n};\ngoog.net.XhrIo.prototype.getResponseText = function() {\n  try {\n    return this.xhr_ ? this.xhr_.responseText : \"\";\n  } catch (e) {\n    return goog.log.fine(this.logger_, \"Can not get responseText: \" + e.message), \"\";\n  }\n};\ngoog.net.XhrIo.prototype.getResponseBody = function() {\n  try {\n    if (this.xhr_ && \"responseBody\" in this.xhr_) {\n      return this.xhr_.responseBody;\n    }\n  } catch (e) {\n    goog.log.fine(this.logger_, \"Can not get responseBody: \" + e.message);\n  }\n  return null;\n};\ngoog.net.XhrIo.prototype.getResponseXml = function() {\n  try {\n    return this.xhr_ ? this.xhr_.responseXML : null;\n  } catch (e) {\n    return goog.log.fine(this.logger_, \"Can not get responseXML: \" + e.message), null;\n  }\n};\ngoog.net.XhrIo.prototype.getResponseJson = function(opt_xssiPrefix) {\n  if (this.xhr_) {\n    var responseText = this.xhr_.responseText;\n    opt_xssiPrefix && 0 == responseText.indexOf(opt_xssiPrefix) && (responseText = responseText.substring(opt_xssiPrefix.length));\n    return goog.json.hybrid.parse(responseText);\n  }\n};\ngoog.net.XhrIo.prototype.getResponse = function() {\n  try {\n    if (!this.xhr_) {\n      return null;\n    }\n    if (\"response\" in this.xhr_) {\n      return this.xhr_.response;\n    }\n    switch(this.responseType_) {\n      case goog.net.XhrIo.ResponseType.DEFAULT:\n      case goog.net.XhrIo.ResponseType.TEXT:\n        return this.xhr_.responseText;\n      case goog.net.XhrIo.ResponseType.ARRAY_BUFFER:\n        if (\"mozResponseArrayBuffer\" in this.xhr_) {\n          return this.xhr_.mozResponseArrayBuffer;\n        }\n    }\n    goog.log.error(this.logger_, \"Response type \" + this.responseType_ + \" is not supported on this browser\");\n    return null;\n  } catch (e) {\n    return goog.log.fine(this.logger_, \"Can not get response: \" + e.message), null;\n  }\n};\ngoog.net.XhrIo.prototype.getResponseHeader = function(key) {\n  if (this.xhr_ && this.isComplete()) {\n    var value = this.xhr_.getResponseHeader(key);\n    return null === value ? void 0 : value;\n  }\n};\ngoog.net.XhrIo.prototype.getAllResponseHeaders = function() {\n  return this.xhr_ && this.isComplete() ? this.xhr_.getAllResponseHeaders() || \"\" : \"\";\n};\ngoog.net.XhrIo.prototype.getResponseHeaders = function() {\n  for (var headersObject = {}, headersArray = this.getAllResponseHeaders().split(\"\\r\\n\"), i = 0; i < headersArray.length; i++) {\n    if (!goog.string.isEmptyOrWhitespace(headersArray[i])) {\n      var keyValue = goog.string.splitLimit(headersArray[i], \":\", 1), key = keyValue[0], value = keyValue[1];\n      if (\"string\" === typeof value) {\n        value = value.trim();\n        var values$jscomp$0 = headersObject[key] || [];\n        headersObject[key] = values$jscomp$0;\n        values$jscomp$0.push(value);\n      }\n    }\n  }\n  return module$contents$goog$object_map(headersObject, function(values) {\n    return values.join(\", \");\n  });\n};\ngoog.net.XhrIo.prototype.getStreamingResponseHeader = function(key) {\n  return this.xhr_ ? this.xhr_.getResponseHeader(key) : null;\n};\ngoog.net.XhrIo.prototype.getAllStreamingResponseHeaders = function() {\n  return this.xhr_ ? this.xhr_.getAllResponseHeaders() : \"\";\n};\ngoog.net.XhrIo.prototype.getLastErrorCode = function() {\n  return this.lastErrorCode_;\n};\ngoog.net.XhrIo.prototype.getLastError = function() {\n  return \"string\" === typeof this.lastError_ ? this.lastError_ : String(this.lastError_);\n};\ngoog.net.XhrIo.prototype.formatMsg_ = function(msg) {\n  return msg + \" [\" + this.lastMethod_ + \" \" + this.lastUri_ + \" \" + this.getStatus() + \"]\";\n};\ngoog.debug.entryPointRegistry.register(function(transformer) {\n  goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_ = transformer(goog.net.XhrIo.prototype.onReadyStateChangeEntryPoint_);\n});\nee.apiclient = {};\nvar module$contents$ee$apiclient_apiclient = {};\nee.apiclient.VERSION = module$exports$ee$apiVersion.V1ALPHA;\nee.apiclient.API_CLIENT_VERSION = \"0.1.289\";\nee.apiclient.NULL_VALUE = module$exports$eeapiclient$domain_object.NULL_VALUE;\nee.apiclient.PromiseRequestService = module$exports$eeapiclient$promise_request_service.PromiseRequestService;\nee.apiclient.MakeRequestParams = module$contents$eeapiclient$request_params_MakeRequestParams;\nee.apiclient.deserialize = module$contents$eeapiclient$domain_object_deserialize;\nee.apiclient.serialize = module$contents$eeapiclient$domain_object_serialize;\nvar module$contents$ee$apiclient_Call = function(callback, retries) {\n  module$contents$ee$apiclient_apiclient.initialize();\n  this.callback = callback;\n  this.requestService = new module$contents$ee$apiclient_EERequestService(!callback, retries);\n};\nmodule$contents$ee$apiclient_Call.prototype.handle = function(response) {\n  var $jscomp$this = this;\n  if (response instanceof Promise) {\n    if (this.callback) {\n      var callback = function(result, error) {\n        try {\n          return $jscomp$this.callback(result, error);\n        } catch (callbackError) {\n          setTimeout(function() {\n            throw callbackError;\n          }, 0);\n        }\n      };\n      response.then(callback, function(error) {\n        return callback(void 0, error);\n      });\n    }\n  } else {\n    response.then(function(result) {\n      response = result;\n    });\n  }\n  return response;\n};\nmodule$contents$ee$apiclient_Call.prototype.projectsPath = function() {\n  return \"projects/\" + module$contents$ee$apiclient_apiclient.getProject();\n};\nmodule$contents$ee$apiclient_Call.prototype.algorithms = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsAlgorithmsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.projects = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.assets = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsAssetsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.operations = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsOperationsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.value = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsValueApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.maps = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsMapsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.map = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsMapApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.image = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsImageApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.table = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsTableApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.tables = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsTablesApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.video = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsVideoApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.videoMap = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsVideoMapApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.classifier = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsClassifierApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.dmsMaps = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsDmsMapsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.thumbnails = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsThumbnailsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.videoThumbnails = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsVideoThumbnailsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nmodule$contents$ee$apiclient_Call.prototype.filmstripThumbnails = function() {\n  return new module$exports$eeapiclient$ee_api_client.ProjectsFilmstripThumbnailsApiClientImpl(module$exports$ee$apiVersion.V1ALPHA, this.requestService);\n};\nvar module$contents$ee$apiclient_EERequestService = function(sync, retries) {\n  this.sync = sync = void 0 === sync ? !1 : sync;\n  this.retries = null != retries ? retries : sync ? module$contents$ee$apiclient_apiclient.MAX_SYNC_RETRIES_ : module$contents$ee$apiclient_apiclient.MAX_ASYNC_RETRIES_;\n};\n$jscomp.inherits(module$contents$ee$apiclient_EERequestService, module$exports$eeapiclient$promise_request_service.PromiseRequestService);\nmodule$contents$ee$apiclient_EERequestService.prototype.send = function(params, responseCtor) {\n  var $jscomp$this = this;\n  module$contents$eeapiclient$request_params_processParams(params);\n  var path = params.path || \"\", url = module$contents$ee$apiclient_apiclient.getSafeApiUrl() + path, args = module$contents$ee$apiclient_apiclient.makeRequest_(params.queryParams || {}), body = params.body ? JSON.stringify(params.body) : void 0;\n  if (this.sync) {\n    var raw = module$contents$ee$apiclient_apiclient.send(url, args, void 0, params.httpMethod, body, this.retries), value$62 = responseCtor ? module$contents$eeapiclient$domain_object_deserialize(responseCtor, raw) : raw, thenable = function(v) {\n      return {then:function(f) {\n        return thenable(f(v));\n      }};\n    };\n    return thenable(value$62);\n  }\n  return (new Promise(function(resolve, reject) {\n    module$contents$ee$apiclient_apiclient.send(url, args, function(value, error) {\n      error ? reject(error) : resolve(value);\n    }, params.httpMethod, body, $jscomp$this.retries);\n  })).then(function(r) {\n    return responseCtor ? module$contents$eeapiclient$domain_object_deserialize(responseCtor, r) : r;\n  });\n};\nmodule$contents$ee$apiclient_EERequestService.prototype.makeRequest = function(params) {\n};\nvar module$contents$ee$apiclient_BatchCall = function(callback) {\n  module$contents$ee$apiclient_Call.call(this, callback);\n  this.requestService = new module$contents$ee$apiclient_BatchRequestService();\n};\n$jscomp.inherits(module$contents$ee$apiclient_BatchCall, module$contents$ee$apiclient_Call);\nmodule$contents$ee$apiclient_BatchCall.prototype.send = function(parts, getResponse) {\n  var $jscomp$this = this, batchUrl = module$contents$ee$apiclient_apiclient.getSafeApiUrl() + \"/batch\", body = parts.map(function($jscomp$destructuring$var20) {\n    var $jscomp$destructuring$var21 = $jscomp.makeIterator($jscomp$destructuring$var20), id = $jscomp$destructuring$var21.next().value, $jscomp$destructuring$var22 = $jscomp.makeIterator($jscomp$destructuring$var21.next().value), partBody = $jscomp$destructuring$var22.next().value, ctor = $jscomp$destructuring$var22.next().value;\n    return \"--batch_EARTHENGINE_batch\\r\\nContent-Type: application/http\\r\\nContent-Transfer-Encoding: binary\\r\\nMIME-Version: 1.0\\r\\nContent-ID: <\" + id + \">\\r\\n\\r\\n\" + partBody + \"\\r\\n\";\n  }).join(\"\") + \"--batch_EARTHENGINE_batch--\\r\\n\", deserializeResponses = function(response) {\n    var result = {};\n    parts.forEach(function($jscomp$destructuring$var23) {\n      var $jscomp$destructuring$var24 = $jscomp.makeIterator($jscomp$destructuring$var23), id = $jscomp$destructuring$var24.next().value, $jscomp$destructuring$var25 = $jscomp.makeIterator($jscomp$destructuring$var24.next().value), partBody = $jscomp$destructuring$var25.next().value, ctor = $jscomp$destructuring$var25.next().value;\n      null != response[id] && (result[id] = module$contents$eeapiclient$domain_object_deserialize(ctor, response[id]));\n    });\n    return getResponse ? getResponse(result) : result;\n  };\n  return this.callback ? (module$contents$ee$apiclient_apiclient.send(batchUrl, null, function(result, err) {\n    return $jscomp$this.callback(err ? result : deserializeResponses(result), err);\n  }, \"multipart/mixed; boundary=batch_EARTHENGINE_batch\", body), null) : deserializeResponses(module$contents$ee$apiclient_apiclient.send(batchUrl, null, void 0, \"multipart/mixed; boundary=batch_EARTHENGINE_batch\", body));\n};\nvar module$contents$ee$apiclient_BatchRequestService = function() {\n};\n$jscomp.inherits(module$contents$ee$apiclient_BatchRequestService, module$exports$eeapiclient$promise_request_service.PromiseRequestService);\nmodule$contents$ee$apiclient_BatchRequestService.prototype.send = function(params, responseCtor) {\n  var request = [params.httpMethod + \" \" + params.path + \" HTTP/1.1\"];\n  request.push(\"Content-Type: application/json; charset=utf-8\");\n  var authToken = module$contents$ee$apiclient_apiclient.getAuthToken();\n  null != authToken && request.push(\"Authorization: \" + authToken);\n  var body = params.body ? JSON.stringify(params.body) : \"\";\n  return [request.join(\"\\r\\n\") + \"\\r\\n\\r\\n\" + body, responseCtor];\n};\nmodule$contents$ee$apiclient_BatchRequestService.prototype.makeRequest = function(params) {\n};\nmodule$contents$ee$apiclient_apiclient.parseBatchReply = function(contentType, responseText, handle) {\n  for (var boundary = contentType.split(\"; boundary=\")[1], $jscomp$iter$20 = $jscomp.makeIterator(responseText.split(\"--\" + boundary)), $jscomp$key$part = $jscomp$iter$20.next(); !$jscomp$key$part.done; $jscomp$key$part = $jscomp$iter$20.next()) {\n    var groups = $jscomp$key$part.value.split(\"\\r\\n\\r\\n\");\n    if (!(3 > groups.length)) {\n      var id = groups[0].match(/\\r\\nContent-ID: <response-([^>]*)>/)[1], status = Number(groups[1].match(/^HTTP\\S*\\s(\\d+)\\s/)[1]), text = groups.slice(2).join(\"\\r\\n\\r\\n\");\n      handle(id, status, text);\n    }\n  }\n};\nmodule$contents$ee$apiclient_apiclient.setApiKey = function(apiKey) {\n  module$contents$ee$apiclient_apiclient.cloudApiKey_ = apiKey;\n};\nmodule$contents$ee$apiclient_apiclient.getApiKey = function() {\n  return module$contents$ee$apiclient_apiclient.cloudApiKey_;\n};\nmodule$contents$ee$apiclient_apiclient.DEFAULT_PROJECT_ = \"earthengine-legacy\";\nmodule$contents$ee$apiclient_apiclient.setProject = function(project) {\n  module$contents$ee$apiclient_apiclient.project_ = project;\n};\nmodule$contents$ee$apiclient_apiclient.getProject = function() {\n  return module$contents$ee$apiclient_apiclient.project_;\n};\nmodule$contents$ee$apiclient_apiclient.getSafeApiUrl = function() {\n  var url = module$contents$ee$apiclient_apiclient.apiBaseUrl_.replace(/\\/api$/, \"\");\n  return \"window\" in goog.global && !url.match(/^https?:\\/\\/content-/) ? url.replace(/^(https?:\\/\\/)(.*\\.googleapis\\.com)$/, \"$1content-$2\") : url;\n};\nmodule$contents$ee$apiclient_apiclient.mergeAuthScopes_ = function(includeDefaultScopes, includeStorageScope, extraScopes) {\n  var scopes = [];\n  includeDefaultScopes && (scopes = scopes.concat(module$contents$ee$apiclient_apiclient.DEFAULT_AUTH_SCOPES_));\n  includeStorageScope && scopes.push(module$contents$ee$apiclient_apiclient.STORAGE_SCOPE_);\n  scopes = scopes.concat(extraScopes);\n  module$contents$goog$array_removeDuplicates(scopes);\n  return scopes;\n};\nmodule$contents$ee$apiclient_apiclient.setAuthToken = function(clientId, tokenType, accessToken, expiresIn, extraScopes, callback, updateAuthLibrary, suppressDefaultScopes) {\n  var scopes = module$contents$ee$apiclient_apiclient.mergeAuthScopes_(!suppressDefaultScopes, !1, extraScopes || []);\n  module$contents$ee$apiclient_apiclient.authClientId_ = clientId;\n  module$contents$ee$apiclient_apiclient.authScopes_ = scopes;\n  var tokenObject = {token_type:tokenType, access_token:accessToken, state:scopes.join(\" \"), expires_in:expiresIn};\n  module$contents$ee$apiclient_apiclient.handleAuthResult_(void 0, void 0, tokenObject);\n  !1 === updateAuthLibrary ? callback && callback() : module$contents$ee$apiclient_apiclient.ensureAuthLibLoaded_(function() {\n    goog.global.gapi.auth.setToken(tokenObject);\n    callback && callback();\n  });\n};\nmodule$contents$ee$apiclient_apiclient.refreshAuthToken = function(success, error, onImmediateFailed) {\n  if (module$contents$ee$apiclient_apiclient.isAuthTokenRefreshingEnabled_()) {\n    var authArgs = {client_id:String(module$contents$ee$apiclient_apiclient.authClientId_), immediate:!0, scope:module$contents$ee$apiclient_apiclient.authScopes_.join(\" \")};\n    module$contents$ee$apiclient_apiclient.authTokenRefresher_(authArgs, function(result) {\n      if (\"immediate_failed\" == result.error && onImmediateFailed) {\n        onImmediateFailed();\n      } else {\n        if (\"window\" in goog.global) {\n          try {\n            module$contents$ee$apiclient_apiclient.ensureAuthLibLoaded_(function() {\n              try {\n                goog.global.gapi.auth.setToken(result), module$contents$ee$apiclient_apiclient.handleAuthResult_(success, error, result);\n              } catch (e) {\n                error(e.toString());\n              }\n            });\n          } catch (e) {\n            error(e.toString());\n          }\n        } else {\n          module$contents$ee$apiclient_apiclient.handleAuthResult_(success, error, result);\n        }\n      }\n    });\n  }\n};\nmodule$contents$ee$apiclient_apiclient.setAuthTokenRefresher = function(refresher) {\n  module$contents$ee$apiclient_apiclient.authTokenRefresher_ = refresher;\n};\nmodule$contents$ee$apiclient_apiclient.getAuthToken = function() {\n  module$contents$ee$apiclient_apiclient.authTokenExpiration_ && 0 <= Date.now() - module$contents$ee$apiclient_apiclient.authTokenExpiration_ && module$contents$ee$apiclient_apiclient.clearAuthToken();\n  return module$contents$ee$apiclient_apiclient.authToken_;\n};\nmodule$contents$ee$apiclient_apiclient.clearAuthToken = function() {\n  module$contents$ee$apiclient_apiclient.authToken_ = null;\n  module$contents$ee$apiclient_apiclient.authTokenExpiration_ = null;\n};\nmodule$contents$ee$apiclient_apiclient.getAuthClientId = function() {\n  return module$contents$ee$apiclient_apiclient.authClientId_;\n};\nmodule$contents$ee$apiclient_apiclient.getAuthScopes = function() {\n  return module$contents$ee$apiclient_apiclient.authScopes_;\n};\nmodule$contents$ee$apiclient_apiclient.setAuthClient = function(clientId, scopes) {\n  module$contents$ee$apiclient_apiclient.authClientId_ = clientId;\n  module$contents$ee$apiclient_apiclient.authScopes_ = scopes;\n};\nmodule$contents$ee$apiclient_apiclient.setAppIdToken = function(token) {\n  module$contents$ee$apiclient_apiclient.appIdToken_ = token;\n};\nmodule$contents$ee$apiclient_apiclient.initialize = function(apiBaseUrl, tileBaseUrl, xsrfToken, project) {\n  null != apiBaseUrl ? module$contents$ee$apiclient_apiclient.apiBaseUrl_ = apiBaseUrl : module$contents$ee$apiclient_apiclient.initialized_ || (module$contents$ee$apiclient_apiclient.apiBaseUrl_ = module$contents$ee$apiclient_apiclient.DEFAULT_API_BASE_URL_);\n  null != tileBaseUrl ? module$contents$ee$apiclient_apiclient.tileBaseUrl_ = tileBaseUrl : module$contents$ee$apiclient_apiclient.initialized_ || (module$contents$ee$apiclient_apiclient.tileBaseUrl_ = module$contents$ee$apiclient_apiclient.DEFAULT_TILE_BASE_URL_);\n  void 0 !== xsrfToken && (module$contents$ee$apiclient_apiclient.xsrfToken_ = xsrfToken);\n  null != project ? module$contents$ee$apiclient_apiclient.setProject(project) : module$contents$ee$apiclient_apiclient.setProject(module$contents$ee$apiclient_apiclient.getProject() || module$contents$ee$apiclient_apiclient.DEFAULT_PROJECT_);\n  module$contents$ee$apiclient_apiclient.initialized_ = !0;\n};\nmodule$contents$ee$apiclient_apiclient.reset = function() {\n  module$contents$ee$apiclient_apiclient.apiBaseUrl_ = null;\n  module$contents$ee$apiclient_apiclient.tileBaseUrl_ = null;\n  module$contents$ee$apiclient_apiclient.xsrfToken_ = null;\n  module$contents$ee$apiclient_apiclient.initialized_ = !1;\n};\nmodule$contents$ee$apiclient_apiclient.setDeadline = function(milliseconds) {\n  module$contents$ee$apiclient_apiclient.deadlineMs_ = milliseconds;\n};\nmodule$contents$ee$apiclient_apiclient.setParamAugmenter = function(augmenter) {\n  module$contents$ee$apiclient_apiclient.paramAugmenter_ = augmenter || goog.functions.identity;\n};\nmodule$contents$ee$apiclient_apiclient.getApiBaseUrl = function() {\n  return module$contents$ee$apiclient_apiclient.apiBaseUrl_;\n};\nmodule$contents$ee$apiclient_apiclient.getTileBaseUrl = function() {\n  return module$contents$ee$apiclient_apiclient.tileBaseUrl_;\n};\nmodule$contents$ee$apiclient_apiclient.getXsrfToken = function() {\n  return module$contents$ee$apiclient_apiclient.xsrfToken_;\n};\nmodule$contents$ee$apiclient_apiclient.isInitialized = function() {\n  return module$contents$ee$apiclient_apiclient.initialized_;\n};\nmodule$contents$ee$apiclient_apiclient.send = function(path, params, callback, method, body, retries) {\n  module$contents$ee$apiclient_apiclient.initialize();\n  var profileHookAtCallTime = module$contents$ee$apiclient_apiclient.profileHook_, contentType = \"application/x-www-form-urlencoded\";\n  body && (contentType = \"application/json\", method && method.startsWith(\"multipart\") && (contentType = method, method = \"POST\"));\n  method = method || \"POST\";\n  var headers = {\"Content-Type\":contentType,}, version = \"0.1.289\";\n  \"0.1.289\" === version && (version = \"latest\");\n  headers[module$contents$ee$apiclient_apiclient.API_CLIENT_VERSION_HEADER] = \"ee-js/\" + version;\n  var authToken = module$contents$ee$apiclient_apiclient.getAuthToken();\n  if (null != authToken) {\n    headers.Authorization = authToken;\n  } else {\n    if (callback && module$contents$ee$apiclient_apiclient.isAuthTokenRefreshingEnabled_()) {\n      return module$contents$ee$apiclient_apiclient.refreshAuthToken(function() {\n        module$contents$ee$apiclient_apiclient.withProfiling(profileHookAtCallTime, function() {\n          module$contents$ee$apiclient_apiclient.send(path, params, callback, method);\n        });\n      }), null;\n    }\n  }\n  params = params ? params.clone() : new goog.Uri.QueryData();\n  null != module$contents$ee$apiclient_apiclient.cloudApiKey_ && params.add(\"key\", module$contents$ee$apiclient_apiclient.cloudApiKey_);\n  profileHookAtCallTime && (headers[module$contents$ee$apiclient_apiclient.PROFILE_REQUEST_HEADER] = \"1\");\n  module$contents$ee$apiclient_apiclient.getProject() && module$contents$ee$apiclient_apiclient.getProject() !== module$contents$ee$apiclient_apiclient.DEFAULT_PROJECT_ && (headers[module$contents$ee$apiclient_apiclient.USER_PROJECT_OVERRIDE_HEADER_] = module$contents$ee$apiclient_apiclient.getProject());\n  params = module$contents$ee$apiclient_apiclient.paramAugmenter_(params, path);\n  null != module$contents$ee$apiclient_apiclient.xsrfToken_ && (headers[\"X-XSRF-Token\"] = module$contents$ee$apiclient_apiclient.xsrfToken_);\n  null != module$contents$ee$apiclient_apiclient.appIdToken_ && (headers[module$contents$ee$apiclient_apiclient.APP_ID_TOKEN_HEADER_] = module$contents$ee$apiclient_apiclient.appIdToken_);\n  var requestData = body || null, paramString = params ? params.toString() : \"\";\n  \"POST\" === method && void 0 === body ? requestData = paramString : goog.string.isEmptyOrWhitespace(paramString) || (path += goog.string.contains(path, \"?\") ? \"&\" : \"?\", path += paramString);\n  var url = path.startsWith(\"/\") ? module$contents$ee$apiclient_apiclient.apiBaseUrl_ + path : path;\n  if (callback) {\n    return module$contents$ee$apiclient_apiclient.requestQueue_.push(module$contents$ee$apiclient_apiclient.buildAsyncRequest_(url, callback, method, requestData, headers, retries)), module$contents$ee$apiclient_apiclient.RequestThrottle_.fire(), null;\n  }\n  for (var setRequestHeader = function(value, key) {\n    this.setRequestHeader && this.setRequestHeader(key, value);\n  }, xmlHttp, retryCount = 0, maxRetries = null != retries ? retries : module$contents$ee$apiclient_apiclient.MAX_SYNC_RETRIES_;;) {\n    xmlHttp = (0,goog.net.XmlHttp)();\n    xmlHttp.open(method, url, !1);\n    module$contents$goog$object_forEach(headers, setRequestHeader, xmlHttp);\n    xmlHttp.send(requestData);\n    if (429 != xmlHttp.status || retryCount > maxRetries) {\n      break;\n    }\n    retryCount++;\n  }\n  return module$contents$ee$apiclient_apiclient.handleResponse_(xmlHttp.status, function getResponseHeaderSafe(header) {\n    try {\n      return xmlHttp.getResponseHeader(header);\n    } catch (e) {\n      return null;\n    }\n  }, xmlHttp.responseText, profileHookAtCallTime, void 0, url, method);\n};\nmodule$contents$ee$apiclient_apiclient.buildAsyncRequest_ = function(url, callback, method, content, headers, retries) {\n  var retryCount = 0, request = {url:url, method:method, content:content, headers:headers}, profileHookAtCallTime = module$contents$ee$apiclient_apiclient.profileHook_, maxRetries = null != retries ? retries : module$contents$ee$apiclient_apiclient.MAX_ASYNC_RETRIES_;\n  request.callback = function(e) {\n    var xhrIo = e.target;\n    return 429 == xhrIo.getStatus() && retryCount < maxRetries ? (retryCount++, setTimeout(function() {\n      module$contents$ee$apiclient_apiclient.requestQueue_.push(request);\n      module$contents$ee$apiclient_apiclient.RequestThrottle_.fire();\n    }, module$contents$ee$apiclient_apiclient.calculateRetryWait_(retryCount)), null) : module$contents$ee$apiclient_apiclient.handleResponse_(xhrIo.getStatus(), goog.bind(xhrIo.getResponseHeader, xhrIo), xhrIo.getResponseText(), profileHookAtCallTime, callback, url, method);\n  };\n  return request;\n};\nmodule$contents$ee$apiclient_apiclient.withProfiling = function(hook, body, thisObject) {\n  var saved = module$contents$ee$apiclient_apiclient.profileHook_;\n  try {\n    return module$contents$ee$apiclient_apiclient.profileHook_ = hook, body.call(thisObject);\n  } finally {\n    module$contents$ee$apiclient_apiclient.profileHook_ = saved;\n  }\n};\nmodule$contents$ee$apiclient_apiclient.handleResponse_ = function(status$jscomp$0, getResponseHeader, responseText, profileHook, callback, url, method) {\n  var profileId = profileHook ? getResponseHeader(module$contents$ee$apiclient_apiclient.PROFILE_HEADER) : \"\";\n  profileId && profileHook && profileHook(profileId);\n  var parseJson = function(body) {\n    try {\n      var response = JSON.parse(body);\n      return goog.isObject(response) && \"error\" in response && \"message\" in response.error ? response.error.message : {parsed:response};\n    } catch (e) {\n      return \"Invalid JSON: \" + body;\n    }\n  }, statusError = function(status) {\n    if (0 === status) {\n      return \"Failed to contact Earth Engine servers. Please check your connection, firewall, or browser extension settings.\";\n    }\n    if (200 > status || 300 <= status) {\n      return \"Server returned HTTP code: \" + status + \" for \" + method + \" \" + url;\n    }\n  }, errorMessage, typeHeader = getResponseHeader(\"Content-Type\") || \"application/json\", contentType = typeHeader.replace(/;.*/, \"\");\n  if (\"application/json\" === contentType || \"text/json\" === contentType) {\n    var response$jscomp$0 = parseJson(responseText);\n    if (response$jscomp$0.parsed) {\n      var data = response$jscomp$0.parsed;\n      void 0 === data && (errorMessage = \"Malformed response: \" + responseText);\n    } else {\n      errorMessage = response$jscomp$0;\n    }\n  } else {\n    if (\"multipart/mixed\" === contentType) {\n      data = {};\n      var errors = [];\n      module$contents$ee$apiclient_apiclient.parseBatchReply(typeHeader, responseText, function(id, status, text) {\n        var response = parseJson(text);\n        response.parsed && (data[id] = response.parsed);\n        var error = (response.parsed ? \"\" : response) || statusError(status);\n        error && errors.push(id + \": \" + error);\n      });\n      errors.length && (errorMessage = errors.join(\"\\n\"));\n    } else {\n      var typeError = \"Response was unexpectedly not JSON, but \" + contentType;\n    }\n  }\n  errorMessage = errorMessage || statusError(status$jscomp$0) || typeError;\n  if (callback) {\n    return callback(data, errorMessage), null;\n  }\n  if (!errorMessage) {\n    return data;\n  }\n  throw Error(errorMessage);\n};\nmodule$contents$ee$apiclient_apiclient.ensureAuthLibLoaded_ = function(callback) {\n  var done = function() {\n    goog.global.gapi.config.update(\"client/cors\", !0);\n    module$contents$ee$apiclient_apiclient.authTokenRefresher_ || module$contents$ee$apiclient_apiclient.setAuthTokenRefresher(goog.global.gapi.auth.authorize);\n    callback();\n  };\n  if (goog.isObject(goog.global.gapi) && goog.isObject(goog.global.gapi.auth) && \"function\" === typeof goog.global.gapi.auth.authorize) {\n    done();\n  } else {\n    for (var callbackName = Date.now().toString(36); callbackName in goog.global;) {\n      callbackName += \"_\";\n    }\n    goog.global[callbackName] = function() {\n      delete goog.global[callbackName];\n      done();\n    };\n    goog.net.jsloader.safeLoad(goog.html.TrustedResourceUrl.format(module$contents$ee$apiclient_apiclient.AUTH_LIBRARY_URL_, {onload:callbackName}));\n  }\n};\nmodule$contents$ee$apiclient_apiclient.handleAuthResult_ = function(success, error, result) {\n  if (result.access_token) {\n    var token = result.token_type + \" \" + result.access_token;\n    if (result.expires_in || 0 === result.expires_in) {\n      var expiresInMs = 900 * result.expires_in, timeout = setTimeout(module$contents$ee$apiclient_apiclient.refreshAuthToken, 0.9 * expiresInMs);\n      void 0 !== timeout.unref && timeout.unref();\n      module$contents$ee$apiclient_apiclient.authTokenExpiration_ = Date.now() + expiresInMs;\n    }\n    module$contents$ee$apiclient_apiclient.authToken_ = token;\n    success && success();\n  } else {\n    error && error(result.error || \"Unknown error.\");\n  }\n};\nmodule$contents$ee$apiclient_apiclient.makeRequest_ = function(params) {\n  for (var request = new goog.Uri.QueryData(), $jscomp$iter$21 = $jscomp.makeIterator(Object.entries(params)), $jscomp$key$ = $jscomp$iter$21.next(); !$jscomp$key$.done; $jscomp$key$ = $jscomp$iter$21.next()) {\n    var $jscomp$destructuring$var27 = $jscomp.makeIterator($jscomp$key$.value), name = $jscomp$destructuring$var27.next().value, item = $jscomp$destructuring$var27.next().value;\n    request.set(name, item);\n  }\n  return request;\n};\nmodule$contents$ee$apiclient_apiclient.setupMockSend = function(calls) {\n  function getResponse(url, method, data) {\n    url = url.replace(apiBaseUrl, \"\").replace(module$exports$ee$apiVersion.V1ALPHA + \"/projects/\" + module$contents$ee$apiclient_apiclient.DEFAULT_PROJECT_ + \"/\", \"\");\n    if (url in calls) {\n      var response = calls[url];\n    } else {\n      throw Error(url + \" mock response not specified\");\n    }\n    \"function\" === typeof response && (response = response(url, method, data));\n    \"string\" === typeof response && (response = {text:response, status:200, contentType:\"application/json; charset=utf-8\"});\n    if (\"string\" !== typeof response.text) {\n      throw Error(url + \" mock response missing/invalid text\");\n    }\n    if (\"number\" !== typeof response.status && \"function\" !== typeof response.status) {\n      throw Error(url + \" mock response missing/invalid status\");\n    }\n    return response;\n  }\n  calls = calls ? module$contents$goog$object_clone(calls) : {};\n  var apiBaseUrl;\n  goog.net.XhrIo.send = function(url, callback, method, data) {\n    apiBaseUrl = apiBaseUrl || module$contents$ee$apiclient_apiclient.apiBaseUrl_;\n    var responseData = getResponse(url, method, data), e = new function() {\n      this.target = {};\n    }();\n    e.target.getResponseText = function() {\n      return responseData.text;\n    };\n    e.target.getStatus = \"function\" === typeof responseData.status ? responseData.status : function() {\n      return responseData.status;\n    };\n    e.target.getResponseHeader = function(header) {\n      return \"Content-Type\" === header ? responseData.contentType : null;\n    };\n    setTimeout(goog.bind(callback, e, e), 0);\n    return new goog.net.XhrIo();\n  };\n  var fakeXmlHttp = function() {\n  };\n  fakeXmlHttp.prototype.open = function(method, urlIn) {\n    apiBaseUrl = apiBaseUrl || module$contents$ee$apiclient_apiclient.apiBaseUrl_;\n    this.url = urlIn;\n    this.method = method;\n  };\n  fakeXmlHttp.prototype.setRequestHeader = function() {\n  };\n  fakeXmlHttp.prototype.getResponseHeader = function(header) {\n    return \"Content-Type\" === header ? this.contentType_ || null : null;\n  };\n  fakeXmlHttp.prototype.send = function(data) {\n    var responseData = getResponse(this.url, this.method, data);\n    this.responseText = responseData.text;\n    this.status = \"function\" === typeof responseData.status ? responseData.status() : responseData.status;\n    this.contentType_ = responseData.contentType;\n  };\n  goog.net.XmlHttp.setGlobalFactory({createInstance:function() {\n    return new fakeXmlHttp();\n  }, getOptions:function() {\n    return {};\n  }});\n};\nmodule$contents$ee$apiclient_apiclient.isAuthTokenRefreshingEnabled_ = function() {\n  return !(!module$contents$ee$apiclient_apiclient.authTokenRefresher_ || !module$contents$ee$apiclient_apiclient.authClientId_);\n};\nmodule$contents$ee$apiclient_apiclient.calculateRetryWait_ = function(retryCount) {\n  return Math.min(module$contents$ee$apiclient_apiclient.MAX_RETRY_WAIT_, Math.pow(2, retryCount) * module$contents$ee$apiclient_apiclient.BASE_RETRY_WAIT_);\n};\nmodule$contents$ee$apiclient_apiclient.sleep_ = function(timeInMs) {\n  for (var end = (new Date()).getTime() + timeInMs; (new Date()).getTime() < end;) {\n  }\n};\nmodule$contents$ee$apiclient_apiclient.NetworkRequest_ = function() {\n};\nmodule$contents$ee$apiclient_apiclient.requestQueue_ = [];\nmodule$contents$ee$apiclient_apiclient.REQUEST_THROTTLE_INTERVAL_MS_ = 350;\nmodule$contents$ee$apiclient_apiclient.RequestThrottle_ = new module$contents$goog$async$Throttle_Throttle(function() {\n  var request = module$contents$ee$apiclient_apiclient.requestQueue_.shift();\n  request && goog.net.XhrIo.send(request.url, request.callback, request.method, request.content, request.headers, module$contents$ee$apiclient_apiclient.deadlineMs_);\n  module$contents$goog$array_isEmpty(module$contents$ee$apiclient_apiclient.requestQueue_) || module$contents$ee$apiclient_apiclient.RequestThrottle_.fire();\n}, module$contents$ee$apiclient_apiclient.REQUEST_THROTTLE_INTERVAL_MS_);\nmodule$contents$ee$apiclient_apiclient.apiBaseUrl_ = null;\nmodule$contents$ee$apiclient_apiclient.tileBaseUrl_ = null;\nmodule$contents$ee$apiclient_apiclient.xsrfToken_ = null;\nmodule$contents$ee$apiclient_apiclient.appIdToken_ = null;\nmodule$contents$ee$apiclient_apiclient.paramAugmenter_ = goog.functions.identity;\nmodule$contents$ee$apiclient_apiclient.authToken_ = null;\nmodule$contents$ee$apiclient_apiclient.authTokenExpiration_ = null;\nmodule$contents$ee$apiclient_apiclient.authClientId_ = null;\nmodule$contents$ee$apiclient_apiclient.authScopes_ = [];\nmodule$contents$ee$apiclient_apiclient.authTokenRefresher_ = null;\nmodule$contents$ee$apiclient_apiclient.AUTH_SCOPE_ = \"https://www.googleapis.com/auth/earthengine\";\nmodule$contents$ee$apiclient_apiclient.READ_ONLY_AUTH_SCOPE_ = \"https://www.googleapis.com/auth/earthengine.readonly\";\nmodule$contents$ee$apiclient_apiclient.CLOUD_PLATFORM_SCOPE_ = \"https://www.googleapis.com/auth/cloud-platform\";\nmodule$contents$ee$apiclient_apiclient.DEFAULT_AUTH_SCOPES_ = [module$contents$ee$apiclient_apiclient.AUTH_SCOPE_, module$contents$ee$apiclient_apiclient.CLOUD_PLATFORM_SCOPE_];\nmodule$contents$ee$apiclient_apiclient.AUTH_LIBRARY_URL_ = goog.string.Const.from(\"https://apis.google.com/js/client.js?onload=%{onload}\");\nmodule$contents$ee$apiclient_apiclient.STORAGE_SCOPE_ = \"https://www.googleapis.com/auth/devstorage.read_write\";\nmodule$contents$ee$apiclient_apiclient.cloudApiKey_ = null;\nmodule$contents$ee$apiclient_apiclient.initialized_ = !1;\nmodule$contents$ee$apiclient_apiclient.deadlineMs_ = 0;\nmodule$contents$ee$apiclient_apiclient.profileHook_ = null;\nmodule$contents$ee$apiclient_apiclient.BASE_RETRY_WAIT_ = 1000;\nmodule$contents$ee$apiclient_apiclient.MAX_RETRY_WAIT_ = 120000;\nmodule$contents$ee$apiclient_apiclient.MAX_ASYNC_RETRIES_ = 10;\nmodule$contents$ee$apiclient_apiclient.MAX_SYNC_RETRIES_ = 5;\nmodule$contents$ee$apiclient_apiclient.APP_ID_TOKEN_HEADER_ = \"X-Earth-Engine-App-ID-Token\";\nmodule$contents$ee$apiclient_apiclient.PROFILE_HEADER = \"X-Earth-Engine-Computation-Profile\";\nmodule$contents$ee$apiclient_apiclient.PROFILE_REQUEST_HEADER = \"X-Earth-Engine-Computation-Profiling\";\nmodule$contents$ee$apiclient_apiclient.USER_PROJECT_OVERRIDE_HEADER_ = \"X-Goog-User-Project\";\nmodule$contents$ee$apiclient_apiclient.API_CLIENT_VERSION_HEADER = \"x-goog-api-client\";\nmodule$contents$ee$apiclient_apiclient.DEFAULT_API_BASE_URL_ = \"https://earthengine.googleapis.com/api\";\nmodule$contents$ee$apiclient_apiclient.DEFAULT_TILE_BASE_URL_ = \"https://earthengine.googleapis.com\";\nmodule$contents$ee$apiclient_apiclient.AuthArgs = function() {\n};\nmodule$contents$ee$apiclient_apiclient.AuthResponse = function() {\n};\nee.apiclient.Call = module$contents$ee$apiclient_Call;\nee.apiclient.BatchCall = module$contents$ee$apiclient_BatchCall;\nee.apiclient.setApiKey = module$contents$ee$apiclient_apiclient.setApiKey;\nee.apiclient.getApiKey = module$contents$ee$apiclient_apiclient.getApiKey;\nee.apiclient.setProject = module$contents$ee$apiclient_apiclient.setProject;\nee.apiclient.getProject = module$contents$ee$apiclient_apiclient.getProject;\nee.apiclient.DEFAULT_PROJECT = module$contents$ee$apiclient_apiclient.DEFAULT_PROJECT_;\nee.apiclient.PROFILE_HEADER = module$contents$ee$apiclient_apiclient.PROFILE_HEADER;\nee.apiclient.PROFILE_REQUEST_HEADER = module$contents$ee$apiclient_apiclient.PROFILE_REQUEST_HEADER;\nee.apiclient.API_CLIENT_VERSION_HEADER = module$contents$ee$apiclient_apiclient.API_CLIENT_VERSION_HEADER;\nee.apiclient.send = module$contents$ee$apiclient_apiclient.send;\nee.apiclient.AUTH_SCOPE = module$contents$ee$apiclient_apiclient.AUTH_SCOPE_;\nee.apiclient.READ_ONLY_AUTH_SCOPE = module$contents$ee$apiclient_apiclient.READ_ONLY_AUTH_SCOPE_;\nee.apiclient.CLOUD_PLATFORM_SCOPE = module$contents$ee$apiclient_apiclient.CLOUD_PLATFORM_SCOPE_;\nee.apiclient.STORAGE_SCOPE = module$contents$ee$apiclient_apiclient.STORAGE_SCOPE_;\nee.apiclient.DEFAULT_AUTH_SCOPES = module$contents$ee$apiclient_apiclient.DEFAULT_AUTH_SCOPES_;\nee.apiclient.makeRequest = module$contents$ee$apiclient_apiclient.makeRequest_;\nee.apiclient.reset = module$contents$ee$apiclient_apiclient.reset;\nee.apiclient.initialize = module$contents$ee$apiclient_apiclient.initialize;\nee.apiclient.setDeadline = module$contents$ee$apiclient_apiclient.setDeadline;\nee.apiclient.isInitialized = module$contents$ee$apiclient_apiclient.isInitialized;\nee.apiclient.ensureAuthLibLoaded = module$contents$ee$apiclient_apiclient.ensureAuthLibLoaded_;\nee.apiclient.handleAuthResult = module$contents$ee$apiclient_apiclient.handleAuthResult_;\nee.apiclient.refreshAuthToken = module$contents$ee$apiclient_apiclient.refreshAuthToken;\nee.apiclient.setAuthClient = module$contents$ee$apiclient_apiclient.setAuthClient;\nee.apiclient.getAuthScopes = module$contents$ee$apiclient_apiclient.getAuthScopes;\nee.apiclient.getAuthClientId = module$contents$ee$apiclient_apiclient.getAuthClientId;\nee.apiclient.getAuthToken = module$contents$ee$apiclient_apiclient.getAuthToken;\nee.apiclient.setAuthToken = module$contents$ee$apiclient_apiclient.setAuthToken;\nee.apiclient.clearAuthToken = module$contents$ee$apiclient_apiclient.clearAuthToken;\nee.apiclient.setAuthTokenRefresher = module$contents$ee$apiclient_apiclient.setAuthTokenRefresher;\nee.apiclient.setAppIdToken = module$contents$ee$apiclient_apiclient.setAppIdToken;\nee.apiclient.mergeAuthScopes = module$contents$ee$apiclient_apiclient.mergeAuthScopes_;\nee.apiclient.setupMockSend = module$contents$ee$apiclient_apiclient.setupMockSend;\nee.apiclient.setParamAugmenter = module$contents$ee$apiclient_apiclient.setParamAugmenter;\nee.apiclient.withProfiling = module$contents$ee$apiclient_apiclient.withProfiling;\nee.apiclient.getApiBaseUrl = module$contents$ee$apiclient_apiclient.getApiBaseUrl;\nee.apiclient.getTileBaseUrl = module$contents$ee$apiclient_apiclient.getTileBaseUrl;\nee.apiclient.AuthArgs = module$contents$ee$apiclient_apiclient.AuthArgs;\nee.apiclient.AuthResponse = module$contents$ee$apiclient_apiclient.AuthResponse;\nee.apiclient.RequestThrottle = module$contents$ee$apiclient_apiclient.RequestThrottle_;\nee.apiclient.calculateRetryWait = module$contents$ee$apiclient_apiclient.calculateRetryWait_;\nee.apiclient.MAX_ASYNC_RETRIES = module$contents$ee$apiclient_apiclient.MAX_ASYNC_RETRIES_;\nee.apiclient.REQUEST_THROTTLE_INTERVAL_MS = module$contents$ee$apiclient_apiclient.REQUEST_THROTTLE_INTERVAL_MS_;\nee.apiclient.isAuthTokenRefreshingEnabled = module$contents$ee$apiclient_apiclient.isAuthTokenRefreshingEnabled_;\ngoog.exportSymbol(\"ee.api.ListAssetsResponse\", module$exports$eeapiclient$ee_api_client.ListAssetsResponse);\ngoog.exportSymbol(\"ee.api.EarthEngineAsset\", module$exports$eeapiclient$ee_api_client.EarthEngineAsset);\ngoog.exportSymbol(\"ee.api.ListImagesResponse\", module$exports$eeapiclient$ee_api_client.ListImagesResponse);\ngoog.exportSymbol(\"ee.api.Image\", module$exports$eeapiclient$ee_api_client.Image);\ngoog.exportSymbol(\"ee.api.Operation\", module$exports$eeapiclient$ee_api_client.Operation);\nee.Encodable = function() {\n};\nee.rpc_node = {};\nee.rpc_node.constant = function(obj) {\n  if (void 0 === obj || null === obj) {\n    obj = module$exports$eeapiclient$domain_object.NULL_VALUE;\n  }\n  return new module$exports$eeapiclient$ee_api_client.ValueNode({constantValue:obj});\n};\nee.rpc_node.reference = function(ref) {\n  return new module$exports$eeapiclient$ee_api_client.ValueNode({valueReference:ref});\n};\nee.rpc_node.array = function(values) {\n  return new module$exports$eeapiclient$ee_api_client.ValueNode({arrayValue:new module$exports$eeapiclient$ee_api_client.ArrayValue({values:values})});\n};\nee.rpc_node.dictionary = function(values) {\n  return new module$exports$eeapiclient$ee_api_client.ValueNode({dictionaryValue:new module$exports$eeapiclient$ee_api_client.DictionaryValue({values:values})});\n};\nee.rpc_node.functionByName = function(name, args) {\n  return new module$exports$eeapiclient$ee_api_client.ValueNode({functionInvocationValue:new module$exports$eeapiclient$ee_api_client.FunctionInvocation({functionName:name, arguments:args})});\n};\nee.rpc_node.functionByReference = function(ref, args) {\n  return new module$exports$eeapiclient$ee_api_client.ValueNode({functionInvocationValue:new module$exports$eeapiclient$ee_api_client.FunctionInvocation({functionReference:ref, arguments:args})});\n};\nee.rpc_node.functionDefinition = function(argumentNames, body) {\n  return new module$exports$eeapiclient$ee_api_client.ValueNode({functionDefinitionValue:new module$exports$eeapiclient$ee_api_client.FunctionDefinition({argumentNames:argumentNames, body:body})});\n};\nee.rpc_node.argumentReference = function(ref) {\n  return new module$exports$eeapiclient$ee_api_client.ValueNode({argumentReference:ref});\n};\nee.rpc_convert = {};\nee.rpc_convert.fileFormat = function(format) {\n  if (!format) {\n    return \"AUTO_JPEG_PNG\";\n  }\n  var upper = format.toUpperCase();\n  switch(upper) {\n    case \"JPG\":\n      return \"JPEG\";\n    case \"AUTO\":\n      return \"AUTO_JPEG_PNG\";\n    case \"TIF\":\n    case \"TIFF\":\n    case \"GEOTIF\":\n    case \"GEOTIFF\":\n      return \"GEO_TIFF\";\n    case \"TF_RECORD\":\n    case \"TFRECORD\":\n      return \"TF_RECORD_IMAGE\";\n    case \"NUMPY\":\n      return \"NPY\";\n    case \"ZIPPED_TIF\":\n    case \"ZIPPED_TIFF\":\n    case \"ZIPPED_GEOTIF\":\n    case \"ZIPPED_GEOTIFF\":\n      return \"ZIPPED_GEO_TIFF\";\n    case \"ZIPPED_TIF_PER_BAND\":\n    case \"ZIPPED_TIFF_PER_BAND\":\n    case \"ZIPPED_GEOTIF_PER_BAND\":\n    case \"ZIPPED_GEOTIFF_PER_BAND\":\n      return \"ZIPPED_GEO_TIFF_PER_BAND\";\n    default:\n      return upper;\n  }\n};\nee.rpc_convert.tableFileFormat = function(format) {\n  if (!format) {\n    return \"CSV\";\n  }\n  var upper = format.toUpperCase();\n  switch(upper) {\n    case \"TF_RECORD\":\n    case \"TFRECORD\":\n      return \"TF_RECORD_TABLE\";\n    case \"JSON\":\n    case \"GEOJSON\":\n      return \"GEO_JSON\";\n    default:\n      return upper;\n  }\n};\nee.rpc_convert.orientation = function(orientation) {\n  if (!orientation) {\n    return \"VERTICAL\";\n  }\n  var upper = orientation.toUpperCase();\n  if (\"HORIZONTAL\" !== upper || \"VERTICAL\" !== upper) {\n    throw Error('Orientation must be \"horizontal\" or \"vertical\"');\n  }\n  return upper;\n};\nee.rpc_convert.bandList = function(bands) {\n  if (!bands) {\n    return [];\n  }\n  if (\"string\" === typeof bands) {\n    return bands.split(\",\");\n  }\n  if (Array.isArray(bands)) {\n    return bands;\n  }\n  throw Error(\"Invalid band list \" + bands);\n};\nee.rpc_convert.visualizationOptions = function(params) {\n  var result = new module$exports$eeapiclient$ee_api_client.VisualizationOptions(), hasResult = !1;\n  if (\"palette\" in params) {\n    var pal = params.palette;\n    result.paletteColors = \"string\" === typeof pal ? pal.split(\",\") : pal;\n    hasResult = !0;\n  }\n  var ranges = [];\n  if (\"gain\" in params || \"bias\" in params) {\n    if (\"min\" in params || \"max\" in params) {\n      throw Error(\"Gain and bias can't be specified with min and max\");\n    }\n    var valueRange = result.paletteColors ? result.paletteColors.length - 1 : 255;\n    ranges = ee.rpc_convert.pairedValues(params, \"bias\", \"gain\").map(function(pair) {\n      var min = -pair.bias / pair.gain;\n      return {min:min, max:valueRange / pair.gain + min};\n    });\n  } else {\n    if (\"min\" in params || \"max\" in params) {\n      ranges = ee.rpc_convert.pairedValues(params, \"min\", \"max\");\n    }\n  }\n  0 !== ranges.length && (result.ranges = ranges.map(function(range) {\n    return new module$exports$eeapiclient$ee_api_client.DoubleRange(range);\n  }), hasResult = !0);\n  var gammas = ee.rpc_convert.csvToNumbers(params.gamma);\n  if (1 < gammas.length) {\n    throw Error(\"Only one gamma value is supported\");\n  }\n  1 === gammas.length && (result.gamma = gammas[0], hasResult = !0);\n  return hasResult ? result : null;\n};\nee.rpc_convert.csvToNumbers = function(csv) {\n  return csv ? csv.split(\",\").map(Number) : [];\n};\nee.rpc_convert.pairedValues = function(obj, a, b) {\n  var aValues = ee.rpc_convert.csvToNumbers(obj[a]), bValues = ee.rpc_convert.csvToNumbers(obj[b]);\n  if (0 === aValues.length) {\n    return bValues.map(function(value) {\n      var $jscomp$compprop1 = {};\n      return $jscomp$compprop1[a] = 0, $jscomp$compprop1[b] = value, $jscomp$compprop1;\n    });\n  }\n  if (0 === bValues.length) {\n    return aValues.map(function(value) {\n      var $jscomp$compprop2 = {};\n      return $jscomp$compprop2[a] = value, $jscomp$compprop2[b] = 1, $jscomp$compprop2;\n    });\n  }\n  if (aValues.length !== bValues.length) {\n    throw Error(\"Length of \" + a + \" and \" + b + \" must match.\");\n  }\n  return aValues.map(function(value, index) {\n    var $jscomp$compprop3 = {};\n    return $jscomp$compprop3[a] = value, $jscomp$compprop3[b] = bValues[index], $jscomp$compprop3;\n  });\n};\nee.rpc_convert.algorithms = function(result) {\n  for (var convertArgument = function(argument) {\n    var internalArgument = {};\n    internalArgument.description = argument.description || \"\";\n    internalArgument.type = argument.type || \"\";\n    null != argument.argumentName && (internalArgument.name = argument.argumentName);\n    void 0 !== argument.defaultValue && (internalArgument[\"default\"] = argument.defaultValue);\n    null != argument.optional && (internalArgument.optional = argument.optional);\n    return internalArgument;\n  }, convertAlgorithm = function(algorithm) {\n    var internalAlgorithm = {};\n    internalAlgorithm.args = (algorithm.arguments || []).map(convertArgument);\n    internalAlgorithm.description = algorithm.description || \"\";\n    internalAlgorithm.returns = algorithm.returnType || \"\";\n    null != algorithm.hidden && (internalAlgorithm.hidden = algorithm.hidden);\n    algorithm.preview && (internalAlgorithm.preview = algorithm.preview);\n    algorithm.deprecated && (internalAlgorithm.deprecated = algorithm.deprecationReason);\n    algorithm.sourceCodeUri && (internalAlgorithm.sourceCodeUri = algorithm.sourceCodeUri);\n    return internalAlgorithm;\n  }, internalAlgorithms = {}, $jscomp$iter$22 = $jscomp.makeIterator(result.algorithms || []), $jscomp$key$algorithm = $jscomp$iter$22.next(); !$jscomp$key$algorithm.done; $jscomp$key$algorithm = $jscomp$iter$22.next()) {\n    var algorithm$jscomp$0 = $jscomp$key$algorithm.value, name = algorithm$jscomp$0.name.replace(/^algorithms\\//, \"\");\n    internalAlgorithms[name] = convertAlgorithm(algorithm$jscomp$0);\n  }\n  return internalAlgorithms;\n};\nee.rpc_convert.DEFAULT_PROJECT = \"earthengine-legacy\";\nee.rpc_convert.PUBLIC_PROJECT = \"earthengine-public\";\nee.rpc_convert.PROJECT_ID_RE = /^projects\\/((?:\\w+(?:[\\w\\-]+\\.[\\w\\-]+)*?\\.\\w+:)?[a-z][a-z0-9\\-]{4,28}[a-z0-9])\\/.+/;\nee.rpc_convert.CLOUD_ASSET_ID_RE = /^projects\\/((?:\\w+(?:[\\w\\-]+\\.[\\w\\-]+)*?\\.\\w+:)?[a-z][a-z0-9\\-]{4,28}[a-z0-9])\\/assets\\/(.*)$/;\nee.rpc_convert.CLOUD_ASSET_ROOT_RE = /^projects\\/((?:\\w+(?:[\\w\\-]+\\.[\\w\\-]+)*?\\.\\w+:)?[a-z][a-z0-9\\-]{4,28}[a-z0-9])\\/assets\\/?$/;\nee.rpc_convert.projectIdFromPath = function(path) {\n  var matches = ee.rpc_convert.PROJECT_ID_RE.exec(path);\n  return matches ? matches[1] : ee.rpc_convert.DEFAULT_PROJECT;\n};\nee.rpc_convert.projectParentFromPath = function(path) {\n  return \"projects/\" + ee.rpc_convert.projectIdFromPath(path);\n};\nee.rpc_convert.assetIdToAssetName = function(param) {\n  return ee.rpc_convert.CLOUD_ASSET_ID_RE.exec(param) ? param : /^(users|projects)\\/.*/.exec(param) ? \"projects/\" + ee.rpc_convert.DEFAULT_PROJECT + \"/assets/\" + param : \"projects/\" + ee.rpc_convert.PUBLIC_PROJECT + \"/assets/\" + param;\n};\nee.rpc_convert.assetNameToAssetId = function(name) {\n  var parts = name.split(\"/\"), isLegacyProject = function(id) {\n    return [ee.rpc_convert.DEFAULT_PROJECT, ee.rpc_convert.PUBLIC_PROJECT].includes(id);\n  };\n  return \"projects\" === parts[0] && \"assets\" === parts[2] && isLegacyProject(parts[1]) ? parts.slice(3).join(\"/\") : name;\n};\nee.rpc_convert.assetTypeForCreate = function(param) {\n  switch(param) {\n    case \"ImageCollection\":\n      return \"IMAGE_COLLECTION\";\n    case \"Folder\":\n      return \"FOLDER\";\n    default:\n      return param;\n  }\n};\nee.rpc_convert.listAssetsToGetList = function(result) {\n  return (result.assets || []).map(ee.rpc_convert.assetToLegacyResult);\n};\nee.rpc_convert.listImagesToGetList = function(result) {\n  return (result.images || []).map(ee.rpc_convert.imageToLegacyResult);\n};\nee.rpc_convert.assetTypeToLegacyAssetType = function(type) {\n  switch(type) {\n    case \"ALGORITHM\":\n      return \"Algorithm\";\n    case \"FOLDER\":\n      return \"Folder\";\n    case \"IMAGE\":\n      return \"Image\";\n    case \"IMAGE_COLLECTION\":\n      return \"ImageCollection\";\n    case \"TABLE\":\n      return \"Table\";\n    case \"CLASSIFIER\":\n      return \"Classifier\";\n    case \"DATA_MAPPING_SERVICE\":\n      return \"FeatureView\";\n    default:\n      return \"Unknown\";\n  }\n};\nee.rpc_convert.legacyAssetTypeToAssetType = function(type) {\n  switch(type) {\n    case \"Algorithm\":\n      return \"ALGORITHM\";\n    case \"Folder\":\n      return \"FOLDER\";\n    case \"Image\":\n      return \"IMAGE\";\n    case \"ImageCollection\":\n      return \"IMAGE_COLLECTION\";\n    case \"Table\":\n      return \"TABLE\";\n    default:\n      return \"UNKNOWN\";\n  }\n};\nee.rpc_convert.assetToLegacyResult = function(result) {\n  var asset = ee.rpc_convert.makeLegacyAsset_(ee.rpc_convert.assetTypeToLegacyAssetType(result.type), result.name), properties = Object.assign({}, result.properties || {});\n  result.sizeBytes && (properties[\"system:asset_size\"] = Number(result.sizeBytes));\n  result.startTime && (properties[\"system:time_start\"] = Date.parse(result.startTime));\n  result.endTime && (properties[\"system:time_end\"] = Date.parse(result.endTime));\n  result.geometry && (properties[\"system:footprint\"] = result.geometry);\n  \"string\" === typeof result.title && (properties[\"system:title\"] = result.title);\n  \"string\" === typeof result.description && (properties[\"system:description\"] = result.description);\n  result.updateTime && (asset.version = 1000 * Date.parse(result.updateTime));\n  asset.properties = properties;\n  result.bands && (asset.bands = result.bands.map(function(band) {\n    var legacyBand = {id:band.id, crs:band.grid.crsCode, dimensions:void 0, crs_transform:void 0,};\n    if (band.grid) {\n      if (null != band.grid.affineTransform) {\n        var affine = band.grid.affineTransform;\n        legacyBand.crs_transform = [affine.scaleX || 0, affine.shearX || 0, affine.translateX || 0, affine.shearY || 0, affine.scaleY || 0, affine.translateY || 0,];\n      }\n      null != band.grid.dimensions && (legacyBand.dimensions = [band.grid.dimensions.width, band.grid.dimensions.height]);\n    }\n    if (band.dataType) {\n      var dataType = {type:\"PixelType\"};\n      dataType.precision = (band.dataType.precision || \"\").toLowerCase();\n      band.dataType.range && (dataType.min = band.dataType.range.min || 0, dataType.max = band.dataType.range.max);\n      legacyBand.data_type = dataType;\n    }\n    return legacyBand;\n  }));\n  result.dmsAssetLocation && (asset.mapLocation = result.dmsAssetLocation);\n  result.featureCount && (asset.featureCount = result.featureCount);\n  return asset;\n};\nee.rpc_convert.legacyPropertiesToAssetUpdate = function(legacyProperties) {\n  var asset = new module$exports$eeapiclient$ee_api_client.EarthEngineAsset(), toTimestamp = function(msec) {\n    return (new Date(Number(msec))).toISOString();\n  }, asNull = function(value) {\n    return null === value ? module$exports$eeapiclient$domain_object.NULL_VALUE : void 0;\n  }, properties = Object.assign({}, legacyProperties), value$jscomp$0, extractValue = function(key) {\n    value$jscomp$0 = properties[key];\n    delete properties[key];\n    return value$jscomp$0;\n  };\n  void 0 !== extractValue(\"system:asset_size\") && (asset.sizeBytes = asNull(value$jscomp$0) || String(value$jscomp$0));\n  void 0 !== extractValue(\"system:time_start\") && (asset.startTime = asNull(value$jscomp$0) || toTimestamp(value$jscomp$0));\n  void 0 !== extractValue(\"system:time_end\") && (asset.endTime = asNull(value$jscomp$0) || toTimestamp(value$jscomp$0));\n  void 0 !== extractValue(\"system:footprint\") && (asset.geometry = asNull(value$jscomp$0) || value$jscomp$0);\n  extractValue(\"system:title\");\n  \"string\" !== typeof value$jscomp$0 && null !== value$jscomp$0 || null != properties.title || (properties.title = asNull(value$jscomp$0) || value$jscomp$0);\n  extractValue(\"system:description\");\n  \"string\" !== typeof value$jscomp$0 && null !== value$jscomp$0 || null != properties.description || (properties.description = asNull(value$jscomp$0) || value$jscomp$0);\n  Object.entries(properties).forEach(function($jscomp$destructuring$var28) {\n    var $jscomp$destructuring$var29 = $jscomp.makeIterator($jscomp$destructuring$var28), key = $jscomp$destructuring$var29.next().value, value = $jscomp$destructuring$var29.next().value;\n    properties[key] = asNull(value) || value;\n  });\n  asset.properties = properties;\n  return asset;\n};\nee.rpc_convert.imageToLegacyResult = function(result) {\n  return ee.rpc_convert.makeLegacyAsset_(\"Image\", result.name);\n};\nee.rpc_convert.makeLegacyAsset_ = function(type, name) {\n  var legacyAsset = {};\n  legacyAsset.type = type;\n  null != name && (legacyAsset.id = ee.rpc_convert.assetNameToAssetId(name));\n  return legacyAsset;\n};\nee.rpc_convert.getListToListImages = function(param) {\n  var imagesRequest = {}, toTimestamp = function(msec) {\n    return (new Date(msec)).toISOString();\n  };\n  param.num && (imagesRequest.pageSize = param.num);\n  param.starttime && (imagesRequest.startTime = toTimestamp(param.starttime));\n  param.endtime && (imagesRequest.endTime = toTimestamp(param.endtime));\n  param.bbox && (imagesRequest.region = ee.rpc_convert.boundingBoxToGeoJson(param.bbox));\n  param.region && (imagesRequest.region = param.region);\n  param.bbox && param.region && console.warn(\"Multiple request parameters converted to region\");\n  for (var allKeys = \"id num starttime endtime bbox region\".split(\" \"), $jscomp$iter$23 = $jscomp.makeIterator(Object.keys(param).filter(function(k) {\n    return !allKeys.includes(k);\n  })), $jscomp$key$key = $jscomp$iter$23.next(); !$jscomp$key$key.done; $jscomp$key$key = $jscomp$iter$23.next()) {\n    console.warn(\"Unrecognized key \" + $jscomp$key$key.value + \" ignored\");\n  }\n  imagesRequest.fields = \"assets(type,path)\";\n  return imagesRequest;\n};\nee.rpc_convert.boundingBoxToGeoJson = function(bbox) {\n  return '{\"type\":\"Polygon\",\"coordinates\":[[[' + [[0, 1], [2, 1], [2, 3], [0, 3], [0, 1]].map(function(i) {\n    return bbox[i[0]] + \",\" + bbox[i[1]];\n  }).join(\"],[\") + \"]]]}\";\n};\nee.rpc_convert.iamPolicyToAcl = function(result) {\n  var bindingMap = {};\n  (result.bindings || []).forEach(function(binding) {\n    bindingMap[binding.role] = binding.members;\n  });\n  var groups = new Set(), toAcl = function(member) {\n    var email = member.replace(/^group:|^user:|^serviceAccount:/, \"\");\n    member.startsWith(\"group:\") && groups.add(email);\n    return email;\n  }, readersWithAll = bindingMap[\"roles/viewer\"] || [], readers = readersWithAll.filter(function(reader) {\n    return \"allUsers\" !== reader;\n  }), internalAcl = {owners:(bindingMap[\"roles/owner\"] || []).map(toAcl), writers:(bindingMap[\"roles/editor\"] || []).map(toAcl), readers:readers.map(toAcl),};\n  0 < groups.size && (internalAcl.groups = groups);\n  readersWithAll.length != readers.length && (internalAcl.all_users_can_read = !0);\n  return internalAcl;\n};\nee.rpc_convert.aclToIamPolicy = function(acls) {\n  var isGroup = function(email) {\n    return acls.groups && acls.groups.has(email);\n  }, isServiceAccount = function(email) {\n    return email.match(/[@|\\.]gserviceaccount\\.com$/);\n  }, asMembers = function(aclName) {\n    return (acls[aclName] || []).map(function(email) {\n      var prefix = \"user:\";\n      isGroup(email) ? prefix = \"group:\" : isServiceAccount(email) && (prefix = \"serviceAccount:\");\n      return prefix + email;\n    });\n  }, all = acls.all_users_can_read ? [\"allUsers\"] : [], bindings = [{role:\"roles/owner\", members:asMembers(\"owners\")}, {role:\"roles/viewer\", members:asMembers(\"readers\").concat(all)}, {role:\"roles/editor\", members:asMembers(\"writers\")},].map(function(params) {\n    return new module$exports$eeapiclient$ee_api_client.Binding(params);\n  });\n  return new module$exports$eeapiclient$ee_api_client.Policy({bindings:bindings.filter(function(binding) {\n    return binding.members.length;\n  }), etag:null,});\n};\nee.rpc_convert.taskIdToOperationName = function(operationNameOrTaskId) {\n  return \"projects/\" + ee.rpc_convert.operationNameToProject(operationNameOrTaskId) + \"/operations/\" + ee.rpc_convert.operationNameToTaskId(operationNameOrTaskId);\n};\nee.rpc_convert.operationNameToTaskId = function(result) {\n  var found = /^.*operations\\/(.*)$/.exec(result);\n  return found ? found[1] : result;\n};\nee.rpc_convert.operationNameToProject = function(operationNameOrTaskId) {\n  var found = /^projects\\/(.+)\\/operations\\/.+$/.exec(operationNameOrTaskId);\n  return found ? found[1] : ee.rpc_convert.DEFAULT_PROJECT;\n};\nee.rpc_convert.operationToTask = function(result) {\n  var internalTask = {}, assignTimestamp = function(field, timestamp) {\n    null != timestamp && (internalTask[field] = Date.parse(timestamp));\n  }, convertState = function(state) {\n    switch(state) {\n      case \"PENDING\":\n        return \"READY\";\n      case \"RUNNING\":\n        return \"RUNNING\";\n      case \"CANCELLING\":\n        return \"CANCEL_REQUESTED\";\n      case \"SUCCEEDED\":\n        return \"COMPLETED\";\n      case \"CANCELLED\":\n        return \"CANCELLED\";\n      case \"FAILED\":\n        return \"FAILED\";\n      default:\n        return \"UNKNOWN\";\n    }\n  }, metadata = module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.OperationMetadata, result.metadata || {});\n  null != metadata.description && (internalTask.description = metadata.description);\n  null != metadata.state && (internalTask.state = convertState(metadata.state));\n  assignTimestamp(\"creation_timestamp_ms\", metadata.createTime);\n  assignTimestamp(\"update_timestamp_ms\", metadata.updateTime);\n  assignTimestamp(\"start_timestamp_ms\", metadata.startTime);\n  internalTask.attempt = metadata.attempt;\n  result.done && null != result.error && (internalTask.error_message = result.error.message);\n  null != result.name && (internalTask.id = ee.rpc_convert.operationNameToTaskId(result.name), internalTask.name = result.name);\n  internalTask.task_type = metadata.type || \"UNKNOWN\";\n  internalTask.output_url = metadata.destinationUris;\n  internalTask.source_url = metadata.scriptUri;\n  return internalTask;\n};\nee.rpc_convert.operationToProcessingResponse = function(operation) {\n  var result = {started:\"OK\"};\n  operation.name && (result.taskId = ee.rpc_convert.operationNameToTaskId(operation.name), result.name = operation.name);\n  operation.error && (result.note = operation.error.message);\n  return result;\n};\nee.rpc_convert.sourcePathsToUris = function(source) {\n  return source.primaryPath ? [source.primaryPath].concat($jscomp.arrayFromIterable(source.additionalPaths || [])) : null;\n};\nee.rpc_convert.toImageManifest = function(params) {\n  var convertImageSource = function(source) {\n    var apiSource = module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.ImageSource, source);\n    apiSource.uris = ee.rpc_convert.sourcePathsToUris(source);\n    return apiSource;\n  }, manifest = module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.ImageManifest, params);\n  manifest.name = ee.rpc_convert.assetIdToAssetName(params.id);\n  manifest.tilesets = (params.tilesets || []).map(function(tileset) {\n    var apiTileset = module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.Tileset, tileset);\n    apiTileset.sources = (tileset.sources || []).map(convertImageSource);\n    return apiTileset;\n  });\n  manifest.bands = (params.bands || []).map(function(band) {\n    var apiBand = module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.TilesetBand, band);\n    apiBand.missingData = ee.rpc_convert.toOnePlatformMissingData(band.missingData);\n    return apiBand;\n  });\n  manifest.missingData = ee.rpc_convert.toOnePlatformMissingData(params.missingData);\n  manifest.maskBands = module$contents$goog$array_flatten((params.tilesets || []).map(ee.rpc_convert.toOnePlatformMaskBands));\n  manifest.pyramidingPolicy = params.pyramidingPolicy || null;\n  if (params.properties) {\n    var properties = Object.assign({}, params.properties), toTimestamp = function(msec) {\n      return (new Date(Number(msec))).toISOString();\n    }, value, extractValue = function(key) {\n      value = properties[key];\n      delete properties[key];\n      return value;\n    };\n    extractValue(\"system:time_start\") && (manifest.startTime = toTimestamp(value));\n    extractValue(\"system:time_end\") && (manifest.endTime = toTimestamp(value));\n    manifest.properties = properties;\n  }\n  return manifest;\n};\nee.rpc_convert.toOnePlatformMaskBands = function(tileset) {\n  var maskBands = [];\n  if (!Array.isArray(tileset.fileBands)) {\n    return maskBands;\n  }\n  var convertMaskConfig = function(maskConfig) {\n    var bandIds = [];\n    null != maskConfig && Array.isArray(maskConfig.bandId) && (bandIds = maskConfig.bandId.map(function(bandId) {\n      return bandId || \"\";\n    }));\n    return new module$exports$eeapiclient$ee_api_client.TilesetMaskBand({tilesetId:tileset.id || \"\", bandIds:bandIds});\n  };\n  tileset.fileBands.forEach(function(fileBand) {\n    fileBand.maskForAllBands ? maskBands.push(convertMaskConfig(null)) : null != fileBand.maskForBands && maskBands.push(convertMaskConfig(fileBand.maskForBands));\n  });\n  return maskBands;\n};\nee.rpc_convert.toTableManifest = function(params) {\n  var manifest = module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.TableManifest, params);\n  manifest.name = ee.rpc_convert.assetIdToAssetName(params.id);\n  manifest.sources = (params.sources || []).map(function(source) {\n    var apiSource = module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.TableSource, source);\n    apiSource.uris = ee.rpc_convert.sourcePathsToUris(source);\n    source.maxError && (apiSource.maxErrorMeters = source.maxError);\n    return apiSource;\n  });\n  if (params.properties) {\n    var properties = Object.assign({}, params.properties), toTimestamp = function(msec) {\n      return (new Date(Number(msec))).toISOString();\n    }, value, extractValue = function(key) {\n      value = properties[key];\n      delete properties[key];\n      return value;\n    };\n    extractValue(\"system:time_start\") && (manifest.startTime = toTimestamp(value));\n    extractValue(\"system:time_end\") && (manifest.endTime = toTimestamp(value));\n    manifest.properties = properties;\n  }\n  return manifest;\n};\nee.rpc_convert.toOnePlatformMissingData = function(params) {\n  if (null == params) {\n    return null;\n  }\n  var missingData = new module$exports$eeapiclient$ee_api_client.MissingData({values:[]});\n  null != params.value && \"number\" === typeof params.value && missingData.values.push(params.value);\n  Array.isArray(params.values) && params.values.map(function(value) {\n    \"number\" === typeof value && missingData.values.push(value);\n  });\n  return module$contents$goog$array_isEmpty(missingData.values) ? null : missingData;\n};\nee.rpc_convert.folderQuotaToAssetQuotaDetails = function(quota) {\n  var toNumber = function(field) {\n    return Number(field || 0);\n  };\n  return {asset_count:{usage:toNumber(quota.assetCount), limit:toNumber(quota.maxAssetCount),}, asset_size:{usage:toNumber(quota.sizeBytes), limit:toNumber(quota.maxSizeBytes),}};\n};\ngoog.crypt = {};\ngoog.crypt.Hash = function() {\n  this.blockSize = -1;\n};\ngoog.crypt.Md5 = function() {\n  goog.crypt.Hash.call(this);\n  this.blockSize = 64;\n  this.chain_ = Array(4);\n  this.block_ = Array(this.blockSize);\n  this.totalLength_ = this.blockLength_ = 0;\n  this.reset();\n};\ngoog.inherits(goog.crypt.Md5, goog.crypt.Hash);\ngoog.crypt.Md5.prototype.reset = function() {\n  this.chain_[0] = 1732584193;\n  this.chain_[1] = 4023233417;\n  this.chain_[2] = 2562383102;\n  this.chain_[3] = 271733878;\n  this.totalLength_ = this.blockLength_ = 0;\n};\ngoog.crypt.Md5.prototype.compress_ = function(buf, opt_offset) {\n  opt_offset || (opt_offset = 0);\n  var X = Array(16);\n  if (\"string\" === typeof buf) {\n    for (var i = 0; 16 > i; ++i) {\n      X[i] = buf.charCodeAt(opt_offset++) | buf.charCodeAt(opt_offset++) << 8 | buf.charCodeAt(opt_offset++) << 16 | buf.charCodeAt(opt_offset++) << 24;\n    }\n  } else {\n    for (i = 0; 16 > i; ++i) {\n      X[i] = buf[opt_offset++] | buf[opt_offset++] << 8 | buf[opt_offset++] << 16 | buf[opt_offset++] << 24;\n    }\n  }\n  var A = this.chain_[0], B = this.chain_[1], C = this.chain_[2], D = this.chain_[3], sum = 0;\n  sum = A + (D ^ B & (C ^ D)) + X[0] + 3614090360 & 4294967295;\n  A = B + (sum << 7 & 4294967295 | sum >>> 25);\n  sum = D + (C ^ A & (B ^ C)) + X[1] + 3905402710 & 4294967295;\n  D = A + (sum << 12 & 4294967295 | sum >>> 20);\n  sum = C + (B ^ D & (A ^ B)) + X[2] + 606105819 & 4294967295;\n  C = D + (sum << 17 & 4294967295 | sum >>> 15);\n  sum = B + (A ^ C & (D ^ A)) + X[3] + 3250441966 & 4294967295;\n  B = C + (sum << 22 & 4294967295 | sum >>> 10);\n  sum = A + (D ^ B & (C ^ D)) + X[4] + 4118548399 & 4294967295;\n  A = B + (sum << 7 & 4294967295 | sum >>> 25);\n  sum = D + (C ^ A & (B ^ C)) + X[5] + 1200080426 & 4294967295;\n  D = A + (sum << 12 & 4294967295 | sum >>> 20);\n  sum = C + (B ^ D & (A ^ B)) + X[6] + 2821735955 & 4294967295;\n  C = D + (sum << 17 & 4294967295 | sum >>> 15);\n  sum = B + (A ^ C & (D ^ A)) + X[7] + 4249261313 & 4294967295;\n  B = C + (sum << 22 & 4294967295 | sum >>> 10);\n  sum = A + (D ^ B & (C ^ D)) + X[8] + 1770035416 & 4294967295;\n  A = B + (sum << 7 & 4294967295 | sum >>> 25);\n  sum = D + (C ^ A & (B ^ C)) + X[9] + 2336552879 & 4294967295;\n  D = A + (sum << 12 & 4294967295 | sum >>> 20);\n  sum = C + (B ^ D & (A ^ B)) + X[10] + 4294925233 & 4294967295;\n  C = D + (sum << 17 & 4294967295 | sum >>> 15);\n  sum = B + (A ^ C & (D ^ A)) + X[11] + 2304563134 & 4294967295;\n  B = C + (sum << 22 & 4294967295 | sum >>> 10);\n  sum = A + (D ^ B & (C ^ D)) + X[12] + 1804603682 & 4294967295;\n  A = B + (sum << 7 & 4294967295 | sum >>> 25);\n  sum = D + (C ^ A & (B ^ C)) + X[13] + 4254626195 & 4294967295;\n  D = A + (sum << 12 & 4294967295 | sum >>> 20);\n  sum = C + (B ^ D & (A ^ B)) + X[14] + 2792965006 & 4294967295;\n  C = D + (sum << 17 & 4294967295 | sum >>> 15);\n  sum = B + (A ^ C & (D ^ A)) + X[15] + 1236535329 & 4294967295;\n  B = C + (sum << 22 & 4294967295 | sum >>> 10);\n  sum = A + (C ^ D & (B ^ C)) + X[1] + 4129170786 & 4294967295;\n  A = B + (sum << 5 & 4294967295 | sum >>> 27);\n  sum = D + (B ^ C & (A ^ B)) + X[6] + 3225465664 & 4294967295;\n  D = A + (sum << 9 & 4294967295 | sum >>> 23);\n  sum = C + (A ^ B & (D ^ A)) + X[11] + 643717713 & 4294967295;\n  C = D + (sum << 14 & 4294967295 | sum >>> 18);\n  sum = B + (D ^ A & (C ^ D)) + X[0] + 3921069994 & 4294967295;\n  B = C + (sum << 20 & 4294967295 | sum >>> 12);\n  sum = A + (C ^ D & (B ^ C)) + X[5] + 3593408605 & 4294967295;\n  A = B + (sum << 5 & 4294967295 | sum >>> 27);\n  sum = D + (B ^ C & (A ^ B)) + X[10] + 38016083 & 4294967295;\n  D = A + (sum << 9 & 4294967295 | sum >>> 23);\n  sum = C + (A ^ B & (D ^ A)) + X[15] + 3634488961 & 4294967295;\n  C = D + (sum << 14 & 4294967295 | sum >>> 18);\n  sum = B + (D ^ A & (C ^ D)) + X[4] + 3889429448 & 4294967295;\n  B = C + (sum << 20 & 4294967295 | sum >>> 12);\n  sum = A + (C ^ D & (B ^ C)) + X[9] + 568446438 & 4294967295;\n  A = B + (sum << 5 & 4294967295 | sum >>> 27);\n  sum = D + (B ^ C & (A ^ B)) + X[14] + 3275163606 & 4294967295;\n  D = A + (sum << 9 & 4294967295 | sum >>> 23);\n  sum = C + (A ^ B & (D ^ A)) + X[3] + 4107603335 & 4294967295;\n  C = D + (sum << 14 & 4294967295 | sum >>> 18);\n  sum = B + (D ^ A & (C ^ D)) + X[8] + 1163531501 & 4294967295;\n  B = C + (sum << 20 & 4294967295 | sum >>> 12);\n  sum = A + (C ^ D & (B ^ C)) + X[13] + 2850285829 & 4294967295;\n  A = B + (sum << 5 & 4294967295 | sum >>> 27);\n  sum = D + (B ^ C & (A ^ B)) + X[2] + 4243563512 & 4294967295;\n  D = A + (sum << 9 & 4294967295 | sum >>> 23);\n  sum = C + (A ^ B & (D ^ A)) + X[7] + 1735328473 & 4294967295;\n  C = D + (sum << 14 & 4294967295 | sum >>> 18);\n  sum = B + (D ^ A & (C ^ D)) + X[12] + 2368359562 & 4294967295;\n  B = C + (sum << 20 & 4294967295 | sum >>> 12);\n  sum = A + (B ^ C ^ D) + X[5] + 4294588738 & 4294967295;\n  A = B + (sum << 4 & 4294967295 | sum >>> 28);\n  sum = D + (A ^ B ^ C) + X[8] + 2272392833 & 4294967295;\n  D = A + (sum << 11 & 4294967295 | sum >>> 21);\n  sum = C + (D ^ A ^ B) + X[11] + 1839030562 & 4294967295;\n  C = D + (sum << 16 & 4294967295 | sum >>> 16);\n  sum = B + (C ^ D ^ A) + X[14] + 4259657740 & 4294967295;\n  B = C + (sum << 23 & 4294967295 | sum >>> 9);\n  sum = A + (B ^ C ^ D) + X[1] + 2763975236 & 4294967295;\n  A = B + (sum << 4 & 4294967295 | sum >>> 28);\n  sum = D + (A ^ B ^ C) + X[4] + 1272893353 & 4294967295;\n  D = A + (sum << 11 & 4294967295 | sum >>> 21);\n  sum = C + (D ^ A ^ B) + X[7] + 4139469664 & 4294967295;\n  C = D + (sum << 16 & 4294967295 | sum >>> 16);\n  sum = B + (C ^ D ^ A) + X[10] + 3200236656 & 4294967295;\n  B = C + (sum << 23 & 4294967295 | sum >>> 9);\n  sum = A + (B ^ C ^ D) + X[13] + 681279174 & 4294967295;\n  A = B + (sum << 4 & 4294967295 | sum >>> 28);\n  sum = D + (A ^ B ^ C) + X[0] + 3936430074 & 4294967295;\n  D = A + (sum << 11 & 4294967295 | sum >>> 21);\n  sum = C + (D ^ A ^ B) + X[3] + 3572445317 & 4294967295;\n  C = D + (sum << 16 & 4294967295 | sum >>> 16);\n  sum = B + (C ^ D ^ A) + X[6] + 76029189 & 4294967295;\n  B = C + (sum << 23 & 4294967295 | sum >>> 9);\n  sum = A + (B ^ C ^ D) + X[9] + 3654602809 & 4294967295;\n  A = B + (sum << 4 & 4294967295 | sum >>> 28);\n  sum = D + (A ^ B ^ C) + X[12] + 3873151461 & 4294967295;\n  D = A + (sum << 11 & 4294967295 | sum >>> 21);\n  sum = C + (D ^ A ^ B) + X[15] + 530742520 & 4294967295;\n  C = D + (sum << 16 & 4294967295 | sum >>> 16);\n  sum = B + (C ^ D ^ A) + X[2] + 3299628645 & 4294967295;\n  B = C + (sum << 23 & 4294967295 | sum >>> 9);\n  sum = A + (C ^ (B | ~D)) + X[0] + 4096336452 & 4294967295;\n  A = B + (sum << 6 & 4294967295 | sum >>> 26);\n  sum = D + (B ^ (A | ~C)) + X[7] + 1126891415 & 4294967295;\n  D = A + (sum << 10 & 4294967295 | sum >>> 22);\n  sum = C + (A ^ (D | ~B)) + X[14] + 2878612391 & 4294967295;\n  C = D + (sum << 15 & 4294967295 | sum >>> 17);\n  sum = B + (D ^ (C | ~A)) + X[5] + 4237533241 & 4294967295;\n  B = C + (sum << 21 & 4294967295 | sum >>> 11);\n  sum = A + (C ^ (B | ~D)) + X[12] + 1700485571 & 4294967295;\n  A = B + (sum << 6 & 4294967295 | sum >>> 26);\n  sum = D + (B ^ (A | ~C)) + X[3] + 2399980690 & 4294967295;\n  D = A + (sum << 10 & 4294967295 | sum >>> 22);\n  sum = C + (A ^ (D | ~B)) + X[10] + 4293915773 & 4294967295;\n  C = D + (sum << 15 & 4294967295 | sum >>> 17);\n  sum = B + (D ^ (C | ~A)) + X[1] + 2240044497 & 4294967295;\n  B = C + (sum << 21 & 4294967295 | sum >>> 11);\n  sum = A + (C ^ (B | ~D)) + X[8] + 1873313359 & 4294967295;\n  A = B + (sum << 6 & 4294967295 | sum >>> 26);\n  sum = D + (B ^ (A | ~C)) + X[15] + 4264355552 & 4294967295;\n  D = A + (sum << 10 & 4294967295 | sum >>> 22);\n  sum = C + (A ^ (D | ~B)) + X[6] + 2734768916 & 4294967295;\n  C = D + (sum << 15 & 4294967295 | sum >>> 17);\n  sum = B + (D ^ (C | ~A)) + X[13] + 1309151649 & 4294967295;\n  B = C + (sum << 21 & 4294967295 | sum >>> 11);\n  sum = A + (C ^ (B | ~D)) + X[4] + 4149444226 & 4294967295;\n  A = B + (sum << 6 & 4294967295 | sum >>> 26);\n  sum = D + (B ^ (A | ~C)) + X[11] + 3174756917 & 4294967295;\n  D = A + (sum << 10 & 4294967295 | sum >>> 22);\n  sum = C + (A ^ (D | ~B)) + X[2] + 718787259 & 4294967295;\n  C = D + (sum << 15 & 4294967295 | sum >>> 17);\n  sum = B + (D ^ (C | ~A)) + X[9] + 3951481745 & 4294967295;\n  this.chain_[0] = this.chain_[0] + A & 4294967295;\n  this.chain_[1] = this.chain_[1] + (C + (sum << 21 & 4294967295 | sum >>> 11)) & 4294967295;\n  this.chain_[2] = this.chain_[2] + C & 4294967295;\n  this.chain_[3] = this.chain_[3] + D & 4294967295;\n};\ngoog.crypt.Md5.prototype.update = function(bytes, opt_length) {\n  void 0 === opt_length && (opt_length = bytes.length);\n  for (var lengthMinusBlock = opt_length - this.blockSize, block = this.block_, blockLength = this.blockLength_, i = 0; i < opt_length;) {\n    if (0 == blockLength) {\n      for (; i <= lengthMinusBlock;) {\n        this.compress_(bytes, i), i += this.blockSize;\n      }\n    }\n    if (\"string\" === typeof bytes) {\n      for (; i < opt_length;) {\n        if (block[blockLength++] = bytes.charCodeAt(i++), blockLength == this.blockSize) {\n          this.compress_(block);\n          blockLength = 0;\n          break;\n        }\n      }\n    } else {\n      for (; i < opt_length;) {\n        if (block[blockLength++] = bytes[i++], blockLength == this.blockSize) {\n          this.compress_(block);\n          blockLength = 0;\n          break;\n        }\n      }\n    }\n  }\n  this.blockLength_ = blockLength;\n  this.totalLength_ += opt_length;\n};\ngoog.crypt.Md5.prototype.digest = function() {\n  var pad = Array((56 > this.blockLength_ ? this.blockSize : 2 * this.blockSize) - this.blockLength_);\n  pad[0] = 128;\n  for (var i = 1; i < pad.length - 8; ++i) {\n    pad[i] = 0;\n  }\n  var totalBits = 8 * this.totalLength_;\n  for (i = pad.length - 8; i < pad.length; ++i) {\n    pad[i] = totalBits & 255, totalBits /= 256;\n  }\n  this.update(pad);\n  var digest = Array(16), n = 0;\n  for (i = 0; 4 > i; ++i) {\n    for (var j = 0; 32 > j; j += 8) {\n      digest[n++] = this.chain_[i] >>> j & 255;\n    }\n  }\n  return digest;\n};\nee.Serializer = function(opt_isCompound) {\n  this.HASH_KEY = \"__ee_hash__\";\n  this.isCompound_ = !1 !== opt_isCompound;\n  this.scope_ = [];\n  this.encoded_ = {};\n  this.withHashes_ = [];\n  this.hashes_ = new WeakMap();\n  this.unboundName = void 0;\n};\ngoog.exportSymbol(\"ee.Serializer\", ee.Serializer);\nee.Serializer.jsonSerializer_ = new goog.json.Serializer();\nee.Serializer.hash_ = new goog.crypt.Md5();\nee.Serializer.encode = function(obj, opt_isCompound) {\n  return (new ee.Serializer(void 0 !== opt_isCompound ? opt_isCompound : !0)).encode_(obj);\n};\ngoog.exportSymbol(\"ee.Serializer.encode\", ee.Serializer.encode);\nee.Serializer.toJSON = function(obj) {\n  return ee.Serializer.jsonSerializer_.serialize(ee.Serializer.encode(obj));\n};\ngoog.exportSymbol(\"ee.Serializer.toJSON\", ee.Serializer.toJSON);\nee.Serializer.toReadableJSON = function(obj) {\n  return ee.Serializer.stringify(ee.Serializer.encode(obj, !1));\n};\ngoog.exportSymbol(\"ee.Serializer.toReadableJSON\", ee.Serializer.toReadableJSON);\nee.Serializer.stringify = function(encoded) {\n  return \"JSON\" in goog.global ? goog.global.JSON.stringify(encoded, null, \"  \") : ee.Serializer.jsonSerializer_.serialize(encoded);\n};\nee.Serializer.prototype.encode_ = function(object) {\n  var value = this.encodeValue_(object);\n  this.isCompound_ && (value = goog.isObject(value) && \"ValueRef\" == value.type && 1 == this.scope_.length ? this.scope_[0][1] : {type:\"CompoundValue\", scope:this.scope_, value:value}, this.scope_ = [], module$contents$goog$array_forEach(this.withHashes_, goog.bind(function(obj) {\n    delete obj[this.HASH_KEY];\n  }, this)), this.withHashes_ = [], this.encoded_ = {});\n  return value;\n};\nee.Serializer.prototype.encodeValue_ = function(object) {\n  if (void 0 === object) {\n    throw Error(\"Can't encode an undefined value.\");\n  }\n  var hash = goog.isObject(object) ? object[this.HASH_KEY] : null;\n  if (this.isCompound_ && null != hash && this.encoded_[hash]) {\n    return {type:\"ValueRef\", value:this.encoded_[hash]};\n  }\n  if (null === object || \"boolean\" === typeof object || \"number\" === typeof object || \"string\" === typeof object) {\n    return object;\n  }\n  if (goog.isDateLike(object)) {\n    return {type:\"Invocation\", functionName:\"Date\", arguments:{value:Math.floor(object.getTime())}};\n  }\n  if (object instanceof ee.Encodable) {\n    var result = object.encode(goog.bind(this.encodeValue_, this));\n    if (!(Array.isArray(result) || goog.isObject(result) && \"ArgumentRef\" != result.type)) {\n      return result;\n    }\n  } else {\n    if (Array.isArray(object)) {\n      result = module$contents$goog$array_map(object, function(element) {\n        return this.encodeValue_(element);\n      }, this);\n    } else {\n      if (goog.isObject(object) && \"function\" !== typeof object) {\n        var encodedObject = module$contents$goog$object_map(object, function(element) {\n          if (\"function\" !== typeof element) {\n            return this.encodeValue_(element);\n          }\n        }, this);\n        module$contents$goog$object_remove(encodedObject, this.HASH_KEY);\n        result = {type:\"Dictionary\", value:encodedObject};\n      } else {\n        throw Error(\"Can't encode object: \" + object);\n      }\n    }\n  }\n  if (this.isCompound_) {\n    hash = ee.Serializer.computeHash(result);\n    if (this.encoded_[hash]) {\n      var name = this.encoded_[hash];\n    } else {\n      name = String(this.scope_.length), this.scope_.push([name, result]), this.encoded_[hash] = name;\n    }\n    object[this.HASH_KEY] = hash;\n    this.withHashes_.push(object);\n    return {type:\"ValueRef\", value:name};\n  }\n  return result;\n};\nee.Serializer.computeHash = function(obj) {\n  ee.Serializer.hash_.reset();\n  ee.Serializer.hash_.update(ee.Serializer.jsonSerializer_.serialize(obj));\n  return ee.Serializer.hash_.digest().toString();\n};\nee.Serializer.encodeCloudApi = function(obj) {\n  return module$contents$eeapiclient$domain_object_serialize(ee.Serializer.encodeCloudApiExpression(obj));\n};\ngoog.exportSymbol(\"ee.Serializer.encodeCloudApi\", ee.Serializer.encodeCloudApi);\nee.Serializer.encodeCloudApiExpression = function(obj, unboundName) {\n  var serializer = new ee.Serializer(!0);\n  serializer.unboundName = unboundName;\n  return serializer.encodeForCloudApi_(obj);\n};\nee.Serializer.encodeCloudApiPretty = function(obj) {\n  var encoded = (new ee.Serializer(!1)).encodeForCloudApi_(obj), values = encoded.values, walkObject = function(object) {\n    if (!goog.isObject(object)) {\n      return object;\n    }\n    for (var ret = Array.isArray(object) ? [] : {}, isNode = object instanceof Object.getPrototypeOf(module$exports$eeapiclient$ee_api_client.ValueNode), $jscomp$iter$24 = $jscomp.makeIterator(Object.entries(isNode ? object.Serializable$values : object)), $jscomp$key$ = $jscomp$iter$24.next(); !$jscomp$key$.done; $jscomp$key$ = $jscomp$iter$24.next()) {\n      var $jscomp$destructuring$var31 = $jscomp.makeIterator($jscomp$key$.value), key = $jscomp$destructuring$var31.next().value, val = $jscomp$destructuring$var31.next().value;\n      isNode ? null !== val && (ret[key] = \"functionDefinitionValue\" === key && null != val.body ? {argumentNames:val.argumentNames, body:walkObject(values[val.body])} : \"functionInvocationValue\" === key && null != val.functionReference ? {arguments:module$contents$goog$object_map(val.arguments, walkObject), functionReference:walkObject(values[val.functionReference])} : \"constantValue\" === key ? val === module$exports$eeapiclient$domain_object.NULL_VALUE ? \n      null : val : walkObject(val)) : ret[key] = walkObject(val);\n    }\n    return ret;\n  };\n  return encoded.result && walkObject(values[encoded.result]);\n};\ngoog.exportSymbol(\"ee.Serializer.encodeCloudApiPretty\", ee.Serializer.encodeCloudApiPretty);\nee.Serializer.toCloudApiJSON = function(obj) {\n  return ee.Serializer.jsonSerializer_.serialize(ee.Serializer.encodeCloudApi(obj));\n};\ngoog.exportSymbol(\"ee.Serializer.toCloudApiJSON\", ee.Serializer.toCloudApiJSON);\nee.Serializer.toReadableCloudApiJSON = function(obj) {\n  return ee.Serializer.stringify(ee.Serializer.encodeCloudApiPretty(obj));\n};\ngoog.exportSymbol(\"ee.Serializer.toReadableCloudApiJSON\", ee.Serializer.toReadableCloudApiJSON);\nee.Serializer.prototype.encodeForCloudApi_ = function(obj) {\n  try {\n    var result = this.makeReference(obj);\n    return (new ExpressionOptimizer(result, this.scope_, this.isCompound_)).optimize();\n  } finally {\n    this.hashes_ = new WeakMap(), this.encoded_ = {}, this.scope_ = [];\n  }\n};\nee.Serializer.prototype.makeReference = function(obj) {\n  var $jscomp$this = this, makeRef = function(result) {\n    var hash = ee.Serializer.computeHash(result);\n    goog.isObject(obj) && $jscomp$this.hashes_.set(obj, hash);\n    if ($jscomp$this.encoded_[hash]) {\n      return $jscomp$this.encoded_[hash];\n    }\n    var name = String($jscomp$this.scope_.length);\n    $jscomp$this.scope_.push([name, result]);\n    return $jscomp$this.encoded_[hash] = name;\n  };\n  if (goog.isObject(obj) && this.encoded_[this.hashes_.get(obj)]) {\n    return this.encoded_[this.hashes_.get(obj)];\n  }\n  if (null === obj || \"boolean\" === typeof obj || \"string\" === typeof obj || \"number\" === typeof obj) {\n    return makeRef(ee.rpc_node.constant(obj));\n  }\n  if (goog.isDateLike(obj)) {\n    return makeRef(ee.rpc_node.functionByName(\"Date\", {value:ee.rpc_node.constant(Math.floor(obj.getTime()))}));\n  }\n  if (obj instanceof ee.Encodable) {\n    return makeRef(obj.encodeCloudValue(this));\n  }\n  if (Array.isArray(obj)) {\n    return makeRef(ee.rpc_node.array(obj.map(function(x) {\n      return ee.rpc_node.reference($jscomp$this.makeReference(x));\n    })));\n  }\n  if (goog.isObject(obj) && \"function\" !== typeof obj) {\n    var values = {};\n    Object.keys(obj).sort().forEach(function(k) {\n      values[k] = ee.rpc_node.reference($jscomp$this.makeReference(obj[k]));\n    });\n    return makeRef(ee.rpc_node.dictionary(values));\n  }\n  throw Error(\"Can't encode object: \" + obj);\n};\nvar ExpressionOptimizer = function(rootReference, values, isCompound) {\n  var $jscomp$this = this;\n  this.rootReference = rootReference;\n  this.values = {};\n  values.forEach(function(tuple) {\n    return $jscomp$this.values[tuple[0]] = tuple[1];\n  });\n  this.referenceCounts = isCompound ? this.countReferences() : null;\n  this.optimizedValues = {};\n  this.referenceMap = {};\n  this.nextMappedRef = 0;\n};\nExpressionOptimizer.prototype.optimize = function() {\n  var result = this.optimizeReference(this.rootReference);\n  return new module$exports$eeapiclient$ee_api_client.Expression({result:result, values:this.optimizedValues,});\n};\nExpressionOptimizer.prototype.optimizeReference = function(ref) {\n  if (ref in this.referenceMap) {\n    return this.referenceMap[ref];\n  }\n  var mappedRef = String(this.nextMappedRef++);\n  this.referenceMap[ref] = mappedRef;\n  this.optimizedValues[mappedRef] = this.optimizeValue(this.values[ref], 0);\n  return mappedRef;\n};\nExpressionOptimizer.prototype.optimizeValue = function(value, depth) {\n  var $jscomp$this = this, isConst = function(v) {\n    return null !== v.constantValue;\n  }, serializeConst = function(v) {\n    return v === module$exports$eeapiclient$domain_object.NULL_VALUE ? null : v;\n  };\n  if (isConst(value) || null != value.integerValue || null != value.bytesValue || null != value.argumentReference) {\n    return value;\n  }\n  if (null != value.valueReference) {\n    var val = this.values[value.valueReference];\n    return null === this.referenceCounts || 50 > depth && 1 === this.referenceCounts[value.valueReference] ? this.optimizeValue(val, depth) : ExpressionOptimizer.isAlwaysLiftable(val) ? val : ee.rpc_node.reference(this.optimizeReference(value.valueReference));\n  }\n  if (null != value.arrayValue) {\n    var arr = value.arrayValue.values.map(function(v) {\n      return $jscomp$this.optimizeValue(v, depth + 3);\n    });\n    return arr.every(isConst) ? ee.rpc_node.constant(arr.map(function(v) {\n      return serializeConst(v.constantValue);\n    })) : ee.rpc_node.array(arr);\n  }\n  if (null != value.dictionaryValue) {\n    for (var values = {}, constantValues = {}, $jscomp$iter$25 = $jscomp.makeIterator(Object.entries(value.dictionaryValue.values || {})), $jscomp$key$ = $jscomp$iter$25.next(); !$jscomp$key$.done; $jscomp$key$ = $jscomp$iter$25.next()) {\n      var $jscomp$destructuring$var33 = $jscomp.makeIterator($jscomp$key$.value), k = $jscomp$destructuring$var33.next().value, v$jscomp$0 = $jscomp$destructuring$var33.next().value;\n      values[k] = this.optimizeValue(v$jscomp$0, depth + 3);\n      null !== constantValues && isConst(values[k]) ? constantValues[k] = serializeConst(values[k].constantValue) : constantValues = null;\n    }\n    return null !== constantValues ? ee.rpc_node.constant(constantValues) : ee.rpc_node.dictionary(values);\n  }\n  if (null != value.functionDefinitionValue) {\n    var def = value.functionDefinitionValue;\n    return ee.rpc_node.functionDefinition(def.argumentNames || [], this.optimizeReference(def.body || \"\"));\n  }\n  if (null != value.functionInvocationValue) {\n    for (var inv = value.functionInvocationValue, args = {}, $jscomp$iter$26 = $jscomp.makeIterator(Object.keys(inv.arguments || {})), $jscomp$key$k = $jscomp$iter$26.next(); !$jscomp$key$k.done; $jscomp$key$k = $jscomp$iter$26.next()) {\n      var k$63 = $jscomp$key$k.value;\n      args[k$63] = this.optimizeValue(inv.arguments[k$63], depth + 3);\n    }\n    return inv.functionName ? ee.rpc_node.functionByName(inv.functionName, args) : ee.rpc_node.functionByReference(this.optimizeReference(inv.functionReference || \"\"), args);\n  }\n  throw Error(\"Can't optimize value: \" + value);\n};\nExpressionOptimizer.isAlwaysLiftable = function(value) {\n  var constant = value.constantValue;\n  return null !== constant ? constant === module$exports$eeapiclient$domain_object.NULL_VALUE || \"number\" === typeof constant || \"boolean\" === typeof constant : null != value.argumentReference;\n};\nExpressionOptimizer.prototype.countReferences = function() {\n  var $jscomp$this = this, counts = {}, visitReference = function(reference) {\n    counts[reference] ? counts[reference]++ : (counts[reference] = 1, visitValue($jscomp$this.values[reference]));\n  }, visitValue = function(value) {\n    if (null != value.arrayValue) {\n      value.arrayValue.values.forEach(visitValue);\n    } else {\n      if (null != value.dictionaryValue) {\n        Object.values(value.dictionaryValue.values).forEach(visitValue);\n      } else {\n        if (null != value.functionDefinitionValue) {\n          visitReference(value.functionDefinitionValue.body);\n        } else {\n          if (null != value.functionInvocationValue) {\n            var inv = value.functionInvocationValue;\n            null != inv.functionReference && visitReference(inv.functionReference);\n            Object.values(inv.arguments).forEach(visitValue);\n          } else {\n            null != value.valueReference && visitReference(value.valueReference);\n          }\n        }\n      }\n    }\n  };\n  visitReference(this.rootReference);\n  return counts;\n};\nee.rpc_convert_batch = {};\nee.rpc_convert_batch.ExportDestination = {DRIVE:\"DRIVE\", GCS:\"GOOGLE_CLOUD_STORAGE\", ASSET:\"ASSET\", FEATURE_VIEW:\"FEATURE_VIEW\",};\nee.rpc_convert_batch.taskToExportImageRequest = function(params) {\n  if (null == params.element) {\n    throw Error('\"element\" not found in params ' + params);\n  }\n  var result = new module$exports$eeapiclient$ee_api_client.ExportImageRequest({expression:ee.Serializer.encodeCloudApiExpression(params.element), description:stringOrNull_(params.description), fileExportOptions:null, assetExportOptions:null, grid:null, maxPixels:stringOrNull_(params.maxPixels), requestId:stringOrNull_(params.id), maxWorkerCount:numberOrNull_(params.maxWorkers)}), destination = ee.rpc_convert_batch.guessDestination_(params);\n  switch(destination) {\n    case ee.rpc_convert_batch.ExportDestination.GCS:\n    case ee.rpc_convert_batch.ExportDestination.DRIVE:\n      result.fileExportOptions = ee.rpc_convert_batch.buildImageFileExportOptions_(params, destination);\n      break;\n    case ee.rpc_convert_batch.ExportDestination.ASSET:\n      result.assetExportOptions = ee.rpc_convert_batch.buildImageAssetExportOptions_(params);\n      break;\n    default:\n      throw Error('Export destination \"' + destination + '\" unknown');\n  }\n  return result;\n};\nee.rpc_convert_batch.taskToExportTableRequest = function(params) {\n  if (null == params.element) {\n    throw Error('\"element\" not found in params ' + params);\n  }\n  var selectors = params.selectors || null;\n  null != selectors && \"string\" === typeof selectors && (selectors = selectors.split(\",\"));\n  var result = new module$exports$eeapiclient$ee_api_client.ExportTableRequest({expression:ee.Serializer.encodeCloudApiExpression(params.element), description:stringOrNull_(params.description), fileExportOptions:null, assetExportOptions:null, dmsExportOptions:null, selectors:selectors, maxErrorMeters:numberOrNull_(params.maxErrorMeters), requestId:stringOrNull_(params.id), maxVertices:numberOrNull_(params.maxVertices), maxWorkerCount:numberOrNull_(params.maxWorkers)}), \n  destination = ee.rpc_convert_batch.guessDestination_(params);\n  switch(destination) {\n    case ee.rpc_convert_batch.ExportDestination.GCS:\n    case ee.rpc_convert_batch.ExportDestination.DRIVE:\n      result.fileExportOptions = ee.rpc_convert_batch.buildTableFileExportOptions_(params, destination);\n      break;\n    case ee.rpc_convert_batch.ExportDestination.ASSET:\n      result.assetExportOptions = ee.rpc_convert_batch.buildTableAssetExportOptions_(params);\n      break;\n    case ee.rpc_convert_batch.ExportDestination.FEATURE_VIEW:\n      result.dmsExportOptions = ee.rpc_convert_batch.buildFeatureViewExportOptions_(params);\n      break;\n    default:\n      throw Error('Export destination \"' + destination + '\" unknown');\n  }\n  return result;\n};\nee.rpc_convert_batch.taskToExportVideoRequest = function(params) {\n  if (null == params.element) {\n    throw Error('\"element\" not found in params ' + params);\n  }\n  var result = new module$exports$eeapiclient$ee_api_client.ExportVideoRequest({expression:ee.Serializer.encodeCloudApiExpression(params.element), description:stringOrNull_(params.description), videoOptions:ee.rpc_convert_batch.buildVideoOptions_(params), fileExportOptions:null, requestId:stringOrNull_(params.id), maxWorkerCount:numberOrNull_(params.maxWorkers)});\n  result.fileExportOptions = ee.rpc_convert_batch.buildVideoFileExportOptions_(params, ee.rpc_convert_batch.guessDestination_(params));\n  return result;\n};\nee.rpc_convert_batch.taskToExportMapRequest = function(params) {\n  if (null == params.element) {\n    throw Error('\"element\" not found in params ' + params);\n  }\n  return new module$exports$eeapiclient$ee_api_client.ExportMapRequest({expression:ee.Serializer.encodeCloudApiExpression(params.element), description:stringOrNull_(params.description), tileOptions:ee.rpc_convert_batch.buildTileOptions_(params), tileExportOptions:ee.rpc_convert_batch.buildImageFileExportOptions_(params, ee.rpc_convert_batch.ExportDestination.GCS), requestId:stringOrNull_(params.id), maxWorkerCount:numberOrNull_(params.maxWorkers)});\n};\nee.rpc_convert_batch.taskToExportVideoMapRequest = function(params) {\n  if (null == params.element) {\n    throw Error('\"element\" not found in params ' + params);\n  }\n  return new module$exports$eeapiclient$ee_api_client.ExportVideoMapRequest({expression:ee.Serializer.encodeCloudApiExpression(params.element), description:stringOrNull_(params.description), videoOptions:ee.rpc_convert_batch.buildVideoMapOptions_(params), tileOptions:ee.rpc_convert_batch.buildTileOptions_(params), tileExportOptions:ee.rpc_convert_batch.buildVideoFileExportOptions_(params, ee.rpc_convert_batch.ExportDestination.GCS), requestId:stringOrNull_(params.id), \n  version:stringOrNull_(params.version), maxWorkerCount:numberOrNull_(params.maxWorkers)});\n};\nee.rpc_convert_batch.taskToExportClassifierRequest = function(params) {\n  if (null == params.element) {\n    throw Error('\"element\" not found in params ' + params);\n  }\n  var destination = ee.rpc_convert_batch.guessDestination_(params);\n  if (destination != ee.rpc_convert_batch.ExportDestination.ASSET) {\n    throw Error('Export destination \"' + destination + '\" unknown');\n  }\n  return new module$exports$eeapiclient$ee_api_client.ExportClassifierRequest({expression:ee.Serializer.encodeCloudApiExpression(params.element), description:stringOrNull_(params.description), requestId:stringOrNull_(params.id), assetExportOptions:new module$exports$eeapiclient$ee_api_client.ClassifierAssetExportOptions({earthEngineDestination:ee.rpc_convert_batch.buildEarthEngineDestination_(params)}), maxWorkerCount:numberOrNull_(params.maxWorkers),\n  });\n};\nfunction stringOrNull_(value) {\n  return null != value ? String(value) : null;\n}\nfunction numberOrNull_(value) {\n  return null != value ? Number(value) : null;\n}\nee.rpc_convert_batch.guessDestination_ = function(params) {\n  var destination = ee.rpc_convert_batch.ExportDestination.DRIVE;\n  if (null == params) {\n    return destination;\n  }\n  null != params.outputBucket || null != params.outputPrefix ? destination = ee.rpc_convert_batch.ExportDestination.GCS : null != params.assetId ? destination = ee.rpc_convert_batch.ExportDestination.ASSET : null != params.mapName && (destination = ee.rpc_convert_batch.ExportDestination.FEATURE_VIEW);\n  return destination;\n};\nee.rpc_convert_batch.buildGeoTiffFormatOptions_ = function(params) {\n  if (params.fileDimensions && params.tiffFileDimensions) {\n    throw Error('Export cannot set both \"fileDimensions\" and \"tiffFileDimensions\".');\n  }\n  var tileSize = params.tiffShardSize || params.shardSize;\n  return new module$exports$eeapiclient$ee_api_client.GeoTiffImageExportOptions({cloudOptimized:!!params.tiffCloudOptimized, skipEmptyFiles:!(!params.skipEmptyTiles && !params.tiffSkipEmptyFiles), tileDimensions:ee.rpc_convert_batch.buildGridDimensions_(params.fileDimensions || params.tiffFileDimensions), tileSize:numberOrNull_(tileSize),});\n};\nee.rpc_convert_batch.buildTfRecordFormatOptions_ = function(params) {\n  var tfRecordOptions = new module$exports$eeapiclient$ee_api_client.TfRecordImageExportOptions({compress:!!params.tfrecordCompressed, maxSizeBytes:stringOrNull_(params.tfrecordMaxFileSize), sequenceData:!!params.tfrecordSequenceData, collapseBands:!!params.tfrecordCollapseBands, maxMaskedRatio:numberOrNull_(params.tfrecordMaskedThreshold), defaultValue:numberOrNull_(params.tfrecordDefaultValue), tileDimensions:ee.rpc_convert_batch.buildGridDimensions_(params.tfrecordPatchDimensions), \n  marginDimensions:ee.rpc_convert_batch.buildGridDimensions_(params.tfrecordKernelSize), tensorDepths:null,}), tensorDepths = params.tfrecordTensorDepths;\n  if (null != tensorDepths) {\n    if (goog.isObject(tensorDepths)) {\n      var result = {};\n      module$contents$goog$object_forEach(tensorDepths, function(v, k) {\n        if (\"string\" !== typeof k || \"number\" !== typeof v) {\n          throw Error('\"tensorDepths\" option must be an object of type Object<string, number>');\n        }\n        result[k] = v;\n      });\n      tfRecordOptions.tensorDepths = result;\n    } else {\n      throw Error('\"tensorDepths\" option needs to have the form Object<string, number>.');\n    }\n  }\n  return tfRecordOptions;\n};\nee.rpc_convert_batch.buildImageFileExportOptions_ = function(params, destination) {\n  var result = new module$exports$eeapiclient$ee_api_client.ImageFileExportOptions({gcsDestination:null, driveDestination:null, geoTiffOptions:null, tfRecordOptions:null, fileFormat:ee.rpc_convert.fileFormat(params.fileFormat),});\n  \"GEO_TIFF\" === result.fileFormat ? result.geoTiffOptions = ee.rpc_convert_batch.buildGeoTiffFormatOptions_(params) : \"TF_RECORD_IMAGE\" === result.fileFormat && (result.tfRecordOptions = ee.rpc_convert_batch.buildTfRecordFormatOptions_(params));\n  destination === ee.rpc_convert_batch.ExportDestination.GCS ? result.gcsDestination = ee.rpc_convert_batch.buildGcsDestination_(params) : result.driveDestination = ee.rpc_convert_batch.buildDriveDestination_(params);\n  return result;\n};\nee.rpc_convert_batch.buildImageAssetExportOptions_ = function(params) {\n  var allPolicies = params.pyramidingPolicy || {};\n  try {\n    allPolicies = JSON.parse(allPolicies);\n  } catch ($jscomp$unused$catch) {\n  }\n  var defaultPyramidingPolicy = \"PYRAMIDING_POLICY_UNSPECIFIED\";\n  \"string\" === typeof allPolicies ? (defaultPyramidingPolicy = allPolicies, allPolicies = {}) : allPolicies[\".default\"] && (defaultPyramidingPolicy = allPolicies[\".default\"], delete allPolicies[\".default\"]);\n  return new module$exports$eeapiclient$ee_api_client.ImageAssetExportOptions({earthEngineDestination:ee.rpc_convert_batch.buildEarthEngineDestination_(params), pyramidingPolicy:defaultPyramidingPolicy, pyramidingPolicyOverrides:module$contents$goog$object_isEmpty(allPolicies) ? null : allPolicies, tileSize:numberOrNull_(params.shardSize),});\n};\nee.rpc_convert_batch.buildTableFileExportOptions_ = function(params, destination) {\n  var result = new module$exports$eeapiclient$ee_api_client.TableFileExportOptions({gcsDestination:null, driveDestination:null, fileFormat:ee.rpc_convert.tableFileFormat(params.fileFormat),});\n  destination === ee.rpc_convert_batch.ExportDestination.GCS ? result.gcsDestination = ee.rpc_convert_batch.buildGcsDestination_(params) : result.driveDestination = ee.rpc_convert_batch.buildDriveDestination_(params);\n  return result;\n};\nee.rpc_convert_batch.buildTableAssetExportOptions_ = function(params) {\n  return new module$exports$eeapiclient$ee_api_client.TableAssetExportOptions({earthEngineDestination:ee.rpc_convert_batch.buildEarthEngineDestination_(params)});\n};\nee.rpc_convert_batch.buildFeatureViewExportOptions_ = function(params) {\n  return new module$exports$eeapiclient$ee_api_client.DmsAssetExportOptions({dmsDestination:ee.rpc_convert_batch.buildFeatureViewDestination_(params), ingestionTimeParameters:ee.rpc_convert_batch.buildFeatureViewIngestionTimeParameters_(params.ingestionTimeParameters),});\n};\nee.rpc_convert_batch.buildVideoFileExportOptions_ = function(params, destination) {\n  var result = new module$exports$eeapiclient$ee_api_client.VideoFileExportOptions({gcsDestination:null, driveDestination:null, fileFormat:\"MP4\",});\n  destination === ee.rpc_convert_batch.ExportDestination.GCS ? result.gcsDestination = ee.rpc_convert_batch.buildGcsDestination_(params) : result.driveDestination = ee.rpc_convert_batch.buildDriveDestination_(params);\n  return result;\n};\nee.rpc_convert_batch.buildVideoOptions_ = function(params) {\n  return new module$exports$eeapiclient$ee_api_client.VideoOptions({framesPerSecond:numberOrNull_(params.framesPerSecond), maxFrames:numberOrNull_(params.maxFrames), maxPixelsPerFrame:stringOrNull_(params.maxPixels),});\n};\nee.rpc_convert_batch.buildVideoMapOptions_ = function(params) {\n  return new module$exports$eeapiclient$ee_api_client.VideoOptions({framesPerSecond:numberOrNull_(params.framesPerSecond), maxFrames:numberOrNull_(params.maxFrames), maxPixelsPerFrame:null,});\n};\nee.rpc_convert_batch.buildTileOptions_ = function(params) {\n  return new module$exports$eeapiclient$ee_api_client.TileOptions({maxZoom:numberOrNull_(params.maxZoom), scale:numberOrNull_(params.scale), minZoom:numberOrNull_(params.minZoom), skipEmptyTiles:!!params.skipEmptyTiles, mapsApiKey:stringOrNull_(params.mapsApiKey), tileDimensions:ee.rpc_convert_batch.buildGridDimensions_(params.tileDimensions), stride:numberOrNull_(params.stride), zoomSubset:ee.rpc_convert_batch.buildZoomSubset_(numberOrNull_(params.minTimeMachineZoomSubset), \n  numberOrNull_(params.maxTimeMachineZoomSubset)),});\n};\nee.rpc_convert_batch.buildZoomSubset_ = function(min, max) {\n  if (null == min && null == max) {\n    return null;\n  }\n  var result = new module$exports$eeapiclient$ee_api_client.ZoomSubset({min:0, max:null});\n  null != min && (result.min = min);\n  result.max = max;\n  return result;\n};\nee.rpc_convert_batch.buildGridDimensions_ = function(dimensions) {\n  if (null == dimensions) {\n    return null;\n  }\n  var result = new module$exports$eeapiclient$ee_api_client.GridDimensions({height:0, width:0});\n  \"string\" === typeof dimensions && (-1 !== dimensions.indexOf(\"x\") ? dimensions = dimensions.split(\"x\").map(Number) : -1 !== dimensions.indexOf(\",\") && (dimensions = dimensions.split(\",\").map(Number)));\n  if (Array.isArray(dimensions)) {\n    if (2 === dimensions.length) {\n      result.height = dimensions[0], result.width = dimensions[1];\n    } else {\n      if (1 === dimensions.length) {\n        result.height = dimensions[0], result.width = dimensions[0];\n      } else {\n        throw Error(\"Unable to construct grid from dimensions: \" + dimensions);\n      }\n    }\n  } else {\n    if (\"number\" !== typeof dimensions || isNaN(dimensions)) {\n      if (goog.isObject(dimensions) && null != dimensions.height && null != dimensions.width) {\n        result.height = dimensions.height, result.width = dimensions.width;\n      } else {\n        throw Error(\"Unable to construct grid from dimensions: \" + dimensions);\n      }\n    } else {\n      result.height = dimensions, result.width = dimensions;\n    }\n  }\n  return result;\n};\nee.rpc_convert_batch.buildGcsDestination_ = function(params) {\n  var permissions = null;\n  null != params.writePublicTiles && (permissions = params.writePublicTiles ? \"PUBLIC\" : \"DEFAULT_OBJECT_ACL\");\n  return new module$exports$eeapiclient$ee_api_client.GcsDestination({bucket:stringOrNull_(params.outputBucket), filenamePrefix:stringOrNull_(params.outputPrefix), bucketCorsUris:params.bucketCorsUris || null, permissions:permissions,});\n};\nee.rpc_convert_batch.buildDriveDestination_ = function(params) {\n  return new module$exports$eeapiclient$ee_api_client.DriveDestination({folder:stringOrNull_(params.driveFolder), filenamePrefix:stringOrNull_(params.driveFileNamePrefix),});\n};\nee.rpc_convert_batch.buildEarthEngineDestination_ = function(params) {\n  return new module$exports$eeapiclient$ee_api_client.EarthEngineDestination({name:ee.rpc_convert.assetIdToAssetName(params.assetId)});\n};\nee.rpc_convert_batch.buildFeatureViewDestination_ = function(params) {\n  return new module$exports$eeapiclient$ee_api_client.DmsDestination({dmsName:ee.rpc_convert.assetIdToAssetName(params.mapName)});\n};\nee.rpc_convert_batch.buildFeatureViewIngestionTimeParameters_ = function(params) {\n  return new module$exports$eeapiclient$ee_api_client.DmsIngestionTimeParameters({thinningOptions:ee.rpc_convert_batch.buildThinningOptions_(params.thinningOptions), rankingOptions:ee.rpc_convert_batch.buildRankingOptions_(params.rankingOptions)});\n};\nee.rpc_convert_batch.buildThinningOptions_ = function(params) {\n  return null == params ? null : new module$exports$eeapiclient$ee_api_client.ThinningOptions({maxFeaturesPerTile:numberOrNull_(params.maxFeaturesPerTile), thinningStrategy:params.thinningStrategy});\n};\nee.rpc_convert_batch.buildRankingOptions_ = function(params) {\n  return null == params ? null : new module$exports$eeapiclient$ee_api_client.RankingOptions({zOrderRankingRule:ee.rpc_convert_batch.buildRankingRule_(params.zOrderRankingRule), thinningRankingRule:ee.rpc_convert_batch.buildRankingRule_(params.thinningRankingRule),});\n};\nee.rpc_convert_batch.buildRankingRule_ = function(params) {\n  if (null == params) {\n    return null;\n  }\n  if (params.rankByOneThingRule && !Array.isArray(params.rankByOneThingRule)) {\n    throw Error('Parameter \"rankByOneThingRule\" should be an array, got ' + typeof params.rankByOneThingRule);\n  }\n  return new module$exports$eeapiclient$ee_api_client.RankingRule({rankByOneThingRule:(params.rankByOneThingRule || []).map(ee.rpc_convert_batch.buildRankByOneThingRule_), pseudoRandomTiebreaking:params.pseudoRandomTiebreaking || null,});\n};\nee.rpc_convert_batch.buildRankByOneThingRule_ = function(params) {\n  var result = new module$exports$eeapiclient$ee_api_client.RankByOneThingRule({direction:stringOrNull_(params.direction), rankByAttributeRule:null, rankByMinVisibleLodRule:null, rankByGeometryTypeRule:null, rankByNaturalOrderRule:null,});\n  params.rankByAttributeRule ? result.rankByAttributeRule = ee.rpc_convert_batch.buildRankByAttributeRule(params) : params.rankByMinVisibleLodRule ? result.rankByMinVisibleLodRule = new module$exports$eeapiclient$ee_api_client.RankByMinVisibleLodRule({}) : params.rankByGeometryTypeRule ? result.rankByGeometryTypeRule = new module$exports$eeapiclient$ee_api_client.RankByGeometryTypeRule({}) : params.rankByNaturalOrderRule && (result.rankByNaturalOrderRule = \n  new module$exports$eeapiclient$ee_api_client.RankByNaturalOrder({}));\n  return result;\n};\nee.rpc_convert_batch.buildRankByAttributeRule = function(params) {\n  return new module$exports$eeapiclient$ee_api_client.RankByAttributeRule({attributeName:stringOrNull_(params.attributeName)});\n};\nee.data = {};\nee.data.AbstractTaskConfig = {};\nee.data.AlgorithmsRegistry = {};\nee.data.AssetList = {};\nee.data.ClassifierTaskConfig = {};\nee.data.FeatureViewTaskConfig = {};\nee.data.ImageTaskConfig = {};\nee.data.MapTaskConfig = {};\nee.data.TableTaskConfig = {};\nee.data.VideoMapTaskConfig = {};\nee.data.VideoTaskConfig = {};\nee.data.authenticateViaOauth = function(clientId, success, opt_error, opt_extraScopes, opt_onImmediateFailed, opt_suppressDefaultScopes) {\n  var scopes = module$contents$ee$apiclient_apiclient.mergeAuthScopes_(!opt_suppressDefaultScopes, !1, opt_extraScopes || []);\n  module$contents$ee$apiclient_apiclient.setAuthClient(clientId, scopes);\n  null === clientId ? module$contents$ee$apiclient_apiclient.clearAuthToken() : module$contents$ee$apiclient_apiclient.ensureAuthLibLoaded_(function() {\n    var onImmediateFailed = opt_onImmediateFailed || goog.partial(ee.data.authenticateViaPopup, success, opt_error);\n    ee.data.refreshAuthToken(success, opt_error, onImmediateFailed);\n  });\n};\ngoog.exportSymbol(\"ee.data.authenticateViaOauth\", ee.data.authenticateViaOauth);\nee.data.authenticate = function(clientId, success, opt_error, opt_extraScopes, opt_onImmediateFailed) {\n  ee.data.authenticateViaOauth(clientId, success, opt_error, opt_extraScopes, opt_onImmediateFailed);\n};\ngoog.exportSymbol(\"ee.data.authenticate\", ee.data.authenticate);\nee.data.authenticateViaPopup = function(opt_success, opt_error) {\n  goog.global.gapi.auth.authorize({client_id:module$contents$ee$apiclient_apiclient.getAuthClientId(), immediate:!1, scope:module$contents$ee$apiclient_apiclient.getAuthScopes().join(\" \")}, goog.partial(module$contents$ee$apiclient_apiclient.handleAuthResult_, opt_success, opt_error));\n};\ngoog.exportSymbol(\"ee.data.authenticateViaPopup\", ee.data.authenticateViaPopup);\nee.data.authenticateViaPrivateKey = function(privateKey, opt_success, opt_error, opt_extraScopes, opt_suppressDefaultScopes) {\n  if (\"window\" in goog.global) {\n    throw Error(\"Use of private key authentication in the browser is insecure. Consider using OAuth, instead.\");\n  }\n  var scopes = module$contents$ee$apiclient_apiclient.mergeAuthScopes_(!opt_suppressDefaultScopes, !opt_suppressDefaultScopes, opt_extraScopes || []);\n  module$contents$ee$apiclient_apiclient.setAuthClient(privateKey.client_email, scopes);\n  var jwtClient = new google.auth.JWT(privateKey.client_email, null, privateKey.private_key, scopes, null);\n  ee.data.setAuthTokenRefresher(function(authArgs, callback) {\n    jwtClient.authorize(function(error, token) {\n      error ? callback({error:error}) : callback({access_token:token.access_token, token_type:token.token_type, expires_in:(token.expiry_date - Date.now()) / 1000,});\n    });\n  });\n  ee.data.refreshAuthToken(opt_success, opt_error);\n};\ngoog.exportSymbol(\"ee.data.authenticateViaPrivateKey\", ee.data.authenticateViaPrivateKey);\nee.data.setApiKey = module$contents$ee$apiclient_apiclient.setApiKey;\nee.data.setProject = module$contents$ee$apiclient_apiclient.setProject;\nee.data.getProject = module$contents$ee$apiclient_apiclient.getProject;\nee.data.PROFILE_REQUEST_HEADER = module$contents$ee$apiclient_apiclient.PROFILE_REQUEST_HEADER;\nee.data.setExpressionAugmenter = function(augmenter) {\n  ee.data.expressionAugmenter_ = augmenter || goog.functions.identity;\n};\ngoog.exportSymbol(\"ee.data.setExpressionAugmenter\", ee.data.setExpressionAugmenter);\nee.data.expressionAugmenter_ = goog.functions.identity;\nee.data.setAuthToken = module$contents$ee$apiclient_apiclient.setAuthToken;\ngoog.exportSymbol(\"ee.data.setAuthToken\", ee.data.setAuthToken);\nee.data.refreshAuthToken = module$contents$ee$apiclient_apiclient.refreshAuthToken;\ngoog.exportSymbol(\"ee.data.refreshAuthToken\", ee.data.refreshAuthToken);\nee.data.setAuthTokenRefresher = module$contents$ee$apiclient_apiclient.setAuthTokenRefresher;\ngoog.exportSymbol(\"ee.data.setAuthTokenRefresher\", ee.data.setAuthTokenRefresher);\nee.data.getAuthToken = module$contents$ee$apiclient_apiclient.getAuthToken;\ngoog.exportSymbol(\"ee.data.getAuthToken\", ee.data.getAuthToken);\nee.data.clearAuthToken = module$contents$ee$apiclient_apiclient.clearAuthToken;\ngoog.exportSymbol(\"ee.data.clearAuthToken\", ee.data.clearAuthToken);\nee.data.getAuthClientId = module$contents$ee$apiclient_apiclient.getAuthClientId;\ngoog.exportSymbol(\"ee.data.getAuthClientId\", ee.data.getAuthClientId);\nee.data.getAuthScopes = module$contents$ee$apiclient_apiclient.getAuthScopes;\ngoog.exportSymbol(\"ee.data.getAuthScopes\", ee.data.getAuthScopes);\nee.data.setDeadline = module$contents$ee$apiclient_apiclient.setDeadline;\ngoog.exportSymbol(\"ee.data.setDeadline\", ee.data.setDeadline);\nee.data.setParamAugmenter = module$contents$ee$apiclient_apiclient.setParamAugmenter;\ngoog.exportSymbol(\"ee.data.setParamAugmenter\", ee.data.setParamAugmenter);\nee.data.initialize = module$contents$ee$apiclient_apiclient.initialize;\nee.data.reset = module$contents$ee$apiclient_apiclient.reset;\nee.data.PROFILE_HEADER = module$contents$ee$apiclient_apiclient.PROFILE_HEADER;\nee.data.makeRequest_ = module$contents$ee$apiclient_apiclient.makeRequest_;\nee.data.send_ = module$contents$ee$apiclient_apiclient.send;\nee.data.setupMockSend = module$contents$ee$apiclient_apiclient.setupMockSend;\nee.data.withProfiling = module$contents$ee$apiclient_apiclient.withProfiling;\nee.data.getAlgorithms = function(opt_callback) {\n  var call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.algorithms().list(call.projectsPath(), {prettyPrint:!1}).then(ee.rpc_convert.algorithms));\n};\nee.data.getMapId = function(params, opt_callback) {\n  if (\"string\" === typeof params.image) {\n    throw Error(\"Image as JSON string not supported.\");\n  }\n  if (void 0 !== params.version) {\n    throw Error(\"Image version specification not supported.\");\n  }\n  var map = new module$exports$eeapiclient$ee_api_client.EarthEngineMap({name:null, expression:ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(params.image)), fileFormat:ee.rpc_convert.fileFormat(params.format), bandIds:ee.rpc_convert.bandList(params.bands), visualizationOptions:ee.rpc_convert.visualizationOptions(params),}), call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.maps().create(call.projectsPath(), map, {fields:[\"name\"]}).then(function(response) {\n    return ee.data.makeMapId_(response.name, \"\");\n  }));\n};\ngoog.exportSymbol(\"ee.data.getMapId\", ee.data.getMapId);\nee.data.getTileUrl = function(id, x, y, z) {\n  if (!id.formatTileUrl) {\n    var newId = ee.data.makeMapId_(id.mapid, id.token, id.urlFormat);\n    id.urlFormat = newId.urlFormat;\n    id.formatTileUrl = newId.formatTileUrl;\n  }\n  return id.formatTileUrl(x, y, z);\n};\ngoog.exportSymbol(\"ee.data.getTileUrl\", ee.data.getTileUrl);\nee.data.makeMapId_ = function(mapid, token, opt_urlFormat) {\n  var urlFormat = void 0 === opt_urlFormat ? \"\" : opt_urlFormat;\n  if (!urlFormat) {\n    module$contents$ee$apiclient_apiclient.initialize();\n    var base = module$contents$ee$apiclient_apiclient.getTileBaseUrl();\n    urlFormat = token ? base + \"/map/\" + mapid + \"/{z}/{x}/{y}?token=\" + token : base + \"/\" + module$exports$ee$apiVersion.V1ALPHA + \"/\" + mapid + \"/tiles/{z}/{x}/{y}\";\n  }\n  return {mapid:mapid, token:token, formatTileUrl:function(x, y, z) {\n    var width = Math.pow(2, z);\n    x %= width;\n    x = String(0 > x ? x + width : x);\n    return urlFormat.replace(\"{x}\", x).replace(\"{y}\", y).replace(\"{z}\", z);\n  }, urlFormat:urlFormat};\n};\nee.data.getFeatureViewTilesKey = function(params, opt_callback) {\n  var visualizationExpression = params.visParams ? ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(params.visParams)) : null, map = new module$exports$eeapiclient$ee_api_client.DMSMap({name:null, asset:params.assetName, dmsName:params.mapName, visualizationExpression:visualizationExpression,}), call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.dmsMaps().create(call.projectsPath(), map, {fields:[\"name\"]}).then(function(response) {\n    return {token:response.name};\n  }));\n};\ngoog.exportSymbol(\"ee.data.getFeatureViewTilesKey\", ee.data.getFeatureViewTilesKey);\nee.data.computeValue = function(obj, opt_callback) {\n  var expression = ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(obj)), call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.value().compute(call.projectsPath(), new module$exports$eeapiclient$ee_api_client.ComputeValueRequest({expression:expression})).then(function(x) {\n    return x.result;\n  }));\n};\ngoog.exportSymbol(\"ee.data.computeValue\", ee.data.computeValue);\nee.data.getThumbId = function(params, opt_callback) {\n  if (\"string\" === typeof params.image) {\n    throw Error(\"Image as JSON string not supported.\");\n  }\n  if (void 0 !== params.version) {\n    throw Error(\"Image version specification not supported.\");\n  }\n  if (void 0 !== params.region) {\n    throw Error('\"region\" not supported in call to ee.data.getThumbId. Use ee.Image.getThumbURL.');\n  }\n  if (void 0 !== params.dimensions) {\n    throw Error('\"dimensions\" is not supported in call to ee.data.getThumbId. Use ee.Image.getThumbURL.');\n  }\n  var thumbnail = new module$exports$eeapiclient$ee_api_client.Thumbnail({name:null, expression:ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(params.image)), fileFormat:ee.rpc_convert.fileFormat(params.format), filenamePrefix:params.name, bandIds:ee.rpc_convert.bandList(params.bands), visualizationOptions:ee.rpc_convert.visualizationOptions(params), grid:null,}), call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.thumbnails().create(call.projectsPath(), thumbnail, {fields:[\"name\"]}).then(function(response) {\n    return {thumbid:response.name, token:\"\"};\n  }));\n};\ngoog.exportSymbol(\"ee.data.getThumbId\", ee.data.getThumbId);\nee.data.getVideoThumbId = function(params, opt_callback) {\n  var videoOptions = new module$exports$eeapiclient$ee_api_client.VideoOptions({framesPerSecond:params.framesPerSecond || null, maxFrames:params.maxFrames || null, maxPixelsPerFrame:params.maxPixelsPerFrame || null,}), request = new module$exports$eeapiclient$ee_api_client.VideoThumbnail({name:null, expression:ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(params.imageCollection)), fileFormat:ee.rpc_convert.fileFormat(params.format), \n  videoOptions:videoOptions, grid:null,}), call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.videoThumbnails().create(call.projectsPath(), request, {fields:[\"name\"]}).then(function(response) {\n    return {thumbid:response.name, token:\"\"};\n  }));\n};\ngoog.exportSymbol(\"ee.data.getVideoThumbId\", ee.data.getVideoThumbId);\nee.data.getFilmstripThumbId = function(params, opt_callback) {\n  var request = new module$exports$eeapiclient$ee_api_client.FilmstripThumbnail({name:null, expression:ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(params.imageCollection)), fileFormat:ee.rpc_convert.fileFormat(params.format), orientation:ee.rpc_convert.orientation(params.orientation), grid:null,}), call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.filmstripThumbnails().create(call.projectsPath(), request, {fields:[\"name\"]}).then(function(response) {\n    return {thumbid:response.name, token:\"\"};\n  }));\n};\ngoog.exportSymbol(\"ee.data.getFilmstripThumbId\", ee.data.getFilmstripThumbId);\nee.data.makeThumbUrl = function(id) {\n  return module$contents$ee$apiclient_apiclient.getTileBaseUrl() + \"/\" + module$exports$ee$apiVersion.V1ALPHA + \"/\" + id.thumbid + \":getPixels\";\n};\ngoog.exportSymbol(\"ee.data.makeThumbUrl\", ee.data.makeThumbUrl);\nee.data.getDownloadId = function(params, opt_callback) {\n  params = Object.assign({}, params);\n  params.id && (params.image = new ee.Image(params.id));\n  if (\"string\" === typeof params.image) {\n    throw Error(\"Image as serialized JSON string not supported.\");\n  }\n  if (!params.image) {\n    throw Error(\"Missing ID or image parameter.\");\n  }\n  params.filePerBand = !1 !== params.filePerBand;\n  params.format = params.format || (params.filePerBand ? \"ZIPPED_GEO_TIFF_PER_BAND\" : \"ZIPPED_GEO_TIFF\");\n  if (null != params.region && (null != params.scale || null != params.crs_transform) && null != params.dimensions) {\n    throw Error(\"Cannot specify (bounding region, crs_transform/scale, dimensions) simultaneously.\");\n  }\n  if (\"string\" === typeof params.bands) {\n    try {\n      params.bands = JSON.parse(params.bands);\n    } catch (e) {\n      params.bands = ee.rpc_convert.bandList(params.bands);\n    }\n  }\n  if (params.bands && !Array.isArray(params.bands)) {\n    throw Error(\"Bands parameter must be an array.\");\n  }\n  params.bands && params.bands.every(function(band) {\n    return \"string\" === typeof band;\n  }) && (params.bands = params.bands.map(function(band) {\n    return {id:band};\n  }));\n  if (params.bands && params.bands.some(function($jscomp$destructuring$var34) {\n    return null == $jscomp$destructuring$var34.id;\n  })) {\n    throw Error(\"Each band dictionary must have an id.\");\n  }\n  \"string\" === typeof params.region && (params.region = JSON.parse(params.region));\n  if (\"string\" === typeof params.crs_transform) {\n    try {\n      params.crs_transform = JSON.parse(params.crs_transform);\n    } catch (e$64) {\n    }\n  }\n  var image = ee.data.images.buildDownloadIdImage(params.image, params), thumbnail = new module$exports$eeapiclient$ee_api_client.Thumbnail({name:null, expression:ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(image)), fileFormat:ee.rpc_convert.fileFormat(params.format), filenamePrefix:params.name, bandIds:params.bands && ee.rpc_convert.bandList(params.bands.map(function(band) {\n    return band.id;\n  })), grid:null,}), call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.thumbnails().create(call.projectsPath(), thumbnail, {fields:[\"name\"]}).then(function(response) {\n    return {docid:response.name, token:\"\"};\n  }));\n};\ngoog.exportSymbol(\"ee.data.getDownloadId\", ee.data.getDownloadId);\nee.data.makeDownloadUrl = function(id) {\n  module$contents$ee$apiclient_apiclient.initialize();\n  return module$contents$ee$apiclient_apiclient.getTileBaseUrl() + \"/\" + module$exports$ee$apiVersion.V1ALPHA + \"/\" + id.docid + \":getPixels\";\n};\ngoog.exportSymbol(\"ee.data.makeDownloadUrl\", ee.data.makeDownloadUrl);\nee.data.getTableDownloadId = function(params, opt_callback) {\n  var call = new module$contents$ee$apiclient_Call(opt_callback), fileFormat = ee.rpc_convert.tableFileFormat(params.format), expression = ee.data.expressionAugmenter_(ee.Serializer.encodeCloudApiExpression(params.table)), selectors = null;\n  if (null != params.selectors) {\n    if (\"string\" === typeof params.selectors) {\n      selectors = params.selectors.split(\",\");\n    } else {\n      if (Array.isArray(params.selectors) && params.selectors.every(function(x) {\n        return \"string\" === typeof x;\n      })) {\n        selectors = params.selectors;\n      } else {\n        throw Error(\"'selectors' parameter must be an array of strings.\");\n      }\n    }\n  }\n  var table = new module$exports$eeapiclient$ee_api_client.Table({name:null, expression:expression, fileFormat:fileFormat, selectors:selectors, filename:params.filename || null,});\n  return call.handle(call.tables().create(call.projectsPath(), table, {fields:[\"name\"]}).then(function(res) {\n    return {docid:res.name || \"\", token:\"\"};\n  }));\n};\ngoog.exportSymbol(\"ee.data.getTableDownloadId\", ee.data.getTableDownloadId);\nee.data.makeTableDownloadUrl = function(id) {\n  return module$contents$ee$apiclient_apiclient.getTileBaseUrl() + \"/\" + module$exports$ee$apiVersion.V1ALPHA + \"/\" + id.docid + \":getFeatures\";\n};\ngoog.exportSymbol(\"ee.data.makeTableDownloadUrl\", ee.data.makeTableDownloadUrl);\nee.data.newTaskId = function(opt_count, opt_callback) {\n  var rand = function(n) {\n    return Math.floor(Math.random() * n);\n  }, hex = function(d) {\n    return rand(Math.pow(2, 4 * d)).toString(16).padStart(d, \"0\");\n  }, variantPart = function() {\n    return (8 + rand(4)).toString(16) + hex(3);\n  }, uuids = module$contents$goog$array_range(opt_count || 1).map(function() {\n    return [hex(8), hex(4), \"4\" + hex(3), variantPart(), hex(12)].join(\"-\");\n  });\n  return opt_callback ? opt_callback(uuids) : uuids;\n};\ngoog.exportSymbol(\"ee.data.newTaskId\", ee.data.newTaskId);\nee.data.getTaskStatus = function(taskId, opt_callback) {\n  var opNames = ee.data.makeStringArray_(taskId).map(ee.rpc_convert.taskIdToOperationName);\n  if (1 === opNames.length) {\n    var call$66 = new module$contents$ee$apiclient_Call(opt_callback);\n    return call$66.handle(call$66.operations().get(opNames[0]).then(function(op) {\n      return [ee.rpc_convert.operationToTask(op)];\n    }));\n  }\n  var call = new module$contents$ee$apiclient_BatchCall(opt_callback), operations = call.operations();\n  return call.send(opNames.map(function(op) {\n    return [op, operations.get(op)];\n  }), function(data) {\n    return opNames.map(function(id) {\n      return ee.rpc_convert.operationToTask(data[id]);\n    });\n  });\n};\ngoog.exportSymbol(\"ee.data.getTaskStatus\", ee.data.getTaskStatus);\nee.data.makeStringArray_ = function(value) {\n  if (\"string\" === typeof value) {\n    return [value];\n  }\n  if (Array.isArray(value)) {\n    return value;\n  }\n  throw Error(\"Invalid value: expected a string or an array of strings.\");\n};\nee.data.TASKLIST_PAGE_SIZE_ = 500;\nee.data.getTaskList = function(opt_callback) {\n  return ee.data.getTaskListWithLimit(void 0, opt_callback);\n};\ngoog.exportSymbol(\"ee.data.getTaskList\", ee.data.getTaskList);\nee.data.getTaskListWithLimit = function(opt_limit, opt_callback) {\n  var convert = function(ops) {\n    return {tasks:ops.map(ee.rpc_convert.operationToTask)};\n  };\n  return opt_callback ? (ee.data.listOperations(opt_limit, function(v, e) {\n    return opt_callback(v ? convert(v) : null, e);\n  }), null) : convert(ee.data.listOperations(opt_limit));\n};\ngoog.exportSymbol(\"ee.data.getTaskListWithLimit\", ee.data.getTaskListWithLimit);\nee.data.listOperations = function(opt_limit, opt_callback) {\n  var ops = [], truncatedOps = function() {\n    return opt_limit ? ops.slice(0, opt_limit) : ops;\n  }, params = {pageSize:ee.data.TASKLIST_PAGE_SIZE_}, getResponse = function(response) {\n    module$contents$goog$array_extend(ops, response.operations || []);\n    !response.nextPageToken || opt_limit && ops.length >= opt_limit ? opt_callback && opt_callback(truncatedOps()) : (params.pageToken = response.nextPageToken, call.handle(operations.list(call.projectsPath(), params).then(getResponse)));\n    return null;\n  }, call = new module$contents$ee$apiclient_Call(opt_callback ? function(value, err) {\n    return err && opt_callback(value, err);\n  } : void 0), operations = call.operations();\n  call.handle(operations.list(call.projectsPath(), params).then(getResponse));\n  return opt_callback ? null : truncatedOps();\n};\ngoog.exportSymbol(\"ee.data.listOperations\", ee.data.listOperations);\nee.data.cancelOperation = function(operationName, opt_callback) {\n  var opNames = ee.data.makeStringArray_(operationName), request = new module$exports$eeapiclient$ee_api_client.CancelOperationRequest();\n  if (1 === opNames.length) {\n    var call$67 = new module$contents$ee$apiclient_Call(opt_callback);\n    call$67.handle(call$67.operations().cancel(opNames[0], request));\n  } else {\n    var call = new module$contents$ee$apiclient_BatchCall(opt_callback), operations = call.operations();\n    call.send(opNames.map(function(op) {\n      return [op, operations.cancel(op, request)];\n    }));\n  }\n};\ngoog.exportSymbol(\"ee.data.cancelOperation\", ee.data.cancelOperation);\nee.data.getOperation = function(operationName, opt_callback) {\n  var opNames = ee.data.makeStringArray_(operationName).map(ee.rpc_convert.taskIdToOperationName);\n  if (!Array.isArray(operationName)) {\n    var call$68 = new module$contents$ee$apiclient_Call(opt_callback);\n    return call$68.handle(call$68.operations().get(opNames[0]));\n  }\n  var call = new module$contents$ee$apiclient_BatchCall(opt_callback), operations = call.operations();\n  return call.send(opNames.map(function(op) {\n    return [op, operations.get(op)];\n  }));\n};\ngoog.exportSymbol(\"ee.data.getOperation\", ee.data.getOperation);\nee.data.cancelTask = function(taskId, opt_callback) {\n  return ee.data.updateTask(taskId, ee.data.TaskUpdateActions.CANCEL, opt_callback);\n};\ngoog.exportSymbol(\"ee.data.cancelTask\", ee.data.cancelTask);\nee.data.updateTask = function(taskId, action, opt_callback) {\n  if (!module$contents$goog$object_containsValue(ee.data.TaskUpdateActions, action)) {\n    throw Error(\"Invalid action: \" + action);\n  }\n  taskId = ee.data.makeStringArray_(taskId);\n  var operations = taskId.map(ee.rpc_convert.taskIdToOperationName);\n  ee.data.cancelOperation(operations, opt_callback);\n  return null;\n};\ngoog.exportSymbol(\"ee.data.updateTask\", ee.data.updateTask);\nee.data.startProcessing = function(taskId, params, opt_callback) {\n  params.id = taskId;\n  var taskType = params.type, metadata = null != params.sourceUrl ? {__source_url__:params.sourceUrl} : {}, call = new module$contents$ee$apiclient_Call(opt_callback), handle = function(response) {\n    return call.handle(response.then(ee.rpc_convert.operationToProcessingResponse));\n  };\n  switch(taskType) {\n    case ee.data.ExportType.IMAGE:\n      var imageRequest = ee.data.prepareExportImageRequest_(params, metadata);\n      return handle(call.image().export(call.projectsPath(), imageRequest));\n    case ee.data.ExportType.TABLE:\n      var tableRequest = ee.rpc_convert_batch.taskToExportTableRequest(params);\n      tableRequest.expression = ee.data.expressionAugmenter_(tableRequest.expression, metadata);\n      return handle(call.table().export(call.projectsPath(), tableRequest));\n    case ee.data.ExportType.VIDEO:\n      var videoRequest = ee.data.prepareExportVideoRequest_(params, metadata);\n      return handle(call.video().export(call.projectsPath(), videoRequest));\n    case ee.data.ExportType.MAP:\n      var mapRequest = ee.data.prepareExportMapRequest_(params, metadata);\n      return handle(call.map().export(call.projectsPath(), mapRequest));\n    case ee.data.ExportType.VIDEO_MAP:\n      var videoMapRequest = ee.data.prepareExportVideoMapRequest_(params, metadata);\n      return handle(call.videoMap().export(call.projectsPath(), videoMapRequest));\n    case ee.data.ExportType.CLASSIFIER:\n      var classifierRequest = ee.data.prepareExportClassifierRequest_(params, metadata);\n      return handle(call.classifier().export(call.projectsPath(), classifierRequest));\n    default:\n      throw Error(\"Unable to start processing for task of type \" + taskType);\n  }\n};\ngoog.exportSymbol(\"ee.data.startProcessing\", ee.data.startProcessing);\nee.data.prepareExportImageRequest_ = function(taskConfig, metadata) {\n  var imageTask = ee.data.images.applyTransformsToImage(taskConfig), imageRequest = ee.rpc_convert_batch.taskToExportImageRequest(imageTask);\n  imageRequest.expression = ee.data.expressionAugmenter_(imageRequest.expression, metadata);\n  return imageRequest;\n};\nee.data.prepareExportVideoRequest_ = function(taskConfig, metadata) {\n  var videoTask = ee.data.images.applyTransformsToCollection(taskConfig), videoRequest = ee.rpc_convert_batch.taskToExportVideoRequest(videoTask);\n  videoRequest.expression = ee.data.expressionAugmenter_(videoRequest.expression, metadata);\n  return videoRequest;\n};\nee.data.prepareExportMapRequest_ = function(taskConfig, metadata) {\n  var scale = taskConfig.scale;\n  delete taskConfig.scale;\n  var mapTask = ee.data.images.applyTransformsToImage(taskConfig);\n  mapTask.scale = scale;\n  var mapRequest = ee.rpc_convert_batch.taskToExportMapRequest(mapTask);\n  mapRequest.expression = ee.data.expressionAugmenter_(mapRequest.expression, metadata);\n  return mapRequest;\n};\nee.data.prepareExportVideoMapRequest_ = function(taskConfig, metadata) {\n  var scale = taskConfig.scale;\n  delete taskConfig.scale;\n  var videoMapTask = ee.data.images.applyTransformsToCollection(taskConfig);\n  videoMapTask.scale = scale;\n  var videoMapRequest = ee.rpc_convert_batch.taskToExportVideoMapRequest(videoMapTask);\n  videoMapRequest.expression = ee.data.expressionAugmenter_(videoMapRequest.expression);\n  return videoMapRequest;\n};\nee.data.prepareExportClassifierRequest_ = function(taskConfig, metadata) {\n  var classifierRequest = ee.rpc_convert_batch.taskToExportClassifierRequest(taskConfig);\n  classifierRequest.expression = ee.data.expressionAugmenter_(classifierRequest.expression);\n  return classifierRequest;\n};\nee.data.startIngestion = function(taskId, request, opt_callback) {\n  var manifest = ee.rpc_convert.toImageManifest(request), convert = function(arg) {\n    return arg ? ee.rpc_convert.operationToProcessingResponse(arg) : null;\n  };\n  return convert(ee.data.ingestImage(taskId, manifest, opt_callback && function(arg, err) {\n    return opt_callback(convert(arg), err);\n  }));\n};\ngoog.exportSymbol(\"ee.data.startIngestion\", ee.data.startIngestion);\nee.data.ingestImage = function(taskId, imageManifest, callback) {\n  var request = new module$exports$eeapiclient$ee_api_client.ImportImageRequest({imageManifest:imageManifest, requestId:taskId, overwrite:null, description:null,}), call = new module$contents$ee$apiclient_Call(callback, taskId ? void 0 : 0);\n  return call.handle(call.image().import(call.projectsPath(), request));\n};\nee.data.ingestTable = function(taskId, tableManifest, callback) {\n  var request = new module$exports$eeapiclient$ee_api_client.ImportTableRequest({tableManifest:tableManifest, requestId:taskId, overwrite:null, description:null,}), call = new module$contents$ee$apiclient_Call(callback, taskId ? void 0 : 0);\n  return call.handle(call.table().import(call.projectsPath(), request));\n};\nee.data.startTableIngestion = function(taskId, request, opt_callback) {\n  var manifest = ee.rpc_convert.toTableManifest(request), convert = function(arg) {\n    return arg ? ee.rpc_convert.operationToProcessingResponse(arg) : null;\n  };\n  return convert(ee.data.ingestTable(taskId, manifest, opt_callback && function(arg, err) {\n    return opt_callback(convert(arg), err);\n  }));\n};\ngoog.exportSymbol(\"ee.data.startTableIngestion\", ee.data.startTableIngestion);\nee.data.getAsset = function(id, opt_callback) {\n  var call = new module$contents$ee$apiclient_Call(opt_callback), name = ee.rpc_convert.assetIdToAssetName(id);\n  return call.handle(call.assets().get(name, {prettyPrint:!1}).then(ee.rpc_convert.assetToLegacyResult));\n};\ngoog.exportSymbol(\"ee.data.getAsset\", ee.data.getAsset);\nee.data.getInfo = ee.data.getAsset;\ngoog.exportSymbol(\"ee.data.getInfo\", ee.data.getInfo);\nee.data.getList = function(params, opt_callback) {\n  var call = new module$contents$ee$apiclient_Call(opt_callback), methodRoot = call.assets(), parent = ee.rpc_convert.assetIdToAssetName(params.id), isProjectAssetRoot = ee.rpc_convert.CLOUD_ASSET_ROOT_RE.test(params.id);\n  isProjectAssetRoot && (methodRoot = call.projects(), parent = ee.rpc_convert.projectParentFromPath(params.id));\n  if (Object.keys(params).every(function(k) {\n    return \"id\" === k || \"num\" === k;\n  })) {\n    return call.handle(methodRoot.listAssets(parent, {pageSize:params.num}).then(ee.rpc_convert.listAssetsToGetList));\n  }\n  if (isProjectAssetRoot) {\n    throw Error(\"getList on a project does not support filtering options. Please provide a full asset path. Got: \" + params.id);\n  }\n  var body = ee.rpc_convert.getListToListImages(params);\n  return call.handle(methodRoot.listImages(parent, body).then(ee.rpc_convert.listImagesToGetList));\n};\ngoog.exportSymbol(\"ee.data.getList\", ee.data.getList);\nee.data.listAssets = function(parent, params, opt_callback) {\n  params = void 0 === params ? {} : params;\n  var isProjectAssetRoot = ee.rpc_convert.CLOUD_ASSET_ROOT_RE.test(parent), call = new module$contents$ee$apiclient_Call(opt_callback), methodRoot = isProjectAssetRoot ? call.projects() : call.assets();\n  parent = isProjectAssetRoot ? ee.rpc_convert.projectParentFromPath(parent) : ee.rpc_convert.assetIdToAssetName(parent);\n  return call.handle(methodRoot.listAssets(parent, params));\n};\ngoog.exportSymbol(\"ee.data.listAssets\", ee.data.listAssets);\nee.data.listImages = function(parent, params, opt_callback) {\n  params = void 0 === params ? {} : params;\n  var call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.assets().listImages(parent, params));\n};\ngoog.exportSymbol(\"ee.data.listImages\", ee.data.listImages);\nee.data.listBuckets = function(project, opt_callback) {\n  var call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.projects().listAssets(project || call.projectsPath()));\n};\ngoog.exportSymbol(\"ee.data.listBuckets\", ee.data.listBuckets);\nee.data.getAssetRoots = function(opt_callback) {\n  var call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.projects().listAssets(call.projectsPath()).then(ee.rpc_convert.listAssetsToGetList));\n};\ngoog.exportSymbol(\"ee.data.getAssetRoots\", ee.data.getAssetRoots);\nee.data.createAssetHome = function(requestedId, opt_callback) {\n  var parent = ee.rpc_convert.projectParentFromPath(requestedId), assetId = parent === \"projects/\" + module$contents$ee$apiclient_apiclient.DEFAULT_PROJECT_ ? requestedId : void 0, asset = new module$exports$eeapiclient$ee_api_client.EarthEngineAsset({type:\"Folder\"}), call = new module$contents$ee$apiclient_Call(opt_callback);\n  call.handle(call.assets().create(parent, asset, {assetId:assetId}).then(ee.rpc_convert.assetToLegacyResult));\n};\ngoog.exportSymbol(\"ee.data.createAssetHome\", ee.data.createAssetHome);\nee.data.createAsset = function(value, opt_path, opt_force, opt_properties, opt_callback) {\n  if (opt_force) {\n    throw Error(\"Asset overwrite not supported.\");\n  }\n  if (\"string\" === typeof value) {\n    throw Error(\"Asset cannot be specified as string.\");\n  }\n  var name = value.name || opt_path && ee.rpc_convert.assetIdToAssetName(opt_path);\n  if (!name) {\n    throw Error(\"Either asset name or opt_path must be specified.\");\n  }\n  var split = name.indexOf(\"/assets/\");\n  if (-1 === split) {\n    throw Error(\"Asset name must contain /assets/.\");\n  }\n  var asset = new module$exports$eeapiclient$ee_api_client.EarthEngineAsset(value), parent = name.slice(0, split), assetId = name.slice(split + 8);\n  asset.id = null;\n  asset.name = null;\n  opt_properties && !asset.properties && (asset.properties = opt_properties);\n  asset.type = ee.rpc_convert.assetTypeForCreate(asset.type);\n  var call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.assets().create(parent, asset, {assetId:assetId}).then(ee.rpc_convert.assetToLegacyResult));\n};\ngoog.exportSymbol(\"ee.data.createAsset\", ee.data.createAsset);\nee.data.createFolder = function(path, opt_force, opt_callback) {\n  return ee.data.createAsset({type:\"Folder\"}, path, opt_force, void 0, opt_callback);\n};\ngoog.exportSymbol(\"ee.data.createFolder\", ee.data.createFolder);\nee.data.renameAsset = function(sourceId, destinationId, opt_callback) {\n  var sourceName = ee.rpc_convert.assetIdToAssetName(sourceId), destinationName = ee.rpc_convert.assetIdToAssetName(destinationId), request = new module$exports$eeapiclient$ee_api_client.MoveAssetRequest({destinationName:destinationName}), call = new module$contents$ee$apiclient_Call(opt_callback);\n  call.handle(call.assets().move(sourceName, request).then(ee.rpc_convert.assetToLegacyResult));\n};\ngoog.exportSymbol(\"ee.data.renameAsset\", ee.data.renameAsset);\nee.data.copyAsset = function(sourceId, destinationId, opt_overwrite, opt_callback) {\n  var sourceName = ee.rpc_convert.assetIdToAssetName(sourceId), destinationName = ee.rpc_convert.assetIdToAssetName(destinationId), request = new module$exports$eeapiclient$ee_api_client.CopyAssetRequest({destinationName:destinationName, overwrite:null != opt_overwrite ? opt_overwrite : null}), call = new module$contents$ee$apiclient_Call(opt_callback);\n  call.handle(call.assets().copy(sourceName, request).then(ee.rpc_convert.assetToLegacyResult));\n};\ngoog.exportSymbol(\"ee.data.copyAsset\", ee.data.copyAsset);\nee.data.deleteAsset = function(assetId, opt_callback) {\n  var call = new module$contents$ee$apiclient_Call(opt_callback);\n  call.handle(call.assets().delete(ee.rpc_convert.assetIdToAssetName(assetId)));\n};\ngoog.exportSymbol(\"ee.data.deleteAsset\", ee.data.deleteAsset);\nee.data.getAssetAcl = function(assetId, opt_callback) {\n  var resource = ee.rpc_convert.assetIdToAssetName(assetId), request = new module$exports$eeapiclient$ee_api_client.GetIamPolicyRequest(), call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.assets().getIamPolicy(resource, request, {prettyPrint:!1}).then(ee.rpc_convert.iamPolicyToAcl));\n};\ngoog.exportSymbol(\"ee.data.getAssetAcl\", ee.data.getAssetAcl);\nee.data.getIamPolicy = function(assetId, opt_callback) {\n  var resource = ee.rpc_convert.assetIdToAssetName(assetId), request = new module$exports$eeapiclient$ee_api_client.GetIamPolicyRequest(), call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.assets().getIamPolicy(resource, request, {prettyPrint:!1}));\n};\nee.data.setIamPolicy = function(assetId, policy, opt_callback) {\n  var resource = ee.rpc_convert.assetIdToAssetName(assetId), request = new module$exports$eeapiclient$ee_api_client.SetIamPolicyRequest({policy:policy}), call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.assets().setIamPolicy(resource, request, {prettyPrint:!1}));\n};\nee.data.updateAsset = function(assetId, asset, updateFields, opt_callback) {\n  var updateMask = (updateFields || []).join(\",\"), request = new module$exports$eeapiclient$ee_api_client.UpdateAssetRequest({asset:asset, updateMask:updateMask}), call = new module$contents$ee$apiclient_Call(opt_callback);\n  return call.handle(call.assets().patch(ee.rpc_convert.assetIdToAssetName(assetId), request).then(ee.rpc_convert.assetToLegacyResult));\n};\ngoog.exportSymbol(\"ee.data.updateAsset\", ee.data.updateAsset);\nee.data.setAssetAcl = function(assetId, aclUpdate, opt_callback) {\n  var resource = ee.rpc_convert.assetIdToAssetName(assetId), policy = ee.rpc_convert.aclToIamPolicy(aclUpdate), request = new module$exports$eeapiclient$ee_api_client.SetIamPolicyRequest({policy:policy}), call = new module$contents$ee$apiclient_Call(opt_callback);\n  call.handle(call.assets().setIamPolicy(resource, request, {prettyPrint:!1}));\n};\ngoog.exportSymbol(\"ee.data.setAssetAcl\", ee.data.setAssetAcl);\nee.data.setAssetProperties = function(assetId, properties, opt_callback) {\n  var asset = ee.rpc_convert.legacyPropertiesToAssetUpdate(properties), updateFields = asset.getClassMetadata().keys.filter(function(k) {\n    return \"properties\" !== k && asset.Serializable$has(k);\n  }).map(function(str) {\n    return str.replace(/([A-Z])/g, function(all, cap) {\n      return \"_\" + cap.toLowerCase();\n    });\n  }).concat(Object.keys(asset.properties || {}).map(function(k) {\n    return 'properties.\"' + k + '\"';\n  }));\n  ee.data.updateAsset(assetId, asset, updateFields, opt_callback);\n};\ngoog.exportSymbol(\"ee.data.setAssetProperties\", ee.data.setAssetProperties);\nee.data.getAssetRootQuota = function(rootId, opt_callback) {\n  var name = ee.rpc_convert.assetIdToAssetName(rootId), call = new module$contents$ee$apiclient_Call(opt_callback), assetsCall = call.assets(), validateParams = assetsCall.$apiClient.$validateParameter;\n  assetsCall.$apiClient.$validateParameter = function(param, pattern) {\n    \"^projects\\\\/[^/]+\\\\/assets\\\\/.+$\" === pattern.source && (pattern = RegExp(\"^projects/[^/]+/assets/.*$\"));\n    return validateParams(param, pattern);\n  };\n  var getAssetRequest = assetsCall.get(name, {prettyPrint:!1});\n  return call.handle(getAssetRequest.then(function(asset) {\n    if (!(asset instanceof module$exports$eeapiclient$ee_api_client.EarthEngineAsset && asset.quota)) {\n      throw Error(rootId + \" is not a root folder.\");\n    }\n    return ee.rpc_convert.folderQuotaToAssetQuotaDetails(asset.quota);\n  }));\n};\ngoog.exportSymbol(\"ee.data.getAssetRootQuota\", ee.data.getAssetRootQuota);\nee.data.AssetType = {ALGORITHM:\"Algorithm\", CLASSIFIER:\"Classifier\", FEATURE_VIEW:\"FeatureView\", FOLDER:\"Folder\", FEATURE_COLLECTION:\"FeatureCollection\", IMAGE:\"Image\", IMAGE_COLLECTION:\"ImageCollection\", TABLE:\"Table\", UNKNOWN:\"Unknown\"};\nee.data.ExportType = {IMAGE:\"EXPORT_IMAGE\", MAP:\"EXPORT_TILES\", TABLE:\"EXPORT_FEATURES\", VIDEO:\"EXPORT_VIDEO\", VIDEO_MAP:\"EXPORT_VIDEO_MAP\", CLASSIFIER:\"EXPORT_CLASSIFIER\"};\nee.data.ExportState = {UNSUBMITTED:\"UNSUBMITTED\", READY:\"READY\", RUNNING:\"RUNNING\", COMPLETED:\"COMPLETED\", FAILED:\"FAILED\", CANCEL_REQUESTED:\"CANCEL_REQUESTED\", CANCELLED:\"CANCELLED\",};\nee.data.ExportDestination = {DRIVE:\"DRIVE\", GCS:\"GOOGLE_CLOUD_STORAGE\", ASSET:\"ASSET\", FEATURE_VIEW:\"FEATURE_VIEW\",};\nee.data.ThinningStrategy = {GLOBALLY_CONSISTENT:\"GLOBALLY_CONSISTENT\", HIGHER_DENSITY:\"HIGHER_DENSITY\",};\nee.data.Direction = {ASCENDING:\"ASCENDING\", DESCENDING:\"DESCENDING\",};\nee.data.SystemPropertyPrefix = \"system:\";\nee.data.SystemTimeProperty = {START:\"system:time_start\", END:\"system:time_end\"};\nee.data.SYSTEM_ASSET_SIZE_PROPERTY = \"system:asset_size\";\nee.data.AssetDetailsProperty = {TITLE:\"system:title\", DESCRIPTION:\"system:description\", TAGS:\"system:tags\"};\nee.data.ALLOWED_DESCRIPTION_HTML_TABLE_ELEMENTS_ = \"col colgroup caption table tbody td tfoot th thead tr\".split(\" \");\nee.data.ALLOWED_DESCRIPTION_HTML_ELEMENTS = ee.data.ALLOWED_DESCRIPTION_HTML_TABLE_ELEMENTS_.concat(\"a code em i li ol p strong sub sup ul\".split(\" \"));\nee.data.ShortAssetDescription = function() {\n};\nee.data.AssetAcl = function() {\n};\nee.data.AssetAclUpdate = function() {\n};\nee.data.AssetQuotaEntry = function() {\n};\nee.data.AssetQuotaDetails = function() {\n};\nee.data.FeatureViewDescription = function() {\n};\nee.data.FolderDescription = function() {\n};\nee.data.FeatureCollectionDescription = function() {\n};\nee.data.FeatureVisualizationParameters = function() {\n};\nee.data.GeoJSONFeature = function() {\n};\nee.data.GeoJSONGeometry = function() {\n};\nee.data.GeoJSONGeometryCrs = function() {\n};\nee.data.GeoJSONGeometryCrsProperties = function() {\n};\nee.data.ImageCollectionDescription = function() {\n};\nee.data.ImageDescription = function() {\n};\nee.data.TableDescription = function() {\n};\nee.data.TableDownloadParameters = function() {\n};\nee.data.ImageVisualizationParameters = function() {\n};\nee.data.FeatureViewVisualizationParameters = function() {\n};\nee.data.ThumbnailOptions = function() {\n};\n$jscomp.inherits(ee.data.ThumbnailOptions, ee.data.ImageVisualizationParameters);\nee.data.VideoThumbnailOptions = function() {\n};\n$jscomp.inherits(ee.data.VideoThumbnailOptions, ee.data.ThumbnailOptions);\nee.data.FilmstripThumbnailOptions = function() {\n};\n$jscomp.inherits(ee.data.FilmstripThumbnailOptions, ee.data.ThumbnailOptions);\nee.data.BandDescription = function() {\n};\nee.data.PixelTypeDescription = function() {\n};\nee.data.AlgorithmSignature = function() {\n};\nee.data.AlgorithmArgument = function() {\n};\nee.data.ThumbnailId = function() {\n};\nee.data.DownloadId = function() {\n};\nee.data.RawMapId = function() {\n};\nee.data.MapId = function() {\n};\n$jscomp.inherits(ee.data.MapId, ee.data.RawMapId);\nee.data.FeatureViewTilesKey = function() {\n};\nee.data.MapZoomRange = {MIN:0, MAX:24};\nee.data.TaskStatus = function() {\n};\nee.data.ProcessingResponse = function() {\n};\nee.data.TaskListResponse = function() {\n};\nee.data.TaskUpdateActions = {CANCEL:\"CANCEL\", UPDATE:\"UPDATE\"};\nee.data.AssetDescription = function() {\n};\nee.data.IngestionRequest = function() {\n};\nee.data.MissingData = function() {\n};\nee.data.PyramidingPolicy = {MEAN:\"MEAN\", MODE:\"MODE\", MIN:\"MIN\", MAX:\"MAX\", SAMPLE:\"SAMPLE\"};\nee.data.Band = function() {\n};\nee.data.Tileset = function() {\n};\nee.data.FileBand = function() {\n};\nee.data.FileSource = function() {\n};\nee.data.TableIngestionRequest = function() {\n};\nee.data.TableSource = function() {\n};\n$jscomp.inherits(ee.data.TableSource, ee.data.FileSource);\nee.data.AuthPrivateKey = function() {\n};\nee.ComputedObject = function(func, args, opt_varName) {\n  if (!(this instanceof ee.ComputedObject)) {\n    return ee.ComputedObject.construct(ee.ComputedObject, arguments);\n  }\n  if (opt_varName && (func || args)) {\n    throw Error('When \"opt_varName\" is specified, \"func\" and \"args\" must be null.');\n  }\n  if (func && !args) {\n    throw Error('When \"func\" is specified, \"args\" must not be null.');\n  }\n  this.func = func;\n  this.args = args;\n  this.varName = opt_varName || null;\n};\ngoog.inherits(ee.ComputedObject, ee.Encodable);\ngoog.exportSymbol(\"ee.ComputedObject\", ee.ComputedObject);\nee.ComputedObject.prototype.evaluate = function(callback) {\n  if (!callback || \"function\" !== typeof callback) {\n    throw Error(\"evaluate() requires a callback function.\");\n  }\n  ee.data.computeValue(this, callback);\n};\ngoog.exportProperty(ee.ComputedObject.prototype, \"evaluate\", ee.ComputedObject.prototype.evaluate);\nee.ComputedObject.prototype.getInfo = function(opt_callback) {\n  return ee.data.computeValue(this, opt_callback);\n};\ngoog.exportProperty(ee.ComputedObject.prototype, \"getInfo\", ee.ComputedObject.prototype.getInfo);\nee.ComputedObject.prototype.encode = function(encoder) {\n  if (this.isVariable()) {\n    return {type:\"ArgumentRef\", value:this.varName};\n  }\n  var encodedArgs = {}, name;\n  for (name in this.args) {\n    void 0 !== this.args[name] && (encodedArgs[name] = encoder(this.args[name]));\n  }\n  var result = {type:\"Invocation\", arguments:encodedArgs}, func = encoder(this.func);\n  result[\"string\" === typeof func ? \"functionName\" : \"function\"] = func;\n  return result;\n};\nee.ComputedObject.prototype.encodeCloudValue = function(serializer) {\n  if (this.isVariable()) {\n    var name = this.varName || serializer.unboundName;\n    if (!name) {\n      throw Error(\"A mapped function's arguments cannot be used in client-side operations\");\n    }\n    return ee.rpc_node.argumentReference(name);\n  }\n  var encodedArgs = {}, name$69;\n  for (name$69 in this.args) {\n    void 0 !== this.args[name$69] && (encodedArgs[name$69] = ee.rpc_node.reference(serializer.makeReference(this.args[name$69])));\n  }\n  return \"string\" === typeof this.func ? ee.rpc_node.functionByName(String(this.func), encodedArgs) : this.func.encodeCloudInvocation(serializer, encodedArgs);\n};\nee.ComputedObject.prototype.serialize = function(legacy) {\n  return (void 0 === legacy ? 0 : legacy) ? ee.Serializer.toJSON(this) : ee.Serializer.toCloudApiJSON(this);\n};\ngoog.exportProperty(ee.ComputedObject.prototype, \"serialize\", ee.ComputedObject.prototype.serialize);\nee.ComputedObject.prototype.toString = function() {\n  return \"ee.\" + this.name() + \"(\" + ee.Serializer.toReadableJSON(this) + \")\";\n};\ngoog.exportSymbol(\"ee.ComputedObject.prototype.toString\", ee.ComputedObject.prototype.toString);\nee.ComputedObject.prototype.isVariable = function() {\n  return null === this.func && null === this.args;\n};\nee.ComputedObject.prototype.name = function() {\n  return \"ComputedObject\";\n};\nee.ComputedObject.prototype.aside = function(func, var_args) {\n  var args = Array.from(arguments);\n  args[0] = this;\n  func.apply(goog.global, args);\n  return this;\n};\ngoog.exportProperty(ee.ComputedObject.prototype, \"aside\", ee.ComputedObject.prototype.aside);\nee.ComputedObject.prototype.castInternal = function(obj) {\n  if (obj instanceof this.constructor) {\n    return obj;\n  }\n  var klass = function() {\n  };\n  klass.prototype = this.constructor.prototype;\n  var result = new klass();\n  result.func = obj.func;\n  result.args = obj.args;\n  result.varName = obj.varName;\n  return result;\n};\nee.ComputedObject.construct = function(constructor, argsArray) {\n  function F() {\n    return constructor.apply(this, argsArray);\n  }\n  F.prototype = constructor.prototype;\n  return new F();\n};\nee.Types = {};\nee.Types.registeredClasses_ = {};\nee.Types.registerClasses = function(classes) {\n  ee.Types.registeredClasses_ = classes;\n};\nee.Types.nameToClass = function(name) {\n  return name in ee.Types.registeredClasses_ ? ee.Types.registeredClasses_[name] : null;\n};\nee.Types.classToName = function(klass) {\n  return klass.prototype instanceof ee.ComputedObject ? klass.prototype.name.call(null) : klass == Number ? \"Number\" : klass == String ? \"String\" : klass == Array ? \"Array\" : klass == Date ? \"Date\" : \"Object\";\n};\nee.Types.isSubtype = function(firstType, secondType) {\n  if (secondType == firstType) {\n    return !0;\n  }\n  switch(firstType) {\n    case \"Element\":\n      return \"Element\" == secondType || \"Image\" == secondType || \"Feature\" == secondType || \"Collection\" == secondType || \"ImageCollection\" == secondType || \"FeatureCollection\" == secondType;\n    case \"FeatureCollection\":\n    case \"Collection\":\n      return \"Collection\" == secondType || \"ImageCollection\" == secondType || \"FeatureCollection\" == secondType;\n    case \"Object\":\n      return !0;\n    default:\n      return !1;\n  }\n};\nee.Types.isNumber = function(obj) {\n  return \"number\" === typeof obj || obj instanceof ee.ComputedObject && \"Number\" == obj.name();\n};\nee.Types.isString = function(obj) {\n  return \"string\" === typeof obj || obj instanceof ee.ComputedObject && \"String\" == obj.name();\n};\nee.Types.isArray = function(obj) {\n  return Array.isArray(obj) || obj instanceof ee.ComputedObject && \"List\" == obj.name();\n};\nee.Types.isRegularObject = function(obj) {\n  if (goog.isObject(obj) && \"function\" !== typeof obj) {\n    var proto = Object.getPrototypeOf(obj);\n    return null !== proto && null === Object.getPrototypeOf(proto);\n  }\n  return !1;\n};\nee.Types.useKeywordArgs = function(args, signature, isInstance) {\n  isInstance = void 0 === isInstance ? !1 : isInstance;\n  if (1 === args.length && ee.Types.isRegularObject(args[0])) {\n    var formalArgs = signature.args;\n    isInstance && (formalArgs = formalArgs.slice(1));\n    if (formalArgs.length) {\n      return !(1 === formalArgs.length || formalArgs[1].optional) || \"Dictionary\" !== formalArgs[0].type;\n    }\n  }\n  return !1;\n};\nee.Function = function() {\n  if (!(this instanceof ee.Function)) {\n    return new ee.Function();\n  }\n};\ngoog.inherits(ee.Function, ee.Encodable);\ngoog.exportSymbol(\"ee.Function\", ee.Function);\nee.Function.promoter_ = goog.functions.identity;\nee.Function.registerPromoter = function(promoter) {\n  ee.Function.promoter_ = promoter;\n};\nee.Function.prototype.call = function(var_args) {\n  return this.apply(this.nameArgs(Array.prototype.slice.call(arguments, 0)));\n};\ngoog.exportProperty(ee.Function.prototype, \"call\", ee.Function.prototype.call);\nee.Function.prototype.apply = function(namedArgs) {\n  var result = new ee.ComputedObject(this, this.promoteArgs(namedArgs));\n  return ee.Function.promoter_(result, this.getReturnType());\n};\ngoog.exportProperty(ee.Function.prototype, \"apply\", ee.Function.prototype.apply);\nee.Function.prototype.callOrApply = function(thisValue, args) {\n  var isInstance = void 0 !== thisValue, signature = this.getSignature();\n  if (ee.Types.useKeywordArgs(args, signature, isInstance)) {\n    var namedArgs = module$contents$goog$object_clone(args[0]);\n    if (isInstance) {\n      var firstArgName = signature.args[0].name;\n      if (firstArgName in namedArgs) {\n        throw Error(\"Named args for \" + signature.name + \" can't contain keyword \" + firstArgName);\n      }\n      namedArgs[firstArgName] = thisValue;\n    }\n  } else {\n    namedArgs = this.nameArgs(isInstance ? [thisValue].concat(args) : args);\n  }\n  return this.apply(namedArgs);\n};\nee.Function.prototype.promoteArgs = function(args) {\n  for (var specs = this.getSignature().args, promotedArgs = {}, known = {}, i = 0; i < specs.length; i++) {\n    var name = specs[i].name;\n    if (name in args && void 0 !== args[name]) {\n      promotedArgs[name] = ee.Function.promoter_(args[name], specs[i].type);\n    } else {\n      if (!specs[i].optional) {\n        throw Error(\"Required argument (\" + name + \") missing to function: \" + this);\n      }\n    }\n    known[name] = !0;\n  }\n  var unknown = [], argName;\n  for (argName in args) {\n    known[argName] || unknown.push(argName);\n  }\n  if (0 < unknown.length) {\n    throw Error(\"Unrecognized arguments (\" + unknown + \") to function: \" + this);\n  }\n  return promotedArgs;\n};\nee.Function.prototype.nameArgs = function(args) {\n  var specs = this.getSignature().args;\n  if (specs.length < args.length) {\n    throw Error(\"Too many (\" + args.length + \") arguments to function: \" + this);\n  }\n  for (var namedArgs = {}, i = 0; i < args.length; i++) {\n    namedArgs[specs[i].name] = args[i];\n  }\n  return namedArgs;\n};\nee.Function.prototype.getReturnType = function() {\n  return this.getSignature().returns;\n};\nee.Function.prototype.toString = function(opt_name, opt_isInstance) {\n  var signature = this.getSignature(), buffer = [];\n  buffer.push(opt_name || signature.name);\n  buffer.push(\"(\");\n  buffer.push(module$contents$goog$array_map(signature.args.slice(opt_isInstance ? 1 : 0), function(elem) {\n    return elem.name;\n  }).join(\", \"));\n  buffer.push(\")\\n\");\n  buffer.push(\"\\n\");\n  signature.description ? buffer.push(signature.description) : buffer.push(\"Undocumented.\");\n  buffer.push(\"\\n\");\n  if (signature.args.length) {\n    buffer.push(\"\\nArgs:\\n\");\n    for (var i = 0; i < signature.args.length; i++) {\n      opt_isInstance && 0 == i ? buffer.push(\"  this:\") : buffer.push(\"\\n  \");\n      var arg = signature.args[i];\n      buffer.push(arg.name);\n      buffer.push(\" (\");\n      buffer.push(arg.type);\n      arg.optional && buffer.push(\", optional\");\n      buffer.push(\"): \");\n      arg.description ? buffer.push(arg.description) : buffer.push(\"Undocumented.\");\n    }\n  }\n  return buffer.join(\"\");\n};\nee.Function.prototype.serialize = function(legacy) {\n  return (void 0 === legacy ? 0 : legacy) ? ee.Serializer.toJSON(this) : ee.Serializer.toCloudApiJSON(this);\n};\nee.ApiFunction = function(name, opt_signature) {\n  if (void 0 === opt_signature) {\n    return ee.ApiFunction.lookup(name);\n  }\n  if (!(this instanceof ee.ApiFunction)) {\n    return ee.ComputedObject.construct(ee.ApiFunction, arguments);\n  }\n  this.signature_ = module$contents$goog$object_unsafeClone(opt_signature);\n  this.signature_.name = name;\n};\ngoog.inherits(ee.ApiFunction, ee.Function);\ngoog.exportSymbol(\"ee.ApiFunction\", ee.ApiFunction);\nee.ApiFunction._call = function(name, var_args) {\n  return ee.Function.prototype.call.apply(ee.ApiFunction.lookup(name), Array.prototype.slice.call(arguments, 1));\n};\ngoog.exportSymbol(\"ee.ApiFunction._call\", ee.ApiFunction._call);\nee.ApiFunction._apply = function(name, namedArgs) {\n  return ee.ApiFunction.lookup(name).apply(namedArgs);\n};\ngoog.exportSymbol(\"ee.ApiFunction._apply\", ee.ApiFunction._apply);\nee.ApiFunction.prototype.encode = function(encoder) {\n  return this.signature_.name;\n};\nee.ApiFunction.prototype.encodeCloudInvocation = function(serializer, args) {\n  return ee.rpc_node.functionByName(this.signature_.name, args);\n};\nee.ApiFunction.prototype.getSignature = function() {\n  return this.signature_;\n};\nee.ApiFunction.api_ = null;\nee.ApiFunction.boundSignatures_ = {};\nee.ApiFunction.allSignatures = function() {\n  ee.ApiFunction.initialize();\n  return module$contents$goog$object_map(ee.ApiFunction.api_, function(func) {\n    return func.getSignature();\n  });\n};\nee.ApiFunction.unboundFunctions = function() {\n  ee.ApiFunction.initialize();\n  return module$contents$goog$object_filter(ee.ApiFunction.api_, function(func, name) {\n    return !ee.ApiFunction.boundSignatures_[name];\n  });\n};\nee.ApiFunction.lookup = function(name) {\n  var func = ee.ApiFunction.lookupInternal(name);\n  if (!func) {\n    throw Error(\"Unknown built-in function name: \" + name);\n  }\n  return func;\n};\ngoog.exportSymbol(\"ee.ApiFunction.lookup\", ee.ApiFunction.lookup);\nee.ApiFunction.lookupInternal = function(name) {\n  ee.ApiFunction.initialize();\n  return ee.ApiFunction.api_[name] || null;\n};\nee.ApiFunction.initialize = function(opt_successCallback, opt_failureCallback) {\n  if (ee.ApiFunction.api_) {\n    opt_successCallback && opt_successCallback();\n  } else {\n    var callback = function(data, opt_error) {\n      opt_error ? opt_failureCallback && opt_failureCallback(Error(opt_error)) : (ee.ApiFunction.api_ = module$contents$goog$object_map(data, function(sig, name) {\n        sig.returns = sig.returns.replace(/<.*>/, \"\");\n        for (var i = 0; i < sig.args.length; i++) {\n          sig.args[i].type = sig.args[i].type.replace(/<.*>/, \"\");\n        }\n        return new ee.ApiFunction(name, sig);\n      }), opt_successCallback && opt_successCallback());\n    };\n    opt_successCallback ? ee.data.getAlgorithms(callback) : callback(ee.data.getAlgorithms());\n  }\n};\nee.ApiFunction.reset = function() {\n  ee.ApiFunction.api_ = null;\n  ee.ApiFunction.boundSignatures_ = {};\n};\nee.ApiFunction.importApi = function(target, prefix, typeName, opt_prepend) {\n  ee.ApiFunction.initialize();\n  var prepend = opt_prepend || \"\";\n  module$contents$goog$object_forEach(ee.ApiFunction.api_, function(apiFunc, name) {\n    var parts = name.split(\".\");\n    if (2 == parts.length && parts[0] == prefix) {\n      var fname = prepend + parts[1], signature = apiFunc.getSignature();\n      ee.ApiFunction.boundSignatures_[name] = !0;\n      var isInstance = !1;\n      if (signature.args.length) {\n        var firstArgType = signature.args[0].type;\n        isInstance = \"Object\" != firstArgType && ee.Types.isSubtype(firstArgType, typeName);\n      }\n      var destination = isInstance ? target.prototype : target;\n      fname in destination && !destination[fname].signature || (destination[fname] = function(var_args) {\n        return apiFunc.callOrApply(isInstance ? this : void 0, Array.prototype.slice.call(arguments, 0));\n      }, destination[fname].toString = goog.bind(apiFunc.toString, apiFunc, fname, isInstance), destination[fname].signature = signature);\n    }\n  });\n};\nee.ApiFunction.clearApi = function(target$jscomp$0) {\n  var clear = function(target) {\n    for (var name in target) {\n      \"function\" === typeof target[name] && target[name].signature && delete target[name];\n    }\n  };\n  clear(target$jscomp$0);\n  clear(target$jscomp$0.prototype || {});\n};\nee.arguments = {};\nee.arguments.extractFromFunction = function(fn, originalArgs) {\n  return ee.arguments.extractImpl_(fn, originalArgs, ee.arguments.JS_PARAM_DECL_MATCHER_FUNCTION_);\n};\nee.arguments.extractFromClassConstructor = function(fn, originalArgs) {\n  return ee.arguments.extractImpl_(fn, originalArgs, ee.arguments.JS_PARAM_DECL_MATCHER_CLASS_CONSTRUCTOR_);\n};\nee.arguments.extractFromClassMethod = function(fn, originalArgs) {\n  return ee.arguments.extractImpl_(fn, originalArgs, ee.arguments.JS_PARAM_DECL_MATCHER_CLASS_METHOD_);\n};\nee.arguments.extract = ee.arguments.extractFromFunction;\nee.arguments.extractImpl_ = function(fn, originalArgs, parameterMatcher) {\n  var paramNamesWithOptPrefix = ee.arguments.getParamNames_(fn, parameterMatcher), paramNames = module$contents$goog$array_map(paramNamesWithOptPrefix, function(param) {\n    return param.replace(/^opt_/, \"\");\n  }), fnName = ee.arguments.getFnName_(fn), fnNameSnippet = fnName ? \" to function \" + fnName : \"\", args = {}, firstArg = originalArgs[0], firstArgCouldBeDictionary = goog.isObject(firstArg) && \"function\" !== typeof firstArg && !Array.isArray(firstArg) && \"Object\" === Object.getPrototypeOf(firstArg).constructor.name;\n  if (1 < originalArgs.length || !firstArgCouldBeDictionary) {\n    if (originalArgs.length > paramNames.length) {\n      throw Error(\"Received too many arguments\" + fnNameSnippet + \". Expected at most \" + paramNames.length + \" but got \" + originalArgs.length + \".\");\n    }\n    for (var i = 0; i < originalArgs.length; i++) {\n      args[paramNames[i]] = originalArgs[i];\n    }\n  } else {\n    var seen = new goog.structs.Set(module$contents$goog$object_getKeys(firstArg)), expected = new goog.structs.Set(paramNames);\n    if (expected.intersection(seen).isEmpty()) {\n      args[paramNames[0]] = originalArgs[0];\n    } else {\n      var unexpected = seen.difference(expected);\n      if (0 !== unexpected.size) {\n        throw Error(\"Unexpected arguments\" + fnNameSnippet + \": \" + Array.from(unexpected.values()).join(\", \"));\n      }\n      args = module$contents$goog$object_clone(firstArg);\n    }\n  }\n  var provided = new goog.structs.Set(module$contents$goog$object_getKeys(args)), missing = (new goog.structs.Set(module$contents$goog$array_filter(paramNamesWithOptPrefix, function(param) {\n    return !goog.string.startsWith(param, \"opt_\");\n  }))).difference(provided);\n  if (0 !== missing.size) {\n    throw Error(\"Missing required arguments\" + fnNameSnippet + \": \" + Array.from(missing.values()).join(\", \"));\n  }\n  return args;\n};\nee.arguments.getParamNames_ = function(fn, parameterMatcher) {\n  var paramNames = [];\n  if (goog.global.EXPORTED_FN_INFO) {\n    var exportedFnInfo = goog.global.EXPORTED_FN_INFO[fn.toString()];\n    goog.isObject(exportedFnInfo) || ee.arguments.throwMatchFailedError_();\n    paramNames = exportedFnInfo.paramNames;\n    Array.isArray(paramNames) || ee.arguments.throwMatchFailedError_();\n  } else {\n    var fnMatchResult = fn.toString().replace(ee.arguments.JS_COMMENT_MATCHER_, \"\").match(parameterMatcher);\n    null === fnMatchResult && ee.arguments.throwMatchFailedError_();\n    paramNames = (fnMatchResult[1].split(\",\") || []).map(function(p) {\n      return p.replace(ee.arguments.JS_PARAM_DEFAULT_MATCHER_, \"\");\n    });\n  }\n  return paramNames;\n};\nee.arguments.getFnName_ = function(fn) {\n  return goog.global.EXPORTED_FN_INFO ? goog.global.EXPORTED_FN_INFO[fn.toString()].name.split(\".\").pop() + \"()\" : null;\n};\nee.arguments.throwMatchFailedError_ = function() {\n  throw Error(\"Failed to locate function parameters.\");\n};\nee.arguments.JS_COMMENT_MATCHER_ = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/)|(\\s))/mg;\nee.arguments.JS_PARAM_DECL_MATCHER_FUNCTION_ = /^function[^\\(]*\\(([^\\)]*)\\)/m;\nee.arguments.JS_PARAM_DECL_MATCHER_CLASS_CONSTRUCTOR_ = /^class[^\\{]*{\\S*?\\bconstructor\\(([^\\)]*)\\)/m;\nee.arguments.JS_PARAM_DECL_MATCHER_CLASS_METHOD_ = /[^\\(]*\\(([^\\)]*)\\)/m;\nee.arguments.JS_PARAM_DEFAULT_MATCHER_ = /=.*$/;\nee.Element = function(func, args, opt_varName) {\n  ee.ComputedObject.call(this, func, args, opt_varName);\n  ee.Element.initialize();\n};\ngoog.inherits(ee.Element, ee.ComputedObject);\ngoog.exportSymbol(\"ee.Element\", ee.Element);\nee.Element.initialized_ = !1;\nee.Element.initialize = function() {\n  ee.Element.initialized_ || (ee.ApiFunction.importApi(ee.Element, \"Element\", \"Element\"), ee.Element.initialized_ = !0);\n};\nee.Element.reset = function() {\n  ee.ApiFunction.clearApi(ee.Element);\n  ee.Element.initialized_ = !1;\n};\nee.Element.prototype.name = function() {\n  return \"Element\";\n};\nee.Element.prototype.set = function(var_args) {\n  if (1 >= arguments.length) {\n    var properties = arguments[0];\n    ee.Types.isRegularObject(properties) && module$contents$goog$array_equals(module$contents$goog$object_getKeys(properties), [\"properties\"]) && goog.isObject(properties.properties) && (properties = properties.properties);\n    if (ee.Types.isRegularObject(properties)) {\n      var result = this;\n      for (var key in properties) {\n        var value = properties[key];\n        result = ee.ApiFunction._call(\"Element.set\", result, key, value);\n      }\n    } else {\n      if (properties instanceof ee.ComputedObject && ee.ApiFunction.lookupInternal(\"Element.setMulti\")) {\n        result = ee.ApiFunction._call(\"Element.setMulti\", this, properties);\n      } else {\n        throw Error(\"When Element.set() is passed one argument, it must be a dictionary.\");\n      }\n    }\n  } else {\n    if (0 != arguments.length % 2) {\n      throw Error(\"When Element.set() is passed multiple arguments, there must be an even number of them.\");\n    }\n    result = this;\n    for (var i = 0; i < arguments.length; i += 2) {\n      key = arguments[i], value = arguments[i + 1], result = ee.ApiFunction._call(\"Element.set\", result, key, value);\n    }\n  }\n  return this.castInternal(result);\n};\ngoog.exportProperty(ee.Element.prototype, \"set\", ee.Element.prototype.set);\nee.Geometry = function(geoJson, opt_proj, opt_geodesic, opt_evenOdd) {\n  if (!(this instanceof ee.Geometry)) {\n    return ee.ComputedObject.construct(ee.Geometry, arguments);\n  }\n  if (!(\"type\" in geoJson)) {\n    var args = ee.arguments.extractFromFunction(ee.Geometry, arguments);\n    geoJson = args.geoJson;\n    opt_proj = args.proj;\n    opt_geodesic = args.geodesic;\n    opt_evenOdd = args.evenOdd;\n  }\n  ee.Geometry.initialize();\n  var options = null != opt_proj || null != opt_geodesic || null != opt_evenOdd;\n  if (geoJson instanceof ee.ComputedObject && !(geoJson instanceof ee.Geometry && geoJson.type_)) {\n    if (options) {\n      throw Error(\"Setting the CRS, geodesic, or evenOdd flag on a computed Geometry is not supported.  Use Geometry.transform().\");\n    }\n    ee.ComputedObject.call(this, geoJson.func, geoJson.args, geoJson.varName);\n  } else {\n    geoJson instanceof ee.Geometry && (geoJson = geoJson.encode());\n    if (!ee.Geometry.isValidGeometry_(geoJson)) {\n      throw Error(\"Invalid GeoJSON geometry: \" + JSON.stringify(geoJson));\n    }\n    ee.ComputedObject.call(this, null, null);\n    this.type_ = geoJson.type;\n    this.coordinates_ = null != geoJson.coordinates ? module$contents$goog$object_unsafeClone(geoJson.coordinates) : null;\n    this.geometries_ = geoJson.geometries || null;\n    if (null != opt_proj) {\n      this.proj_ = opt_proj;\n    } else {\n      if (\"crs\" in geoJson) {\n        if (goog.isObject(geoJson.crs) && \"name\" == geoJson.crs.type && goog.isObject(geoJson.crs.properties) && \"string\" === typeof geoJson.crs.properties.name) {\n          this.proj_ = geoJson.crs.properties.name;\n        } else {\n          throw Error(\"Invalid CRS declaration in GeoJSON: \" + (new goog.json.Serializer()).serialize(geoJson.crs));\n        }\n      }\n    }\n    this.geodesic_ = opt_geodesic;\n    void 0 === this.geodesic_ && \"geodesic\" in geoJson && (this.geodesic_ = !!geoJson.geodesic);\n    this.evenOdd_ = opt_evenOdd;\n    void 0 === this.evenOdd_ && \"evenOdd\" in geoJson && (this.evenOdd_ = !!geoJson.evenOdd);\n  }\n};\ngoog.inherits(ee.Geometry, ee.ComputedObject);\ngoog.exportSymbol(\"ee.Geometry\", ee.Geometry);\nee.Geometry.initialized_ = !1;\nee.Geometry.initialize = function() {\n  ee.Geometry.initialized_ || (ee.ApiFunction.importApi(ee.Geometry, \"Geometry\", \"Geometry\"), ee.Geometry.initialized_ = !0);\n};\nee.Geometry.reset = function() {\n  ee.ApiFunction.clearApi(ee.Geometry);\n  ee.Geometry.initialized_ = !1;\n};\nee.Geometry.Point = function(coords, opt_proj) {\n  if (!(this instanceof ee.Geometry.Point)) {\n    return ee.Geometry.createInstance_(ee.Geometry.Point, arguments);\n  }\n  var init = ee.Geometry.construct_(ee.Geometry.Point, \"Point\", 1, arguments);\n  if (!(init instanceof ee.ComputedObject)) {\n    var xy = init.coordinates;\n    if (!Array.isArray(xy) || 2 != xy.length) {\n      throw Error(\"The Geometry.Point constructor requires 2 coordinates.\");\n    }\n  }\n  ee.Geometry.call(this, init);\n};\ngoog.inherits(ee.Geometry.Point, ee.Geometry);\ngoog.exportProperty(ee.Geometry, \"Point\", ee.Geometry.Point);\nee.Geometry.MultiPoint = function(coords, opt_proj) {\n  if (!(this instanceof ee.Geometry.MultiPoint)) {\n    return ee.Geometry.createInstance_(ee.Geometry.MultiPoint, arguments);\n  }\n  ee.Geometry.call(this, ee.Geometry.construct_(ee.Geometry.MultiPoint, \"MultiPoint\", 2, arguments));\n};\ngoog.inherits(ee.Geometry.MultiPoint, ee.Geometry);\ngoog.exportProperty(ee.Geometry, \"MultiPoint\", ee.Geometry.MultiPoint);\nee.Geometry.Rectangle = function(coords, opt_proj, opt_geodesic, opt_evenOdd) {\n  if (!(this instanceof ee.Geometry.Rectangle)) {\n    return ee.Geometry.createInstance_(ee.Geometry.Rectangle, arguments);\n  }\n  var init = ee.Geometry.construct_(ee.Geometry.Rectangle, \"Rectangle\", 2, arguments);\n  if (!(init instanceof ee.ComputedObject)) {\n    var xy = init.coordinates;\n    if (2 != xy.length) {\n      throw Error(\"The Geometry.Rectangle constructor requires 2 points or 4 coordinates.\");\n    }\n    var x1 = xy[0][0], y1 = xy[0][1], x2 = xy[1][0], y2 = xy[1][1];\n    init.coordinates = [[[x1, y2], [x1, y1], [x2, y1], [x2, y2]]];\n    init.type = \"Polygon\";\n  }\n  ee.Geometry.call(this, init);\n};\ngoog.inherits(ee.Geometry.Rectangle, ee.Geometry);\ngoog.exportProperty(ee.Geometry, \"Rectangle\", ee.Geometry.Rectangle);\nee.Geometry.BBox = function(west, south, east, north) {\n  if (!(this instanceof ee.Geometry.BBox)) {\n    return ee.Geometry.createInstance_(ee.Geometry.BBox, arguments);\n  }\n  var coordinates = [west, south, east, north];\n  if (ee.Geometry.hasServerValue_(coordinates)) {\n    return (new ee.ApiFunction(\"GeometryConstructors.BBox\")).apply(coordinates);\n  }\n  if (!(Infinity > west)) {\n    throw Error(\"Geometry.BBox: west must not be \" + west);\n  }\n  if (!(-Infinity < east)) {\n    throw Error(\"Geometry.BBox: east must not be \" + east);\n  }\n  if (!(90 >= south)) {\n    throw Error(\"Geometry.BBox: south must be at most +90\\u00b0, but was \" + south + \"\\u00b0\");\n  }\n  if (!(-90 <= north)) {\n    throw Error(\"Geometry.BBox: north must be at least -90\\u00b0, but was \" + north + \"\\u00b0\");\n  }\n  south = Math.max(south, -90);\n  north = Math.min(north, 90);\n  360 <= east - west ? (west = -180, east = 180) : (west = ee.Geometry.canonicalizeLongitude_(west), east = ee.Geometry.canonicalizeLongitude_(east), east < west && (east += 360));\n  ee.Geometry.call(this, {type:\"Polygon\", coordinates:[[[west, north], [west, south], [east, south], [east, north]]],}, void 0, !1, !0);\n};\ngoog.inherits(ee.Geometry.BBox, ee.Geometry.Rectangle);\ngoog.exportProperty(ee.Geometry, \"BBox\", ee.Geometry.BBox);\nee.Geometry.canonicalizeLongitude_ = function(longitude) {\n  longitude %= 360;\n  180 < longitude ? longitude -= 360 : -180 > longitude && (longitude += 360);\n  return longitude;\n};\nee.Geometry.LineString = function(coords, opt_proj, opt_geodesic, opt_maxError) {\n  if (!(this instanceof ee.Geometry.LineString)) {\n    return ee.Geometry.createInstance_(ee.Geometry.LineString, arguments);\n  }\n  ee.Geometry.call(this, ee.Geometry.construct_(ee.Geometry.LineString, \"LineString\", 2, arguments));\n};\ngoog.inherits(ee.Geometry.LineString, ee.Geometry);\ngoog.exportProperty(ee.Geometry, \"LineString\", ee.Geometry.LineString);\nee.Geometry.LinearRing = function(coords, opt_proj, opt_geodesic, opt_maxError) {\n  if (!(this instanceof ee.Geometry.LinearRing)) {\n    return ee.Geometry.createInstance_(ee.Geometry.LinearRing, arguments);\n  }\n  ee.Geometry.call(this, ee.Geometry.construct_(ee.Geometry.LinearRing, \"LinearRing\", 2, arguments));\n};\ngoog.inherits(ee.Geometry.LinearRing, ee.Geometry);\ngoog.exportProperty(ee.Geometry, \"LinearRing\", ee.Geometry.LinearRing);\nee.Geometry.MultiLineString = function(coords, opt_proj, opt_geodesic, opt_maxError) {\n  if (!(this instanceof ee.Geometry.MultiLineString)) {\n    return ee.Geometry.createInstance_(ee.Geometry.MultiLineString, arguments);\n  }\n  ee.Geometry.call(this, ee.Geometry.construct_(ee.Geometry.MultiLineString, \"MultiLineString\", 3, arguments));\n};\ngoog.inherits(ee.Geometry.MultiLineString, ee.Geometry);\ngoog.exportProperty(ee.Geometry, \"MultiLineString\", ee.Geometry.MultiLineString);\nee.Geometry.Polygon = function(coords, opt_proj, opt_geodesic, opt_maxError, opt_evenOdd) {\n  if (!(this instanceof ee.Geometry.Polygon)) {\n    return ee.Geometry.createInstance_(ee.Geometry.Polygon, arguments);\n  }\n  ee.Geometry.call(this, ee.Geometry.construct_(ee.Geometry.Polygon, \"Polygon\", 3, arguments));\n};\ngoog.inherits(ee.Geometry.Polygon, ee.Geometry);\ngoog.exportProperty(ee.Geometry, \"Polygon\", ee.Geometry.Polygon);\nee.Geometry.MultiPolygon = function(coords, opt_proj, opt_geodesic, opt_maxError, opt_evenOdd) {\n  if (!(this instanceof ee.Geometry.MultiPolygon)) {\n    return ee.Geometry.createInstance_(ee.Geometry.MultiPolygon, arguments);\n  }\n  ee.Geometry.call(this, ee.Geometry.construct_(ee.Geometry.MultiPolygon, \"MultiPolygon\", 4, arguments));\n};\ngoog.inherits(ee.Geometry.MultiPolygon, ee.Geometry);\ngoog.exportProperty(ee.Geometry, \"MultiPolygon\", ee.Geometry.MultiPolygon);\nee.Geometry.prototype.encode = function(opt_encoder) {\n  if (!this.type_) {\n    if (!opt_encoder) {\n      throw Error(\"Must specify an encode function when encoding a computed geometry.\");\n    }\n    return ee.ComputedObject.prototype.encode.call(this, opt_encoder);\n  }\n  var result = {type:this.type_};\n  \"GeometryCollection\" == this.type_ ? result.geometries = this.geometries_ : result.coordinates = this.coordinates_;\n  null != this.proj_ && (result.crs = {type:\"name\", properties:{name:this.proj_}});\n  null != this.geodesic_ && (result.geodesic = this.geodesic_);\n  null != this.evenOdd_ && (result.evenOdd = this.evenOdd_);\n  return result;\n};\nee.Geometry.prototype.toGeoJSON = function() {\n  if (this.func) {\n    throw Error(\"Can't convert a computed Geometry to GeoJSON. Use evaluate() instead.\");\n  }\n  return this.encode();\n};\ngoog.exportProperty(ee.Geometry.prototype, \"toGeoJSON\", ee.Geometry.prototype.toGeoJSON);\nee.Geometry.prototype.toGeoJSONString = function() {\n  if (this.func) {\n    throw Error(\"Can't convert a computed Geometry to GeoJSON. Use evaluate() instead.\");\n  }\n  return (new goog.json.Serializer()).serialize(this.toGeoJSON());\n};\ngoog.exportProperty(ee.Geometry.prototype, \"toGeoJSONString\", ee.Geometry.prototype.toGeoJSONString);\nee.Geometry.prototype.serialize = function(legacy) {\n  return (void 0 === legacy ? 0 : legacy) ? ee.Serializer.toJSON(this) : ee.Serializer.toCloudApiJSON(this);\n};\ngoog.exportProperty(ee.Geometry.prototype, \"serialize\", ee.Geometry.prototype.serialize);\nee.Geometry.prototype.toString = function() {\n  return \"ee.Geometry(\" + this.toGeoJSONString() + \")\";\n};\nee.Geometry.prototype.encodeCloudValue = function(serializer) {\n  if (!this.type_) {\n    if (!serializer) {\n      throw Error(\"Must specify a serializer when encoding a computed geometry.\");\n    }\n    return ee.ComputedObject.prototype.encodeCloudValue.call(this, serializer);\n  }\n  var args = {}, func = \"\";\n  \"GeometryCollection\" === this.type_ ? (args.geometries = this.geometries_.map(function(geometry) {\n    return new ee.Geometry(geometry);\n  }), func = \"GeometryConstructors.MultiGeometry\") : (args.coordinates = this.coordinates_, func = \"GeometryConstructors.\" + this.type_);\n  null != this.proj_ && (args.crs = \"string\" === typeof this.proj_ ? (new ee.ApiFunction(\"Projection\")).call(this.proj_) : this.proj_);\n  var acceptsGeodesicArg = \"Point\" !== this.type_ && \"MultiPoint\" !== this.type_;\n  null != this.geodesic_ && acceptsGeodesicArg && (args.geodesic = this.geodesic_);\n  null != this.evenOdd_ && (args.evenOdd = this.evenOdd_);\n  return (new ee.ApiFunction(func)).apply(args).encodeCloudValue(serializer);\n};\nee.Geometry.isValidGeometry_ = function(geometry) {\n  var type = geometry.type;\n  if (\"GeometryCollection\" == type) {\n    var geometries = geometry.geometries;\n    if (!Array.isArray(geometries)) {\n      return !1;\n    }\n    for (var i = 0; i < geometries.length; i++) {\n      if (!ee.Geometry.isValidGeometry_(geometries[i])) {\n        return !1;\n      }\n    }\n    return !0;\n  }\n  var coords = geometry.coordinates, nesting = ee.Geometry.isValidCoordinates_(coords);\n  return \"Point\" == type && 1 == nesting || \"MultiPoint\" == type && (2 == nesting || 0 == coords.length) || \"LineString\" == type && 2 == nesting || \"LinearRing\" == type && 2 == nesting || \"MultiLineString\" == type && (3 == nesting || 0 == coords.length) || \"Polygon\" == type && 3 == nesting || \"MultiPolygon\" == type && (4 == nesting || 0 == coords.length);\n};\nee.Geometry.isValidCoordinates_ = function(shape) {\n  if (!Array.isArray(shape)) {\n    return -1;\n  }\n  if (Array.isArray(shape[0])) {\n    for (var count = ee.Geometry.isValidCoordinates_(shape[0]), i = 1; i < shape.length; i++) {\n      if (ee.Geometry.isValidCoordinates_(shape[i]) != count) {\n        return -1;\n      }\n    }\n    return count + 1;\n  }\n  for (i = 0; i < shape.length; i++) {\n    if (\"number\" !== typeof shape[i]) {\n      return -1;\n    }\n  }\n  return 0 == shape.length % 2 ? 1 : -1;\n};\nee.Geometry.coordinatesToLine_ = function(coordinates) {\n  if (\"number\" !== typeof coordinates[0] || 2 == coordinates.length) {\n    return coordinates;\n  }\n  if (0 != coordinates.length % 2) {\n    throw Error(\"Invalid number of coordinates: \" + coordinates.length);\n  }\n  for (var line = [], i = 0; i < coordinates.length; i += 2) {\n    line.push([coordinates[i], coordinates[i + 1]]);\n  }\n  return line;\n};\nee.Geometry.construct_ = function(jsConstructorFn, apiConstructorName, depth, originalArgs) {\n  var eeArgs = ee.Geometry.getEeApiArgs_(jsConstructorFn, originalArgs);\n  if (ee.Geometry.hasServerValue_(eeArgs.coordinates) || null != eeArgs.crs || null != eeArgs.maxError) {\n    return (new ee.ApiFunction(\"GeometryConstructors.\" + apiConstructorName)).apply(eeArgs);\n  }\n  eeArgs.type = apiConstructorName;\n  eeArgs.coordinates = ee.Geometry.fixDepth_(depth, eeArgs.coordinates);\n  var isPolygon = module$contents$goog$array_contains([\"Polygon\", \"Rectangle\", \"MultiPolygon\"], apiConstructorName);\n  isPolygon && null == eeArgs.evenOdd && (eeArgs.evenOdd = !0);\n  if (isPolygon && !1 === eeArgs.geodesic && !1 === eeArgs.evenOdd) {\n    throw Error(\"Planar interiors must be even/odd.\");\n  }\n  return eeArgs;\n};\nee.Geometry.getEeApiArgs_ = function(jsConstructorFn, originalArgs) {\n  if (module$contents$goog$array_every(originalArgs, ee.Types.isNumber)) {\n    return {coordinates:module$contents$goog$array_toArray(originalArgs)};\n  }\n  var args = ee.arguments.extractFromFunction(jsConstructorFn, originalArgs);\n  args.coordinates = args.coords;\n  delete args.coords;\n  args.crs = args.proj;\n  delete args.proj;\n  return module$contents$goog$object_filter(args, function(x) {\n    return null != x;\n  });\n};\nee.Geometry.hasServerValue_ = function(coordinates) {\n  return Array.isArray(coordinates) ? module$contents$goog$array_some(coordinates, ee.Geometry.hasServerValue_) : coordinates instanceof ee.ComputedObject;\n};\nee.Geometry.fixDepth_ = function(depth, coords) {\n  if (1 > depth || 4 < depth) {\n    throw Error(\"Unexpected nesting level.\");\n  }\n  module$contents$goog$array_every(coords, function(x) {\n    return \"number\" === typeof x;\n  }) && (coords = ee.Geometry.coordinatesToLine_(coords));\n  for (var item = coords, count = 0; Array.isArray(item);) {\n    item = item[0], count++;\n  }\n  for (; count < depth;) {\n    coords = [coords], count++;\n  }\n  if (ee.Geometry.isValidCoordinates_(coords) != depth) {\n    throw Error(\"Invalid geometry\");\n  }\n  for (item = coords; Array.isArray(item) && 1 == item.length;) {\n    item = item[0];\n  }\n  return Array.isArray(item) && 0 == item.length ? [] : coords;\n};\nee.Geometry.createInstance_ = function(klass, args) {\n  var f = function() {\n  };\n  f.prototype = klass.prototype;\n  var instance = new f(), result = klass.apply(instance, args);\n  return void 0 !== result ? result : instance;\n};\nee.Geometry.prototype.name = function() {\n  return \"Geometry\";\n};\nee.Filter = function(opt_filter) {\n  if (!(this instanceof ee.Filter)) {\n    return ee.ComputedObject.construct(ee.Filter, arguments);\n  }\n  if (opt_filter instanceof ee.Filter) {\n    return opt_filter;\n  }\n  ee.Filter.initialize();\n  if (Array.isArray(opt_filter)) {\n    if (0 == opt_filter.length) {\n      throw Error(\"Empty list specified for ee.Filter().\");\n    }\n    if (1 == opt_filter.length) {\n      return new ee.Filter(opt_filter[0]);\n    }\n    ee.ComputedObject.call(this, new ee.ApiFunction(\"Filter.and\"), {filters:opt_filter});\n    this.filter_ = opt_filter;\n  } else {\n    if (opt_filter instanceof ee.ComputedObject) {\n      ee.ComputedObject.call(this, opt_filter.func, opt_filter.args, opt_filter.varName), this.filter_ = [opt_filter];\n    } else {\n      if (void 0 === opt_filter) {\n        ee.ComputedObject.call(this, null, null), this.filter_ = [];\n      } else {\n        throw Error(\"Invalid argument specified for ee.Filter(): \" + opt_filter);\n      }\n    }\n  }\n};\ngoog.inherits(ee.Filter, ee.ComputedObject);\ngoog.exportSymbol(\"ee.Filter\", ee.Filter);\nee.Filter.initialized_ = !1;\nee.Filter.initialize = function() {\n  ee.Filter.initialized_ || (ee.ApiFunction.importApi(ee.Filter, \"Filter\", \"Filter\"), ee.Filter.initialized_ = !0);\n};\nee.Filter.reset = function() {\n  ee.ApiFunction.clearApi(ee.Filter);\n  ee.Filter.initialized_ = !1;\n};\nee.Filter.functionNames_ = {equals:\"equals\", less_than:\"lessThan\", greater_than:\"greaterThan\", contains:\"stringContains\", starts_with:\"stringStartsWith\", ends_with:\"stringEndsWith\"};\nee.Filter.prototype.append_ = function(newFilter) {\n  var prev = this.filter_.slice(0);\n  newFilter instanceof ee.Filter ? module$contents$goog$array_extend(prev, newFilter.filter_) : newFilter instanceof Array ? module$contents$goog$array_extend(prev, newFilter) : prev.push(newFilter);\n  return new ee.Filter(prev);\n};\nee.Filter.prototype.not = function() {\n  return ee.ApiFunction._call(\"Filter.not\", this);\n};\ngoog.exportProperty(ee.Filter.prototype, \"not\", ee.Filter.prototype.not);\nee.Filter.eq = function(name, value) {\n  var args = ee.arguments.extractFromFunction(ee.Filter.eq, arguments);\n  return ee.ApiFunction._call(\"Filter.equals\", args.name, args.value);\n};\ngoog.exportProperty(ee.Filter, \"eq\", ee.Filter.eq);\nee.Filter.neq = function(name, value) {\n  var args = ee.arguments.extractFromFunction(ee.Filter.neq, arguments);\n  return ee.Filter.eq(args.name, args.value).not();\n};\ngoog.exportProperty(ee.Filter, \"neq\", ee.Filter.neq);\nee.Filter.lt = function(name, value) {\n  var args = ee.arguments.extractFromFunction(ee.Filter.lt, arguments);\n  return ee.ApiFunction._call(\"Filter.lessThan\", args.name, args.value);\n};\ngoog.exportProperty(ee.Filter, \"lt\", ee.Filter.lt);\nee.Filter.gte = function(name, value) {\n  var args = ee.arguments.extractFromFunction(ee.Filter.gte, arguments);\n  return ee.Filter.lt(args.name, args.value).not();\n};\ngoog.exportProperty(ee.Filter, \"gte\", ee.Filter.gte);\nee.Filter.gt = function(name, value) {\n  var args = ee.arguments.extractFromFunction(ee.Filter.gt, arguments);\n  return ee.ApiFunction._call(\"Filter.greaterThan\", args.name, args.value);\n};\ngoog.exportProperty(ee.Filter, \"gt\", ee.Filter.gt);\nee.Filter.lte = function(name, value) {\n  var args = ee.arguments.extractFromFunction(ee.Filter.lte, arguments);\n  return ee.Filter.gt(args.name, args.value).not();\n};\ngoog.exportProperty(ee.Filter, \"lte\", ee.Filter.lte);\nee.Filter.and = function(var_args) {\n  var args = Array.prototype.slice.call(arguments);\n  return ee.ApiFunction._call(\"Filter.and\", args);\n};\ngoog.exportProperty(ee.Filter, \"and\", ee.Filter.and);\nee.Filter.or = function(var_args) {\n  var args = Array.prototype.slice.call(arguments);\n  return ee.ApiFunction._call(\"Filter.or\", args);\n};\ngoog.exportProperty(ee.Filter, \"or\", ee.Filter.or);\nee.Filter.date = function(start, opt_end) {\n  var args = ee.arguments.extractFromFunction(ee.Filter.date, arguments), range = ee.ApiFunction._call(\"DateRange\", args.start, args.end);\n  return ee.ApiFunction._apply(\"Filter.dateRangeContains\", {leftValue:range, rightField:\"system:time_start\"});\n};\ngoog.exportProperty(ee.Filter, \"date\", ee.Filter.date);\nee.Filter.inList = function(opt_leftField, opt_rightValue, opt_rightField, opt_leftValue) {\n  var args = ee.arguments.extractFromFunction(ee.Filter.inList, arguments);\n  return ee.ApiFunction._apply(\"Filter.listContains\", {leftField:args.rightField, rightValue:args.leftValue, rightField:args.leftField, leftValue:args.rightValue});\n};\ngoog.exportProperty(ee.Filter, \"inList\", ee.Filter.inList);\nee.Filter.bounds = function(geometry, opt_errorMargin) {\n  return ee.ApiFunction._apply(\"Filter.intersects\", {leftField:\".all\", rightValue:ee.ApiFunction._call(\"Feature\", geometry), maxError:opt_errorMargin});\n};\ngoog.exportProperty(ee.Filter, \"bounds\", ee.Filter.bounds);\nee.Filter.prototype.name = function() {\n  return \"Filter\";\n};\nee.Filter.metadata = function(name, operator, value) {\n  operator = operator.toLowerCase();\n  var negated = !1;\n  goog.string.startsWith(operator, \"not_\") && (negated = !0, operator = operator.substring(4));\n  if (!(operator in ee.Filter.functionNames_)) {\n    throw Error(\"Unknown filtering operator: \" + operator);\n  }\n  var filter = ee.ApiFunction._call(\"Filter.\" + ee.Filter.functionNames_[operator], name, value);\n  return negated ? filter.not() : filter;\n};\ngoog.exportProperty(ee.Filter, \"metadata\", ee.Filter.metadata);\nee.Collection = function(func, args, opt_varName) {\n  ee.Element.call(this, func, args, opt_varName);\n  ee.Collection.initialize();\n};\ngoog.inherits(ee.Collection, ee.Element);\ngoog.exportSymbol(\"ee.Collection\", ee.Collection);\nee.Collection.initialized_ = !1;\nee.Collection.initialize = function() {\n  ee.Collection.initialized_ || (ee.ApiFunction.importApi(ee.Collection, \"Collection\", \"Collection\"), ee.ApiFunction.importApi(ee.Collection, \"AggregateFeatureCollection\", \"Collection\", \"aggregate_\"), ee.Collection.initialized_ = !0);\n};\nee.Collection.reset = function() {\n  ee.ApiFunction.clearApi(ee.Collection);\n  ee.Collection.initialized_ = !1;\n};\nee.Collection.prototype.filter = function(filter) {\n  filter = ee.arguments.extractFromFunction(ee.Collection.prototype.filter, arguments).filter;\n  if (!filter) {\n    throw Error(\"Empty filters.\");\n  }\n  return this.castInternal(ee.ApiFunction._call(\"Collection.filter\", this, filter));\n};\ngoog.exportProperty(ee.Collection.prototype, \"filter\", ee.Collection.prototype.filter);\nee.Collection.prototype.filterMetadata = function(name, operator, value) {\n  var args = ee.arguments.extractFromFunction(ee.Collection.prototype.filterMetadata, arguments);\n  return this.filter(ee.Filter.metadata(args.name, args.operator, args.value));\n};\ngoog.exportProperty(ee.Collection.prototype, \"filterMetadata\", ee.Collection.prototype.filterMetadata);\nee.Collection.prototype.filterBounds = function(geometry) {\n  return this.filter(ee.Filter.bounds(geometry));\n};\ngoog.exportProperty(ee.Collection.prototype, \"filterBounds\", ee.Collection.prototype.filterBounds);\nee.Collection.prototype.filterDate = function(start, opt_end) {\n  var args = ee.arguments.extractFromFunction(ee.Collection.prototype.filterDate, arguments);\n  return this.filter(ee.Filter.date(args.start, args.end));\n};\ngoog.exportProperty(ee.Collection.prototype, \"filterDate\", ee.Collection.prototype.filterDate);\nee.Collection.prototype.limit = function(max, opt_property, opt_ascending) {\n  var args = ee.arguments.extractFromFunction(ee.Collection.prototype.limit, arguments);\n  return this.castInternal(ee.ApiFunction._call(\"Collection.limit\", this, args.max, args.property, args.ascending));\n};\ngoog.exportProperty(ee.Collection.prototype, \"limit\", ee.Collection.prototype.limit);\nee.Collection.prototype.sort = function(property, opt_ascending) {\n  var args = ee.arguments.extractFromFunction(ee.Collection.prototype.sort, arguments);\n  return this.castInternal(ee.ApiFunction._call(\"Collection.limit\", this, void 0, args.property, args.ascending));\n};\ngoog.exportProperty(ee.Collection.prototype, \"sort\", ee.Collection.prototype.sort);\nee.Collection.prototype.name = function() {\n  return \"Collection\";\n};\nee.Collection.prototype.elementType = function() {\n  return ee.Element;\n};\nee.Collection.prototype.map = function(algorithm, opt_dropNulls) {\n  var elementType = this.elementType();\n  return this.castInternal(ee.ApiFunction._call(\"Collection.map\", this, function(e) {\n    return algorithm(new elementType(e));\n  }, opt_dropNulls));\n};\ngoog.exportProperty(ee.Collection.prototype, \"map\", ee.Collection.prototype.map);\nee.Collection.prototype.iterate = function(algorithm, opt_first) {\n  var first = void 0 !== opt_first ? opt_first : null, elementType = this.elementType();\n  return ee.ApiFunction._call(\"Collection.iterate\", this, function(e, p) {\n    return algorithm(new elementType(e), p);\n  }, first);\n};\ngoog.exportProperty(ee.Collection.prototype, \"iterate\", ee.Collection.prototype.iterate);\nee.Feature = function(geometry, opt_properties) {\n  if (!(this instanceof ee.Feature)) {\n    return ee.ComputedObject.construct(ee.Feature, arguments);\n  }\n  if (geometry instanceof ee.Feature) {\n    if (opt_properties) {\n      throw Error(\"Can't create Feature out of a Feature and properties.\");\n    }\n    return geometry;\n  }\n  if (2 < arguments.length) {\n    throw Error(\"The Feature constructor takes at most 2 arguments (\" + arguments.length + \" given)\");\n  }\n  ee.Feature.initialize();\n  if (geometry instanceof ee.Geometry || null === geometry) {\n    ee.Element.call(this, new ee.ApiFunction(\"Feature\"), {geometry:geometry, metadata:opt_properties || null});\n  } else {\n    if (geometry instanceof ee.ComputedObject) {\n      ee.Element.call(this, geometry.func, geometry.args, geometry.varName);\n    } else {\n      if (\"Feature\" == geometry.type) {\n        var properties = geometry.properties || {};\n        if (\"id\" in geometry) {\n          if (\"system:index\" in properties) {\n            throw Error('Can\\'t specify both \"id\" and \"system:index\".');\n          }\n          properties = module$contents$goog$object_clone(properties);\n          properties[\"system:index\"] = geometry.id;\n        }\n        ee.Element.call(this, new ee.ApiFunction(\"Feature\"), {geometry:new ee.Geometry(geometry.geometry), metadata:properties});\n      } else {\n        ee.Element.call(this, new ee.ApiFunction(\"Feature\"), {geometry:new ee.Geometry(geometry), metadata:opt_properties || null});\n      }\n    }\n  }\n};\ngoog.inherits(ee.Feature, ee.Element);\ngoog.exportSymbol(\"ee.Feature\", ee.Feature);\nee.Feature.initialized_ = !1;\nee.Feature.initialize = function() {\n  ee.Feature.initialized_ || (ee.ApiFunction.importApi(ee.Feature, \"Feature\", \"Feature\"), ee.Feature.initialized_ = !0);\n};\nee.Feature.reset = function() {\n  ee.ApiFunction.clearApi(ee.Feature);\n  ee.Feature.initialized_ = !1;\n};\nee.Feature.prototype.getInfo = function(opt_callback) {\n  return ee.Feature.superClass_.getInfo.call(this, opt_callback);\n};\ngoog.exportProperty(ee.Feature.prototype, \"getInfo\", ee.Feature.prototype.getInfo);\nee.Feature.prototype.getMap = function(opt_visParams, opt_callback) {\n  var args = ee.arguments.extractFromFunction(ee.Feature.prototype.getMap, arguments);\n  return ee.ApiFunction._call(\"Collection\", [this]).getMap(args.visParams, args.callback);\n};\ngoog.exportProperty(ee.Feature.prototype, \"getMap\", ee.Feature.prototype.getMap);\nee.Feature.prototype.name = function() {\n  return \"Feature\";\n};\nee.data.images = {};\nee.data.images.applyTransformsToImage = function(taskConfig) {\n  var resultParams = {}, image = ee.data.images.applyCrsAndTransform(taskConfig.element, taskConfig);\n  image = ee.data.images.applySelectionAndScale(image, taskConfig, resultParams);\n  resultParams.element = image;\n  return resultParams;\n};\nee.data.images.applyTransformsToCollection = function(taskConfig) {\n  var resultParams = {}, collection = taskConfig.element.map(function(image) {\n    var projected = ee.data.images.applyCrsAndTransform(image, taskConfig);\n    return ee.data.images.applySelectionAndScale(projected, taskConfig, resultParams);\n  });\n  resultParams.element = collection;\n  return resultParams;\n};\nee.data.images.applySelectionAndScale = function(image, params, outParams) {\n  var clipParams = {}, dimensions_consumed = !1, SCALING_KEYS = [\"maxDimension\", \"width\", \"height\", \"scale\"];\n  module$contents$goog$object_forEach(params, function(value, key) {\n    if (null != value) {\n      switch(key) {\n        case \"dimensions\":\n          var dims = \"string\" === typeof value ? value.split(\"x\").map(Number) : Array.isArray(value) ? value : \"number\" === typeof value ? [value] : [];\n          if (1 === dims.length) {\n            clipParams.maxDimension = dims[0];\n          } else {\n            if (2 === dims.length) {\n              clipParams.width = dims[0], clipParams.height = dims[1];\n            } else {\n              throw Error(\"Invalid dimensions \" + value);\n            }\n          }\n          break;\n        case \"dimensions_consumed\":\n          dimensions_consumed = !0;\n          break;\n        case \"bbox\":\n          null != clipParams.geometry && console.warn(\"Multiple request parameters converted to region.\");\n          clipParams.geometry = ee.data.images.bboxToGeometry(value);\n          break;\n        case \"region\":\n          null != clipParams.geometry && console.warn(\"Multiple request parameters converted to region.\");\n          clipParams.geometry = ee.data.images.regionToGeometry(value);\n          break;\n        case \"scale\":\n          clipParams.scale = Number(value);\n          break;\n        default:\n          outParams[key] = value;\n      }\n    }\n  });\n  module$contents$goog$object_isEmpty(clipParams) || (clipParams.input = image, image = SCALING_KEYS.some(function(key) {\n    return key in clipParams;\n  }) || dimensions_consumed ? ee.ApiFunction._apply(\"Image.clipToBoundsAndScale\", clipParams) : ee.ApiFunction._apply(\"Image.clip\", clipParams));\n  return image;\n};\nee.data.images.bboxToGeometry = function(bbox) {\n  if (bbox instanceof ee.Geometry.Rectangle) {\n    return bbox;\n  }\n  var bboxArray = bbox;\n  if (\"string\" === typeof bbox) {\n    try {\n      bboxArray = JSON.parse(bbox);\n    } catch ($jscomp$unused$catch) {\n      bboxArray = bbox.split(/\\s*,\\s*/).map(Number);\n    }\n  }\n  if (Array.isArray(bboxArray)) {\n    if (bboxArray.some(isNaN)) {\n      throw Error(\"Invalid bbox `{bboxArray}`, please specify a list of numbers.\");\n    }\n    return new ee.Geometry.Rectangle(bboxArray, null, !1);\n  }\n  throw Error('Invalid bbox \"{bbox}\" type, must be of type Array<number>');\n};\nee.data.images.regionToGeometry = function(region) {\n  if (region instanceof ee.Geometry) {\n    return region;\n  }\n  var regionObject = region;\n  if (\"string\" === typeof region) {\n    try {\n      regionObject = JSON.parse(region);\n    } catch (e) {\n      throw Error('Region string \"' + region + '\" is not valid GeoJSON.');\n    }\n  }\n  if (Array.isArray(regionObject)) {\n    return new ee.Geometry.Polygon(regionObject, null, !1);\n  }\n  if (goog.isObject(regionObject)) {\n    return new ee.Geometry(regionObject, null, !1);\n  }\n  throw Error(\"Region {region} was not convertible to an ee.Geometry.\");\n};\nee.data.images.applyCrsAndTransform = function(image, params) {\n  var crs = params.crs || \"\", crsTransform = params.crsTransform || params.crs_transform;\n  null != crsTransform && (crsTransform = ee.data.images.maybeConvertCrsTransformToArray_(crsTransform));\n  if (!crs && !crsTransform) {\n    return image;\n  }\n  if (crsTransform && !crs) {\n    throw Error('Must specify \"crs\" if \"crsTransform\" is specified.');\n  }\n  if (crsTransform) {\n    if (image = ee.ApiFunction._apply(\"Image.reproject\", {image:image, crs:crs, crsTransform:crsTransform}), null != params.dimensions && null == params.scale && null == params.region) {\n      var dimensions = params.dimensions;\n      \"string\" === typeof dimensions && (dimensions = dimensions.split(\"x\").map(Number));\n      if (2 === dimensions.length) {\n        delete params.dimensions;\n        params.dimensions_consumed = !0;\n        var projection = (new ee.ApiFunction(\"Projection\")).call(crs, crsTransform);\n        params.region = new ee.Geometry.Rectangle([0, 0, dimensions[0], dimensions[1]], projection, !1);\n      }\n    }\n  } else {\n    image = ee.ApiFunction._apply(\"Image.setDefaultProjection\", {image:image, crs:crs, crsTransform:[1, 0, 0, 0, -1, 0]});\n  }\n  return image;\n};\nee.data.images.maybeConvertCrsTransformToArray_ = function(crsTransform) {\n  var transformArray = crsTransform;\n  if (\"string\" === typeof transformArray) {\n    try {\n      transformArray = JSON.parse(transformArray);\n    } catch (e) {\n    }\n  }\n  if (Array.isArray(transformArray)) {\n    if (6 === transformArray.length && module$contents$goog$array_every(transformArray, function(x) {\n      return \"number\" === typeof x;\n    })) {\n      return transformArray;\n    }\n    throw Error(\"Invalid argument, crs transform must be a list of 6 numbers.\");\n  }\n  throw Error(\"Invalid argument, crs transform was not a string or array.\");\n};\nee.data.images.applyVisualization = function(image, params) {\n  var request = {}, visParams = ee.data.images.extractVisParams(params, request);\n  module$contents$goog$object_isEmpty(visParams) || (visParams.image = image, image = ee.ApiFunction._apply(\"Image.visualize\", visParams));\n  request.image = image;\n  return request;\n};\nee.data.images.extractVisParams = function(params, outParams) {\n  var keysToExtract = \"bands gain bias min max gamma palette opacity forceRgbOutput\".split(\" \"), visParams = {};\n  module$contents$goog$object_forEach(params, function(value, key) {\n    module$contents$goog$array_contains(keysToExtract, key) ? visParams[key] = value : outParams[key] = value;\n  });\n  return visParams;\n};\nee.data.images.buildDownloadIdImage = function(image, params) {\n  params = Object.assign({}, params);\n  var extractAndValidateTransforms = function(obj) {\n    var extracted = {};\n    [\"crs\", \"crs_transform\", \"dimensions\", \"region\"].forEach(function(key) {\n      key in obj && (extracted[key] = obj[key]);\n    });\n    null != obj.scale && null == obj.dimensions && (extracted.scale = obj.scale);\n    return extracted;\n  }, buildImagePerBand = function(band) {\n    var bandId = band.id;\n    if (void 0 === bandId) {\n      throw Error(\"Each band dictionary must have an id.\");\n    }\n    var bandImage = image.select(bandId), copyParams = extractAndValidateTransforms(params), bandParams = extractAndValidateTransforms(band);\n    bandParams = extractAndValidateTransforms(Object.assign(copyParams, bandParams));\n    bandImage = ee.data.images.applyCrsAndTransform(bandImage, bandParams);\n    return bandImage = ee.data.images.applySelectionAndScale(bandImage, bandParams, {});\n  };\n  if (\"ZIPPED_GEO_TIFF_PER_BAND\" === params.format && params.bands && params.bands.length) {\n    var images = params.bands.map(buildImagePerBand);\n    image = images.reduce(function(result, bandImage) {\n      return ee.ApiFunction._call(\"Image.addBands\", result, bandImage, null, !0);\n    }, images.shift());\n  } else {\n    var copyParams = extractAndValidateTransforms(params);\n    image = ee.data.images.applyCrsAndTransform(image, copyParams);\n    image = ee.data.images.applySelectionAndScale(image, copyParams, {});\n  }\n  return image;\n};\nee.Image = function(opt_args) {\n  if (!(this instanceof ee.Image)) {\n    return ee.ComputedObject.construct(ee.Image, arguments);\n  }\n  if (opt_args instanceof ee.Image) {\n    return opt_args;\n  }\n  ee.Image.initialize();\n  var argCount = arguments.length;\n  if (0 == argCount || 1 == argCount && void 0 === opt_args) {\n    ee.Element.call(this, new ee.ApiFunction(\"Image.mask\"), {image:new ee.Image(0), mask:new ee.Image(0)});\n  } else {\n    if (1 == argCount) {\n      if (ee.Types.isNumber(opt_args)) {\n        ee.Element.call(this, new ee.ApiFunction(\"Image.constant\"), {value:opt_args});\n      } else {\n        if (ee.Types.isString(opt_args)) {\n          ee.Element.call(this, new ee.ApiFunction(\"Image.load\"), {id:opt_args});\n        } else {\n          if (Array.isArray(opt_args)) {\n            return ee.Image.combine_(module$contents$goog$array_map(opt_args, function(elem) {\n              return new ee.Image(elem);\n            }));\n          }\n          if (opt_args instanceof ee.ComputedObject) {\n            \"Array\" == opt_args.name() ? ee.Element.call(this, new ee.ApiFunction(\"Image.constant\"), {value:opt_args}) : ee.Element.call(this, opt_args.func, opt_args.args, opt_args.varName);\n          } else {\n            throw Error(\"Unrecognized argument type to convert to an Image: \" + opt_args);\n          }\n        }\n      }\n    } else {\n      if (2 == argCount) {\n        var id = arguments[0], version = arguments[1];\n        if (ee.Types.isString(id) && ee.Types.isNumber(version)) {\n          ee.Element.call(this, new ee.ApiFunction(\"Image.load\"), {id:id, version:version});\n        } else {\n          throw Error(\"Unrecognized argument types to convert to an Image: \" + arguments);\n        }\n      } else {\n        throw Error(\"The Image constructor takes at most 2 arguments (\" + argCount + \" given)\");\n      }\n    }\n  }\n};\ngoog.inherits(ee.Image, ee.Element);\ngoog.exportSymbol(\"ee.Image\", ee.Image);\nee.Image.initialized_ = !1;\nee.Image.initialize = function() {\n  ee.Image.initialized_ || (ee.ApiFunction.importApi(ee.Image, \"Image\", \"Image\"), ee.Image.initialized_ = !0);\n};\nee.Image.reset = function() {\n  ee.ApiFunction.clearApi(ee.Image);\n  ee.Image.initialized_ = !1;\n};\nee.Image.prototype.getInfo = function(opt_callback) {\n  return ee.Image.superClass_.getInfo.call(this, opt_callback);\n};\ngoog.exportProperty(ee.Image.prototype, \"getInfo\", ee.Image.prototype.getInfo);\nee.Image.prototype.getMap = function(opt_visParams, opt_callback) {\n  var $jscomp$this = this, args = ee.arguments.extractFromFunction(ee.Image.prototype.getMap, arguments), request = ee.data.images.applyVisualization(this, args.visParams);\n  if (args.callback) {\n    var callback = args.callback;\n    ee.data.getMapId(request, function(data, error) {\n      var mapId = data ? Object.assign(data, {image:$jscomp$this}) : void 0;\n      callback(mapId, error);\n    });\n  } else {\n    var response = ee.data.getMapId(request);\n    response.image = this;\n    return response;\n  }\n};\ngoog.exportProperty(ee.Image.prototype, \"getMap\", ee.Image.prototype.getMap);\nee.Image.prototype.getDownloadURL = function(params, opt_callback) {\n  var args = ee.arguments.extractFromFunction(ee.Image.prototype.getDownloadURL, arguments), request = args.params ? module$contents$goog$object_clone(args.params) : {};\n  request.image = this;\n  if (args.callback) {\n    var callback = args.callback;\n    ee.data.getDownloadId(request, function(downloadId, error) {\n      downloadId ? callback(ee.data.makeDownloadUrl(downloadId)) : callback(null, error);\n    });\n  } else {\n    return ee.data.makeDownloadUrl(ee.data.getDownloadId(request));\n  }\n};\ngoog.exportProperty(ee.Image.prototype, \"getDownloadURL\", ee.Image.prototype.getDownloadURL);\nee.Image.prototype.getThumbId = function(params, opt_callback) {\n  var args = ee.arguments.extractFromFunction(ee.Image.prototype.getDownloadURL, arguments), request = args.params ? module$contents$goog$object_clone(args.params) : {}, extra = {}, image = ee.data.images.applyCrsAndTransform(this, request);\n  image = ee.data.images.applySelectionAndScale(image, request, extra);\n  request = ee.data.images.applyVisualization(image, extra);\n  return args.callback ? (ee.data.getThumbId(request, args.callback), null) : ee.data.getThumbId(request);\n};\ngoog.exportProperty(ee.Image.prototype, \"getThumbId\", ee.Image.prototype.getThumbId);\nee.Image.prototype.getThumbURL = function(params, opt_callback) {\n  var args = ee.arguments.extractFromFunction(ee.Image.prototype.getThumbURL, arguments);\n  if (args.callback) {\n    this.getThumbId(args.params, function(thumbId, opt_error) {\n      var thumbUrl = \"\";\n      if (void 0 === opt_error) {\n        try {\n          thumbUrl = ee.data.makeThumbUrl(thumbId);\n        } catch (e) {\n          opt_error = String(e.message);\n        }\n      }\n      args.callback(thumbUrl, opt_error);\n    });\n  } else {\n    return ee.data.makeThumbUrl(this.getThumbId(args.params));\n  }\n};\ngoog.exportProperty(ee.Image.prototype, \"getThumbURL\", ee.Image.prototype.getThumbURL);\nee.Image.rgb = function(r, g, b) {\n  var args = ee.arguments.extractFromFunction(ee.Image.rgb, arguments);\n  return ee.Image.combine_([args.r, args.g, args.b], [\"vis-red\", \"vis-green\", \"vis-blue\"]);\n};\ngoog.exportProperty(ee.Image, \"rgb\", ee.Image.rgb);\nee.Image.cat = function(var_args) {\n  var args = Array.prototype.slice.call(arguments);\n  return ee.Image.combine_(args, null);\n};\ngoog.exportProperty(ee.Image, \"cat\", ee.Image.cat);\nee.Image.combine_ = function(images, opt_names) {\n  if (0 == images.length) {\n    return ee.ApiFunction._call(\"Image.constant\", []);\n  }\n  for (var result = new ee.Image(images[0]), i = 1; i < images.length; i++) {\n    result = ee.ApiFunction._call(\"Image.addBands\", result, images[i]);\n  }\n  opt_names && (result = result.select([\".*\"], opt_names));\n  return result;\n};\nee.Image.prototype.select = function(var_args) {\n  var args = Array.prototype.slice.call(arguments), algorithmArgs = {input:this, bandSelectors:args[0] || []};\n  if (2 < args.length || ee.Types.isString(args[0]) || ee.Types.isNumber(args[0])) {\n    for (var i = 0; i < args.length; i++) {\n      if (!(ee.Types.isString(args[i]) || ee.Types.isNumber(args[i]) || args[i] instanceof ee.ComputedObject)) {\n        throw Error(\"Illegal argument to select(): \" + args[i]);\n      }\n    }\n    algorithmArgs.bandSelectors = args;\n  } else {\n    args[1] && (algorithmArgs.newNames = args[1]);\n  }\n  return ee.ApiFunction._apply(\"Image.select\", algorithmArgs);\n};\ngoog.exportProperty(ee.Image.prototype, \"select\", ee.Image.prototype.select);\nee.Image.prototype.expression = function(expression, opt_map) {\n  var originalArgs = ee.arguments.extractFromFunction(ee.Image.prototype.expression, arguments), vars = [\"DEFAULT_EXPRESSION_IMAGE\"], eeArgs = {DEFAULT_EXPRESSION_IMAGE:this};\n  if (originalArgs.map) {\n    var map = originalArgs.map, name$jscomp$0;\n    for (name$jscomp$0 in map) {\n      vars.push(name$jscomp$0), eeArgs[name$jscomp$0] = new ee.Image(map[name$jscomp$0]);\n    }\n  }\n  var body = ee.ApiFunction._call(\"Image.parseExpression\", originalArgs.expression, \"DEFAULT_EXPRESSION_IMAGE\", vars), func = new ee.Function();\n  func.encode = function(encoder) {\n    return body.encode(encoder);\n  };\n  func.encodeCloudInvocation = function(serializer, args) {\n    return ee.rpc_node.functionByReference(serializer.makeReference(body), args);\n  };\n  func.getSignature = function() {\n    return {name:\"\", args:module$contents$goog$array_map(vars, function(name) {\n      return {name:name, type:\"Image\", optional:!1};\n    }, this), returns:\"Image\"};\n  };\n  return func.apply(eeArgs);\n};\ngoog.exportProperty(ee.Image.prototype, \"expression\", ee.Image.prototype.expression);\nee.Image.prototype.clip = function(geometry) {\n  try {\n    geometry = new ee.Geometry(geometry);\n  } catch (e) {\n  }\n  return ee.ApiFunction._call(\"Image.clip\", this, geometry);\n};\ngoog.exportProperty(ee.Image.prototype, \"clip\", ee.Image.prototype.clip);\nee.Image.prototype.rename = function(var_args) {\n  var names = 1 != arguments.length || ee.Types.isString(arguments[0]) ? Array.from(arguments) : arguments[0];\n  return ee.ApiFunction._call(\"Image.rename\", this, names);\n};\ngoog.exportProperty(ee.Image.prototype, \"rename\", ee.Image.prototype.rename);\nee.Image.prototype.name = function() {\n  return \"Image\";\n};\nee.List = function(list) {\n  if (this instanceof ee.List) {\n    if (1 < arguments.length) {\n      throw Error(\"ee.List() only accepts 1 argument.\");\n    }\n    if (list instanceof ee.List) {\n      return list;\n    }\n  } else {\n    return ee.ComputedObject.construct(ee.List, arguments);\n  }\n  ee.List.initialize();\n  if (Array.isArray(list)) {\n    ee.ComputedObject.call(this, null, null), this.list_ = list;\n  } else {\n    if (list instanceof ee.ComputedObject) {\n      ee.ComputedObject.call(this, list.func, list.args, list.varName), this.list_ = null;\n    } else {\n      throw Error(\"Invalid argument specified for ee.List(): \" + list);\n    }\n  }\n};\ngoog.inherits(ee.List, ee.ComputedObject);\ngoog.exportSymbol(\"ee.List\", ee.List);\nee.List.initialized_ = !1;\nee.List.initialize = function() {\n  ee.List.initialized_ || (ee.ApiFunction.importApi(ee.List, \"List\", \"List\"), ee.List.initialized_ = !0);\n};\nee.List.reset = function() {\n  ee.ApiFunction.clearApi(ee.List);\n  ee.List.initialized_ = !1;\n};\nee.List.prototype.encode = function(encoder) {\n  return Array.isArray(this.list_) ? module$contents$goog$array_map(this.list_, function(elem) {\n    return encoder(elem);\n  }) : ee.List.superClass_.encode.call(this, encoder);\n};\nee.List.prototype.encodeCloudValue = function(serializer) {\n  return Array.isArray(this.list_) ? ee.rpc_node.reference(serializer.makeReference(this.list_)) : ee.List.superClass_.encodeCloudValue.call(this, serializer);\n};\nee.List.prototype.name = function() {\n  return \"List\";\n};\nee.FeatureCollection = function(args, opt_column) {\n  if (!(this instanceof ee.FeatureCollection)) {\n    return ee.ComputedObject.construct(ee.FeatureCollection, arguments);\n  }\n  if (args instanceof ee.FeatureCollection) {\n    return args;\n  }\n  if (2 < arguments.length) {\n    throw Error(\"The FeatureCollection constructor takes at most 2 arguments (\" + arguments.length + \" given)\");\n  }\n  ee.FeatureCollection.initialize();\n  args instanceof ee.Geometry && (args = new ee.Feature(args));\n  args instanceof ee.Feature && (args = [args]);\n  if (ee.Types.isString(args)) {\n    var actualArgs = {tableId:args};\n    opt_column && (actualArgs.geometryColumn = opt_column);\n    ee.Collection.call(this, new ee.ApiFunction(\"Collection.loadTable\"), actualArgs);\n  } else {\n    if (Array.isArray(args)) {\n      ee.Collection.call(this, new ee.ApiFunction(\"Collection\"), {features:module$contents$goog$array_map(args, function(elem) {\n        return new ee.Feature(elem);\n      })});\n    } else {\n      if (args instanceof ee.List) {\n        ee.Collection.call(this, new ee.ApiFunction(\"Collection\"), {features:args});\n      } else {\n        if (args && \"object\" === typeof args && \"FeatureCollection\" === args.type) {\n          ee.Collection.call(this, new ee.ApiFunction(\"Collection\"), {features:args.features.map(function(f) {\n            return new ee.Feature(f);\n          })});\n        } else {\n          if (args instanceof ee.ComputedObject) {\n            ee.Collection.call(this, args.func, args.args, args.varName);\n          } else {\n            throw Error(\"Unrecognized argument type to convert to a FeatureCollection: \" + args);\n          }\n        }\n      }\n    }\n  }\n};\ngoog.inherits(ee.FeatureCollection, ee.Collection);\ngoog.exportSymbol(\"ee.FeatureCollection\", ee.FeatureCollection);\nee.FeatureCollection.initialized_ = !1;\nee.FeatureCollection.initialize = function() {\n  ee.FeatureCollection.initialized_ || (ee.ApiFunction.importApi(ee.FeatureCollection, \"FeatureCollection\", \"FeatureCollection\"), ee.FeatureCollection.initialized_ = !0);\n};\nee.FeatureCollection.reset = function() {\n  ee.ApiFunction.clearApi(ee.FeatureCollection);\n  ee.FeatureCollection.initialized_ = !1;\n};\nee.FeatureCollection.prototype.getMap = function(opt_visParams, opt_callback) {\n  var args = ee.arguments.extractFromFunction(ee.FeatureCollection.prototype.getMap, arguments), painted = ee.ApiFunction._apply(\"Collection.draw\", {collection:this, color:(args.visParams || {}).color || \"000000\"});\n  if (args.callback) {\n    painted.getMap(void 0, args.callback);\n  } else {\n    return painted.getMap();\n  }\n};\ngoog.exportProperty(ee.FeatureCollection.prototype, \"getMap\", ee.FeatureCollection.prototype.getMap);\nee.FeatureCollection.prototype.getInfo = function(opt_callback) {\n  return ee.FeatureCollection.superClass_.getInfo.call(this, opt_callback);\n};\ngoog.exportProperty(ee.FeatureCollection.prototype, \"getInfo\", ee.FeatureCollection.prototype.getInfo);\nee.FeatureCollection.prototype.getDownloadURL = function(opt_format, opt_selectors, opt_filename, opt_callback) {\n  var args = ee.arguments.extractFromFunction(ee.FeatureCollection.prototype.getDownloadURL, arguments), request = {table:this};\n  args.format && (request.format = args.format.toUpperCase());\n  args.filename && (request.filename = args.filename);\n  args.selectors && (request.selectors = args.selectors);\n  if (args.callback) {\n    ee.data.getTableDownloadId(request, function(downloadId, error) {\n      downloadId ? args.callback(ee.data.makeTableDownloadUrl(downloadId)) : args.callback(null, error);\n    });\n  } else {\n    return ee.data.makeTableDownloadUrl(ee.data.getTableDownloadId(request));\n  }\n};\ngoog.exportProperty(ee.FeatureCollection.prototype, \"getDownloadURL\", ee.FeatureCollection.prototype.getDownloadURL);\nee.FeatureCollection.prototype.select = function(propertySelectors, opt_newProperties, opt_retainGeometry) {\n  if (ee.Types.isString(propertySelectors)) {\n    var varargs = Array.prototype.slice.call(arguments);\n    return this.map(function(feature) {\n      return feature.select(varargs);\n    });\n  }\n  var args = ee.arguments.extractFromFunction(ee.FeatureCollection.prototype.select, arguments);\n  return this.map(function(feature) {\n    return feature.select(args);\n  });\n};\ngoog.exportProperty(ee.FeatureCollection.prototype, \"select\", ee.FeatureCollection.prototype.select);\nee.FeatureCollection.prototype.name = function() {\n  return \"FeatureCollection\";\n};\nee.FeatureCollection.prototype.elementType = function() {\n  return ee.Feature;\n};\nee.ImageCollection = function(args) {\n  if (!(this instanceof ee.ImageCollection)) {\n    return ee.ComputedObject.construct(ee.ImageCollection, arguments);\n  }\n  if (args instanceof ee.ImageCollection) {\n    return args;\n  }\n  if (1 != arguments.length) {\n    throw Error(\"The ImageCollection constructor takes exactly 1 argument (\" + arguments.length + \" given)\");\n  }\n  ee.ImageCollection.initialize();\n  args instanceof ee.Image && (args = [args]);\n  if (ee.Types.isString(args)) {\n    ee.Collection.call(this, new ee.ApiFunction(\"ImageCollection.load\"), {id:args});\n  } else {\n    if (Array.isArray(args)) {\n      ee.Collection.call(this, new ee.ApiFunction(\"ImageCollection.fromImages\"), {images:module$contents$goog$array_map(args, function(elem) {\n        return new ee.Image(elem);\n      })});\n    } else {\n      if (args instanceof ee.List) {\n        ee.Collection.call(this, new ee.ApiFunction(\"ImageCollection.fromImages\"), {images:args});\n      } else {\n        if (args instanceof ee.ComputedObject) {\n          ee.Collection.call(this, args.func, args.args, args.varName);\n        } else {\n          throw Error(\"Unrecognized argument type to convert to an ImageCollection: \" + args);\n        }\n      }\n    }\n  }\n};\ngoog.inherits(ee.ImageCollection, ee.Collection);\ngoog.exportSymbol(\"ee.ImageCollection\", ee.ImageCollection);\nee.ImageCollection.initialized_ = !1;\nee.ImageCollection.initialize = function() {\n  ee.ImageCollection.initialized_ || (ee.ApiFunction.importApi(ee.ImageCollection, \"ImageCollection\", \"ImageCollection\"), ee.ApiFunction.importApi(ee.ImageCollection, \"reduce\", \"ImageCollection\"), ee.ImageCollection.initialized_ = !0);\n};\nee.ImageCollection.reset = function() {\n  ee.ApiFunction.clearApi(ee.ImageCollection);\n  ee.ImageCollection.initialized_ = !1;\n};\nee.ImageCollection.prototype.getFilmstripThumbURL = function(params, opt_callback) {\n  var args = ee.arguments.extractFromFunction(ee.ImageCollection.prototype.getFilmstripThumbURL, arguments);\n  return ee.ImageCollection.prototype.getThumbURL_(this, args, [\"png\", \"jpg\", \"jpeg\"], ee.ImageCollection.ThumbTypes.FILMSTRIP, opt_callback);\n};\ngoog.exportProperty(ee.ImageCollection.prototype, \"getFilmstripThumbURL\", ee.ImageCollection.prototype.getFilmstripThumbURL);\nee.ImageCollection.prototype.getVideoThumbURL = function(params, opt_callback) {\n  var args = ee.arguments.extractFromFunction(ee.ImageCollection.prototype.getVideoThumbURL, arguments);\n  return ee.ImageCollection.prototype.getThumbURL_(this, args, [\"gif\"], ee.ImageCollection.ThumbTypes.VIDEO, opt_callback);\n};\ngoog.exportProperty(ee.ImageCollection.prototype, \"getVideoThumbURL\", ee.ImageCollection.prototype.getVideoThumbURL);\nee.ImageCollection.ThumbTypes = {FILMSTRIP:\"filmstrip\", VIDEO:\"video\", IMAGE:\"image\",};\nee.ImageCollection.prototype.getThumbURL_ = function(collection, args, validFormats, opt_thumbType, opt_callback) {\n  var extraParams = {}, clippedCollection = collection.map(function(image) {\n    var projected = ee.data.images.applyCrsAndTransform(image, args.params);\n    return ee.data.images.applySelectionAndScale(projected, args.params, extraParams);\n  }), request = {}, visParams = ee.data.images.extractVisParams(extraParams, request);\n  request.imageCollection = clippedCollection.map(function(image) {\n    visParams.image = image;\n    return ee.ApiFunction._apply(\"Image.visualize\", visParams);\n  });\n  null != args.params.dimensions && (request.dimensions = args.params.dimensions);\n  if (request.format) {\n    if (!module$contents$goog$array_some(validFormats, function(format) {\n      return goog.string.caseInsensitiveEquals(format, request.format);\n    })) {\n      throw Error(\"Invalid format specified.\");\n    }\n  } else {\n    request.format = validFormats[0];\n  }\n  var getThumbId = ee.data.getThumbId;\n  switch(opt_thumbType) {\n    case ee.ImageCollection.ThumbTypes.VIDEO:\n      getThumbId = ee.data.getVideoThumbId;\n      break;\n    case ee.ImageCollection.ThumbTypes.FILMSTRIP:\n      getThumbId = ee.data.getFilmstripThumbId;\n  }\n  if (args.callback) {\n    getThumbId(request, function(thumbId, opt_error) {\n      var thumbUrl = \"\";\n      if (void 0 === opt_error) {\n        try {\n          thumbUrl = ee.data.makeThumbUrl(thumbId);\n        } catch (e) {\n          opt_error = String(e.message);\n        }\n      }\n      args.callback(thumbUrl, opt_error);\n    });\n  } else {\n    return ee.data.makeThumbUrl(getThumbId(request));\n  }\n};\nee.ImageCollection.prototype.getMap = function(opt_visParams, opt_callback) {\n  var args = ee.arguments.extractFromFunction(ee.ImageCollection.prototype.getMap, arguments), mosaic = ee.ApiFunction._call(\"ImageCollection.mosaic\", this);\n  if (args.callback) {\n    mosaic.getMap(args.visParams, args.callback);\n  } else {\n    return mosaic.getMap(args.visParams);\n  }\n};\ngoog.exportProperty(ee.ImageCollection.prototype, \"getMap\", ee.ImageCollection.prototype.getMap);\nee.ImageCollection.prototype.getInfo = function(opt_callback) {\n  return ee.ImageCollection.superClass_.getInfo.call(this, opt_callback);\n};\ngoog.exportProperty(ee.ImageCollection.prototype, \"getInfo\", ee.ImageCollection.prototype.getInfo);\nee.ImageCollection.prototype.select = function(selectors, opt_names) {\n  var varargs = arguments;\n  return this.map(function(obj) {\n    return obj.select.apply(obj, varargs);\n  });\n};\ngoog.exportProperty(ee.ImageCollection.prototype, \"select\", ee.ImageCollection.prototype.select);\nee.ImageCollection.prototype.first = function() {\n  return new ee.Image(ee.ApiFunction._call(\"Collection.first\", this));\n};\ngoog.exportProperty(ee.ImageCollection.prototype, \"first\", ee.ImageCollection.prototype.first);\nee.ImageCollection.prototype.name = function() {\n  return \"ImageCollection\";\n};\nee.ImageCollection.prototype.elementType = function() {\n  return ee.Image;\n};\nee.batch = {};\nvar module$contents$ee$batch_Export = {image:{}, map:{}, table:{}, video:{}, videoMap:{}, classifier:{}}, module$contents$ee$batch_ExportTask = function(config) {\n  this.config_ = config;\n  this.id = null;\n};\nmodule$contents$ee$batch_ExportTask.create = function(exportArgs) {\n  var config = {element:module$contents$ee$batch_Export.extractElement(exportArgs)};\n  Object.assign(config, exportArgs);\n  config = module$contents$goog$object_filter(config, function(x) {\n    return null != x;\n  });\n  return new module$contents$ee$batch_ExportTask(config);\n};\nmodule$contents$ee$batch_ExportTask.prototype.start = function(opt_success, opt_error) {\n  var $jscomp$this = this;\n  goog.asserts.assert(this.config_, \"Task config must be specified for tasks to be started.\");\n  if (opt_success) {\n    var startProcessing = function() {\n      goog.asserts.assertString($jscomp$this.id);\n      ee.data.startProcessing($jscomp$this.id, $jscomp$this.config_, function(_, error) {\n        error ? opt_error(error) : opt_success();\n      });\n    };\n    this.id ? startProcessing() : ee.data.newTaskId(1, function(ids) {\n      var id = ids && ids[0];\n      id ? ($jscomp$this.id = id, startProcessing()) : opt_error(\"Failed to obtain task ID.\");\n    });\n  } else {\n    this.id = this.id || ee.data.newTaskId(1)[0], goog.asserts.assertString(this.id, \"Failed to obtain task ID.\"), ee.data.startProcessing(this.id, this.config_);\n  }\n};\ngoog.exportProperty(module$contents$ee$batch_ExportTask.prototype, \"start\", module$contents$ee$batch_ExportTask.prototype.start);\nmodule$contents$ee$batch_Export.image.toAsset = function(image, opt_description, opt_assetId, opt_pyramidingPolicy, opt_dimensions, opt_region, opt_scale, opt_crs, opt_crsTransform, opt_maxPixels, opt_shardSize) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.image.toAsset, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.ASSET, ee.data.ExportType.IMAGE);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.image.toAsset\", module$contents$ee$batch_Export.image.toAsset);\nmodule$contents$ee$batch_Export.image.toCloudStorage = function(image, opt_description, opt_bucket, opt_fileNamePrefix, opt_dimensions, opt_region, opt_scale, opt_crs, opt_crsTransform, opt_maxPixels, opt_shardSize, opt_fileDimensions, opt_skipEmptyTiles, opt_fileFormat, opt_formatOptions) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.image.toCloudStorage, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.GCS, ee.data.ExportType.IMAGE);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.image.toCloudStorage\", module$contents$ee$batch_Export.image.toCloudStorage);\nmodule$contents$ee$batch_Export.image.toDrive = function(image, opt_description, opt_folder, opt_fileNamePrefix, opt_dimensions, opt_region, opt_scale, opt_crs, opt_crsTransform, opt_maxPixels, opt_shardSize, opt_fileDimensions, opt_skipEmptyTiles, opt_fileFormat, opt_formatOptions) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.image.toDrive, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.DRIVE, ee.data.ExportType.IMAGE);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.image.toDrive\", module$contents$ee$batch_Export.image.toDrive);\nmodule$contents$ee$batch_Export.map.toCloudStorage = function(image, opt_description, opt_bucket, opt_fileFormat, opt_path, opt_writePublicTiles, opt_scale, opt_maxZoom, opt_minZoom, opt_region, opt_skipEmptyTiles, opt_mapsApiKey, opt_bucketCorsUris) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.map.toCloudStorage, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.GCS, ee.data.ExportType.MAP);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.map.toCloudStorage\", module$contents$ee$batch_Export.map.toCloudStorage);\nmodule$contents$ee$batch_Export.table.toCloudStorage = function(collection, opt_description, opt_bucket, opt_fileNamePrefix, opt_fileFormat, opt_selectors, opt_maxVertices) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.table.toCloudStorage, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.GCS, ee.data.ExportType.TABLE);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.table.toCloudStorage\", module$contents$ee$batch_Export.table.toCloudStorage);\nmodule$contents$ee$batch_Export.table.toDrive = function(collection, opt_description, opt_folder, opt_fileNamePrefix, opt_fileFormat, opt_selectors, opt_maxVertices) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.table.toDrive, arguments);\n  clientConfig.type = ee.data.ExportType.TABLE;\n  var serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.DRIVE, ee.data.ExportType.TABLE);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.table.toDrive\", module$contents$ee$batch_Export.table.toDrive);\nmodule$contents$ee$batch_Export.table.toAsset = function(collection, opt_description, opt_assetId, opt_maxVertices) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.table.toAsset, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.ASSET, ee.data.ExportType.TABLE);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.table.toAsset\", module$contents$ee$batch_Export.table.toAsset);\nmodule$contents$ee$batch_Export.table.toFeatureView = function(collection, opt_description, opt_assetId) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.table.toFeatureView, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.FEATURE_VIEW, ee.data.ExportType.TABLE);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.table.toFeatureView\", module$contents$ee$batch_Export.table.toFeatureView);\nmodule$contents$ee$batch_Export.video.toCloudStorage = function(collection, opt_description, opt_bucket, opt_fileNamePrefix, opt_framesPerSecond, opt_dimensions, opt_region, opt_scale, opt_crs, opt_crsTransform, opt_maxPixels, opt_maxFrames) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.video.toCloudStorage, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.GCS, ee.data.ExportType.VIDEO);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.video.toCloudStorage\", module$contents$ee$batch_Export.video.toCloudStorage);\nmodule$contents$ee$batch_Export.video.toDrive = function(collection, opt_description, opt_folder, opt_fileNamePrefix, opt_framesPerSecond, opt_dimensions, opt_region, opt_scale, opt_crs, opt_crsTransform, opt_maxPixels, opt_maxFrames) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.video.toDrive, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.DRIVE, ee.data.ExportType.VIDEO);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.video.toDrive\", module$contents$ee$batch_Export.video.toDrive);\nmodule$contents$ee$batch_Export.videoMap.toCloudStorage = function(collection, opt_description, opt_bucket, opt_fileNamePrefix, opt_framesPerSecond, opt_writePublicTiles, opt_minZoom, opt_maxZoom, opt_scale, opt_region, opt_skipEmptyTiles, opt_minTimeMachineZoomSubset, opt_maxTimeMachineZoomSubset, opt_tileWidth, opt_tileHeight, opt_tileStride, opt_videoFormat, opt_version, opt_mapsApiKey, opt_bucketCorsUris) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.videoMap.toCloudStorage, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.GCS, ee.data.ExportType.VIDEO_MAP);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.videoMap.toCloudStorage\", module$contents$ee$batch_Export.videoMap.toCloudStorage);\nmodule$contents$ee$batch_Export.classifier.toAsset = function(classifier, opt_description, opt_assetId) {\n  var clientConfig = ee.arguments.extractFromFunction(module$contents$ee$batch_Export.classifier.toAsset, arguments), serverConfig = module$contents$ee$batch_Export.convertToServerParams(clientConfig, ee.data.ExportDestination.ASSET, ee.data.ExportType.CLASSIFIER);\n  return module$contents$ee$batch_ExportTask.create(serverConfig);\n};\ngoog.exportSymbol(\"module$contents$ee$batch_Export.classifier.toAsset\", module$contents$ee$batch_Export.classifier.toAsset);\nmodule$contents$ee$batch_Export.serializeRegion = function(region) {\n  if (region instanceof ee.Geometry) {\n    region = region.toGeoJSON();\n  } else {\n    if (\"string\" === typeof region) {\n      try {\n        region = goog.asserts.assertObject(JSON.parse(region));\n      } catch (x) {\n        throw Error(\"Invalid format for region property. Region must be GeoJSON LinearRing or Polygon specified as actual coordinates or serialized as a string. See Export documentation.\");\n      }\n    }\n  }\n  if (!(goog.isObject(region) && \"type\" in region)) {\n    try {\n      new ee.Geometry.LineString(region);\n    } catch (e) {\n      try {\n        new ee.Geometry.Polygon(region);\n      } catch (e2) {\n        throw Error(\"Invalid format for region property. Region must be GeoJSON LinearRing or Polygon specified as actual coordinates or serialized as a string. See Export documentation.\");\n      }\n    }\n  }\n  return JSON.stringify(region);\n};\nmodule$contents$ee$batch_Export.resolveRegionParam = function(params) {\n  params = module$contents$goog$object_clone(params);\n  if (!params.region) {\n    return goog.Promise.resolve(params);\n  }\n  var region = params.region;\n  if (region instanceof ee.ComputedObject) {\n    return region instanceof ee.Element && (region = region.geometry()), new goog.Promise(function(resolve, reject) {\n      region.getInfo(function(regionInfo, error) {\n        error ? reject(error) : (params.region = params.type === ee.data.ExportType.IMAGE ? new ee.Geometry(regionInfo) : module$contents$ee$batch_Export.serializeRegion(regionInfo), resolve(params));\n      });\n    });\n  }\n  params.region = params.type === ee.data.ExportType.IMAGE ? new ee.Geometry(region) : module$contents$ee$batch_Export.serializeRegion(region);\n  return goog.Promise.resolve(params);\n};\nmodule$contents$ee$batch_Export.extractElement = function(exportArgs) {\n  var isInArgs = function(key) {\n    return key in exportArgs;\n  }, eeElementKey = module$contents$ee$batch_Export.EE_ELEMENT_KEYS.find(isInArgs);\n  goog.asserts.assert(1 === module$contents$goog$array_count(module$contents$ee$batch_Export.EE_ELEMENT_KEYS, isInArgs), 'Expected a single \"image\", \"collection\" or \"classifier\" key.');\n  var element = exportArgs[eeElementKey];\n  if (element instanceof ee.Image) {\n    var result = element;\n  } else {\n    if (element instanceof ee.FeatureCollection) {\n      result = element;\n    } else {\n      if (element instanceof ee.ImageCollection) {\n        result = element;\n      } else {\n        if (element instanceof ee.Element) {\n          result = element;\n        } else {\n          if (element instanceof ee.ComputedObject) {\n            result = element;\n          } else {\n            throw Error(\"Unknown element type provided: \" + typeof element + \". Expected:  ee.Image, ee.ImageCollection, ee.FeatureCollection,  ee.Element or ee.ComputedObject.\");\n          }\n        }\n      }\n    }\n  }\n  delete exportArgs[eeElementKey];\n  return result;\n};\nmodule$contents$ee$batch_Export.convertToServerParams = function(originalArgs, destination, exportType, serializeRegion) {\n  serializeRegion = void 0 === serializeRegion ? !0 : serializeRegion;\n  var taskConfig = {type:exportType};\n  Object.assign(taskConfig, originalArgs);\n  switch(exportType) {\n    case ee.data.ExportType.IMAGE:\n      taskConfig = module$contents$ee$batch_Export.image.prepareTaskConfig_(taskConfig, destination);\n      break;\n    case ee.data.ExportType.MAP:\n      taskConfig = module$contents$ee$batch_Export.map.prepareTaskConfig_(taskConfig, destination);\n      break;\n    case ee.data.ExportType.TABLE:\n      taskConfig = module$contents$ee$batch_Export.table.prepareTaskConfig_(taskConfig, destination);\n      break;\n    case ee.data.ExportType.VIDEO:\n      taskConfig = module$contents$ee$batch_Export.video.prepareTaskConfig_(taskConfig, destination);\n      break;\n    case ee.data.ExportType.VIDEO_MAP:\n      taskConfig = module$contents$ee$batch_Export.videoMap.prepareTaskConfig_(taskConfig, destination);\n      break;\n    case ee.data.ExportType.CLASSIFIER:\n      taskConfig = module$contents$ee$batch_Export.classifier.prepareTaskConfig_(taskConfig, destination);\n      break;\n    default:\n      throw Error(\"Unknown export type: \" + taskConfig.type);\n  }\n  serializeRegion && null != taskConfig.region && (taskConfig.region = module$contents$ee$batch_Export.serializeRegion(taskConfig.region));\n  return taskConfig;\n};\nmodule$contents$ee$batch_Export.prepareDestination_ = function(taskConfig, destination) {\n  switch(destination) {\n    case ee.data.ExportDestination.GCS:\n      taskConfig.outputBucket = taskConfig.bucket || \"\";\n      taskConfig.outputPrefix = taskConfig.fileNamePrefix || taskConfig.path || \"\";\n      delete taskConfig.fileNamePrefix;\n      delete taskConfig.path;\n      delete taskConfig.bucket;\n      break;\n    case ee.data.ExportDestination.ASSET:\n      taskConfig.assetId = taskConfig.assetId || \"\";\n      break;\n    case ee.data.ExportDestination.FEATURE_VIEW:\n      taskConfig.mapName = taskConfig.mapName || \"\";\n      break;\n    default:\n      var folderType = goog.typeOf(taskConfig.folder);\n      if (!module$contents$goog$array_contains([\"string\", \"undefined\"], folderType)) {\n        throw Error('Error: toDrive \"folder\" parameter must be a string, but is of type ' + folderType + \".\");\n      }\n      taskConfig.driveFolder = taskConfig.folder || \"\";\n      taskConfig.driveFileNamePrefix = taskConfig.fileNamePrefix || \"\";\n      delete taskConfig.folder;\n      delete taskConfig.fileNamePrefix;\n  }\n  return taskConfig;\n};\nmodule$contents$ee$batch_Export.image.prepareTaskConfig_ = function(taskConfig, destination) {\n  null == taskConfig.fileFormat && (taskConfig.fileFormat = \"GeoTIFF\");\n  taskConfig = module$contents$ee$batch_Export.reconcileImageFormat(taskConfig);\n  taskConfig = module$contents$ee$batch_Export.prepareDestination_(taskConfig, destination);\n  null != taskConfig.crsTransform && (taskConfig[module$contents$ee$batch_Export.CRS_TRANSFORM_KEY] = taskConfig.crsTransform, delete taskConfig.crsTransform);\n  return taskConfig;\n};\nmodule$contents$ee$batch_Export.table.prepareTaskConfig_ = function(taskConfig, destination) {\n  Array.isArray(taskConfig.selectors) && (taskConfig.selectors = taskConfig.selectors.join());\n  taskConfig = module$contents$ee$batch_Export.reconcileTableFormat(taskConfig);\n  return taskConfig = module$contents$ee$batch_Export.prepareDestination_(taskConfig, destination);\n};\nmodule$contents$ee$batch_Export.map.prepareTaskConfig_ = function(taskConfig, destination) {\n  taskConfig = module$contents$ee$batch_Export.prepareDestination_(taskConfig, destination);\n  return taskConfig = module$contents$ee$batch_Export.reconcileMapFormat(taskConfig);\n};\nmodule$contents$ee$batch_Export.video.prepareTaskConfig_ = function(taskConfig, destination) {\n  taskConfig = module$contents$ee$batch_Export.reconcileVideoFormat_(taskConfig);\n  taskConfig = module$contents$ee$batch_Export.prepareDestination_(taskConfig, destination);\n  null != taskConfig.crsTransform && (taskConfig[module$contents$ee$batch_Export.CRS_TRANSFORM_KEY] = taskConfig.crsTransform, delete taskConfig.crsTransform);\n  return taskConfig;\n};\nmodule$contents$ee$batch_Export.videoMap.prepareTaskConfig_ = function(taskConfig, destination) {\n  taskConfig = module$contents$ee$batch_Export.reconcileVideoFormat_(taskConfig);\n  taskConfig.version = taskConfig.version || module$contents$ee$batch_VideoMapVersion.V1;\n  taskConfig.stride = taskConfig.stride || 1;\n  taskConfig.tileDimensions = {width:taskConfig.tileWidth || 256, height:taskConfig.tileHeight || 256};\n  return taskConfig = module$contents$ee$batch_Export.prepareDestination_(taskConfig, destination);\n};\nmodule$contents$ee$batch_Export.classifier.prepareTaskConfig_ = function(taskConfig, destination) {\n  return taskConfig = module$contents$ee$batch_Export.prepareDestination_(taskConfig, destination);\n};\nvar module$contents$ee$batch_VideoFormat = {MP4:\"MP4\", GIF:\"GIF\", VP9:\"VP9\",}, module$contents$ee$batch_MapFormat = {AUTO_JPEG_PNG:\"AUTO_JPEG_PNG\", JPEG:\"JPEG\", PNG:\"PNG\",}, module$contents$ee$batch_ImageFormat = {GEO_TIFF:\"GEO_TIFF\", TF_RECORD_IMAGE:\"TF_RECORD_IMAGE\",}, module$contents$ee$batch_TableFormat = {CSV:\"CSV\", GEO_JSON:\"GEO_JSON\", KML:\"KML\", KMZ:\"KMZ\", SHP:\"SHP\", TF_RECORD_TABLE:\"TF_RECORD_TABLE\",}, module$contents$ee$batch_VideoMapVersion = {V1:\"V1\", V2:\"V2\",}, module$contents$ee$batch_FORMAT_OPTIONS_MAP = \n{GEO_TIFF:[\"cloudOptimized\", \"fileDimensions\", \"shardSize\",], TF_RECORD_IMAGE:\"patchDimensions kernelSize compressed maxFileSize defaultValue tensorDepths sequenceData collapseBands maskedThreshold\".split(\" \")}, module$contents$ee$batch_FORMAT_PREFIX_MAP = {GEO_TIFF:\"tiff\", TF_RECORD_IMAGE:\"tfrecord\"};\nmodule$contents$ee$batch_Export.reconcileVideoFormat_ = function(taskConfig) {\n  taskConfig.videoOptions = taskConfig.framesPerSecond || 5.0;\n  taskConfig.maxFrames = taskConfig.maxFrames || 1000;\n  taskConfig.maxPixels = taskConfig.maxPixels || 1e8;\n  var formatString = taskConfig.fileFormat;\n  null == formatString && (formatString = module$contents$ee$batch_VideoFormat.MP4);\n  formatString = formatString.toUpperCase();\n  switch(formatString) {\n    case \"MP4\":\n      formatString = module$contents$ee$batch_VideoFormat.MP4;\n      break;\n    case \"GIF\":\n    case \"JIF\":\n      formatString = module$contents$ee$batch_VideoFormat.GIF;\n      break;\n    case \"VP9\":\n    case \"WEBM\":\n      formatString = module$contents$ee$batch_VideoFormat.VP9;\n      break;\n    default:\n      throw Error(\"Invalid file format \" + formatString + \". Supported formats are: 'MP4', 'GIF', and 'WEBM'.\");\n  }\n  taskConfig.fileFormat = formatString;\n  return taskConfig;\n};\nmodule$contents$ee$batch_Export.reconcileImageFormat = function(taskConfig) {\n  var formatString = taskConfig.fileFormat;\n  null == formatString && (formatString = module$contents$ee$batch_ImageFormat.GEO_TIFF);\n  formatString = formatString.toUpperCase();\n  switch(formatString) {\n    case \"TIFF\":\n    case \"TIF\":\n    case \"GEO_TIFF\":\n    case \"GEOTIFF\":\n      formatString = module$contents$ee$batch_ImageFormat.GEO_TIFF;\n      break;\n    case \"TF_RECORD\":\n    case \"TF_RECORD_IMAGE\":\n    case \"TFRECORD\":\n      formatString = module$contents$ee$batch_ImageFormat.TF_RECORD_IMAGE;\n      break;\n    default:\n      throw Error(\"Invalid file format \" + formatString + \". Supported formats are: 'GEOTIFF', 'TFRECORD'.\");\n  }\n  taskConfig.fileFormat = formatString;\n  if (null != taskConfig.formatOptions) {\n    var formatOptions = module$contents$ee$batch_Export.prefixImageFormatOptions_(taskConfig, formatString);\n    delete taskConfig.formatOptions;\n    Object.assign(taskConfig, formatOptions);\n  }\n  return taskConfig;\n};\nmodule$contents$ee$batch_Export.reconcileMapFormat = function(taskConfig) {\n  var formatString = taskConfig.fileFormat;\n  null == formatString && (formatString = module$contents$ee$batch_MapFormat.AUTO_JPEG_PNG);\n  formatString = formatString.toUpperCase();\n  switch(formatString) {\n    case \"AUTO\":\n    case \"AUTO_JPEG_PNG\":\n    case \"AUTO_JPG_PNG\":\n      formatString = module$contents$ee$batch_MapFormat.AUTO_JPEG_PNG;\n      break;\n    case \"JPG\":\n    case \"JPEG\":\n      formatString = module$contents$ee$batch_MapFormat.JPEG;\n      break;\n    case \"PNG\":\n      formatString = module$contents$ee$batch_MapFormat.PNG;\n      break;\n    default:\n      throw Error(\"Invalid file format \" + formatString + \". Supported formats are: 'AUTO', 'PNG', and 'JPEG'.\");\n  }\n  taskConfig.fileFormat = formatString;\n  return taskConfig;\n};\nmodule$contents$ee$batch_Export.reconcileTableFormat = function(taskConfig) {\n  var formatString = taskConfig.fileFormat;\n  null == formatString && (formatString = module$contents$ee$batch_TableFormat.CSV);\n  formatString = formatString.toUpperCase();\n  switch(formatString) {\n    case \"CSV\":\n      formatString = module$contents$ee$batch_TableFormat.CSV;\n      break;\n    case \"JSON\":\n    case \"GEOJSON\":\n    case \"GEO_JSON\":\n      formatString = module$contents$ee$batch_TableFormat.GEO_JSON;\n      break;\n    case \"KML\":\n      formatString = module$contents$ee$batch_TableFormat.KML;\n      break;\n    case \"KMZ\":\n      formatString = module$contents$ee$batch_TableFormat.KMZ;\n      break;\n    case \"SHP\":\n      formatString = module$contents$ee$batch_TableFormat.SHP;\n      break;\n    case \"TF_RECORD\":\n    case \"TF_RECORD_TABLE\":\n    case \"TFRECORD\":\n      formatString = module$contents$ee$batch_TableFormat.TF_RECORD_TABLE;\n      break;\n    default:\n      throw Error(\"Invalid file format \" + formatString + \". Supported formats are: 'CSV', 'GeoJSON', 'KML', 'KMZ', 'SHP', and 'TFRecord'.\");\n  }\n  taskConfig.fileFormat = formatString;\n  return taskConfig;\n};\nmodule$contents$ee$batch_Export.prefixImageFormatOptions_ = function(taskConfig, imageFormat) {\n  var formatOptions = taskConfig.formatOptions;\n  if (null == formatOptions) {\n    return {};\n  }\n  if (Object.keys(taskConfig).some(function(key) {\n    return module$contents$goog$object_containsKey(formatOptions, key);\n  })) {\n    throw Error(\"Parameter specified at least twice: once in config, and once in config format options.\");\n  }\n  for (var prefix = module$contents$ee$batch_FORMAT_PREFIX_MAP[imageFormat], validOptionKeys = module$contents$ee$batch_FORMAT_OPTIONS_MAP[imageFormat], prefixedOptions = {}, $jscomp$iter$27 = $jscomp.makeIterator(Object.entries(formatOptions)), $jscomp$key$ = $jscomp$iter$27.next(); !$jscomp$key$.done; $jscomp$key$ = $jscomp$iter$27.next()) {\n    var $jscomp$destructuring$var37 = $jscomp.makeIterator($jscomp$key$.value), key$jscomp$0 = $jscomp$destructuring$var37.next().value, value = $jscomp$destructuring$var37.next().value;\n    if (!module$contents$goog$array_contains(validOptionKeys, key$jscomp$0)) {\n      var validKeysMsg = validOptionKeys.join(\", \");\n      throw Error('\"' + key$jscomp$0 + '\" is not a valid option, the image format \"' + imageFormat + '\"\"may have the following options: ' + (validKeysMsg + '\".'));\n    }\n    var prefixedKey = prefix + key$jscomp$0[0].toUpperCase() + key$jscomp$0.substring(1);\n    Array.isArray(value) ? prefixedOptions[prefixedKey] = value.join() : prefixedOptions[prefixedKey] = value;\n  }\n  return prefixedOptions;\n};\nmodule$contents$ee$batch_Export.CRS_TRANSFORM_KEY = \"crs_transform\";\nmodule$contents$ee$batch_Export.EE_ELEMENT_KEYS = [\"image\", \"collection\", \"classifier\"];\nee.batch.Export = module$contents$ee$batch_Export;\nee.batch.ExportTask = module$contents$ee$batch_ExportTask;\nee.batch.ImageFormat = module$contents$ee$batch_ImageFormat;\nee.batch.MapFormat = module$contents$ee$batch_MapFormat;\nee.batch.ServerTaskConfig = {};\nee.batch.TableFormat = module$contents$ee$batch_TableFormat;\nee.batch.VideoFormat = module$contents$ee$batch_VideoFormat;\nee.Number = function(number) {\n  if (!(this instanceof ee.Number)) {\n    return ee.ComputedObject.construct(ee.Number, arguments);\n  }\n  if (number instanceof ee.Number) {\n    return number;\n  }\n  ee.Number.initialize();\n  if (\"number\" === typeof number) {\n    ee.ComputedObject.call(this, null, null), this.number_ = number;\n  } else {\n    if (number instanceof ee.ComputedObject) {\n      ee.ComputedObject.call(this, number.func, number.args, number.varName), this.number_ = null;\n    } else {\n      throw Error(\"Invalid argument specified for ee.Number(): \" + number);\n    }\n  }\n};\ngoog.inherits(ee.Number, ee.ComputedObject);\ngoog.exportSymbol(\"ee.Number\", ee.Number);\nee.Number.initialized_ = !1;\nee.Number.initialize = function() {\n  ee.Number.initialized_ || (ee.ApiFunction.importApi(ee.Number, \"Number\", \"Number\"), ee.Number.initialized_ = !0);\n};\nee.Number.reset = function() {\n  ee.ApiFunction.clearApi(ee.Number);\n  ee.Number.initialized_ = !1;\n};\nee.Number.prototype.encode = function(encoder) {\n  return \"number\" === typeof this.number_ ? this.number_ : ee.Number.superClass_.encode.call(this, encoder);\n};\nee.Number.prototype.encodeCloudValue = function(serializer) {\n  return \"number\" === typeof this.number_ ? ee.rpc_node.reference(serializer.makeReference(this.number_)) : ee.Number.superClass_.encodeCloudValue.call(this, serializer);\n};\nee.Number.prototype.name = function() {\n  return \"Number\";\n};\nee.String = function(string) {\n  if (!(this instanceof ee.String)) {\n    return ee.ComputedObject.construct(ee.String, arguments);\n  }\n  if (string instanceof ee.String) {\n    return string;\n  }\n  ee.String.initialize();\n  if (\"string\" === typeof string) {\n    ee.ComputedObject.call(this, null, null), this.string_ = string;\n  } else {\n    if (string instanceof ee.ComputedObject) {\n      this.string_ = null, string.func && \"String\" == string.func.getSignature().returns ? ee.ComputedObject.call(this, string.func, string.args, string.varName) : ee.ComputedObject.call(this, new ee.ApiFunction(\"String\"), {input:string}, null);\n    } else {\n      throw Error(\"Invalid argument specified for ee.String(): \" + string);\n    }\n  }\n};\ngoog.inherits(ee.String, ee.ComputedObject);\ngoog.exportSymbol(\"ee.String\", ee.String);\nee.String.initialized_ = !1;\nee.String.initialize = function() {\n  ee.String.initialized_ || (ee.ApiFunction.importApi(ee.String, \"String\", \"String\"), ee.String.initialized_ = !0);\n};\nee.String.reset = function() {\n  ee.ApiFunction.clearApi(ee.String);\n  ee.String.initialized_ = !1;\n};\nee.String.prototype.encode = function(encoder) {\n  return \"string\" === typeof this.string_ ? this.string_ : ee.String.superClass_.encode.call(this, encoder);\n};\nee.String.prototype.encodeCloudValue = function(serializer) {\n  return \"string\" === typeof this.string_ ? ee.rpc_node.reference(serializer.makeReference(this.string_)) : ee.String.superClass_.encodeCloudValue.call(this, serializer);\n};\nee.String.prototype.name = function() {\n  return \"String\";\n};\nee.CustomFunction = function(signature, body) {\n  if (!(this instanceof ee.CustomFunction)) {\n    return ee.ComputedObject.construct(ee.CustomFunction, arguments);\n  }\n  for (var vars = [], args = signature.args, i = 0; i < args.length; i++) {\n    var arg = args[i];\n    vars.push(ee.CustomFunction.variable(ee.Types.nameToClass(arg.type), arg.name));\n  }\n  if (void 0 === body.apply(null, vars)) {\n    throw Error(\"User-defined methods must return a value.\");\n  }\n  this.signature_ = ee.CustomFunction.resolveNamelessArgs_(signature, vars, body);\n  this.body_ = body.apply(null, vars);\n};\ngoog.inherits(ee.CustomFunction, ee.Function);\ngoog.exportSymbol(\"ee.CustomFunction\", ee.CustomFunction);\nee.CustomFunction.prototype.encode = function(encoder) {\n  return {type:\"Function\", argumentNames:module$contents$goog$array_map(this.signature_.args, function(arg) {\n    return arg.name;\n  }), body:encoder(this.body_)};\n};\nee.CustomFunction.prototype.encodeCloudValue = function(serializer) {\n  return ee.rpc_node.functionDefinition(this.signature_.args.map(function(arg) {\n    return arg.name;\n  }), serializer.makeReference(this.body_));\n};\nee.CustomFunction.prototype.encodeCloudInvocation = function(serializer, args) {\n  return ee.rpc_node.functionByReference(serializer.makeReference(this), args);\n};\nee.CustomFunction.prototype.getSignature = function() {\n  return this.signature_;\n};\nee.CustomFunction.variable = function(type, name$jscomp$0) {\n  type = type || Object;\n  if (!(type.prototype instanceof ee.ComputedObject)) {\n    if (type && type != Object) {\n      if (type == String) {\n        type = ee.String;\n      } else {\n        if (type == Number) {\n          type = ee.Number;\n        } else {\n          if (type == Array) {\n            type = goog.global.ee.List;\n          } else {\n            throw Error(\"Variables must be of an EE type, e.g. ee.Image or ee.Number.\");\n          }\n        }\n      }\n    } else {\n      type = ee.ComputedObject;\n    }\n  }\n  var klass = function(name) {\n    this.args = this.func = null;\n    this.varName = name;\n  };\n  klass.prototype = type.prototype;\n  return new klass(name$jscomp$0);\n};\nee.CustomFunction.create = function(func, returnType, arg_types) {\n  var stringifyType = function(type) {\n    return \"string\" === typeof type ? type : ee.Types.classToName(type);\n  }, args = module$contents$goog$array_map(arg_types, function(argType) {\n    return {name:null, type:stringifyType(argType)};\n  }), signature = {name:\"\", returns:stringifyType(returnType), args:args};\n  return new ee.CustomFunction(signature, func);\n};\nee.CustomFunction.resolveNamelessArgs_ = function(signature, vars, body) {\n  for (var namelessArgIndices = [], i = 0; i < vars.length; i++) {\n    null === vars[i].varName && namelessArgIndices.push(i);\n  }\n  if (0 === namelessArgIndices.length) {\n    return signature;\n  }\n  for (var baseName = \"_MAPPING_VAR_\" + function(expression) {\n    var countNodes = function(nodes) {\n      return nodes.map(countNode).reduce(function(a, b) {\n        return a + b;\n      }, 0);\n    }, countNode = function(node) {\n      return node.functionDefinitionValue ? 1 : node.arrayValue ? countNodes(node.arrayValue.values) : node.dictionaryValue ? countNodes(Object.values(node.dictionaryValue.values)) : node.functionInvocationValue ? countNodes(Object.values(node.functionInvocationValue.arguments)) : 0;\n    };\n    return countNodes(Object.values(expression.values));\n  }(ee.Serializer.encodeCloudApiExpression(body.apply(null, vars), \"<unbound>\")) + \"_\", i$70 = 0; i$70 < namelessArgIndices.length; i$70++) {\n    var index = namelessArgIndices[i$70], name = baseName + i$70;\n    vars[index].varName = name;\n    signature.args[index].name = name;\n  }\n  return signature;\n};\nee.Date = function(date, opt_tz) {\n  if (!(this instanceof ee.Date)) {\n    return ee.ComputedObject.construct(ee.Date, arguments);\n  }\n  if (date instanceof ee.Date) {\n    return date;\n  }\n  ee.Date.initialize();\n  var jsArgs = ee.arguments.extractFromFunction(ee.Date, arguments);\n  date = jsArgs.date;\n  var tz = jsArgs.tz, func = new ee.ApiFunction(\"Date\"), args = {}, varName = null;\n  if (ee.Types.isString(date)) {\n    if (args.value = date, tz) {\n      if (ee.Types.isString(tz)) {\n        args.timeZone = tz;\n      } else {\n        throw Error(\"Invalid argument specified for ee.Date(..., opt_tz): \" + tz);\n      }\n    }\n  } else {\n    if (ee.Types.isNumber(date)) {\n      args.value = date;\n    } else {\n      if (goog.isDateLike(date)) {\n        args.value = Math.floor(date.getTime());\n      } else {\n        if (date instanceof ee.ComputedObject) {\n          date.func && \"Date\" == date.func.getSignature().returns ? (func = date.func, args = date.args, varName = date.varName) : args.value = date;\n        } else {\n          throw Error(\"Invalid argument specified for ee.Date(): \" + date);\n        }\n      }\n    }\n  }\n  ee.ComputedObject.call(this, func, args, varName);\n};\ngoog.inherits(ee.Date, ee.ComputedObject);\ngoog.exportSymbol(\"ee.Date\", ee.Date);\nee.Date.initialized_ = !1;\nee.Date.initialize = function() {\n  ee.Date.initialized_ || (ee.ApiFunction.importApi(ee.Date, \"Date\", \"Date\"), ee.Date.initialized_ = !0);\n};\nee.Date.reset = function() {\n  ee.ApiFunction.clearApi(ee.Date);\n  ee.Date.initialized_ = !1;\n};\nee.Date.prototype.name = function() {\n  return \"Date\";\n};\nee.Deserializer = function() {\n};\ngoog.exportSymbol(\"ee.Deserializer\", ee.Deserializer);\nee.Deserializer.fromJSON = function(json) {\n  return ee.Deserializer.decode(JSON.parse(json));\n};\ngoog.exportSymbol(\"ee.Deserializer.fromJSON\", ee.Deserializer.fromJSON);\nee.Deserializer.decode = function(json) {\n  if (\"result\" in json && \"values\" in json) {\n    return ee.Deserializer.decodeCloudApi(json);\n  }\n  var namedValues = {};\n  if (goog.isObject(json) && \"CompoundValue\" === json.type) {\n    for (var scopes = json.scope, i = 0; i < scopes.length; i++) {\n      var key = scopes[i][0], value = scopes[i][1];\n      if (key in namedValues) {\n        throw Error('Duplicate scope key \"' + key + '\" in scope #' + i + \".\");\n      }\n      namedValues[key] = ee.Deserializer.decodeValue_(value, namedValues);\n    }\n    json = json.value;\n  }\n  return ee.Deserializer.decodeValue_(json, namedValues);\n};\ngoog.exportSymbol(\"ee.Deserializer.decode\", ee.Deserializer.decode);\nee.Deserializer.decodeValue_ = function(json, namedValues) {\n  if (null === json || \"number\" === typeof json || \"boolean\" === typeof json || \"string\" === typeof json) {\n    return json;\n  }\n  if (Array.isArray(json)) {\n    return module$contents$goog$array_map(json, function(element) {\n      return ee.Deserializer.decodeValue_(element, namedValues);\n    });\n  }\n  if (!goog.isObject(json) || \"function\" === typeof json) {\n    throw Error(\"Cannot decode object: \" + json);\n  }\n  var typeName = json.type;\n  switch(typeName) {\n    case \"ValueRef\":\n      if (json.value in namedValues) {\n        return namedValues[json.value];\n      }\n      throw Error(\"Unknown ValueRef: \" + json);\n    case \"ArgumentRef\":\n      var varName = json.value;\n      if (\"string\" !== typeof varName) {\n        throw Error(\"Invalid variable name: \" + varName);\n      }\n      return ee.CustomFunction.variable(Object, varName);\n    case \"Date\":\n      var microseconds = json.value;\n      if (\"number\" !== typeof microseconds) {\n        throw Error(\"Invalid date value: \" + microseconds);\n      }\n      return new ee.Date(microseconds / 1000);\n    case \"Bytes\":\n      return ee.Deserializer.roundTrip_(new module$exports$eeapiclient$ee_api_client.ValueNode({bytesValue:json}), json);\n    case \"Invocation\":\n      var func = \"functionName\" in json ? ee.ApiFunction.lookup(json.functionName) : ee.Deserializer.decodeValue_(json[\"function\"], namedValues);\n      var args = module$contents$goog$object_map(json.arguments, function(element) {\n        return ee.Deserializer.decodeValue_(element, namedValues);\n      });\n      return ee.Deserializer.invocation_(func, args);\n    case \"Dictionary\":\n      return module$contents$goog$object_map(json.value, function(element) {\n        return ee.Deserializer.decodeValue_(element, namedValues);\n      });\n    case \"Function\":\n      var body = ee.Deserializer.decodeValue_(json.body, namedValues), signature = {name:\"\", args:module$contents$goog$array_map(json.argumentNames, function(argName) {\n        return {name:argName, type:\"Object\", optional:!1};\n      }), returns:\"Object\"};\n      return new ee.CustomFunction(signature, function() {\n        return body;\n      });\n    case \"Point\":\n    case \"MultiPoint\":\n    case \"LineString\":\n    case \"MultiLineString\":\n    case \"Polygon\":\n    case \"MultiPolygon\":\n    case \"LinearRing\":\n    case \"GeometryCollection\":\n      return new ee.Geometry(json);\n    case \"CompoundValue\":\n      throw Error(\"Nested CompoundValues are disallowed.\");\n    default:\n      throw Error(\"Unknown encoded object type: \" + typeName);\n  }\n};\nee.Deserializer.roundTrip_ = function(node, value) {\n  var Reencoder = function() {\n  };\n  $jscomp.inherits(Reencoder, ee.Encodable);\n  Reencoder.prototype.encode = function(encoder) {\n    return value;\n  };\n  Reencoder.prototype.encodeCloudValue = function(encoder) {\n    return node;\n  };\n  return new Reencoder();\n};\nee.Deserializer.invocation_ = function(func, args$jscomp$0) {\n  if (func instanceof ee.Function) {\n    return func.apply(args$jscomp$0);\n  }\n  if (func instanceof ee.ComputedObject) {\n    var ComputedFunction = function() {\n      return ee.Function.apply(this, arguments) || this;\n    };\n    $jscomp.inherits(ComputedFunction, ee.Function);\n    ComputedFunction.prototype.encode = function(encoder) {\n      return func.encode(encoder);\n    };\n    ComputedFunction.prototype.encodeCloudInvocation = function(serializer, args) {\n      return ee.rpc_node.functionByReference(serializer.makeReference(func), args);\n    };\n    return new ee.ComputedObject(new ComputedFunction(), args$jscomp$0);\n  }\n  throw Error(\"Invalid function value\");\n};\nee.Deserializer.fromCloudApiJSON = function(json) {\n  return ee.Deserializer.decodeCloudApi(JSON.parse(json));\n};\ngoog.exportSymbol(\"ee.Deserializer.fromCloudApiJSON\", ee.Deserializer.fromCloudApiJSON);\nee.Deserializer.decodeCloudApi = function(json) {\n  var expression = module$contents$eeapiclient$domain_object_deserialize(module$exports$eeapiclient$ee_api_client.Expression, json), decoded = {}, lookup = function(reference, kind) {\n    if (!(reference in decoded)) {\n      if (!(reference in expression.values)) {\n        throw Error(\"Cannot find \" + kind + \" \" + reference);\n      }\n      decoded[reference] = decode(expression.values[reference]);\n    }\n    return decoded[reference];\n  }, decode = function(node) {\n    return null !== node.constantValue ? node.constantValue : null !== node.arrayValue ? node.arrayValue.values.map(decode) : null !== node.dictionaryValue ? module$contents$goog$object_map(node.dictionaryValue.values, decode) : null !== node.argumentReference ? ee.CustomFunction.variable(Object, node.argumentReference) : null !== node.functionDefinitionValue ? decodeFunctionDefinition(node.functionDefinitionValue) : null !== node.functionInvocationValue ? decodeFunctionInvocation(node.functionInvocationValue) : \n    null !== node.bytesValue ? ee.Deserializer.roundTrip_(new module$exports$eeapiclient$ee_api_client.ValueNode({bytesValue:node.bytesValue}), node.bytesValue) : null !== node.integerValue ? ee.Deserializer.roundTrip_(new module$exports$eeapiclient$ee_api_client.ValueNode({integerValue:node.integerValue}), node.integerValue) : null !== node.valueReference ? lookup(node.valueReference, \"reference\") : null;\n  }, decodeFunctionDefinition = function(defined) {\n    var body = lookup(defined.body, \"function body\"), signature = {args:defined.argumentNames.map(function(name) {\n      return {name:name, type:\"Object\", optional:!1};\n    }), name:\"\", returns:\"Object\"};\n    return new ee.CustomFunction(signature, function() {\n      return body;\n    });\n  }, decodeFunctionInvocation = function(invoked) {\n    var func = invoked.functionReference ? lookup(invoked.functionReference, \"function\") : ee.ApiFunction.lookup(invoked.functionName), args = module$contents$goog$object_map(invoked.arguments, decode);\n    return ee.Deserializer.invocation_(func, args);\n  };\n  return lookup(expression.result, \"result value\");\n};\ngoog.exportSymbol(\"ee.Deserializer.decodeCloudApi\", ee.Deserializer.decodeCloudApi);\nee.Dictionary = function(opt_dict) {\n  if (!(this instanceof ee.Dictionary)) {\n    return ee.ComputedObject.construct(ee.Dictionary, arguments);\n  }\n  if (opt_dict instanceof ee.Dictionary) {\n    return opt_dict;\n  }\n  ee.Dictionary.initialize();\n  ee.Types.isRegularObject(opt_dict) ? (ee.ComputedObject.call(this, null, null), this.dict_ = opt_dict) : (opt_dict instanceof ee.ComputedObject && opt_dict.func && \"Dictionary\" == opt_dict.func.getSignature().returns ? ee.ComputedObject.call(this, opt_dict.func, opt_dict.args, opt_dict.varName) : ee.ComputedObject.call(this, new ee.ApiFunction(\"Dictionary\"), {input:opt_dict}, null), this.dict_ = null);\n};\ngoog.inherits(ee.Dictionary, ee.ComputedObject);\ngoog.exportSymbol(\"ee.Dictionary\", ee.Dictionary);\nee.Dictionary.initialized_ = !1;\nee.Dictionary.initialize = function() {\n  ee.Dictionary.initialized_ || (ee.ApiFunction.importApi(ee.Dictionary, \"Dictionary\", \"Dictionary\"), ee.Dictionary.initialized_ = !0);\n};\nee.Dictionary.reset = function() {\n  ee.ApiFunction.clearApi(ee.Dictionary);\n  ee.Dictionary.initialized_ = !1;\n};\nee.Dictionary.prototype.encode = function(encoder) {\n  return null !== this.dict_ ? encoder(this.dict_) : ee.Dictionary.superClass_.encode.call(this, encoder);\n};\nee.Dictionary.prototype.encodeCloudValue = function(serializer) {\n  return null !== this.dict_ ? ee.rpc_node.reference(serializer.makeReference(this.dict_)) : ee.Dictionary.superClass_.encodeCloudValue.call(this, serializer);\n};\nee.Dictionary.prototype.name = function() {\n  return \"Dictionary\";\n};\nee.Terrain = {};\ngoog.exportSymbol(\"ee.Terrain\", ee.Terrain);\nee.Terrain.initialized_ = !1;\nee.Terrain.initialize = function() {\n  ee.Terrain.initialized_ || (ee.ApiFunction.importApi(ee.Terrain, \"Terrain\", \"Terrain\"), ee.Terrain.initialized_ = !0);\n};\nee.Terrain.reset = function() {\n  ee.ApiFunction.clearApi(ee.Terrain);\n  ee.Terrain.initialized_ = !1;\n};\nee.initialize = function(opt_baseurl, opt_tileurl, opt_successCallback, opt_errorCallback, opt_xsrfToken, opt_project) {\n  if (ee.ready_ != ee.InitState.READY || opt_baseurl || opt_tileurl) {\n    var isAsynchronous = null != opt_successCallback;\n    if (opt_errorCallback) {\n      if (isAsynchronous) {\n        ee.errorCallbacks_.push(opt_errorCallback);\n      } else {\n        throw Error(\"Can't pass an error callback without a success callback.\");\n      }\n    }\n    if (ee.ready_ == ee.InitState.LOADING && isAsynchronous) {\n      ee.successCallbacks_.push(opt_successCallback);\n    } else {\n      if (ee.ready_ = ee.InitState.LOADING, ee.data.initialize(opt_baseurl, opt_tileurl, opt_xsrfToken, opt_project), isAsynchronous) {\n        ee.successCallbacks_.push(opt_successCallback), ee.ApiFunction.initialize(ee.initializationSuccess_, ee.initializationFailure_);\n      } else {\n        try {\n          ee.ApiFunction.initialize(), ee.initializationSuccess_();\n        } catch (e) {\n          throw ee.initializationFailure_(e), e;\n        }\n      }\n    }\n  } else {\n    opt_successCallback && opt_successCallback();\n  }\n};\ngoog.exportSymbol(\"ee.initialize\", ee.initialize);\nee.reset = function() {\n  ee.ready_ = ee.InitState.NOT_READY;\n  ee.data.reset();\n  ee.ApiFunction.reset();\n  ee.Date.reset();\n  ee.Dictionary.reset();\n  ee.Element.reset();\n  ee.Image.reset();\n  ee.Feature.reset();\n  ee.Collection.reset();\n  ee.ImageCollection.reset();\n  ee.FeatureCollection.reset();\n  ee.Filter.reset();\n  ee.Geometry.reset();\n  ee.List.reset();\n  ee.Number.reset();\n  ee.String.reset();\n  ee.Terrain.reset();\n  ee.resetGeneratedClasses_();\n  module$contents$goog$object_clear(ee.Algorithms);\n};\ngoog.exportSymbol(\"ee.reset\", ee.reset);\nee.InitState = {NOT_READY:\"not_ready\", LOADING:\"loading\", READY:\"ready\"};\ngoog.exportSymbol(\"ee.InitState\", ee.InitState);\ngoog.exportSymbol(\"ee.InitState.NOT_READY\", ee.InitState.NOT_READY);\ngoog.exportSymbol(\"ee.InitState.LOADING\", ee.InitState.LOADING);\ngoog.exportSymbol(\"ee.InitState.READY\", ee.InitState.READY);\nee.ready_ = ee.InitState.NOT_READY;\nee.successCallbacks_ = [];\nee.errorCallbacks_ = [];\nee.TILE_SIZE = 256;\ngoog.exportSymbol(\"ee.TILE_SIZE\", ee.TILE_SIZE);\nee.generatedClasses_ = [];\nee.Algorithms = {};\ngoog.exportSymbol(\"ee.Algorithms\", ee.Algorithms);\nee.ready = function() {\n  return ee.ready_;\n};\nee.call = function(func, var_args) {\n  \"string\" === typeof func && (func = new ee.ApiFunction(func));\n  var args = Array.prototype.slice.call(arguments, 1);\n  return ee.Function.prototype.call.apply(func, args);\n};\ngoog.exportSymbol(\"ee.call\", ee.call);\nee.apply = function(func, namedArgs) {\n  \"string\" === typeof func && (func = new ee.ApiFunction(func));\n  return func.apply(namedArgs);\n};\ngoog.exportSymbol(\"ee.apply\", ee.apply);\nee.initializationSuccess_ = function() {\n  if (ee.ready_ == ee.InitState.LOADING) {\n    try {\n      ee.Date.initialize(), ee.Dictionary.initialize(), ee.Element.initialize(), ee.Image.initialize(), ee.Feature.initialize(), ee.Collection.initialize(), ee.ImageCollection.initialize(), ee.FeatureCollection.initialize(), ee.Filter.initialize(), ee.Geometry.initialize(), ee.List.initialize(), ee.Number.initialize(), ee.String.initialize(), ee.Terrain.initialize(), ee.initializeGeneratedClasses_(), ee.initializeUnboundMethods_();\n    } catch (e) {\n      ee.initializationFailure_(e);\n      return;\n    }\n    ee.ready_ = ee.InitState.READY;\n    for (ee.errorCallbacks_ = []; 0 < ee.successCallbacks_.length;) {\n      ee.successCallbacks_.shift()();\n    }\n  }\n};\nee.initializationFailure_ = function(e) {\n  if (ee.ready_ == ee.InitState.LOADING) {\n    for (ee.ready_ = ee.InitState.NOT_READY, ee.successCallbacks_ = []; 0 < ee.errorCallbacks_.length;) {\n      ee.errorCallbacks_.shift()(e);\n    }\n  }\n};\nee.promote_ = function(arg, klass) {\n  if (null === arg) {\n    return null;\n  }\n  if (void 0 !== arg) {\n    var exportedEE = goog.global.ee;\n    switch(klass) {\n      case \"Image\":\n        return new ee.Image(arg);\n      case \"Feature\":\n        return arg instanceof ee.Collection ? ee.ApiFunction._call(\"Feature\", ee.ApiFunction._call(\"Collection.geometry\", arg)) : new ee.Feature(arg);\n      case \"Element\":\n        if (arg instanceof ee.Element) {\n          return arg;\n        }\n        if (arg instanceof ee.Geometry) {\n          return new ee.Feature(arg);\n        }\n        if (arg instanceof ee.ComputedObject) {\n          return new ee.Element(arg.func, arg.args, arg.varName);\n        }\n        throw Error(\"Cannot convert \" + arg + \" to Element.\");\n      case \"Geometry\":\n        return arg instanceof ee.FeatureCollection ? ee.ApiFunction._call(\"Collection.geometry\", arg) : new ee.Geometry(arg);\n      case \"FeatureCollection\":\n      case \"Collection\":\n        return arg instanceof ee.Collection ? arg : new ee.FeatureCollection(arg);\n      case \"ImageCollection\":\n        return new ee.ImageCollection(arg);\n      case \"Filter\":\n        return new ee.Filter(arg);\n      case \"Algorithm\":\n        if (\"string\" === typeof arg) {\n          return new ee.ApiFunction(arg);\n        }\n        if (\"function\" === typeof arg) {\n          return ee.CustomFunction.create(arg, \"Object\", module$contents$goog$array_repeat(\"Object\", arg.length));\n        }\n        if (arg instanceof ee.Encodable) {\n          return arg;\n        }\n        throw Error(\"Argument is not a function: \" + arg);\n      case \"String\":\n        return ee.Types.isString(arg) || arg instanceof ee.String || arg instanceof ee.ComputedObject ? new ee.String(arg) : arg;\n      case \"Dictionary\":\n        return ee.Types.isRegularObject(arg) ? arg : new ee.Dictionary(arg);\n      case \"List\":\n        return new ee.List(arg);\n      case \"Number\":\n      case \"Float\":\n      case \"Long\":\n      case \"Integer\":\n      case \"Short\":\n      case \"Byte\":\n        return new ee.Number(arg);\n      default:\n        if (klass in exportedEE) {\n          var ctor = ee.ApiFunction.lookupInternal(klass);\n          if (arg instanceof exportedEE[klass]) {\n            return arg;\n          }\n          if (ctor) {\n            return new exportedEE[klass](arg);\n          }\n          if (\"string\" === typeof arg) {\n            if (arg in exportedEE[klass]) {\n              return exportedEE[klass][arg].call();\n            }\n            throw Error(\"Unknown algorithm: \" + klass + \".\" + arg);\n          }\n          return new exportedEE[klass](arg);\n        }\n        return arg;\n    }\n  }\n};\nee.initializeUnboundMethods_ = function() {\n  var unbound = ee.ApiFunction.unboundFunctions();\n  module$contents$goog$object_getKeys(unbound).sort().forEach(function(name) {\n    var func = unbound[name], signature = func.getSignature();\n    if (!signature.hidden) {\n      var nameParts = name.split(\".\"), target = ee.Algorithms;\n      for (target.signature = {}; 1 < nameParts.length;) {\n        var first = nameParts[0];\n        first in target || (target[first] = {signature:{}});\n        target = target[first];\n        nameParts = module$contents$goog$array_slice(nameParts, 1);\n      }\n      var bound = function(var_args) {\n        return func.callOrApply(void 0, Array.prototype.slice.call(arguments, 0));\n      };\n      bound.signature = signature;\n      bound.toString = goog.bind(func.toString, func);\n      target[nameParts[0]] = bound;\n    }\n  });\n};\nee.initializeGeneratedClasses_ = function() {\n  var signatures = ee.ApiFunction.allSignatures(), names = {}, returnTypes = {}, sig;\n  for (sig in signatures) {\n    var type = -1 != sig.indexOf(\".\") ? sig.slice(0, sig.indexOf(\".\")) : sig;\n    names[type] = !0;\n    var rtype = signatures[sig].returns.replace(/<.*>/, \"\");\n    returnTypes[rtype] = !0;\n  }\n  var exportedEE = goog.global.ee, name;\n  for (name in names) {\n    name in returnTypes && !(name in exportedEE) && (exportedEE[name] = ee.makeClass_(name), ee.generatedClasses_.push(name), signatures[name] ? (exportedEE[name].signature = signatures[name], exportedEE[name].signature.isConstructor = !0, ee.ApiFunction.boundSignatures_[name] = !0) : exportedEE[name].signature = {});\n  }\n  ee.Types.registerClasses(exportedEE);\n};\nee.resetGeneratedClasses_ = function() {\n  for (var exportedEE = goog.global.ee, i = 0; i < ee.generatedClasses_.length; i++) {\n    var name = ee.generatedClasses_[i];\n    ee.ApiFunction.clearApi(exportedEE[name]);\n    delete exportedEE[name];\n  }\n  ee.generatedClasses_ = [];\n  ee.Types.registerClasses(exportedEE);\n};\nee.makeClass_ = function(name) {\n  var target = function(var_args) {\n    var klass = goog.global.ee[name], args = Array.prototype.slice.call(arguments), onlyOneArg = 1 == args.length;\n    if (onlyOneArg && args[0] instanceof klass) {\n      return args[0];\n    }\n    if (!(this instanceof klass)) {\n      return ee.ComputedObject.construct(klass, args);\n    }\n    var ctor = ee.ApiFunction.lookupInternal(name), firstArgIsPrimitive = !(args[0] instanceof ee.ComputedObject), shouldUseConstructor = !1;\n    ctor && (onlyOneArg ? firstArgIsPrimitive ? shouldUseConstructor = !0 : args[0].func && args[0].func.getSignature().returns == ctor.getSignature().returns || (shouldUseConstructor = !0) : shouldUseConstructor = !0);\n    if (shouldUseConstructor) {\n      var namedArgs = ee.Types.useKeywordArgs(args, ctor.getSignature()) ? args[0] : ctor.nameArgs(args);\n      ee.ComputedObject.call(this, ctor, ctor.promoteArgs(namedArgs));\n    } else {\n      if (!onlyOneArg) {\n        throw Error(\"Too many arguments for ee.\" + name + \"(): \" + args);\n      }\n      if (firstArgIsPrimitive) {\n        throw Error(\"Invalid argument for ee.\" + name + \"(): \" + args + \". Must be a ComputedObject.\");\n      }\n      var theOneArg = args[0];\n      ee.ComputedObject.call(this, theOneArg.func, theOneArg.args, theOneArg.varName);\n    }\n  };\n  goog.inherits(target, ee.ComputedObject);\n  target.prototype.name = function() {\n    return name;\n  };\n  ee.ApiFunction.importApi(target, name, name);\n  return target;\n};\nee.Function.registerPromoter(ee.promote_);\nee.FloatTileOverlay = function(url, mapId, token) {\n  ee.AbstractOverlay.call(this, url, mapId, token);\n  this.tileSize = new google.maps.Size(ee.FloatTileOverlay.TILE_EDGE_LENGTH, ee.FloatTileOverlay.TILE_EDGE_LENGTH);\n  this.floatTiles_ = new goog.structs.Map();\n  this.floatTileDivs_ = new goog.structs.Map();\n};\n$jscomp.inherits(ee.FloatTileOverlay, ee.AbstractOverlay);\nee.FloatTileOverlay.prototype.getTile = function(coord, zoom, ownerDocument) {\n  var tileId = this.getTileId(coord, zoom), src = [this.url, tileId].join(\"/\") + \"?token=\" + this.token, uniqueTileId = [tileId, this.tileCounter, this.token].join(\"/\");\n  this.tilesLoading.push(uniqueTileId);\n  this.tileCounter += 1;\n  var div = goog.dom.createDom(goog.dom.TagName.DIV), floatTile = this.loadFloatTile_(src, coord, uniqueTileId, div);\n  this.dispatchTileEvent_();\n  return div;\n};\nee.FloatTileOverlay.prototype.loadFloatTile_ = function(tileUrl, coord, tileId, div) {\n  var tileRequest = goog.net.XmlHttp();\n  tileRequest.open(\"GET\", tileUrl, !0);\n  tileRequest.responseType = \"arraybuffer\";\n  tileRequest.onreadystatechange = goog.bind(function() {\n    if (tileRequest.readyState === XMLHttpRequest.DONE && 200 === tileRequest.status) {\n      var tileResponse = tileRequest.response;\n      if (tileResponse) {\n        var floatBuffer = new Float32Array(tileResponse);\n        this.handleFloatTileLoaded_(floatBuffer, coord, tileId, div);\n      } else {\n        throw this.tilesFailed.add(tileId), Error(\"Unable to request floating point array buffers.\");\n      }\n    }\n  }, this);\n  tileRequest.send();\n};\nee.FloatTileOverlay.prototype.handleFloatTileLoaded_ = function(floatTile, coord, tileId, div) {\n  this.floatTiles_.set(coord, floatTile);\n  this.floatTileDivs_.set(coord, div);\n  module$contents$goog$array_remove(this.tilesLoading, tileId);\n  this.dispatchTileEvent_();\n};\nee.FloatTileOverlay.prototype.getAllFloatTiles = function() {\n  return this.floatTiles_;\n};\nee.FloatTileOverlay.prototype.getAllFloatTileDivs = function() {\n  return this.floatTileDivs_;\n};\nee.FloatTileOverlay.prototype.getLoadedFloatTilesCount = function() {\n  return this.floatTiles_.getCount();\n};\nee.FloatTileOverlay.prototype.dispatchTileEvent_ = function() {\n  this.dispatchEvent(new ee.TileEvent(this.tilesLoading.length));\n};\nee.FloatTileOverlay.prototype.disposeInternal = function() {\n  this.floatTileDivs_ = this.floatTiles_ = null;\n  ee.AbstractOverlay.prototype.disposeInternal.call(this);\n};\ngoog.exportSymbol(\"ee.FloatTileOverlay\", ee.FloatTileOverlay);\nee.FloatTileOverlay.TILE_EDGE_LENGTH = 256;\nee.layers = {};\nvar module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats = function(uniqueId) {\n  this.statsByZoom_ = new Map();\n  this.uniqueId_ = uniqueId;\n};\nmodule$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.addTileStats = function(start, end, zoom) {\n  this.getStatsForZoom_(zoom).tileLatencies.push(end - start);\n};\nmodule$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.incrementThrottleCounter = function(zoom) {\n  this.getStatsForZoom_(zoom).throttleCount++;\n};\nmodule$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.incrementErrorCounter = function(zoom) {\n  this.getStatsForZoom_(zoom).errorCount++;\n};\nmodule$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.clear = function() {\n  this.statsByZoom_.clear();\n};\nmodule$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.hasData = function() {\n  return 0 < this.statsByZoom_.size;\n};\nmodule$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.getSummaryList = function() {\n  var $jscomp$this = this, summaryList = [];\n  this.statsByZoom_.forEach(function(stats, zoom) {\n    return summaryList.push({layerId:$jscomp$this.uniqueId_, zoomLevel:zoom, tileLatencies:stats.tileLatencies, throttleCount:stats.throttleCount, errorCount:stats.errorCount,});\n  });\n  return summaryList;\n};\nmodule$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.prototype.getStatsForZoom_ = function(zoom) {\n  this.statsByZoom_.has(zoom) || this.statsByZoom_.set(zoom, {throttleCount:0, errorCount:0, tileLatencies:[],});\n  return this.statsByZoom_.get(zoom);\n};\nmodule$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.LayerStatsForZoomLevel = function() {\n};\nmodule$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats.Summary = function() {\n};\nee.layers.AbstractOverlayStats = module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats;\ngoog.events.EventHandler = function(opt_scope) {\n  goog.Disposable.call(this);\n  this.handler_ = opt_scope;\n  this.keys_ = {};\n};\ngoog.inherits(goog.events.EventHandler, goog.Disposable);\ngoog.events.EventHandler.typeArray_ = [];\ngoog.events.EventHandler.prototype.listen = function(src, type, opt_fn, opt_options) {\n  return this.listen_(src, type, opt_fn, opt_options);\n};\ngoog.events.EventHandler.prototype.listenWithScope = function(src, type, fn, options, scope) {\n  return this.listen_(src, type, fn, options, scope);\n};\ngoog.events.EventHandler.prototype.listen_ = function(src, type, opt_fn, opt_options, opt_scope) {\n  Array.isArray(type) || (type && (goog.events.EventHandler.typeArray_[0] = type.toString()), type = goog.events.EventHandler.typeArray_);\n  for (var i = 0; i < type.length; i++) {\n    var listenerObj = goog.events.listen(src, type[i], opt_fn || this.handleEvent, opt_options || !1, opt_scope || this.handler_ || this);\n    if (!listenerObj) {\n      break;\n    }\n    this.keys_[listenerObj.key] = listenerObj;\n  }\n  return this;\n};\ngoog.events.EventHandler.prototype.listenOnce = function(src, type, opt_fn, opt_options) {\n  return this.listenOnce_(src, type, opt_fn, opt_options);\n};\ngoog.events.EventHandler.prototype.listenOnceWithScope = function(src, type, fn, capture, scope) {\n  return this.listenOnce_(src, type, fn, capture, scope);\n};\ngoog.events.EventHandler.prototype.listenOnce_ = function(src, type, opt_fn, opt_options, opt_scope) {\n  if (Array.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      this.listenOnce_(src, type[i], opt_fn, opt_options, opt_scope);\n    }\n  } else {\n    var listenerObj = goog.events.listenOnce(src, type, opt_fn || this.handleEvent, opt_options, opt_scope || this.handler_ || this);\n    if (!listenerObj) {\n      return this;\n    }\n    this.keys_[listenerObj.key] = listenerObj;\n  }\n  return this;\n};\ngoog.events.EventHandler.prototype.listenWithWrapper = function(src, wrapper, listener, opt_capt) {\n  return this.listenWithWrapper_(src, wrapper, listener, opt_capt);\n};\ngoog.events.EventHandler.prototype.listenWithWrapperAndScope = function(src, wrapper, listener, capture, scope) {\n  return this.listenWithWrapper_(src, wrapper, listener, capture, scope);\n};\ngoog.events.EventHandler.prototype.listenWithWrapper_ = function(src, wrapper, listener, opt_capt, opt_scope) {\n  wrapper.listen(src, listener, opt_capt, opt_scope || this.handler_ || this, this);\n  return this;\n};\ngoog.events.EventHandler.prototype.getListenerCount = function() {\n  var count = 0, key;\n  for (key in this.keys_) {\n    Object.prototype.hasOwnProperty.call(this.keys_, key) && count++;\n  }\n  return count;\n};\ngoog.events.EventHandler.prototype.unlisten = function(src, type, opt_fn, opt_options, opt_scope) {\n  if (Array.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      this.unlisten(src, type[i], opt_fn, opt_options, opt_scope);\n    }\n  } else {\n    var listener = goog.events.getListener(src, type, opt_fn || this.handleEvent, goog.isObject(opt_options) ? !!opt_options.capture : !!opt_options, opt_scope || this.handler_ || this);\n    listener && (goog.events.unlistenByKey(listener), delete this.keys_[listener.key]);\n  }\n  return this;\n};\ngoog.events.EventHandler.prototype.unlistenWithWrapper = function(src, wrapper, listener, opt_capt, opt_scope) {\n  wrapper.unlisten(src, listener, opt_capt, opt_scope || this.handler_ || this, this);\n  return this;\n};\ngoog.events.EventHandler.prototype.removeAll = function() {\n  module$contents$goog$object_forEach(this.keys_, function(listenerObj, key) {\n    this.keys_.hasOwnProperty(key) && goog.events.unlistenByKey(listenerObj);\n  }, this);\n  this.keys_ = {};\n};\ngoog.events.EventHandler.prototype.disposeInternal = function() {\n  goog.events.EventHandler.superClass_.disposeInternal.call(this);\n  this.removeAll();\n};\ngoog.events.EventHandler.prototype.handleEvent = function(e) {\n  throw Error(\"EventHandler.handleEvent not implemented\");\n};\ngoog.fs.DOMErrorLike = function() {\n};\ngoog.fs.Error = function(error, action) {\n  if (void 0 !== error.name) {\n    this.name = error.name, this.code = goog.fs.Error.getCodeFromName_(error.name);\n  } else {\n    var code = goog.asserts.assertNumber(error.code);\n    this.code = code;\n    this.name = goog.fs.Error.getNameFromCode_(code);\n  }\n  module$contents$goog$debug$Error_DebugError.call(this, goog.string.subs(\"%s %s\", this.name, action));\n};\ngoog.inherits(goog.fs.Error, module$contents$goog$debug$Error_DebugError);\ngoog.fs.Error.ErrorName = {ABORT:\"AbortError\", ENCODING:\"EncodingError\", INVALID_MODIFICATION:\"InvalidModificationError\", INVALID_STATE:\"InvalidStateError\", NOT_FOUND:\"NotFoundError\", NOT_READABLE:\"NotReadableError\", NO_MODIFICATION_ALLOWED:\"NoModificationAllowedError\", PATH_EXISTS:\"PathExistsError\", QUOTA_EXCEEDED:\"QuotaExceededError\", SECURITY:\"SecurityError\", SYNTAX:\"SyntaxError\", TYPE_MISMATCH:\"TypeMismatchError\"};\ngoog.fs.Error.ErrorCode = {NOT_FOUND:1, SECURITY:2, ABORT:3, NOT_READABLE:4, ENCODING:5, NO_MODIFICATION_ALLOWED:6, INVALID_STATE:7, SYNTAX:8, INVALID_MODIFICATION:9, QUOTA_EXCEEDED:10, TYPE_MISMATCH:11, PATH_EXISTS:12};\ngoog.fs.Error.getNameFromCode_ = function(code) {\n  var name = module$contents$goog$object_findKey(goog.fs.Error.NameToCodeMap_, function(c) {\n    return code == c;\n  });\n  if (void 0 === name) {\n    throw Error(\"Invalid code: \" + code);\n  }\n  return name;\n};\ngoog.fs.Error.getCodeFromName_ = function(name) {\n  return goog.fs.Error.NameToCodeMap_[name];\n};\nvar $jscomp$compprop4 = {};\ngoog.fs.Error.NameToCodeMap_ = ($jscomp$compprop4[goog.fs.Error.ErrorName.ABORT] = goog.fs.Error.ErrorCode.ABORT, $jscomp$compprop4[goog.fs.Error.ErrorName.ENCODING] = goog.fs.Error.ErrorCode.ENCODING, $jscomp$compprop4[goog.fs.Error.ErrorName.INVALID_MODIFICATION] = goog.fs.Error.ErrorCode.INVALID_MODIFICATION, $jscomp$compprop4[goog.fs.Error.ErrorName.INVALID_STATE] = goog.fs.Error.ErrorCode.INVALID_STATE, $jscomp$compprop4[goog.fs.Error.ErrorName.NOT_FOUND] = goog.fs.Error.ErrorCode.NOT_FOUND, \n$jscomp$compprop4[goog.fs.Error.ErrorName.NOT_READABLE] = goog.fs.Error.ErrorCode.NOT_READABLE, $jscomp$compprop4[goog.fs.Error.ErrorName.NO_MODIFICATION_ALLOWED] = goog.fs.Error.ErrorCode.NO_MODIFICATION_ALLOWED, $jscomp$compprop4[goog.fs.Error.ErrorName.PATH_EXISTS] = goog.fs.Error.ErrorCode.PATH_EXISTS, $jscomp$compprop4[goog.fs.Error.ErrorName.QUOTA_EXCEEDED] = goog.fs.Error.ErrorCode.QUOTA_EXCEEDED, $jscomp$compprop4[goog.fs.Error.ErrorName.SECURITY] = goog.fs.Error.ErrorCode.SECURITY, $jscomp$compprop4[goog.fs.Error.ErrorName.SYNTAX] = \ngoog.fs.Error.ErrorCode.SYNTAX, $jscomp$compprop4[goog.fs.Error.ErrorName.TYPE_MISMATCH] = goog.fs.Error.ErrorCode.TYPE_MISMATCH, $jscomp$compprop4);\ngoog.fs.ProgressEvent = function(event, target) {\n  goog.events.Event.call(this, event.type, target);\n  this.event_ = event;\n};\ngoog.inherits(goog.fs.ProgressEvent, goog.events.Event);\ngoog.fs.ProgressEvent.prototype.isLengthComputable = function() {\n  return this.event_.lengthComputable;\n};\ngoog.fs.ProgressEvent.prototype.getLoaded = function() {\n  return this.event_.loaded;\n};\ngoog.fs.ProgressEvent.prototype.getTotal = function() {\n  return this.event_.total;\n};\ngoog.fs.FileReader = function() {\n  goog.events.EventTarget.call(this);\n  this.reader_ = new FileReader();\n  this.reader_.onloadstart = goog.bind(this.dispatchProgressEvent_, this);\n  this.reader_.onprogress = goog.bind(this.dispatchProgressEvent_, this);\n  this.reader_.onload = goog.bind(this.dispatchProgressEvent_, this);\n  this.reader_.onabort = goog.bind(this.dispatchProgressEvent_, this);\n  this.reader_.onerror = goog.bind(this.dispatchProgressEvent_, this);\n  this.reader_.onloadend = goog.bind(this.dispatchProgressEvent_, this);\n};\ngoog.inherits(goog.fs.FileReader, goog.events.EventTarget);\ngoog.fs.FileReader.ReadyState = {INIT:0, LOADING:1, DONE:2};\ngoog.fs.FileReader.EventType = {LOAD_START:\"loadstart\", PROGRESS:\"progress\", LOAD:\"load\", ABORT:\"abort\", ERROR:\"error\", LOAD_END:\"loadend\"};\ngoog.fs.FileReader.prototype.abort = function() {\n  try {\n    this.reader_.abort();\n  } catch (e) {\n    throw new goog.fs.Error(e, \"aborting read\");\n  }\n};\ngoog.fs.FileReader.prototype.getReadyState = function() {\n  return this.reader_.readyState;\n};\ngoog.fs.FileReader.prototype.getResult = function() {\n  return this.reader_.result;\n};\ngoog.fs.FileReader.prototype.getError = function() {\n  return this.reader_.error && new goog.fs.Error(this.reader_.error, \"reading file\");\n};\ngoog.fs.FileReader.prototype.dispatchProgressEvent_ = function(event) {\n  this.dispatchEvent(new goog.fs.ProgressEvent(event, this));\n};\ngoog.fs.FileReader.prototype.disposeInternal = function() {\n  goog.fs.FileReader.superClass_.disposeInternal.call(this);\n  delete this.reader_;\n};\ngoog.fs.FileReader.prototype.readAsBinaryString = function(blob) {\n  this.reader_.readAsBinaryString(blob);\n};\ngoog.fs.FileReader.readAsBinaryString = function(blob) {\n  var reader = new goog.fs.FileReader(), d = goog.fs.FileReader.createDeferred_(reader);\n  reader.readAsBinaryString(blob);\n  return d;\n};\ngoog.fs.FileReader.prototype.readAsArrayBuffer = function(blob) {\n  this.reader_.readAsArrayBuffer(blob);\n};\ngoog.fs.FileReader.readAsArrayBuffer = function(blob) {\n  var reader = new goog.fs.FileReader(), d = goog.fs.FileReader.createDeferred_(reader);\n  reader.readAsArrayBuffer(blob);\n  return d;\n};\ngoog.fs.FileReader.prototype.readAsText = function(blob, opt_encoding) {\n  this.reader_.readAsText(blob, opt_encoding);\n};\ngoog.fs.FileReader.readAsText = function(blob, opt_encoding) {\n  var reader = new goog.fs.FileReader(), d = goog.fs.FileReader.createDeferred_(reader);\n  reader.readAsText(blob, opt_encoding);\n  return d;\n};\ngoog.fs.FileReader.prototype.readAsDataUrl = function(blob) {\n  this.reader_.readAsDataURL(blob);\n};\ngoog.fs.FileReader.readAsDataUrl = function(blob) {\n  var reader = new goog.fs.FileReader(), d = goog.fs.FileReader.createDeferred_(reader);\n  reader.readAsDataUrl(blob);\n  return d;\n};\ngoog.fs.FileReader.createDeferred_ = function(reader) {\n  var deferred = new goog.async.Deferred();\n  reader.listen(goog.fs.FileReader.EventType.LOAD_END, goog.partial(function(d, r, e) {\n    var result = r.getResult(), error = r.getError();\n    null == result || error ? d.errback(error) : d.callback(result);\n    r.dispose();\n  }, deferred, reader));\n  return deferred;\n};\ngoog.dom.vendor = {};\ngoog.dom.vendor.getVendorJsPrefix = function() {\n  return goog.userAgent.WEBKIT ? \"Webkit\" : goog.userAgent.GECKO ? \"Moz\" : goog.userAgent.IE ? \"ms\" : null;\n};\ngoog.dom.vendor.getVendorPrefix = function() {\n  return goog.userAgent.WEBKIT ? \"-webkit\" : goog.userAgent.GECKO ? \"-moz\" : goog.userAgent.IE ? \"-ms\" : null;\n};\ngoog.dom.vendor.getPrefixedPropertyName = function(propertyName, opt_object) {\n  if (opt_object && propertyName in opt_object) {\n    return propertyName;\n  }\n  var prefix = goog.dom.vendor.getVendorJsPrefix();\n  if (prefix) {\n    prefix = prefix.toLowerCase();\n    var prefixedPropertyName = prefix + goog.string.toTitleCase(propertyName);\n    return void 0 === opt_object || prefixedPropertyName in opt_object ? prefixedPropertyName : null;\n  }\n  return null;\n};\ngoog.dom.vendor.getPrefixedEventType = function(eventType) {\n  return ((goog.dom.vendor.getVendorJsPrefix() || \"\") + eventType).toLowerCase();\n};\ngoog.math.Box = function(top, right, bottom, left) {\n  this.top = top;\n  this.right = right;\n  this.bottom = bottom;\n  this.left = left;\n};\ngoog.math.Box.boundingBox = function(var_args) {\n  for (var box = new goog.math.Box(arguments[0].y, arguments[0].x, arguments[0].y, arguments[0].x), i = 1; i < arguments.length; i++) {\n    box.expandToIncludeCoordinate(arguments[i]);\n  }\n  return box;\n};\ngoog.math.Box.prototype.getWidth = function() {\n  return this.right - this.left;\n};\ngoog.math.Box.prototype.getHeight = function() {\n  return this.bottom - this.top;\n};\ngoog.math.Box.prototype.clone = function() {\n  return new goog.math.Box(this.top, this.right, this.bottom, this.left);\n};\ngoog.DEBUG && (goog.math.Box.prototype.toString = function() {\n  return \"(\" + this.top + \"t, \" + this.right + \"r, \" + this.bottom + \"b, \" + this.left + \"l)\";\n});\ngoog.math.Box.prototype.contains = function(other) {\n  return goog.math.Box.contains(this, other);\n};\ngoog.math.Box.prototype.expand = function(top, opt_right, opt_bottom, opt_left) {\n  goog.isObject(top) ? (this.top -= top.top, this.right += top.right, this.bottom += top.bottom, this.left -= top.left) : (this.top -= top, this.right += Number(opt_right), this.bottom += Number(opt_bottom), this.left -= Number(opt_left));\n  return this;\n};\ngoog.math.Box.prototype.expandToInclude = function(box) {\n  this.left = Math.min(this.left, box.left);\n  this.top = Math.min(this.top, box.top);\n  this.right = Math.max(this.right, box.right);\n  this.bottom = Math.max(this.bottom, box.bottom);\n};\ngoog.math.Box.prototype.expandToIncludeCoordinate = function(coord) {\n  this.top = Math.min(this.top, coord.y);\n  this.right = Math.max(this.right, coord.x);\n  this.bottom = Math.max(this.bottom, coord.y);\n  this.left = Math.min(this.left, coord.x);\n};\ngoog.math.Box.equals = function(a, b) {\n  return a == b ? !0 : a && b ? a.top == b.top && a.right == b.right && a.bottom == b.bottom && a.left == b.left : !1;\n};\ngoog.math.Box.contains = function(box, other) {\n  return box && other ? other instanceof goog.math.Box ? other.left >= box.left && other.right <= box.right && other.top >= box.top && other.bottom <= box.bottom : other.x >= box.left && other.x <= box.right && other.y >= box.top && other.y <= box.bottom : !1;\n};\ngoog.math.Box.relativePositionX = function(box, coord) {\n  return coord.x < box.left ? coord.x - box.left : coord.x > box.right ? coord.x - box.right : 0;\n};\ngoog.math.Box.relativePositionY = function(box, coord) {\n  return coord.y < box.top ? coord.y - box.top : coord.y > box.bottom ? coord.y - box.bottom : 0;\n};\ngoog.math.Box.distance = function(box, coord) {\n  var x = goog.math.Box.relativePositionX(box, coord), y = goog.math.Box.relativePositionY(box, coord);\n  return Math.sqrt(x * x + y * y);\n};\ngoog.math.Box.intersects = function(a, b) {\n  return a.left <= b.right && b.left <= a.right && a.top <= b.bottom && b.top <= a.bottom;\n};\ngoog.math.Box.intersectsWithPadding = function(a, b, padding) {\n  return a.left <= b.right + padding && b.left <= a.right + padding && a.top <= b.bottom + padding && b.top <= a.bottom + padding;\n};\ngoog.math.Box.prototype.ceil = function() {\n  this.top = Math.ceil(this.top);\n  this.right = Math.ceil(this.right);\n  this.bottom = Math.ceil(this.bottom);\n  this.left = Math.ceil(this.left);\n  return this;\n};\ngoog.math.Box.prototype.floor = function() {\n  this.top = Math.floor(this.top);\n  this.right = Math.floor(this.right);\n  this.bottom = Math.floor(this.bottom);\n  this.left = Math.floor(this.left);\n  return this;\n};\ngoog.math.Box.prototype.round = function() {\n  this.top = Math.round(this.top);\n  this.right = Math.round(this.right);\n  this.bottom = Math.round(this.bottom);\n  this.left = Math.round(this.left);\n  return this;\n};\ngoog.math.Box.prototype.translate = function(tx, opt_ty) {\n  tx instanceof goog.math.Coordinate ? (this.left += tx.x, this.right += tx.x, this.top += tx.y, this.bottom += tx.y) : (goog.asserts.assertNumber(tx), this.left += tx, this.right += tx, \"number\" === typeof opt_ty && (this.top += opt_ty, this.bottom += opt_ty));\n  return this;\n};\ngoog.math.Box.prototype.scale = function(sx, opt_sy) {\n  var sy = \"number\" === typeof opt_sy ? opt_sy : sx;\n  this.left *= sx;\n  this.right *= sx;\n  this.top *= sy;\n  this.bottom *= sy;\n  return this;\n};\ngoog.math.IRect = function() {\n};\ngoog.math.Rect = function(x, y, w, h) {\n  this.left = x;\n  this.top = y;\n  this.width = w;\n  this.height = h;\n};\ngoog.math.Rect.prototype.clone = function() {\n  return new goog.math.Rect(this.left, this.top, this.width, this.height);\n};\ngoog.math.Rect.prototype.toBox = function() {\n  return new goog.math.Box(this.top, this.left + this.width, this.top + this.height, this.left);\n};\ngoog.math.Rect.createFromPositionAndSize = function(position, size) {\n  return new goog.math.Rect(position.x, position.y, size.width, size.height);\n};\ngoog.math.Rect.createFromBox = function(box) {\n  return new goog.math.Rect(box.left, box.top, box.right - box.left, box.bottom - box.top);\n};\ngoog.DEBUG && (goog.math.Rect.prototype.toString = function() {\n  return \"(\" + this.left + \", \" + this.top + \" - \" + this.width + \"w x \" + this.height + \"h)\";\n});\ngoog.math.Rect.equals = function(a, b) {\n  return a == b ? !0 : a && b ? a.left == b.left && a.width == b.width && a.top == b.top && a.height == b.height : !1;\n};\ngoog.math.Rect.prototype.intersection = function(rect) {\n  var x0 = Math.max(this.left, rect.left), x1 = Math.min(this.left + this.width, rect.left + rect.width);\n  if (x0 <= x1) {\n    var y0 = Math.max(this.top, rect.top), y1 = Math.min(this.top + this.height, rect.top + rect.height);\n    if (y0 <= y1) {\n      return this.left = x0, this.top = y0, this.width = x1 - x0, this.height = y1 - y0, !0;\n    }\n  }\n  return !1;\n};\ngoog.math.Rect.intersection = function(a, b) {\n  var x0 = Math.max(a.left, b.left), x1 = Math.min(a.left + a.width, b.left + b.width);\n  if (x0 <= x1) {\n    var y0 = Math.max(a.top, b.top), y1 = Math.min(a.top + a.height, b.top + b.height);\n    if (y0 <= y1) {\n      return new goog.math.Rect(x0, y0, x1 - x0, y1 - y0);\n    }\n  }\n  return null;\n};\ngoog.math.Rect.intersects = function(a, b) {\n  return a.left <= b.left + b.width && b.left <= a.left + a.width && a.top <= b.top + b.height && b.top <= a.top + a.height;\n};\ngoog.math.Rect.prototype.intersects = function(rect) {\n  return goog.math.Rect.intersects(this, rect);\n};\ngoog.math.Rect.difference = function(a, b) {\n  var intersection = goog.math.Rect.intersection(a, b);\n  if (!intersection || !intersection.height || !intersection.width) {\n    return [a.clone()];\n  }\n  var result = [], top = a.top, height = a.height, ar = a.left + a.width, ab = a.top + a.height, br = b.left + b.width, bb = b.top + b.height;\n  b.top > a.top && (result.push(new goog.math.Rect(a.left, a.top, a.width, b.top - a.top)), top = b.top, height -= b.top - a.top);\n  bb < ab && (result.push(new goog.math.Rect(a.left, bb, a.width, ab - bb)), height = bb - top);\n  b.left > a.left && result.push(new goog.math.Rect(a.left, top, b.left - a.left, height));\n  br < ar && result.push(new goog.math.Rect(br, top, ar - br, height));\n  return result;\n};\ngoog.math.Rect.prototype.difference = function(rect) {\n  return goog.math.Rect.difference(this, rect);\n};\ngoog.math.Rect.prototype.boundingRect = function(rect) {\n  var right = Math.max(this.left + this.width, rect.left + rect.width), bottom = Math.max(this.top + this.height, rect.top + rect.height);\n  this.left = Math.min(this.left, rect.left);\n  this.top = Math.min(this.top, rect.top);\n  this.width = right - this.left;\n  this.height = bottom - this.top;\n};\ngoog.math.Rect.boundingRect = function(a, b) {\n  if (!a || !b) {\n    return null;\n  }\n  var newRect = new goog.math.Rect(a.left, a.top, a.width, a.height);\n  newRect.boundingRect(b);\n  return newRect;\n};\ngoog.math.Rect.prototype.contains = function(another) {\n  return another instanceof goog.math.Coordinate ? another.x >= this.left && another.x <= this.left + this.width && another.y >= this.top && another.y <= this.top + this.height : this.left <= another.left && this.left + this.width >= another.left + another.width && this.top <= another.top && this.top + this.height >= another.top + another.height;\n};\ngoog.math.Rect.prototype.squaredDistance = function(point) {\n  var dx = point.x < this.left ? this.left - point.x : Math.max(point.x - (this.left + this.width), 0), dy = point.y < this.top ? this.top - point.y : Math.max(point.y - (this.top + this.height), 0);\n  return dx * dx + dy * dy;\n};\ngoog.math.Rect.prototype.distance = function(point) {\n  return Math.sqrt(this.squaredDistance(point));\n};\ngoog.math.Rect.prototype.getSize = function() {\n  return new goog.math.Size(this.width, this.height);\n};\ngoog.math.Rect.prototype.getTopLeft = function() {\n  return new goog.math.Coordinate(this.left, this.top);\n};\ngoog.math.Rect.prototype.getCenter = function() {\n  return new goog.math.Coordinate(this.left + this.width / 2, this.top + this.height / 2);\n};\ngoog.math.Rect.prototype.getBottomRight = function() {\n  return new goog.math.Coordinate(this.left + this.width, this.top + this.height);\n};\ngoog.math.Rect.prototype.ceil = function() {\n  this.left = Math.ceil(this.left);\n  this.top = Math.ceil(this.top);\n  this.width = Math.ceil(this.width);\n  this.height = Math.ceil(this.height);\n  return this;\n};\ngoog.math.Rect.prototype.floor = function() {\n  this.left = Math.floor(this.left);\n  this.top = Math.floor(this.top);\n  this.width = Math.floor(this.width);\n  this.height = Math.floor(this.height);\n  return this;\n};\ngoog.math.Rect.prototype.round = function() {\n  this.left = Math.round(this.left);\n  this.top = Math.round(this.top);\n  this.width = Math.round(this.width);\n  this.height = Math.round(this.height);\n  return this;\n};\ngoog.math.Rect.prototype.translate = function(tx, opt_ty) {\n  tx instanceof goog.math.Coordinate ? (this.left += tx.x, this.top += tx.y) : (this.left += goog.asserts.assertNumber(tx), \"number\" === typeof opt_ty && (this.top += opt_ty));\n  return this;\n};\ngoog.math.Rect.prototype.scale = function(sx, opt_sy) {\n  var sy = \"number\" === typeof opt_sy ? opt_sy : sx;\n  this.left *= sx;\n  this.width *= sx;\n  this.top *= sy;\n  this.height *= sy;\n  return this;\n};\ngoog.style = {};\ngoog.style.setStyle = function(element, style, opt_value) {\n  if (\"string\" === typeof style) {\n    goog.style.setStyle_(element, opt_value, style);\n  } else {\n    for (var key in style) {\n      goog.style.setStyle_(element, style[key], key);\n    }\n  }\n};\ngoog.style.setStyle_ = function(element, value, style) {\n  var propertyName = goog.style.getVendorJsStyleName_(element, style);\n  propertyName && (element.style[propertyName] = value);\n};\ngoog.style.styleNameCache_ = {};\ngoog.style.getVendorJsStyleName_ = function(element, style) {\n  var propertyName = goog.style.styleNameCache_[style];\n  if (!propertyName) {\n    var camelStyle = goog.string.toCamelCase(style);\n    propertyName = camelStyle;\n    if (void 0 === element.style[camelStyle]) {\n      var prefixedStyle = goog.dom.vendor.getVendorJsPrefix() + goog.string.toTitleCase(camelStyle);\n      void 0 !== element.style[prefixedStyle] && (propertyName = prefixedStyle);\n    }\n    goog.style.styleNameCache_[style] = propertyName;\n  }\n  return propertyName;\n};\ngoog.style.getVendorStyleName_ = function(element, style) {\n  var camelStyle = goog.string.toCamelCase(style);\n  if (void 0 === element.style[camelStyle]) {\n    var prefixedStyle = goog.dom.vendor.getVendorJsPrefix() + goog.string.toTitleCase(camelStyle);\n    if (void 0 !== element.style[prefixedStyle]) {\n      return goog.dom.vendor.getVendorPrefix() + \"-\" + style;\n    }\n  }\n  return style;\n};\ngoog.style.getStyle = function(element, property) {\n  var styleValue = element.style[goog.string.toCamelCase(property)];\n  return \"undefined\" !== typeof styleValue ? styleValue : element.style[goog.style.getVendorJsStyleName_(element, property)] || \"\";\n};\ngoog.style.getComputedStyle = function(element, property) {\n  var doc = goog.dom.getOwnerDocument(element);\n  if (doc.defaultView && doc.defaultView.getComputedStyle) {\n    var styles = doc.defaultView.getComputedStyle(element, null);\n    if (styles) {\n      return styles[property] || styles.getPropertyValue(property) || \"\";\n    }\n  }\n  return \"\";\n};\ngoog.style.getCascadedStyle = function(element, style) {\n  return element.currentStyle ? element.currentStyle[style] : null;\n};\ngoog.style.getStyle_ = function(element, style) {\n  return goog.style.getComputedStyle(element, style) || goog.style.getCascadedStyle(element, style) || element.style && element.style[style];\n};\ngoog.style.getComputedBoxSizing = function(element) {\n  return goog.style.getStyle_(element, \"boxSizing\") || goog.style.getStyle_(element, \"MozBoxSizing\") || goog.style.getStyle_(element, \"WebkitBoxSizing\") || null;\n};\ngoog.style.getComputedPosition = function(element) {\n  return goog.style.getStyle_(element, \"position\");\n};\ngoog.style.getBackgroundColor = function(element) {\n  return goog.style.getStyle_(element, \"backgroundColor\");\n};\ngoog.style.getComputedOverflowX = function(element) {\n  return goog.style.getStyle_(element, \"overflowX\");\n};\ngoog.style.getComputedOverflowY = function(element) {\n  return goog.style.getStyle_(element, \"overflowY\");\n};\ngoog.style.getComputedZIndex = function(element) {\n  return goog.style.getStyle_(element, \"zIndex\");\n};\ngoog.style.getComputedTextAlign = function(element) {\n  return goog.style.getStyle_(element, \"textAlign\");\n};\ngoog.style.getComputedCursor = function(element) {\n  return goog.style.getStyle_(element, \"cursor\");\n};\ngoog.style.getComputedTransform = function(element) {\n  var property = goog.style.getVendorStyleName_(element, \"transform\");\n  return goog.style.getStyle_(element, property) || goog.style.getStyle_(element, \"transform\");\n};\ngoog.style.setPosition = function(el, arg1, opt_arg2) {\n  if (arg1 instanceof goog.math.Coordinate) {\n    var x = arg1.x;\n    var y = arg1.y;\n  } else {\n    x = arg1, y = opt_arg2;\n  }\n  el.style.left = goog.style.getPixelStyleValue_(x, !1);\n  el.style.top = goog.style.getPixelStyleValue_(y, !1);\n};\ngoog.style.getPosition = function(element) {\n  return new goog.math.Coordinate(element.offsetLeft, element.offsetTop);\n};\ngoog.style.getClientViewportElement = function(opt_node) {\n  var doc = opt_node ? goog.dom.getOwnerDocument(opt_node) : goog.dom.getDocument();\n  return !goog.userAgent.IE || goog.userAgent.isDocumentModeOrHigher(9) || goog.dom.getDomHelper(doc).isCss1CompatMode() ? doc.documentElement : doc.body;\n};\ngoog.style.getViewportPageOffset = function(doc) {\n  var body = doc.body, documentElement = doc.documentElement;\n  return new goog.math.Coordinate(body.scrollLeft || documentElement.scrollLeft, body.scrollTop || documentElement.scrollTop);\n};\ngoog.style.getBoundingClientRect_ = function(el) {\n  try {\n    return el.getBoundingClientRect();\n  } catch (e) {\n    return {left:0, top:0, right:0, bottom:0};\n  }\n};\ngoog.style.getOffsetParent = function(element) {\n  if (goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(8)) {\n    return goog.asserts.assert(element && \"offsetParent\" in element), element.offsetParent;\n  }\n  for (var doc = goog.dom.getOwnerDocument(element), positionStyle = goog.style.getStyle_(element, \"position\"), skipStatic = \"fixed\" == positionStyle || \"absolute\" == positionStyle, parent = element.parentNode; parent && parent != doc; parent = parent.parentNode) {\n    if (parent.nodeType == goog.dom.NodeType.DOCUMENT_FRAGMENT && parent.host && (parent = parent.host), positionStyle = goog.style.getStyle_(parent, \"position\"), skipStatic = skipStatic && \"static\" == positionStyle && parent != doc.documentElement && parent != doc.body, !skipStatic && (parent.scrollWidth > parent.clientWidth || parent.scrollHeight > parent.clientHeight || \"fixed\" == positionStyle || \"absolute\" == positionStyle || \"relative\" == positionStyle)) {\n      return parent;\n    }\n  }\n  return null;\n};\ngoog.style.getVisibleRectForElement = function(element) {\n  for (var visibleRect = new goog.math.Box(0, Infinity, Infinity, 0), dom = goog.dom.getDomHelper(element), body = dom.getDocument().body, documentElement = dom.getDocument().documentElement, scrollEl = dom.getDocumentScrollElement(), el = element; el = goog.style.getOffsetParent(el);) {\n    if (!(goog.userAgent.IE && 0 == el.clientWidth || goog.userAgent.WEBKIT && 0 == el.clientHeight && el == body) && el != body && el != documentElement && \"visible\" != goog.style.getStyle_(el, \"overflow\")) {\n      var pos = goog.style.getPageOffset(el), client = goog.style.getClientLeftTop(el);\n      pos.x += client.x;\n      pos.y += client.y;\n      visibleRect.top = Math.max(visibleRect.top, pos.y);\n      visibleRect.right = Math.min(visibleRect.right, pos.x + el.clientWidth);\n      visibleRect.bottom = Math.min(visibleRect.bottom, pos.y + el.clientHeight);\n      visibleRect.left = Math.max(visibleRect.left, pos.x);\n    }\n  }\n  var scrollX = scrollEl.scrollLeft, scrollY = scrollEl.scrollTop;\n  visibleRect.left = Math.max(visibleRect.left, scrollX);\n  visibleRect.top = Math.max(visibleRect.top, scrollY);\n  var winSize = dom.getViewportSize();\n  visibleRect.right = Math.min(visibleRect.right, scrollX + winSize.width);\n  visibleRect.bottom = Math.min(visibleRect.bottom, scrollY + winSize.height);\n  return 0 <= visibleRect.top && 0 <= visibleRect.left && visibleRect.bottom > visibleRect.top && visibleRect.right > visibleRect.left ? visibleRect : null;\n};\ngoog.style.getContainerOffsetToScrollInto = function(element, opt_container, opt_center) {\n  var container = opt_container || goog.dom.getDocumentScrollElement(), elementPos = goog.style.getPageOffset(element), containerPos = goog.style.getPageOffset(container), containerBorder = goog.style.getBorderBox(container);\n  if (container == goog.dom.getDocumentScrollElement()) {\n    var relX = elementPos.x - container.scrollLeft, relY = elementPos.y - container.scrollTop;\n    goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(10) && (relX += containerBorder.left, relY += containerBorder.top);\n  } else {\n    relX = elementPos.x - containerPos.x - containerBorder.left, relY = elementPos.y - containerPos.y - containerBorder.top;\n  }\n  var elementSize = goog.style.getSizeWithDisplay_(element), spaceX = container.clientWidth - elementSize.width, spaceY = container.clientHeight - elementSize.height, scrollLeft = container.scrollLeft, scrollTop = container.scrollTop;\n  opt_center ? (scrollLeft += relX - spaceX / 2, scrollTop += relY - spaceY / 2) : (scrollLeft += Math.min(relX, Math.max(relX - spaceX, 0)), scrollTop += Math.min(relY, Math.max(relY - spaceY, 0)));\n  return new goog.math.Coordinate(scrollLeft, scrollTop);\n};\ngoog.style.scrollIntoContainerView = function(element, opt_container, opt_center) {\n  var container = opt_container || goog.dom.getDocumentScrollElement(), offset = goog.style.getContainerOffsetToScrollInto(element, container, opt_center);\n  container.scrollLeft = offset.x;\n  container.scrollTop = offset.y;\n};\ngoog.style.getClientLeftTop = function(el) {\n  return new goog.math.Coordinate(el.clientLeft, el.clientTop);\n};\ngoog.style.getPageOffset = function(el) {\n  var doc = goog.dom.getOwnerDocument(el);\n  goog.asserts.assertObject(el, \"Parameter is required\");\n  var pos = new goog.math.Coordinate(0, 0), viewportElement = goog.style.getClientViewportElement(doc);\n  if (el == viewportElement) {\n    return pos;\n  }\n  var box = goog.style.getBoundingClientRect_(el), scrollCoord = goog.dom.getDomHelper(doc).getDocumentScroll();\n  pos.x = box.left + scrollCoord.x;\n  pos.y = box.top + scrollCoord.y;\n  return pos;\n};\ngoog.style.getPageOffsetLeft = function(el) {\n  return goog.style.getPageOffset(el).x;\n};\ngoog.style.getPageOffsetTop = function(el) {\n  return goog.style.getPageOffset(el).y;\n};\ngoog.style.getFramedPageOffset = function(el, relativeWin) {\n  var position = new goog.math.Coordinate(0, 0), currentWin = goog.dom.getWindow(goog.dom.getOwnerDocument(el));\n  if (!goog.reflect.canAccessProperty(currentWin, \"parent\")) {\n    return position;\n  }\n  var currentEl = el;\n  do {\n    var offset = currentWin == relativeWin ? goog.style.getPageOffset(currentEl) : goog.style.getClientPositionForElement_(goog.asserts.assert(currentEl));\n    position.x += offset.x;\n    position.y += offset.y;\n  } while (currentWin && currentWin != relativeWin && currentWin != currentWin.parent && (currentEl = currentWin.frameElement) && (currentWin = currentWin.parent));\n  return position;\n};\ngoog.style.translateRectForAnotherFrame = function(rect, origBase, newBase) {\n  if (origBase.getDocument() != newBase.getDocument()) {\n    var body = origBase.getDocument().body, pos = goog.style.getFramedPageOffset(body, newBase.getWindow());\n    pos = goog.math.Coordinate.difference(pos, goog.style.getPageOffset(body));\n    !goog.userAgent.IE || goog.userAgent.isDocumentModeOrHigher(9) || origBase.isCss1CompatMode() || (pos = goog.math.Coordinate.difference(pos, origBase.getDocumentScroll()));\n    rect.left += pos.x;\n    rect.top += pos.y;\n  }\n};\ngoog.style.getRelativePosition = function(a, b) {\n  var ap = goog.style.getClientPosition(a), bp = goog.style.getClientPosition(b);\n  return new goog.math.Coordinate(ap.x - bp.x, ap.y - bp.y);\n};\ngoog.style.getClientPositionForElement_ = function(el) {\n  var box = goog.style.getBoundingClientRect_(el);\n  return new goog.math.Coordinate(box.left, box.top);\n};\ngoog.style.getClientPosition = function(el) {\n  goog.asserts.assert(el);\n  if (el.nodeType == goog.dom.NodeType.ELEMENT) {\n    return goog.style.getClientPositionForElement_(el);\n  }\n  var targetEvent = el.changedTouches ? el.changedTouches[0] : el;\n  return new goog.math.Coordinate(targetEvent.clientX, targetEvent.clientY);\n};\ngoog.style.setPageOffset = function(el, x, opt_y) {\n  var cur = goog.style.getPageOffset(el);\n  x instanceof goog.math.Coordinate && (opt_y = x.y, x = x.x);\n  var dx = goog.asserts.assertNumber(x) - cur.x;\n  goog.style.setPosition(el, el.offsetLeft + dx, el.offsetTop + (Number(opt_y) - cur.y));\n};\ngoog.style.setSize = function(element, w, opt_h) {\n  if (w instanceof goog.math.Size) {\n    var h = w.height;\n    w = w.width;\n  } else {\n    if (void 0 == opt_h) {\n      throw Error(\"missing height argument\");\n    }\n    h = opt_h;\n  }\n  goog.style.setWidth(element, w);\n  goog.style.setHeight(element, h);\n};\ngoog.style.getPixelStyleValue_ = function(value, round) {\n  \"number\" == typeof value && (value = (round ? Math.round(value) : value) + \"px\");\n  return value;\n};\ngoog.style.setHeight = function(element, height) {\n  element.style.height = goog.style.getPixelStyleValue_(height, !0);\n};\ngoog.style.setWidth = function(element, width) {\n  element.style.width = goog.style.getPixelStyleValue_(width, !0);\n};\ngoog.style.getSize = function(element) {\n  return goog.style.evaluateWithTemporaryDisplay_(goog.style.getSizeWithDisplay_, element);\n};\ngoog.style.evaluateWithTemporaryDisplay_ = function(fn, element) {\n  if (\"none\" != goog.style.getStyle_(element, \"display\")) {\n    return fn(element);\n  }\n  var style = element.style, originalDisplay = style.display, originalVisibility = style.visibility, originalPosition = style.position;\n  style.visibility = \"hidden\";\n  style.position = \"absolute\";\n  style.display = \"inline\";\n  var retVal = fn(element);\n  style.display = originalDisplay;\n  style.position = originalPosition;\n  style.visibility = originalVisibility;\n  return retVal;\n};\ngoog.style.getSizeWithDisplay_ = function(element) {\n  var offsetWidth = element.offsetWidth, offsetHeight = element.offsetHeight, webkitOffsetsZero = goog.userAgent.WEBKIT && !offsetWidth && !offsetHeight;\n  if ((void 0 === offsetWidth || webkitOffsetsZero) && element.getBoundingClientRect) {\n    var clientRect = goog.style.getBoundingClientRect_(element);\n    return new goog.math.Size(clientRect.right - clientRect.left, clientRect.bottom - clientRect.top);\n  }\n  return new goog.math.Size(offsetWidth, offsetHeight);\n};\ngoog.style.getTransformedSize = function(element) {\n  if (!element.getBoundingClientRect) {\n    return null;\n  }\n  var clientRect = goog.style.evaluateWithTemporaryDisplay_(goog.style.getBoundingClientRect_, element);\n  return new goog.math.Size(clientRect.right - clientRect.left, clientRect.bottom - clientRect.top);\n};\ngoog.style.getBounds = function(element) {\n  var o = goog.style.getPageOffset(element), s = goog.style.getSize(element);\n  return new goog.math.Rect(o.x, o.y, s.width, s.height);\n};\ngoog.style.toCamelCase = function(selector) {\n  return goog.string.toCamelCase(String(selector));\n};\ngoog.style.toSelectorCase = function(selector) {\n  return goog.string.toSelectorCase(selector);\n};\ngoog.style.getOpacity = function(el) {\n  goog.asserts.assert(el);\n  var style = el.style, result = \"\";\n  if (\"opacity\" in style) {\n    result = style.opacity;\n  } else {\n    if (\"MozOpacity\" in style) {\n      result = style.MozOpacity;\n    } else {\n      if (\"filter\" in style) {\n        var match = style.filter.match(/alpha\\(opacity=([\\d.]+)\\)/);\n        match && (result = String(match[1] / 100));\n      }\n    }\n  }\n  return \"\" == result ? result : Number(result);\n};\ngoog.style.setOpacity = function(el, alpha) {\n  goog.asserts.assert(el);\n  var style = el.style;\n  \"opacity\" in style ? style.opacity = alpha : \"MozOpacity\" in style ? style.MozOpacity = alpha : \"filter\" in style && (style.filter = \"\" === alpha ? \"\" : \"alpha(opacity=\" + 100 * Number(alpha) + \")\");\n};\ngoog.style.setTransparentBackgroundImage = function(el, src) {\n  var style = el.style;\n  style.backgroundImage = \"url(\" + src + \")\";\n  style.backgroundPosition = \"top left\";\n  style.backgroundRepeat = \"no-repeat\";\n};\ngoog.style.clearTransparentBackgroundImage = function(el) {\n  var style = el.style;\n  \"filter\" in style ? style.filter = \"\" : style.backgroundImage = \"none\";\n};\ngoog.style.showElement = function(el, display) {\n  goog.style.setElementShown(el, display);\n};\ngoog.style.setElementShown = function(el, isShown) {\n  el.style.display = isShown ? \"\" : \"none\";\n};\ngoog.style.isElementShown = function(el) {\n  return \"none\" != el.style.display;\n};\ngoog.style.installSafeStyleSheet = function(safeStyleSheet, opt_node) {\n  var dh = goog.dom.getDomHelper(opt_node), doc = dh.getDocument();\n  if (goog.userAgent.IE && doc.createStyleSheet) {\n    var styleSheet = doc.createStyleSheet();\n    goog.style.setSafeStyleSheet(styleSheet, safeStyleSheet);\n    return styleSheet;\n  }\n  var head = dh.getElementsByTagNameAndClass(goog.dom.TagName.HEAD)[0];\n  if (!head) {\n    var body = dh.getElementsByTagNameAndClass(goog.dom.TagName.BODY)[0];\n    head = dh.createDom(goog.dom.TagName.HEAD);\n    body.parentNode.insertBefore(head, body);\n  }\n  var el = dh.createDom(goog.dom.TagName.STYLE), nonce = goog.dom.safe.getStyleNonce();\n  nonce && el.setAttribute(\"nonce\", nonce);\n  goog.style.setSafeStyleSheet(el, safeStyleSheet);\n  dh.appendChild(head, el);\n  return el;\n};\ngoog.style.uninstallStyles = function(styleSheet) {\n  goog.dom.removeNode(styleSheet.ownerNode || styleSheet.owningElement || styleSheet);\n};\ngoog.style.setSafeStyleSheet = function(element, safeStyleSheet) {\n  var stylesString = module$contents$goog$html$SafeStyleSheet_SafeStyleSheet.unwrap(safeStyleSheet);\n  goog.userAgent.IE && void 0 !== element.cssText ? element.cssText = stylesString : goog.global.trustedTypes ? goog.dom.setTextContent(element, stylesString) : element.innerHTML = stylesString;\n};\ngoog.style.setPreWrap = function(el) {\n  el.style.whiteSpace = goog.userAgent.GECKO ? \"-moz-pre-wrap\" : \"pre-wrap\";\n};\ngoog.style.setInlineBlock = function(el) {\n  var style = el.style;\n  style.position = \"relative\";\n  style.display = \"inline-block\";\n};\ngoog.style.isRightToLeft = function(el) {\n  return \"rtl\" == goog.style.getStyle_(el, \"direction\");\n};\ngoog.style.unselectableStyle_ = goog.userAgent.GECKO ? \"MozUserSelect\" : goog.userAgent.WEBKIT || goog.userAgent.EDGE ? \"WebkitUserSelect\" : null;\ngoog.style.isUnselectable = function(el) {\n  return goog.style.unselectableStyle_ ? \"none\" == el.style[goog.style.unselectableStyle_].toLowerCase() : goog.userAgent.IE ? \"on\" == el.getAttribute(\"unselectable\") : !1;\n};\ngoog.style.setUnselectable = function(el, unselectable, opt_noRecurse) {\n  var descendants = opt_noRecurse ? null : el.getElementsByTagName(\"*\"), name = goog.style.unselectableStyle_;\n  if (name) {\n    var value = unselectable ? \"none\" : \"\";\n    el.style && (el.style[name] = value);\n    if (descendants) {\n      for (var i = 0, descendant; descendant = descendants[i]; i++) {\n        descendant.style && (descendant.style[name] = value);\n      }\n    }\n  } else {\n    if (goog.userAgent.IE && (value = unselectable ? \"on\" : \"\", el.setAttribute(\"unselectable\", value), descendants)) {\n      for (i = 0; descendant = descendants[i]; i++) {\n        descendant.setAttribute(\"unselectable\", value);\n      }\n    }\n  }\n};\ngoog.style.getBorderBoxSize = function(element) {\n  return new goog.math.Size(element.offsetWidth, element.offsetHeight);\n};\ngoog.style.setBorderBoxSize = function(element, size) {\n  var doc = goog.dom.getOwnerDocument(element), isCss1CompatMode = goog.dom.getDomHelper(doc).isCss1CompatMode();\n  if (!goog.userAgent.IE || goog.userAgent.isVersionOrHigher(\"10\") || isCss1CompatMode) {\n    goog.style.setBoxSizingSize_(element, size, \"border-box\");\n  } else {\n    var style = element.style;\n    if (isCss1CompatMode) {\n      var paddingBox = goog.style.getPaddingBox(element), borderBox = goog.style.getBorderBox(element);\n      style.pixelWidth = size.width - borderBox.left - paddingBox.left - paddingBox.right - borderBox.right;\n      style.pixelHeight = size.height - borderBox.top - paddingBox.top - paddingBox.bottom - borderBox.bottom;\n    } else {\n      style.pixelWidth = size.width, style.pixelHeight = size.height;\n    }\n  }\n};\ngoog.style.getContentBoxSize = function(element) {\n  var doc = goog.dom.getOwnerDocument(element), ieCurrentStyle = goog.userAgent.IE && element.currentStyle;\n  if (ieCurrentStyle && goog.dom.getDomHelper(doc).isCss1CompatMode() && \"auto\" != ieCurrentStyle.width && \"auto\" != ieCurrentStyle.height && !ieCurrentStyle.boxSizing) {\n    var width = goog.style.getIePixelValue_(element, ieCurrentStyle.width, \"width\", \"pixelWidth\"), height = goog.style.getIePixelValue_(element, ieCurrentStyle.height, \"height\", \"pixelHeight\");\n    return new goog.math.Size(width, height);\n  }\n  var borderBoxSize = goog.style.getBorderBoxSize(element), paddingBox = goog.style.getPaddingBox(element), borderBox = goog.style.getBorderBox(element);\n  return new goog.math.Size(borderBoxSize.width - borderBox.left - paddingBox.left - paddingBox.right - borderBox.right, borderBoxSize.height - borderBox.top - paddingBox.top - paddingBox.bottom - borderBox.bottom);\n};\ngoog.style.setContentBoxSize = function(element, size) {\n  var doc = goog.dom.getOwnerDocument(element), isCss1CompatMode = goog.dom.getDomHelper(doc).isCss1CompatMode();\n  if (!goog.userAgent.IE || goog.userAgent.isVersionOrHigher(\"10\") || isCss1CompatMode) {\n    goog.style.setBoxSizingSize_(element, size, \"content-box\");\n  } else {\n    var style = element.style;\n    if (isCss1CompatMode) {\n      style.pixelWidth = size.width, style.pixelHeight = size.height;\n    } else {\n      var paddingBox = goog.style.getPaddingBox(element), borderBox = goog.style.getBorderBox(element);\n      style.pixelWidth = size.width + borderBox.left + paddingBox.left + paddingBox.right + borderBox.right;\n      style.pixelHeight = size.height + borderBox.top + paddingBox.top + paddingBox.bottom + borderBox.bottom;\n    }\n  }\n};\ngoog.style.setBoxSizingSize_ = function(element, size, boxSizing) {\n  var style = element.style;\n  goog.userAgent.GECKO ? style.MozBoxSizing = boxSizing : goog.userAgent.WEBKIT ? style.WebkitBoxSizing = boxSizing : style.boxSizing = boxSizing;\n  style.width = Math.max(size.width, 0) + \"px\";\n  style.height = Math.max(size.height, 0) + \"px\";\n};\ngoog.style.getIePixelValue_ = function(element, value, name, pixelName) {\n  if (/^\\d+px?$/.test(value)) {\n    return parseInt(value, 10);\n  }\n  var oldStyleValue = element.style[name], oldRuntimeValue = element.runtimeStyle[name];\n  element.runtimeStyle[name] = element.currentStyle[name];\n  element.style[name] = value;\n  var pixelValue = element.style[pixelName];\n  element.style[name] = oldStyleValue;\n  element.runtimeStyle[name] = oldRuntimeValue;\n  return +pixelValue;\n};\ngoog.style.getIePixelDistance_ = function(element, propName) {\n  var value = goog.style.getCascadedStyle(element, propName);\n  return value ? goog.style.getIePixelValue_(element, value, \"left\", \"pixelLeft\") : 0;\n};\ngoog.style.getBox_ = function(element, stylePrefix) {\n  if (goog.userAgent.IE) {\n    var left = goog.style.getIePixelDistance_(element, stylePrefix + \"Left\"), right = goog.style.getIePixelDistance_(element, stylePrefix + \"Right\"), top = goog.style.getIePixelDistance_(element, stylePrefix + \"Top\"), bottom = goog.style.getIePixelDistance_(element, stylePrefix + \"Bottom\");\n    return new goog.math.Box(top, right, bottom, left);\n  }\n  left = goog.style.getComputedStyle(element, stylePrefix + \"Left\");\n  right = goog.style.getComputedStyle(element, stylePrefix + \"Right\");\n  top = goog.style.getComputedStyle(element, stylePrefix + \"Top\");\n  bottom = goog.style.getComputedStyle(element, stylePrefix + \"Bottom\");\n  return new goog.math.Box(parseFloat(top), parseFloat(right), parseFloat(bottom), parseFloat(left));\n};\ngoog.style.getPaddingBox = function(element) {\n  return goog.style.getBox_(element, \"padding\");\n};\ngoog.style.getMarginBox = function(element) {\n  return goog.style.getBox_(element, \"margin\");\n};\ngoog.style.ieBorderWidthKeywords_ = {thin:2, medium:4, thick:6};\ngoog.style.getIePixelBorder_ = function(element, prop) {\n  if (\"none\" == goog.style.getCascadedStyle(element, prop + \"Style\")) {\n    return 0;\n  }\n  var width = goog.style.getCascadedStyle(element, prop + \"Width\");\n  return width in goog.style.ieBorderWidthKeywords_ ? goog.style.ieBorderWidthKeywords_[width] : goog.style.getIePixelValue_(element, width, \"left\", \"pixelLeft\");\n};\ngoog.style.getBorderBox = function(element) {\n  if (goog.userAgent.IE && !goog.userAgent.isDocumentModeOrHigher(9)) {\n    var left = goog.style.getIePixelBorder_(element, \"borderLeft\"), right = goog.style.getIePixelBorder_(element, \"borderRight\"), top = goog.style.getIePixelBorder_(element, \"borderTop\"), bottom = goog.style.getIePixelBorder_(element, \"borderBottom\");\n    return new goog.math.Box(top, right, bottom, left);\n  }\n  left = goog.style.getComputedStyle(element, \"borderLeftWidth\");\n  right = goog.style.getComputedStyle(element, \"borderRightWidth\");\n  top = goog.style.getComputedStyle(element, \"borderTopWidth\");\n  bottom = goog.style.getComputedStyle(element, \"borderBottomWidth\");\n  return new goog.math.Box(parseFloat(top), parseFloat(right), parseFloat(bottom), parseFloat(left));\n};\ngoog.style.getFontFamily = function(el) {\n  var doc = goog.dom.getOwnerDocument(el), font = \"\";\n  if (doc.body.createTextRange && goog.dom.contains(doc, el)) {\n    var range = doc.body.createTextRange();\n    range.moveToElementText(el);\n    try {\n      font = range.queryCommandValue(\"FontName\");\n    } catch (e) {\n      font = \"\";\n    }\n  }\n  font || (font = goog.style.getStyle_(el, \"fontFamily\"));\n  var fontsArray = font.split(\",\");\n  1 < fontsArray.length && (font = fontsArray[0]);\n  return goog.string.stripQuotes(font, \"\\\"'\");\n};\ngoog.style.lengthUnitRegex_ = /[^\\d]+$/;\ngoog.style.getLengthUnits = function(value) {\n  var units = value.match(goog.style.lengthUnitRegex_);\n  return units && units[0] || null;\n};\ngoog.style.ABSOLUTE_CSS_LENGTH_UNITS_ = {cm:1, \"in\":1, mm:1, pc:1, pt:1};\ngoog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_ = {em:1, ex:1};\ngoog.style.getFontSize = function(el) {\n  var fontSize = goog.style.getStyle_(el, \"fontSize\"), sizeUnits = goog.style.getLengthUnits(fontSize);\n  if (fontSize && \"px\" == sizeUnits) {\n    return parseInt(fontSize, 10);\n  }\n  if (goog.userAgent.IE) {\n    if (String(sizeUnits) in goog.style.ABSOLUTE_CSS_LENGTH_UNITS_) {\n      return goog.style.getIePixelValue_(el, fontSize, \"left\", \"pixelLeft\");\n    }\n    if (el.parentNode && el.parentNode.nodeType == goog.dom.NodeType.ELEMENT && String(sizeUnits) in goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_) {\n      var parentElement = el.parentNode, parentSize = goog.style.getStyle_(parentElement, \"fontSize\");\n      return goog.style.getIePixelValue_(parentElement, fontSize == parentSize ? \"1em\" : fontSize, \"left\", \"pixelLeft\");\n    }\n  }\n  var sizeElement = goog.dom.createDom(goog.dom.TagName.SPAN, {style:\"visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;\"});\n  goog.dom.appendChild(el, sizeElement);\n  fontSize = sizeElement.offsetHeight;\n  goog.dom.removeNode(sizeElement);\n  return fontSize;\n};\ngoog.style.parseStyleAttribute = function(value) {\n  var result = {};\n  value.split(/\\s*;\\s*/).forEach(function(pair) {\n    var keyValue = pair.match(/\\s*([\\w-]+)\\s*:(.+)/);\n    if (keyValue) {\n      var styleValue = goog.string.trim(keyValue[2]);\n      result[goog.string.toCamelCase(keyValue[1].toLowerCase())] = styleValue;\n    }\n  });\n  return result;\n};\ngoog.style.toStyleAttribute = function(obj) {\n  var buffer = [];\n  module$contents$goog$object_forEach(obj, function(value, key) {\n    buffer.push(goog.string.toSelectorCase(key), \":\", value, \";\");\n  });\n  return buffer.join(\"\");\n};\ngoog.style.setFloat = function(el, value) {\n  el.style[goog.userAgent.IE ? \"styleFloat\" : \"cssFloat\"] = value;\n};\ngoog.style.getFloat = function(el) {\n  return el.style[goog.userAgent.IE ? \"styleFloat\" : \"cssFloat\"] || \"\";\n};\ngoog.style.getScrollbarWidth = function(opt_className) {\n  var outerDiv = goog.dom.createElement(goog.dom.TagName.DIV);\n  opt_className && (outerDiv.className = opt_className);\n  outerDiv.style.cssText = \"overflow:auto;position:absolute;top:0;width:100px;height:100px\";\n  var innerDiv = goog.dom.createElement(goog.dom.TagName.DIV);\n  goog.style.setSize(innerDiv, \"200px\", \"200px\");\n  outerDiv.appendChild(innerDiv);\n  goog.dom.appendChild(goog.dom.getDocument().body, outerDiv);\n  var width = outerDiv.offsetWidth - outerDiv.clientWidth;\n  goog.dom.removeNode(outerDiv);\n  return width;\n};\ngoog.style.MATRIX_TRANSLATION_REGEX_ = RegExp(\"matrix\\\\([0-9\\\\.\\\\-]+, [0-9\\\\.\\\\-]+, [0-9\\\\.\\\\-]+, [0-9\\\\.\\\\-]+, ([0-9\\\\.\\\\-]+)p?x?, ([0-9\\\\.\\\\-]+)p?x?\\\\)\");\ngoog.style.getCssTranslation = function(element) {\n  var transform = goog.style.getComputedTransform(element);\n  if (!transform) {\n    return new goog.math.Coordinate(0, 0);\n  }\n  var matches = transform.match(goog.style.MATRIX_TRANSLATION_REGEX_);\n  return matches ? new goog.math.Coordinate(parseFloat(matches[1]), parseFloat(matches[2])) : new goog.math.Coordinate(0, 0);\n};\nee.layers.AbstractOverlay = function(tileSource, opt_options) {\n  goog.events.EventTarget.call(this);\n  var options = opt_options || {};\n  this.minZoom = options.minZoom || 0;\n  this.maxZoom = options.maxZoom || 20;\n  if (!window.google || !window.google.maps) {\n    throw Error(\"Google Maps API hasn't been initialized.\");\n  }\n  this.tileSize = options.tileSize || new google.maps.Size(ee.layers.AbstractOverlay.DEFAULT_TILE_EDGE_LENGTH, ee.layers.AbstractOverlay.DEFAULT_TILE_EDGE_LENGTH);\n  this.isPng = \"isPng\" in options ? options.isPng : !0;\n  this.name = options.name;\n  this.opacity = \"opacity\" in options ? options.opacity : 1;\n  this.stats = new module$contents$ee$layers$AbstractOverlayStats_AbstractOverlayStats(tileSource.getUniqueId());\n  this.tilesById = new goog.structs.Map();\n  this.tileCounter = 0;\n  this.tileSource = tileSource;\n  this.handler = new goog.events.EventHandler(this);\n  this.projection = null;\n  this.radius = 0;\n  this.alt = null;\n};\n$jscomp.inherits(ee.layers.AbstractOverlay, goog.events.EventTarget);\nee.layers.AbstractOverlay.prototype.addTileCallback = function(callback) {\n  return goog.events.listen(this, ee.layers.AbstractOverlay.EventType.TILE_LOAD, callback);\n};\nee.layers.AbstractOverlay.prototype.removeTileCallback = function(callbackId) {\n  goog.events.unlistenByKey(callbackId);\n};\nee.layers.AbstractOverlay.prototype.getLoadingTilesCount = function() {\n  return this.getTileCountForStatus_(ee.layers.AbstractTile.Status.THROTTLED) + this.getTileCountForStatus_(ee.layers.AbstractTile.Status.LOADING) + this.getTileCountForStatus_(ee.layers.AbstractTile.Status.NEW);\n};\nee.layers.AbstractOverlay.prototype.getFailedTilesCount = function() {\n  return this.getTileCountForStatus_(ee.layers.AbstractTile.Status.FAILED);\n};\nee.layers.AbstractOverlay.prototype.getLoadedTilesCount = function() {\n  return this.getTileCountForStatus_(ee.layers.AbstractTile.Status.LOADED);\n};\nee.layers.AbstractOverlay.prototype.setOpacity = function(opacity) {\n  this.opacity = opacity;\n  this.tilesById.forEach(function(tile) {\n    goog.style.setOpacity(tile.div, this.opacity);\n  }, this);\n};\nee.layers.AbstractOverlay.prototype.getStats = function() {\n  return this.stats;\n};\nee.layers.AbstractOverlay.prototype.getTile = function(coord, zoom, ownerDocument) {\n  var maxCoord = 1 << zoom;\n  if (zoom < this.minZoom || 0 > coord.y || coord.y >= maxCoord) {\n    return ownerDocument.createElement(\"div\");\n  }\n  var x = coord.x % maxCoord;\n  0 > x && (x += maxCoord);\n  var normalizedCoord = new google.maps.Point(x, coord.y), uniqueId = this.getUniqueTileId_(coord, zoom), tile = this.createTile(normalizedCoord, zoom, ownerDocument, uniqueId);\n  tile.tileSize = this.tileSize;\n  goog.style.setOpacity(tile.div, this.opacity);\n  this.tilesById.set(uniqueId, tile);\n  this.registerStatusChangeListener_(tile);\n  this.dispatchEvent(new ee.layers.TileStartEvent(this.getLoadingTilesCount()));\n  this.tileSource.loadTile(tile, (new Date()).getTime() / 1000);\n  return tile.div;\n};\nee.layers.AbstractOverlay.prototype.releaseTile = function(tileDiv) {\n  var tile = this.tilesById.get(tileDiv.id);\n  this.tilesById.remove(tileDiv.id);\n  tile && (tile.abort(), module$contents$goog$dispose_dispose(tile));\n};\nee.layers.AbstractOverlay.prototype.registerStatusChangeListener_ = function(tile) {\n  this.handler.listen(tile, ee.layers.AbstractTile.EventType.STATUS_CHANGED, function() {\n    var Status = ee.layers.AbstractTile.Status;\n    switch(tile.getStatus()) {\n      case Status.LOADED:\n        this.stats.addTileStats(tile.loadingStartTs_, (new Date()).getTime(), tile.zoom);\n        this.dispatchEvent(new ee.layers.TileLoadEvent(this.getLoadingTilesCount()));\n        break;\n      case Status.THROTTLED:\n        this.stats.incrementThrottleCounter(tile.zoom);\n        this.dispatchEvent(new ee.layers.TileThrottleEvent(tile.sourceUrl));\n        break;\n      case Status.FAILED:\n        this.stats.incrementErrorCounter(tile.zoom);\n        this.dispatchEvent(new ee.layers.TileFailEvent(tile.sourceUrl, tile.errorMessage_));\n        break;\n      case Status.ABORTED:\n        this.dispatchEvent(new ee.layers.TileAbortEvent(this.getLoadingTilesCount()));\n    }\n  });\n};\nee.layers.AbstractOverlay.prototype.getUniqueTileId_ = function(coord, z) {\n  var tileId = [coord.x, coord.y, z, this.tileCounter++].join(\"-\"), sourceId = this.tileSource.getUniqueId();\n  return [tileId, sourceId].join(\"-\");\n};\nee.layers.AbstractOverlay.prototype.disposeInternal = function() {\n  goog.events.EventTarget.prototype.disposeInternal.call(this);\n  this.tilesById.forEach(module$contents$goog$dispose_dispose);\n  this.tilesById.clear();\n  this.tilesById = null;\n  module$contents$goog$dispose_dispose(this.handler);\n  this.tileSource = this.handler = null;\n};\nee.layers.AbstractOverlay.prototype.getTileCountForStatus_ = function(status) {\n  return module$contents$goog$array_count(this.tilesById.getValues(), function(tile) {\n    return tile.getStatus() == status;\n  });\n};\ngoog.exportSymbol(\"ee.layers.AbstractOverlay\", ee.layers.AbstractOverlay);\ngoog.exportProperty(ee.layers.AbstractOverlay.prototype, \"removeTileCallback\", ee.layers.AbstractOverlay.prototype.removeTileCallback);\ngoog.exportProperty(ee.layers.AbstractOverlay.prototype, \"addTileCallback\", ee.layers.AbstractOverlay.prototype.addTileCallback);\nee.layers.AbstractOverlay.EventType = {TILE_FAIL:\"tile-fail\", TILE_ABORT:\"tile-abort\", TILE_THROTTLE:\"tile-throttle\", TILE_LOAD:\"tile-load\", TILE_START:\"tile-start\",};\nee.layers.AbstractOverlay.DEFAULT_TILE_EDGE_LENGTH = 256;\nee.layers.TileLoadEvent = function(loadingTileCount) {\n  goog.events.Event.call(this, ee.layers.AbstractOverlay.EventType.TILE_LOAD);\n  this.loadingTileCount = loadingTileCount;\n};\n$jscomp.inherits(ee.layers.TileLoadEvent, goog.events.Event);\nee.layers.TileStartEvent = function(loadingTileCount) {\n  goog.events.Event.call(this, ee.layers.AbstractOverlay.EventType.TILE_START);\n  this.loadingTileCount = loadingTileCount;\n};\n$jscomp.inherits(ee.layers.TileStartEvent, goog.events.Event);\nee.layers.TileThrottleEvent = function(tileUrl) {\n  goog.events.Event.call(this, ee.layers.AbstractOverlay.EventType.TILE_THROTTLE);\n  this.tileUrl = tileUrl;\n};\n$jscomp.inherits(ee.layers.TileThrottleEvent, goog.events.Event);\nee.layers.TileFailEvent = function(tileUrl, opt_errorMessage) {\n  goog.events.Event.call(this, ee.layers.AbstractOverlay.EventType.TILE_FAIL);\n  this.tileUrl = tileUrl;\n  this.errorMessage = opt_errorMessage;\n};\n$jscomp.inherits(ee.layers.TileFailEvent, goog.events.Event);\nee.layers.TileAbortEvent = function(loadingTileCount) {\n  goog.events.Event.call(this, ee.layers.AbstractOverlay.EventType.TILE_ABORT);\n  this.loadingTileCount = loadingTileCount;\n};\n$jscomp.inherits(ee.layers.TileAbortEvent, goog.events.Event);\nee.layers.AbstractTile = function(coord, zoom, ownerDocument, uniqueId) {\n  goog.events.EventTarget.call(this);\n  this.coord = coord;\n  this.zoom = zoom;\n  this.div = ownerDocument.createElement(\"div\");\n  this.div.id = uniqueId;\n  this.maxRetries = ee.layers.AbstractTile.DEFAULT_MAX_LOAD_RETRIES_;\n  this.renderer = function() {\n  };\n  this.status_ = ee.layers.AbstractTile.Status.NEW;\n  this.retryAttemptCount_ = 0;\n  this.isRetrying_ = !1;\n};\n$jscomp.inherits(ee.layers.AbstractTile, goog.events.EventTarget);\nee.layers.AbstractTile.prototype.startLoad = function() {\n  var $jscomp$this = this;\n  if (!this.isRetrying_ && this.getStatus() == ee.layers.AbstractTile.Status.LOADING) {\n    throw Error(\"startLoad() can only be invoked once. Use retryLoad() after the first attempt.\");\n  }\n  this.setStatus(ee.layers.AbstractTile.Status.LOADING);\n  this.loadingStartTs_ = (new Date()).getTime();\n  this.xhrIo_ = new goog.net.XhrIo();\n  this.xhrIo_.setResponseType(goog.net.XhrIo.ResponseType.BLOB);\n  this.xhrIo_.listen(goog.net.EventType.COMPLETE, function(event) {\n    var blob = $jscomp$this.xhrIo_.getResponse(), status = $jscomp$this.xhrIo_.getStatus(), HttpStatus = goog.net.HttpStatus;\n    status == HttpStatus.TOO_MANY_REQUESTS && $jscomp$this.setStatus(ee.layers.AbstractTile.Status.THROTTLED);\n    if (HttpStatus.isSuccess(status)) {\n      var sourceResponseHeaders = {};\n      module$contents$goog$object_forEach($jscomp$this.xhrIo_.getResponseHeaders(), function(value, name) {\n        sourceResponseHeaders[name.toLowerCase()] = value;\n      });\n      $jscomp$this.sourceResponseHeaders = sourceResponseHeaders;\n      $jscomp$this.sourceData = blob;\n      $jscomp$this.finishLoad();\n    } else {\n      if (blob) {\n        var reader = new goog.fs.FileReader();\n        reader.listen(goog.fs.FileReader.EventType.LOAD_END, function() {\n          $jscomp$this.retryLoad(reader.getResult());\n        }, void 0);\n        reader.readAsText(blob);\n      } else {\n        $jscomp$this.retryLoad(\"Failed to load tile.\");\n      }\n    }\n  }, !1);\n  this.xhrIo_.listenOnce(goog.net.EventType.READY, goog.partial(module$contents$goog$dispose_dispose, this.xhrIo_));\n  this.sourceUrl && this.sourceUrl.endsWith(\"&profiling=1\") && (this.sourceUrl = this.sourceUrl.replace(\"&profiling=1\", \"\"), this.xhrIo_.headers.set(module$contents$ee$apiclient_apiclient.PROFILE_REQUEST_HEADER, \"1\"));\n  this.xhrIo_.send(this.sourceUrl, \"GET\");\n};\nee.layers.AbstractTile.prototype.finishLoad = function() {\n  this.renderer(this);\n  this.setStatus(ee.layers.AbstractTile.Status.LOADED);\n};\nee.layers.AbstractTile.prototype.cancelLoad = function() {\n  module$contents$goog$dispose_dispose(this.xhrIo_);\n};\nee.layers.AbstractTile.prototype.retryLoad = function(opt_errorMessage) {\n  var parseError = function(error) {\n    try {\n      if (error = JSON.parse(error), error.error && error.error.message) {\n        return error.error.message;\n      }\n    } catch (e) {\n    }\n    return error;\n  };\n  this.retryAttemptCount_ >= this.maxRetries ? (this.errorMessage_ = parseError(opt_errorMessage), this.setStatus(ee.layers.AbstractTile.Status.FAILED)) : (this.cancelLoad(), setTimeout(goog.bind(function() {\n    this.isDisposed() || (this.isRetrying_ = !0, this.startLoad(), this.isRetrying_ = !1);\n  }, this), 1000 * Math.pow(2, this.retryAttemptCount_++)));\n};\nee.layers.AbstractTile.prototype.abort = function() {\n  this.cancelLoad();\n  this.getStatus() != ee.layers.AbstractTile.Status.ABORTED && this.getStatus() != ee.layers.AbstractTile.Status.REMOVED && this.setStatus(this.isDone() ? ee.layers.AbstractTile.Status.REMOVED : ee.layers.AbstractTile.Status.ABORTED);\n};\nee.layers.AbstractTile.prototype.isDone = function() {\n  return this.status_ in ee.layers.AbstractTile.DONE_STATUS_SET_;\n};\nee.layers.AbstractTile.prototype.getStatus = function() {\n  return this.status_;\n};\nee.layers.AbstractTile.prototype.setStatus = function(status) {\n  this.status_ = status;\n  this.dispatchEvent(ee.layers.AbstractTile.EventType.STATUS_CHANGED);\n};\nee.layers.AbstractTile.prototype.disposeInternal = function() {\n  goog.events.EventTarget.prototype.disposeInternal.call(this);\n  this.cancelLoad();\n  this.div.remove();\n  this.renderer = null;\n};\nee.layers.AbstractTile.EventType = {STATUS_CHANGED:\"status-changed\"};\nee.layers.AbstractTile.Status = {NEW:\"new\", LOADING:\"loading\", THROTTLED:\"throttled\", LOADED:\"loaded\", FAILED:\"failed\", ABORTED:\"aborted\", REMOVED:\"removed\",};\nee.layers.AbstractTile.DONE_STATUS_SET_ = module$contents$goog$object_createSet(ee.layers.AbstractTile.Status.ABORTED, ee.layers.AbstractTile.Status.FAILED, ee.layers.AbstractTile.Status.LOADED, ee.layers.AbstractTile.Status.REMOVED);\nee.layers.AbstractTile.DEFAULT_MAX_LOAD_RETRIES_ = 5;\nvar module$exports$ee$layers$AbstractTileSource = function() {\n  goog.Disposable.call(this);\n};\n$jscomp.inherits(module$exports$ee$layers$AbstractTileSource, goog.Disposable);\nee.layers.BinaryOverlay = function(tileSource, opt_options) {\n  ee.layers.AbstractOverlay.call(this, tileSource, opt_options);\n  this.buffersByCoord_ = new goog.structs.Map();\n  this.divsByCoord_ = new goog.structs.Map();\n};\n$jscomp.inherits(ee.layers.BinaryOverlay, ee.layers.AbstractOverlay);\nee.layers.BinaryOverlay.prototype.createTile = function(coord, zoom, ownerDocument, uniqueId) {\n  var tile = new ee.layers.BinaryTile(coord, zoom, ownerDocument, uniqueId);\n  this.handler.listen(tile, ee.layers.AbstractTile.EventType.STATUS_CHANGED, function() {\n    tile.getStatus() == ee.layers.AbstractTile.Status.LOADED && (this.buffersByCoord_.set(coord, new Float32Array(tile.buffer_)), this.divsByCoord_.set(coord, tile.div));\n  });\n  return tile;\n};\nee.layers.BinaryOverlay.prototype.getBuffersByCoord = function() {\n  return this.buffersByCoord_;\n};\nee.layers.BinaryOverlay.prototype.getDivsByCoord = function() {\n  return this.divsByCoord_;\n};\nee.layers.BinaryOverlay.prototype.disposeInternal = function() {\n  ee.layers.AbstractOverlay.prototype.disposeInternal.call(this);\n  this.divsByCoord_ = this.buffersByCoord_ = null;\n};\ngoog.exportSymbol(\"ee.layers.BinaryOverlay\", ee.layers.BinaryOverlay);\nee.layers.BinaryTile = function(coord, zoom, ownerDocument, uniqueId) {\n  ee.layers.AbstractTile.call(this, coord, zoom, ownerDocument, uniqueId);\n};\n$jscomp.inherits(ee.layers.BinaryTile, ee.layers.AbstractTile);\nee.layers.BinaryTile.prototype.finishLoad = function() {\n  var reader = new goog.fs.FileReader();\n  reader.listen(goog.fs.FileReader.EventType.LOAD_END, function() {\n    this.buffer_ = reader.getResult();\n    ee.layers.AbstractTile.prototype.finishLoad.call(this);\n  }, void 0, this);\n  reader.readAsArrayBuffer(this.sourceData);\n};\ngoog.net.ImageLoader = function(opt_parent) {\n  goog.events.EventTarget.call(this);\n  this.imageIdToRequestMap_ = {};\n  this.imageIdToImageMap_ = {};\n  this.handler_ = new goog.events.EventHandler(this);\n  this.parent_ = opt_parent;\n  this.completionFired_ = !1;\n};\ngoog.inherits(goog.net.ImageLoader, goog.events.EventTarget);\ngoog.net.ImageLoader.CorsRequestType = {ANONYMOUS:\"anonymous\", USE_CREDENTIALS:\"use-credentials\",};\ngoog.net.ImageLoader.IMAGE_LOAD_EVENTS_ = [goog.userAgent.IE && !goog.userAgent.isVersionOrHigher(\"11\") ? goog.net.EventType.READY_STATE_CHANGE : goog.events.EventType.LOAD, goog.net.EventType.ABORT, goog.net.EventType.ERROR,];\ngoog.net.ImageLoader.prototype.addImage = function(id, image, opt_corsRequestType) {\n  var src = \"string\" === typeof image ? image : image.src;\n  src && (this.completionFired_ = !1, this.imageIdToRequestMap_[id] = {src:src, corsRequestType:void 0 !== opt_corsRequestType ? opt_corsRequestType : null,});\n};\ngoog.net.ImageLoader.prototype.removeImage = function(id) {\n  delete this.imageIdToRequestMap_[id];\n  var image = this.imageIdToImageMap_[id];\n  image && (delete this.imageIdToImageMap_[id], this.handler_.unlisten(image, goog.net.ImageLoader.IMAGE_LOAD_EVENTS_, this.onNetworkEvent_));\n};\ngoog.net.ImageLoader.prototype.start = function() {\n  var imageIdToRequestMap = this.imageIdToRequestMap_;\n  module$contents$goog$object_getKeys(imageIdToRequestMap).forEach(function(id) {\n    var imageRequest = imageIdToRequestMap[id];\n    imageRequest && (delete imageIdToRequestMap[id], this.loadImage_(imageRequest, id));\n  }, this);\n};\ngoog.net.ImageLoader.prototype.loadImage_ = function(imageRequest, id) {\n  if (!this.isDisposed()) {\n    var image = this.parent_ ? goog.dom.getDomHelper(this.parent_).createDom(goog.dom.TagName.IMG) : new Image();\n    imageRequest.corsRequestType && (image.crossOrigin = imageRequest.corsRequestType);\n    this.handler_.listen(image, goog.net.ImageLoader.IMAGE_LOAD_EVENTS_, this.onNetworkEvent_);\n    this.imageIdToImageMap_[id] = image;\n    image.id = id;\n    image.src = imageRequest.src;\n  }\n};\ngoog.net.ImageLoader.prototype.onNetworkEvent_ = function(evt) {\n  var image = evt.currentTarget;\n  if (image) {\n    if (evt.type == goog.net.EventType.READY_STATE_CHANGE) {\n      if (image.readyState == goog.net.EventType.COMPLETE) {\n        evt.type = goog.events.EventType.LOAD;\n      } else {\n        return;\n      }\n    }\n    \"undefined\" == typeof image.naturalWidth && (evt.type == goog.events.EventType.LOAD ? (image.naturalWidth = image.width, image.naturalHeight = image.height) : (image.naturalWidth = 0, image.naturalHeight = 0));\n    this.removeImage(image.id);\n    this.dispatchEvent({type:evt.type, target:image});\n    this.isDisposed() || this.maybeFireCompletionEvent_();\n  }\n};\ngoog.net.ImageLoader.prototype.maybeFireCompletionEvent_ = function() {\n  module$contents$goog$object_isEmpty(this.imageIdToImageMap_) && module$contents$goog$object_isEmpty(this.imageIdToRequestMap_) && !this.completionFired_ && (this.completionFired_ = !0, this.dispatchEvent(goog.net.EventType.COMPLETE));\n};\ngoog.net.ImageLoader.prototype.disposeInternal = function() {\n  delete this.imageIdToRequestMap_;\n  delete this.imageIdToImageMap_;\n  module$contents$goog$dispose_dispose(this.handler_);\n  goog.net.ImageLoader.superClass_.disposeInternal.call(this);\n};\nee.layers.ImageOverlay = function(tileSource, opt_options) {\n  ee.layers.AbstractOverlay.call(this, tileSource, opt_options);\n};\n$jscomp.inherits(ee.layers.ImageOverlay, ee.layers.AbstractOverlay);\nee.layers.ImageOverlay.prototype.createTile = function(coord, zoom, ownerDocument, uniqueId) {\n  return new ee.layers.ImageTile(coord, zoom, ownerDocument, uniqueId);\n};\ngoog.exportSymbol(\"ee.layers.ImageOverlay\", ee.layers.ImageOverlay);\nee.layers.ImageTile = function(coord, zoom, ownerDocument, uniqueId) {\n  ee.layers.AbstractTile.call(this, coord, zoom, ownerDocument, uniqueId);\n  this.renderer = ee.layers.ImageTile.defaultRenderer_;\n  this.imageLoaderListenerKey_ = this.imageLoader_ = this.imageEl = null;\n  this.objectUrl_ = \"\";\n};\n$jscomp.inherits(ee.layers.ImageTile, ee.layers.AbstractTile);\nee.layers.ImageTile.prototype.finishLoad = function() {\n  try {\n    var safeUrl = goog.html.SafeUrl.fromBlob(this.sourceData);\n    this.objectUrl_ = goog.html.SafeUrl.unwrap(safeUrl);\n    var imageUrl = this.objectUrl_ !== goog.html.SafeUrl.INNOCUOUS_STRING ? this.objectUrl_ : this.sourceUrl;\n  } catch (e) {\n    imageUrl = this.sourceUrl;\n  }\n  this.imageLoader_ = new goog.net.ImageLoader();\n  this.imageLoader_.addImage(this.div.id + \"-image\", imageUrl);\n  this.imageLoaderListenerKey_ = goog.events.listenOnce(this.imageLoader_, ee.layers.ImageTile.IMAGE_LOADER_EVENTS_, function(event) {\n    event.type == goog.events.EventType.LOAD ? (this.imageEl = event.target, ee.layers.AbstractTile.prototype.finishLoad.call(this)) : this.retryLoad();\n  }, void 0, this);\n  this.imageLoader_.start();\n};\nee.layers.ImageTile.prototype.cancelLoad = function() {\n  ee.layers.AbstractTile.prototype.cancelLoad.call(this);\n  this.imageLoader_ && (goog.events.unlistenByKey(this.imageLoaderListenerKey_), module$contents$goog$dispose_dispose(this.imageLoader_));\n};\nee.layers.ImageTile.prototype.disposeInternal = function() {\n  ee.layers.AbstractTile.prototype.disposeInternal.call(this);\n  this.objectUrl_ && URL.revokeObjectURL(this.objectUrl_);\n};\nee.layers.ImageTile.defaultRenderer_ = function(tile) {\n  tile.div.appendChild(tile.imageEl);\n};\nee.layers.ImageTile.IMAGE_LOADER_EVENTS_ = [goog.events.EventType.LOAD, goog.net.EventType.ABORT, goog.net.EventType.ERROR];\ngoog.string.path = {};\ngoog.string.path.baseName = function(path) {\n  var i = path.lastIndexOf(\"/\") + 1;\n  return path.slice(i);\n};\ngoog.string.path.basename = goog.string.path.baseName;\ngoog.string.path.dirname = function(path) {\n  var i = path.lastIndexOf(\"/\") + 1, head = path.slice(0, i);\n  /^\\/+$/.test(head) || (head = head.replace(/\\/+$/, \"\"));\n  return head;\n};\ngoog.string.path.extension = function(path) {\n  var baseName = goog.string.path.baseName(path).replace(/\\.+/g, \".\"), separatorIndex = baseName.lastIndexOf(\".\");\n  return 0 >= separatorIndex ? \"\" : baseName.substr(separatorIndex + 1);\n};\ngoog.string.path.join = function(var_args) {\n  for (var path = arguments[0], i = 1; i < arguments.length; i++) {\n    var arg = arguments[i];\n    path = goog.string.startsWith(arg, \"/\") ? arg : \"\" == path || goog.string.endsWith(path, \"/\") ? path + arg : path + (\"/\" + arg);\n  }\n  return path;\n};\ngoog.string.path.normalizePath = function(path) {\n  if (\"\" == path) {\n    return \".\";\n  }\n  var initialSlashes = \"\";\n  goog.string.startsWith(path, \"/\") && (initialSlashes = \"/\", goog.string.startsWith(path, \"//\") && !goog.string.startsWith(path, \"///\") && (initialSlashes = \"//\"));\n  for (var parts = path.split(\"/\"), newParts = [], i = 0; i < parts.length; i++) {\n    var part = parts[i];\n    \"\" != part && \".\" != part && (\"..\" != part || !initialSlashes && !newParts.length || \"..\" == module$contents$goog$array_peek(newParts) ? newParts.push(part) : newParts.pop());\n  }\n  return initialSlashes + newParts.join(\"/\") || \".\";\n};\ngoog.string.path.split = function(path) {\n  var head = goog.string.path.dirname(path), tail = goog.string.path.baseName(path);\n  return [head, tail];\n};\nvar module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource = function(bucket, path, maxZoom, opt_suffix) {\n  module$exports$ee$layers$AbstractTileSource.call(this);\n  this.bucket_ = bucket;\n  this.path_ = path;\n  this.suffix_ = opt_suffix || \"\";\n  this.maxZoom_ = maxZoom;\n};\n$jscomp.inherits(module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource, module$exports$ee$layers$AbstractTileSource);\nmodule$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.prototype.loadTile = function(tile, opt_priority) {\n  if (tile.zoom <= this.maxZoom_) {\n    tile.sourceUrl = this.getTileUrl_(tile.coord, tile.zoom);\n  } else {\n    var zoomSteps = tile.zoom - this.maxZoom_, zoomFactor = Math.pow(2, zoomSteps), upperCoord = new google.maps.Point(Math.floor(tile.coord.x / zoomFactor), Math.floor(tile.coord.y / zoomFactor));\n    tile.sourceUrl = this.getTileUrl_(upperCoord, tile.zoom - zoomSteps);\n    tile.renderer = goog.partial(module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.zoomTileRenderer_, this.maxZoom_);\n  }\n  var originalRetryLoad = goog.bind(tile.retryLoad, tile);\n  tile.retryLoad = goog.bind(function(opt_errorMessage) {\n    opt_errorMessage && (opt_errorMessage.includes(module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.MISSING_TILE_ERROR_) || opt_errorMessage.includes(module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.ACCESS_DENIED_ERROR_)) ? tile.setStatus(ee.layers.AbstractTile.Status.LOADED) : originalRetryLoad(opt_errorMessage);\n  }, tile);\n  tile.startLoad();\n};\nmodule$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.prototype.getUniqueId = function() {\n  return [this.bucket_, this.path_, this.maxZoom_, this.suffix_].join(\"-\");\n};\nmodule$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.prototype.getTileUrl_ = function(coord, zoom) {\n  var url = goog.string.path.join(module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.BASE_URL, this.bucket_, this.path_, String(zoom), String(coord.x), String(coord.y));\n  this.suffix_ && (url += this.suffix_);\n  return url;\n};\nmodule$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.zoomTileRenderer_ = function(maxZoom, tile) {\n  if (!tile.imageEl) {\n    throw Error(\"Tile must have an image element to be rendered.\");\n  }\n  var zoomFactor = Math.pow(2, tile.zoom - maxZoom), sideLength = tile.tileSize.width, canv = tile.div.ownerDocument.createElement(\"canvas\");\n  canv.setAttribute(\"width\", sideLength);\n  canv.setAttribute(\"height\", sideLength);\n  tile.div.appendChild(canv);\n  var context = canv.getContext(\"2d\");\n  context.imageSmoothingEnabled = !1;\n  context.mozImageSmoothingEnabled = !1;\n  context.webkitImageSmoothingEnabled = !1;\n  context.drawImage(tile.imageEl, sideLength / zoomFactor * (tile.coord.x % zoomFactor), sideLength / zoomFactor * (tile.coord.y % zoomFactor), sideLength / zoomFactor, sideLength / zoomFactor, 0, 0, sideLength, sideLength);\n};\ngoog.exportSymbol(\"ee.layers.CloudStorageTileSource\", module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource);\nmodule$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.BASE_URL = \"https://storage.googleapis.com\";\nmodule$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.MISSING_TILE_ERROR_ = \"The specified key does not exist.\";\nmodule$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource.ACCESS_DENIED_ERROR_ = \"AccessDenied\";\nee.layers.CloudStorageTileSource = module$contents$ee$layers$CloudStorageTileSource_CloudStorageTileSource;\ngoog.structs.Queue = function() {\n  this.front_ = [];\n  this.back_ = [];\n};\ngoog.structs.Queue.prototype.maybeFlip_ = function() {\n  0 === this.front_.length && (this.front_ = this.back_, this.front_.reverse(), this.back_ = []);\n};\ngoog.structs.Queue.prototype.enqueue = function(element) {\n  this.back_.push(element);\n};\ngoog.structs.Queue.prototype.dequeue = function() {\n  this.maybeFlip_();\n  return this.front_.pop();\n};\ngoog.structs.Queue.prototype.peek = function() {\n  this.maybeFlip_();\n  return module$contents$goog$array_peek(this.front_);\n};\ngoog.structs.Queue.prototype.getCount = function() {\n  return this.front_.length + this.back_.length;\n};\ngoog.structs.Queue.prototype.isEmpty = function() {\n  return 0 === this.front_.length && 0 === this.back_.length;\n};\ngoog.structs.Queue.prototype.clear = function() {\n  this.front_ = [];\n  this.back_ = [];\n};\ngoog.structs.Queue.prototype.contains = function(obj) {\n  return module$contents$goog$array_contains(this.front_, obj) || module$contents$goog$array_contains(this.back_, obj);\n};\ngoog.structs.Queue.prototype.remove = function(obj) {\n  return module$contents$goog$array_removeLast(this.front_, obj) || module$contents$goog$array_remove(this.back_, obj);\n};\ngoog.structs.Queue.prototype.getValues = function() {\n  for (var res = [], i = this.front_.length - 1; 0 <= i; --i) {\n    res.push(this.front_[i]);\n  }\n  var len = this.back_.length;\n  for (i = 0; i < len; ++i) {\n    res.push(this.back_[i]);\n  }\n  return res;\n};\ngoog.structs.Pool = function(opt_minCount, opt_maxCount) {\n  goog.Disposable.call(this);\n  this.minCount_ = opt_minCount || 0;\n  this.maxCount_ = opt_maxCount || 10;\n  if (this.minCount_ > this.maxCount_) {\n    throw Error(goog.structs.Pool.ERROR_MIN_MAX_);\n  }\n  this.freeQueue_ = new goog.structs.Queue();\n  this.inUseSet_ = new goog.structs.Set();\n  this.delay = 0;\n  this.lastAccess = null;\n  this.adjustForMinMax();\n};\ngoog.inherits(goog.structs.Pool, goog.Disposable);\ngoog.structs.Pool.ERROR_MIN_MAX_ = \"[goog.structs.Pool] Min can not be greater than max\";\ngoog.structs.Pool.ERROR_DISPOSE_UNRELEASED_OBJS_ = \"[goog.structs.Pool] Objects not released\";\ngoog.structs.Pool.prototype.setMinimumCount = function(min) {\n  if (min > this.maxCount_) {\n    throw Error(goog.structs.Pool.ERROR_MIN_MAX_);\n  }\n  this.minCount_ = min;\n  this.adjustForMinMax();\n};\ngoog.structs.Pool.prototype.setMaximumCount = function(max) {\n  if (max < this.minCount_) {\n    throw Error(goog.structs.Pool.ERROR_MIN_MAX_);\n  }\n  this.maxCount_ = max;\n  this.adjustForMinMax();\n};\ngoog.structs.Pool.prototype.setDelay = function(delay) {\n  this.delay = delay;\n};\ngoog.structs.Pool.prototype.getObject = function() {\n  var time = Date.now();\n  if (!(null != this.lastAccess && time - this.lastAccess < this.delay)) {\n    var obj = this.removeFreeObject_();\n    obj && (this.lastAccess = time, this.inUseSet_.add(obj));\n    return obj;\n  }\n};\ngoog.structs.Pool.prototype.releaseObject = function(obj) {\n  return this.inUseSet_.remove(obj) ? (this.addFreeObject(obj), !0) : !1;\n};\ngoog.structs.Pool.prototype.removeFreeObject_ = function() {\n  for (var obj; 0 < this.getFreeCount() && (obj = this.freeQueue_.dequeue(), !this.objectCanBeReused(obj));) {\n    this.adjustForMinMax();\n  }\n  !obj && this.getCount() < this.maxCount_ && (obj = this.createObject());\n  return obj;\n};\ngoog.structs.Pool.prototype.addFreeObject = function(obj) {\n  this.inUseSet_.remove(obj);\n  this.objectCanBeReused(obj) && this.getCount() < this.maxCount_ ? this.freeQueue_.enqueue(obj) : this.disposeObject(obj);\n};\ngoog.structs.Pool.prototype.adjustForMinMax = function() {\n  for (var freeQueue = this.freeQueue_; this.getCount() < this.minCount_;) {\n    freeQueue.enqueue(this.createObject());\n  }\n  for (; this.getCount() > this.maxCount_ && 0 < this.getFreeCount();) {\n    this.disposeObject(freeQueue.dequeue());\n  }\n};\ngoog.structs.Pool.prototype.createObject = function() {\n  return {};\n};\ngoog.structs.Pool.prototype.disposeObject = function(obj) {\n  if (\"function\" == typeof obj.dispose) {\n    obj.dispose();\n  } else {\n    for (var i in obj) {\n      obj[i] = null;\n    }\n  }\n};\ngoog.structs.Pool.prototype.objectCanBeReused = function(obj) {\n  return \"function\" == typeof obj.canBeReused ? obj.canBeReused() : !0;\n};\ngoog.structs.Pool.prototype.contains = function(obj) {\n  return this.freeQueue_.contains(obj) || this.inUseSet_.contains(obj);\n};\ngoog.structs.Pool.prototype.getCount = function() {\n  return this.freeQueue_.getCount() + this.inUseSet_.getCount();\n};\ngoog.structs.Pool.prototype.getInUseCount = function() {\n  return this.inUseSet_.getCount();\n};\ngoog.structs.Pool.prototype.getFreeCount = function() {\n  return this.freeQueue_.getCount();\n};\ngoog.structs.Pool.prototype.isEmpty = function() {\n  return this.freeQueue_.isEmpty() && this.inUseSet_.isEmpty();\n};\ngoog.structs.Pool.prototype.disposeInternal = function() {\n  goog.structs.Pool.superClass_.disposeInternal.call(this);\n  if (0 < this.getInUseCount()) {\n    throw Error(goog.structs.Pool.ERROR_DISPOSE_UNRELEASED_OBJS_);\n  }\n  delete this.inUseSet_;\n  for (var freeQueue = this.freeQueue_; !freeQueue.isEmpty();) {\n    this.disposeObject(freeQueue.dequeue());\n  }\n  delete this.freeQueue_;\n};\ngoog.structs.Node = function(key, value) {\n  this.key_ = key;\n  this.value_ = value;\n};\ngoog.structs.Node.prototype.getKey = function() {\n  return this.key_;\n};\ngoog.structs.Node.prototype.getValue = function() {\n  return this.value_;\n};\ngoog.structs.Node.prototype.clone = function() {\n  return new goog.structs.Node(this.key_, this.value_);\n};\ngoog.structs.Heap = function(opt_heap) {\n  this.nodes_ = [];\n  opt_heap && this.insertAll(opt_heap);\n};\ngoog.structs.Heap.prototype.insert = function(key, value) {\n  var node = new goog.structs.Node(key, value), nodes = this.nodes_;\n  nodes.push(node);\n  this.moveUp_(nodes.length - 1);\n};\ngoog.structs.Heap.prototype.insertAll = function(heap) {\n  if (heap instanceof goog.structs.Heap) {\n    var keys = heap.getKeys();\n    var values = heap.getValues();\n    if (0 >= this.getCount()) {\n      for (var nodes = this.nodes_, i = 0; i < keys.length; i++) {\n        nodes.push(new goog.structs.Node(keys[i], values[i]));\n      }\n      return;\n    }\n  } else {\n    keys = module$contents$goog$object_getKeys(heap), values = module$contents$goog$object_getValues(heap);\n  }\n  for (i = 0; i < keys.length; i++) {\n    this.insert(keys[i], values[i]);\n  }\n};\ngoog.structs.Heap.prototype.remove = function() {\n  var nodes = this.nodes_, count = nodes.length, rootNode = nodes[0];\n  if (!(0 >= count)) {\n    return 1 == count ? module$contents$goog$array_clear(nodes) : (nodes[0] = nodes.pop(), this.moveDown_(0)), rootNode.getValue();\n  }\n};\ngoog.structs.Heap.prototype.peek = function() {\n  var nodes = this.nodes_;\n  if (0 != nodes.length) {\n    return nodes[0].getValue();\n  }\n};\ngoog.structs.Heap.prototype.peekKey = function() {\n  return this.nodes_[0] && this.nodes_[0].getKey();\n};\ngoog.structs.Heap.prototype.moveDown_ = function(index) {\n  for (var nodes = this.nodes_, count = nodes.length, node = nodes[index]; index < count >> 1;) {\n    var leftChildIndex = this.getLeftChildIndex_(index), rightChildIndex = this.getRightChildIndex_(index), smallerChildIndex = rightChildIndex < count && nodes[rightChildIndex].getKey() < nodes[leftChildIndex].getKey() ? rightChildIndex : leftChildIndex;\n    if (nodes[smallerChildIndex].getKey() > node.getKey()) {\n      break;\n    }\n    nodes[index] = nodes[smallerChildIndex];\n    index = smallerChildIndex;\n  }\n  nodes[index] = node;\n};\ngoog.structs.Heap.prototype.moveUp_ = function(index) {\n  for (var nodes = this.nodes_, node = nodes[index]; 0 < index;) {\n    var parentIndex = this.getParentIndex_(index);\n    if (nodes[parentIndex].getKey() > node.getKey()) {\n      nodes[index] = nodes[parentIndex], index = parentIndex;\n    } else {\n      break;\n    }\n  }\n  nodes[index] = node;\n};\ngoog.structs.Heap.prototype.getLeftChildIndex_ = function(index) {\n  return 2 * index + 1;\n};\ngoog.structs.Heap.prototype.getRightChildIndex_ = function(index) {\n  return 2 * index + 2;\n};\ngoog.structs.Heap.prototype.getParentIndex_ = function(index) {\n  return index - 1 >> 1;\n};\ngoog.structs.Heap.prototype.getValues = function() {\n  for (var nodes = this.nodes_, rv = [], l = nodes.length, i = 0; i < l; i++) {\n    rv.push(nodes[i].getValue());\n  }\n  return rv;\n};\ngoog.structs.Heap.prototype.getKeys = function() {\n  for (var nodes = this.nodes_, rv = [], l = nodes.length, i = 0; i < l; i++) {\n    rv.push(nodes[i].getKey());\n  }\n  return rv;\n};\ngoog.structs.Heap.prototype.containsValue = function(val) {\n  return module$contents$goog$array_some(this.nodes_, function(node) {\n    return node.getValue() == val;\n  });\n};\ngoog.structs.Heap.prototype.containsKey = function(key) {\n  return module$contents$goog$array_some(this.nodes_, function(node) {\n    return node.getKey() == key;\n  });\n};\ngoog.structs.Heap.prototype.clone = function() {\n  return new goog.structs.Heap(this);\n};\ngoog.structs.Heap.prototype.getCount = function() {\n  return this.nodes_.length;\n};\ngoog.structs.Heap.prototype.isEmpty = function() {\n  return 0 === this.nodes_.length;\n};\ngoog.structs.Heap.prototype.clear = function() {\n  module$contents$goog$array_clear(this.nodes_);\n};\ngoog.structs.PriorityQueue = function() {\n  goog.structs.Heap.call(this);\n};\ngoog.inherits(goog.structs.PriorityQueue, goog.structs.Heap);\ngoog.structs.PriorityQueue.prototype.enqueue = function(priority, value) {\n  this.insert(priority, value);\n};\ngoog.structs.PriorityQueue.prototype.dequeue = function() {\n  return this.remove();\n};\ngoog.structs.PriorityPool = function(opt_minCount, opt_maxCount) {\n  this.delayTimeout_ = void 0;\n  this.requestQueue_ = new goog.structs.PriorityQueue();\n  goog.structs.Pool.call(this, opt_minCount, opt_maxCount);\n};\ngoog.inherits(goog.structs.PriorityPool, goog.structs.Pool);\ngoog.structs.PriorityPool.DEFAULT_PRIORITY_ = 100;\ngoog.structs.PriorityPool.prototype.setDelay = function(delay) {\n  goog.structs.PriorityPool.superClass_.setDelay.call(this, delay);\n  null != this.lastAccess && (goog.global.clearTimeout(this.delayTimeout_), this.delayTimeout_ = goog.global.setTimeout(goog.bind(this.handleQueueRequests_, this), this.delay + this.lastAccess - Date.now()), this.handleQueueRequests_());\n};\ngoog.structs.PriorityPool.prototype.getObject = function(opt_callback, opt_priority) {\n  if (!opt_callback) {\n    var result = goog.structs.PriorityPool.superClass_.getObject.call(this);\n    result && this.delay && (this.delayTimeout_ = goog.global.setTimeout(goog.bind(this.handleQueueRequests_, this), this.delay));\n    return result;\n  }\n  this.requestQueue_.enqueue(void 0 !== opt_priority ? opt_priority : goog.structs.PriorityPool.DEFAULT_PRIORITY_, opt_callback);\n  this.handleQueueRequests_();\n};\ngoog.structs.PriorityPool.prototype.handleQueueRequests_ = function() {\n  for (var requestQueue = this.requestQueue_; 0 < requestQueue.getCount();) {\n    var obj = this.getObject();\n    if (obj) {\n      requestQueue.dequeue().apply(this, [obj]);\n    } else {\n      break;\n    }\n  }\n};\ngoog.structs.PriorityPool.prototype.addFreeObject = function(obj) {\n  goog.structs.PriorityPool.superClass_.addFreeObject.call(this, obj);\n  this.handleQueueRequests_();\n};\ngoog.structs.PriorityPool.prototype.adjustForMinMax = function() {\n  goog.structs.PriorityPool.superClass_.adjustForMinMax.call(this);\n  this.handleQueueRequests_();\n};\ngoog.structs.PriorityPool.prototype.disposeInternal = function() {\n  goog.structs.PriorityPool.superClass_.disposeInternal.call(this);\n  goog.global.clearTimeout(this.delayTimeout_);\n  this.requestQueue_.clear();\n  this.requestQueue_ = null;\n};\nvar module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource = function(mapId, opt_profiler) {\n  module$exports$ee$layers$AbstractTileSource.call(this);\n  this.mapId_ = mapId;\n  this.profiler_ = opt_profiler || null;\n};\n$jscomp.inherits(module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource, module$exports$ee$layers$AbstractTileSource);\nmodule$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.prototype.loadTile = function(tile, opt_priority) {\n  var ProfilerHeader = module$contents$ee$apiclient_apiclient.PROFILE_HEADER.toLowerCase(), key = goog.events.listen(tile, ee.layers.AbstractTile.EventType.STATUS_CHANGED, function() {\n    switch(tile.getStatus()) {\n      case ee.layers.AbstractTile.Status.LOADED:\n        var profileId = tile.sourceResponseHeaders[ProfilerHeader];\n        this.profiler_ && profileId && this.profiler_.addTile(tile.div.id, profileId);\n        break;\n      case ee.layers.AbstractTile.Status.FAILED:\n      case ee.layers.AbstractTile.Status.ABORTED:\n        this.profiler_ && \"\" !== tile.div.id && this.profiler_.removeTile(tile.div.id), goog.events.unlistenByKey(key);\n    }\n  }, void 0, this);\n  tile.sourceUrl = this.getTileUrl_(tile.coord, tile.zoom);\n  var handleAvailableToken = goog.bind(this.handleAvailableToken_, this, tile);\n  module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.getGlobalTokenPool_().getObject(handleAvailableToken, opt_priority);\n};\nmodule$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.prototype.getUniqueId = function() {\n  return this.mapId_.mapid + \"-\" + this.mapId_.token;\n};\nmodule$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.prototype.handleAvailableToken_ = function(tile, token) {\n  var tokenPool = module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.getGlobalTokenPool_();\n  if (tile.isDisposed() || tile.getStatus() == ee.layers.AbstractTile.Status.ABORTED) {\n    tokenPool.releaseObject(token);\n  } else {\n    var key = goog.events.listen(tile, ee.layers.AbstractTile.EventType.STATUS_CHANGED, function() {\n      tile.isDone() && (goog.events.unlistenByKey(key), tokenPool.releaseObject(token));\n    });\n    tile.startLoad();\n  }\n};\nmodule$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.prototype.getTileUrl_ = function(coord, zoom) {\n  var url = ee.data.getTileUrl(this.mapId_, coord.x, coord.y, zoom);\n  return this.profiler_ && this.profiler_.isEnabled() ? url + \"&profiling=1\" : url;\n};\nmodule$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.getGlobalTokenPool_ = function() {\n  module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.TOKEN_POOL_ || (module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.TOKEN_POOL_ = new goog.structs.PriorityPool(0, module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.TOKEN_COUNT_));\n  return module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.TOKEN_POOL_;\n};\ngoog.exportSymbol(\"ee.layers.EarthEngineTileSource\", module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource);\nmodule$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.TOKEN_POOL_ = null;\nmodule$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource.TOKEN_COUNT_ = 4;\nee.layers.EarthEngineTileSource = module$contents$ee$layers$EarthEngineTileSource_EarthEngineTileSource;\ngoog.singleton = {};\nvar module$contents$goog$singleton_instantiatedSingletons = [], module$contents$goog$singleton_Singleton = function() {\n};\ngoog.singleton.getInstance = function(ctor) {\n  (0,goog.asserts.assert)(!Object.isSealed(ctor), \"Cannot use getInstance() with a sealed constructor.\");\n  if (ctor.instance_ && ctor.hasOwnProperty(\"instance_\")) {\n    return ctor.instance_;\n  }\n  goog.DEBUG && module$contents$goog$singleton_instantiatedSingletons.push(ctor);\n  var instance = new ctor();\n  ctor.instance_ = instance;\n  (0,goog.asserts.assert)(ctor.hasOwnProperty(\"instance_\"), \"Could not instantiate singleton.\");\n  return instance;\n};\ngoog.singleton.instantiatedSingletons = module$contents$goog$singleton_instantiatedSingletons;\nee.MapTileManager = function() {\n  goog.events.EventTarget.call(this);\n  this.tokenPool_ = new ee.MapTileManager.TokenPool_(0, 60);\n  this.requests_ = new goog.structs.Map();\n};\n$jscomp.inherits(ee.MapTileManager, goog.events.EventTarget);\nee.MapTileManager.prototype.getOutstandingCount = function() {\n  return this.requests_.getCount();\n};\nee.MapTileManager.prototype.send = function(id, url, opt_priority, opt_imageCompletedCallback, opt_maxRetries) {\n  if (this.requests_.get(id)) {\n    throw Error(ee.MapTileManager.ERROR_ID_IN_USE_);\n  }\n  var request = new ee.MapTileManager.Request_(id, url, opt_imageCompletedCallback, goog.bind(this.releaseRequest_, this), void 0 !== opt_maxRetries ? opt_maxRetries : ee.MapTileManager.MAX_RETRIES);\n  this.requests_.set(id, request);\n  var callback = goog.bind(this.handleAvailableToken_, this, request);\n  this.tokenPool_.getObject(callback, opt_priority);\n  return request;\n};\nee.MapTileManager.prototype.abort = function(id) {\n  var request = this.requests_.get(id);\n  request && (request.setAborted(!0), this.releaseRequest_(request));\n};\nee.MapTileManager.prototype.handleAvailableToken_ = function(request, token) {\n  if (request.getImageLoader() || request.getAborted()) {\n    this.releaseObject_(token);\n  } else {\n    if (request.setToken(token), token.setActive(!0), request.setImageLoader(new goog.net.ImageLoader()), !request.retry()) {\n      throw Error(\"Cannot dispatch first request!\");\n    }\n  }\n};\nee.MapTileManager.prototype.releaseRequest_ = function(request) {\n  this.requests_.remove(request.getId());\n  request.getImageLoader() && (this.releaseObject_(request.getToken()), request.getImageLoader().dispose());\n  request.fireImageEventCallback();\n};\nee.MapTileManager.prototype.releaseObject_ = function(token) {\n  token.setActive(!1);\n  if (!this.tokenPool_.releaseObject(token)) {\n    throw Error(\"Object not released\");\n  }\n};\nee.MapTileManager.prototype.disposeInternal = function() {\n  goog.events.EventTarget.prototype.disposeInternal.call(this);\n  this.tokenPool_.dispose();\n  this.tokenPool_ = null;\n  var requests = this.requests_;\n  module$contents$goog$array_forEach(requests.getValues(), function(value) {\n    value.dispose();\n  });\n  requests.clear();\n  this.requests_ = null;\n};\nee.MapTileManager.getInstance = function() {\n  return goog.singleton.getInstance(ee.MapTileManager);\n};\ngoog.exportSymbol(\"ee.MapTileManager\", ee.MapTileManager);\nee.MapTileManager.MAX_RETRIES = 1;\nee.MapTileManager.ERROR_ID_IN_USE_ = \"[ee.MapTileManager] ID in use\";\nee.MapTileManager.Request_ = function(id, url, opt_imageEventCallback, opt_requestCompleteCallback, opt_maxRetries) {\n  goog.Disposable.call(this);\n  this.id_ = id;\n  this.url_ = url;\n  this.maxRetries_ = void 0 !== opt_maxRetries ? opt_maxRetries : ee.MapTileManager.MAX_RETRIES;\n  this.imageEventCallback_ = opt_imageEventCallback;\n  this.requestCompleteCallback_ = opt_requestCompleteCallback;\n};\n$jscomp.inherits(ee.MapTileManager.Request_, goog.Disposable);\nee.MapTileManager.Request_.prototype.getImageLoader = function() {\n  return this.imageLoader_;\n};\nee.MapTileManager.Request_.prototype.setImageLoader = function(imageLoader) {\n  this.imageLoader_ = imageLoader;\n};\nee.MapTileManager.Request_.prototype.getToken = function() {\n  return this.token_;\n};\nee.MapTileManager.Request_.prototype.setToken = function(token) {\n  this.token_ = token;\n};\nee.MapTileManager.Request_.prototype.addImageEventListener = function() {\n  goog.events.listenOnce(this.imageLoader_, ee.MapTileManager.Request_.IMAGE_LOADER_EVENT_TYPES_, goog.bind(this.handleImageEvent_, this));\n};\nee.MapTileManager.Request_.prototype.fireImageEventCallback = function() {\n  this.imageEventCallback_ && this.imageEventCallback_(this.event_, this.profileId_);\n};\nee.MapTileManager.Request_.prototype.getId = function() {\n  return this.id_;\n};\nee.MapTileManager.Request_.prototype.getUrl = function() {\n  return this.url_;\n};\nee.MapTileManager.Request_.prototype.getMaxRetries = function() {\n  return this.maxRetries_;\n};\nee.MapTileManager.Request_.prototype.getAttemptCount = function() {\n  return this.attemptCount_;\n};\nee.MapTileManager.Request_.prototype.increaseAttemptCount = function() {\n  this.attemptCount_++;\n};\nee.MapTileManager.Request_.prototype.hasReachedMaxRetries = function() {\n  return this.attemptCount_ > this.maxRetries_;\n};\nee.MapTileManager.Request_.prototype.setAborted = function(aborted) {\n  aborted && !this.aborted_ && (this.aborted_ = aborted, this.event_ = new goog.events.Event(goog.net.EventType.ABORT));\n};\nee.MapTileManager.Request_.prototype.getAborted = function() {\n  return this.aborted_;\n};\nee.MapTileManager.Request_.prototype.handleImageEvent_ = function(e) {\n  if (this.getAborted()) {\n    this.markCompleted_();\n  } else {\n    switch(e.type) {\n      case goog.events.EventType.LOAD:\n        this.handleSuccess_(e);\n        this.markCompleted_();\n        break;\n      case goog.net.EventType.ERROR:\n      case goog.net.EventType.ABORT:\n        this.handleError_(e);\n    }\n  }\n};\nee.MapTileManager.Request_.prototype.markCompleted_ = function() {\n  this.requestCompleteCallback_ && this.requestCompleteCallback_(this);\n};\nee.MapTileManager.Request_.prototype.handleSuccess_ = function(e) {\n  this.event_ = e;\n};\nee.MapTileManager.Request_.prototype.handleError_ = function(e) {\n  this.retry() || (this.event_ = e, this.markCompleted_());\n};\nee.MapTileManager.Request_.prototype.disposeInternal = function() {\n  goog.Disposable.prototype.disposeInternal.call(this);\n  delete this.imageEventCallback_;\n  delete this.requestCompleteCallback_;\n};\nee.MapTileManager.Request_.prototype.retry = function() {\n  if (this.hasReachedMaxRetries()) {\n    return !1;\n  }\n  this.increaseAttemptCount();\n  this.imageLoader_.removeImage(this.id_);\n  setTimeout(goog.bind(this.start_, this), 0);\n  return !0;\n};\nee.MapTileManager.Request_.prototype.start_ = function() {\n  if (!this.getAborted()) {\n    var actuallyLoadImage = goog.bind(function(imageUrl) {\n      this.getAborted() || (this.imageLoader_.addImage(this.id_, imageUrl), this.addImageEventListener(), this.imageLoader_.start());\n    }, this), sourceUrl = this.getUrl();\n    if (goog.Uri.parse(sourceUrl).getQueryData().containsKey(\"profiling\")) {\n      var xhrIo = new goog.net.XhrIo();\n      xhrIo.setResponseType(goog.net.XhrIo.ResponseType.BLOB);\n      xhrIo.listen(goog.net.EventType.COMPLETE, goog.bind(function(event) {\n        this.profileId_ = xhrIo.getResponseHeader(module$contents$ee$apiclient_apiclient.PROFILE_HEADER) || null;\n        if (200 <= xhrIo.getStatus() && 300 > xhrIo.getStatus()) {\n          try {\n            var objectUrl = goog.html.SafeUrl.unwrap(goog.html.SafeUrl.fromBlob(xhrIo.getResponse()));\n            var ok = objectUrl !== goog.html.SafeUrl.INNOCUOUS_STRING;\n          } catch (e) {\n          }\n        }\n        actuallyLoadImage(ok ? objectUrl : sourceUrl);\n      }, this));\n      xhrIo.listenOnce(goog.net.EventType.READY, goog.bind(xhrIo.dispose, xhrIo));\n      xhrIo.send(sourceUrl, \"GET\");\n    } else {\n      actuallyLoadImage(sourceUrl);\n    }\n  }\n};\nee.MapTileManager.Request_.prototype.attemptCount_ = 0;\nee.MapTileManager.Request_.prototype.aborted_ = !1;\nee.MapTileManager.Request_.prototype.imageLoader_ = null;\nee.MapTileManager.Request_.prototype.token_ = null;\nee.MapTileManager.Request_.prototype.event_ = null;\nee.MapTileManager.Request_.prototype.profileId_ = null;\nee.MapTileManager.Request_.IMAGE_LOADER_EVENT_TYPES_ = [goog.events.EventType.LOAD, goog.net.EventType.ABORT, goog.net.EventType.ERROR];\nee.MapTileManager.Token_ = function() {\n  goog.Disposable.call(this);\n  this.active_ = !1;\n};\n$jscomp.inherits(ee.MapTileManager.Token_, goog.Disposable);\nee.MapTileManager.Token_.prototype.setActive = function(val) {\n  this.active_ = val;\n};\nee.MapTileManager.Token_.prototype.isActive = function() {\n  return this.active_;\n};\nee.MapTileManager.TokenPool_ = function(opt_minCount, opt_maxCount) {\n  goog.structs.PriorityPool.call(this, opt_minCount, opt_maxCount);\n};\n$jscomp.inherits(ee.MapTileManager.TokenPool_, goog.structs.PriorityPool);\nee.MapTileManager.TokenPool_.prototype.createObject = function() {\n  return new ee.MapTileManager.Token_();\n};\nee.MapTileManager.TokenPool_.prototype.disposeObject = function(obj) {\n  obj.dispose();\n};\nee.MapTileManager.TokenPool_.prototype.objectCanBeReused = function(obj) {\n  return !obj.isDisposed() && !obj.isActive();\n};\nee.MapLayerOverlay = function(url, mapId, token, init, opt_profiler) {\n  ee.AbstractOverlay.call(this, url, mapId, token, init, opt_profiler);\n  this.minZoom = init.minZoom || 0;\n  this.maxZoom = init.maxZoom || 20;\n  if (!window.google || !window.google.maps) {\n    throw Error(\"Google Maps API hasn't been initialized.\");\n  }\n  this.tileSize = init.tileSize || new google.maps.Size(256, 256);\n  this.isPng = void 0 !== init.isPng ? init.isPng : !0;\n  this.name = init.name;\n  this.tiles_ = new goog.structs.Set();\n  this.opacity_ = 1.0;\n  this.visible_ = !0;\n  this.profiler_ = opt_profiler || null;\n};\n$jscomp.inherits(ee.MapLayerOverlay, ee.AbstractOverlay);\nee.MapLayerOverlay.prototype.addTileCallback = function(callback) {\n  return goog.events.listen(this, ee.AbstractOverlay.EventType.TILE_LOADED, callback);\n};\nee.MapLayerOverlay.prototype.removeTileCallback = function(callbackId) {\n  goog.events.unlistenByKey(callbackId);\n};\nee.MapLayerOverlay.prototype.dispatchTileEvent_ = function() {\n  this.dispatchEvent(new ee.TileEvent(this.tilesLoading.length));\n};\nee.MapLayerOverlay.prototype.getTile = function(coord, zoom, ownerDocument) {\n  var maxCoord;\n  if (zoom < this.minZoom || 0 > coord.y || coord.y >= 1 << zoom) {\n    var img = ownerDocument.createElement(\"IMG\");\n    img.style.width = \"0px\";\n    img.style.height = \"0px\";\n    return img;\n  }\n  var profiling = this.profiler_ && this.profiler_.isEnabled(), tileId = this.getTileId(coord, zoom), src = [this.url, tileId].join(\"/\") + \"?token=\" + this.token;\n  profiling && (src += \"&profiling=1\");\n  var uniqueTileId = [tileId, this.tileCounter, this.token].join(\"/\");\n  this.tileCounter += 1;\n  var div = goog.dom.createDom(goog.dom.TagName.DIV, {id:uniqueTileId}), priority = (new Date()).getTime() / 1000;\n  this.tilesLoading.push(uniqueTileId);\n  ee.MapTileManager.getInstance().send(uniqueTileId, src, priority, goog.bind(this.handleImageCompleted_, this, div, uniqueTileId));\n  this.dispatchTileEvent_();\n  return div;\n};\nee.MapLayerOverlay.prototype.getLoadedTilesCount = function() {\n  return this.tiles_.getCount();\n};\nee.MapLayerOverlay.prototype.getLoadingTilesCount = function() {\n  return this.tilesLoading.length;\n};\nee.MapLayerOverlay.prototype.releaseTile = function(tileDiv) {\n  ee.MapTileManager.getInstance().abort(tileDiv.id);\n  this.tiles_.remove(goog.dom.getFirstElementChild(tileDiv));\n  \"\" !== tileDiv.id && (this.tilesFailed.remove(tileDiv.id), this.profiler_ && this.profiler_.removeTile(tileDiv.id));\n};\nee.MapLayerOverlay.prototype.setOpacity = function(opacity) {\n  this.opacity_ = opacity;\n  var iter = this.tiles_.__iterator__();\n  goog.iter.forEach(iter, function(tile) {\n    goog.style.setOpacity(tile, opacity);\n  });\n};\nee.MapLayerOverlay.prototype.handleImageCompleted_ = function(div, tileId, e, profileId) {\n  if (e.type == goog.net.EventType.ERROR) {\n    module$contents$goog$array_remove(this.tilesLoading, tileId), this.tilesFailed.add(tileId), this.dispatchEvent(e);\n  } else {\n    module$contents$goog$array_remove(this.tilesLoading, tileId);\n    if (e.target && e.type == goog.events.EventType.LOAD) {\n      var tile = e.target;\n      this.tiles_.add(tile);\n      1.0 != this.opacity_ && goog.style.setOpacity(tile, this.opacity_);\n      div.appendChild(tile);\n    }\n    this.dispatchTileEvent_();\n  }\n  this.profiler_ && null !== profileId && this.profiler_.addTile(tileId, profileId);\n};\ngoog.exportSymbol(\"ee.MapLayerOverlay\", ee.MapLayerOverlay);\ngoog.exportProperty(ee.MapLayerOverlay.prototype, \"removeTileCallback\", ee.MapLayerOverlay.prototype.removeTileCallback);\ngoog.exportProperty(ee.MapLayerOverlay.prototype, \"addTileCallback\", ee.MapLayerOverlay.prototype.addTileCallback);\ngoog.exportProperty(ee.MapLayerOverlay.prototype, \"getTile\", ee.MapLayerOverlay.prototype.getTile);\ngoog.exportProperty(ee.MapLayerOverlay.prototype, \"setOpacity\", ee.MapLayerOverlay.prototype.setOpacity);\ngoog.exportProperty(ee.MapLayerOverlay.prototype, \"releaseTile\", ee.MapLayerOverlay.prototype.releaseTile);\ngoog.async.Delay = function(listener, opt_interval, opt_handler) {\n  goog.Disposable.call(this);\n  this.listener_ = listener;\n  this.interval_ = opt_interval || 0;\n  this.handler_ = opt_handler;\n  this.callback_ = goog.bind(this.doAction_, this);\n};\ngoog.inherits(goog.async.Delay, goog.Disposable);\ngoog.async.Delay.prototype.id_ = 0;\ngoog.async.Delay.prototype.disposeInternal = function() {\n  goog.async.Delay.superClass_.disposeInternal.call(this);\n  this.stop();\n  delete this.listener_;\n  delete this.handler_;\n};\ngoog.async.Delay.prototype.start = function(opt_interval) {\n  this.stop();\n  this.id_ = goog.Timer.callOnce(this.callback_, void 0 !== opt_interval ? opt_interval : this.interval_);\n};\ngoog.async.Delay.prototype.startIfNotActive = function(opt_interval) {\n  this.isActive() || this.start(opt_interval);\n};\ngoog.async.Delay.prototype.stop = function() {\n  this.isActive() && goog.Timer.clear(this.id_);\n  this.id_ = 0;\n};\ngoog.async.Delay.prototype.fire = function() {\n  this.stop();\n  this.doAction_();\n};\ngoog.async.Delay.prototype.fireIfActive = function() {\n  this.isActive() && this.fire();\n};\ngoog.async.Delay.prototype.isActive = function() {\n  return 0 != this.id_;\n};\ngoog.async.Delay.prototype.doAction_ = function() {\n  this.id_ = 0;\n  this.listener_ && this.listener_.call(this.handler_);\n};\nee.data.Profiler = function(format) {\n  goog.events.EventTarget.call(this);\n  this.format_ = format;\n  this.isEnabled_ = !1;\n  this.lastRefreshToken_ = null;\n  this.profileIds_ = Object.create(null);\n  this.tileProfileIds_ = Object.create(null);\n  this.showInternal_ = !1;\n  this.profileError_ = null;\n  this.throttledRefresh_ = new goog.async.Delay(goog.bind(this.refresh_, this), ee.data.Profiler.DELAY_BEFORE_REFRESH_);\n  this.profileData_ = ee.data.Profiler.getEmptyProfile_(format);\n  this.MAX_RETRY_COUNT_ = 5;\n};\n$jscomp.inherits(ee.data.Profiler, goog.events.EventTarget);\nee.data.Profiler.prototype.isEnabled = function() {\n  return this.isEnabled_;\n};\nee.data.Profiler.prototype.setEnabled = function(value) {\n  this.isEnabled_ = !!value;\n  this.dispatchEvent(new goog.events.Event(ee.data.Profiler.EventType.STATE_CHANGED));\n};\nee.data.Profiler.prototype.isLoading = function() {\n  return null !== this.lastRefreshToken_;\n};\nee.data.Profiler.prototype.isError = function() {\n  return null != this.profileError_;\n};\nee.data.Profiler.prototype.getStatusText = function() {\n  if (this.profileError_) {\n    return this.profileError_;\n  }\n  if (this.lastRefreshToken_) {\n    return \"Loading...\";\n  }\n  var profiles = 0, nonTileProfiles = 0, tileProfiles = 0;\n  module$contents$goog$object_forEach(this.profileIds_, function(refCount) {\n    profiles++;\n    Infinity === refCount ? nonTileProfiles++ : tileProfiles++;\n  }, this);\n  return \"Viewing \" + profiles + \" profiles, \" + nonTileProfiles + \" from API calls and \" + tileProfiles + \" from map tiles.\";\n};\nee.data.Profiler.prototype.getProfileData = function() {\n  return this.profileData_;\n};\nee.data.Profiler.prototype.clearAndDrop = function() {\n  this.profileIds_ = Object.create(null);\n  this.tileProfileIds_ = Object.create(null);\n  this.refresh_();\n};\nee.data.Profiler.prototype.getProfileHook = function() {\n  var profileIds = this.profileIds_;\n  return this.isEnabled_ ? goog.bind(function(profileId) {\n    profileIds[profileId] = Infinity;\n    this.throttledRefresh_.start();\n  }, this) : null;\n};\nee.data.Profiler.prototype.removeProfile_ = function(profileId) {\n  var count = this.profileIds_[profileId];\n  1 < count ? this.profileIds_[profileId]-- : void 0 !== count && (delete this.profileIds_[profileId], this.throttledRefresh_.start());\n};\nee.data.Profiler.prototype.refresh_ = function(retryAttempt) {\n  var $jscomp$this = this;\n  retryAttempt = void 0 === retryAttempt ? 0 : retryAttempt;\n  var marker = {};\n  this.lastRefreshToken_ = marker;\n  var handleResponse = function(result, error) {\n    marker == $jscomp$this.lastRefreshToken_ && (error && \"number\" === typeof retryAttempt && retryAttempt < $jscomp$this.MAX_RETRY_COUNT_ ? goog.Timer.callOnce(goog.bind($jscomp$this.refresh_, $jscomp$this, retryAttempt + 1), 2 * ee.data.Profiler.DELAY_BEFORE_REFRESH_) : ($jscomp$this.profileError_ = error || null, $jscomp$this.profileData_ = error ? ee.data.Profiler.getEmptyProfile_($jscomp$this.format_) : result, $jscomp$this.lastRefreshToken_ = null, $jscomp$this.dispatchEvent(ee.data.Profiler.EventType.STATE_CHANGED), \n    $jscomp$this.dispatchEvent(ee.data.Profiler.EventType.DATA_CHANGED)));\n  }, ids = module$contents$goog$object_getKeys(this.profileIds_);\n  0 === ids.length ? handleResponse(ee.data.Profiler.getEmptyProfile_(this.format_), void 0) : (ee.ApiFunction._apply(this.showInternal_ ? \"Profile.getProfilesInternal\" : \"Profile.getProfiles\", {ids:ids, format:this.format_.toString(),}).getInfo(handleResponse), this.dispatchEvent(ee.data.Profiler.EventType.STATE_CHANGED));\n};\nee.data.Profiler.prototype.addTile = function(tileId, profileId) {\n  this.tileProfileIds_[tileId] || (this.tileProfileIds_[tileId] = profileId, this.profileIds_[profileId] = (this.profileIds_[profileId] || 0) + 1, this.throttledRefresh_.start());\n};\nee.data.Profiler.prototype.removeTile = function(tileId) {\n  var profileId = this.tileProfileIds_[tileId];\n  profileId && (delete this.tileProfileIds_[tileId], this.removeProfile_(profileId));\n};\nee.data.Profiler.prototype.getShowInternal = function() {\n  return this.showInternal_;\n};\nee.data.Profiler.prototype.setShowInternal = function(value) {\n  this.showInternal_ = !!value;\n  this.throttledRefresh_.fire();\n};\nee.data.Profiler.prototype.setParentEventTarget = function(parent) {\n  throw Error(\"not applicable\");\n};\nee.data.Profiler.getEmptyProfile_ = function(format) {\n  switch(format) {\n    case ee.data.Profiler.Format.TEXT:\n      return \"\";\n    case ee.data.Profiler.Format.JSON:\n      return ee.data.Profiler.EMPTY_JSON_PROFILE_;\n    default:\n      throw Error(\"Invalid Profiler data format: \" + format);\n  }\n};\nee.data.Profiler.DELAY_BEFORE_REFRESH_ = 500;\nee.data.Profiler.EMPTY_JSON_PROFILE_ = {cols:[], rows:[]};\nee.data.Profiler.EventType = {STATE_CHANGED:\"statechanged\", DATA_CHANGED:\"datachanged\"};\nee.data.Profiler.Format = function(format) {\n  this.format_ = format;\n};\nee.data.Profiler.Format.prototype.toString = function() {\n  return this.format_;\n};\nee.data.Profiler.Format.TEXT = new ee.data.Profiler.Format(\"text\");\nee.data.Profiler.Format.JSON = new ee.data.Profiler.Format(\"json\");\n(function() {\n  var exportedFnInfo = {}, orderedFnNames = \"ee.ApiFunction._apply ee.ApiFunction.lookup ee.ApiFunction._call ee.batch.Export.table.toFeatureView ee.batch.Export.video.toCloudStorage ee.batch.Export.videoMap.toCloudStorage ee.batch.Export.image.toAsset ee.batch.Export.table.toAsset ee.batch.Export.classifier.toAsset ee.batch.Export.video.toDrive ee.batch.Export.image.toCloudStorage ee.batch.Export.image.toDrive ee.batch.Export.map.toCloudStorage ee.batch.Export.table.toCloudStorage ee.batch.Export.table.toDrive ee.Collection.prototype.limit ee.Collection.prototype.map ee.Collection.prototype.filterMetadata ee.Collection.prototype.sort ee.Collection.prototype.filterDate ee.Collection.prototype.filter ee.Collection.prototype.iterate ee.Collection.prototype.filterBounds ee.ComputedObject.prototype.aside ee.ComputedObject.prototype.evaluate ee.ComputedObject.prototype.getInfo ee.ComputedObject.prototype.serialize ee.data.deleteAsset ee.data.startIngestion ee.data.getVideoThumbId ee.data.getList ee.data.getFilmstripThumbId ee.data.listAssets ee.data.makeThumbUrl ee.data.authenticateViaOauth ee.data.startTableIngestion ee.data.getDownloadId ee.data.getAssetAcl ee.data.listImages ee.data.getAssetRoots ee.data.setAssetAcl ee.data.updateAsset ee.data.getTableDownloadId ee.data.getAsset ee.data.getInfo ee.data.makeDownloadUrl ee.data.listBuckets ee.data.makeTableDownloadUrl ee.data.setAssetProperties ee.data.authenticateViaPopup ee.data.createAssetHome ee.data.getAssetRootQuota ee.data.newTaskId ee.data.authenticateViaPrivateKey ee.data.cancelOperation ee.data.createAsset ee.data.getOperation ee.data.getTaskStatus ee.data.createFolder ee.data.getMapId ee.data.listOperations ee.data.renameAsset ee.data.getFeatureViewTilesKey ee.data.updateTask ee.data.cancelTask ee.data.getTaskListWithLimit ee.data.getThumbId ee.data.computeValue ee.data.startProcessing ee.data.authenticate ee.data.getTaskList ee.data.copyAsset ee.data.getTileUrl ee.Date ee.Deserializer.fromCloudApiJSON ee.Deserializer.decode ee.Deserializer.fromJSON ee.Deserializer.decodeCloudApi ee.Dictionary ee.call ee.reset ee.TILE_SIZE ee.InitState ee.apply ee.initialize ee.Algorithms ee.Element.prototype.set ee.Feature.prototype.getInfo ee.Feature ee.Feature.prototype.getMap ee.FeatureCollection.prototype.select ee.FeatureCollection.prototype.getDownloadURL ee.FeatureCollection ee.FeatureCollection.prototype.getMap ee.FeatureCollection.prototype.getInfo ee.Filter ee.Filter.or ee.Filter.lt ee.Filter.date ee.Filter.eq ee.Filter.gte ee.Filter.lte ee.Filter.neq ee.Filter.and ee.Filter.metadata ee.Filter.inList ee.Filter.bounds ee.Filter.gt ee.Filter.prototype.not ee.Function.prototype.apply ee.Function.prototype.call ee.Geometry.LineString ee.Geometry ee.Geometry.prototype.toGeoJSONString ee.Geometry.BBox ee.Geometry.MultiPolygon ee.Geometry.MultiLineString ee.Geometry.Point ee.Geometry.prototype.serialize ee.Geometry.Rectangle ee.Geometry.LinearRing ee.Geometry.prototype.toGeoJSON ee.Geometry.MultiPoint ee.Geometry.Polygon ee.Image.prototype.rename ee.Image.prototype.getDownloadURL ee.Image.prototype.select ee.Image.prototype.getMap ee.Image.prototype.getThumbURL ee.Image ee.Image.prototype.getThumbId ee.Image.prototype.expression ee.Image.prototype.clip ee.Image.rgb ee.Image.cat ee.Image.prototype.getInfo ee.ImageCollection.prototype.getFilmstripThumbURL ee.ImageCollection.prototype.getInfo ee.ImageCollection.prototype.getVideoThumbURL ee.ImageCollection.prototype.first ee.ImageCollection ee.ImageCollection.prototype.getMap ee.ImageCollection.prototype.select ee.List ee.Number ee.Serializer.encodeCloudApiPretty ee.Serializer.toCloudApiJSON ee.Serializer.encode ee.Serializer.toJSON ee.Serializer.encodeCloudApi ee.Serializer.toReadableCloudApiJSON ee.Serializer.toReadableJSON ee.String ee.Terrain\".split(\" \"), \n  orderedParamLists = [[\"name\", \"namedArgs\"], [\"name\"], [\"name\", \"var_args\"], [\"collection\", \"opt_description\", \"opt_assetId\"], \"collection opt_description opt_bucket opt_fileNamePrefix opt_framesPerSecond opt_dimensions opt_region opt_scale opt_crs opt_crsTransform opt_maxPixels opt_maxFrames\".split(\" \"), \"collection opt_description opt_bucket opt_fileNamePrefix opt_framesPerSecond opt_writePublicTiles opt_minZoom opt_maxZoom opt_scale opt_region opt_skipEmptyTiles opt_minTimeMachineZoomSubset opt_maxTimeMachineZoomSubset opt_tileWidth opt_tileHeight opt_tileStride opt_videoFormat opt_version opt_mapsApiKey opt_bucketCorsUris\".split(\" \"), \n  \"image opt_description opt_assetId opt_pyramidingPolicy opt_dimensions opt_region opt_scale opt_crs opt_crsTransform opt_maxPixels opt_shardSize\".split(\" \"), [\"collection\", \"opt_description\", \"opt_assetId\", \"opt_maxVertices\"], [\"classifier\", \"opt_description\", \"opt_assetId\"], \"collection opt_description opt_folder opt_fileNamePrefix opt_framesPerSecond opt_dimensions opt_region opt_scale opt_crs opt_crsTransform opt_maxPixels opt_maxFrames\".split(\" \"), \"image opt_description opt_bucket opt_fileNamePrefix opt_dimensions opt_region opt_scale opt_crs opt_crsTransform opt_maxPixels opt_shardSize opt_fileDimensions opt_skipEmptyTiles opt_fileFormat opt_formatOptions\".split(\" \"), \n  \"image opt_description opt_folder opt_fileNamePrefix opt_dimensions opt_region opt_scale opt_crs opt_crsTransform opt_maxPixels opt_shardSize opt_fileDimensions opt_skipEmptyTiles opt_fileFormat opt_formatOptions\".split(\" \"), \"image opt_description opt_bucket opt_fileFormat opt_path opt_writePublicTiles opt_scale opt_maxZoom opt_minZoom opt_region opt_skipEmptyTiles opt_mapsApiKey opt_bucketCorsUris\".split(\" \"), \"collection opt_description opt_bucket opt_fileNamePrefix opt_fileFormat opt_selectors opt_maxVertices\".split(\" \"), \n  \"collection opt_description opt_folder opt_fileNamePrefix opt_fileFormat opt_selectors opt_maxVertices\".split(\" \"), [\"max\", \"opt_property\", \"opt_ascending\"], [\"algorithm\", \"opt_dropNulls\"], [\"name\", \"operator\", \"value\"], [\"property\", \"opt_ascending\"], [\"start\", \"opt_end\"], [\"filter\"], [\"algorithm\", \"opt_first\"], [\"geometry\"], [\"func\", \"var_args\"], [\"callback\"], [\"opt_callback\"], [\"legacy\"], [\"assetId\", \"opt_callback\"], [\"taskId\", \"request\", \"opt_callback\"], [\"params\", \"opt_callback\"], [\"params\", \n  \"opt_callback\"], [\"params\", \"opt_callback\"], [\"parent\", \"params\", \"opt_callback\"], [\"id\"], \"clientId success opt_error opt_extraScopes opt_onImmediateFailed opt_suppressDefaultScopes\".split(\" \"), [\"taskId\", \"request\", \"opt_callback\"], [\"params\", \"opt_callback\"], [\"assetId\", \"opt_callback\"], [\"parent\", \"params\", \"opt_callback\"], [\"opt_callback\"], [\"assetId\", \"aclUpdate\", \"opt_callback\"], [\"assetId\", \"asset\", \"updateFields\", \"opt_callback\"], [\"params\", \"opt_callback\"], [\"id\", \"opt_callback\"], [\"id\", \n  \"opt_callback\"], [\"id\"], [\"project\", \"opt_callback\"], [\"id\"], [\"assetId\", \"properties\", \"opt_callback\"], [\"opt_success\", \"opt_error\"], [\"requestedId\", \"opt_callback\"], [\"rootId\", \"opt_callback\"], [\"opt_count\", \"opt_callback\"], [\"privateKey\", \"opt_success\", \"opt_error\", \"opt_extraScopes\", \"opt_suppressDefaultScopes\"], [\"operationName\", \"opt_callback\"], [\"value\", \"opt_path\", \"opt_force\", \"opt_properties\", \"opt_callback\"], [\"operationName\", \"opt_callback\"], [\"taskId\", \"opt_callback\"], [\"path\", \"opt_force\", \n  \"opt_callback\"], [\"params\", \"opt_callback\"], [\"opt_limit\", \"opt_callback\"], [\"sourceId\", \"destinationId\", \"opt_callback\"], [\"params\", \"opt_callback\"], [\"taskId\", \"action\", \"opt_callback\"], [\"taskId\", \"opt_callback\"], [\"opt_limit\", \"opt_callback\"], [\"params\", \"opt_callback\"], [\"obj\", \"opt_callback\"], [\"taskId\", \"params\", \"opt_callback\"], [\"clientId\", \"success\", \"opt_error\", \"opt_extraScopes\", \"opt_onImmediateFailed\"], [\"opt_callback\"], [\"sourceId\", \"destinationId\", \"opt_overwrite\", \"opt_callback\"], \n  [\"id\", \"x\", \"y\", \"z\"], [\"date\", \"opt_tz\"], [\"json\"], [\"json\"], [\"json\"], [\"json\"], [\"opt_dict\"], [\"func\", \"var_args\"], [], [], [], [\"func\", \"namedArgs\"], \"opt_baseurl opt_tileurl opt_successCallback opt_errorCallback opt_xsrfToken opt_project\".split(\" \"), [], [\"var_args\"], [\"opt_callback\"], [\"geometry\", \"opt_properties\"], [\"opt_visParams\", \"opt_callback\"], [\"propertySelectors\", \"opt_newProperties\", \"opt_retainGeometry\"], [\"opt_format\", \"opt_selectors\", \"opt_filename\", \"opt_callback\"], [\"args\", \n  \"opt_column\"], [\"opt_visParams\", \"opt_callback\"], [\"opt_callback\"], [\"opt_filter\"], [\"var_args\"], [\"name\", \"value\"], [\"start\", \"opt_end\"], [\"name\", \"value\"], [\"name\", \"value\"], [\"name\", \"value\"], [\"name\", \"value\"], [\"var_args\"], [\"name\", \"operator\", \"value\"], [\"opt_leftField\", \"opt_rightValue\", \"opt_rightField\", \"opt_leftValue\"], [\"geometry\", \"opt_errorMargin\"], [\"name\", \"value\"], [], [\"namedArgs\"], [\"var_args\"], [\"coords\", \"opt_proj\", \"opt_geodesic\", \"opt_maxError\"], [\"geoJson\", \"opt_proj\", \"opt_geodesic\", \n  \"opt_evenOdd\"], [], [\"west\", \"south\", \"east\", \"north\"], [\"coords\", \"opt_proj\", \"opt_geodesic\", \"opt_maxError\", \"opt_evenOdd\"], [\"coords\", \"opt_proj\", \"opt_geodesic\", \"opt_maxError\"], [\"coords\", \"opt_proj\"], [\"legacy\"], [\"coords\", \"opt_proj\", \"opt_geodesic\", \"opt_evenOdd\"], [\"coords\", \"opt_proj\", \"opt_geodesic\", \"opt_maxError\"], [], [\"coords\", \"opt_proj\"], [\"coords\", \"opt_proj\", \"opt_geodesic\", \"opt_maxError\", \"opt_evenOdd\"], [\"var_args\"], [\"params\", \"opt_callback\"], [\"var_args\"], [\"opt_visParams\", \n  \"opt_callback\"], [\"params\", \"opt_callback\"], [\"opt_args\"], [\"params\", \"opt_callback\"], [\"expression\", \"opt_map\"], [\"geometry\"], [\"r\", \"g\", \"b\"], [\"var_args\"], [\"opt_callback\"], [\"params\", \"opt_callback\"], [\"opt_callback\"], [\"params\", \"opt_callback\"], [], [\"args\"], [\"opt_visParams\", \"opt_callback\"], [\"selectors\", \"opt_names\"], [\"list\"], [\"number\"], [\"obj\"], [\"obj\"], [\"obj\", \"opt_isCompound\"], [\"obj\"], [\"obj\"], [\"obj\"], [\"obj\"], [\"string\"], []];\n  [ee.ApiFunction._apply, ee.ApiFunction.lookup, ee.ApiFunction._call, module$contents$ee$batch_Export.table.toFeatureView, module$contents$ee$batch_Export.video.toCloudStorage, module$contents$ee$batch_Export.videoMap.toCloudStorage, module$contents$ee$batch_Export.image.toAsset, module$contents$ee$batch_Export.table.toAsset, module$contents$ee$batch_Export.classifier.toAsset, module$contents$ee$batch_Export.video.toDrive, module$contents$ee$batch_Export.image.toCloudStorage, module$contents$ee$batch_Export.image.toDrive, \n  module$contents$ee$batch_Export.map.toCloudStorage, module$contents$ee$batch_Export.table.toCloudStorage, module$contents$ee$batch_Export.table.toDrive, ee.Collection.prototype.limit, ee.Collection.prototype.map, ee.Collection.prototype.filterMetadata, ee.Collection.prototype.sort, ee.Collection.prototype.filterDate, ee.Collection.prototype.filter, ee.Collection.prototype.iterate, ee.Collection.prototype.filterBounds, ee.ComputedObject.prototype.aside, ee.ComputedObject.prototype.evaluate, ee.ComputedObject.prototype.getInfo, \n  ee.ComputedObject.prototype.serialize, ee.data.deleteAsset, ee.data.startIngestion, ee.data.getVideoThumbId, ee.data.getList, ee.data.getFilmstripThumbId, ee.data.listAssets, ee.data.makeThumbUrl, ee.data.authenticateViaOauth, ee.data.startTableIngestion, ee.data.getDownloadId, ee.data.getAssetAcl, ee.data.listImages, ee.data.getAssetRoots, ee.data.setAssetAcl, ee.data.updateAsset, ee.data.getTableDownloadId, ee.data.getAsset, ee.data.getInfo, ee.data.makeDownloadUrl, ee.data.listBuckets, ee.data.makeTableDownloadUrl, \n  ee.data.setAssetProperties, ee.data.authenticateViaPopup, ee.data.createAssetHome, ee.data.getAssetRootQuota, ee.data.newTaskId, ee.data.authenticateViaPrivateKey, ee.data.cancelOperation, ee.data.createAsset, ee.data.getOperation, ee.data.getTaskStatus, ee.data.createFolder, ee.data.getMapId, ee.data.listOperations, ee.data.renameAsset, ee.data.getFeatureViewTilesKey, ee.data.updateTask, ee.data.cancelTask, ee.data.getTaskListWithLimit, ee.data.getThumbId, ee.data.computeValue, ee.data.startProcessing, \n  ee.data.authenticate, ee.data.getTaskList, ee.data.copyAsset, ee.data.getTileUrl, ee.Date, ee.Deserializer.fromCloudApiJSON, ee.Deserializer.decode, ee.Deserializer.fromJSON, ee.Deserializer.decodeCloudApi, ee.Dictionary, ee.call, ee.reset, ee.TILE_SIZE, ee.InitState, ee.apply, ee.initialize, ee.Algorithms, ee.Element.prototype.set, ee.Feature.prototype.getInfo, ee.Feature, ee.Feature.prototype.getMap, ee.FeatureCollection.prototype.select, ee.FeatureCollection.prototype.getDownloadURL, ee.FeatureCollection, \n  ee.FeatureCollection.prototype.getMap, ee.FeatureCollection.prototype.getInfo, ee.Filter, ee.Filter.or, ee.Filter.lt, ee.Filter.date, ee.Filter.eq, ee.Filter.gte, ee.Filter.lte, ee.Filter.neq, ee.Filter.and, ee.Filter.metadata, ee.Filter.inList, ee.Filter.bounds, ee.Filter.gt, ee.Filter.prototype.not, ee.Function.prototype.apply, ee.Function.prototype.call, ee.Geometry.LineString, ee.Geometry, ee.Geometry.prototype.toGeoJSONString, ee.Geometry.BBox, ee.Geometry.MultiPolygon, ee.Geometry.MultiLineString, \n  ee.Geometry.Point, ee.Geometry.prototype.serialize, ee.Geometry.Rectangle, ee.Geometry.LinearRing, ee.Geometry.prototype.toGeoJSON, ee.Geometry.MultiPoint, ee.Geometry.Polygon, ee.Image.prototype.rename, ee.Image.prototype.getDownloadURL, ee.Image.prototype.select, ee.Image.prototype.getMap, ee.Image.prototype.getThumbURL, ee.Image, ee.Image.prototype.getThumbId, ee.Image.prototype.expression, ee.Image.prototype.clip, ee.Image.rgb, ee.Image.cat, ee.Image.prototype.getInfo, ee.ImageCollection.prototype.getFilmstripThumbURL, \n  ee.ImageCollection.prototype.getInfo, ee.ImageCollection.prototype.getVideoThumbURL, ee.ImageCollection.prototype.first, ee.ImageCollection, ee.ImageCollection.prototype.getMap, ee.ImageCollection.prototype.select, ee.List, ee.Number, ee.Serializer.encodeCloudApiPretty, ee.Serializer.toCloudApiJSON, ee.Serializer.encode, ee.Serializer.toJSON, ee.Serializer.encodeCloudApi, ee.Serializer.toReadableCloudApiJSON, ee.Serializer.toReadableJSON, ee.String, ee.Terrain].forEach(function(fn, i) {\n    fn && (exportedFnInfo[fn.toString()] = {name:orderedFnNames[i], paramNames:orderedParamLists[i]});\n  });\n  goog.global.EXPORTED_FN_INFO = exportedFnInfo;\n})();\n\ngoog.global = window;\ngoog.Timer.defaultTimerObject = window;\nmodule.exports = ee;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGdvb2dsZS9lYXJ0aGVuZ2luZS9idWlsZC9icm93c2VyLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsZ0NBQWdDLEdBQUc7QUFDdEU7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0xBQWtMLHFCQUFNLElBQUkscUJBQU0sV0FBVyw0QkFBNEI7QUFDek87QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsc0JBQXNCO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUVBQXlFLHlDQUF5QztBQUNsSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixzQkFBc0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELHlDQUF5QztBQUNwRyxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlGQUF5Rix5Q0FBeUM7QUFDbEk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELG9EQUFvRDtBQUNyRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOE1BQThNLHVCQUF1QjtBQUNyTztBQUNBLDRLQUE0SztBQUM1SztBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsNEJBQTRCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDJDQUEyQztBQUNoRTtBQUNBLFdBQVcsS0FBSztBQUNoQjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyw0QkFBNEI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUywwQkFBMEI7QUFDbkM7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxz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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsdUNBQXVDO0FBQ3hEO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsSUFBSTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUVBQXlFLGtCQUFrQjtBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0Isd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscVJBQXFSO0FBQ3JSLE1BQU07QUFDTjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Qsc0JBQXNCO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILDZEQUE2RCxrQkFBa0I7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FO0FBQ25FLDZFQUE2RSxzQkFBc0Isd0JBQXdCLHdCQUF3Qix1QkFBdUI7QUFDMUssc0NBQXNDLE1BQU0sSUFBSTtBQUNoRDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxzQkFBc0I7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHNEQUFzRDtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsdUZBQXVGO0FBQ3RJLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsU0FBUztBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnQ0FBZ0M7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0dBQXdHLGFBQWE7QUFDckg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUFDQTtBQUNBLHFFQUFxRTtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdU5BQXVOLGlDQUFpQztBQUN4UDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0dBQXdHLHNDQUFzQztBQUM5STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RUFBdUU7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlEO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixtQkFBbUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLGtDQUFrQyxRQUFRO0FBQzFDO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSxzQkFBc0I7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDBCQUEwQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsSUFBSTtBQUNKLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sMkJBQTJCLFFBQVE7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxvQkFBb0I7QUFDakU7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFLG9CQUFvQjtBQUMzRjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGtDQUFrQztBQUMzQztBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsNkJBQTZCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEVBQTBFLHNCQUFzQjtBQUNoRztBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsWUFBWTtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Ysb0JBQW9CLE1BQU07QUFDMUI7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWixHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGVBQWU7QUFDbkM7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLHVCQUF1QjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDhFQUE4RTtBQUM5RixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RUFBdUU7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLHNCQUFzQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsa0JBQWtCO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsR0FBRztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCxLQUFLO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1S0FBdUssbUJBQW1CO0FBQzFMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxpREFBaUQsTUFBTTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msa0JBQWtCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0dBQWtHLHlCQUF5QjtBQUMzSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMlBBQTJQLG1CQUFtQjtBQUM5UTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUUsRUFBRSw4QkFBOEIsS0FBSztBQUMxRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxzQ0FBc0MsRUFBRTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0U7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRSw2Q0FBNkM7QUFDeEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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VyxlQUFlO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxJQUFJO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNIQUFzSCw4Q0FB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEdBQTRHLHlGQUF5RjtBQUNyTTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEdBQThHLHNCQUFzQjtBQUNwSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELEVBQUU7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtIQUFrSCxpQkFBaUI7QUFDbkk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFLGlCQUFpQjtBQUM3RjtBQUNBO0FBQ0E7QUFD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QUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0EsMkRBQTJELDhIQUE4SDtBQUN6TDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixzQkFBc0IsYUFBYTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixhQUFhO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDZDQUE2QztBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsNkNBQTZDO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixPQUFPO0FBQ2pDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQiwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRIQUE0SCw0QkFBNEI7QUFDeEo7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsaUJBQWlCO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtGQUErRjtBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsdUhBQXVILHVCQUF1QjtBQUM5STtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsbUdBQW1HLG9CQUFvQjtBQUN2SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsb0VBQW9FLHlCQUF5QjtBQUMxSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2QsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLHlCQUF5QixtSEFBbUgsNkJBQTZCO0FBQzVLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0dBQWdHLEtBQUs7QUFDckcsb0dBQW9HLEtBQUs7QUFDekcsc0dBQXNHLEtBQUs7QUFDM0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUpBQWlKLHlCQUF5QjtBQUMxSztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRywrQkFBK0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyw4Q0FBOEMsdUJBQXVCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLEdBQUcscUJBQXFCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHLGtCQUFrQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHLGtFQUFrRSxnREFBZ0QsR0FBRyw4REFBOEQsR0FBRyxrREFBa0Q7QUFDM087QUFDQSxHQUFHO0FBQ0gsOERBQThEO0FBQzlEO0FBQ0EsR0FBRyxjQUFjO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxvSkFBb0o7QUFDdko7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCx5RUFBeUUsNENBQTRDO0FBQ3JIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHFDQUFxQztBQUNyQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEVBQThFLFVBQVU7QUFDeEY7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsYUFBYSx1RUFBdUUsY0FBYztBQUM1RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7QUFDQSxJQUFJO0FBQ0osZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IseUNBQXlDO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDRGQUE0RjtBQUN0SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDZLQUE2SyxnSEFBZ0gsb0JBQW9CO0FBQ2pUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxnT0FBZ08sYUFBYTtBQUM3TyxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELGlCQUFpQjtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxxQkFBcUI7QUFDdkQ7QUFDQSw2Q0FBNkMsYUFBYTtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsNkRBQTZELGtCQUFrQjtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNlRBQTZUO0FBQzdUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLGlDQUFpQztBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLG1KQUFtSjtBQUNoTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsOERBQThELGlEQUFpRDtBQUMvRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixpQkFBaUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsaUJBQWlCO0FBQ3JDO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlCQUFpQjtBQUNyQztBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyR0FBMkcsc0JBQXNCO0FBQ2pJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1OQUFtTix5QkFBeUI7QUFDNU87QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5UEFBeVAsb0NBQW9DO0FBQzdSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEMsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFLHNGQUFzRjtBQUM3SjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw0QkFBNEI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLHNCQUFzQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELGtCQUFrQjtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELFFBQVE7QUFDekQ7QUFDQTtBQUNBO0FBQ0EsY0FBYyxTQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDJGQUEyRjtBQUMzRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxpQ0FBaUM7QUFDekU7QUFDQTtBQUNBLFNBQVMsNERBQTREO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLHFCQUFxQjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxpQkFBaUI7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLGNBQWMsaUJBQWlCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFLG1CQUFtQjtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxVQUFVO0FBQy9EO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0UsT0FBTztBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLE9BQU87QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4Qyw0QkFBNEI7QUFDMUU7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELGdCQUFnQjtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsbU1BQW1NLHlDQUF5QztBQUM1TztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsd0RBQXdEO0FBQ3BHLEdBQUc7QUFDSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9wb19wcm9maWxlcl9wcm9qLy4vbm9kZV9tb2R1bGVzL0Bnb29nbGUvZWFydGhlbmdpbmUvYnVpbGQvYnJvd3Nlci5qcz85ZGZkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG5cbiBDb3B5cmlnaHQgVGhlIENsb3N1cmUgTGlicmFyeSBBdXRob3JzLlxuIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4qL1xudmFyIGlzQ2hyb21lODcsICRqc2NvbXAgPSAkanNjb21wIHx8IHt9O1xuJGpzY29tcC5zY29wZSA9IHt9O1xuJGpzY29tcC5hcnJheUl0ZXJhdG9ySW1wbCA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gIHZhciBpbmRleCA9IDA7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaW5kZXggPCBhcnJheS5sZW5ndGggPyB7ZG9uZTohMSwgdmFsdWU6YXJyYXlbaW5kZXgrK10sfSA6IHtkb25lOiEwfTtcbiAgfTtcbn07XG4kanNjb21wLmFycmF5SXRlcmF0b3IgPSBmdW5jdGlvbihhcnJheSkge1xuICByZXR1cm4ge25leHQ6JGpzY29tcC5hcnJheUl0ZXJhdG9ySW1wbChhcnJheSl9O1xufTtcbiRqc2NvbXAuQVNTVU1FX0VTNSA9ICExO1xuJGpzY29tcC5BU1NVTUVfTk9fTkFUSVZFX01BUCA9ICExO1xuJGpzY29tcC5BU1NVTUVfTk9fTkFUSVZFX1NFVCA9ICExO1xuJGpzY29tcC5TSU1QTEVfRlJPVU5EX1BPTFlGSUxMID0gITE7XG4kanNjb21wLklTT0xBVEVfUE9MWUZJTExTID0gITE7XG4kanNjb21wLkZPUkNFX1BPTFlGSUxMX1BST01JU0UgPSAhMTtcbiRqc2NvbXAuRk9SQ0VfUE9MWUZJTExfUFJPTUlTRV9XSEVOX05PX1VOSEFORExFRF9SRUpFQ1RJT04gPSAhMTtcbiRqc2NvbXAuZGVmaW5lUHJvcGVydHkgPSAkanNjb21wLkFTU1VNRV9FUzUgfHwgXCJmdW5jdGlvblwiID09IHR5cGVvZiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSA6IGZ1bmN0aW9uKHRhcmdldCwgcHJvcGVydHksIGRlc2NyaXB0b3IpIHtcbiAgaWYgKHRhcmdldCA9PSBBcnJheS5wcm90b3R5cGUgfHwgdGFyZ2V0ID09IE9iamVjdC5wcm90b3R5cGUpIHtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG4gIHRhcmdldFtwcm9wZXJ0eV0gPSBkZXNjcmlwdG9yLnZhbHVlO1xuICByZXR1cm4gdGFyZ2V0O1xufTtcbiRqc2NvbXAuZ2V0R2xvYmFsID0gZnVuY3Rpb24ocGFzc2VkSW5UaGlzKSB7XG4gIGZvciAodmFyIHBvc3NpYmxlR2xvYmFscyA9IFtcIm9iamVjdFwiID09IHR5cGVvZiBnbG9iYWxUaGlzICYmIGdsb2JhbFRoaXMsIHBhc3NlZEluVGhpcywgXCJvYmplY3RcIiA9PSB0eXBlb2Ygd2luZG93ICYmIHdpbmRvdywgXCJvYmplY3RcIiA9PSB0eXBlb2Ygc2VsZiAmJiBzZWxmLCBcIm9iamVjdFwiID09IHR5cGVvZiBnbG9iYWwgJiYgZ2xvYmFsLF0sIGkgPSAwOyBpIDwgcG9zc2libGVHbG9iYWxzLmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIG1heWJlR2xvYmFsID0gcG9zc2libGVHbG9iYWxzW2ldO1xuICAgIGlmIChtYXliZUdsb2JhbCAmJiBtYXliZUdsb2JhbC5NYXRoID09IE1hdGgpIHtcbiAgICAgIHJldHVybiBtYXliZUdsb2JhbDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHRocm93IEVycm9yKFwiQ2Fubm90IGZpbmQgZ2xvYmFsIG9iamVjdFwiKTtcbiAgfSgpO1xufTtcbiRqc2NvbXAuZ2xvYmFsID0gJGpzY29tcC5nZXRHbG9iYWwodGhpcyk7XG4kanNjb21wLklTX1NZTUJPTF9OQVRJVkUgPSBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PT0gdHlwZW9mIFN5bWJvbChcInhcIik7XG4kanNjb21wLlRSVVNUX0VTNl9QT0xZRklMTFMgPSAhJGpzY29tcC5JU09MQVRFX1BPTFlGSUxMUyB8fCAkanNjb21wLklTX1NZTUJPTF9OQVRJVkU7XG4kanNjb21wLnBvbHlmaWxscyA9IHt9O1xuJGpzY29tcC5wcm9wZXJ0eVRvUG9seWZpbGxTeW1ib2wgPSB7fTtcbiRqc2NvbXAuUE9MWUZJTExfUFJFRklYID0gXCIkanNjcCRcIjtcbnZhciAkanNjb21wJGxvb2t1cFBvbHlmaWxsZWRWYWx1ZSA9IGZ1bmN0aW9uKHRhcmdldCwgcHJvcGVydHkpIHtcbiAgdmFyIG9iZnVzY2F0ZWROYW1lID0gJGpzY29tcC5wcm9wZXJ0eVRvUG9seWZpbGxTeW1ib2xbcHJvcGVydHldO1xuICBpZiAobnVsbCA9PSBvYmZ1c2NhdGVkTmFtZSkge1xuICAgIHJldHVybiB0YXJnZXRbcHJvcGVydHldO1xuICB9XG4gIHZhciBwb2x5ZmlsbCA9IHRhcmdldFtvYmZ1c2NhdGVkTmFtZV07XG4gIHJldHVybiB2b2lkIDAgIT09IHBvbHlmaWxsID8gcG9seWZpbGwgOiB0YXJnZXRbcHJvcGVydHldO1xufTtcbiRqc2NvbXAucG9seWZpbGwgPSBmdW5jdGlvbih0YXJnZXQsIHBvbHlmaWxsLCBmcm9tTGFuZywgdG9MYW5nKSB7XG4gIHBvbHlmaWxsICYmICgkanNjb21wLklTT0xBVEVfUE9MWUZJTExTID8gJGpzY29tcC5wb2x5ZmlsbElzb2xhdGVkKHRhcmdldCwgcG9seWZpbGwsIGZyb21MYW5nLCB0b0xhbmcpIDogJGpzY29tcC5wb2x5ZmlsbFVuaXNvbGF0ZWQodGFyZ2V0LCBwb2x5ZmlsbCwgZnJvbUxhbmcsIHRvTGFuZykpO1xufTtcbiRqc2NvbXAucG9seWZpbGxVbmlzb2xhdGVkID0gZnVuY3Rpb24odGFyZ2V0LCBwb2x5ZmlsbCwgZnJvbUxhbmcsIHRvTGFuZykge1xuICBmb3IgKHZhciBvYmogPSAkanNjb21wLmdsb2JhbCwgc3BsaXQgPSB0YXJnZXQuc3BsaXQoXCIuXCIpLCBpID0gMDsgaSA8IHNwbGl0Lmxlbmd0aCAtIDE7IGkrKykge1xuICAgIHZhciBrZXkgPSBzcGxpdFtpXTtcbiAgICBpZiAoIShrZXkgaW4gb2JqKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBvYmogPSBvYmpba2V5XTtcbiAgfVxuICB2YXIgcHJvcGVydHkgPSBzcGxpdFtzcGxpdC5sZW5ndGggLSAxXSwgb3JpZyA9IG9ialtwcm9wZXJ0eV0sIGltcGwgPSBwb2x5ZmlsbChvcmlnKTtcbiAgaW1wbCAhPSBvcmlnICYmIG51bGwgIT0gaW1wbCAmJiAkanNjb21wLmRlZmluZVByb3BlcnR5KG9iaiwgcHJvcGVydHksIHtjb25maWd1cmFibGU6ITAsIHdyaXRhYmxlOiEwLCB2YWx1ZTppbXBsfSk7XG59O1xuJGpzY29tcC5wb2x5ZmlsbElzb2xhdGVkID0gZnVuY3Rpb24odGFyZ2V0LCBwb2x5ZmlsbCwgZnJvbUxhbmcsIHRvTGFuZykge1xuICB2YXIgc3BsaXQgPSB0YXJnZXQuc3BsaXQoXCIuXCIpLCBpc1NpbXBsZU5hbWUgPSAxID09PSBzcGxpdC5sZW5ndGgsIHJvb3QgPSBzcGxpdFswXTtcbiAgdmFyIG93bmVyT2JqZWN0ID0gIWlzU2ltcGxlTmFtZSAmJiByb290IGluICRqc2NvbXAucG9seWZpbGxzID8gJGpzY29tcC5wb2x5ZmlsbHMgOiAkanNjb21wLmdsb2JhbDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGxpdC5sZW5ndGggLSAxOyBpKyspIHtcbiAgICB2YXIga2V5ID0gc3BsaXRbaV07XG4gICAgaWYgKCEoa2V5IGluIG93bmVyT2JqZWN0KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBvd25lck9iamVjdCA9IG93bmVyT2JqZWN0W2tleV07XG4gIH1cbiAgdmFyIHByb3BlcnR5ID0gc3BsaXRbc3BsaXQubGVuZ3RoIC0gMV0sIG5hdGl2ZUltcGwgPSAkanNjb21wLklTX1NZTUJPTF9OQVRJVkUgJiYgXCJlczZcIiA9PT0gZnJvbUxhbmcgPyBvd25lck9iamVjdFtwcm9wZXJ0eV0gOiBudWxsLCBpbXBsID0gcG9seWZpbGwobmF0aXZlSW1wbCk7XG4gIGlmIChudWxsICE9IGltcGwpIHtcbiAgICBpZiAoaXNTaW1wbGVOYW1lKSB7XG4gICAgICAkanNjb21wLmRlZmluZVByb3BlcnR5KCRqc2NvbXAucG9seWZpbGxzLCBwcm9wZXJ0eSwge2NvbmZpZ3VyYWJsZTohMCwgd3JpdGFibGU6ITAsIHZhbHVlOmltcGx9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGltcGwgIT09IG5hdGl2ZUltcGwpIHtcbiAgICAgICAgaWYgKHZvaWQgMCA9PT0gJGpzY29tcC5wcm9wZXJ0eVRvUG9seWZpbGxTeW1ib2xbcHJvcGVydHldKSB7XG4gICAgICAgICAgdmFyIEJJTl9JRCA9IDFlOSAqIE1hdGgucmFuZG9tKCkgPj4+IDA7XG4gICAgICAgICAgJGpzY29tcC5wcm9wZXJ0eVRvUG9seWZpbGxTeW1ib2xbcHJvcGVydHldID0gJGpzY29tcC5JU19TWU1CT0xfTkFUSVZFID8gJGpzY29tcC5nbG9iYWwuU3ltYm9sKHByb3BlcnR5KSA6ICRqc2NvbXAuUE9MWUZJTExfUFJFRklYICsgQklOX0lEICsgXCIkXCIgKyBwcm9wZXJ0eTtcbiAgICAgICAgfVxuICAgICAgICAkanNjb21wLmRlZmluZVByb3BlcnR5KG93bmVyT2JqZWN0LCAkanNjb21wLnByb3BlcnR5VG9Qb2x5ZmlsbFN5bWJvbFtwcm9wZXJ0eV0sIHtjb25maWd1cmFibGU6ITAsIHdyaXRhYmxlOiEwLCB2YWx1ZTppbXBsfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuJGpzY29tcC5pbml0U3ltYm9sID0gZnVuY3Rpb24oKSB7XG59O1xuJGpzY29tcC5wb2x5ZmlsbChcIlN5bWJvbFwiLCBmdW5jdGlvbihvcmlnKSB7XG4gIGlmIChvcmlnKSB7XG4gICAgcmV0dXJuIG9yaWc7XG4gIH1cbiAgdmFyIFN5bWJvbENsYXNzID0gZnVuY3Rpb24oaWQsIG9wdF9kZXNjcmlwdGlvbikge1xuICAgIHRoaXMuJGpzY29tcCRzeW1ib2wkaWRfID0gaWQ7XG4gICAgJGpzY29tcC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImRlc2NyaXB0aW9uXCIsIHtjb25maWd1cmFibGU6ITAsIHdyaXRhYmxlOiEwLCB2YWx1ZTpvcHRfZGVzY3JpcHRpb259KTtcbiAgfTtcbiAgU3ltYm9sQ2xhc3MucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuJGpzY29tcCRzeW1ib2wkaWRfO1xuICB9O1xuICB2YXIgU1lNQk9MX1BSRUZJWCA9IFwianNjb21wX3N5bWJvbF9cIiArICgxZTkgKiBNYXRoLnJhbmRvbSgpID4+PiAwKSArIFwiX1wiLCBjb3VudGVyID0gMCwgc3ltYm9sUG9seWZpbGwgPSBmdW5jdGlvbihvcHRfZGVzY3JpcHRpb24pIHtcbiAgICBpZiAodGhpcyBpbnN0YW5jZW9mIHN5bWJvbFBvbHlmaWxsKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yXCIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFN5bWJvbENsYXNzKFNZTUJPTF9QUkVGSVggKyAob3B0X2Rlc2NyaXB0aW9uIHx8IFwiXCIpICsgXCJfXCIgKyBjb3VudGVyKyssIG9wdF9kZXNjcmlwdGlvbik7XG4gIH07XG4gIHJldHVybiBzeW1ib2xQb2x5ZmlsbDtcbn0sIFwiZXM2XCIsIFwiZXMzXCIpO1xuJGpzY29tcC5wb2x5ZmlsbChcIlN5bWJvbC5pdGVyYXRvclwiLCBmdW5jdGlvbihvcmlnKSB7XG4gIGlmIChvcmlnKSB7XG4gICAgcmV0dXJuIG9yaWc7XG4gIH1cbiAgZm9yICh2YXIgc3ltYm9sSXRlcmF0b3IgPSBTeW1ib2woXCJTeW1ib2wuaXRlcmF0b3JcIiksIGFycmF5TGlrZXMgPSBcIkFycmF5IEludDhBcnJheSBVaW50OEFycmF5IFVpbnQ4Q2xhbXBlZEFycmF5IEludDE2QXJyYXkgVWludDE2QXJyYXkgSW50MzJBcnJheSBVaW50MzJBcnJheSBGbG9hdDMyQXJyYXkgRmxvYXQ2NEFycmF5XCIuc3BsaXQoXCIgXCIpLCBpID0gMDsgaSA8IGFycmF5TGlrZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgQXJyYXlMaWtlQ3RvciA9ICRqc2NvbXAuZ2xvYmFsW2FycmF5TGlrZXNbaV1dO1xuICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIEFycmF5TGlrZUN0b3IgJiYgXCJmdW5jdGlvblwiICE9IHR5cGVvZiBBcnJheUxpa2VDdG9yLnByb3RvdHlwZVtzeW1ib2xJdGVyYXRvcl0gJiYgJGpzY29tcC5kZWZpbmVQcm9wZXJ0eShBcnJheUxpa2VDdG9yLnByb3RvdHlwZSwgc3ltYm9sSXRlcmF0b3IsIHtjb25maWd1cmFibGU6ITAsIHdyaXRhYmxlOiEwLCB2YWx1ZTpmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAkanNjb21wLml0ZXJhdG9yUHJvdG90eXBlKCRqc2NvbXAuYXJyYXlJdGVyYXRvckltcGwodGhpcykpO1xuICAgIH19KTtcbiAgfVxuICByZXR1cm4gc3ltYm9sSXRlcmF0b3I7XG59LCBcImVzNlwiLCBcImVzM1wiKTtcbiRqc2NvbXAuaXRlcmF0b3JQcm90b3R5cGUgPSBmdW5jdGlvbihuZXh0KSB7XG4gIHZhciBpdGVyYXRvciA9IHtuZXh0Om5leHR9O1xuICBpdGVyYXRvcltTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIHJldHVybiBpdGVyYXRvcjtcbn07XG4kanNjb21wLmNyZWF0ZVRlbXBsYXRlVGFnRmlyc3RBcmcgPSBmdW5jdGlvbihhcnJheVN0cmluZ3MpIHtcbiAgcmV0dXJuIGFycmF5U3RyaW5ncy5yYXcgPSBhcnJheVN0cmluZ3M7XG59O1xuJGpzY29tcC5jcmVhdGVUZW1wbGF0ZVRhZ0ZpcnN0QXJnV2l0aFJhdyA9IGZ1bmN0aW9uKGFycmF5U3RyaW5ncywgcmF3QXJyYXlTdHJpbmdzKSB7XG4gIGFycmF5U3RyaW5ncy5yYXcgPSByYXdBcnJheVN0cmluZ3M7XG4gIHJldHVybiBhcnJheVN0cmluZ3M7XG59O1xuJGpzY29tcC5tYWtlSXRlcmF0b3IgPSBmdW5jdGlvbihpdGVyYWJsZSkge1xuICB2YXIgaXRlcmF0b3JGdW5jdGlvbiA9IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiBTeW1ib2wuaXRlcmF0b3IgJiYgaXRlcmFibGVbU3ltYm9sLml0ZXJhdG9yXTtcbiAgcmV0dXJuIGl0ZXJhdG9yRnVuY3Rpb24gPyBpdGVyYXRvckZ1bmN0aW9uLmNhbGwoaXRlcmFibGUpIDogJGpzY29tcC5hcnJheUl0ZXJhdG9yKGl0ZXJhYmxlKTtcbn07XG4kanNjb21wLmFycmF5RnJvbUl0ZXJhdG9yID0gZnVuY3Rpb24oaXRlcmF0b3IpIHtcbiAgZm9yICh2YXIgaSwgYXJyID0gW107ICEoaSA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTspIHtcbiAgICBhcnIucHVzaChpLnZhbHVlKTtcbiAgfVxuICByZXR1cm4gYXJyO1xufTtcbiRqc2NvbXAuYXJyYXlGcm9tSXRlcmFibGUgPSBmdW5jdGlvbihpdGVyYWJsZSkge1xuICByZXR1cm4gaXRlcmFibGUgaW5zdGFuY2VvZiBBcnJheSA/IGl0ZXJhYmxlIDogJGpzY29tcC5hcnJheUZyb21JdGVyYXRvcigkanNjb21wLm1ha2VJdGVyYXRvcihpdGVyYWJsZSkpO1xufTtcbiRqc2NvbXAub2JqZWN0Q3JlYXRlID0gJGpzY29tcC5BU1NVTUVfRVM1IHx8IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgT2JqZWN0LmNyZWF0ZSA/IE9iamVjdC5jcmVhdGUgOiBmdW5jdGlvbihwcm90b3R5cGUpIHtcbiAgdmFyIGN0b3IgPSBmdW5jdGlvbigpIHtcbiAgfTtcbiAgY3Rvci5wcm90b3R5cGUgPSBwcm90b3R5cGU7XG4gIHJldHVybiBuZXcgY3RvcigpO1xufTtcbiRqc2NvbXAuZ2V0Q29uc3RydWN0SW1wbGVtZW50YXRpb24gPSBmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gcmVmbGVjdENvbnN0cnVjdFdvcmtzKCkge1xuICAgIGZ1bmN0aW9uIEJhc2UoKSB7XG4gICAgfVxuICAgIG5ldyBCYXNlKCk7XG4gICAgUmVmbGVjdC5jb25zdHJ1Y3QoQmFzZSwgW10sIGZ1bmN0aW9uIERlcml2ZWQoKSB7XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ldyBCYXNlKCkgaW5zdGFuY2VvZiBCYXNlO1xuICB9XG4gIGlmICgkanNjb21wLlRSVVNUX0VTNl9QT0xZRklMTFMgJiYgXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgUmVmbGVjdCAmJiBSZWZsZWN0LmNvbnN0cnVjdCkge1xuICAgIGlmIChyZWZsZWN0Q29uc3RydWN0V29ya3MoKSkge1xuICAgICAgcmV0dXJuIFJlZmxlY3QuY29uc3RydWN0O1xuICAgIH1cbiAgICB2YXIgYnJva2VuQ29uc3RydWN0ID0gUmVmbGVjdC5jb25zdHJ1Y3Q7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHRhcmdldCwgYXJnTGlzdCwgb3B0X25ld1RhcmdldCkge1xuICAgICAgdmFyIG91dCA9IGJyb2tlbkNvbnN0cnVjdCh0YXJnZXQsIGFyZ0xpc3QpO1xuICAgICAgb3B0X25ld1RhcmdldCAmJiBSZWZsZWN0LnNldFByb3RvdHlwZU9mKG91dCwgb3B0X25ld1RhcmdldC5wcm90b3R5cGUpO1xuICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuICB9XG4gIHJldHVybiBmdW5jdGlvbiBjb25zdHJ1Y3QodGFyZ2V0LCBhcmdMaXN0LCBvcHRfbmV3VGFyZ2V0KSB7XG4gICAgdm9pZCAwID09PSBvcHRfbmV3VGFyZ2V0ICYmIChvcHRfbmV3VGFyZ2V0ID0gdGFyZ2V0KTtcbiAgICB2YXIgb2JqID0gJGpzY29tcC5vYmplY3RDcmVhdGUob3B0X25ld1RhcmdldC5wcm90b3R5cGUgfHwgT2JqZWN0LnByb3RvdHlwZSk7XG4gICAgcmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKHRhcmdldCwgb2JqLCBhcmdMaXN0KSB8fCBvYmo7XG4gIH07XG59O1xuJGpzY29tcC5jb25zdHJ1Y3QgPSB7dmFsdWVPZjokanNjb21wLmdldENvbnN0cnVjdEltcGxlbWVudGF0aW9ufS52YWx1ZU9mKCk7XG4kanNjb21wLnVuZGVyc2NvcmVQcm90b0NhbkJlU2V0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciB4ID0ge2E6ITB9LCB5ID0ge307XG4gIHRyeSB7XG4gICAgcmV0dXJuIHkuX19wcm90b19fID0geCwgeS5hO1xuICB9IGNhdGNoIChlKSB7XG4gIH1cbiAgcmV0dXJuICExO1xufTtcbiRqc2NvbXAuc2V0UHJvdG90eXBlT2YgPSAkanNjb21wLlRSVVNUX0VTNl9QT0xZRklMTFMgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2YgOiAkanNjb21wLnVuZGVyc2NvcmVQcm90b0NhbkJlU2V0KCkgPyBmdW5jdGlvbih0YXJnZXQsIHByb3RvKSB7XG4gIHRhcmdldC5fX3Byb3RvX18gPSBwcm90bztcbiAgaWYgKHRhcmdldC5fX3Byb3RvX18gIT09IHByb3RvKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcih0YXJnZXQgKyBcIiBpcyBub3QgZXh0ZW5zaWJsZVwiKTtcbiAgfVxuICByZXR1cm4gdGFyZ2V0O1xufSA6IG51bGw7XG4kanNjb21wLmluaGVyaXRzID0gZnVuY3Rpb24oY2hpbGRDdG9yLCBwYXJlbnRDdG9yKSB7XG4gIGNoaWxkQ3Rvci5wcm90b3R5cGUgPSAkanNjb21wLm9iamVjdENyZWF0ZShwYXJlbnRDdG9yLnByb3RvdHlwZSk7XG4gIGNoaWxkQ3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjaGlsZEN0b3I7XG4gIGlmICgkanNjb21wLnNldFByb3RvdHlwZU9mKSB7XG4gICAgdmFyIHNldFByb3RvdHlwZU9mID0gJGpzY29tcC5zZXRQcm90b3R5cGVPZjtcbiAgICBzZXRQcm90b3R5cGVPZihjaGlsZEN0b3IsIHBhcmVudEN0b3IpO1xuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIHAgaW4gcGFyZW50Q3Rvcikge1xuICAgICAgaWYgKFwicHJvdG90eXBlXCIgIT0gcCkge1xuICAgICAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnRpZXMpIHtcbiAgICAgICAgICB2YXIgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocGFyZW50Q3RvciwgcCk7XG4gICAgICAgICAgZGVzY3JpcHRvciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkoY2hpbGRDdG9yLCBwLCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGlsZEN0b3JbcF0gPSBwYXJlbnRDdG9yW3BdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNoaWxkQ3Rvci5zdXBlckNsYXNzXyA9IHBhcmVudEN0b3IucHJvdG90eXBlO1xufTtcbiRqc2NvbXAuZ2VuZXJhdG9yID0ge307XG4kanNjb21wLmdlbmVyYXRvci5lbnN1cmVJdGVyYXRvclJlc3VsdElzT2JqZWN0XyA9IGZ1bmN0aW9uKHJlc3VsdCkge1xuICBpZiAoIShyZXN1bHQgaW5zdGFuY2VvZiBPYmplY3QpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkl0ZXJhdG9yIHJlc3VsdCBcIiArIHJlc3VsdCArIFwiIGlzIG5vdCBhbiBvYmplY3RcIik7XG4gIH1cbn07XG4kanNjb21wLmdlbmVyYXRvci5Db250ZXh0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuaXNSdW5uaW5nXyA9ICExO1xuICB0aGlzLnlpZWxkQWxsSXRlcmF0b3JfID0gbnVsbDtcbiAgdGhpcy55aWVsZFJlc3VsdCA9IHZvaWQgMDtcbiAgdGhpcy5uZXh0QWRkcmVzcyA9IDE7XG4gIHRoaXMuZmluYWxseUFkZHJlc3NfID0gdGhpcy5jYXRjaEFkZHJlc3NfID0gMDtcbiAgdGhpcy5maW5hbGx5Q29udGV4dHNfID0gdGhpcy5hYnJ1cHRDb21wbGV0aW9uXyA9IG51bGw7XG59O1xuJGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5wcm90b3R5cGUuc3RhcnRfID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLmlzUnVubmluZ18pIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgfVxuICB0aGlzLmlzUnVubmluZ18gPSAhMDtcbn07XG4kanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS5zdG9wXyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmlzUnVubmluZ18gPSAhMTtcbn07XG4kanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS5qdW1wVG9FcnJvckhhbmRsZXJfID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMubmV4dEFkZHJlc3MgPSB0aGlzLmNhdGNoQWRkcmVzc18gfHwgdGhpcy5maW5hbGx5QWRkcmVzc187XG59O1xuJGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5wcm90b3R5cGUubmV4dF8gPSBmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLnlpZWxkUmVzdWx0ID0gdmFsdWU7XG59O1xuJGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5wcm90b3R5cGUudGhyb3dfID0gZnVuY3Rpb24oZSkge1xuICB0aGlzLmFicnVwdENvbXBsZXRpb25fID0ge2V4Y2VwdGlvbjplLCBpc0V4Y2VwdGlvbjohMH07XG4gIHRoaXMuanVtcFRvRXJyb3JIYW5kbGVyXygpO1xufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLnJldHVybiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuYWJydXB0Q29tcGxldGlvbl8gPSB7cmV0dXJuOnZhbHVlfTtcbiAgdGhpcy5uZXh0QWRkcmVzcyA9IHRoaXMuZmluYWxseUFkZHJlc3NfO1xufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLmp1bXBUaHJvdWdoRmluYWxseUJsb2NrcyA9IGZ1bmN0aW9uKG5leHRBZGRyZXNzKSB7XG4gIHRoaXMuYWJydXB0Q29tcGxldGlvbl8gPSB7anVtcFRvOm5leHRBZGRyZXNzfTtcbiAgdGhpcy5uZXh0QWRkcmVzcyA9IHRoaXMuZmluYWxseUFkZHJlc3NfO1xufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLnlpZWxkID0gZnVuY3Rpb24odmFsdWUsIHJlc3VtZUFkZHJlc3MpIHtcbiAgdGhpcy5uZXh0QWRkcmVzcyA9IHJlc3VtZUFkZHJlc3M7XG4gIHJldHVybiB7dmFsdWU6dmFsdWV9O1xufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLnlpZWxkQWxsID0gZnVuY3Rpb24oaXRlcmFibGUsIHJlc3VtZUFkZHJlc3MpIHtcbiAgdmFyIGl0ZXJhdG9yID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoaXRlcmFibGUpLCByZXN1bHQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICRqc2NvbXAuZ2VuZXJhdG9yLmVuc3VyZUl0ZXJhdG9yUmVzdWx0SXNPYmplY3RfKHJlc3VsdCk7XG4gIGlmIChyZXN1bHQuZG9uZSkge1xuICAgIHRoaXMueWllbGRSZXN1bHQgPSByZXN1bHQudmFsdWUsIHRoaXMubmV4dEFkZHJlc3MgPSByZXN1bWVBZGRyZXNzO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0aGlzLnlpZWxkQWxsSXRlcmF0b3JfID0gaXRlcmF0b3IsIHRoaXMueWllbGQocmVzdWx0LnZhbHVlLCByZXN1bWVBZGRyZXNzKTtcbiAgfVxufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLmp1bXBUbyA9IGZ1bmN0aW9uKG5leHRBZGRyZXNzKSB7XG4gIHRoaXMubmV4dEFkZHJlc3MgPSBuZXh0QWRkcmVzcztcbn07XG4kanNjb21wLmdlbmVyYXRvci5Db250ZXh0LnByb3RvdHlwZS5qdW1wVG9FbmQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5uZXh0QWRkcmVzcyA9IDA7XG59O1xuJGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5wcm90b3R5cGUuc2V0Q2F0Y2hGaW5hbGx5QmxvY2tzID0gZnVuY3Rpb24oY2F0Y2hBZGRyZXNzLCBmaW5hbGx5QWRkcmVzcykge1xuICB0aGlzLmNhdGNoQWRkcmVzc18gPSBjYXRjaEFkZHJlc3M7XG4gIHZvaWQgMCAhPSBmaW5hbGx5QWRkcmVzcyAmJiAodGhpcy5maW5hbGx5QWRkcmVzc18gPSBmaW5hbGx5QWRkcmVzcyk7XG59O1xuJGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5wcm90b3R5cGUuc2V0RmluYWxseUJsb2NrID0gZnVuY3Rpb24oZmluYWxseUFkZHJlc3MpIHtcbiAgdGhpcy5jYXRjaEFkZHJlc3NfID0gMDtcbiAgdGhpcy5maW5hbGx5QWRkcmVzc18gPSBmaW5hbGx5QWRkcmVzcyB8fCAwO1xufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLmxlYXZlVHJ5QmxvY2sgPSBmdW5jdGlvbihuZXh0QWRkcmVzcywgY2F0Y2hBZGRyZXNzKSB7XG4gIHRoaXMubmV4dEFkZHJlc3MgPSBuZXh0QWRkcmVzcztcbiAgdGhpcy5jYXRjaEFkZHJlc3NfID0gY2F0Y2hBZGRyZXNzIHx8IDA7XG59O1xuJGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5wcm90b3R5cGUuZW50ZXJDYXRjaEJsb2NrID0gZnVuY3Rpb24obmV4dENhdGNoQmxvY2tBZGRyZXNzKSB7XG4gIHRoaXMuY2F0Y2hBZGRyZXNzXyA9IG5leHRDYXRjaEJsb2NrQWRkcmVzcyB8fCAwO1xuICB2YXIgZXhjZXB0aW9uID0gdGhpcy5hYnJ1cHRDb21wbGV0aW9uXy5leGNlcHRpb247XG4gIHRoaXMuYWJydXB0Q29tcGxldGlvbl8gPSBudWxsO1xuICByZXR1cm4gZXhjZXB0aW9uO1xufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLmVudGVyRmluYWxseUJsb2NrID0gZnVuY3Rpb24obmV4dENhdGNoQWRkcmVzcywgbmV4dEZpbmFsbHlBZGRyZXNzLCBmaW5hbGx5RGVwdGgpIHtcbiAgZmluYWxseURlcHRoID8gdGhpcy5maW5hbGx5Q29udGV4dHNfW2ZpbmFsbHlEZXB0aF0gPSB0aGlzLmFicnVwdENvbXBsZXRpb25fIDogdGhpcy5maW5hbGx5Q29udGV4dHNfID0gW3RoaXMuYWJydXB0Q29tcGxldGlvbl9dO1xuICB0aGlzLmNhdGNoQWRkcmVzc18gPSBuZXh0Q2F0Y2hBZGRyZXNzIHx8IDA7XG4gIHRoaXMuZmluYWxseUFkZHJlc3NfID0gbmV4dEZpbmFsbHlBZGRyZXNzIHx8IDA7XG59O1xuJGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5wcm90b3R5cGUubGVhdmVGaW5hbGx5QmxvY2sgPSBmdW5jdGlvbihuZXh0QWRkcmVzcywgZmluYWxseURlcHRoKSB7XG4gIHZhciBwcmVzZXJ2ZWRDb250ZXh0ID0gdGhpcy5maW5hbGx5Q29udGV4dHNfLnNwbGljZShmaW5hbGx5RGVwdGggfHwgMClbMF0sIGFicnVwdENvbXBsZXRpb24gPSB0aGlzLmFicnVwdENvbXBsZXRpb25fID0gdGhpcy5hYnJ1cHRDb21wbGV0aW9uXyB8fCBwcmVzZXJ2ZWRDb250ZXh0O1xuICBpZiAoYWJydXB0Q29tcGxldGlvbikge1xuICAgIGlmIChhYnJ1cHRDb21wbGV0aW9uLmlzRXhjZXB0aW9uKSB7XG4gICAgICByZXR1cm4gdGhpcy5qdW1wVG9FcnJvckhhbmRsZXJfKCk7XG4gICAgfVxuICAgIHZvaWQgMCAhPSBhYnJ1cHRDb21wbGV0aW9uLmp1bXBUbyAmJiB0aGlzLmZpbmFsbHlBZGRyZXNzXyA8IGFicnVwdENvbXBsZXRpb24uanVtcFRvID8gKHRoaXMubmV4dEFkZHJlc3MgPSBhYnJ1cHRDb21wbGV0aW9uLmp1bXBUbywgdGhpcy5hYnJ1cHRDb21wbGV0aW9uXyA9IG51bGwpIDogdGhpcy5uZXh0QWRkcmVzcyA9IHRoaXMuZmluYWxseUFkZHJlc3NfO1xuICB9IGVsc2Uge1xuICAgIHRoaXMubmV4dEFkZHJlc3MgPSBuZXh0QWRkcmVzcztcbiAgfVxufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQucHJvdG90eXBlLmZvckluID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gIHJldHVybiBuZXcgJGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5Qcm9wZXJ0eUl0ZXJhdG9yKG9iamVjdCk7XG59O1xuJGpzY29tcC5nZW5lcmF0b3IuQ29udGV4dC5Qcm9wZXJ0eUl0ZXJhdG9yID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gIHRoaXMub2JqZWN0XyA9IG9iamVjdDtcbiAgdGhpcy5wcm9wZXJ0aWVzXyA9IFtdO1xuICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBvYmplY3QpIHtcbiAgICB0aGlzLnByb3BlcnRpZXNfLnB1c2gocHJvcGVydHkpO1xuICB9XG4gIHRoaXMucHJvcGVydGllc18ucmV2ZXJzZSgpO1xufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQuUHJvcGVydHlJdGVyYXRvci5wcm90b3R5cGUuZ2V0TmV4dCA9IGZ1bmN0aW9uKCkge1xuICBmb3IgKDsgMCA8IHRoaXMucHJvcGVydGllc18ubGVuZ3RoOykge1xuICAgIHZhciBwcm9wZXJ0eSA9IHRoaXMucHJvcGVydGllc18ucG9wKCk7XG4gICAgaWYgKHByb3BlcnR5IGluIHRoaXMub2JqZWN0Xykge1xuICAgICAgcmV0dXJuIHByb3BlcnR5O1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG4kanNjb21wLmdlbmVyYXRvci5FbmdpbmVfID0gZnVuY3Rpb24ocHJvZ3JhbSkge1xuICB0aGlzLmNvbnRleHRfID0gbmV3ICRqc2NvbXAuZ2VuZXJhdG9yLkNvbnRleHQoKTtcbiAgdGhpcy5wcm9ncmFtXyA9IHByb2dyYW07XG59O1xuJGpzY29tcC5nZW5lcmF0b3IuRW5naW5lXy5wcm90b3R5cGUubmV4dF8gPSBmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLmNvbnRleHRfLnN0YXJ0XygpO1xuICBpZiAodGhpcy5jb250ZXh0Xy55aWVsZEFsbEl0ZXJhdG9yXykge1xuICAgIHJldHVybiB0aGlzLnlpZWxkQWxsU3RlcF8odGhpcy5jb250ZXh0Xy55aWVsZEFsbEl0ZXJhdG9yXy5uZXh0LCB2YWx1ZSwgdGhpcy5jb250ZXh0Xy5uZXh0Xyk7XG4gIH1cbiAgdGhpcy5jb250ZXh0Xy5uZXh0Xyh2YWx1ZSk7XG4gIHJldHVybiB0aGlzLm5leHRTdGVwXygpO1xufTtcbiRqc2NvbXAuZ2VuZXJhdG9yLkVuZ2luZV8ucHJvdG90eXBlLnJldHVybl8gPSBmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLmNvbnRleHRfLnN0YXJ0XygpO1xuICB2YXIgeWllbGRBbGxJdGVyYXRvciA9IHRoaXMuY29udGV4dF8ueWllbGRBbGxJdGVyYXRvcl87XG4gIGlmICh5aWVsZEFsbEl0ZXJhdG9yKSB7XG4gICAgcmV0dXJuIHRoaXMueWllbGRBbGxTdGVwXyhcInJldHVyblwiIGluIHlpZWxkQWxsSXRlcmF0b3IgPyB5aWVsZEFsbEl0ZXJhdG9yW1wicmV0dXJuXCJdIDogZnVuY3Rpb24odikge1xuICAgICAgcmV0dXJuIHt2YWx1ZTp2LCBkb25lOiEwfTtcbiAgICB9LCB2YWx1ZSwgdGhpcy5jb250ZXh0Xy5yZXR1cm4pO1xuICB9XG4gIHRoaXMuY29udGV4dF8ucmV0dXJuKHZhbHVlKTtcbiAgcmV0dXJuIHRoaXMubmV4dFN0ZXBfKCk7XG59O1xuJGpzY29tcC5nZW5lcmF0b3IuRW5naW5lXy5wcm90b3R5cGUudGhyb3dfID0gZnVuY3Rpb24oZXhjZXB0aW9uKSB7XG4gIHRoaXMuY29udGV4dF8uc3RhcnRfKCk7XG4gIGlmICh0aGlzLmNvbnRleHRfLnlpZWxkQWxsSXRlcmF0b3JfKSB7XG4gICAgcmV0dXJuIHRoaXMueWllbGRBbGxTdGVwXyh0aGlzLmNvbnRleHRfLnlpZWxkQWxsSXRlcmF0b3JfW1widGhyb3dcIl0sIGV4Y2VwdGlvbiwgdGhpcy5jb250ZXh0Xy5uZXh0Xyk7XG4gIH1cbiAgdGhpcy5jb250ZXh0Xy50aHJvd18oZXhjZXB0aW9uKTtcbiAgcmV0dXJuIHRoaXMubmV4dFN0ZXBfKCk7XG59O1xuJGpzY29tcC5nZW5lcmF0b3IuRW5naW5lXy5wcm90b3R5cGUueWllbGRBbGxTdGVwXyA9IGZ1bmN0aW9uKGFjdGlvbiwgdmFsdWUsIG5leHRBY3Rpb24pIHtcbiAgdHJ5IHtcbiAgICB2YXIgcmVzdWx0ID0gYWN0aW9uLmNhbGwodGhpcy5jb250ZXh0Xy55aWVsZEFsbEl0ZXJhdG9yXywgdmFsdWUpO1xuICAgICRqc2NvbXAuZ2VuZXJhdG9yLmVuc3VyZUl0ZXJhdG9yUmVzdWx0SXNPYmplY3RfKHJlc3VsdCk7XG4gICAgaWYgKCFyZXN1bHQuZG9uZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY29udGV4dF8uc3RvcF8oKSwgcmVzdWx0O1xuICAgIH1cbiAgICB2YXIgcmVzdWx0VmFsdWUgPSByZXN1bHQudmFsdWU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZXh0Xy55aWVsZEFsbEl0ZXJhdG9yXyA9IG51bGwsIHRoaXMuY29udGV4dF8udGhyb3dfKGUpLCB0aGlzLm5leHRTdGVwXygpO1xuICB9XG4gIHRoaXMuY29udGV4dF8ueWllbGRBbGxJdGVyYXRvcl8gPSBudWxsO1xuICBuZXh0QWN0aW9uLmNhbGwodGhpcy5jb250ZXh0XywgcmVzdWx0VmFsdWUpO1xuICByZXR1cm4gdGhpcy5uZXh0U3RlcF8oKTtcbn07XG4kanNjb21wLmdlbmVyYXRvci5FbmdpbmVfLnByb3RvdHlwZS5uZXh0U3RlcF8gPSBmdW5jdGlvbigpIHtcbiAgZm9yICg7IHRoaXMuY29udGV4dF8ubmV4dEFkZHJlc3M7KSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciB5aWVsZFZhbHVlID0gdGhpcy5wcm9ncmFtXyh0aGlzLmNvbnRleHRfKTtcbiAgICAgIGlmICh5aWVsZFZhbHVlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHRfLnN0b3BfKCksIHt2YWx1ZTp5aWVsZFZhbHVlLnZhbHVlLCBkb25lOiExfTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLmNvbnRleHRfLnlpZWxkUmVzdWx0ID0gdm9pZCAwLCB0aGlzLmNvbnRleHRfLnRocm93XyhlKTtcbiAgICB9XG4gIH1cbiAgdGhpcy5jb250ZXh0Xy5zdG9wXygpO1xuICBpZiAodGhpcy5jb250ZXh0Xy5hYnJ1cHRDb21wbGV0aW9uXykge1xuICAgIHZhciBhYnJ1cHRDb21wbGV0aW9uID0gdGhpcy5jb250ZXh0Xy5hYnJ1cHRDb21wbGV0aW9uXztcbiAgICB0aGlzLmNvbnRleHRfLmFicnVwdENvbXBsZXRpb25fID0gbnVsbDtcbiAgICBpZiAoYWJydXB0Q29tcGxldGlvbi5pc0V4Y2VwdGlvbikge1xuICAgICAgdGhyb3cgYWJydXB0Q29tcGxldGlvbi5leGNlcHRpb247XG4gICAgfVxuICAgIHJldHVybiB7dmFsdWU6YWJydXB0Q29tcGxldGlvbi5yZXR1cm4sIGRvbmU6ITB9O1xuICB9XG4gIHJldHVybiB7dmFsdWU6dm9pZCAwLCBkb25lOiEwfTtcbn07XG4kanNjb21wLmdlbmVyYXRvci5HZW5lcmF0b3JfID0gZnVuY3Rpb24oZW5naW5lKSB7XG4gIHRoaXMubmV4dCA9IGZ1bmN0aW9uKG9wdF92YWx1ZSkge1xuICAgIHJldHVybiBlbmdpbmUubmV4dF8ob3B0X3ZhbHVlKTtcbiAgfTtcbiAgdGhpcy50aHJvdyA9IGZ1bmN0aW9uKGV4Y2VwdGlvbikge1xuICAgIHJldHVybiBlbmdpbmUudGhyb3dfKGV4Y2VwdGlvbik7XG4gIH07XG4gIHRoaXMucmV0dXJuID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gZW5naW5lLnJldHVybl8odmFsdWUpO1xuICB9O1xuICB0aGlzW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbn07XG4kanNjb21wLmdlbmVyYXRvci5jcmVhdGVHZW5lcmF0b3IgPSBmdW5jdGlvbihnZW5lcmF0b3IsIHByb2dyYW0pIHtcbiAgdmFyIHJlc3VsdCA9IG5ldyAkanNjb21wLmdlbmVyYXRvci5HZW5lcmF0b3JfKG5ldyAkanNjb21wLmdlbmVyYXRvci5FbmdpbmVfKHByb2dyYW0pKTtcbiAgJGpzY29tcC5zZXRQcm90b3R5cGVPZiAmJiBnZW5lcmF0b3IucHJvdG90eXBlICYmICRqc2NvbXAuc2V0UHJvdG90eXBlT2YocmVzdWx0LCBnZW5lcmF0b3IucHJvdG90eXBlKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG4kanNjb21wLmFzeW5jRXhlY3V0ZVByb21pc2VHZW5lcmF0b3IgPSBmdW5jdGlvbihnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gcGFzc1ZhbHVlVG9HZW5lcmF0b3IodmFsdWUpIHtcbiAgICByZXR1cm4gZ2VuZXJhdG9yLm5leHQodmFsdWUpO1xuICB9XG4gIGZ1bmN0aW9uIHBhc3NFcnJvclRvR2VuZXJhdG9yKGVycm9yKSB7XG4gICAgcmV0dXJuIGdlbmVyYXRvci50aHJvdyhlcnJvcik7XG4gIH1cbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZ1bmN0aW9uIGhhbmRsZUdlbmVyYXRvclJlY29yZChnZW5SZWMpIHtcbiAgICAgIGdlblJlYy5kb25lID8gcmVzb2x2ZShnZW5SZWMudmFsdWUpIDogUHJvbWlzZS5yZXNvbHZlKGdlblJlYy52YWx1ZSkudGhlbihwYXNzVmFsdWVUb0dlbmVyYXRvciwgcGFzc0Vycm9yVG9HZW5lcmF0b3IpLnRoZW4oaGFuZGxlR2VuZXJhdG9yUmVjb3JkLCByZWplY3QpO1xuICAgIH1cbiAgICBoYW5kbGVHZW5lcmF0b3JSZWNvcmQoZ2VuZXJhdG9yLm5leHQoKSk7XG4gIH0pO1xufTtcbiRqc2NvbXAuYXN5bmNFeGVjdXRlUHJvbWlzZUdlbmVyYXRvckZ1bmN0aW9uID0gZnVuY3Rpb24oZ2VuZXJhdG9yRnVuY3Rpb24pIHtcbiAgcmV0dXJuICRqc2NvbXAuYXN5bmNFeGVjdXRlUHJvbWlzZUdlbmVyYXRvcihnZW5lcmF0b3JGdW5jdGlvbigpKTtcbn07XG4kanNjb21wLmFzeW5jRXhlY3V0ZVByb21pc2VHZW5lcmF0b3JQcm9ncmFtID0gZnVuY3Rpb24ocHJvZ3JhbSkge1xuICByZXR1cm4gJGpzY29tcC5hc3luY0V4ZWN1dGVQcm9taXNlR2VuZXJhdG9yKG5ldyAkanNjb21wLmdlbmVyYXRvci5HZW5lcmF0b3JfKG5ldyAkanNjb21wLmdlbmVyYXRvci5FbmdpbmVfKHByb2dyYW0pKSk7XG59O1xuJGpzY29tcC5nZXRSZXN0QXJndW1lbnRzID0gZnVuY3Rpb24oKSB7XG4gIGZvciAodmFyIHN0YXJ0SW5kZXggPSBOdW1iZXIodGhpcyksIHJlc3RBcmdzID0gW10sIGkgPSBzdGFydEluZGV4OyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgcmVzdEFyZ3NbaSAtIHN0YXJ0SW5kZXhdID0gYXJndW1lbnRzW2ldO1xuICB9XG4gIHJldHVybiByZXN0QXJncztcbn07XG4kanNjb21wLnBvbHlmaWxsKFwiUmVmbGVjdFwiLCBmdW5jdGlvbihvcmlnKSB7XG4gIHJldHVybiBvcmlnID8gb3JpZyA6IHt9O1xufSwgXCJlczZcIiwgXCJlczNcIik7XG4kanNjb21wLnBvbHlmaWxsKFwiUmVmbGVjdC5jb25zdHJ1Y3RcIiwgZnVuY3Rpb24ob3JpZykge1xuICByZXR1cm4gJGpzY29tcC5jb25zdHJ1Y3Q7XG59LCBcImVzNlwiLCBcImVzM1wiKTtcbiRqc2NvbXAucG9seWZpbGwoXCJSZWZsZWN0LnNldFByb3RvdHlwZU9mXCIsIGZ1bmN0aW9uKG9yaWcpIHtcbiAgaWYgKG9yaWcpIHtcbiAgICByZXR1cm4gb3JpZztcbiAgfVxuICBpZiAoJGpzY29tcC5zZXRQcm90b3R5cGVPZikge1xuICAgIHZhciBzZXRQcm90b3R5cGVPZiA9ICRqc2NvbXAuc2V0UHJvdG90eXBlT2Y7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHRhcmdldCwgcHJvdG8pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBzZXRQcm90b3R5cGVPZih0YXJnZXQsIHByb3RvKSwgITA7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIHJldHVybiBudWxsO1xufSwgXCJlczZcIiwgXCJlczVcIik7XG4kanNjb21wLnBvbHlmaWxsKFwiUHJvbWlzZVwiLCBmdW5jdGlvbihOYXRpdmVQcm9taXNlKSB7XG4gIGZ1bmN0aW9uIHBsYXRmb3JtU3VwcG9ydHNQcm9taXNlUmVqZWN0aW9uRXZlbnRzKCkge1xuICAgIHJldHVybiBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgJGpzY29tcC5nbG9iYWwuUHJvbWlzZVJlamVjdGlvbkV2ZW50O1xuICB9XG4gIGZ1bmN0aW9uIGdsb2JhbFByb21pc2VJc05hdGl2ZSgpIHtcbiAgICByZXR1cm4gJGpzY29tcC5nbG9iYWwuUHJvbWlzZSAmJiAtMSAhPT0gJGpzY29tcC5nbG9iYWwuUHJvbWlzZS50b1N0cmluZygpLmluZGV4T2YoXCJbbmF0aXZlIGNvZGVdXCIpO1xuICB9XG4gIGZ1bmN0aW9uIHNob3VsZEZvcmNlUG9seWZpbGxQcm9taXNlKCkge1xuICAgIHJldHVybiAoJGpzY29tcC5GT1JDRV9QT0xZRklMTF9QUk9NSVNFIHx8ICRqc2NvbXAuRk9SQ0VfUE9MWUZJTExfUFJPTUlTRV9XSEVOX05PX1VOSEFORExFRF9SRUpFQ1RJT04gJiYgIXBsYXRmb3JtU3VwcG9ydHNQcm9taXNlUmVqZWN0aW9uRXZlbnRzKCkpICYmIGdsb2JhbFByb21pc2VJc05hdGl2ZSgpO1xuICB9XG4gIGZ1bmN0aW9uIEFzeW5jRXhlY3V0b3IoKSB7XG4gICAgdGhpcy5iYXRjaF8gPSBudWxsO1xuICB9XG4gIGZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gICAgc3dpdGNoKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICByZXR1cm4gbnVsbCAhPSB2YWx1ZTtcbiAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICByZXR1cm4gITA7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gITE7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHJlc29sdmluZ1Byb21pc2Uob3B0X3ZhbHVlKSB7XG4gICAgcmV0dXJuIG9wdF92YWx1ZSBpbnN0YW5jZW9mIFBvbHlmaWxsUHJvbWlzZSA/IG9wdF92YWx1ZSA6IG5ldyBQb2x5ZmlsbFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICByZXNvbHZlKG9wdF92YWx1ZSk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKE5hdGl2ZVByb21pc2UgJiYgIXNob3VsZEZvcmNlUG9seWZpbGxQcm9taXNlKCkpIHtcbiAgICByZXR1cm4gTmF0aXZlUHJvbWlzZTtcbiAgfVxuICBBc3luY0V4ZWN1dG9yLnByb3RvdHlwZS5hc3luY0V4ZWN1dGUgPSBmdW5jdGlvbihmKSB7XG4gICAgaWYgKG51bGwgPT0gdGhpcy5iYXRjaF8pIHtcbiAgICAgIHRoaXMuYmF0Y2hfID0gW107XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB0aGlzLmFzeW5jRXhlY3V0ZUZ1bmN0aW9uKGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxmLmV4ZWN1dGVCYXRjaF8oKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLmJhdGNoXy5wdXNoKGYpO1xuICB9O1xuICB2YXIgbmF0aXZlU2V0VGltZW91dCA9ICRqc2NvbXAuZ2xvYmFsLnNldFRpbWVvdXQ7XG4gIEFzeW5jRXhlY3V0b3IucHJvdG90eXBlLmFzeW5jRXhlY3V0ZUZ1bmN0aW9uID0gZnVuY3Rpb24oZikge1xuICAgIG5hdGl2ZVNldFRpbWVvdXQoZiwgMCk7XG4gIH07XG4gIEFzeW5jRXhlY3V0b3IucHJvdG90eXBlLmV4ZWN1dGVCYXRjaF8gPSBmdW5jdGlvbigpIHtcbiAgICBmb3IgKDsgdGhpcy5iYXRjaF8gJiYgdGhpcy5iYXRjaF8ubGVuZ3RoOykge1xuICAgICAgdmFyIGV4ZWN1dGluZ0JhdGNoID0gdGhpcy5iYXRjaF87XG4gICAgICB0aGlzLmJhdGNoXyA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBleGVjdXRpbmdCYXRjaC5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgZiA9IGV4ZWN1dGluZ0JhdGNoW2ldO1xuICAgICAgICBleGVjdXRpbmdCYXRjaFtpXSA9IG51bGw7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZigpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHRoaXMuYXN5bmNUaHJvd18oZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuYmF0Y2hfID0gbnVsbDtcbiAgfTtcbiAgQXN5bmNFeGVjdXRvci5wcm90b3R5cGUuYXN5bmNUaHJvd18gPSBmdW5jdGlvbihleGNlcHRpb24pIHtcbiAgICB0aGlzLmFzeW5jRXhlY3V0ZUZ1bmN0aW9uKGZ1bmN0aW9uKCkge1xuICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgIH0pO1xuICB9O1xuICB2YXIgUHJvbWlzZVN0YXRlID0ge1BFTkRJTkc6MCwgRlVMRklMTEVEOjEsIFJFSkVDVEVEOjJ9LCBQb2x5ZmlsbFByb21pc2UgPSBmdW5jdGlvbihleGVjdXRvcikge1xuICAgIHRoaXMuc3RhdGVfID0gUHJvbWlzZVN0YXRlLlBFTkRJTkc7XG4gICAgdGhpcy5yZXN1bHRfID0gdm9pZCAwO1xuICAgIHRoaXMub25TZXR0bGVkQ2FsbGJhY2tzXyA9IFtdO1xuICAgIHRoaXMuaXNSZWplY3Rpb25IYW5kbGVkXyA9ICExO1xuICAgIHZhciByZXNvbHZlQW5kUmVqZWN0ID0gdGhpcy5jcmVhdGVSZXNvbHZlQW5kUmVqZWN0XygpO1xuICAgIHRyeSB7XG4gICAgICBleGVjdXRvcihyZXNvbHZlQW5kUmVqZWN0LnJlc29sdmUsIHJlc29sdmVBbmRSZWplY3QucmVqZWN0KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXNvbHZlQW5kUmVqZWN0LnJlamVjdChlKTtcbiAgICB9XG4gIH07XG4gIFBvbHlmaWxsUHJvbWlzZS5wcm90b3R5cGUuY3JlYXRlUmVzb2x2ZUFuZFJlamVjdF8gPSBmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBmaXJzdENhbGxXaW5zKG1ldGhvZCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgYWxyZWFkeUNhbGxlZCB8fCAoYWxyZWFkeUNhbGxlZCA9ICEwLCBtZXRob2QuY2FsbCh0aGlzUHJvbWlzZSwgeCkpO1xuICAgICAgfTtcbiAgICB9XG4gICAgdmFyIHRoaXNQcm9taXNlID0gdGhpcywgYWxyZWFkeUNhbGxlZCA9ICExO1xuICAgIHJldHVybiB7cmVzb2x2ZTpmaXJzdENhbGxXaW5zKHRoaXMucmVzb2x2ZVRvXyksIHJlamVjdDpmaXJzdENhbGxXaW5zKHRoaXMucmVqZWN0Xyl9O1xuICB9O1xuICBQb2x5ZmlsbFByb21pc2UucHJvdG90eXBlLnJlc29sdmVUb18gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhbHVlID09PSB0aGlzID8gdGhpcy5yZWplY3RfKG5ldyBUeXBlRXJyb3IoXCJBIFByb21pc2UgY2Fubm90IHJlc29sdmUgdG8gaXRzZWxmXCIpKSA6IHZhbHVlIGluc3RhbmNlb2YgUG9seWZpbGxQcm9taXNlID8gdGhpcy5zZXR0bGVTYW1lQXNQcm9taXNlXyh2YWx1ZSkgOiBpc09iamVjdCh2YWx1ZSkgPyB0aGlzLnJlc29sdmVUb05vblByb21pc2VPYmpfKHZhbHVlKSA6IHRoaXMuZnVsZmlsbF8odmFsdWUpO1xuICB9O1xuICBQb2x5ZmlsbFByb21pc2UucHJvdG90eXBlLnJlc29sdmVUb05vblByb21pc2VPYmpfID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIHRoZW5NZXRob2QgPSB2b2lkIDA7XG4gICAgdHJ5IHtcbiAgICAgIHRoZW5NZXRob2QgPSBvYmoudGhlbjtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5yZWplY3RfKGVycm9yKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXCJmdW5jdGlvblwiID09IHR5cGVvZiB0aGVuTWV0aG9kID8gdGhpcy5zZXR0bGVTYW1lQXNUaGVuYWJsZV8odGhlbk1ldGhvZCwgb2JqKSA6IHRoaXMuZnVsZmlsbF8ob2JqKTtcbiAgfTtcbiAgUG9seWZpbGxQcm9taXNlLnByb3RvdHlwZS5yZWplY3RfID0gZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgdGhpcy5zZXR0bGVfKFByb21pc2VTdGF0ZS5SRUpFQ1RFRCwgcmVhc29uKTtcbiAgfTtcbiAgUG9seWZpbGxQcm9taXNlLnByb3RvdHlwZS5mdWxmaWxsXyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdGhpcy5zZXR0bGVfKFByb21pc2VTdGF0ZS5GVUxGSUxMRUQsIHZhbHVlKTtcbiAgfTtcbiAgUG9seWZpbGxQcm9taXNlLnByb3RvdHlwZS5zZXR0bGVfID0gZnVuY3Rpb24oc2V0dGxlZFN0YXRlLCB2YWx1ZU9yUmVhc29uKSB7XG4gICAgaWYgKHRoaXMuc3RhdGVfICE9IFByb21pc2VTdGF0ZS5QRU5ESU5HKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIkNhbm5vdCBzZXR0bGUoXCIgKyBzZXR0bGVkU3RhdGUgKyBcIiwgXCIgKyB2YWx1ZU9yUmVhc29uICsgXCIpOiBQcm9taXNlIGFscmVhZHkgc2V0dGxlZCBpbiBzdGF0ZVwiICsgdGhpcy5zdGF0ZV8pO1xuICAgIH1cbiAgICB0aGlzLnN0YXRlXyA9IHNldHRsZWRTdGF0ZTtcbiAgICB0aGlzLnJlc3VsdF8gPSB2YWx1ZU9yUmVhc29uO1xuICAgIHRoaXMuc3RhdGVfID09PSBQcm9taXNlU3RhdGUuUkVKRUNURUQgJiYgdGhpcy5zY2hlZHVsZVVuaGFuZGxlZFJlamVjdGlvbkNoZWNrXygpO1xuICAgIHRoaXMuZXhlY3V0ZU9uU2V0dGxlZENhbGxiYWNrc18oKTtcbiAgfTtcbiAgUG9seWZpbGxQcm9taXNlLnByb3RvdHlwZS5zY2hlZHVsZVVuaGFuZGxlZFJlamVjdGlvbkNoZWNrXyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBuYXRpdmVTZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHNlbGYubm90aWZ5VW5oYW5kbGVkUmVqZWN0aW9uXygpKSB7XG4gICAgICAgIHZhciBuYXRpdmVDb25zb2xlID0gJGpzY29tcC5nbG9iYWwuY29uc29sZTtcbiAgICAgICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIG5hdGl2ZUNvbnNvbGUgJiYgbmF0aXZlQ29uc29sZS5lcnJvcihzZWxmLnJlc3VsdF8pO1xuICAgICAgfVxuICAgIH0sIDEpO1xuICB9O1xuICBQb2x5ZmlsbFByb21pc2UucHJvdG90eXBlLm5vdGlmeVVuaGFuZGxlZFJlamVjdGlvbl8gPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5pc1JlamVjdGlvbkhhbmRsZWRfKSB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIHZhciBOYXRpdmVDdXN0b21FdmVudCA9ICRqc2NvbXAuZ2xvYmFsLkN1c3RvbUV2ZW50LCBOYXRpdmVFdmVudCA9ICRqc2NvbXAuZ2xvYmFsLkV2ZW50LCBuYXRpdmVEaXNwYXRjaEV2ZW50ID0gJGpzY29tcC5nbG9iYWwuZGlzcGF0Y2hFdmVudDtcbiAgICBpZiAoXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIG5hdGl2ZURpc3BhdGNoRXZlbnQpIHtcbiAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIE5hdGl2ZUN1c3RvbUV2ZW50KSB7XG4gICAgICB2YXIgZXZlbnQgPSBuZXcgTmF0aXZlQ3VzdG9tRXZlbnQoXCJ1bmhhbmRsZWRyZWplY3Rpb25cIiwge2NhbmNlbGFibGU6ITB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgTmF0aXZlRXZlbnQgPyBldmVudCA9IG5ldyBOYXRpdmVFdmVudChcInVuaGFuZGxlZHJlamVjdGlvblwiLCB7Y2FuY2VsYWJsZTohMH0pIDogKGV2ZW50ID0gJGpzY29tcC5nbG9iYWwuZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJDdXN0b21FdmVudFwiKSwgZXZlbnQuaW5pdEN1c3RvbUV2ZW50KFwidW5oYW5kbGVkcmVqZWN0aW9uXCIsICExLCAhMCwgZXZlbnQpKTtcbiAgICB9XG4gICAgZXZlbnQucHJvbWlzZSA9IHRoaXM7XG4gICAgZXZlbnQucmVhc29uID0gdGhpcy5yZXN1bHRfO1xuICAgIHJldHVybiBuYXRpdmVEaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgfTtcbiAgUG9seWZpbGxQcm9taXNlLnByb3RvdHlwZS5leGVjdXRlT25TZXR0bGVkQ2FsbGJhY2tzXyA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChudWxsICE9IHRoaXMub25TZXR0bGVkQ2FsbGJhY2tzXykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm9uU2V0dGxlZENhbGxiYWNrc18ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgYXN5bmNFeGVjdXRvci5hc3luY0V4ZWN1dGUodGhpcy5vblNldHRsZWRDYWxsYmFja3NfW2ldKTtcbiAgICAgIH1cbiAgICAgIHRoaXMub25TZXR0bGVkQ2FsbGJhY2tzXyA9IG51bGw7XG4gICAgfVxuICB9O1xuICB2YXIgYXN5bmNFeGVjdXRvciA9IG5ldyBBc3luY0V4ZWN1dG9yKCk7XG4gIFBvbHlmaWxsUHJvbWlzZS5wcm90b3R5cGUuc2V0dGxlU2FtZUFzUHJvbWlzZV8gPSBmdW5jdGlvbihwcm9taXNlKSB7XG4gICAgdmFyIG1ldGhvZHMgPSB0aGlzLmNyZWF0ZVJlc29sdmVBbmRSZWplY3RfKCk7XG4gICAgcHJvbWlzZS5jYWxsV2hlblNldHRsZWRfKG1ldGhvZHMucmVzb2x2ZSwgbWV0aG9kcy5yZWplY3QpO1xuICB9O1xuICBQb2x5ZmlsbFByb21pc2UucHJvdG90eXBlLnNldHRsZVNhbWVBc1RoZW5hYmxlXyA9IGZ1bmN0aW9uKHRoZW5NZXRob2QsIHRoZW5hYmxlKSB7XG4gICAgdmFyIG1ldGhvZHMgPSB0aGlzLmNyZWF0ZVJlc29sdmVBbmRSZWplY3RfKCk7XG4gICAgdHJ5IHtcbiAgICAgIHRoZW5NZXRob2QuY2FsbCh0aGVuYWJsZSwgbWV0aG9kcy5yZXNvbHZlLCBtZXRob2RzLnJlamVjdCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIG1ldGhvZHMucmVqZWN0KGVycm9yKTtcbiAgICB9XG4gIH07XG4gIFBvbHlmaWxsUHJvbWlzZS5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gICAgZnVuY3Rpb24gY3JlYXRlQ2FsbGJhY2socGFyYW1GLCBkZWZhdWx0Rikge1xuICAgICAgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgcGFyYW1GID8gZnVuY3Rpb24oeCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJlc29sdmVDaGlsZChwYXJhbUYoeCkpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIHJlamVjdENoaWxkKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSA6IGRlZmF1bHRGO1xuICAgIH1cbiAgICB2YXIgcmVzb2x2ZUNoaWxkLCByZWplY3RDaGlsZCwgY2hpbGRQcm9taXNlID0gbmV3IFBvbHlmaWxsUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHJlc29sdmVDaGlsZCA9IHJlc29sdmU7XG4gICAgICByZWplY3RDaGlsZCA9IHJlamVjdDtcbiAgICB9KTtcbiAgICB0aGlzLmNhbGxXaGVuU2V0dGxlZF8oY3JlYXRlQ2FsbGJhY2sob25GdWxmaWxsZWQsIHJlc29sdmVDaGlsZCksIGNyZWF0ZUNhbGxiYWNrKG9uUmVqZWN0ZWQsIHJlamVjdENoaWxkKSk7XG4gICAgcmV0dXJuIGNoaWxkUHJvbWlzZTtcbiAgfTtcbiAgUG9seWZpbGxQcm9taXNlLnByb3RvdHlwZS5jYXRjaCA9IGZ1bmN0aW9uKG9uUmVqZWN0ZWQpIHtcbiAgICByZXR1cm4gdGhpcy50aGVuKHZvaWQgMCwgb25SZWplY3RlZCk7XG4gIH07XG4gIFBvbHlmaWxsUHJvbWlzZS5wcm90b3R5cGUuY2FsbFdoZW5TZXR0bGVkXyA9IGZ1bmN0aW9uKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gICAgZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgICBzd2l0Y2godGhpc1Byb21pc2Uuc3RhdGVfKSB7XG4gICAgICAgIGNhc2UgUHJvbWlzZVN0YXRlLkZVTEZJTExFRDpcbiAgICAgICAgICBvbkZ1bGZpbGxlZCh0aGlzUHJvbWlzZS5yZXN1bHRfKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBQcm9taXNlU3RhdGUuUkVKRUNURUQ6XG4gICAgICAgICAgb25SZWplY3RlZCh0aGlzUHJvbWlzZS5yZXN1bHRfKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBFcnJvcihcIlVuZXhwZWN0ZWQgc3RhdGU6IFwiICsgdGhpc1Byb21pc2Uuc3RhdGVfKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIHRoaXNQcm9taXNlID0gdGhpcztcbiAgICBudWxsID09IHRoaXMub25TZXR0bGVkQ2FsbGJhY2tzXyA/IGFzeW5jRXhlY3V0b3IuYXN5bmNFeGVjdXRlKGNhbGxiYWNrKSA6IHRoaXMub25TZXR0bGVkQ2FsbGJhY2tzXy5wdXNoKGNhbGxiYWNrKTtcbiAgICB0aGlzLmlzUmVqZWN0aW9uSGFuZGxlZF8gPSAhMDtcbiAgfTtcbiAgUG9seWZpbGxQcm9taXNlLnJlc29sdmUgPSByZXNvbHZpbmdQcm9taXNlO1xuICBQb2x5ZmlsbFByb21pc2UucmVqZWN0ID0gZnVuY3Rpb24ob3B0X3JlYXNvbikge1xuICAgIHJldHVybiBuZXcgUG9seWZpbGxQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgcmVqZWN0KG9wdF9yZWFzb24pO1xuICAgIH0pO1xuICB9O1xuICBQb2x5ZmlsbFByb21pc2UucmFjZSA9IGZ1bmN0aW9uKHRoZW5hYmxlc09yVmFsdWVzKSB7XG4gICAgcmV0dXJuIG5ldyBQb2x5ZmlsbFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBmb3IgKHZhciBpdGVyYXRvciA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKHRoZW5hYmxlc09yVmFsdWVzKSwgaXRlclJlYyA9IGl0ZXJhdG9yLm5leHQoKTsgIWl0ZXJSZWMuZG9uZTsgaXRlclJlYyA9IGl0ZXJhdG9yLm5leHQoKSkge1xuICAgICAgICByZXNvbHZpbmdQcm9taXNlKGl0ZXJSZWMudmFsdWUpLmNhbGxXaGVuU2V0dGxlZF8ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgUG9seWZpbGxQcm9taXNlLmFsbCA9IGZ1bmN0aW9uKHRoZW5hYmxlc09yVmFsdWVzKSB7XG4gICAgdmFyIGl0ZXJhdG9yID0gJGpzY29tcC5tYWtlSXRlcmF0b3IodGhlbmFibGVzT3JWYWx1ZXMpLCBpdGVyUmVjID0gaXRlcmF0b3IubmV4dCgpO1xuICAgIHJldHVybiBpdGVyUmVjLmRvbmUgPyByZXNvbHZpbmdQcm9taXNlKFtdKSA6IG5ldyBQb2x5ZmlsbFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZUFsbCwgcmVqZWN0QWxsKSB7XG4gICAgICBmdW5jdGlvbiBvbkZ1bGZpbGxlZChpKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihpdGhSZXN1bHQpIHtcbiAgICAgICAgICByZXN1bHRzQXJyYXlbaV0gPSBpdGhSZXN1bHQ7XG4gICAgICAgICAgdW5yZXNvbHZlZENvdW50LS07XG4gICAgICAgICAgMCA9PSB1bnJlc29sdmVkQ291bnQgJiYgcmVzb2x2ZUFsbChyZXN1bHRzQXJyYXkpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdHNBcnJheSA9IFtdLCB1bnJlc29sdmVkQ291bnQgPSAwO1xuICAgICAgZG8ge1xuICAgICAgICByZXN1bHRzQXJyYXkucHVzaCh2b2lkIDApLCB1bnJlc29sdmVkQ291bnQrKywgcmVzb2x2aW5nUHJvbWlzZShpdGVyUmVjLnZhbHVlKS5jYWxsV2hlblNldHRsZWRfKG9uRnVsZmlsbGVkKHJlc3VsdHNBcnJheS5sZW5ndGggLSAxKSwgcmVqZWN0QWxsKSwgaXRlclJlYyA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgIH0gd2hpbGUgKCFpdGVyUmVjLmRvbmUpO1xuICAgIH0pO1xuICB9O1xuICByZXR1cm4gUG9seWZpbGxQcm9taXNlO1xufSwgXCJlczZcIiwgXCJlczNcIik7XG4kanNjb21wLmNoZWNrRXM2Q29uZm9ybWFuY2VWaWFQcm94eSA9IGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIHZhciBwcm94aWVkID0ge30sIHByb3h5ID0gT2JqZWN0LmNyZWF0ZShuZXcgJGpzY29tcC5nbG9iYWwuUHJveHkocHJveGllZCwge2dldDpmdW5jdGlvbih0YXJnZXQsIGtleSwgcmVjZWl2ZXIpIHtcbiAgICAgIHJldHVybiB0YXJnZXQgPT0gcHJveGllZCAmJiBcInFcIiA9PSBrZXkgJiYgcmVjZWl2ZXIgPT0gcHJveHk7XG4gICAgfX0pKTtcbiAgICByZXR1cm4gITAgPT09IHByb3h5LnE7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiAhMTtcbiAgfVxufTtcbiRqc2NvbXAuVVNFX1BST1hZX0ZPUl9FUzZfQ09ORk9STUFOQ0VfQ0hFQ0tTID0gITE7XG4kanNjb21wLkVTNl9DT05GT1JNQU5DRSA9ICRqc2NvbXAuVVNFX1BST1hZX0ZPUl9FUzZfQ09ORk9STUFOQ0VfQ0hFQ0tTICYmICRqc2NvbXAuY2hlY2tFczZDb25mb3JtYW5jZVZpYVByb3h5KCk7XG4kanNjb21wLm93bnMgPSBmdW5jdGlvbihvYmosIHByb3ApIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApO1xufTtcbiRqc2NvbXAucG9seWZpbGwoXCJXZWFrTWFwXCIsIGZ1bmN0aW9uKE5hdGl2ZVdlYWtNYXApIHtcbiAgZnVuY3Rpb24gaXNDb25mb3JtYW50KCkge1xuICAgIGlmICghTmF0aXZlV2Vha01hcCB8fCAhT2JqZWN0LnNlYWwpIHtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIHZhciB4ID0gT2JqZWN0LnNlYWwoe30pLCB5ID0gT2JqZWN0LnNlYWwoe30pLCBtYXAgPSBuZXcgTmF0aXZlV2Vha01hcChbW3gsIDJdLCBbeSwgM11dKTtcbiAgICAgIGlmICgyICE9IG1hcC5nZXQoeCkgfHwgMyAhPSBtYXAuZ2V0KHkpKSB7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICAgIG1hcC5kZWxldGUoeCk7XG4gICAgICBtYXAuc2V0KHksIDQpO1xuICAgICAgcmV0dXJuICFtYXAuaGFzKHgpICYmIDQgPT0gbWFwLmdldCh5KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gV2Vha01hcE1lbWJlcnNoaXAoKSB7XG4gIH1cbiAgZnVuY3Rpb24gaXNWYWxpZEtleShrZXkpIHtcbiAgICB2YXIgdHlwZSA9IHR5cGVvZiBrZXk7XG4gICAgcmV0dXJuIFwib2JqZWN0XCIgPT09IHR5cGUgJiYgbnVsbCAhPT0ga2V5IHx8IFwiZnVuY3Rpb25cIiA9PT0gdHlwZTtcbiAgfVxuICBmdW5jdGlvbiBpbnNlcnQodGFyZ2V0KSB7XG4gICAgaWYgKCEkanNjb21wLm93bnModGFyZ2V0LCBwcm9wKSkge1xuICAgICAgdmFyIG9iaiA9IG5ldyBXZWFrTWFwTWVtYmVyc2hpcCgpO1xuICAgICAgJGpzY29tcC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIHByb3AsIHt2YWx1ZTpvYmp9KTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcGF0Y2gobmFtZSkge1xuICAgIGlmICghJGpzY29tcC5JU09MQVRFX1BPTFlGSUxMUykge1xuICAgICAgdmFyIHByZXYgPSBPYmplY3RbbmFtZV07XG4gICAgICBwcmV2ICYmIChPYmplY3RbbmFtZV0gPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgICAgICAgaWYgKHRhcmdldCBpbnN0YW5jZW9mIFdlYWtNYXBNZW1iZXJzaGlwKSB7XG4gICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3QuaXNFeHRlbnNpYmxlKHRhcmdldCkgJiYgaW5zZXJ0KHRhcmdldCk7XG4gICAgICAgIHJldHVybiBwcmV2KHRhcmdldCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgaWYgKCRqc2NvbXAuVVNFX1BST1hZX0ZPUl9FUzZfQ09ORk9STUFOQ0VfQ0hFQ0tTKSB7XG4gICAgaWYgKE5hdGl2ZVdlYWtNYXAgJiYgJGpzY29tcC5FUzZfQ09ORk9STUFOQ0UpIHtcbiAgICAgIHJldHVybiBOYXRpdmVXZWFrTWFwO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoaXNDb25mb3JtYW50KCkpIHtcbiAgICAgIHJldHVybiBOYXRpdmVXZWFrTWFwO1xuICAgIH1cbiAgfVxuICB2YXIgcHJvcCA9IFwiJGpzY29tcF9oaWRkZW5fXCIgKyBNYXRoLnJhbmRvbSgpO1xuICBwYXRjaChcImZyZWV6ZVwiKTtcbiAgcGF0Y2goXCJwcmV2ZW50RXh0ZW5zaW9uc1wiKTtcbiAgcGF0Y2goXCJzZWFsXCIpO1xuICB2YXIgaW5kZXggPSAwLCBQb2x5ZmlsbFdlYWtNYXAgPSBmdW5jdGlvbihvcHRfaXRlcmFibGUpIHtcbiAgICB0aGlzLmlkXyA9IChpbmRleCArPSBNYXRoLnJhbmRvbSgpICsgMSkudG9TdHJpbmcoKTtcbiAgICBpZiAob3B0X2l0ZXJhYmxlKSB7XG4gICAgICBmb3IgKHZhciBpdGVyID0gJGpzY29tcC5tYWtlSXRlcmF0b3Iob3B0X2l0ZXJhYmxlKSwgZW50cnk7ICEoZW50cnkgPSBpdGVyLm5leHQoKSkuZG9uZTspIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBlbnRyeS52YWx1ZTtcbiAgICAgICAgdGhpcy5zZXQoaXRlbVswXSwgaXRlbVsxXSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBQb2x5ZmlsbFdlYWtNYXAucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICBpZiAoIWlzVmFsaWRLZXkoa2V5KSkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIFdlYWtNYXAga2V5XCIpO1xuICAgIH1cbiAgICBpbnNlcnQoa2V5KTtcbiAgICBpZiAoISRqc2NvbXAub3ducyhrZXksIHByb3ApKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIldlYWtNYXAga2V5IGZhaWw6IFwiICsga2V5KTtcbiAgICB9XG4gICAga2V5W3Byb3BdW3RoaXMuaWRfXSA9IHZhbHVlO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBQb2x5ZmlsbFdlYWtNYXAucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBpc1ZhbGlkS2V5KGtleSkgJiYgJGpzY29tcC5vd25zKGtleSwgcHJvcCkgPyBrZXlbcHJvcF1bdGhpcy5pZF9dIDogdm9pZCAwO1xuICB9O1xuICBQb2x5ZmlsbFdlYWtNYXAucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBpc1ZhbGlkS2V5KGtleSkgJiYgJGpzY29tcC5vd25zKGtleSwgcHJvcCkgJiYgJGpzY29tcC5vd25zKGtleVtwcm9wXSwgdGhpcy5pZF8pO1xuICB9O1xuICBQb2x5ZmlsbFdlYWtNYXAucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBpc1ZhbGlkS2V5KGtleSkgJiYgJGpzY29tcC5vd25zKGtleSwgcHJvcCkgJiYgJGpzY29tcC5vd25zKGtleVtwcm9wXSwgdGhpcy5pZF8pID8gZGVsZXRlIGtleVtwcm9wXVt0aGlzLmlkX10gOiAhMTtcbiAgfTtcbiAgcmV0dXJuIFBvbHlmaWxsV2Vha01hcDtcbn0sIFwiZXM2XCIsIFwiZXMzXCIpO1xuJGpzY29tcC5NYXBFbnRyeSA9IGZ1bmN0aW9uKCkge1xufTtcbiRqc2NvbXAucG9seWZpbGwoXCJNYXBcIiwgZnVuY3Rpb24oTmF0aXZlTWFwKSB7XG4gIGZ1bmN0aW9uIGlzQ29uZm9ybWFudCgpIHtcbiAgICBpZiAoJGpzY29tcC5BU1NVTUVfTk9fTkFUSVZFX01BUCB8fCAhTmF0aXZlTWFwIHx8IFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgTmF0aXZlTWFwIHx8ICFOYXRpdmVNYXAucHJvdG90eXBlLmVudHJpZXMgfHwgXCJmdW5jdGlvblwiICE9IHR5cGVvZiBPYmplY3Quc2VhbCkge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgdmFyIGtleSA9IE9iamVjdC5zZWFsKHt4OjR9KSwgbWFwID0gbmV3IE5hdGl2ZU1hcCgkanNjb21wLm1ha2VJdGVyYXRvcihbW2tleSwgXCJzXCJdXSkpO1xuICAgICAgaWYgKFwic1wiICE9IG1hcC5nZXQoa2V5KSB8fCAxICE9IG1hcC5zaXplIHx8IG1hcC5nZXQoe3g6NH0pIHx8IG1hcC5zZXQoe3g6NH0sIFwidFwiKSAhPSBtYXAgfHwgMiAhPSBtYXAuc2l6ZSkge1xuICAgICAgICByZXR1cm4gITE7XG4gICAgICB9XG4gICAgICB2YXIgaXRlciA9IG1hcC5lbnRyaWVzKCksIGl0ZW0gPSBpdGVyLm5leHQoKTtcbiAgICAgIGlmIChpdGVtLmRvbmUgfHwgaXRlbS52YWx1ZVswXSAhPSBrZXkgfHwgXCJzXCIgIT0gaXRlbS52YWx1ZVsxXSkge1xuICAgICAgICByZXR1cm4gITE7XG4gICAgICB9XG4gICAgICBpdGVtID0gaXRlci5uZXh0KCk7XG4gICAgICByZXR1cm4gaXRlbS5kb25lIHx8IDQgIT0gaXRlbS52YWx1ZVswXS54IHx8IFwidFwiICE9IGl0ZW0udmFsdWVbMV0gfHwgIWl0ZXIubmV4dCgpLmRvbmUgPyAhMSA6ICEwO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfVxuICBpZiAoJGpzY29tcC5VU0VfUFJPWFlfRk9SX0VTNl9DT05GT1JNQU5DRV9DSEVDS1MpIHtcbiAgICBpZiAoTmF0aXZlTWFwICYmICRqc2NvbXAuRVM2X0NPTkZPUk1BTkNFKSB7XG4gICAgICByZXR1cm4gTmF0aXZlTWFwO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoaXNDb25mb3JtYW50KCkpIHtcbiAgICAgIHJldHVybiBOYXRpdmVNYXA7XG4gICAgfVxuICB9XG4gIHZhciBpZE1hcCA9IG5ldyBXZWFrTWFwKCksIFBvbHlmaWxsTWFwID0gZnVuY3Rpb24ob3B0X2l0ZXJhYmxlKSB7XG4gICAgdGhpcy5kYXRhXyA9IHt9O1xuICAgIHRoaXMuaGVhZF8gPSBjcmVhdGVIZWFkKCk7XG4gICAgdGhpcy5zaXplID0gMDtcbiAgICBpZiAob3B0X2l0ZXJhYmxlKSB7XG4gICAgICBmb3IgKHZhciBpdGVyID0gJGpzY29tcC5tYWtlSXRlcmF0b3Iob3B0X2l0ZXJhYmxlKSwgZW50cnk7ICEoZW50cnkgPSBpdGVyLm5leHQoKSkuZG9uZTspIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBlbnRyeS52YWx1ZTtcbiAgICAgICAgdGhpcy5zZXQoaXRlbVswXSwgaXRlbVsxXSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBQb2x5ZmlsbE1hcC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgIGtleSA9IDAgPT09IGtleSA/IDAgOiBrZXk7XG4gICAgdmFyIHIgPSBtYXliZUdldEVudHJ5KHRoaXMsIGtleSk7XG4gICAgci5saXN0IHx8IChyLmxpc3QgPSB0aGlzLmRhdGFfW3IuaWRdID0gW10pO1xuICAgIHIuZW50cnkgPyByLmVudHJ5LnZhbHVlID0gdmFsdWUgOiAoci5lbnRyeSA9IHtuZXh0OnRoaXMuaGVhZF8sIHByZXZpb3VzOnRoaXMuaGVhZF8ucHJldmlvdXMsIGhlYWQ6dGhpcy5oZWFkXywga2V5OmtleSwgdmFsdWU6dmFsdWUsfSwgci5saXN0LnB1c2goci5lbnRyeSksIHRoaXMuaGVhZF8ucHJldmlvdXMubmV4dCA9IHIuZW50cnksIHRoaXMuaGVhZF8ucHJldmlvdXMgPSByLmVudHJ5LCB0aGlzLnNpemUrKyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIFBvbHlmaWxsTWFwLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbihrZXkpIHtcbiAgICB2YXIgciA9IG1heWJlR2V0RW50cnkodGhpcywga2V5KTtcbiAgICByZXR1cm4gci5lbnRyeSAmJiByLmxpc3QgPyAoci5saXN0LnNwbGljZShyLmluZGV4LCAxKSwgci5saXN0Lmxlbmd0aCB8fCBkZWxldGUgdGhpcy5kYXRhX1tyLmlkXSwgci5lbnRyeS5wcmV2aW91cy5uZXh0ID0gci5lbnRyeS5uZXh0LCByLmVudHJ5Lm5leHQucHJldmlvdXMgPSByLmVudHJ5LnByZXZpb3VzLCByLmVudHJ5LmhlYWQgPSBudWxsLCB0aGlzLnNpemUtLSwgITApIDogITE7XG4gIH07XG4gIFBvbHlmaWxsTWFwLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZGF0YV8gPSB7fTtcbiAgICB0aGlzLmhlYWRfID0gdGhpcy5oZWFkXy5wcmV2aW91cyA9IGNyZWF0ZUhlYWQoKTtcbiAgICB0aGlzLnNpemUgPSAwO1xuICB9O1xuICBQb2x5ZmlsbE1hcC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuICEhbWF5YmVHZXRFbnRyeSh0aGlzLCBrZXkpLmVudHJ5O1xuICB9O1xuICBQb2x5ZmlsbE1hcC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgdmFyIGVudHJ5ID0gbWF5YmVHZXRFbnRyeSh0aGlzLCBrZXkpLmVudHJ5O1xuICAgIHJldHVybiBlbnRyeSAmJiBlbnRyeS52YWx1ZTtcbiAgfTtcbiAgUG9seWZpbGxNYXAucHJvdG90eXBlLmVudHJpZXMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbWFrZUl0ZXJhdG9yKHRoaXMsIGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgICByZXR1cm4gW2VudHJ5LmtleSwgZW50cnkudmFsdWVdO1xuICAgIH0pO1xuICB9O1xuICBQb2x5ZmlsbE1hcC5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBtYWtlSXRlcmF0b3IodGhpcywgZnVuY3Rpb24oZW50cnkpIHtcbiAgICAgIHJldHVybiBlbnRyeS5rZXk7XG4gICAgfSk7XG4gIH07XG4gIFBvbHlmaWxsTWFwLnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbWFrZUl0ZXJhdG9yKHRoaXMsIGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgICByZXR1cm4gZW50cnkudmFsdWU7XG4gICAgfSk7XG4gIH07XG4gIFBvbHlmaWxsTWFwLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oY2FsbGJhY2ssIG9wdF90aGlzQXJnKSB7XG4gICAgZm9yICh2YXIgaXRlciA9IHRoaXMuZW50cmllcygpLCBpdGVtOyAhKGl0ZW0gPSBpdGVyLm5leHQoKSkuZG9uZTspIHtcbiAgICAgIHZhciBlbnRyeSA9IGl0ZW0udmFsdWU7XG4gICAgICBjYWxsYmFjay5jYWxsKG9wdF90aGlzQXJnLCBlbnRyeVsxXSwgZW50cnlbMF0sIHRoaXMpO1xuICAgIH1cbiAgfTtcbiAgUG9seWZpbGxNYXAucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBQb2x5ZmlsbE1hcC5wcm90b3R5cGUuZW50cmllcztcbiAgdmFyIG1heWJlR2V0RW50cnkgPSBmdW5jdGlvbihtYXAsIGtleSkge1xuICAgIHZhciBpZCA9IGdldElkKGtleSksIGxpc3QgPSBtYXAuZGF0YV9baWRdO1xuICAgIGlmIChsaXN0ICYmICRqc2NvbXAub3ducyhtYXAuZGF0YV8sIGlkKSkge1xuICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxpc3QubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGxpc3RbaW5kZXhdO1xuICAgICAgICBpZiAoa2V5ICE9PSBrZXkgJiYgZW50cnkua2V5ICE9PSBlbnRyeS5rZXkgfHwga2V5ID09PSBlbnRyeS5rZXkpIHtcbiAgICAgICAgICByZXR1cm4ge2lkOmlkLCBsaXN0Omxpc3QsIGluZGV4OmluZGV4LCBlbnRyeTplbnRyeX07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtpZDppZCwgbGlzdDpsaXN0LCBpbmRleDotMSwgZW50cnk6dm9pZCAwfTtcbiAgfSwgbWFrZUl0ZXJhdG9yID0gZnVuY3Rpb24obWFwLCBmdW5jKSB7XG4gICAgdmFyIGVudHJ5ID0gbWFwLmhlYWRfO1xuICAgIHJldHVybiAkanNjb21wLml0ZXJhdG9yUHJvdG90eXBlKGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgIGZvciAoOyBlbnRyeS5oZWFkICE9IG1hcC5oZWFkXzspIHtcbiAgICAgICAgICBlbnRyeSA9IGVudHJ5LnByZXZpb3VzO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoOyBlbnRyeS5uZXh0ICE9IGVudHJ5LmhlYWQ7KSB7XG4gICAgICAgICAgcmV0dXJuIGVudHJ5ID0gZW50cnkubmV4dCwge2RvbmU6ITEsIHZhbHVlOmZ1bmMoZW50cnkpfTtcbiAgICAgICAgfVxuICAgICAgICBlbnRyeSA9IG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4ge2RvbmU6ITAsIHZhbHVlOnZvaWQgMH07XG4gICAgfSk7XG4gIH0sIGNyZWF0ZUhlYWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaGVhZCA9IHt9O1xuICAgIHJldHVybiBoZWFkLnByZXZpb3VzID0gaGVhZC5uZXh0ID0gaGVhZC5oZWFkID0gaGVhZDtcbiAgfSwgbWFwSW5kZXggPSAwLCBnZXRJZCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciB0eXBlID0gb2JqICYmIHR5cGVvZiBvYmo7XG4gICAgaWYgKFwib2JqZWN0XCIgPT0gdHlwZSB8fCBcImZ1bmN0aW9uXCIgPT0gdHlwZSkge1xuICAgICAgaWYgKCFpZE1hcC5oYXMob2JqKSkge1xuICAgICAgICB2YXIgaWQgPSBcIlwiICsgKyttYXBJbmRleDtcbiAgICAgICAgaWRNYXAuc2V0KG9iaiwgaWQpO1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaWRNYXAuZ2V0KG9iaik7XG4gICAgfVxuICAgIHJldHVybiBcInBfXCIgKyBvYmo7XG4gIH07XG4gIHJldHVybiBQb2x5ZmlsbE1hcDtcbn0sIFwiZXM2XCIsIFwiZXMzXCIpO1xuJGpzY29tcC5maW5kSW50ZXJuYWwgPSBmdW5jdGlvbihhcnJheSwgY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgYXJyYXkgaW5zdGFuY2VvZiBTdHJpbmcgJiYgKGFycmF5ID0gU3RyaW5nKGFycmF5KSk7XG4gIGZvciAodmFyIGxlbiA9IGFycmF5Lmxlbmd0aCwgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciB2YWx1ZSA9IGFycmF5W2ldO1xuICAgIGlmIChjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHZhbHVlLCBpLCBhcnJheSkpIHtcbiAgICAgIHJldHVybiB7aTppLCB2OnZhbHVlfTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtpOi0xLCB2OnZvaWQgMH07XG59O1xuJGpzY29tcC5wb2x5ZmlsbChcIkFycmF5LnByb3RvdHlwZS5maW5kXCIsIGZ1bmN0aW9uKG9yaWcpIHtcbiAgcmV0dXJuIG9yaWcgPyBvcmlnIDogZnVuY3Rpb24oY2FsbGJhY2ssIG9wdF90aGlzQXJnKSB7XG4gICAgcmV0dXJuICRqc2NvbXAuZmluZEludGVybmFsKHRoaXMsIGNhbGxiYWNrLCBvcHRfdGhpc0FyZykudjtcbiAgfTtcbn0sIFwiZXM2XCIsIFwiZXMzXCIpO1xuJGpzY29tcC5jaGVja1N0cmluZ0FyZ3MgPSBmdW5jdGlvbih0aGlzQXJnLCBhcmcsIGZ1bmMpIHtcbiAgaWYgKG51bGwgPT0gdGhpc0FyZykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJUaGUgJ3RoaXMnIHZhbHVlIGZvciBTdHJpbmcucHJvdG90eXBlLlwiICsgZnVuYyArIFwiIG11c3Qgbm90IGJlIG51bGwgb3IgdW5kZWZpbmVkXCIpO1xuICB9XG4gIGlmIChhcmcgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmlyc3QgYXJndW1lbnQgdG8gU3RyaW5nLnByb3RvdHlwZS5cIiArIGZ1bmMgKyBcIiBtdXN0IG5vdCBiZSBhIHJlZ3VsYXIgZXhwcmVzc2lvblwiKTtcbiAgfVxuICByZXR1cm4gdGhpc0FyZyArIFwiXCI7XG59O1xuJGpzY29tcC5wb2x5ZmlsbChcIlN0cmluZy5wcm90b3R5cGUucmVwZWF0XCIsIGZ1bmN0aW9uKG9yaWcpIHtcbiAgcmV0dXJuIG9yaWcgPyBvcmlnIDogZnVuY3Rpb24oY29waWVzKSB7XG4gICAgdmFyIHN0cmluZyA9ICRqc2NvbXAuY2hlY2tTdHJpbmdBcmdzKHRoaXMsIG51bGwsIFwicmVwZWF0XCIpO1xuICAgIGlmICgwID4gY29waWVzIHx8IDEzNDIxNzcyNzkgPCBjb3BpZXMpIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCBjb3VudCB2YWx1ZVwiKTtcbiAgICB9XG4gICAgY29waWVzIHw9IDA7XG4gICAgZm9yICh2YXIgcmVzdWx0ID0gXCJcIjsgY29waWVzOykge1xuICAgICAgaWYgKGNvcGllcyAmIDEgJiYgKHJlc3VsdCArPSBzdHJpbmcpLCBjb3BpZXMgPj4+PSAxKSB7XG4gICAgICAgIHN0cmluZyArPSBzdHJpbmc7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59LCBcImVzNlwiLCBcImVzM1wiKTtcbiRqc2NvbXAuaXRlcmF0b3JGcm9tQXJyYXkgPSBmdW5jdGlvbihhcnJheSwgdHJhbnNmb3JtKSB7XG4gIGFycmF5IGluc3RhbmNlb2YgU3RyaW5nICYmIChhcnJheSArPSBcIlwiKTtcbiAgdmFyIGkgPSAwLCBkb25lID0gITEsIGl0ZXIgPSB7bmV4dDpmdW5jdGlvbigpIHtcbiAgICBpZiAoIWRvbmUgJiYgaSA8IGFycmF5Lmxlbmd0aCkge1xuICAgICAgdmFyIGluZGV4ID0gaSsrO1xuICAgICAgcmV0dXJuIHt2YWx1ZTp0cmFuc2Zvcm0oaW5kZXgsIGFycmF5W2luZGV4XSksIGRvbmU6ITF9O1xuICAgIH1cbiAgICBkb25lID0gITA7XG4gICAgcmV0dXJuIHtkb25lOiEwLCB2YWx1ZTp2b2lkIDB9O1xuICB9fTtcbiAgaXRlcltTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGl0ZXI7XG4gIH07XG4gIHJldHVybiBpdGVyO1xufTtcbiRqc2NvbXAucG9seWZpbGwoXCJBcnJheS5wcm90b3R5cGUua2V5c1wiLCBmdW5jdGlvbihvcmlnKSB7XG4gIHJldHVybiBvcmlnID8gb3JpZyA6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAkanNjb21wLml0ZXJhdG9yRnJvbUFycmF5KHRoaXMsIGZ1bmN0aW9uKGkpIHtcbiAgICAgIHJldHVybiBpO1xuICAgIH0pO1xuICB9O1xufSwgXCJlczZcIiwgXCJlczNcIik7XG4kanNjb21wLnBvbHlmaWxsKFwiQXJyYXkuZnJvbVwiLCBmdW5jdGlvbihvcmlnKSB7XG4gIHJldHVybiBvcmlnID8gb3JpZyA6IGZ1bmN0aW9uKGFycmF5TGlrZSwgb3B0X21hcEZuLCBvcHRfdGhpc0FyZykge1xuICAgIG9wdF9tYXBGbiA9IG51bGwgIT0gb3B0X21hcEZuID8gb3B0X21hcEZuIDogZnVuY3Rpb24oeCkge1xuICAgICAgcmV0dXJuIHg7XG4gICAgfTtcbiAgICB2YXIgcmVzdWx0ID0gW10sIGl0ZXJhdG9yRnVuY3Rpb24gPSBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgU3ltYm9sLml0ZXJhdG9yICYmIGFycmF5TGlrZVtTeW1ib2wuaXRlcmF0b3JdO1xuICAgIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGl0ZXJhdG9yRnVuY3Rpb24pIHtcbiAgICAgIGFycmF5TGlrZSA9IGl0ZXJhdG9yRnVuY3Rpb24uY2FsbChhcnJheUxpa2UpO1xuICAgICAgZm9yICh2YXIgbmV4dCwgayA9IDA7ICEobmV4dCA9IGFycmF5TGlrZS5uZXh0KCkpLmRvbmU7KSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKG9wdF9tYXBGbi5jYWxsKG9wdF90aGlzQXJnLCBuZXh0LnZhbHVlLCBrKyspKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yICh2YXIgbGVuID0gYXJyYXlMaWtlLmxlbmd0aCwgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICByZXN1bHQucHVzaChvcHRfbWFwRm4uY2FsbChvcHRfdGhpc0FyZywgYXJyYXlMaWtlW2ldLCBpKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59LCBcImVzNlwiLCBcImVzM1wiKTtcbiRqc2NvbXAucG9seWZpbGwoXCJBcnJheS5wcm90b3R5cGUudmFsdWVzXCIsIGZ1bmN0aW9uKG9yaWcpIHtcbiAgcmV0dXJuIG9yaWcgPyBvcmlnIDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICRqc2NvbXAuaXRlcmF0b3JGcm9tQXJyYXkodGhpcywgZnVuY3Rpb24oaywgdikge1xuICAgICAgcmV0dXJuIHY7XG4gICAgfSk7XG4gIH07XG59LCBcImVzOFwiLCBcImVzM1wiKTtcbiRqc2NvbXAucG9seWZpbGwoXCJPYmplY3Quc2V0UHJvdG90eXBlT2ZcIiwgZnVuY3Rpb24ob3JpZykge1xuICByZXR1cm4gb3JpZyB8fCAkanNjb21wLnNldFByb3RvdHlwZU9mO1xufSwgXCJlczZcIiwgXCJlczVcIik7XG4kanNjb21wLmFzc2lnbiA9ICRqc2NvbXAuVFJVU1RfRVM2X1BPTFlGSUxMUyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduIDogZnVuY3Rpb24odGFyZ2V0LCB2YXJfYXJncykge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG4gICAgaWYgKHNvdXJjZSkge1xuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAkanNjb21wLm93bnMoc291cmNlLCBrZXkpICYmICh0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRhcmdldDtcbn07XG4kanNjb21wLnBvbHlmaWxsKFwiT2JqZWN0LmFzc2lnblwiLCBmdW5jdGlvbihvcmlnKSB7XG4gIHJldHVybiBvcmlnIHx8ICRqc2NvbXAuYXNzaWduO1xufSwgXCJlczZcIiwgXCJlczNcIik7XG4kanNjb21wLnBvbHlmaWxsKFwiU3RyaW5nLnByb3RvdHlwZS5lbmRzV2l0aFwiLCBmdW5jdGlvbihvcmlnKSB7XG4gIHJldHVybiBvcmlnID8gb3JpZyA6IGZ1bmN0aW9uKHNlYXJjaFN0cmluZywgb3B0X3Bvc2l0aW9uKSB7XG4gICAgdmFyIHN0cmluZyA9ICRqc2NvbXAuY2hlY2tTdHJpbmdBcmdzKHRoaXMsIHNlYXJjaFN0cmluZywgXCJlbmRzV2l0aFwiKTtcbiAgICBzZWFyY2hTdHJpbmcgKz0gXCJcIjtcbiAgICB2b2lkIDAgPT09IG9wdF9wb3NpdGlvbiAmJiAob3B0X3Bvc2l0aW9uID0gc3RyaW5nLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IE1hdGgubWF4KDAsIE1hdGgubWluKG9wdF9wb3NpdGlvbiB8IDAsIHN0cmluZy5sZW5ndGgpKSwgaiA9IHNlYXJjaFN0cmluZy5sZW5ndGg7IDAgPCBqICYmIDAgPCBpOykge1xuICAgICAgaWYgKHN0cmluZ1stLWldICE9IHNlYXJjaFN0cmluZ1stLWpdKSB7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIDAgPj0gajtcbiAgfTtcbn0sIFwiZXM2XCIsIFwiZXMzXCIpO1xuJGpzY29tcC5wb2x5ZmlsbChcIlN0cmluZy5wcm90b3R5cGUuc3RhcnRzV2l0aFwiLCBmdW5jdGlvbihvcmlnKSB7XG4gIHJldHVybiBvcmlnID8gb3JpZyA6IGZ1bmN0aW9uKHNlYXJjaFN0cmluZywgb3B0X3Bvc2l0aW9uKSB7XG4gICAgdmFyIHN0cmluZyA9ICRqc2NvbXAuY2hlY2tTdHJpbmdBcmdzKHRoaXMsIHNlYXJjaFN0cmluZywgXCJzdGFydHNXaXRoXCIpO1xuICAgIHNlYXJjaFN0cmluZyArPSBcIlwiO1xuICAgIGZvciAodmFyIHN0ckxlbiA9IHN0cmluZy5sZW5ndGgsIHNlYXJjaExlbiA9IHNlYXJjaFN0cmluZy5sZW5ndGgsIGkgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihvcHRfcG9zaXRpb24gfCAwLCBzdHJpbmcubGVuZ3RoKSksIGogPSAwOyBqIDwgc2VhcmNoTGVuICYmIGkgPCBzdHJMZW47KSB7XG4gICAgICBpZiAoc3RyaW5nW2krK10gIT0gc2VhcmNoU3RyaW5nW2orK10pIHtcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaiA+PSBzZWFyY2hMZW47XG4gIH07XG59LCBcImVzNlwiLCBcImVzM1wiKTtcbiRqc2NvbXAucG9seWZpbGwoXCJOdW1iZXIuaXNGaW5pdGVcIiwgZnVuY3Rpb24ob3JpZykge1xuICByZXR1cm4gb3JpZyA/IG9yaWcgOiBmdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuIFwibnVtYmVyXCIgIT09IHR5cGVvZiB4ID8gITEgOiAhaXNOYU4oeCkgJiYgSW5maW5pdHkgIT09IHggJiYgLUluZmluaXR5ICE9PSB4O1xuICB9O1xufSwgXCJlczZcIiwgXCJlczNcIik7XG4kanNjb21wLnBvbHlmaWxsKFwiT2JqZWN0LmVudHJpZXNcIiwgZnVuY3Rpb24ob3JpZykge1xuICByZXR1cm4gb3JpZyA/IG9yaWcgOiBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgcmVzdWx0ID0gW10sIGtleTtcbiAgICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICAgICRqc2NvbXAub3ducyhvYmosIGtleSkgJiYgcmVzdWx0LnB1c2goW2tleSwgb2JqW2tleV1dKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn0sIFwiZXM4XCIsIFwiZXMzXCIpO1xuJGpzY29tcC5wb2x5ZmlsbChcIk9iamVjdC5pc1wiLCBmdW5jdGlvbihvcmlnKSB7XG4gIHJldHVybiBvcmlnID8gb3JpZyA6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0KSB7XG4gICAgcmV0dXJuIGxlZnQgPT09IHJpZ2h0ID8gMCAhPT0gbGVmdCB8fCAxIC8gbGVmdCA9PT0gMSAvIHJpZ2h0IDogbGVmdCAhPT0gbGVmdCAmJiByaWdodCAhPT0gcmlnaHQ7XG4gIH07XG59LCBcImVzNlwiLCBcImVzM1wiKTtcbiRqc2NvbXAucG9seWZpbGwoXCJBcnJheS5wcm90b3R5cGUuaW5jbHVkZXNcIiwgZnVuY3Rpb24ob3JpZykge1xuICByZXR1cm4gb3JpZyA/IG9yaWcgOiBmdW5jdGlvbihzZWFyY2hFbGVtZW50LCBvcHRfZnJvbUluZGV4KSB7XG4gICAgdmFyIGFycmF5ID0gdGhpcztcbiAgICBhcnJheSBpbnN0YW5jZW9mIFN0cmluZyAmJiAoYXJyYXkgPSBTdHJpbmcoYXJyYXkpKTtcbiAgICB2YXIgbGVuID0gYXJyYXkubGVuZ3RoLCBpID0gb3B0X2Zyb21JbmRleCB8fCAwO1xuICAgIGZvciAoMCA+IGkgJiYgKGkgPSBNYXRoLm1heChpICsgbGVuLCAwKSk7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFyIGVsZW1lbnQgPSBhcnJheVtpXTtcbiAgICAgIGlmIChlbGVtZW50ID09PSBzZWFyY2hFbGVtZW50IHx8IE9iamVjdC5pcyhlbGVtZW50LCBzZWFyY2hFbGVtZW50KSkge1xuICAgICAgICByZXR1cm4gITA7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAhMTtcbiAgfTtcbn0sIFwiZXM3XCIsIFwiZXMzXCIpO1xuJGpzY29tcC5wb2x5ZmlsbChcIlN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXNcIiwgZnVuY3Rpb24ob3JpZykge1xuICByZXR1cm4gb3JpZyA/IG9yaWcgOiBmdW5jdGlvbihzZWFyY2hTdHJpbmcsIG9wdF9wb3NpdGlvbikge1xuICAgIHJldHVybiAtMSAhPT0gJGpzY29tcC5jaGVja1N0cmluZ0FyZ3ModGhpcywgc2VhcmNoU3RyaW5nLCBcImluY2x1ZGVzXCIpLmluZGV4T2Yoc2VhcmNoU3RyaW5nLCBvcHRfcG9zaXRpb24gfHwgMCk7XG4gIH07XG59LCBcImVzNlwiLCBcImVzM1wiKTtcbiRqc2NvbXAucG9seWZpbGwoXCJTdHJpbmcucHJvdG90eXBlLnRyaW1MZWZ0XCIsIGZ1bmN0aW9uKG9yaWcpIHtcbiAgZnVuY3Rpb24gcG9seWZpbGwoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVwbGFjZSgvXltcXHNcXHhhMF0rLywgXCJcIik7XG4gIH1cbiAgcmV0dXJuIG9yaWcgfHwgcG9seWZpbGw7XG59LCBcImVzXzIwMTlcIiwgXCJlczNcIik7XG4kanNjb21wLnBvbHlmaWxsKFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIiwgZnVuY3Rpb24ob3JpZykge1xuICByZXR1cm4gb3JpZyA/IG9yaWcgOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJGpzY29tcC5pdGVyYXRvckZyb21BcnJheSh0aGlzLCBmdW5jdGlvbihpLCB2KSB7XG4gICAgICByZXR1cm4gW2ksIHZdO1xuICAgIH0pO1xuICB9O1xufSwgXCJlczZcIiwgXCJlczNcIik7XG4kanNjb21wLnBvbHlmaWxsKFwiU2V0XCIsIGZ1bmN0aW9uKE5hdGl2ZVNldCkge1xuICBmdW5jdGlvbiBpc0NvbmZvcm1hbnQoKSB7XG4gICAgaWYgKCRqc2NvbXAuQVNTVU1FX05PX05BVElWRV9TRVQgfHwgIU5hdGl2ZVNldCB8fCBcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIE5hdGl2ZVNldCB8fCAhTmF0aXZlU2V0LnByb3RvdHlwZS5lbnRyaWVzIHx8IFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgT2JqZWN0LnNlYWwpIHtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIHZhciB2YWx1ZSA9IE9iamVjdC5zZWFsKHt4OjR9KSwgc2V0ID0gbmV3IE5hdGl2ZVNldCgkanNjb21wLm1ha2VJdGVyYXRvcihbdmFsdWVdKSk7XG4gICAgICBpZiAoIXNldC5oYXModmFsdWUpIHx8IDEgIT0gc2V0LnNpemUgfHwgc2V0LmFkZCh2YWx1ZSkgIT0gc2V0IHx8IDEgIT0gc2V0LnNpemUgfHwgc2V0LmFkZCh7eDo0fSkgIT0gc2V0IHx8IDIgIT0gc2V0LnNpemUpIHtcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgfVxuICAgICAgdmFyIGl0ZXIgPSBzZXQuZW50cmllcygpLCBpdGVtID0gaXRlci5uZXh0KCk7XG4gICAgICBpZiAoaXRlbS5kb25lIHx8IGl0ZW0udmFsdWVbMF0gIT0gdmFsdWUgfHwgaXRlbS52YWx1ZVsxXSAhPSB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gITE7XG4gICAgICB9XG4gICAgICBpdGVtID0gaXRlci5uZXh0KCk7XG4gICAgICByZXR1cm4gaXRlbS5kb25lIHx8IGl0ZW0udmFsdWVbMF0gPT0gdmFsdWUgfHwgNCAhPSBpdGVtLnZhbHVlWzBdLnggfHwgaXRlbS52YWx1ZVsxXSAhPSBpdGVtLnZhbHVlWzBdID8gITEgOiBpdGVyLm5leHQoKS5kb25lO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfVxuICBpZiAoJGpzY29tcC5VU0VfUFJPWFlfRk9SX0VTNl9DT05GT1JNQU5DRV9DSEVDS1MpIHtcbiAgICBpZiAoTmF0aXZlU2V0ICYmICRqc2NvbXAuRVM2X0NPTkZPUk1BTkNFKSB7XG4gICAgICByZXR1cm4gTmF0aXZlU2V0O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoaXNDb25mb3JtYW50KCkpIHtcbiAgICAgIHJldHVybiBOYXRpdmVTZXQ7XG4gICAgfVxuICB9XG4gIHZhciBQb2x5ZmlsbFNldCA9IGZ1bmN0aW9uKG9wdF9pdGVyYWJsZSkge1xuICAgIHRoaXMubWFwXyA9IG5ldyBNYXAoKTtcbiAgICBpZiAob3B0X2l0ZXJhYmxlKSB7XG4gICAgICBmb3IgKHZhciBpdGVyID0gJGpzY29tcC5tYWtlSXRlcmF0b3Iob3B0X2l0ZXJhYmxlKSwgZW50cnk7ICEoZW50cnkgPSBpdGVyLm5leHQoKSkuZG9uZTspIHtcbiAgICAgICAgdGhpcy5hZGQoZW50cnkudmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnNpemUgPSB0aGlzLm1hcF8uc2l6ZTtcbiAgfTtcbiAgUG9seWZpbGxTZXQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFsdWUgPSAwID09PSB2YWx1ZSA/IDAgOiB2YWx1ZTtcbiAgICB0aGlzLm1hcF8uc2V0KHZhbHVlLCB2YWx1ZSk7XG4gICAgdGhpcy5zaXplID0gdGhpcy5tYXBfLnNpemU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIFBvbHlmaWxsU2V0LnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciByZXN1bHQgPSB0aGlzLm1hcF8uZGVsZXRlKHZhbHVlKTtcbiAgICB0aGlzLnNpemUgPSB0aGlzLm1hcF8uc2l6ZTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuICBQb2x5ZmlsbFNldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLm1hcF8uY2xlYXIoKTtcbiAgICB0aGlzLnNpemUgPSAwO1xuICB9O1xuICBQb2x5ZmlsbFNldC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5tYXBfLmhhcyh2YWx1ZSk7XG4gIH07XG4gIFBvbHlmaWxsU2V0LnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwXy5lbnRyaWVzKCk7XG4gIH07XG4gIFBvbHlmaWxsU2V0LnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5tYXBfLnZhbHVlcygpO1xuICB9O1xuICBQb2x5ZmlsbFNldC5wcm90b3R5cGUua2V5cyA9IFBvbHlmaWxsU2V0LnByb3RvdHlwZS52YWx1ZXM7XG4gIFBvbHlmaWxsU2V0LnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gUG9seWZpbGxTZXQucHJvdG90eXBlLnZhbHVlcztcbiAgUG9seWZpbGxTZXQucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbihjYWxsYmFjaywgb3B0X3RoaXNBcmcpIHtcbiAgICB2YXIgc2V0ID0gdGhpcztcbiAgICB0aGlzLm1hcF8uZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwob3B0X3RoaXNBcmcsIHZhbHVlLCB2YWx1ZSwgc2V0KTtcbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIFBvbHlmaWxsU2V0O1xufSwgXCJlczZcIiwgXCJlczNcIik7XG4kanNjb21wLnBvbHlmaWxsKFwiT2JqZWN0LnZhbHVlc1wiLCBmdW5jdGlvbihvcmlnKSB7XG4gIHJldHVybiBvcmlnID8gb3JpZyA6IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciByZXN1bHQgPSBbXSwga2V5O1xuICAgIGZvciAoa2V5IGluIG9iaikge1xuICAgICAgJGpzY29tcC5vd25zKG9iaiwga2V5KSAmJiByZXN1bHQucHVzaChvYmpba2V5XSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59LCBcImVzOFwiLCBcImVzM1wiKTtcbiRqc2NvbXAuc3RyaW5nUGFkZGluZyA9IGZ1bmN0aW9uKHBhZFN0cmluZywgcGFkTGVuZ3RoKSB7XG4gIHZhciBwYWRkaW5nID0gdm9pZCAwICE9PSBwYWRTdHJpbmcgPyBTdHJpbmcocGFkU3RyaW5nKSA6IFwiIFwiO1xuICByZXR1cm4gMCA8IHBhZExlbmd0aCAmJiBwYWRkaW5nID8gcGFkZGluZy5yZXBlYXQoTWF0aC5jZWlsKHBhZExlbmd0aCAvIHBhZGRpbmcubGVuZ3RoKSkuc3Vic3RyaW5nKDAsIHBhZExlbmd0aCkgOiBcIlwiO1xufTtcbiRqc2NvbXAucG9seWZpbGwoXCJTdHJpbmcucHJvdG90eXBlLnBhZFN0YXJ0XCIsIGZ1bmN0aW9uKG9yaWcpIHtcbiAgcmV0dXJuIG9yaWcgPyBvcmlnIDogZnVuY3Rpb24odGFyZ2V0TGVuZ3RoLCBvcHRfcGFkU3RyaW5nKSB7XG4gICAgdmFyIHN0cmluZyA9ICRqc2NvbXAuY2hlY2tTdHJpbmdBcmdzKHRoaXMsIG51bGwsIFwicGFkU3RhcnRcIik7XG4gICAgcmV0dXJuICRqc2NvbXAuc3RyaW5nUGFkZGluZyhvcHRfcGFkU3RyaW5nLCB0YXJnZXRMZW5ndGggLSBzdHJpbmcubGVuZ3RoKSArIHN0cmluZztcbiAgfTtcbn0sIFwiZXM4XCIsIFwiZXMzXCIpO1xudmFyIGdvb2cgPSBnb29nIHx8IHt9O1xuZ29vZy5nbG9iYWwgPSB0aGlzIHx8IHNlbGY7XG5nb29nLmV4cG9ydFBhdGhfID0gZnVuY3Rpb24obmFtZSwgb2JqZWN0LCBvdmVyd3JpdGVJbXBsaWNpdCwgb2JqZWN0VG9FeHBvcnRUbykge1xuICB2YXIgcGFydHMgPSBuYW1lLnNwbGl0KFwiLlwiKSwgY3VyID0gb2JqZWN0VG9FeHBvcnRUbyB8fCBnb29nLmdsb2JhbDtcbiAgcGFydHNbMF0gaW4gY3VyIHx8IFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIGN1ci5leGVjU2NyaXB0IHx8IGN1ci5leGVjU2NyaXB0KFwidmFyIFwiICsgcGFydHNbMF0pO1xuICBmb3IgKHZhciBwYXJ0OyBwYXJ0cy5sZW5ndGggJiYgKHBhcnQgPSBwYXJ0cy5zaGlmdCgpKTspIHtcbiAgICBpZiAocGFydHMubGVuZ3RoIHx8IHZvaWQgMCA9PT0gb2JqZWN0KSB7XG4gICAgICBjdXIgPSBjdXJbcGFydF0gJiYgY3VyW3BhcnRdICE9PSBPYmplY3QucHJvdG90eXBlW3BhcnRdID8gY3VyW3BhcnRdIDogY3VyW3BhcnRdID0ge307XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghb3ZlcndyaXRlSW1wbGljaXQgJiYgZ29vZy5pc09iamVjdChvYmplY3QpICYmIGdvb2cuaXNPYmplY3QoY3VyW3BhcnRdKSkge1xuICAgICAgICBmb3IgKHZhciBwcm9wIGluIG9iamVjdCkge1xuICAgICAgICAgIG9iamVjdC5oYXNPd25Qcm9wZXJ0eShwcm9wKSAmJiAoY3VyW3BhcnRdW3Byb3BdID0gb2JqZWN0W3Byb3BdKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VyW3BhcnRdID0gb2JqZWN0O1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbmdvb2cuZGVmaW5lID0gZnVuY3Rpb24obmFtZSwgZGVmYXVsdFZhbHVlKSB7XG4gIHZhciBkZWZpbmVzLCB1bmNvbXBpbGVkRGVmaW5lcztcbiAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbn07XG5nb29nLkZFQVRVUkVTRVRfWUVBUiA9IDIwMTI7XG5nb29nLkRFQlVHID0gITA7XG5nb29nLkxPQ0FMRSA9IFwiZW5cIjtcbmdvb2cuZ2V0TG9jYWxlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBnb29nLkxPQ0FMRTtcbn07XG5nb29nLlRSVVNURURfU0lURSA9ICEwO1xuZ29vZy5ESVNBTExPV19URVNUX09OTFlfQ09ERSA9ICFnb29nLkRFQlVHO1xuZ29vZy5FTkFCTEVfQ0hST01FX0FQUF9TQUZFX1NDUklQVF9MT0FESU5HID0gITE7XG5nb29nLnByb3ZpZGUgPSBmdW5jdGlvbihuYW1lKSB7XG4gIGlmIChnb29nLmlzSW5Nb2R1bGVMb2FkZXJfKCkpIHtcbiAgICB0aHJvdyBFcnJvcihcImdvb2cucHJvdmlkZSBjYW5ub3QgYmUgdXNlZCB3aXRoaW4gYSBtb2R1bGUuXCIpO1xuICB9XG4gIGdvb2cuY29uc3RydWN0TmFtZXNwYWNlXyhuYW1lKTtcbn07XG5nb29nLmNvbnN0cnVjdE5hbWVzcGFjZV8gPSBmdW5jdGlvbihuYW1lLCBvYmplY3QsIG92ZXJ3cml0ZUltcGxpY2l0KSB7XG4gIHZhciBuYW1lc3BhY2U7XG4gIGdvb2cuZXhwb3J0UGF0aF8obmFtZSwgb2JqZWN0LCBvdmVyd3JpdGVJbXBsaWNpdCk7XG59O1xuZ29vZy5OT05DRV9QQVRURVJOXyA9IC9eW1xcdysvXy1dK1s9XXswLDJ9JC87XG5nb29nLmdldFNjcmlwdE5vbmNlXyA9IGZ1bmN0aW9uKG9wdF93aW5kb3cpIHtcbiAgdmFyIGRvYyA9IChvcHRfd2luZG93IHx8IGdvb2cuZ2xvYmFsKS5kb2N1bWVudCwgc2NyaXB0ID0gZG9jLnF1ZXJ5U2VsZWN0b3IgJiYgZG9jLnF1ZXJ5U2VsZWN0b3IoXCJzY3JpcHRbbm9uY2VdXCIpO1xuICBpZiAoc2NyaXB0KSB7XG4gICAgdmFyIG5vbmNlID0gc2NyaXB0Lm5vbmNlIHx8IHNjcmlwdC5nZXRBdHRyaWJ1dGUoXCJub25jZVwiKTtcbiAgICBpZiAobm9uY2UgJiYgZ29vZy5OT05DRV9QQVRURVJOXy50ZXN0KG5vbmNlKSkge1xuICAgICAgcmV0dXJuIG5vbmNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gXCJcIjtcbn07XG5nb29nLlZBTElEX01PRFVMRV9SRV8gPSAvXlthLXpBLVpfJF1bYS16QS1aMC05Ll8kXSokLztcbmdvb2cubW9kdWxlID0gZnVuY3Rpb24obmFtZSkge1xuICBpZiAoXCJzdHJpbmdcIiAhPT0gdHlwZW9mIG5hbWUgfHwgIW5hbWUgfHwgLTEgPT0gbmFtZS5zZWFyY2goZ29vZy5WQUxJRF9NT0RVTEVfUkVfKSkge1xuICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBtb2R1bGUgaWRlbnRpZmllclwiKTtcbiAgfVxuICBpZiAoIWdvb2cuaXNJbkdvb2dNb2R1bGVMb2FkZXJfKCkpIHtcbiAgICB0aHJvdyBFcnJvcihcIk1vZHVsZSBcIiArIG5hbWUgKyBcIiBoYXMgYmVlbiBsb2FkZWQgaW5jb3JyZWN0bHkuIE5vdGUsIG1vZHVsZXMgY2Fubm90IGJlIGxvYWRlZCBhcyBub3JtYWwgc2NyaXB0cy4gVGhleSByZXF1aXJlIHNvbWUga2luZCBvZiBwcmUtcHJvY2Vzc2luZyBzdGVwLiBZb3UncmUgbGlrZWx5IHRyeWluZyB0byBsb2FkIGEgbW9kdWxlIHZpYSBhIHNjcmlwdCB0YWcgb3IgYXMgYSBwYXJ0IG9mIGEgY29uY2F0ZW5hdGVkIGJ1bmRsZSB3aXRob3V0IHJld3JpdGluZyB0aGUgbW9kdWxlLiBGb3IgbW9yZSBpbmZvIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9jbG9zdXJlLWxpYnJhcnkvd2lraS9nb29nLm1vZHVsZTotYW4tRVM2LW1vZHVsZS1saWtlLWFsdGVybmF0aXZlLXRvLWdvb2cucHJvdmlkZS5cIik7XG4gIH1cbiAgaWYgKGdvb2cubW9kdWxlTG9hZGVyU3RhdGVfLm1vZHVsZU5hbWUpIHtcbiAgICB0aHJvdyBFcnJvcihcImdvb2cubW9kdWxlIG1heSBvbmx5IGJlIGNhbGxlZCBvbmNlIHBlciBtb2R1bGUuXCIpO1xuICB9XG4gIGdvb2cubW9kdWxlTG9hZGVyU3RhdGVfLm1vZHVsZU5hbWUgPSBuYW1lO1xufTtcbmdvb2cubW9kdWxlLmdldCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgcmV0dXJuIGdvb2cubW9kdWxlLmdldEludGVybmFsXyhuYW1lKTtcbn07XG5nb29nLm1vZHVsZS5nZXRJbnRlcm5hbF8gPSBmdW5jdGlvbihuYW1lKSB7XG4gIHZhciBucztcbiAgcmV0dXJuIG51bGw7XG59O1xuZ29vZy5Nb2R1bGVUeXBlID0ge0VTNjpcImVzNlwiLCBHT09HOlwiZ29vZ1wifTtcbmdvb2cubW9kdWxlTG9hZGVyU3RhdGVfID0gbnVsbDtcbmdvb2cuaXNJbk1vZHVsZUxvYWRlcl8gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGdvb2cuaXNJbkdvb2dNb2R1bGVMb2FkZXJfKCkgfHwgZ29vZy5pc0luRXM2TW9kdWxlTG9hZGVyXygpO1xufTtcbmdvb2cuaXNJbkdvb2dNb2R1bGVMb2FkZXJfID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAhIWdvb2cubW9kdWxlTG9hZGVyU3RhdGVfICYmIGdvb2cubW9kdWxlTG9hZGVyU3RhdGVfLnR5cGUgPT0gZ29vZy5Nb2R1bGVUeXBlLkdPT0c7XG59O1xuZ29vZy5pc0luRXM2TW9kdWxlTG9hZGVyXyA9IGZ1bmN0aW9uKCkge1xuICBpZiAoZ29vZy5tb2R1bGVMb2FkZXJTdGF0ZV8gJiYgZ29vZy5tb2R1bGVMb2FkZXJTdGF0ZV8udHlwZSA9PSBnb29nLk1vZHVsZVR5cGUuRVM2KSB7XG4gICAgcmV0dXJuICEwO1xuICB9XG4gIHZhciBqc2NvbXAgPSBnb29nLmdsb2JhbC4kanNjb21wO1xuICByZXR1cm4ganNjb21wID8gXCJmdW5jdGlvblwiICE9IHR5cGVvZiBqc2NvbXAuZ2V0Q3VycmVudE1vZHVsZVBhdGggPyAhMSA6ICEhanNjb21wLmdldEN1cnJlbnRNb2R1bGVQYXRoKCkgOiAhMTtcbn07XG5nb29nLm1vZHVsZS5kZWNsYXJlTGVnYWN5TmFtZXNwYWNlID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cubW9kdWxlTG9hZGVyU3RhdGVfLmRlY2xhcmVMZWdhY3lOYW1lc3BhY2UgPSAhMDtcbn07XG5nb29nLmRlY2xhcmVNb2R1bGVJZCA9IGZ1bmN0aW9uKG5hbWVzcGFjZSkge1xuICBpZiAoZ29vZy5tb2R1bGVMb2FkZXJTdGF0ZV8pIHtcbiAgICBnb29nLm1vZHVsZUxvYWRlclN0YXRlXy5tb2R1bGVOYW1lID0gbmFtZXNwYWNlO1xuICB9IGVsc2Uge1xuICAgIHZhciBqc2NvbXAgPSBnb29nLmdsb2JhbC4kanNjb21wO1xuICAgIGlmICghanNjb21wIHx8IFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YganNjb21wLmdldEN1cnJlbnRNb2R1bGVQYXRoKSB7XG4gICAgICB0aHJvdyBFcnJvcignTW9kdWxlIHdpdGggbmFtZXNwYWNlIFwiJyArIG5hbWVzcGFjZSArICdcIiBoYXMgYmVlbiBsb2FkZWQgaW5jb3JyZWN0bHkuJyk7XG4gICAgfVxuICAgIHZhciBleHBvcnRzID0ganNjb21wLnJlcXVpcmUoanNjb21wLmdldEN1cnJlbnRNb2R1bGVQYXRoKCkpO1xuICAgIGdvb2cubG9hZGVkTW9kdWxlc19bbmFtZXNwYWNlXSA9IHtleHBvcnRzOmV4cG9ydHMsIHR5cGU6Z29vZy5Nb2R1bGVUeXBlLkVTNiwgbW9kdWxlSWQ6bmFtZXNwYWNlfTtcbiAgfVxufTtcbmdvb2cuc2V0VGVzdE9ubHkgPSBmdW5jdGlvbihvcHRfbWVzc2FnZSkge1xuICBpZiAoZ29vZy5ESVNBTExPV19URVNUX09OTFlfQ09ERSkge1xuICAgIHRocm93IG9wdF9tZXNzYWdlID0gb3B0X21lc3NhZ2UgfHwgXCJcIiwgRXJyb3IoXCJJbXBvcnRpbmcgdGVzdC1vbmx5IGNvZGUgaW50byBub24tZGVidWcgZW52aXJvbm1lbnRcIiArIChvcHRfbWVzc2FnZSA/IFwiOiBcIiArIG9wdF9tZXNzYWdlIDogXCIuXCIpKTtcbiAgfVxufTtcbmdvb2cuZm9yd2FyZERlY2xhcmUgPSBmdW5jdGlvbihuYW1lKSB7XG59O1xuZ29vZy5nZXRPYmplY3RCeU5hbWUgPSBmdW5jdGlvbihuYW1lLCBvcHRfb2JqKSB7XG4gIGZvciAodmFyIHBhcnRzID0gbmFtZS5zcGxpdChcIi5cIiksIGN1ciA9IG9wdF9vYmogfHwgZ29vZy5nbG9iYWwsIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoY3VyID0gY3VyW3BhcnRzW2ldXSwgbnVsbCA9PSBjdXIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY3VyO1xufTtcbmdvb2cuYWRkRGVwZW5kZW5jeSA9IGZ1bmN0aW9uKHJlbFBhdGgsIHByb3ZpZGVzLCByZXF1aXJlcywgb3B0X2xvYWRGbGFncykge1xufTtcbmdvb2cuRU5BQkxFX0RFQlVHX0xPQURFUiA9ICEwO1xuZ29vZy5sb2dUb0NvbnNvbGVfID0gZnVuY3Rpb24obXNnKSB7XG4gIGdvb2cuZ2xvYmFsLmNvbnNvbGUgJiYgZ29vZy5nbG9iYWwuY29uc29sZS5lcnJvcihtc2cpO1xufTtcbmdvb2cucmVxdWlyZSA9IGZ1bmN0aW9uKG5hbWVzcGFjZSkge1xuICB2YXIgbW9kdWxlTG9hZGVyU3RhdGU7XG59O1xuZ29vZy5yZXF1aXJlVHlwZSA9IGZ1bmN0aW9uKG5hbWVzcGFjZSkge1xuICByZXR1cm4ge307XG59O1xuZ29vZy5iYXNlUGF0aCA9IFwiXCI7XG5nb29nLm51bGxGdW5jdGlvbiA9IGZ1bmN0aW9uKCkge1xufTtcbmdvb2cuYWJzdHJhY3RNZXRob2QgPSBmdW5jdGlvbigpIHtcbiAgdGhyb3cgRXJyb3IoXCJ1bmltcGxlbWVudGVkIGFic3RyYWN0IG1ldGhvZFwiKTtcbn07XG5nb29nLmFkZFNpbmdsZXRvbkdldHRlciA9IGZ1bmN0aW9uKGN0b3IpIHtcbiAgY3Rvci5pbnN0YW5jZV8gPSB2b2lkIDA7XG4gIGN0b3IuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoY3Rvci5pbnN0YW5jZV8pIHtcbiAgICAgIHJldHVybiBjdG9yLmluc3RhbmNlXztcbiAgICB9XG4gICAgZ29vZy5ERUJVRyAmJiAoZ29vZy5pbnN0YW50aWF0ZWRTaW5nbGV0b25zX1tnb29nLmluc3RhbnRpYXRlZFNpbmdsZXRvbnNfLmxlbmd0aF0gPSBjdG9yKTtcbiAgICByZXR1cm4gY3Rvci5pbnN0YW5jZV8gPSBuZXcgY3RvcigpO1xuICB9O1xufTtcbmdvb2cuaW5zdGFudGlhdGVkU2luZ2xldG9uc18gPSBbXTtcbmdvb2cuTE9BRF9NT0RVTEVfVVNJTkdfRVZBTCA9ICEwO1xuZ29vZy5TRUFMX01PRFVMRV9FWFBPUlRTID0gZ29vZy5ERUJVRztcbmdvb2cubG9hZGVkTW9kdWxlc18gPSB7fTtcbmdvb2cuREVQRU5ERU5DSUVTX0VOQUJMRUQgPSAhMTtcbmdvb2cuVFJBTlNQSUxFID0gXCJkZXRlY3RcIjtcbmdvb2cuQVNTVU1FX0VTX01PRFVMRVNfVFJBTlNQSUxFRCA9ICExO1xuZ29vZy5UUkFOU1BJTEVfVE9fTEFOR1VBR0UgPSBcIlwiO1xuZ29vZy5UUkFOU1BJTEVSID0gXCJ0cmFuc3BpbGUuanNcIjtcbmdvb2cuVFJVU1RFRF9UWVBFU19QT0xJQ1lfTkFNRSA9IFwiZ29vZ1wiO1xuZ29vZy5oYXNCYWRMZXRTY29waW5nID0gbnVsbDtcbmdvb2cubG9hZE1vZHVsZSA9IGZ1bmN0aW9uKG1vZHVsZURlZikge1xuICB2YXIgcHJldmlvdXNTdGF0ZSA9IGdvb2cubW9kdWxlTG9hZGVyU3RhdGVfO1xuICB0cnkge1xuICAgIGdvb2cubW9kdWxlTG9hZGVyU3RhdGVfID0ge21vZHVsZU5hbWU6XCJcIiwgZGVjbGFyZUxlZ2FjeU5hbWVzcGFjZTohMSwgdHlwZTpnb29nLk1vZHVsZVR5cGUuR09PR307XG4gICAgdmFyIG9yaWdFeHBvcnRzID0ge30sIGV4cG9ydHMgPSBvcmlnRXhwb3J0cztcbiAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbW9kdWxlRGVmKSB7XG4gICAgICBleHBvcnRzID0gbW9kdWxlRGVmLmNhbGwodm9pZCAwLCBleHBvcnRzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBtb2R1bGVEZWYpIHtcbiAgICAgICAgZXhwb3J0cyA9IGdvb2cubG9hZE1vZHVsZUZyb21Tb3VyY2VfLmNhbGwodm9pZCAwLCBleHBvcnRzLCBtb2R1bGVEZWYpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIG1vZHVsZSBkZWZpbml0aW9uXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgbW9kdWxlTmFtZSA9IGdvb2cubW9kdWxlTG9hZGVyU3RhdGVfLm1vZHVsZU5hbWU7XG4gICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBtb2R1bGVOYW1lICYmIG1vZHVsZU5hbWUpIHtcbiAgICAgIGdvb2cubW9kdWxlTG9hZGVyU3RhdGVfLmRlY2xhcmVMZWdhY3lOYW1lc3BhY2UgPyBnb29nLmNvbnN0cnVjdE5hbWVzcGFjZV8obW9kdWxlTmFtZSwgZXhwb3J0cywgb3JpZ0V4cG9ydHMgIT09IGV4cG9ydHMpIDogZ29vZy5TRUFMX01PRFVMRV9FWFBPUlRTICYmIE9iamVjdC5zZWFsICYmIFwib2JqZWN0XCIgPT0gdHlwZW9mIGV4cG9ydHMgJiYgbnVsbCAhPSBleHBvcnRzICYmIE9iamVjdC5zZWFsKGV4cG9ydHMpLCBnb29nLmxvYWRlZE1vZHVsZXNfW21vZHVsZU5hbWVdID0ge2V4cG9ydHM6ZXhwb3J0cywgdHlwZTpnb29nLk1vZHVsZVR5cGUuR09PRywgbW9kdWxlSWQ6Z29vZy5tb2R1bGVMb2FkZXJTdGF0ZV8ubW9kdWxlTmFtZX07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IEVycm9yKCdJbnZhbGlkIG1vZHVsZSBuYW1lIFwiJyArIG1vZHVsZU5hbWUgKyAnXCInKTtcbiAgICB9XG4gIH0gZmluYWxseSB7XG4gICAgZ29vZy5tb2R1bGVMb2FkZXJTdGF0ZV8gPSBwcmV2aW91c1N0YXRlO1xuICB9XG59O1xuZ29vZy5sb2FkTW9kdWxlRnJvbVNvdXJjZV8gPSBmdW5jdGlvbihleHBvcnRzLCBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDApIHtcbiAgZXZhbChnb29nLkNMT1NVUkVfRVZBTF9QUkVGSUxURVJfLmNyZWF0ZVNjcmlwdChKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDApKTtcbiAgcmV0dXJuIGV4cG9ydHM7XG59O1xuZ29vZy5ub3JtYWxpemVQYXRoXyA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgZm9yICh2YXIgY29tcG9uZW50cyA9IHBhdGguc3BsaXQoXCIvXCIpLCBpID0gMDsgaSA8IGNvbXBvbmVudHMubGVuZ3RoOykge1xuICAgIFwiLlwiID09IGNvbXBvbmVudHNbaV0gPyBjb21wb25lbnRzLnNwbGljZShpLCAxKSA6IGkgJiYgXCIuLlwiID09IGNvbXBvbmVudHNbaV0gJiYgY29tcG9uZW50c1tpIC0gMV0gJiYgXCIuLlwiICE9IGNvbXBvbmVudHNbaSAtIDFdID8gY29tcG9uZW50cy5zcGxpY2UoLS1pLCAyKSA6IGkrKztcbiAgfVxuICByZXR1cm4gY29tcG9uZW50cy5qb2luKFwiL1wiKTtcbn07XG5nb29nLmxvYWRGaWxlU3luY18gPSBmdW5jdGlvbihzcmMpIHtcbiAgaWYgKGdvb2cuZ2xvYmFsLkNMT1NVUkVfTE9BRF9GSUxFX1NZTkMpIHtcbiAgICByZXR1cm4gZ29vZy5nbG9iYWwuQ0xPU1VSRV9MT0FEX0ZJTEVfU1lOQyhzcmMpO1xuICB9XG4gIHRyeSB7XG4gICAgdmFyIHhociA9IG5ldyBnb29nLmdsb2JhbC5YTUxIdHRwUmVxdWVzdCgpO1xuICAgIHhoci5vcGVuKFwiZ2V0XCIsIHNyYywgITEpO1xuICAgIHhoci5zZW5kKCk7XG4gICAgcmV0dXJuIDAgPT0geGhyLnN0YXR1cyB8fCAyMDAgPT0geGhyLnN0YXR1cyA/IHhoci5yZXNwb25zZVRleHQgOiBudWxsO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcbmdvb2cudHJhbnNwaWxlXyA9IGZ1bmN0aW9uKGNvZGUkanNjb21wJDAsIHBhdGgkanNjb21wJDAsIHRhcmdldCkge1xuICB2YXIganNjb21wID0gZ29vZy5nbG9iYWwuJGpzY29tcDtcbiAganNjb21wIHx8IChnb29nLmdsb2JhbC4kanNjb21wID0ganNjb21wID0ge30pO1xuICB2YXIgdHJhbnNwaWxlID0ganNjb21wLnRyYW5zcGlsZTtcbiAgaWYgKCF0cmFuc3BpbGUpIHtcbiAgICB2YXIgdHJhbnNwaWxlclBhdGggPSBnb29nLmJhc2VQYXRoICsgZ29vZy5UUkFOU1BJTEVSLCB0cmFuc3BpbGVyQ29kZSA9IGdvb2cubG9hZEZpbGVTeW5jXyh0cmFuc3BpbGVyUGF0aCk7XG4gICAgaWYgKHRyYW5zcGlsZXJDb2RlKSB7XG4gICAgICAoZnVuY3Rpb24oKSB7XG4gICAgICAgICgwLGV2YWwpKHRyYW5zcGlsZXJDb2RlICsgXCJcXG4vLyMgc291cmNlVVJMPVwiICsgdHJhbnNwaWxlclBhdGgpO1xuICAgICAgfSkuY2FsbChnb29nLmdsb2JhbCk7XG4gICAgICBpZiAoZ29vZy5nbG9iYWwuJGd3dEV4cG9ydCAmJiBnb29nLmdsb2JhbC4kZ3d0RXhwb3J0LiRqc2NvbXAgJiYgIWdvb2cuZ2xvYmFsLiRnd3RFeHBvcnQuJGpzY29tcC50cmFuc3BpbGUpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ1RoZSB0cmFuc3BpbGVyIGRpZCBub3QgcHJvcGVybHkgZXhwb3J0IHRoZSBcInRyYW5zcGlsZVwiIG1ldGhvZC4gJGd3dEV4cG9ydDogJyArIEpTT04uc3RyaW5naWZ5KGdvb2cuZ2xvYmFsLiRnd3RFeHBvcnQpKTtcbiAgICAgIH1cbiAgICAgIGdvb2cuZ2xvYmFsLiRqc2NvbXAudHJhbnNwaWxlID0gZ29vZy5nbG9iYWwuJGd3dEV4cG9ydC4kanNjb21wLnRyYW5zcGlsZTtcbiAgICAgIGpzY29tcCA9IGdvb2cuZ2xvYmFsLiRqc2NvbXA7XG4gICAgICB0cmFuc3BpbGUgPSBqc2NvbXAudHJhbnNwaWxlO1xuICAgIH1cbiAgfVxuICBpZiAoIXRyYW5zcGlsZSkge1xuICAgIHZhciBzdWZmaXggPSBcIiByZXF1aXJlcyB0cmFuc3BpbGF0aW9uIGJ1dCBubyB0cmFuc3BpbGVyIHdhcyBmb3VuZC5cIjtcbiAgICBzdWZmaXggKz0gJyBQbGVhc2UgYWRkIFwiLy9qYXZhc2NyaXB0L2Nsb3N1cmU6dHJhbnNwaWxlclwiIGFzIGEgZGF0YSBkZXBlbmRlbmN5IHRvIGVuc3VyZSBpdCBpcyBpbmNsdWRlZC4nO1xuICAgIHRyYW5zcGlsZSA9IGpzY29tcC50cmFuc3BpbGUgPSBmdW5jdGlvbihjb2RlLCBwYXRoKSB7XG4gICAgICBnb29nLmxvZ1RvQ29uc29sZV8ocGF0aCArIHN1ZmZpeCk7XG4gICAgICByZXR1cm4gY29kZTtcbiAgICB9O1xuICB9XG4gIHJldHVybiB0cmFuc3BpbGUoY29kZSRqc2NvbXAkMCwgcGF0aCRqc2NvbXAkMCwgdGFyZ2V0KTtcbn07XG5nb29nLnR5cGVPZiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHZhciBzID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gXCJvYmplY3RcIiAhPSBzID8gcyA6IHZhbHVlID8gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyBcImFycmF5XCIgOiBzIDogXCJudWxsXCI7XG59O1xuZ29vZy5pc0FycmF5TGlrZSA9IGZ1bmN0aW9uKHZhbCkge1xuICB2YXIgdHlwZSA9IGdvb2cudHlwZU9mKHZhbCk7XG4gIHJldHVybiBcImFycmF5XCIgPT0gdHlwZSB8fCBcIm9iamVjdFwiID09IHR5cGUgJiYgXCJudW1iZXJcIiA9PSB0eXBlb2YgdmFsLmxlbmd0aDtcbn07XG5nb29nLmlzRGF0ZUxpa2UgPSBmdW5jdGlvbih2YWwpIHtcbiAgcmV0dXJuIGdvb2cuaXNPYmplY3QodmFsKSAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHZhbC5nZXRGdWxsWWVhcjtcbn07XG5nb29nLmlzT2JqZWN0ID0gZnVuY3Rpb24odmFsKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbDtcbiAgcmV0dXJuIFwib2JqZWN0XCIgPT0gdHlwZSAmJiBudWxsICE9IHZhbCB8fCBcImZ1bmN0aW9uXCIgPT0gdHlwZTtcbn07XG5nb29nLmdldFVpZCA9IGZ1bmN0aW9uKG9iaikge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgZ29vZy5VSURfUFJPUEVSVFlfKSAmJiBvYmpbZ29vZy5VSURfUFJPUEVSVFlfXSB8fCAob2JqW2dvb2cuVUlEX1BST1BFUlRZX10gPSArK2dvb2cudWlkQ291bnRlcl8pO1xufTtcbmdvb2cuaGFzVWlkID0gZnVuY3Rpb24ob2JqKSB7XG4gIHJldHVybiAhIW9ialtnb29nLlVJRF9QUk9QRVJUWV9dO1xufTtcbmdvb2cucmVtb3ZlVWlkID0gZnVuY3Rpb24ob2JqKSB7XG4gIG51bGwgIT09IG9iaiAmJiBcInJlbW92ZUF0dHJpYnV0ZVwiIGluIG9iaiAmJiBvYmoucmVtb3ZlQXR0cmlidXRlKGdvb2cuVUlEX1BST1BFUlRZXyk7XG4gIHRyeSB7XG4gICAgZGVsZXRlIG9ialtnb29nLlVJRF9QUk9QRVJUWV9dO1xuICB9IGNhdGNoIChleCkge1xuICB9XG59O1xuZ29vZy5VSURfUFJPUEVSVFlfID0gXCJjbG9zdXJlX3VpZF9cIiArICgxZTkgKiBNYXRoLnJhbmRvbSgpID4+PiAwKTtcbmdvb2cudWlkQ291bnRlcl8gPSAwO1xuZ29vZy5jbG9uZU9iamVjdCA9IGZ1bmN0aW9uKG9iaikge1xuICB2YXIgdHlwZSA9IGdvb2cudHlwZU9mKG9iaik7XG4gIGlmIChcIm9iamVjdFwiID09IHR5cGUgfHwgXCJhcnJheVwiID09IHR5cGUpIHtcbiAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2Ygb2JqLmNsb25lKSB7XG4gICAgICByZXR1cm4gb2JqLmNsb25lKCk7XG4gICAgfVxuICAgIGlmIChcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgTWFwICYmIG9iaiBpbnN0YW5jZW9mIE1hcCkge1xuICAgICAgcmV0dXJuIG5ldyBNYXAob2JqKTtcbiAgICB9XG4gICAgaWYgKFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBTZXQgJiYgb2JqIGluc3RhbmNlb2YgU2V0KSB7XG4gICAgICByZXR1cm4gbmV3IFNldChvYmopO1xuICAgIH1cbiAgICB2YXIgY2xvbmUgPSBcImFycmF5XCIgPT0gdHlwZSA/IFtdIDoge30sIGtleTtcbiAgICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICAgIGNsb25lW2tleV0gPSBnb29nLmNsb25lT2JqZWN0KG9ialtrZXldKTtcbiAgICB9XG4gICAgcmV0dXJuIGNsb25lO1xuICB9XG4gIHJldHVybiBvYmo7XG59O1xuZ29vZy5iaW5kTmF0aXZlXyA9IGZ1bmN0aW9uKGZuLCBzZWxmT2JqLCB2YXJfYXJncykge1xuICByZXR1cm4gZm4uY2FsbC5hcHBseShmbi5iaW5kLCBhcmd1bWVudHMpO1xufTtcbmdvb2cuYmluZEpzXyA9IGZ1bmN0aW9uKGZuLCBzZWxmT2JqLCB2YXJfYXJncykge1xuICBpZiAoIWZuKSB7XG4gICAgdGhyb3cgRXJyb3IoKTtcbiAgfVxuICBpZiAoMiA8IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICB2YXIgYm91bmRBcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbmV3QXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gICAgICBBcnJheS5wcm90b3R5cGUudW5zaGlmdC5hcHBseShuZXdBcmdzLCBib3VuZEFyZ3MpO1xuICAgICAgcmV0dXJuIGZuLmFwcGx5KHNlbGZPYmosIG5ld0FyZ3MpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmbi5hcHBseShzZWxmT2JqLCBhcmd1bWVudHMpO1xuICB9O1xufTtcbmdvb2cuYmluZCA9IGZ1bmN0aW9uKGZuLCBzZWxmT2JqLCB2YXJfYXJncykge1xuICBGdW5jdGlvbi5wcm90b3R5cGUuYmluZCAmJiAtMSAhPSBGdW5jdGlvbi5wcm90b3R5cGUuYmluZC50b1N0cmluZygpLmluZGV4T2YoXCJuYXRpdmUgY29kZVwiKSA/IGdvb2cuYmluZCA9IGdvb2cuYmluZE5hdGl2ZV8gOiBnb29nLmJpbmQgPSBnb29nLmJpbmRKc187XG4gIHJldHVybiBnb29nLmJpbmQuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5nb29nLnBhcnRpYWwgPSBmdW5jdGlvbihmbiwgdmFyX2FyZ3MpIHtcbiAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG5ld0FyZ3MgPSBhcmdzLnNsaWNlKCk7XG4gICAgbmV3QXJncy5wdXNoLmFwcGx5KG5ld0FyZ3MsIGFyZ3VtZW50cyk7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIG5ld0FyZ3MpO1xuICB9O1xufTtcbmdvb2cubWl4aW4gPSBmdW5jdGlvbih0YXJnZXQsIHNvdXJjZSkge1xuICBmb3IgKHZhciB4IGluIHNvdXJjZSkge1xuICAgIHRhcmdldFt4XSA9IHNvdXJjZVt4XTtcbiAgfVxufTtcbmdvb2cubm93ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBEYXRlLm5vdygpO1xufTtcbmdvb2cuZ2xvYmFsRXZhbCA9IGZ1bmN0aW9uKHNjcmlwdCkge1xuICAoMCxldmFsKShzY3JpcHQpO1xufTtcbmdvb2cuZ2V0Q3NzTmFtZSA9IGZ1bmN0aW9uKGNsYXNzTmFtZSwgb3B0X21vZGlmaWVyKSB7XG4gIGlmIChcIi5cIiA9PSBTdHJpbmcoY2xhc3NOYW1lKS5jaGFyQXQoMCkpIHtcbiAgICB0aHJvdyBFcnJvcignY2xhc3NOYW1lIHBhc3NlZCBpbiBnb29nLmdldENzc05hbWUgbXVzdCBub3Qgc3RhcnQgd2l0aCBcIi5cIi4gWW91IHBhc3NlZDogJyArIGNsYXNzTmFtZSk7XG4gIH1cbiAgdmFyIGdldE1hcHBpbmcgPSBmdW5jdGlvbihjc3NOYW1lKSB7XG4gICAgcmV0dXJuIGdvb2cuY3NzTmFtZU1hcHBpbmdfW2Nzc05hbWVdIHx8IGNzc05hbWU7XG4gIH0sIHJlbmFtZUJ5UGFydHMgPSBmdW5jdGlvbihjc3NOYW1lKSB7XG4gICAgZm9yICh2YXIgcGFydHMgPSBjc3NOYW1lLnNwbGl0KFwiLVwiKSwgbWFwcGVkID0gW10sIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIG1hcHBlZC5wdXNoKGdldE1hcHBpbmcocGFydHNbaV0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG1hcHBlZC5qb2luKFwiLVwiKTtcbiAgfTtcbiAgdmFyIHJlbmFtZSA9IGdvb2cuY3NzTmFtZU1hcHBpbmdfID8gXCJCWV9XSE9MRVwiID09IGdvb2cuY3NzTmFtZU1hcHBpbmdTdHlsZV8gPyBnZXRNYXBwaW5nIDogcmVuYW1lQnlQYXJ0cyA6IGZ1bmN0aW9uKGEpIHtcbiAgICByZXR1cm4gYTtcbiAgfTtcbiAgdmFyIHJlc3VsdCA9IG9wdF9tb2RpZmllciA/IGNsYXNzTmFtZSArIFwiLVwiICsgcmVuYW1lKG9wdF9tb2RpZmllcikgOiByZW5hbWUoY2xhc3NOYW1lKTtcbiAgcmV0dXJuIGdvb2cuZ2xvYmFsLkNMT1NVUkVfQ1NTX05BTUVfTUFQX0ZOID8gZ29vZy5nbG9iYWwuQ0xPU1VSRV9DU1NfTkFNRV9NQVBfRk4ocmVzdWx0KSA6IHJlc3VsdDtcbn07XG5nb29nLnNldENzc05hbWVNYXBwaW5nID0gZnVuY3Rpb24obWFwcGluZywgb3B0X3N0eWxlKSB7XG4gIGdvb2cuY3NzTmFtZU1hcHBpbmdfID0gbWFwcGluZztcbiAgZ29vZy5jc3NOYW1lTWFwcGluZ1N0eWxlXyA9IG9wdF9zdHlsZTtcbn07XG5nb29nLmdldE1zZyA9IGZ1bmN0aW9uKHN0ciwgb3B0X3ZhbHVlcywgb3B0X29wdGlvbnMpIHtcbiAgb3B0X29wdGlvbnMgJiYgb3B0X29wdGlvbnMuaHRtbCAmJiAoc3RyID0gc3RyLnJlcGxhY2UoLzwvZywgXCImbHQ7XCIpKTtcbiAgb3B0X29wdGlvbnMgJiYgb3B0X29wdGlvbnMudW5lc2NhcGVIdG1sRW50aXRpZXMgJiYgKHN0ciA9IHN0ci5yZXBsYWNlKC8mbHQ7L2csIFwiPFwiKS5yZXBsYWNlKC8mZ3Q7L2csIFwiPlwiKS5yZXBsYWNlKC8mYXBvczsvZywgXCInXCIpLnJlcGxhY2UoLyZxdW90Oy9nLCAnXCInKS5yZXBsYWNlKC8mYW1wOy9nLCBcIiZcIikpO1xuICBvcHRfdmFsdWVzICYmIChzdHIgPSBzdHIucmVwbGFjZSgvXFx7XFwkKFtefV0rKX0vZywgZnVuY3Rpb24obWF0Y2gsIGtleSkge1xuICAgIHJldHVybiBudWxsICE9IG9wdF92YWx1ZXMgJiYga2V5IGluIG9wdF92YWx1ZXMgPyBvcHRfdmFsdWVzW2tleV0gOiBtYXRjaDtcbiAgfSkpO1xuICByZXR1cm4gc3RyO1xufTtcbmdvb2cuZ2V0TXNnV2l0aEZhbGxiYWNrID0gZnVuY3Rpb24oYSwgYikge1xuICByZXR1cm4gYTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbCA9IGZ1bmN0aW9uKHB1YmxpY1BhdGgsIG9iamVjdCwgb2JqZWN0VG9FeHBvcnRUbykge1xuICBnb29nLmV4cG9ydFBhdGhfKHB1YmxpY1BhdGgsIG9iamVjdCwgITAsIG9iamVjdFRvRXhwb3J0VG8pO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkgPSBmdW5jdGlvbihvYmplY3QsIHB1YmxpY05hbWUsIHN5bWJvbCkge1xuICBvYmplY3RbcHVibGljTmFtZV0gPSBzeW1ib2w7XG59O1xuZ29vZy5pbmhlcml0cyA9IGZ1bmN0aW9uKGNoaWxkQ3RvciwgcGFyZW50Q3Rvcikge1xuICBmdW5jdGlvbiB0ZW1wQ3RvcigpIHtcbiAgfVxuICB0ZW1wQ3Rvci5wcm90b3R5cGUgPSBwYXJlbnRDdG9yLnByb3RvdHlwZTtcbiAgY2hpbGRDdG9yLnN1cGVyQ2xhc3NfID0gcGFyZW50Q3Rvci5wcm90b3R5cGU7XG4gIGNoaWxkQ3Rvci5wcm90b3R5cGUgPSBuZXcgdGVtcEN0b3IoKTtcbiAgY2hpbGRDdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGNoaWxkQ3RvcjtcbiAgY2hpbGRDdG9yLmJhc2UgPSBmdW5jdGlvbihtZSwgbWV0aG9kTmFtZSwgdmFyX2FyZ3MpIHtcbiAgICBmb3IgKHZhciBhcmdzID0gQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDIpLCBpID0gMjsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1tpIC0gMl0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuICAgIHJldHVybiBwYXJlbnRDdG9yLnByb3RvdHlwZVttZXRob2ROYW1lXS5hcHBseShtZSwgYXJncyk7XG4gIH07XG59O1xuZ29vZy5zY29wZSA9IGZ1bmN0aW9uKGZuKSB7XG4gIGlmIChnb29nLmlzSW5Nb2R1bGVMb2FkZXJfKCkpIHtcbiAgICB0aHJvdyBFcnJvcihcImdvb2cuc2NvcGUgaXMgbm90IHN1cHBvcnRlZCB3aXRoaW4gYSBtb2R1bGUuXCIpO1xuICB9XG4gIGZuLmNhbGwoZ29vZy5nbG9iYWwpO1xufTtcbmdvb2cuZGVmaW5lQ2xhc3MgPSBmdW5jdGlvbihzdXBlckNsYXNzLCBkZWYpIHtcbiAgdmFyIGNvbnN0cnVjdG9yID0gZGVmLmNvbnN0cnVjdG9yLCBzdGF0aWNzID0gZGVmLnN0YXRpY3M7XG4gIGNvbnN0cnVjdG9yICYmIGNvbnN0cnVjdG9yICE9IE9iamVjdC5wcm90b3R5cGUuY29uc3RydWN0b3IgfHwgKGNvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJjYW5ub3QgaW5zdGFudGlhdGUgYW4gaW50ZXJmYWNlIChubyBjb25zdHJ1Y3RvciBkZWZpbmVkKS5cIik7XG4gIH0pO1xuICB2YXIgY2xzID0gZ29vZy5kZWZpbmVDbGFzcy5jcmVhdGVTZWFsaW5nQ29uc3RydWN0b3JfKGNvbnN0cnVjdG9yLCBzdXBlckNsYXNzKTtcbiAgc3VwZXJDbGFzcyAmJiBnb29nLmluaGVyaXRzKGNscywgc3VwZXJDbGFzcyk7XG4gIGRlbGV0ZSBkZWYuY29uc3RydWN0b3I7XG4gIGRlbGV0ZSBkZWYuc3RhdGljcztcbiAgZ29vZy5kZWZpbmVDbGFzcy5hcHBseVByb3BlcnRpZXNfKGNscy5wcm90b3R5cGUsIGRlZik7XG4gIG51bGwgIT0gc3RhdGljcyAmJiAoc3RhdGljcyBpbnN0YW5jZW9mIEZ1bmN0aW9uID8gc3RhdGljcyhjbHMpIDogZ29vZy5kZWZpbmVDbGFzcy5hcHBseVByb3BlcnRpZXNfKGNscywgc3RhdGljcykpO1xuICByZXR1cm4gY2xzO1xufTtcbmdvb2cuZGVmaW5lQ2xhc3MuU0VBTF9DTEFTU19JTlNUQU5DRVMgPSBnb29nLkRFQlVHO1xuZ29vZy5kZWZpbmVDbGFzcy5jcmVhdGVTZWFsaW5nQ29uc3RydWN0b3JfID0gZnVuY3Rpb24oY3RyLCBzdXBlckNsYXNzKSB7XG4gIHJldHVybiBnb29nLmRlZmluZUNsYXNzLlNFQUxfQ0xBU1NfSU5TVEFOQ0VTID8gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGluc3RhbmNlID0gY3RyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICBpbnN0YW5jZVtnb29nLlVJRF9QUk9QRVJUWV9dID0gaW5zdGFuY2VbZ29vZy5VSURfUFJPUEVSVFlfXTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH0gOiBjdHI7XG59O1xuZ29vZy5kZWZpbmVDbGFzcy5PQkpFQ1RfUFJPVE9UWVBFX0ZJRUxEU18gPSBcImNvbnN0cnVjdG9yIGhhc093blByb3BlcnR5IGlzUHJvdG90eXBlT2YgcHJvcGVydHlJc0VudW1lcmFibGUgdG9Mb2NhbGVTdHJpbmcgdG9TdHJpbmcgdmFsdWVPZlwiLnNwbGl0KFwiIFwiKTtcbmdvb2cuZGVmaW5lQ2xhc3MuYXBwbHlQcm9wZXJ0aWVzXyA9IGZ1bmN0aW9uKHRhcmdldCwgc291cmNlKSB7XG4gIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpICYmICh0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldKTtcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGdvb2cuZGVmaW5lQ2xhc3MuT0JKRUNUX1BST1RPVFlQRV9GSUVMRFNfLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gZ29vZy5kZWZpbmVDbGFzcy5PQkpFQ1RfUFJPVE9UWVBFX0ZJRUxEU19baV0sIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkgJiYgKHRhcmdldFtrZXldID0gc291cmNlW2tleV0pO1xuICB9XG59O1xuZ29vZy5pZGVudGl0eV8gPSBmdW5jdGlvbihzKSB7XG4gIHJldHVybiBzO1xufTtcbmdvb2cuY3JlYXRlVHJ1c3RlZFR5cGVzUG9saWN5ID0gZnVuY3Rpb24obmFtZSkge1xuICB2YXIgcG9saWN5ID0gbnVsbCwgcG9saWN5RmFjdG9yeSA9IGdvb2cuZ2xvYmFsLnRydXN0ZWRUeXBlcztcbiAgaWYgKCFwb2xpY3lGYWN0b3J5IHx8ICFwb2xpY3lGYWN0b3J5LmNyZWF0ZVBvbGljeSkge1xuICAgIHJldHVybiBwb2xpY3k7XG4gIH1cbiAgdHJ5IHtcbiAgICBwb2xpY3kgPSBwb2xpY3lGYWN0b3J5LmNyZWF0ZVBvbGljeShuYW1lLCB7Y3JlYXRlSFRNTDpnb29nLmlkZW50aXR5XywgY3JlYXRlU2NyaXB0Omdvb2cuaWRlbnRpdHlfLCBjcmVhdGVTY3JpcHRVUkw6Z29vZy5pZGVudGl0eV99KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGdvb2cubG9nVG9Db25zb2xlXyhlLm1lc3NhZ2UpO1xuICB9XG4gIHJldHVybiBwb2xpY3k7XG59O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGlzcG9zZV9kaXNwb3NlKG9iaikge1xuICBvYmogJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBvYmouZGlzcG9zZSAmJiBvYmouZGlzcG9zZSgpO1xufVxuZ29vZy5kaXNwb3NlID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGlzcG9zZV9kaXNwb3NlO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGlzcG9zZUFsbF9kaXNwb3NlQWxsKHZhcl9hcmdzKSB7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICB2YXIgZGlzcG9zYWJsZSA9IGFyZ3VtZW50c1tpXTtcbiAgICBnb29nLmlzQXJyYXlMaWtlKGRpc3Bvc2FibGUpID8gbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGlzcG9zZUFsbF9kaXNwb3NlQWxsLmFwcGx5KG51bGwsIGRpc3Bvc2FibGUpIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGlzcG9zZV9kaXNwb3NlKGRpc3Bvc2FibGUpO1xuICB9XG59XG5nb29nLmRpc3Bvc2VBbGwgPSBtb2R1bGUkY29udGVudHMkZ29vZyRkaXNwb3NlQWxsX2Rpc3Bvc2VBbGw7XG5nb29nLmRpc3Bvc2FibGUgPSB7fTtcbmdvb2cuZGlzcG9zYWJsZS5JRGlzcG9zYWJsZSA9IGZ1bmN0aW9uKCkge1xufTtcbmdvb2cuRGlzcG9zYWJsZSA9IGZ1bmN0aW9uKCkge1xuICBnb29nLkRpc3Bvc2FibGUuTU9OSVRPUklOR19NT0RFICE9IGdvb2cuRGlzcG9zYWJsZS5Nb25pdG9yaW5nTW9kZS5PRkYgJiYgKGdvb2cuRGlzcG9zYWJsZS5JTkNMVURFX1NUQUNLX09OX0NSRUFUSU9OICYmICh0aGlzLmNyZWF0aW9uU3RhY2sgPSBFcnJvcigpLnN0YWNrKSwgZ29vZy5EaXNwb3NhYmxlLmluc3RhbmNlc19bZ29vZy5nZXRVaWQodGhpcyldID0gdGhpcyk7XG4gIHRoaXMuZGlzcG9zZWRfID0gdGhpcy5kaXNwb3NlZF87XG4gIHRoaXMub25EaXNwb3NlQ2FsbGJhY2tzXyA9IHRoaXMub25EaXNwb3NlQ2FsbGJhY2tzXztcbn07XG5nb29nLkRpc3Bvc2FibGUuTW9uaXRvcmluZ01vZGUgPSB7T0ZGOjAsIFBFUk1BTkVOVDoxLCBJTlRFUkFDVElWRToyfTtcbmdvb2cuRGlzcG9zYWJsZS5NT05JVE9SSU5HX01PREUgPSAwO1xuZ29vZy5EaXNwb3NhYmxlLklOQ0xVREVfU1RBQ0tfT05fQ1JFQVRJT04gPSAhMDtcbmdvb2cuRGlzcG9zYWJsZS5pbnN0YW5jZXNfID0ge307XG5nb29nLkRpc3Bvc2FibGUuZ2V0VW5kaXNwb3NlZE9iamVjdHMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHJldCA9IFtdLCBpZDtcbiAgZm9yIChpZCBpbiBnb29nLkRpc3Bvc2FibGUuaW5zdGFuY2VzXykge1xuICAgIGdvb2cuRGlzcG9zYWJsZS5pbnN0YW5jZXNfLmhhc093blByb3BlcnR5KGlkKSAmJiByZXQucHVzaChnb29nLkRpc3Bvc2FibGUuaW5zdGFuY2VzX1tOdW1iZXIoaWQpXSk7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn07XG5nb29nLkRpc3Bvc2FibGUuY2xlYXJVbmRpc3Bvc2VkT2JqZWN0cyA9IGZ1bmN0aW9uKCkge1xuICBnb29nLkRpc3Bvc2FibGUuaW5zdGFuY2VzXyA9IHt9O1xufTtcbmdvb2cuRGlzcG9zYWJsZS5wcm90b3R5cGUuZGlzcG9zZWRfID0gITE7XG5nb29nLkRpc3Bvc2FibGUucHJvdG90eXBlLmlzRGlzcG9zZWQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZGlzcG9zZWRfO1xufTtcbmdvb2cuRGlzcG9zYWJsZS5wcm90b3R5cGUuZ2V0RGlzcG9zZWQgPSBnb29nLkRpc3Bvc2FibGUucHJvdG90eXBlLmlzRGlzcG9zZWQ7XG5nb29nLkRpc3Bvc2FibGUucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCF0aGlzLmRpc3Bvc2VkXyAmJiAodGhpcy5kaXNwb3NlZF8gPSAhMCwgdGhpcy5kaXNwb3NlSW50ZXJuYWwoKSwgZ29vZy5EaXNwb3NhYmxlLk1PTklUT1JJTkdfTU9ERSAhPSBnb29nLkRpc3Bvc2FibGUuTW9uaXRvcmluZ01vZGUuT0ZGKSkge1xuICAgIHZhciB1aWQgPSBnb29nLmdldFVpZCh0aGlzKTtcbiAgICBpZiAoZ29vZy5EaXNwb3NhYmxlLk1PTklUT1JJTkdfTU9ERSA9PSBnb29nLkRpc3Bvc2FibGUuTW9uaXRvcmluZ01vZGUuUEVSTUFORU5UICYmICFnb29nLkRpc3Bvc2FibGUuaW5zdGFuY2VzXy5oYXNPd25Qcm9wZXJ0eSh1aWQpKSB7XG4gICAgICB0aHJvdyBFcnJvcih0aGlzICsgXCIgZGlkIG5vdCBjYWxsIHRoZSBnb29nLkRpc3Bvc2FibGUgYmFzZSBjb25zdHJ1Y3RvciBvciB3YXMgZGlzcG9zZWQgb2YgYWZ0ZXIgYSBjbGVhclVuZGlzcG9zZWRPYmplY3RzIGNhbGxcIik7XG4gICAgfVxuICAgIGlmIChnb29nLkRpc3Bvc2FibGUuTU9OSVRPUklOR19NT0RFICE9IGdvb2cuRGlzcG9zYWJsZS5Nb25pdG9yaW5nTW9kZS5PRkYgJiYgdGhpcy5vbkRpc3Bvc2VDYWxsYmFja3NfICYmIDAgPCB0aGlzLm9uRGlzcG9zZUNhbGxiYWNrc18ubGVuZ3RoKSB7XG4gICAgICB0aHJvdyBFcnJvcih0aGlzICsgXCIgZGlkIG5vdCBlbXB0eSBpdHMgb25EaXNwb3NlQ2FsbGJhY2tzIHF1ZXVlLiBUaGlzIHByb2JhYmx5IG1lYW5zIGl0IG92ZXJyb2RlIGRpc3Bvc2UoKSBvciBkaXNwb3NlSW50ZXJuYWwoKSB3aXRob3V0IGNhbGxpbmcgdGhlIHN1cGVyY2xhc3MnIG1ldGhvZC5cIik7XG4gICAgfVxuICAgIGRlbGV0ZSBnb29nLkRpc3Bvc2FibGUuaW5zdGFuY2VzX1t1aWRdO1xuICB9XG59O1xuZ29vZy5EaXNwb3NhYmxlLnByb3RvdHlwZS5yZWdpc3RlckRpc3Bvc2FibGUgPSBmdW5jdGlvbihkaXNwb3NhYmxlKSB7XG4gIHRoaXMuYWRkT25EaXNwb3NlQ2FsbGJhY2soZ29vZy5wYXJ0aWFsKG1vZHVsZSRjb250ZW50cyRnb29nJGRpc3Bvc2VfZGlzcG9zZSwgZGlzcG9zYWJsZSkpO1xufTtcbmdvb2cuRGlzcG9zYWJsZS5wcm90b3R5cGUuYWRkT25EaXNwb3NlQ2FsbGJhY2sgPSBmdW5jdGlvbihjYWxsYmFjaywgb3B0X3Njb3BlKSB7XG4gIHRoaXMuZGlzcG9zZWRfID8gdm9pZCAwICE9PSBvcHRfc2NvcGUgPyBjYWxsYmFjay5jYWxsKG9wdF9zY29wZSkgOiBjYWxsYmFjaygpIDogKHRoaXMub25EaXNwb3NlQ2FsbGJhY2tzXyB8fCAodGhpcy5vbkRpc3Bvc2VDYWxsYmFja3NfID0gW10pLCB0aGlzLm9uRGlzcG9zZUNhbGxiYWNrc18ucHVzaCh2b2lkIDAgIT09IG9wdF9zY29wZSA/IGdvb2cuYmluZChjYWxsYmFjaywgb3B0X3Njb3BlKSA6IGNhbGxiYWNrKSk7XG59O1xuZ29vZy5EaXNwb3NhYmxlLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMub25EaXNwb3NlQ2FsbGJhY2tzXykge1xuICAgIGZvciAoOyB0aGlzLm9uRGlzcG9zZUNhbGxiYWNrc18ubGVuZ3RoOykge1xuICAgICAgdGhpcy5vbkRpc3Bvc2VDYWxsYmFja3NfLnNoaWZ0KCkoKTtcbiAgICB9XG4gIH1cbn07XG5nb29nLkRpc3Bvc2FibGUuaXNEaXNwb3NlZCA9IGZ1bmN0aW9uKG9iaikge1xuICByZXR1cm4gb2JqICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2Ygb2JqLmlzRGlzcG9zZWQgPyBvYmouaXNEaXNwb3NlZCgpIDogITE7XG59O1xuZ29vZy5ldmVudHMgPSB7fTtcbmdvb2cuZXZlbnRzLkV2ZW50SWQgPSBmdW5jdGlvbihldmVudElkKSB7XG4gIHRoaXMuaWQgPSBldmVudElkO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50SWQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmlkO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50ID0gZnVuY3Rpb24odHlwZSwgb3B0X3RhcmdldCkge1xuICB0aGlzLnR5cGUgPSB0eXBlIGluc3RhbmNlb2YgZ29vZy5ldmVudHMuRXZlbnRJZCA/IFN0cmluZyh0eXBlKSA6IHR5cGU7XG4gIHRoaXMuY3VycmVudFRhcmdldCA9IHRoaXMudGFyZ2V0ID0gb3B0X3RhcmdldDtcbiAgdGhpcy5kZWZhdWx0UHJldmVudGVkID0gdGhpcy5wcm9wYWdhdGlvblN0b3BwZWRfID0gITE7XG59O1xuZ29vZy5ldmVudHMuRXZlbnQucHJvdG90eXBlLmhhc1Byb3BhZ2F0aW9uU3RvcHBlZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5wcm9wYWdhdGlvblN0b3BwZWRfO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50LnByb3RvdHlwZS5zdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5wcm9wYWdhdGlvblN0b3BwZWRfID0gITA7XG59O1xuZ29vZy5ldmVudHMuRXZlbnQucHJvdG90eXBlLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9ICEwO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50LnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uKGUpIHtcbiAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbn07XG5nb29nLmV2ZW50cy5FdmVudC5wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uKGUpIHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xufTtcbmdvb2cuZGVidWcgPSB7fTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGRlYnVnJEVycm9yX0RlYnVnRXJyb3IobXNnLCBjYXVzZSkge1xuICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBtb2R1bGUkY29udGVudHMkZ29vZyRkZWJ1ZyRFcnJvcl9EZWJ1Z0Vycm9yKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgc3RhY2sgPSBFcnJvcigpLnN0YWNrO1xuICAgIHN0YWNrICYmICh0aGlzLnN0YWNrID0gc3RhY2spO1xuICB9XG4gIG1zZyAmJiAodGhpcy5tZXNzYWdlID0gU3RyaW5nKG1zZykpO1xuICB2b2lkIDAgIT09IGNhdXNlICYmICh0aGlzLmNhdXNlID0gY2F1c2UpO1xuICB0aGlzLnJlcG9ydEVycm9yVG9TZXJ2ZXIgPSAhMDtcbn1cbmdvb2cuaW5oZXJpdHMobW9kdWxlJGNvbnRlbnRzJGdvb2ckZGVidWckRXJyb3JfRGVidWdFcnJvciwgRXJyb3IpO1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckZGVidWckRXJyb3JfRGVidWdFcnJvci5wcm90b3R5cGUubmFtZSA9IFwiQ3VzdG9tRXJyb3JcIjtcbmdvb2cuZGVidWcuRXJyb3IgPSBtb2R1bGUkY29udGVudHMkZ29vZyRkZWJ1ZyRFcnJvcl9EZWJ1Z0Vycm9yO1xuZ29vZy5kb20gPSB7fTtcbmdvb2cuZG9tLk5vZGVUeXBlID0ge0VMRU1FTlQ6MSwgQVRUUklCVVRFOjIsIFRFWFQ6MywgQ0RBVEFfU0VDVElPTjo0LCBFTlRJVFlfUkVGRVJFTkNFOjUsIEVOVElUWTo2LCBQUk9DRVNTSU5HX0lOU1RSVUNUSU9OOjcsIENPTU1FTlQ6OCwgRE9DVU1FTlQ6OSwgRE9DVU1FTlRfVFlQRToxMCwgRE9DVU1FTlRfRlJBR01FTlQ6MTEsIE5PVEFUSU9OOjEyfTtcbmdvb2cuYXNzZXJ0cyA9IHt9O1xuZ29vZy5hc3NlcnRzLkVOQUJMRV9BU1NFUlRTID0gZ29vZy5ERUJVRztcbmdvb2cuYXNzZXJ0cy5Bc3NlcnRpb25FcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2VQYXR0ZXJuLCBtZXNzYWdlQXJncykge1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRkZWJ1ZyRFcnJvcl9EZWJ1Z0Vycm9yLmNhbGwodGhpcywgZ29vZy5hc3NlcnRzLnN1YnNfKG1lc3NhZ2VQYXR0ZXJuLCBtZXNzYWdlQXJncykpO1xuICB0aGlzLm1lc3NhZ2VQYXR0ZXJuID0gbWVzc2FnZVBhdHRlcm47XG59O1xuZ29vZy5pbmhlcml0cyhnb29nLmFzc2VydHMuQXNzZXJ0aW9uRXJyb3IsIG1vZHVsZSRjb250ZW50cyRnb29nJGRlYnVnJEVycm9yX0RlYnVnRXJyb3IpO1xuZ29vZy5hc3NlcnRzLkFzc2VydGlvbkVycm9yLnByb3RvdHlwZS5uYW1lID0gXCJBc3NlcnRpb25FcnJvclwiO1xuZ29vZy5hc3NlcnRzLkRFRkFVTFRfRVJST1JfSEFORExFUiA9IGZ1bmN0aW9uKGUpIHtcbiAgdGhyb3cgZTtcbn07XG5nb29nLmFzc2VydHMuZXJyb3JIYW5kbGVyXyA9IGdvb2cuYXNzZXJ0cy5ERUZBVUxUX0VSUk9SX0hBTkRMRVI7XG5nb29nLmFzc2VydHMuc3Vic18gPSBmdW5jdGlvbihwYXR0ZXJuLCBzdWJzKSB7XG4gIGZvciAodmFyIHNwbGl0UGFydHMgPSBwYXR0ZXJuLnNwbGl0KFwiJXNcIiksIHJldHVyblN0cmluZyA9IFwiXCIsIHN1Ykxhc3QgPSBzcGxpdFBhcnRzLmxlbmd0aCAtIDEsIGkgPSAwOyBpIDwgc3ViTGFzdDsgaSsrKSB7XG4gICAgcmV0dXJuU3RyaW5nICs9IHNwbGl0UGFydHNbaV0gKyAoaSA8IHN1YnMubGVuZ3RoID8gc3Vic1tpXSA6IFwiJXNcIik7XG4gIH1cbiAgcmV0dXJuIHJldHVyblN0cmluZyArIHNwbGl0UGFydHNbc3ViTGFzdF07XG59O1xuZ29vZy5hc3NlcnRzLmRvQXNzZXJ0RmFpbHVyZV8gPSBmdW5jdGlvbihkZWZhdWx0TWVzc2FnZSwgZGVmYXVsdEFyZ3MsIGdpdmVuTWVzc2FnZSwgZ2l2ZW5BcmdzKSB7XG4gIHZhciBtZXNzYWdlID0gXCJBc3NlcnRpb24gZmFpbGVkXCI7XG4gIGlmIChnaXZlbk1lc3NhZ2UpIHtcbiAgICBtZXNzYWdlICs9IFwiOiBcIiArIGdpdmVuTWVzc2FnZTtcbiAgICB2YXIgYXJncyA9IGdpdmVuQXJncztcbiAgfSBlbHNlIHtcbiAgICBkZWZhdWx0TWVzc2FnZSAmJiAobWVzc2FnZSArPSBcIjogXCIgKyBkZWZhdWx0TWVzc2FnZSwgYXJncyA9IGRlZmF1bHRBcmdzKTtcbiAgfVxuICB2YXIgZSA9IG5ldyBnb29nLmFzc2VydHMuQXNzZXJ0aW9uRXJyb3IoXCJcIiArIG1lc3NhZ2UsIGFyZ3MgfHwgW10pO1xuICBnb29nLmFzc2VydHMuZXJyb3JIYW5kbGVyXyhlKTtcbn07XG5nb29nLmFzc2VydHMuc2V0RXJyb3JIYW5kbGVyID0gZnVuY3Rpb24oZXJyb3JIYW5kbGVyKSB7XG4gIGdvb2cuYXNzZXJ0cy5FTkFCTEVfQVNTRVJUUyAmJiAoZ29vZy5hc3NlcnRzLmVycm9ySGFuZGxlcl8gPSBlcnJvckhhbmRsZXIpO1xufTtcbmdvb2cuYXNzZXJ0cy5hc3NlcnQgPSBmdW5jdGlvbihjb25kaXRpb24sIG9wdF9tZXNzYWdlLCB2YXJfYXJncykge1xuICBnb29nLmFzc2VydHMuRU5BQkxFX0FTU0VSVFMgJiYgIWNvbmRpdGlvbiAmJiBnb29nLmFzc2VydHMuZG9Bc3NlcnRGYWlsdXJlXyhcIlwiLCBudWxsLCBvcHRfbWVzc2FnZSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKSk7XG4gIHJldHVybiBjb25kaXRpb247XG59O1xuZ29vZy5hc3NlcnRzLmFzc2VydEV4aXN0cyA9IGZ1bmN0aW9uKHZhbHVlLCBvcHRfbWVzc2FnZSwgdmFyX2FyZ3MpIHtcbiAgZ29vZy5hc3NlcnRzLkVOQUJMRV9BU1NFUlRTICYmIG51bGwgPT0gdmFsdWUgJiYgZ29vZy5hc3NlcnRzLmRvQXNzZXJ0RmFpbHVyZV8oXCJFeHBlY3RlZCB0byBleGlzdDogJXMuXCIsIFt2YWx1ZV0sIG9wdF9tZXNzYWdlLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcbmdvb2cuYXNzZXJ0cy5mYWlsID0gZnVuY3Rpb24ob3B0X21lc3NhZ2UsIHZhcl9hcmdzKSB7XG4gIGdvb2cuYXNzZXJ0cy5FTkFCTEVfQVNTRVJUUyAmJiBnb29nLmFzc2VydHMuZXJyb3JIYW5kbGVyXyhuZXcgZ29vZy5hc3NlcnRzLkFzc2VydGlvbkVycm9yKFwiRmFpbHVyZVwiICsgKG9wdF9tZXNzYWdlID8gXCI6IFwiICsgb3B0X21lc3NhZ2UgOiBcIlwiKSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSkpO1xufTtcbmdvb2cuYXNzZXJ0cy5hc3NlcnROdW1iZXIgPSBmdW5jdGlvbih2YWx1ZSwgb3B0X21lc3NhZ2UsIHZhcl9hcmdzKSB7XG4gIGdvb2cuYXNzZXJ0cy5FTkFCTEVfQVNTRVJUUyAmJiBcIm51bWJlclwiICE9PSB0eXBlb2YgdmFsdWUgJiYgZ29vZy5hc3NlcnRzLmRvQXNzZXJ0RmFpbHVyZV8oXCJFeHBlY3RlZCBudW1iZXIgYnV0IGdvdCAlczogJXMuXCIsIFtnb29nLnR5cGVPZih2YWx1ZSksIHZhbHVlXSwgb3B0X21lc3NhZ2UsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMikpO1xuICByZXR1cm4gdmFsdWU7XG59O1xuZ29vZy5hc3NlcnRzLmFzc2VydFN0cmluZyA9IGZ1bmN0aW9uKHZhbHVlLCBvcHRfbWVzc2FnZSwgdmFyX2FyZ3MpIHtcbiAgZ29vZy5hc3NlcnRzLkVOQUJMRV9BU1NFUlRTICYmIFwic3RyaW5nXCIgIT09IHR5cGVvZiB2YWx1ZSAmJiBnb29nLmFzc2VydHMuZG9Bc3NlcnRGYWlsdXJlXyhcIkV4cGVjdGVkIHN0cmluZyBidXQgZ290ICVzOiAlcy5cIiwgW2dvb2cudHlwZU9mKHZhbHVlKSwgdmFsdWVdLCBvcHRfbWVzc2FnZSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5nb29nLmFzc2VydHMuYXNzZXJ0RnVuY3Rpb24gPSBmdW5jdGlvbih2YWx1ZSwgb3B0X21lc3NhZ2UsIHZhcl9hcmdzKSB7XG4gIGdvb2cuYXNzZXJ0cy5FTkFCTEVfQVNTRVJUUyAmJiBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiB2YWx1ZSAmJiBnb29nLmFzc2VydHMuZG9Bc3NlcnRGYWlsdXJlXyhcIkV4cGVjdGVkIGZ1bmN0aW9uIGJ1dCBnb3QgJXM6ICVzLlwiLCBbZ29vZy50eXBlT2YodmFsdWUpLCB2YWx1ZV0sIG9wdF9tZXNzYWdlLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcbmdvb2cuYXNzZXJ0cy5hc3NlcnRPYmplY3QgPSBmdW5jdGlvbih2YWx1ZSwgb3B0X21lc3NhZ2UsIHZhcl9hcmdzKSB7XG4gIGdvb2cuYXNzZXJ0cy5FTkFCTEVfQVNTRVJUUyAmJiAhZ29vZy5pc09iamVjdCh2YWx1ZSkgJiYgZ29vZy5hc3NlcnRzLmRvQXNzZXJ0RmFpbHVyZV8oXCJFeHBlY3RlZCBvYmplY3QgYnV0IGdvdCAlczogJXMuXCIsIFtnb29nLnR5cGVPZih2YWx1ZSksIHZhbHVlXSwgb3B0X21lc3NhZ2UsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMikpO1xuICByZXR1cm4gdmFsdWU7XG59O1xuZ29vZy5hc3NlcnRzLmFzc2VydEFycmF5ID0gZnVuY3Rpb24odmFsdWUsIG9wdF9tZXNzYWdlLCB2YXJfYXJncykge1xuICBnb29nLmFzc2VydHMuRU5BQkxFX0FTU0VSVFMgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpICYmIGdvb2cuYXNzZXJ0cy5kb0Fzc2VydEZhaWx1cmVfKFwiRXhwZWN0ZWQgYXJyYXkgYnV0IGdvdCAlczogJXMuXCIsIFtnb29nLnR5cGVPZih2YWx1ZSksIHZhbHVlXSwgb3B0X21lc3NhZ2UsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMikpO1xuICByZXR1cm4gdmFsdWU7XG59O1xuZ29vZy5hc3NlcnRzLmFzc2VydEJvb2xlYW4gPSBmdW5jdGlvbih2YWx1ZSwgb3B0X21lc3NhZ2UsIHZhcl9hcmdzKSB7XG4gIGdvb2cuYXNzZXJ0cy5FTkFCTEVfQVNTRVJUUyAmJiBcImJvb2xlYW5cIiAhPT0gdHlwZW9mIHZhbHVlICYmIGdvb2cuYXNzZXJ0cy5kb0Fzc2VydEZhaWx1cmVfKFwiRXhwZWN0ZWQgYm9vbGVhbiBidXQgZ290ICVzOiAlcy5cIiwgW2dvb2cudHlwZU9mKHZhbHVlKSwgdmFsdWVdLCBvcHRfbWVzc2FnZSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5nb29nLmFzc2VydHMuYXNzZXJ0RWxlbWVudCA9IGZ1bmN0aW9uKHZhbHVlLCBvcHRfbWVzc2FnZSwgdmFyX2FyZ3MpIHtcbiAgIWdvb2cuYXNzZXJ0cy5FTkFCTEVfQVNTRVJUUyB8fCBnb29nLmlzT2JqZWN0KHZhbHVlKSAmJiB2YWx1ZS5ub2RlVHlwZSA9PSBnb29nLmRvbS5Ob2RlVHlwZS5FTEVNRU5UIHx8IGdvb2cuYXNzZXJ0cy5kb0Fzc2VydEZhaWx1cmVfKFwiRXhwZWN0ZWQgRWxlbWVudCBidXQgZ290ICVzOiAlcy5cIiwgW2dvb2cudHlwZU9mKHZhbHVlKSwgdmFsdWVdLCBvcHRfbWVzc2FnZSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5nb29nLmFzc2VydHMuYXNzZXJ0SW5zdGFuY2VvZiA9IGZ1bmN0aW9uKHZhbHVlLCB0eXBlLCBvcHRfbWVzc2FnZSwgdmFyX2FyZ3MpIHtcbiAgIWdvb2cuYXNzZXJ0cy5FTkFCTEVfQVNTRVJUUyB8fCB2YWx1ZSBpbnN0YW5jZW9mIHR5cGUgfHwgZ29vZy5hc3NlcnRzLmRvQXNzZXJ0RmFpbHVyZV8oXCJFeHBlY3RlZCBpbnN0YW5jZW9mICVzIGJ1dCBnb3QgJXMuXCIsIFtnb29nLmFzc2VydHMuZ2V0VHlwZV8odHlwZSksIGdvb2cuYXNzZXJ0cy5nZXRUeXBlXyh2YWx1ZSldLCBvcHRfbWVzc2FnZSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAzKSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5nb29nLmFzc2VydHMuYXNzZXJ0RmluaXRlID0gZnVuY3Rpb24odmFsdWUsIG9wdF9tZXNzYWdlLCB2YXJfYXJncykge1xuICAhZ29vZy5hc3NlcnRzLkVOQUJMRV9BU1NFUlRTIHx8IFwibnVtYmVyXCIgPT0gdHlwZW9mIHZhbHVlICYmIGlzRmluaXRlKHZhbHVlKSB8fCBnb29nLmFzc2VydHMuZG9Bc3NlcnRGYWlsdXJlXyhcIkV4cGVjdGVkICVzIHRvIGJlIGEgZmluaXRlIG51bWJlciBidXQgaXQgaXMgbm90LlwiLCBbdmFsdWVdLCBvcHRfbWVzc2FnZSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5nb29nLmFzc2VydHMuZ2V0VHlwZV8gPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBGdW5jdGlvbiA/IHZhbHVlLmRpc3BsYXlOYW1lIHx8IHZhbHVlLm5hbWUgfHwgXCJ1bmtub3duIHR5cGUgbmFtZVwiIDogdmFsdWUgaW5zdGFuY2VvZiBPYmplY3QgPyB2YWx1ZS5jb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSB8fCB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lIHx8IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiBudWxsID09PSB2YWx1ZSA/IFwibnVsbFwiIDogdHlwZW9mIHZhbHVlO1xufTtcbmdvb2cuZGVidWcuZW50cnlQb2ludFJlZ2lzdHJ5ID0ge307XG5nb29nLmRlYnVnLmVudHJ5UG9pbnRSZWdpc3RyeS5FbnRyeVBvaW50TW9uaXRvciA9IGZ1bmN0aW9uKCkge1xufTtcbmdvb2cuZGVidWcuRW50cnlQb2ludE1vbml0b3IgPSBnb29nLmRlYnVnLmVudHJ5UG9pbnRSZWdpc3RyeS5FbnRyeVBvaW50TW9uaXRvcjtcbmdvb2cuZGVidWcuZW50cnlQb2ludFJlZ2lzdHJ5LnJlZkxpc3RfID0gW107XG5nb29nLmRlYnVnLmVudHJ5UG9pbnRSZWdpc3RyeS5tb25pdG9yc18gPSBbXTtcbmdvb2cuZGVidWcuZW50cnlQb2ludFJlZ2lzdHJ5Lm1vbml0b3JzTWF5RXhpc3RfID0gITE7XG5nb29nLmRlYnVnLmVudHJ5UG9pbnRSZWdpc3RyeS5yZWdpc3RlciA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gIGdvb2cuZGVidWcuZW50cnlQb2ludFJlZ2lzdHJ5LnJlZkxpc3RfW2dvb2cuZGVidWcuZW50cnlQb2ludFJlZ2lzdHJ5LnJlZkxpc3RfLmxlbmd0aF0gPSBjYWxsYmFjaztcbiAgaWYgKGdvb2cuZGVidWcuZW50cnlQb2ludFJlZ2lzdHJ5Lm1vbml0b3JzTWF5RXhpc3RfKSB7XG4gICAgZm9yICh2YXIgbW9uaXRvcnMgPSBnb29nLmRlYnVnLmVudHJ5UG9pbnRSZWdpc3RyeS5tb25pdG9yc18sIGkgPSAwOyBpIDwgbW9uaXRvcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNhbGxiYWNrKGdvb2cuYmluZChtb25pdG9yc1tpXS53cmFwLCBtb25pdG9yc1tpXSkpO1xuICAgIH1cbiAgfVxufTtcbmdvb2cuZGVidWcuZW50cnlQb2ludFJlZ2lzdHJ5Lm1vbml0b3JBbGwgPSBmdW5jdGlvbihtb25pdG9yKSB7XG4gIGdvb2cuZGVidWcuZW50cnlQb2ludFJlZ2lzdHJ5Lm1vbml0b3JzTWF5RXhpc3RfID0gITA7XG4gIGZvciAodmFyIHRyYW5zZm9ybWVyID0gZ29vZy5iaW5kKG1vbml0b3Iud3JhcCwgbW9uaXRvciksIGkgPSAwOyBpIDwgZ29vZy5kZWJ1Zy5lbnRyeVBvaW50UmVnaXN0cnkucmVmTGlzdF8ubGVuZ3RoOyBpKyspIHtcbiAgICBnb29nLmRlYnVnLmVudHJ5UG9pbnRSZWdpc3RyeS5yZWZMaXN0X1tpXSh0cmFuc2Zvcm1lcik7XG4gIH1cbiAgZ29vZy5kZWJ1Zy5lbnRyeVBvaW50UmVnaXN0cnkubW9uaXRvcnNfLnB1c2gobW9uaXRvcik7XG59O1xuZ29vZy5kZWJ1Zy5lbnRyeVBvaW50UmVnaXN0cnkudW5tb25pdG9yQWxsSWZQb3NzaWJsZSA9IGZ1bmN0aW9uKG1vbml0b3IpIHtcbiAgdmFyIG1vbml0b3JzID0gZ29vZy5kZWJ1Zy5lbnRyeVBvaW50UmVnaXN0cnkubW9uaXRvcnNfO1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG1vbml0b3IgPT0gbW9uaXRvcnNbbW9uaXRvcnMubGVuZ3RoIC0gMV0sIFwiT25seSB0aGUgbW9zdCByZWNlbnQgbW9uaXRvciBjYW4gYmUgdW53cmFwcGVkLlwiKTtcbiAgZm9yICh2YXIgdHJhbnNmb3JtZXIgPSBnb29nLmJpbmQobW9uaXRvci51bndyYXAsIG1vbml0b3IpLCBpID0gMDsgaSA8IGdvb2cuZGVidWcuZW50cnlQb2ludFJlZ2lzdHJ5LnJlZkxpc3RfLmxlbmd0aDsgaSsrKSB7XG4gICAgZ29vZy5kZWJ1Zy5lbnRyeVBvaW50UmVnaXN0cnkucmVmTGlzdF9baV0odHJhbnNmb3JtZXIpO1xuICB9XG4gIG1vbml0b3JzLmxlbmd0aC0tO1xufTtcbmdvb2cuYXJyYXkgPSB7fTtcbmdvb2cuTkFUSVZFX0FSUkFZX1BST1RPVFlQRVMgPSBnb29nLlRSVVNURURfU0lURTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9BU1NVTUVfTkFUSVZFX0ZVTkNUSU9OUyA9IDIwMTIgPCBnb29nLkZFQVRVUkVTRVRfWUVBUjtcbmdvb2cuYXJyYXkuQVNTVU1FX05BVElWRV9GVU5DVElPTlMgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9BU1NVTUVfTkFUSVZFX0ZVTkNUSU9OUztcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3BlZWsoYXJyYXkpIHtcbiAgcmV0dXJuIGFycmF5W2FycmF5Lmxlbmd0aCAtIDFdO1xufVxuZ29vZy5hcnJheS5wZWVrID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcGVlaztcbmdvb2cuYXJyYXkubGFzdCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3BlZWs7XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaW5kZXhPZiA9IGdvb2cuTkFUSVZFX0FSUkFZX1BST1RPVFlQRVMgJiYgKG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X0FTU1VNRV9OQVRJVkVfRlVOQ1RJT05TIHx8IEFycmF5LnByb3RvdHlwZS5pbmRleE9mKSA/IGZ1bmN0aW9uKGFyciwgb2JqLCBvcHRfZnJvbUluZGV4KSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQobnVsbCAhPSBhcnIubGVuZ3RoKTtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYXJyLCBvYmosIG9wdF9mcm9tSW5kZXgpO1xufSA6IGZ1bmN0aW9uKGFyciwgb2JqLCBvcHRfZnJvbUluZGV4KSB7XG4gIHZhciBmcm9tSW5kZXggPSBudWxsID09IG9wdF9mcm9tSW5kZXggPyAwIDogMCA+IG9wdF9mcm9tSW5kZXggPyBNYXRoLm1heCgwLCBhcnIubGVuZ3RoICsgb3B0X2Zyb21JbmRleCkgOiBvcHRfZnJvbUluZGV4O1xuICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGFycikge1xuICAgIHJldHVybiBcInN0cmluZ1wiICE9PSB0eXBlb2Ygb2JqIHx8IDEgIT0gb2JqLmxlbmd0aCA/IC0xIDogYXJyLmluZGV4T2Yob2JqLCBmcm9tSW5kZXgpO1xuICB9XG4gIGZvciAodmFyIGkgPSBmcm9tSW5kZXg7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoaSBpbiBhcnIgJiYgYXJyW2ldID09PSBvYmopIHtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59O1xuZ29vZy5hcnJheS5pbmRleE9mID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaW5kZXhPZjtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9sYXN0SW5kZXhPZiA9IGdvb2cuTkFUSVZFX0FSUkFZX1BST1RPVFlQRVMgJiYgKG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X0FTU1VNRV9OQVRJVkVfRlVOQ1RJT05TIHx8IEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZikgPyBmdW5jdGlvbihhcnIsIG9iaiwgb3B0X2Zyb21JbmRleCkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwgIT0gYXJyLmxlbmd0aCk7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YuY2FsbChhcnIsIG9iaiwgbnVsbCA9PSBvcHRfZnJvbUluZGV4ID8gYXJyLmxlbmd0aCAtIDEgOiBvcHRfZnJvbUluZGV4KTtcbn0gOiBmdW5jdGlvbihhcnIsIG9iaiwgb3B0X2Zyb21JbmRleCkge1xuICB2YXIgZnJvbUluZGV4ID0gbnVsbCA9PSBvcHRfZnJvbUluZGV4ID8gYXJyLmxlbmd0aCAtIDEgOiBvcHRfZnJvbUluZGV4O1xuICAwID4gZnJvbUluZGV4ICYmIChmcm9tSW5kZXggPSBNYXRoLm1heCgwLCBhcnIubGVuZ3RoICsgZnJvbUluZGV4KSk7XG4gIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgYXJyKSB7XG4gICAgcmV0dXJuIFwic3RyaW5nXCIgIT09IHR5cGVvZiBvYmogfHwgMSAhPSBvYmoubGVuZ3RoID8gLTEgOiBhcnIubGFzdEluZGV4T2Yob2JqLCBmcm9tSW5kZXgpO1xuICB9XG4gIGZvciAodmFyIGkgPSBmcm9tSW5kZXg7IDAgPD0gaTsgaS0tKSB7XG4gICAgaWYgKGkgaW4gYXJyICYmIGFycltpXSA9PT0gb2JqKSB7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xO1xufTtcbmdvb2cuYXJyYXkubGFzdEluZGV4T2YgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9sYXN0SW5kZXhPZjtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9mb3JFYWNoID0gZ29vZy5OQVRJVkVfQVJSQVlfUFJPVE9UWVBFUyAmJiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfQVNTVU1FX05BVElWRV9GVU5DVElPTlMgfHwgQXJyYXkucHJvdG90eXBlLmZvckVhY2gpID8gZnVuY3Rpb24oYXJyLCBmLCBvcHRfb2JqKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQobnVsbCAhPSBhcnIubGVuZ3RoKTtcbiAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhcnIsIGYsIG9wdF9vYmopO1xufSA6IGZ1bmN0aW9uKGFyciwgZiwgb3B0X29iaikge1xuICBmb3IgKHZhciBsID0gYXJyLmxlbmd0aCwgYXJyMiA9IFwic3RyaW5nXCIgPT09IHR5cGVvZiBhcnIgPyBhcnIuc3BsaXQoXCJcIikgOiBhcnIsIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgaSBpbiBhcnIyICYmIGYuY2FsbChvcHRfb2JqLCBhcnIyW2ldLCBpLCBhcnIpO1xuICB9XG59O1xuZ29vZy5hcnJheS5mb3JFYWNoID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZm9yRWFjaDtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZvckVhY2hSaWdodChhcnIsIGYsIG9wdF9vYmopIHtcbiAgZm9yICh2YXIgbCA9IGFyci5sZW5ndGgsIGFycjIgPSBcInN0cmluZ1wiID09PSB0eXBlb2YgYXJyID8gYXJyLnNwbGl0KFwiXCIpIDogYXJyLCBpID0gbCAtIDE7IDAgPD0gaTsgLS1pKSB7XG4gICAgaSBpbiBhcnIyICYmIGYuY2FsbChvcHRfb2JqLCBhcnIyW2ldLCBpLCBhcnIpO1xuICB9XG59XG5nb29nLmFycmF5LmZvckVhY2hSaWdodCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZvckVhY2hSaWdodDtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9maWx0ZXIgPSBnb29nLk5BVElWRV9BUlJBWV9QUk9UT1RZUEVTICYmIChtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9BU1NVTUVfTkFUSVZFX0ZVTkNUSU9OUyB8fCBBcnJheS5wcm90b3R5cGUuZmlsdGVyKSA/IGZ1bmN0aW9uKGFyciwgZiwgb3B0X29iaikge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwgIT0gYXJyLmxlbmd0aCk7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoYXJyLCBmLCBvcHRfb2JqKTtcbn0gOiBmdW5jdGlvbihhcnIsIGYsIG9wdF9vYmopIHtcbiAgZm9yICh2YXIgbCA9IGFyci5sZW5ndGgsIHJlcyA9IFtdLCByZXNMZW5ndGggPSAwLCBhcnIyID0gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGFyciA/IGFyci5zcGxpdChcIlwiKSA6IGFyciwgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAoaSBpbiBhcnIyKSB7XG4gICAgICB2YXIgdmFsID0gYXJyMltpXTtcbiAgICAgIGYuY2FsbChvcHRfb2JqLCB2YWwsIGksIGFycikgJiYgKHJlc1tyZXNMZW5ndGgrK10gPSB2YWwpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzO1xufTtcbmdvb2cuYXJyYXkuZmlsdGVyID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZmlsdGVyO1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X21hcCA9IGdvb2cuTkFUSVZFX0FSUkFZX1BST1RPVFlQRVMgJiYgKG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X0FTU1VNRV9OQVRJVkVfRlVOQ1RJT05TIHx8IEFycmF5LnByb3RvdHlwZS5tYXApID8gZnVuY3Rpb24oYXJyLCBmLCBvcHRfb2JqKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQobnVsbCAhPSBhcnIubGVuZ3RoKTtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChhcnIsIGYsIG9wdF9vYmopO1xufSA6IGZ1bmN0aW9uKGFyciwgZiwgb3B0X29iaikge1xuICBmb3IgKHZhciBsID0gYXJyLmxlbmd0aCwgcmVzID0gQXJyYXkobCksIGFycjIgPSBcInN0cmluZ1wiID09PSB0eXBlb2YgYXJyID8gYXJyLnNwbGl0KFwiXCIpIDogYXJyLCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgIGkgaW4gYXJyMiAmJiAocmVzW2ldID0gZi5jYWxsKG9wdF9vYmosIGFycjJbaV0sIGksIGFycikpO1xuICB9XG4gIHJldHVybiByZXM7XG59O1xuZ29vZy5hcnJheS5tYXAgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9tYXA7XG5nb29nLmFycmF5LnJlZHVjZSA9IGdvb2cuTkFUSVZFX0FSUkFZX1BST1RPVFlQRVMgJiYgKG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X0FTU1VNRV9OQVRJVkVfRlVOQ1RJT05TIHx8IEFycmF5LnByb3RvdHlwZS5yZWR1Y2UpID8gZnVuY3Rpb24oYXJyLCBmLCB2YWwsIG9wdF9vYmopIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChudWxsICE9IGFyci5sZW5ndGgpO1xuICBvcHRfb2JqICYmIChmID0gZ29vZy5iaW5kKGYsIG9wdF9vYmopKTtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UuY2FsbChhcnIsIGYsIHZhbCk7XG59IDogZnVuY3Rpb24oYXJyLCBmLCB2YWwkanNjb21wJDAsIG9wdF9vYmopIHtcbiAgdmFyIHJ2YWwgPSB2YWwkanNjb21wJDA7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZvckVhY2goYXJyLCBmdW5jdGlvbih2YWwsIGluZGV4KSB7XG4gICAgcnZhbCA9IGYuY2FsbChvcHRfb2JqLCBydmFsLCB2YWwsIGluZGV4LCBhcnIpO1xuICB9KTtcbiAgcmV0dXJuIHJ2YWw7XG59O1xuZ29vZy5hcnJheS5yZWR1Y2VSaWdodCA9IGdvb2cuTkFUSVZFX0FSUkFZX1BST1RPVFlQRVMgJiYgKG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X0FTU1VNRV9OQVRJVkVfRlVOQ1RJT05TIHx8IEFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCkgPyBmdW5jdGlvbihhcnIsIGYsIHZhbCwgb3B0X29iaikge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwgIT0gYXJyLmxlbmd0aCk7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQobnVsbCAhPSBmKTtcbiAgb3B0X29iaiAmJiAoZiA9IGdvb2cuYmluZChmLCBvcHRfb2JqKSk7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQuY2FsbChhcnIsIGYsIHZhbCk7XG59IDogZnVuY3Rpb24oYXJyLCBmLCB2YWwkanNjb21wJDAsIG9wdF9vYmopIHtcbiAgdmFyIHJ2YWwgPSB2YWwkanNjb21wJDA7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZvckVhY2hSaWdodChhcnIsIGZ1bmN0aW9uKHZhbCwgaW5kZXgpIHtcbiAgICBydmFsID0gZi5jYWxsKG9wdF9vYmosIHJ2YWwsIHZhbCwgaW5kZXgsIGFycik7XG4gIH0pO1xuICByZXR1cm4gcnZhbDtcbn07XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc29tZSA9IGdvb2cuTkFUSVZFX0FSUkFZX1BST1RPVFlQRVMgJiYgKG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X0FTU1VNRV9OQVRJVkVfRlVOQ1RJT05TIHx8IEFycmF5LnByb3RvdHlwZS5zb21lKSA/IGZ1bmN0aW9uKGFyciwgZiwgb3B0X29iaikge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwgIT0gYXJyLmxlbmd0aCk7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuc29tZS5jYWxsKGFyciwgZiwgb3B0X29iaik7XG59IDogZnVuY3Rpb24oYXJyLCBmLCBvcHRfb2JqKSB7XG4gIGZvciAodmFyIGwgPSBhcnIubGVuZ3RoLCBhcnIyID0gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGFyciA/IGFyci5zcGxpdChcIlwiKSA6IGFyciwgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAoaSBpbiBhcnIyICYmIGYuY2FsbChvcHRfb2JqLCBhcnIyW2ldLCBpLCBhcnIpKSB7XG4gICAgICByZXR1cm4gITA7XG4gICAgfVxuICB9XG4gIHJldHVybiAhMTtcbn07XG5nb29nLmFycmF5LnNvbWUgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zb21lO1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2V2ZXJ5ID0gZ29vZy5OQVRJVkVfQVJSQVlfUFJPVE9UWVBFUyAmJiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfQVNTVU1FX05BVElWRV9GVU5DVElPTlMgfHwgQXJyYXkucHJvdG90eXBlLmV2ZXJ5KSA/IGZ1bmN0aW9uKGFyciwgZiwgb3B0X29iaikge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwgIT0gYXJyLmxlbmd0aCk7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuZXZlcnkuY2FsbChhcnIsIGYsIG9wdF9vYmopO1xufSA6IGZ1bmN0aW9uKGFyciwgZiwgb3B0X29iaikge1xuICBmb3IgKHZhciBsID0gYXJyLmxlbmd0aCwgYXJyMiA9IFwic3RyaW5nXCIgPT09IHR5cGVvZiBhcnIgPyBhcnIuc3BsaXQoXCJcIikgOiBhcnIsIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgaWYgKGkgaW4gYXJyMiAmJiAhZi5jYWxsKG9wdF9vYmosIGFycjJbaV0sIGksIGFycikpIHtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICEwO1xufTtcbmdvb2cuYXJyYXkuZXZlcnkgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9ldmVyeTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NvdW50KGFyciRqc2NvbXAkMCwgZiwgb3B0X29iaikge1xuICB2YXIgY291bnQgPSAwO1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9mb3JFYWNoKGFyciRqc2NvbXAkMCwgZnVuY3Rpb24oZWxlbWVudCwgaW5kZXgsIGFycikge1xuICAgIGYuY2FsbChvcHRfb2JqLCBlbGVtZW50LCBpbmRleCwgYXJyKSAmJiArK2NvdW50O1xuICB9LCBvcHRfb2JqKTtcbiAgcmV0dXJuIGNvdW50O1xufVxuZ29vZy5hcnJheS5jb3VudCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NvdW50O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZmluZChhcnIsIGYsIG9wdF9vYmopIHtcbiAgdmFyIGkgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9maW5kSW5kZXgoYXJyLCBmLCBvcHRfb2JqKTtcbiAgcmV0dXJuIDAgPiBpID8gbnVsbCA6IFwic3RyaW5nXCIgPT09IHR5cGVvZiBhcnIgPyBhcnIuY2hhckF0KGkpIDogYXJyW2ldO1xufVxuZ29vZy5hcnJheS5maW5kID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZmluZDtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZpbmRJbmRleChhcnIsIGYsIG9wdF9vYmopIHtcbiAgZm9yICh2YXIgbCA9IGFyci5sZW5ndGgsIGFycjIgPSBcInN0cmluZ1wiID09PSB0eXBlb2YgYXJyID8gYXJyLnNwbGl0KFwiXCIpIDogYXJyLCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgIGlmIChpIGluIGFycjIgJiYgZi5jYWxsKG9wdF9vYmosIGFycjJbaV0sIGksIGFycikpIHtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5nb29nLmFycmF5LmZpbmRJbmRleCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZpbmRJbmRleDtcbmdvb2cuYXJyYXkuZmluZFJpZ2h0ID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZmluZFJpZ2h0KGFyciwgZiwgb3B0X29iaikge1xuICB2YXIgaSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZpbmRJbmRleFJpZ2h0KGFyciwgZiwgb3B0X29iaik7XG4gIHJldHVybiAwID4gaSA/IG51bGwgOiBcInN0cmluZ1wiID09PSB0eXBlb2YgYXJyID8gYXJyLmNoYXJBdChpKSA6IGFycltpXTtcbn07XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9maW5kSW5kZXhSaWdodChhcnIsIGYsIG9wdF9vYmopIHtcbiAgZm9yICh2YXIgbCA9IGFyci5sZW5ndGgsIGFycjIgPSBcInN0cmluZ1wiID09PSB0eXBlb2YgYXJyID8gYXJyLnNwbGl0KFwiXCIpIDogYXJyLCBpID0gbCAtIDE7IDAgPD0gaTsgaS0tKSB7XG4gICAgaWYgKGkgaW4gYXJyMiAmJiBmLmNhbGwob3B0X29iaiwgYXJyMltpXSwgaSwgYXJyKSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cbmdvb2cuYXJyYXkuZmluZEluZGV4UmlnaHQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9maW5kSW5kZXhSaWdodDtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NvbnRhaW5zKGFyciwgb2JqKSB7XG4gIHJldHVybiAwIDw9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2luZGV4T2YoYXJyLCBvYmopO1xufVxuZ29vZy5hcnJheS5jb250YWlucyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NvbnRhaW5zO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaXNFbXB0eShhcnIpIHtcbiAgcmV0dXJuIDAgPT0gYXJyLmxlbmd0aDtcbn1cbmdvb2cuYXJyYXkuaXNFbXB0eSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2lzRW1wdHk7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jbGVhcihhcnIpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGFycikpIHtcbiAgICBmb3IgKHZhciBpID0gYXJyLmxlbmd0aCAtIDE7IDAgPD0gaTsgaS0tKSB7XG4gICAgICBkZWxldGUgYXJyW2ldO1xuICAgIH1cbiAgfVxuICBhcnIubGVuZ3RoID0gMDtcbn1cbmdvb2cuYXJyYXkuY2xlYXIgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jbGVhcjtcbmdvb2cuYXJyYXkuaW5zZXJ0ID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaW5zZXJ0KGFyciwgb2JqKSB7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NvbnRhaW5zKGFyciwgb2JqKSB8fCBhcnIucHVzaChvYmopO1xufTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2luc2VydEF0KGFyciwgb2JqLCBvcHRfaSkge1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zcGxpY2UoYXJyLCBvcHRfaSwgMCwgb2JqKTtcbn1cbmdvb2cuYXJyYXkuaW5zZXJ0QXQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9pbnNlcnRBdDtcbmdvb2cuYXJyYXkuaW5zZXJ0QXJyYXlBdCA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2luc2VydEFycmF5QXQoYXJyLCBlbGVtZW50c1RvQWRkLCBvcHRfaSkge1xuICBnb29nLnBhcnRpYWwobW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc3BsaWNlLCBhcnIsIG9wdF9pLCAwKS5hcHBseShudWxsLCBlbGVtZW50c1RvQWRkKTtcbn07XG5nb29nLmFycmF5Lmluc2VydEJlZm9yZSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2luc2VydEJlZm9yZShhcnIsIG9iaiwgb3B0X29iajIpIHtcbiAgdmFyIGk7XG4gIDIgPT0gYXJndW1lbnRzLmxlbmd0aCB8fCAwID4gKGkgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9pbmRleE9mKGFyciwgb3B0X29iajIpKSA/IGFyci5wdXNoKG9iaikgOiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9pbnNlcnRBdChhcnIsIG9iaiwgaSk7XG59O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVtb3ZlKGFyciwgb2JqKSB7XG4gIHZhciBpID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaW5kZXhPZihhcnIsIG9iaiksIHJ2O1xuICAocnYgPSAwIDw9IGkpICYmIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZUF0KGFyciwgaSk7XG4gIHJldHVybiBydjtcbn1cbmdvb2cuYXJyYXkucmVtb3ZlID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVtb3ZlO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVtb3ZlTGFzdChhcnIsIG9iaikge1xuICB2YXIgaSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2xhc3RJbmRleE9mKGFyciwgb2JqKTtcbiAgcmV0dXJuIDAgPD0gaSA/IChtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZW1vdmVBdChhcnIsIGkpLCAhMCkgOiAhMTtcbn1cbmdvb2cuYXJyYXkucmVtb3ZlTGFzdCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZUxhc3Q7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZW1vdmVBdChhcnIsIGkpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChudWxsICE9IGFyci5sZW5ndGgpO1xuICByZXR1cm4gMSA9PSBBcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoYXJyLCBpLCAxKS5sZW5ndGg7XG59XG5nb29nLmFycmF5LnJlbW92ZUF0ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVtb3ZlQXQ7XG5nb29nLmFycmF5LnJlbW92ZUlmID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVtb3ZlSWYoYXJyLCBmLCBvcHRfb2JqKSB7XG4gIHZhciBpID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZmluZEluZGV4KGFyciwgZiwgb3B0X29iaik7XG4gIHJldHVybiAwIDw9IGkgPyAobW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVtb3ZlQXQoYXJyLCBpKSwgITApIDogITE7XG59O1xuZ29vZy5hcnJheS5yZW1vdmVBbGxJZiA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZUFsbElmKGFyciwgZiwgb3B0X29iaikge1xuICB2YXIgcmVtb3ZlZENvdW50ID0gMDtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZm9yRWFjaFJpZ2h0KGFyciwgZnVuY3Rpb24odmFsLCBpbmRleCkge1xuICAgIGYuY2FsbChvcHRfb2JqLCB2YWwsIGluZGV4LCBhcnIpICYmIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZUF0KGFyciwgaW5kZXgpICYmIHJlbW92ZWRDb3VudCsrO1xuICB9KTtcbiAgcmV0dXJuIHJlbW92ZWRDb3VudDtcbn07XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb25jYXQodmFyX2FyZ3MpIHtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10sIGFyZ3VtZW50cyk7XG59XG5nb29nLmFycmF5LmNvbmNhdCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NvbmNhdDtcbmdvb2cuYXJyYXkuam9pbiA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2pvaW4odmFyX2FyZ3MpIHtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10sIGFyZ3VtZW50cyk7XG59O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfdG9BcnJheShvYmplY3QpIHtcbiAgdmFyIGxlbmd0aCA9IG9iamVjdC5sZW5ndGg7XG4gIGlmICgwIDwgbGVuZ3RoKSB7XG4gICAgZm9yICh2YXIgcnYgPSBBcnJheShsZW5ndGgpLCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBydltpXSA9IG9iamVjdFtpXTtcbiAgICB9XG4gICAgcmV0dXJuIHJ2O1xuICB9XG4gIHJldHVybiBbXTtcbn1cbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jbG9uZSA9IGdvb2cuYXJyYXkudG9BcnJheSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3RvQXJyYXk7XG5nb29nLmFycmF5LmNsb25lID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfdG9BcnJheTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2V4dGVuZChhcnIxLCB2YXJfYXJncykge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBhcnIyID0gYXJndW1lbnRzW2ldO1xuICAgIGlmIChnb29nLmlzQXJyYXlMaWtlKGFycjIpKSB7XG4gICAgICB2YXIgbGVuMSA9IGFycjEubGVuZ3RoIHx8IDAsIGxlbjIgPSBhcnIyLmxlbmd0aCB8fCAwO1xuICAgICAgYXJyMS5sZW5ndGggPSBsZW4xICsgbGVuMjtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGVuMjsgaisrKSB7XG4gICAgICAgIGFycjFbbGVuMSArIGpdID0gYXJyMltqXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYXJyMS5wdXNoKGFycjIpO1xuICAgIH1cbiAgfVxufVxuZ29vZy5hcnJheS5leHRlbmQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9leHRlbmQ7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zcGxpY2UoYXJyLCBpbmRleCwgaG93TWFueSwgdmFyX2FyZ3MpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChudWxsICE9IGFyci5sZW5ndGgpO1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShhcnIsIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3NsaWNlKGFyZ3VtZW50cywgMSkpO1xufVxuZ29vZy5hcnJheS5zcGxpY2UgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zcGxpY2U7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zbGljZShhcnIsIHN0YXJ0LCBvcHRfZW5kKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQobnVsbCAhPSBhcnIubGVuZ3RoKTtcbiAgcmV0dXJuIDIgPj0gYXJndW1lbnRzLmxlbmd0aCA/IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyciwgc3RhcnQpIDogQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJyLCBzdGFydCwgb3B0X2VuZCk7XG59XG5nb29nLmFycmF5LnNsaWNlID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc2xpY2U7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZW1vdmVEdXBsaWNhdGVzKGFyciwgb3B0X3J2LCBvcHRfaGFzaEZuKSB7XG4gIGZvciAodmFyIHJldHVybkFycmF5ID0gb3B0X3J2IHx8IGFyciwgZGVmYXVsdEhhc2hGbiA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICByZXR1cm4gZ29vZy5pc09iamVjdChpdGVtKSA/IFwib1wiICsgZ29vZy5nZXRVaWQoaXRlbSkgOiAodHlwZW9mIGl0ZW0pLmNoYXJBdCgwKSArIGl0ZW07XG4gIH0sIGhhc2hGbiA9IG9wdF9oYXNoRm4gfHwgZGVmYXVsdEhhc2hGbiwgY3Vyc29ySW5zZXJ0ID0gMCwgY3Vyc29yUmVhZCA9IDAsIHNlZW4gPSB7fTsgY3Vyc29yUmVhZCA8IGFyci5sZW5ndGg7KSB7XG4gICAgdmFyIGN1cnJlbnQgPSBhcnJbY3Vyc29yUmVhZCsrXSwga2V5ID0gaGFzaEZuKGN1cnJlbnQpO1xuICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzZWVuLCBrZXkpIHx8IChzZWVuW2tleV0gPSAhMCwgcmV0dXJuQXJyYXlbY3Vyc29ySW5zZXJ0KytdID0gY3VycmVudCk7XG4gIH1cbiAgcmV0dXJuQXJyYXkubGVuZ3RoID0gY3Vyc29ySW5zZXJ0O1xufVxuZ29vZy5hcnJheS5yZW1vdmVEdXBsaWNhdGVzID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVtb3ZlRHVwbGljYXRlcztcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2JpbmFyeVNlYXJjaChhcnIsIHRhcmdldCwgb3B0X2NvbXBhcmVGbikge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfYmluYXJ5U2VhcmNoXyhhcnIsIG9wdF9jb21wYXJlRm4gfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZGVmYXVsdENvbXBhcmUsICExLCB0YXJnZXQpO1xufVxuZ29vZy5hcnJheS5iaW5hcnlTZWFyY2ggPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9iaW5hcnlTZWFyY2g7XG5nb29nLmFycmF5LmJpbmFyeVNlbGVjdCA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2JpbmFyeVNlbGVjdChhcnIsIGV2YWx1YXRvciwgb3B0X29iaikge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfYmluYXJ5U2VhcmNoXyhhcnIsIGV2YWx1YXRvciwgITAsIHZvaWQgMCwgb3B0X29iaik7XG59O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfYmluYXJ5U2VhcmNoXyhhcnIsIGNvbXBhcmVGbiwgaXNFdmFsdWF0b3IsIG9wdF90YXJnZXQsIG9wdF9zZWxmT2JqKSB7XG4gIGZvciAodmFyIGxlZnQgPSAwLCByaWdodCA9IGFyci5sZW5ndGgsIGZvdW5kOyBsZWZ0IDwgcmlnaHQ7KSB7XG4gICAgdmFyIG1pZGRsZSA9IGxlZnQgKyAocmlnaHQgLSBsZWZ0ID4+PiAxKSwgY29tcGFyZVJlc3VsdCA9IHZvaWQgMDtcbiAgICBjb21wYXJlUmVzdWx0ID0gaXNFdmFsdWF0b3IgPyBjb21wYXJlRm4uY2FsbChvcHRfc2VsZk9iaiwgYXJyW21pZGRsZV0sIG1pZGRsZSwgYXJyKSA6IGNvbXBhcmVGbihvcHRfdGFyZ2V0LCBhcnJbbWlkZGxlXSk7XG4gICAgMCA8IGNvbXBhcmVSZXN1bHQgPyBsZWZ0ID0gbWlkZGxlICsgMSA6IChyaWdodCA9IG1pZGRsZSwgZm91bmQgPSAhY29tcGFyZVJlc3VsdCk7XG4gIH1cbiAgcmV0dXJuIGZvdW5kID8gbGVmdCA6IC1sZWZ0IC0gMTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3NvcnQoYXJyLCBvcHRfY29tcGFyZUZuKSB7XG4gIGFyci5zb3J0KG9wdF9jb21wYXJlRm4gfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZGVmYXVsdENvbXBhcmUpO1xufVxuZ29vZy5hcnJheS5zb3J0ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc29ydDtcbmdvb2cuYXJyYXkuc3RhYmxlU29ydCA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3N0YWJsZVNvcnQoYXJyLCBvcHRfY29tcGFyZUZuKSB7XG4gIGZvciAodmFyIGNvbXBBcnIgPSBBcnJheShhcnIubGVuZ3RoKSwgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICBjb21wQXJyW2ldID0ge2luZGV4OmksIHZhbHVlOmFycltpXX07XG4gIH1cbiAgdmFyIHZhbHVlQ29tcGFyZUZuID0gb3B0X2NvbXBhcmVGbiB8fCBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9kZWZhdWx0Q29tcGFyZTtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc29ydChjb21wQXJyLCBmdW5jdGlvbiBzdGFibGVDb21wYXJlRm4ob2JqMSwgb2JqMikge1xuICAgIHJldHVybiB2YWx1ZUNvbXBhcmVGbihvYmoxLnZhbHVlLCBvYmoyLnZhbHVlKSB8fCBvYmoxLmluZGV4IC0gb2JqMi5pbmRleDtcbiAgfSk7XG4gIGZvciAodmFyIGkkMjggPSAwOyBpJDI4IDwgYXJyLmxlbmd0aDsgaSQyOCsrKSB7XG4gICAgYXJyW2kkMjhdID0gY29tcEFycltpJDI4XS52YWx1ZTtcbiAgfVxufTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3NvcnRCeUtleShhcnIsIGtleUZuLCBvcHRfY29tcGFyZUZuKSB7XG4gIHZhciBrZXlDb21wYXJlRm4gPSBvcHRfY29tcGFyZUZuIHx8IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2RlZmF1bHRDb21wYXJlO1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zb3J0KGFyciwgZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBrZXlDb21wYXJlRm4oa2V5Rm4oYSksIGtleUZuKGIpKTtcbiAgfSk7XG59XG5nb29nLmFycmF5LnNvcnRCeUtleSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3NvcnRCeUtleTtcbmdvb2cuYXJyYXkuc29ydE9iamVjdHNCeUtleSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3NvcnRPYmplY3RzQnlLZXkoYXJyLCBrZXksIG9wdF9jb21wYXJlRm4pIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc29ydEJ5S2V5KGFyciwgZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9ialtrZXldO1xuICB9LCBvcHRfY29tcGFyZUZuKTtcbn07XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9pc1NvcnRlZChhcnIsIG9wdF9jb21wYXJlRm4sIG9wdF9zdHJpY3QpIHtcbiAgZm9yICh2YXIgY29tcGFyZSA9IG9wdF9jb21wYXJlRm4gfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZGVmYXVsdENvbXBhcmUsIGkgPSAxOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGNvbXBhcmVSZXN1bHQgPSBjb21wYXJlKGFycltpIC0gMV0sIGFycltpXSk7XG4gICAgaWYgKDAgPCBjb21wYXJlUmVzdWx0IHx8IDAgPT0gY29tcGFyZVJlc3VsdCAmJiBvcHRfc3RyaWN0KSB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICB9XG4gIHJldHVybiAhMDtcbn1cbmdvb2cuYXJyYXkuaXNTb3J0ZWQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9pc1NvcnRlZDtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2VxdWFscyhhcnIxLCBhcnIyLCBvcHRfZXF1YWxzRm4pIHtcbiAgaWYgKCFnb29nLmlzQXJyYXlMaWtlKGFycjEpIHx8ICFnb29nLmlzQXJyYXlMaWtlKGFycjIpIHx8IGFycjEubGVuZ3RoICE9IGFycjIubGVuZ3RoKSB7XG4gICAgcmV0dXJuICExO1xuICB9XG4gIGZvciAodmFyIGwgPSBhcnIxLmxlbmd0aCwgZXF1YWxzRm4gPSBvcHRfZXF1YWxzRm4gfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZGVmYXVsdENvbXBhcmVFcXVhbGl0eSwgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAoIWVxdWFsc0ZuKGFycjFbaV0sIGFycjJbaV0pKSB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICB9XG4gIHJldHVybiAhMDtcbn1cbmdvb2cuYXJyYXkuZXF1YWxzID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZXF1YWxzO1xuZ29vZy5hcnJheS5jb21wYXJlMyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NvbXBhcmUzKGFycjEsIGFycjIsIG9wdF9jb21wYXJlRm4pIHtcbiAgZm9yICh2YXIgY29tcGFyZSA9IG9wdF9jb21wYXJlRm4gfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZGVmYXVsdENvbXBhcmUsIGwgPSBNYXRoLm1pbihhcnIxLmxlbmd0aCwgYXJyMi5sZW5ndGgpLCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgIHZhciByZXN1bHQgPSBjb21wYXJlKGFycjFbaV0sIGFycjJbaV0pO1xuICAgIGlmICgwICE9IHJlc3VsdCkge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2RlZmF1bHRDb21wYXJlKGFycjEubGVuZ3RoLCBhcnIyLmxlbmd0aCk7XG59O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZGVmYXVsdENvbXBhcmUoYSwgYikge1xuICByZXR1cm4gYSA+IGIgPyAxIDogYSA8IGIgPyAtMSA6IDA7XG59XG5nb29nLmFycmF5LmRlZmF1bHRDb21wYXJlID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZGVmYXVsdENvbXBhcmU7XG5nb29nLmFycmF5LmludmVyc2VEZWZhdWx0Q29tcGFyZSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ludmVyc2VEZWZhdWx0Q29tcGFyZShhLCBiKSB7XG4gIHJldHVybiAtbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZGVmYXVsdENvbXBhcmUoYSwgYik7XG59O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZGVmYXVsdENvbXBhcmVFcXVhbGl0eShhLCBiKSB7XG4gIHJldHVybiBhID09PSBiO1xufVxuZ29vZy5hcnJheS5kZWZhdWx0Q29tcGFyZUVxdWFsaXR5ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZGVmYXVsdENvbXBhcmVFcXVhbGl0eTtcbmdvb2cuYXJyYXkuYmluYXJ5SW5zZXJ0ID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfYmluYXJ5SW5zZXJ0KGFycmF5LCB2YWx1ZSwgb3B0X2NvbXBhcmVGbikge1xuICB2YXIgaW5kZXggPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9iaW5hcnlTZWFyY2goYXJyYXksIHZhbHVlLCBvcHRfY29tcGFyZUZuKTtcbiAgcmV0dXJuIDAgPiBpbmRleCA/IChtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9pbnNlcnRBdChhcnJheSwgdmFsdWUsIC0oaW5kZXggKyAxKSksICEwKSA6ICExO1xufTtcbmdvb2cuYXJyYXkuYmluYXJ5UmVtb3ZlID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfYmluYXJ5UmVtb3ZlKGFycmF5LCB2YWx1ZSwgb3B0X2NvbXBhcmVGbikge1xuICB2YXIgaW5kZXggPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9iaW5hcnlTZWFyY2goYXJyYXksIHZhbHVlLCBvcHRfY29tcGFyZUZuKTtcbiAgcmV0dXJuIDAgPD0gaW5kZXggPyBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZW1vdmVBdChhcnJheSwgaW5kZXgpIDogITE7XG59O1xuZ29vZy5hcnJheS5idWNrZXQgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9idWNrZXQoYXJyYXksIHNvcnRlciwgb3B0X29iaikge1xuICBmb3IgKHZhciBidWNrZXRzID0ge30sIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdmFsdWUgPSBhcnJheVtpXSwga2V5ID0gc29ydGVyLmNhbGwob3B0X29iaiwgdmFsdWUsIGksIGFycmF5KTtcbiAgICB2b2lkIDAgIT09IGtleSAmJiAoYnVja2V0c1trZXldIHx8IChidWNrZXRzW2tleV0gPSBbXSkpLnB1c2godmFsdWUpO1xuICB9XG4gIHJldHVybiBidWNrZXRzO1xufTtcbmdvb2cuYXJyYXkuYnVja2V0VG9NYXAgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9idWNrZXRUb01hcChhcnJheSwgc29ydGVyKSB7XG4gIGZvciAodmFyIGJ1Y2tldHMgPSBuZXcgTWFwKCksIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdmFsdWUgPSBhcnJheVtpXSwga2V5ID0gc29ydGVyKHZhbHVlLCBpLCBhcnJheSk7XG4gICAgaWYgKHZvaWQgMCAhPT0ga2V5KSB7XG4gICAgICB2YXIgYnVja2V0ID0gYnVja2V0cy5nZXQoa2V5KTtcbiAgICAgIGJ1Y2tldCB8fCAoYnVja2V0ID0gW10sIGJ1Y2tldHMuc2V0KGtleSwgYnVja2V0KSk7XG4gICAgICBidWNrZXQucHVzaCh2YWx1ZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBidWNrZXRzO1xufTtcbmdvb2cuYXJyYXkudG9PYmplY3QgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV90b09iamVjdChhcnIsIGtleUZ1bmMsIG9wdF9vYmopIHtcbiAgdmFyIHJldCA9IHt9O1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9mb3JFYWNoKGFyciwgZnVuY3Rpb24oZWxlbWVudCwgaW5kZXgpIHtcbiAgICByZXRba2V5RnVuYy5jYWxsKG9wdF9vYmosIGVsZW1lbnQsIGluZGV4LCBhcnIpXSA9IGVsZW1lbnQ7XG4gIH0pO1xuICByZXR1cm4gcmV0O1xufTtcbmdvb2cuYXJyYXkudG9NYXAgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV90b01hcChhcnIsIGtleUZ1bmMpIHtcbiAgZm9yICh2YXIgbWFwID0gbmV3IE1hcCgpLCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgIHZhciBlbGVtZW50ID0gYXJyW2ldO1xuICAgIG1hcC5zZXQoa2V5RnVuYyhlbGVtZW50LCBpLCBhcnIpLCBlbGVtZW50KTtcbiAgfVxuICByZXR1cm4gbWFwO1xufTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JhbmdlKHN0YXJ0T3JFbmQsIG9wdF9lbmQsIG9wdF9zdGVwKSB7XG4gIHZhciBhcnJheSA9IFtdLCBzdGFydCA9IDAsIGVuZCA9IHN0YXJ0T3JFbmQsIHN0ZXAgPSBvcHRfc3RlcCB8fCAxO1xuICB2b2lkIDAgIT09IG9wdF9lbmQgJiYgKHN0YXJ0ID0gc3RhcnRPckVuZCwgZW5kID0gb3B0X2VuZCk7XG4gIGlmICgwID4gc3RlcCAqIChlbmQgLSBzdGFydCkpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgaWYgKDAgPCBzdGVwKSB7XG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpICs9IHN0ZXApIHtcbiAgICAgIGFycmF5LnB1c2goaSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGkkMjkgPSBzdGFydDsgaSQyOSA+IGVuZDsgaSQyOSArPSBzdGVwKSB7XG4gICAgICBhcnJheS5wdXNoKGkkMjkpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5nb29nLmFycmF5LnJhbmdlID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmFuZ2U7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZXBlYXQodmFsdWUsIG4pIHtcbiAgZm9yICh2YXIgYXJyYXkgPSBbXSwgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICBhcnJheVtpXSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cbmdvb2cuYXJyYXkucmVwZWF0ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVwZWF0O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZmxhdHRlbih2YXJfYXJncykge1xuICBmb3IgKHZhciByZXN1bHQgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZWxlbWVudCA9IGFyZ3VtZW50c1tpXTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShlbGVtZW50KSkge1xuICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCBlbGVtZW50Lmxlbmd0aDsgYyArPSA4MTkyKSB7XG4gICAgICAgIGZvciAodmFyIGNodW5rID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc2xpY2UoZWxlbWVudCwgYywgYyArIDgxOTIpLCByZWN1cnNlUmVzdWx0ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZmxhdHRlbi5hcHBseShudWxsLCBjaHVuayksIHIgPSAwOyByIDwgcmVjdXJzZVJlc3VsdC5sZW5ndGg7IHIrKykge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHJlY3Vyc2VSZXN1bHRbcl0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wdXNoKGVsZW1lbnQpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZ29vZy5hcnJheS5mbGF0dGVuID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZmxhdHRlbjtcbmdvb2cuYXJyYXkucm90YXRlID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcm90YXRlKGFycmF5LCBuKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQobnVsbCAhPSBhcnJheS5sZW5ndGgpO1xuICBhcnJheS5sZW5ndGggJiYgKG4gJT0gYXJyYXkubGVuZ3RoLCAwIDwgbiA/IEFycmF5LnByb3RvdHlwZS51bnNoaWZ0LmFwcGx5KGFycmF5LCBhcnJheS5zcGxpY2UoLW4sIG4pKSA6IDAgPiBuICYmIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGFycmF5LCBhcnJheS5zcGxpY2UoMCwgLW4pKSk7XG4gIHJldHVybiBhcnJheTtcbn07XG5nb29nLmFycmF5Lm1vdmVJdGVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbW92ZUl0ZW0oYXJyLCBmcm9tSW5kZXgsIHRvSW5kZXgpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydCgwIDw9IGZyb21JbmRleCAmJiBmcm9tSW5kZXggPCBhcnIubGVuZ3RoKTtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydCgwIDw9IHRvSW5kZXggJiYgdG9JbmRleCA8IGFyci5sZW5ndGgpO1xuICB2YXIgcmVtb3ZlZEl0ZW1zID0gQXJyYXkucHJvdG90eXBlLnNwbGljZS5jYWxsKGFyciwgZnJvbUluZGV4LCAxKTtcbiAgQXJyYXkucHJvdG90eXBlLnNwbGljZS5jYWxsKGFyciwgdG9JbmRleCwgMCwgcmVtb3ZlZEl0ZW1zWzBdKTtcbn07XG5nb29nLmFycmF5LnppcCA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3ppcCh2YXJfYXJncykge1xuICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgZm9yICh2YXIgcmVzdWx0ID0gW10sIG1pbkxlbiA9IGFyZ3VtZW50c1swXS5sZW5ndGgsIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgYXJndW1lbnRzW2ldLmxlbmd0aCA8IG1pbkxlbiAmJiAobWluTGVuID0gYXJndW1lbnRzW2ldLmxlbmd0aCk7XG4gIH1cbiAgZm9yICh2YXIgaSQzMCA9IDA7IGkkMzAgPCBtaW5MZW47IGkkMzArKykge1xuICAgIGZvciAodmFyIHZhbHVlID0gW10sIGogPSAwOyBqIDwgYXJndW1lbnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICB2YWx1ZS5wdXNoKGFyZ3VtZW50c1tqXVtpJDMwXSk7XG4gICAgfVxuICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcbmdvb2cuYXJyYXkuc2h1ZmZsZSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3NodWZmbGUoYXJyLCBvcHRfcmFuZEZuKSB7XG4gIGZvciAodmFyIHJhbmRGbiA9IG9wdF9yYW5kRm4gfHwgTWF0aC5yYW5kb20sIGkgPSBhcnIubGVuZ3RoIC0gMTsgMCA8IGk7IGktLSkge1xuICAgIHZhciBqID0gTWF0aC5mbG9vcihyYW5kRm4oKSAqIChpICsgMSkpLCB0bXAgPSBhcnJbaV07XG4gICAgYXJyW2ldID0gYXJyW2pdO1xuICAgIGFycltqXSA9IHRtcDtcbiAgfVxufTtcbmdvb2cuYXJyYXkuY29weUJ5SW5kZXggPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb3B5QnlJbmRleChhcnIsIGluZGV4X2Fycikge1xuICB2YXIgcmVzdWx0ID0gW107XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZvckVhY2goaW5kZXhfYXJyLCBmdW5jdGlvbihpbmRleCkge1xuICAgIHJlc3VsdC5wdXNoKGFycltpbmRleF0pO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5nb29nLmFycmF5LmNvbmNhdE1hcCA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NvbmNhdE1hcChhcnIsIGYsIG9wdF9vYmopIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NvbmNhdC5hcHBseShbXSwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbWFwKGFyciwgZiwgb3B0X29iaikpO1xufTtcbmdvb2cuZGVidWcuZXJyb3Jjb250ZXh0ID0ge307XG5nb29nLmRlYnVnLmVycm9yY29udGV4dC5hZGRFcnJvckNvbnRleHQgPSBmdW5jdGlvbihlcnIsIGNvbnRleHRLZXksIGNvbnRleHRWYWx1ZSkge1xuICBlcnJbZ29vZy5kZWJ1Zy5lcnJvcmNvbnRleHQuQ09OVEVYVF9LRVlfXSB8fCAoZXJyW2dvb2cuZGVidWcuZXJyb3Jjb250ZXh0LkNPTlRFWFRfS0VZX10gPSB7fSk7XG4gIGVycltnb29nLmRlYnVnLmVycm9yY29udGV4dC5DT05URVhUX0tFWV9dW2NvbnRleHRLZXldID0gY29udGV4dFZhbHVlO1xufTtcbmdvb2cuZGVidWcuZXJyb3Jjb250ZXh0LmdldEVycm9yQ29udGV4dCA9IGZ1bmN0aW9uKGVycikge1xuICByZXR1cm4gZXJyW2dvb2cuZGVidWcuZXJyb3Jjb250ZXh0LkNPTlRFWFRfS0VZX10gfHwge307XG59O1xuZ29vZy5kZWJ1Zy5lcnJvcmNvbnRleHQuQ09OVEVYVF9LRVlfID0gXCJfX2Nsb3N1cmVfX2Vycm9yX19jb250ZXh0X185ODQzODJcIjtcbmdvb2cuZGVidWcuTE9HR0lOR19FTkFCTEVEID0gZ29vZy5ERUJVRztcbmdvb2cuZGVidWcuRk9SQ0VfU0xPUFBZX1NUQUNLUyA9ICExO1xuZ29vZy5kZWJ1Zy5DSEVDS19GT1JfVEhST1dOX0VWRU5UID0gITE7XG5nb29nLmRlYnVnLmNhdGNoRXJyb3JzID0gZnVuY3Rpb24obG9nRnVuYywgb3B0X2NhbmNlbCwgb3B0X3RhcmdldCkge1xuICB2YXIgdGFyZ2V0ID0gb3B0X3RhcmdldCB8fCBnb29nLmdsb2JhbCwgb2xkRXJyb3JIYW5kbGVyID0gdGFyZ2V0Lm9uZXJyb3IsIHJldFZhbCA9ICEhb3B0X2NhbmNlbDtcbiAgdGFyZ2V0Lm9uZXJyb3IgPSBmdW5jdGlvbihtZXNzYWdlLCB1cmwsIGxpbmUsIG9wdF9jb2wsIG9wdF9lcnJvcikge1xuICAgIG9sZEVycm9ySGFuZGxlciAmJiBvbGRFcnJvckhhbmRsZXIobWVzc2FnZSwgdXJsLCBsaW5lLCBvcHRfY29sLCBvcHRfZXJyb3IpO1xuICAgIGxvZ0Z1bmMoe21lc3NhZ2U6bWVzc2FnZSwgZmlsZU5hbWU6dXJsLCBsaW5lOmxpbmUsIGxpbmVOdW1iZXI6bGluZSwgY29sOm9wdF9jb2wsIGVycm9yOm9wdF9lcnJvcn0pO1xuICAgIHJldHVybiByZXRWYWw7XG4gIH07XG59O1xuZ29vZy5kZWJ1Zy5leHBvc2UgPSBmdW5jdGlvbihvYmosIG9wdF9zaG93Rm4pIHtcbiAgaWYgKFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIG9iaikge1xuICAgIHJldHVybiBcInVuZGVmaW5lZFwiO1xuICB9XG4gIGlmIChudWxsID09IG9iaikge1xuICAgIHJldHVybiBcIk5VTExcIjtcbiAgfVxuICB2YXIgc3RyID0gW10sIHg7XG4gIGZvciAoeCBpbiBvYmopIHtcbiAgICBpZiAob3B0X3Nob3dGbiB8fCBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBvYmpbeF0pIHtcbiAgICAgIHZhciBzID0geCArIFwiID0gXCI7XG4gICAgICB0cnkge1xuICAgICAgICBzICs9IG9ialt4XTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcyArPSBcIioqKiBcIiArIGUgKyBcIiAqKipcIjtcbiAgICAgIH1cbiAgICAgIHN0ci5wdXNoKHMpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RyLmpvaW4oXCJcXG5cIik7XG59O1xuZ29vZy5kZWJ1Zy5kZWVwRXhwb3NlID0gZnVuY3Rpb24ob2JqJGpzY29tcCQwLCBvcHRfc2hvd0ZuKSB7XG4gIHZhciBzdHIkanNjb21wJDAgPSBbXSwgdWlkc1RvQ2xlYW51cCA9IFtdLCBhbmNlc3RvclVpZHMgPSB7fSwgaGVscGVyID0gZnVuY3Rpb24ob2JqLCBzcGFjZSkge1xuICAgIHZhciBuZXN0c3BhY2UgPSBzcGFjZSArIFwiICBcIiwgaW5kZW50TXVsdGlsaW5lID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1xcbi9nLCBcIlxcblwiICsgc3BhY2UpO1xuICAgIH07XG4gICAgdHJ5IHtcbiAgICAgIGlmICh2b2lkIDAgPT09IG9iaikge1xuICAgICAgICBzdHIkanNjb21wJDAucHVzaChcInVuZGVmaW5lZFwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChudWxsID09PSBvYmopIHtcbiAgICAgICAgICBzdHIkanNjb21wJDAucHVzaChcIk5VTExcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBvYmopIHtcbiAgICAgICAgICAgIHN0ciRqc2NvbXAkMC5wdXNoKCdcIicgKyBpbmRlbnRNdWx0aWxpbmUob2JqKSArICdcIicpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2Ygb2JqKSB7XG4gICAgICAgICAgICAgIHN0ciRqc2NvbXAkMC5wdXNoKGluZGVudE11bHRpbGluZShTdHJpbmcob2JqKSkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKGdvb2cuaXNPYmplY3Qob2JqKSkge1xuICAgICAgICAgICAgICAgIGdvb2cuaGFzVWlkKG9iaikgfHwgdWlkc1RvQ2xlYW51cC5wdXNoKG9iaik7XG4gICAgICAgICAgICAgICAgdmFyIHVpZCA9IGdvb2cuZ2V0VWlkKG9iaik7XG4gICAgICAgICAgICAgICAgaWYgKGFuY2VzdG9yVWlkc1t1aWRdKSB7XG4gICAgICAgICAgICAgICAgICBzdHIkanNjb21wJDAucHVzaChcIioqKiByZWZlcmVuY2UgbG9vcCBkZXRlY3RlZCAoaWQ9XCIgKyB1aWQgKyBcIikgKioqXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBhbmNlc3RvclVpZHNbdWlkXSA9ICEwO1xuICAgICAgICAgICAgICAgICAgc3RyJGpzY29tcCQwLnB1c2goXCJ7XCIpO1xuICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdF9zaG93Rm4gfHwgXCJmdW5jdGlvblwiICE9PSB0eXBlb2Ygb2JqW3hdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgc3RyJGpzY29tcCQwLnB1c2goXCJcXG5cIiksIHN0ciRqc2NvbXAkMC5wdXNoKG5lc3RzcGFjZSksIHN0ciRqc2NvbXAkMC5wdXNoKHggKyBcIiA9IFwiKSwgaGVscGVyKG9ialt4XSwgbmVzdHNwYWNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgc3RyJGpzY29tcCQwLnB1c2goXCJcXG5cIiArIHNwYWNlICsgXCJ9XCIpO1xuICAgICAgICAgICAgICAgICAgZGVsZXRlIGFuY2VzdG9yVWlkc1t1aWRdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdHIkanNjb21wJDAucHVzaChvYmopO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgc3RyJGpzY29tcCQwLnB1c2goXCIqKiogXCIgKyBlICsgXCIgKioqXCIpO1xuICAgIH1cbiAgfTtcbiAgaGVscGVyKG9iaiRqc2NvbXAkMCwgXCJcIik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdWlkc1RvQ2xlYW51cC5sZW5ndGg7IGkrKykge1xuICAgIGdvb2cucmVtb3ZlVWlkKHVpZHNUb0NsZWFudXBbaV0pO1xuICB9XG4gIHJldHVybiBzdHIkanNjb21wJDAuam9pbihcIlwiKTtcbn07XG5nb29nLmRlYnVnLmV4cG9zZUFycmF5ID0gZnVuY3Rpb24oYXJyKSB7XG4gIGZvciAodmFyIHN0ciA9IFtdLCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgIEFycmF5LmlzQXJyYXkoYXJyW2ldKSA/IHN0ci5wdXNoKGdvb2cuZGVidWcuZXhwb3NlQXJyYXkoYXJyW2ldKSkgOiBzdHIucHVzaChhcnJbaV0pO1xuICB9XG4gIHJldHVybiBcIlsgXCIgKyBzdHIuam9pbihcIiwgXCIpICsgXCIgXVwiO1xufTtcbmdvb2cuZGVidWcubm9ybWFsaXplRXJyb3JPYmplY3QgPSBmdW5jdGlvbihlcnIpIHtcbiAgdmFyIGhyZWYgPSBnb29nLmdldE9iamVjdEJ5TmFtZShcIndpbmRvdy5sb2NhdGlvbi5ocmVmXCIpO1xuICBudWxsID09IGVyciAmJiAoZXJyID0gJ1Vua25vd24gRXJyb3Igb2YgdHlwZSBcIm51bGwvdW5kZWZpbmVkXCInKTtcbiAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBlcnIpIHtcbiAgICByZXR1cm4ge21lc3NhZ2U6ZXJyLCBuYW1lOlwiVW5rbm93biBlcnJvclwiLCBsaW5lTnVtYmVyOlwiTm90IGF2YWlsYWJsZVwiLCBmaWxlTmFtZTpocmVmLCBzdGFjazpcIk5vdCBhdmFpbGFibGVcIn07XG4gIH1cbiAgdmFyIHRocmV3RXJyb3IgPSAhMTtcbiAgdHJ5IHtcbiAgICB2YXIgbGluZU51bWJlciA9IGVyci5saW5lTnVtYmVyIHx8IGVyci5saW5lIHx8IFwiTm90IGF2YWlsYWJsZVwiO1xuICB9IGNhdGNoIChlKSB7XG4gICAgbGluZU51bWJlciA9IFwiTm90IGF2YWlsYWJsZVwiLCB0aHJld0Vycm9yID0gITA7XG4gIH1cbiAgdHJ5IHtcbiAgICB2YXIgZmlsZU5hbWUgPSBlcnIuZmlsZU5hbWUgfHwgZXJyLmZpbGVuYW1lIHx8IGVyci5zb3VyY2VVUkwgfHwgZ29vZy5nbG9iYWwuJGdvb2dEZWJ1Z0ZuYW1lIHx8IGhyZWY7XG4gIH0gY2F0Y2ggKGUkMzEpIHtcbiAgICBmaWxlTmFtZSA9IFwiTm90IGF2YWlsYWJsZVwiLCB0aHJld0Vycm9yID0gITA7XG4gIH1cbiAgdmFyIHN0YWNrID0gZ29vZy5kZWJ1Zy5zZXJpYWxpemVFcnJvclN0YWNrXyhlcnIpO1xuICBpZiAoISghdGhyZXdFcnJvciAmJiBlcnIubGluZU51bWJlciAmJiBlcnIuZmlsZU5hbWUgJiYgZXJyLnN0YWNrICYmIGVyci5tZXNzYWdlICYmIGVyci5uYW1lKSkge1xuICAgIHZhciBtZXNzYWdlID0gZXJyLm1lc3NhZ2U7XG4gICAgaWYgKG51bGwgPT0gbWVzc2FnZSkge1xuICAgICAgaWYgKGVyci5jb25zdHJ1Y3RvciAmJiBlcnIuY29uc3RydWN0b3IgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgICB2YXIgY3Rvck5hbWUgPSBlcnIuY29uc3RydWN0b3IubmFtZSA/IGVyci5jb25zdHJ1Y3Rvci5uYW1lIDogZ29vZy5kZWJ1Zy5nZXRGdW5jdGlvbk5hbWUoZXJyLmNvbnN0cnVjdG9yKTtcbiAgICAgICAgbWVzc2FnZSA9ICdVbmtub3duIEVycm9yIG9mIHR5cGUgXCInICsgY3Rvck5hbWUgKyAnXCInO1xuICAgICAgICBpZiAoZ29vZy5kZWJ1Zy5DSEVDS19GT1JfVEhST1dOX0VWRU5UICYmIFwiRXZlbnRcIiA9PSBjdG9yTmFtZSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gbWVzc2FnZSArICcgd2l0aCBFdmVudC50eXBlIFwiJyArIChlcnIudHlwZSB8fCBcIlwiKSArICdcIic7XG4gICAgICAgICAgfSBjYXRjaCAoZSQzMikge1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWVzc2FnZSA9IFwiVW5rbm93biBFcnJvciBvZiB1bmtub3duIHR5cGVcIjtcbiAgICAgIH1cbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGVyci50b1N0cmluZyAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nICE9PSBlcnIudG9TdHJpbmcgJiYgKG1lc3NhZ2UgKz0gXCI6IFwiICsgZXJyLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgICByZXR1cm4ge21lc3NhZ2U6bWVzc2FnZSwgbmFtZTplcnIubmFtZSB8fCBcIlVua25vd25FcnJvclwiLCBsaW5lTnVtYmVyOmxpbmVOdW1iZXIsIGZpbGVOYW1lOmZpbGVOYW1lLCBzdGFjazpzdGFjayB8fCBcIk5vdCBhdmFpbGFibGVcIn07XG4gIH1cbiAgZXJyLnN0YWNrID0gc3RhY2s7XG4gIHJldHVybiB7bWVzc2FnZTplcnIubWVzc2FnZSwgbmFtZTplcnIubmFtZSwgbGluZU51bWJlcjplcnIubGluZU51bWJlciwgZmlsZU5hbWU6ZXJyLmZpbGVOYW1lLCBzdGFjazplcnIuc3RhY2t9O1xufTtcbmdvb2cuZGVidWcuc2VyaWFsaXplRXJyb3JTdGFja18gPSBmdW5jdGlvbihlLCBzZWVuKSB7XG4gIHNlZW4gfHwgKHNlZW4gPSB7fSk7XG4gIHNlZW5bZ29vZy5kZWJ1Zy5zZXJpYWxpemVFcnJvckFzS2V5XyhlKV0gPSAhMDtcbiAgdmFyIHN0YWNrID0gZS5zdGFjayB8fCBcIlwiLCBjYXVzZSA9IGUuY2F1c2U7XG4gIGNhdXNlICYmICFzZWVuW2dvb2cuZGVidWcuc2VyaWFsaXplRXJyb3JBc0tleV8oY2F1c2UpXSAmJiAoc3RhY2sgKz0gXCJcXG5DYXVzZWQgYnk6IFwiLCBjYXVzZS5zdGFjayAmJiAwID09IGNhdXNlLnN0YWNrLmluZGV4T2YoY2F1c2UudG9TdHJpbmcoKSkgfHwgKHN0YWNrICs9IFwic3RyaW5nXCIgPT09IHR5cGVvZiBjYXVzZSA/IGNhdXNlIDogY2F1c2UubWVzc2FnZSArIFwiXFxuXCIpLCBzdGFjayArPSBnb29nLmRlYnVnLnNlcmlhbGl6ZUVycm9yU3RhY2tfKGNhdXNlLCBzZWVuKSk7XG4gIHJldHVybiBzdGFjaztcbn07XG5nb29nLmRlYnVnLnNlcmlhbGl6ZUVycm9yQXNLZXlfID0gZnVuY3Rpb24oZSkge1xuICB2YXIga2V5UHJlZml4ID0gXCJcIjtcbiAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZS50b1N0cmluZyAmJiAoa2V5UHJlZml4ID0gXCJcIiArIGUpO1xuICByZXR1cm4ga2V5UHJlZml4ICsgZS5zdGFjaztcbn07XG5nb29nLmRlYnVnLmVuaGFuY2VFcnJvciA9IGZ1bmN0aW9uKGVyciwgb3B0X21lc3NhZ2UpIHtcbiAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgdmFyIGVycm9yID0gZXJyO1xuICB9IGVsc2Uge1xuICAgIGVycm9yID0gRXJyb3IoZXJyKSwgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UgJiYgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoZXJyb3IsIGdvb2cuZGVidWcuZW5oYW5jZUVycm9yKTtcbiAgfVxuICBlcnJvci5zdGFjayB8fCAoZXJyb3Iuc3RhY2sgPSBnb29nLmRlYnVnLmdldFN0YWNrdHJhY2UoZ29vZy5kZWJ1Zy5lbmhhbmNlRXJyb3IpKTtcbiAgaWYgKG9wdF9tZXNzYWdlKSB7XG4gICAgZm9yICh2YXIgeCA9IDA7IGVycm9yW1wibWVzc2FnZVwiICsgeF07KSB7XG4gICAgICArK3g7XG4gICAgfVxuICAgIGVycm9yW1wibWVzc2FnZVwiICsgeF0gPSBTdHJpbmcob3B0X21lc3NhZ2UpO1xuICB9XG4gIHJldHVybiBlcnJvcjtcbn07XG5nb29nLmRlYnVnLmVuaGFuY2VFcnJvcldpdGhDb250ZXh0ID0gZnVuY3Rpb24oZXJyLCBvcHRfY29udGV4dCkge1xuICB2YXIgZXJyb3IgPSBnb29nLmRlYnVnLmVuaGFuY2VFcnJvcihlcnIpO1xuICBpZiAob3B0X2NvbnRleHQpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gb3B0X2NvbnRleHQpIHtcbiAgICAgIGdvb2cuZGVidWcuZXJyb3Jjb250ZXh0LmFkZEVycm9yQ29udGV4dChlcnJvciwga2V5LCBvcHRfY29udGV4dFtrZXldKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGVycm9yO1xufTtcbmdvb2cuZGVidWcuZ2V0U3RhY2t0cmFjZVNpbXBsZSA9IGZ1bmN0aW9uKG9wdF9kZXB0aCkge1xuICBpZiAoIWdvb2cuZGVidWcuRk9SQ0VfU0xPUFBZX1NUQUNLUykge1xuICAgIHZhciBzdGFjayA9IGdvb2cuZGVidWcuZ2V0TmF0aXZlU3RhY2tUcmFjZV8oZ29vZy5kZWJ1Zy5nZXRTdGFja3RyYWNlU2ltcGxlKTtcbiAgICBpZiAoc3RhY2spIHtcbiAgICAgIHJldHVybiBzdGFjaztcbiAgICB9XG4gIH1cbiAgZm9yICh2YXIgc2IgPSBbXSwgZm4gPSBhcmd1bWVudHMuY2FsbGVlLmNhbGxlciwgZGVwdGggPSAwOyBmbiAmJiAoIW9wdF9kZXB0aCB8fCBkZXB0aCA8IG9wdF9kZXB0aCk7KSB7XG4gICAgc2IucHVzaChnb29nLmRlYnVnLmdldEZ1bmN0aW9uTmFtZShmbikpO1xuICAgIHNiLnB1c2goXCIoKVxcblwiKTtcbiAgICB0cnkge1xuICAgICAgZm4gPSBmbi5jYWxsZXI7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgc2IucHVzaChcIltleGNlcHRpb24gdHJ5aW5nIHRvIGdldCBjYWxsZXJdXFxuXCIpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGRlcHRoKys7XG4gICAgaWYgKGRlcHRoID49IGdvb2cuZGVidWcuTUFYX1NUQUNLX0RFUFRIKSB7XG4gICAgICBzYi5wdXNoKFwiWy4uLmxvbmcgc3RhY2suLi5dXCIpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIG9wdF9kZXB0aCAmJiBkZXB0aCA+PSBvcHRfZGVwdGggPyBzYi5wdXNoKFwiWy4uLnJlYWNoZWQgbWF4IGRlcHRoIGxpbWl0Li4uXVwiKSA6IHNiLnB1c2goXCJbZW5kXVwiKTtcbiAgcmV0dXJuIHNiLmpvaW4oXCJcIik7XG59O1xuZ29vZy5kZWJ1Zy5NQVhfU1RBQ0tfREVQVEggPSA1MDtcbmdvb2cuZGVidWcuZ2V0TmF0aXZlU3RhY2tUcmFjZV8gPSBmdW5jdGlvbihmbikge1xuICB2YXIgdGVtcEVyciA9IEVycm9yKCk7XG4gIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgIHJldHVybiBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0ZW1wRXJyLCBmbiksIFN0cmluZyh0ZW1wRXJyLnN0YWNrKTtcbiAgfVxuICB0cnkge1xuICAgIHRocm93IHRlbXBFcnI7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB0ZW1wRXJyID0gZTtcbiAgfVxuICB2YXIgc3RhY2sgPSB0ZW1wRXJyLnN0YWNrO1xuICByZXR1cm4gc3RhY2sgPyBTdHJpbmcoc3RhY2spIDogbnVsbDtcbn07XG5nb29nLmRlYnVnLmdldFN0YWNrdHJhY2UgPSBmdW5jdGlvbihmbikge1xuICB2YXIgc3RhY2s7XG4gIGdvb2cuZGVidWcuRk9SQ0VfU0xPUFBZX1NUQUNLUyB8fCAoc3RhY2sgPSBnb29nLmRlYnVnLmdldE5hdGl2ZVN0YWNrVHJhY2VfKGZuIHx8IGdvb2cuZGVidWcuZ2V0U3RhY2t0cmFjZSkpO1xuICBzdGFjayB8fCAoc3RhY2sgPSBnb29nLmRlYnVnLmdldFN0YWNrdHJhY2VIZWxwZXJfKGZuIHx8IGFyZ3VtZW50cy5jYWxsZWUuY2FsbGVyLCBbXSkpO1xuICByZXR1cm4gc3RhY2s7XG59O1xuZ29vZy5kZWJ1Zy5nZXRTdGFja3RyYWNlSGVscGVyXyA9IGZ1bmN0aW9uKGZuLCB2aXNpdGVkKSB7XG4gIHZhciBzYiA9IFtdO1xuICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY29udGFpbnModmlzaXRlZCwgZm4pKSB7XG4gICAgc2IucHVzaChcIlsuLi5jaXJjdWxhciByZWZlcmVuY2UuLi5dXCIpO1xuICB9IGVsc2Uge1xuICAgIGlmIChmbiAmJiB2aXNpdGVkLmxlbmd0aCA8IGdvb2cuZGVidWcuTUFYX1NUQUNLX0RFUFRIKSB7XG4gICAgICBzYi5wdXNoKGdvb2cuZGVidWcuZ2V0RnVuY3Rpb25OYW1lKGZuKSArIFwiKFwiKTtcbiAgICAgIGZvciAodmFyIGFyZ3MgPSBmbi5hcmd1bWVudHMsIGkgPSAwOyBhcmdzICYmIGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIDAgPCBpICYmIHNiLnB1c2goXCIsIFwiKTtcbiAgICAgICAgdmFyIGFyZyA9IGFyZ3NbaV07XG4gICAgICAgIHN3aXRjaCh0eXBlb2YgYXJnKSB7XG4gICAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgdmFyIGFyZ0Rlc2MgPSBhcmcgPyBcIm9iamVjdFwiIDogXCJudWxsXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICBhcmdEZXNjID0gYXJnO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgYXJnRGVzYyA9IFN0cmluZyhhcmcpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgIGFyZ0Rlc2MgPSBhcmcgPyBcInRydWVcIiA6IFwiZmFsc2VcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgYXJnRGVzYyA9IChhcmdEZXNjID0gZ29vZy5kZWJ1Zy5nZXRGdW5jdGlvbk5hbWUoYXJnKSkgPyBhcmdEZXNjIDogXCJbZm5dXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYXJnRGVzYyA9IHR5cGVvZiBhcmc7XG4gICAgICAgIH1cbiAgICAgICAgNDAgPCBhcmdEZXNjLmxlbmd0aCAmJiAoYXJnRGVzYyA9IGFyZ0Rlc2Muc3Vic3RyKDAsIDQwKSArIFwiLi4uXCIpO1xuICAgICAgICBzYi5wdXNoKGFyZ0Rlc2MpO1xuICAgICAgfVxuICAgICAgdmlzaXRlZC5wdXNoKGZuKTtcbiAgICAgIHNiLnB1c2goXCIpXFxuXCIpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgc2IucHVzaChnb29nLmRlYnVnLmdldFN0YWNrdHJhY2VIZWxwZXJfKGZuLmNhbGxlciwgdmlzaXRlZCkpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBzYi5wdXNoKFwiW2V4Y2VwdGlvbiB0cnlpbmcgdG8gZ2V0IGNhbGxlcl1cXG5cIik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGZuID8gc2IucHVzaChcIlsuLi5sb25nIHN0YWNrLi4uXVwiKSA6IHNiLnB1c2goXCJbZW5kXVwiKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNiLmpvaW4oXCJcIik7XG59O1xuZ29vZy5kZWJ1Zy5nZXRGdW5jdGlvbk5hbWUgPSBmdW5jdGlvbihmbikge1xuICBpZiAoZ29vZy5kZWJ1Zy5mbk5hbWVDYWNoZV9bZm5dKSB7XG4gICAgcmV0dXJuIGdvb2cuZGVidWcuZm5OYW1lQ2FjaGVfW2ZuXTtcbiAgfVxuICB2YXIgZnVuY3Rpb25Tb3VyY2UgPSBTdHJpbmcoZm4pO1xuICBpZiAoIWdvb2cuZGVidWcuZm5OYW1lQ2FjaGVfW2Z1bmN0aW9uU291cmNlXSkge1xuICAgIHZhciBtYXRjaGVzID0gL2Z1bmN0aW9uXFxzKyhbXlxcKF0rKS9tLmV4ZWMoZnVuY3Rpb25Tb3VyY2UpO1xuICAgIGdvb2cuZGVidWcuZm5OYW1lQ2FjaGVfW2Z1bmN0aW9uU291cmNlXSA9IG1hdGNoZXMgPyBtYXRjaGVzWzFdIDogXCJbQW5vbnltb3VzXVwiO1xuICB9XG4gIHJldHVybiBnb29nLmRlYnVnLmZuTmFtZUNhY2hlX1tmdW5jdGlvblNvdXJjZV07XG59O1xuZ29vZy5kZWJ1Zy5tYWtlV2hpdGVzcGFjZVZpc2libGUgPSBmdW5jdGlvbihzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC8gL2csIFwiW19dXCIpLnJlcGxhY2UoL1xcZi9nLCBcIltmXVwiKS5yZXBsYWNlKC9cXG4vZywgXCJbbl1cXG5cIikucmVwbGFjZSgvXFxyL2csIFwiW3JdXCIpLnJlcGxhY2UoL1xcdC9nLCBcIlt0XVwiKTtcbn07XG5nb29nLmRlYnVnLnJ1bnRpbWVUeXBlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgRnVuY3Rpb24gPyB2YWx1ZS5kaXNwbGF5TmFtZSB8fCB2YWx1ZS5uYW1lIHx8IFwidW5rbm93biB0eXBlIG5hbWVcIiA6IHZhbHVlIGluc3RhbmNlb2YgT2JqZWN0ID8gdmFsdWUuY29uc3RydWN0b3IuZGlzcGxheU5hbWUgfHwgdmFsdWUuY29uc3RydWN0b3IubmFtZSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpIDogbnVsbCA9PT0gdmFsdWUgPyBcIm51bGxcIiA6IHR5cGVvZiB2YWx1ZTtcbn07XG5nb29nLmRlYnVnLmZuTmFtZUNhY2hlXyA9IHt9O1xuZ29vZy5kZWJ1Zy5mcmVlemVJbnRlcm5hbF8gPSBnb29nLkRFQlVHICYmIE9iamVjdC5mcmVlemUgfHwgZnVuY3Rpb24oYXJnKSB7XG4gIHJldHVybiBhcmc7XG59O1xuZ29vZy5kZWJ1Zy5mcmVlemUgPSBmdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBnb29nLmRlYnVnLmZyZWV6ZUludGVybmFsXyhhcmcpO1xuICB9KCk7XG59O1xuZ29vZy5ldmVudHMuQnJvd3NlckZlYXR1cmUgPSB7SEFTX1czQ19CVVRUT046ITAsIEhBU19XM0NfRVZFTlRfU1VQUE9SVDohMCwgU0VUX0tFWV9DT0RFX1RPX1BSRVZFTlRfREVGQVVMVDohMSwgSEFTX05BVklHQVRPUl9PTkxJTkVfUFJPUEVSVFk6ITAsIEhBU19IVE1MNV9ORVRXT1JLX0VWRU5UX1NVUFBPUlQ6ITAsIEhUTUw1X05FVFdPUktfRVZFTlRTX0ZJUkVfT05fQk9EWTohMSwgVE9VQ0hfRU5BQkxFRDpcIm9udG91Y2hzdGFydFwiIGluIGdvb2cuZ2xvYmFsIHx8ICEhKGdvb2cuZ2xvYmFsLmRvY3VtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBcIm9udG91Y2hzdGFydFwiIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkgfHwgISghZ29vZy5nbG9iYWwubmF2aWdhdG9yIHx8ICFnb29nLmdsb2JhbC5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgJiYgIWdvb2cuZ2xvYmFsLm5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzKSwgUE9JTlRFUl9FVkVOVFM6XCJQb2ludGVyRXZlbnRcIiBpbiBcbmdvb2cuZ2xvYmFsLCBNU1BPSU5URVJfRVZFTlRTOlwiTVNQb2ludGVyRXZlbnRcIiBpbiBnb29nLmdsb2JhbCAmJiAhKCFnb29nLmdsb2JhbC5uYXZpZ2F0b3IgfHwgIWdvb2cuZ2xvYmFsLm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkKSwgUEFTU0lWRV9FVkVOVFM6ZnVuY3Rpb24oZm4pIHtcbiAgcmV0dXJuIHt2YWx1ZU9mOmZufS52YWx1ZU9mKCk7XG59KGZ1bmN0aW9uKCkge1xuICBpZiAoIWdvb2cuZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIgfHwgIU9iamVjdC5kZWZpbmVQcm9wZXJ0eSkge1xuICAgIHJldHVybiAhMTtcbiAgfVxuICB2YXIgcGFzc2l2ZSA9ICExLCBvcHRpb25zID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCBcInBhc3NpdmVcIiwge2dldDpmdW5jdGlvbigpIHtcbiAgICBwYXNzaXZlID0gITA7XG4gIH19KTtcbiAgdHJ5IHtcbiAgICBnb29nLmdsb2JhbC5hZGRFdmVudExpc3RlbmVyKFwidGVzdFwiLCBnb29nLm51bGxGdW5jdGlvbiwgb3B0aW9ucyksIGdvb2cuZ2xvYmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0ZXN0XCIsIGdvb2cubnVsbEZ1bmN0aW9uLCBvcHRpb25zKTtcbiAgfSBjYXRjaCAoZSkge1xuICB9XG4gIHJldHVybiBwYXNzaXZlO1xufSl9O1xudmFyIG1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQgPSB7fTtcbm1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQuVVNFX0NMSUVOVF9ISU5UUyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gITE7XG59KCk7XG5nb29nLnN0cmluZyA9IHt9O1xuZ29vZy5zdHJpbmcuaW50ZXJuYWwgPSB7fTtcbmdvb2cuc3RyaW5nLmludGVybmFsLnN0YXJ0c1dpdGggPSBmdW5jdGlvbihzdHIsIHByZWZpeCkge1xuICByZXR1cm4gMCA9PSBzdHIubGFzdEluZGV4T2YocHJlZml4LCAwKTtcbn07XG5nb29nLnN0cmluZy5pbnRlcm5hbC5lbmRzV2l0aCA9IGZ1bmN0aW9uKHN0ciwgc3VmZml4KSB7XG4gIHZhciBsID0gc3RyLmxlbmd0aCAtIHN1ZmZpeC5sZW5ndGg7XG4gIHJldHVybiAwIDw9IGwgJiYgc3RyLmluZGV4T2Yoc3VmZml4LCBsKSA9PSBsO1xufTtcbmdvb2cuc3RyaW5nLmludGVybmFsLmNhc2VJbnNlbnNpdGl2ZVN0YXJ0c1dpdGggPSBmdW5jdGlvbihzdHIsIHByZWZpeCkge1xuICByZXR1cm4gMCA9PSBnb29nLnN0cmluZy5pbnRlcm5hbC5jYXNlSW5zZW5zaXRpdmVDb21wYXJlKHByZWZpeCwgc3RyLnN1YnN0cigwLCBwcmVmaXgubGVuZ3RoKSk7XG59O1xuZ29vZy5zdHJpbmcuaW50ZXJuYWwuY2FzZUluc2Vuc2l0aXZlRW5kc1dpdGggPSBmdW5jdGlvbihzdHIsIHN1ZmZpeCkge1xuICByZXR1cm4gMCA9PSBnb29nLnN0cmluZy5pbnRlcm5hbC5jYXNlSW5zZW5zaXRpdmVDb21wYXJlKHN1ZmZpeCwgc3RyLnN1YnN0cihzdHIubGVuZ3RoIC0gc3VmZml4Lmxlbmd0aCwgc3VmZml4Lmxlbmd0aCkpO1xufTtcbmdvb2cuc3RyaW5nLmludGVybmFsLmNhc2VJbnNlbnNpdGl2ZUVxdWFscyA9IGZ1bmN0aW9uKHN0cjEsIHN0cjIpIHtcbiAgcmV0dXJuIHN0cjEudG9Mb3dlckNhc2UoKSA9PSBzdHIyLnRvTG93ZXJDYXNlKCk7XG59O1xuZ29vZy5zdHJpbmcuaW50ZXJuYWwuaXNFbXB0eU9yV2hpdGVzcGFjZSA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gL15bXFxzXFx4YTBdKiQvLnRlc3Qoc3RyKTtcbn07XG5nb29nLnN0cmluZy5pbnRlcm5hbC50cmltID0gZ29vZy5UUlVTVEVEX1NJVEUgJiYgU3RyaW5nLnByb3RvdHlwZS50cmltID8gZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiBzdHIudHJpbSgpO1xufSA6IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gL15bXFxzXFx4YTBdKihbXFxzXFxTXSo/KVtcXHNcXHhhMF0qJC8uZXhlYyhzdHIpWzFdO1xufTtcbmdvb2cuc3RyaW5nLmludGVybmFsLmNhc2VJbnNlbnNpdGl2ZUNvbXBhcmUgPSBmdW5jdGlvbihzdHIxLCBzdHIyKSB7XG4gIHZhciB0ZXN0MSA9IFN0cmluZyhzdHIxKS50b0xvd2VyQ2FzZSgpLCB0ZXN0MiA9IFN0cmluZyhzdHIyKS50b0xvd2VyQ2FzZSgpO1xuICByZXR1cm4gdGVzdDEgPCB0ZXN0MiA/IC0xIDogdGVzdDEgPT0gdGVzdDIgPyAwIDogMTtcbn07XG5nb29nLnN0cmluZy5pbnRlcm5hbC5uZXdMaW5lVG9CciA9IGZ1bmN0aW9uKHN0ciwgb3B0X3htbCkge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoLyhcXHJcXG58XFxyfFxcbikvZywgb3B0X3htbCA/IFwiPGJyIC8+XCIgOiBcIjxicj5cIik7XG59O1xuZ29vZy5zdHJpbmcuaW50ZXJuYWwuaHRtbEVzY2FwZSA9IGZ1bmN0aW9uKHN0ciwgb3B0X2lzTGlrZWx5VG9Db250YWluSHRtbENoYXJzKSB7XG4gIGlmIChvcHRfaXNMaWtlbHlUb0NvbnRhaW5IdG1sQ2hhcnMpIHtcbiAgICBzdHIgPSBzdHIucmVwbGFjZShnb29nLnN0cmluZy5pbnRlcm5hbC5BTVBfUkVfLCBcIiZhbXA7XCIpLnJlcGxhY2UoZ29vZy5zdHJpbmcuaW50ZXJuYWwuTFRfUkVfLCBcIiZsdDtcIikucmVwbGFjZShnb29nLnN0cmluZy5pbnRlcm5hbC5HVF9SRV8sIFwiJmd0O1wiKS5yZXBsYWNlKGdvb2cuc3RyaW5nLmludGVybmFsLlFVT1RfUkVfLCBcIiZxdW90O1wiKS5yZXBsYWNlKGdvb2cuc3RyaW5nLmludGVybmFsLlNJTkdMRV9RVU9URV9SRV8sIFwiJiMzOTtcIikucmVwbGFjZShnb29nLnN0cmluZy5pbnRlcm5hbC5OVUxMX1JFXywgXCImIzA7XCIpO1xuICB9IGVsc2Uge1xuICAgIGlmICghZ29vZy5zdHJpbmcuaW50ZXJuYWwuQUxMX1JFXy50ZXN0KHN0cikpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIC0xICE9IHN0ci5pbmRleE9mKFwiJlwiKSAmJiAoc3RyID0gc3RyLnJlcGxhY2UoZ29vZy5zdHJpbmcuaW50ZXJuYWwuQU1QX1JFXywgXCImYW1wO1wiKSk7XG4gICAgLTEgIT0gc3RyLmluZGV4T2YoXCI8XCIpICYmIChzdHIgPSBzdHIucmVwbGFjZShnb29nLnN0cmluZy5pbnRlcm5hbC5MVF9SRV8sIFwiJmx0O1wiKSk7XG4gICAgLTEgIT0gc3RyLmluZGV4T2YoXCI+XCIpICYmIChzdHIgPSBzdHIucmVwbGFjZShnb29nLnN0cmluZy5pbnRlcm5hbC5HVF9SRV8sIFwiJmd0O1wiKSk7XG4gICAgLTEgIT0gc3RyLmluZGV4T2YoJ1wiJykgJiYgKHN0ciA9IHN0ci5yZXBsYWNlKGdvb2cuc3RyaW5nLmludGVybmFsLlFVT1RfUkVfLCBcIiZxdW90O1wiKSk7XG4gICAgLTEgIT0gc3RyLmluZGV4T2YoXCInXCIpICYmIChzdHIgPSBzdHIucmVwbGFjZShnb29nLnN0cmluZy5pbnRlcm5hbC5TSU5HTEVfUVVPVEVfUkVfLCBcIiYjMzk7XCIpKTtcbiAgICAtMSAhPSBzdHIuaW5kZXhPZihcIlxceDAwXCIpICYmIChzdHIgPSBzdHIucmVwbGFjZShnb29nLnN0cmluZy5pbnRlcm5hbC5OVUxMX1JFXywgXCImIzA7XCIpKTtcbiAgfVxuICByZXR1cm4gc3RyO1xufTtcbmdvb2cuc3RyaW5nLmludGVybmFsLkFNUF9SRV8gPSAvJi9nO1xuZ29vZy5zdHJpbmcuaW50ZXJuYWwuTFRfUkVfID0gLzwvZztcbmdvb2cuc3RyaW5nLmludGVybmFsLkdUX1JFXyA9IC8+L2c7XG5nb29nLnN0cmluZy5pbnRlcm5hbC5RVU9UX1JFXyA9IC9cIi9nO1xuZ29vZy5zdHJpbmcuaW50ZXJuYWwuU0lOR0xFX1FVT1RFX1JFXyA9IC8nL2c7XG5nb29nLnN0cmluZy5pbnRlcm5hbC5OVUxMX1JFXyA9IC9cXHgwMC9nO1xuZ29vZy5zdHJpbmcuaW50ZXJuYWwuQUxMX1JFXyA9IC9bXFx4MDAmPD5cIiddLztcbmdvb2cuc3RyaW5nLmludGVybmFsLndoaXRlc3BhY2VFc2NhcGUgPSBmdW5jdGlvbihzdHIsIG9wdF94bWwpIHtcbiAgcmV0dXJuIGdvb2cuc3RyaW5nLmludGVybmFsLm5ld0xpbmVUb0JyKHN0ci5yZXBsYWNlKC8gIC9nLCBcIiAmIzE2MDtcIiksIG9wdF94bWwpO1xufTtcbmdvb2cuc3RyaW5nLmludGVybmFsLmNvbnRhaW5zID0gZnVuY3Rpb24oc3RyLCBzdWJTdHJpbmcpIHtcbiAgcmV0dXJuIC0xICE9IHN0ci5pbmRleE9mKHN1YlN0cmluZyk7XG59O1xuZ29vZy5zdHJpbmcuaW50ZXJuYWwuY2FzZUluc2Vuc2l0aXZlQ29udGFpbnMgPSBmdW5jdGlvbihzdHIsIHN1YlN0cmluZykge1xuICByZXR1cm4gZ29vZy5zdHJpbmcuaW50ZXJuYWwuY29udGFpbnMoc3RyLnRvTG93ZXJDYXNlKCksIHN1YlN0cmluZy50b0xvd2VyQ2FzZSgpKTtcbn07XG5nb29nLnN0cmluZy5pbnRlcm5hbC5jb21wYXJlVmVyc2lvbnMgPSBmdW5jdGlvbih2ZXJzaW9uMSwgdmVyc2lvbjIpIHtcbiAgZm9yICh2YXIgb3JkZXIgPSAwLCB2MVN1YnMgPSBnb29nLnN0cmluZy5pbnRlcm5hbC50cmltKFN0cmluZyh2ZXJzaW9uMSkpLnNwbGl0KFwiLlwiKSwgdjJTdWJzID0gZ29vZy5zdHJpbmcuaW50ZXJuYWwudHJpbShTdHJpbmcodmVyc2lvbjIpKS5zcGxpdChcIi5cIiksIHN1YkNvdW50ID0gTWF0aC5tYXgodjFTdWJzLmxlbmd0aCwgdjJTdWJzLmxlbmd0aCksIHN1YklkeCA9IDA7IDAgPT0gb3JkZXIgJiYgc3ViSWR4IDwgc3ViQ291bnQ7IHN1YklkeCsrKSB7XG4gICAgdmFyIHYxU3ViID0gdjFTdWJzW3N1YklkeF0gfHwgXCJcIiwgdjJTdWIgPSB2MlN1YnNbc3ViSWR4XSB8fCBcIlwiO1xuICAgIGRvIHtcbiAgICAgIHZhciB2MUNvbXAgPSAvKFxcZCopKFxcRCopKC4qKS8uZXhlYyh2MVN1YikgfHwgW1wiXCIsIFwiXCIsIFwiXCIsIFwiXCJdLCB2MkNvbXAgPSAvKFxcZCopKFxcRCopKC4qKS8uZXhlYyh2MlN1YikgfHwgW1wiXCIsIFwiXCIsIFwiXCIsIFwiXCJdO1xuICAgICAgaWYgKDAgPT0gdjFDb21wWzBdLmxlbmd0aCAmJiAwID09IHYyQ29tcFswXS5sZW5ndGgpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBvcmRlciA9IGdvb2cuc3RyaW5nLmludGVybmFsLmNvbXBhcmVFbGVtZW50c18oMCA9PSB2MUNvbXBbMV0ubGVuZ3RoID8gMCA6IHBhcnNlSW50KHYxQ29tcFsxXSwgMTApLCAwID09IHYyQ29tcFsxXS5sZW5ndGggPyAwIDogcGFyc2VJbnQodjJDb21wWzFdLCAxMCkpIHx8IGdvb2cuc3RyaW5nLmludGVybmFsLmNvbXBhcmVFbGVtZW50c18oMCA9PSB2MUNvbXBbMl0ubGVuZ3RoLCAwID09IHYyQ29tcFsyXS5sZW5ndGgpIHx8IGdvb2cuc3RyaW5nLmludGVybmFsLmNvbXBhcmVFbGVtZW50c18odjFDb21wWzJdLCB2MkNvbXBbMl0pO1xuICAgICAgdjFTdWIgPSB2MUNvbXBbM107XG4gICAgICB2MlN1YiA9IHYyQ29tcFszXTtcbiAgICB9IHdoaWxlICgwID09IG9yZGVyKTtcbiAgfVxuICByZXR1cm4gb3JkZXI7XG59O1xuZ29vZy5zdHJpbmcuaW50ZXJuYWwuY29tcGFyZUVsZW1lbnRzXyA9IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0KSB7XG4gIHJldHVybiBsZWZ0IDwgcmlnaHQgPyAtMSA6IGxlZnQgPiByaWdodCA/IDEgOiAwO1xufTtcbmdvb2cubGFicyA9IHt9O1xuZ29vZy5sYWJzLnVzZXJBZ2VudCA9IHt9O1xuZ29vZy5sYWJzLnVzZXJBZ2VudC51dGlsID0ge307XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldE5hdGl2ZVVzZXJBZ2VudFN0cmluZygpIHtcbiAgdmFyIG5hdmlnYXRvciA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0TmF2aWdhdG9yKCk7XG4gIGlmIChuYXZpZ2F0b3IpIHtcbiAgICB2YXIgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgICBpZiAodXNlckFnZW50KSB7XG4gICAgICByZXR1cm4gdXNlckFnZW50O1xuICAgIH1cbiAgfVxuICByZXR1cm4gXCJcIjtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0TmF0aXZlVXNlckFnZW50RGF0YSgpIHtcbiAgaWYgKCFtb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50LlVTRV9DTElFTlRfSElOVFMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgbmF2aWdhdG9yID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXROYXZpZ2F0b3IoKTtcbiAgcmV0dXJuIG5hdmlnYXRvciA/IG5hdmlnYXRvci51c2VyQWdlbnREYXRhIHx8IG51bGwgOiBudWxsO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXROYXZpZ2F0b3IoKSB7XG4gIHJldHVybiBnb29nLmdsb2JhbC5uYXZpZ2F0b3I7XG59XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF91c2VyQWdlbnRJbnRlcm5hbCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0TmF0aXZlVXNlckFnZW50U3RyaW5nKCksIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfdXNlckFnZW50RGF0YUludGVybmFsID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXROYXRpdmVVc2VyQWdlbnREYXRhKCk7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldFVzZXJBZ2VudCgpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfdXNlckFnZW50SW50ZXJuYWw7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldFVzZXJBZ2VudERhdGEoKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX3VzZXJBZ2VudERhdGFJbnRlcm5hbDtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnREYXRhQnJhbmQoc3RyKSB7XG4gIHZhciBkYXRhID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXRVc2VyQWdlbnREYXRhKCk7XG4gIHJldHVybiBkYXRhID8gZGF0YS5icmFuZHMuc29tZShmdW5jdGlvbigkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMCkge1xuICAgIHZhciBicmFuZCA9ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIwLmJyYW5kO1xuICAgIHJldHVybiBicmFuZCAmJiAoMCxnb29nLnN0cmluZy5pbnRlcm5hbC5jb250YWlucykoYnJhbmQsIHN0cik7XG4gIH0pIDogITE7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KHN0cikge1xuICByZXR1cm4gKDAsZ29vZy5zdHJpbmcuaW50ZXJuYWwuY29udGFpbnMpKG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0VXNlckFnZW50KCksIHN0cik7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50SWdub3JlQ2FzZShzdHIpIHtcbiAgcmV0dXJuICgwLGdvb2cuc3RyaW5nLmludGVybmFsLmNhc2VJbnNlbnNpdGl2ZUNvbnRhaW5zKShtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldFVzZXJBZ2VudCgpLCBzdHIpO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9leHRyYWN0VmVyc2lvblR1cGxlcyh1c2VyQWdlbnQpIHtcbiAgZm9yICh2YXIgdmVyc2lvblJlZ0V4cCA9IFJlZ0V4cChcIihcXFxcd1tcXFxcdyBdKykvKFteXFxcXHNdKylcXFxccyooPzpcXFxcKCguKj8pXFxcXCkpP1wiLCBcImdcIiksIGRhdGEgPSBbXSwgbWF0Y2g7IG1hdGNoID0gdmVyc2lvblJlZ0V4cC5leGVjKHVzZXJBZ2VudCk7KSB7XG4gICAgZGF0YS5wdXNoKFttYXRjaFsxXSwgbWF0Y2hbMl0sIG1hdGNoWzNdIHx8IHZvaWQgMF0pO1xuICB9XG4gIHJldHVybiBkYXRhO1xufVxuZ29vZy5sYWJzLnVzZXJBZ2VudC51dGlsLkFTU1VNRV9DTElFTlRfSElOVFNfU1VQUE9SVCA9ICExO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC51dGlsLmV4dHJhY3RWZXJzaW9uVHVwbGVzID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9leHRyYWN0VmVyc2lvblR1cGxlcztcbmdvb2cubGFicy51c2VyQWdlbnQudXRpbC5nZXROYXRpdmVVc2VyQWdlbnRTdHJpbmcgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldE5hdGl2ZVVzZXJBZ2VudFN0cmluZztcbmdvb2cubGFicy51c2VyQWdlbnQudXRpbC5nZXRVc2VyQWdlbnQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldFVzZXJBZ2VudDtcbmdvb2cubGFicy51c2VyQWdlbnQudXRpbC5nZXRVc2VyQWdlbnREYXRhID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXRVc2VyQWdlbnREYXRhO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC51dGlsLm1hdGNoVXNlckFnZW50ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudDtcbmdvb2cubGFicy51c2VyQWdlbnQudXRpbC5tYXRjaFVzZXJBZ2VudERhdGFCcmFuZCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnREYXRhQnJhbmQ7XG5nb29nLmxhYnMudXNlckFnZW50LnV0aWwubWF0Y2hVc2VyQWdlbnRJZ25vcmVDYXNlID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudElnbm9yZUNhc2U7XG5nb29nLmxhYnMudXNlckFnZW50LnV0aWwucmVzZXRVc2VyQWdlbnREYXRhID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9yZXNldFVzZXJBZ2VudERhdGEoKSB7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfdXNlckFnZW50RGF0YUludGVybmFsID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXROYXRpdmVVc2VyQWdlbnREYXRhKCk7XG59O1xuZ29vZy5sYWJzLnVzZXJBZ2VudC51dGlsLnNldFVzZXJBZ2VudCA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfc2V0VXNlckFnZW50KHVzZXJBZ2VudCkge1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX3VzZXJBZ2VudEludGVybmFsID0gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHVzZXJBZ2VudCA/IHVzZXJBZ2VudCA6IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0TmF0aXZlVXNlckFnZW50U3RyaW5nKCk7XG59O1xuZ29vZy5sYWJzLnVzZXJBZ2VudC51dGlsLnNldFVzZXJBZ2VudERhdGEgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX3NldFVzZXJBZ2VudERhdGEodXNlckFnZW50RGF0YSkge1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX3VzZXJBZ2VudERhdGFJbnRlcm5hbCA9IHVzZXJBZ2VudERhdGE7XG59O1xudmFyIG1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlWYWx1ZSA9IHtBc3luY1ZhbHVlOmZ1bmN0aW9uKCkge1xufX07XG5tb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50JGhpZ2hFbnRyb3B5JGhpZ2hFbnRyb3B5VmFsdWUuQXN5bmNWYWx1ZS5wcm90b3R5cGUuZ2V0SWZMb2FkZWQgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50JGhpZ2hFbnRyb3B5JGhpZ2hFbnRyb3B5VmFsdWUuQXN5bmNWYWx1ZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlWYWx1ZS5IaWdoRW50cm9weVZhbHVlID0gZnVuY3Rpb24oa2V5KSB7XG4gIHRoaXMua2V5XyA9IGtleTtcbiAgdGhpcy5wcm9taXNlXyA9IHRoaXMudmFsdWVfID0gdm9pZCAwO1xuICB0aGlzLnBlbmRpbmdfID0gITE7XG59O1xubW9kdWxlJGV4cG9ydHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRoaWdoRW50cm9weSRoaWdoRW50cm9weVZhbHVlLkhpZ2hFbnRyb3B5VmFsdWUucHJvdG90eXBlLmdldElmTG9hZGVkID0gZnVuY3Rpb24oKSB7XG4gIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldFVzZXJBZ2VudERhdGEoKSkge1xuICAgIHJldHVybiB0aGlzLnZhbHVlXztcbiAgfVxufTtcbm1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlWYWx1ZS5IaWdoRW50cm9weVZhbHVlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24oKSB7XG4gIHZhciAkanNjb21wJGFzeW5jJHRoaXMgPSB0aGlzLCB1c2VyQWdlbnREYXRhO1xuICByZXR1cm4gJGpzY29tcC5hc3luY0V4ZWN1dGVQcm9taXNlR2VuZXJhdG9yUHJvZ3JhbShmdW5jdGlvbigkanNjb21wJGdlbmVyYXRvciRjb250ZXh0KSB7XG4gICAgaWYgKDEgPT0gJGpzY29tcCRnZW5lcmF0b3IkY29udGV4dC5uZXh0QWRkcmVzcykge1xuICAgICAgdXNlckFnZW50RGF0YSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0VXNlckFnZW50RGF0YSgpO1xuICAgICAgaWYgKCF1c2VyQWdlbnREYXRhKSB7XG4gICAgICAgIHJldHVybiAkanNjb21wJGdlbmVyYXRvciRjb250ZXh0LnJldHVybih2b2lkIDApO1xuICAgICAgfVxuICAgICAgJGpzY29tcCRhc3luYyR0aGlzLnByb21pc2VfIHx8ICgkanNjb21wJGFzeW5jJHRoaXMucGVuZGluZ18gPSAhMCwgJGpzY29tcCRhc3luYyR0aGlzLnByb21pc2VfID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkYXRhVmFsdWVzO1xuICAgICAgICByZXR1cm4gJGpzY29tcC5hc3luY0V4ZWN1dGVQcm9taXNlR2VuZXJhdG9yUHJvZ3JhbShmdW5jdGlvbigkanNjb21wJGdlbmVyYXRvciRjb250ZXh0JDEpIHtcbiAgICAgICAgICBpZiAoMSA9PSAkanNjb21wJGdlbmVyYXRvciRjb250ZXh0JDEubmV4dEFkZHJlc3MpIHtcbiAgICAgICAgICAgIHJldHVybiAkanNjb21wJGdlbmVyYXRvciRjb250ZXh0JDEuc2V0RmluYWxseUJsb2NrKDIpLCAkanNjb21wJGdlbmVyYXRvciRjb250ZXh0JDEueWllbGQodXNlckFnZW50RGF0YS5nZXRIaWdoRW50cm9weVZhbHVlcyhbJGpzY29tcCRhc3luYyR0aGlzLmtleV9dKSwgNCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgyICE9ICRqc2NvbXAkZ2VuZXJhdG9yJGNvbnRleHQkMS5uZXh0QWRkcmVzcykge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGFWYWx1ZXMgPSAkanNjb21wJGdlbmVyYXRvciRjb250ZXh0JDEueWllbGRSZXN1bHQsICRqc2NvbXAkYXN5bmMkdGhpcy52YWx1ZV8gPSBkYXRhVmFsdWVzWyRqc2NvbXAkYXN5bmMkdGhpcy5rZXlfXSwgJGpzY29tcCRnZW5lcmF0b3IkY29udGV4dCQxLnJldHVybigkanNjb21wJGFzeW5jJHRoaXMudmFsdWVfKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgJGpzY29tcCRnZW5lcmF0b3IkY29udGV4dCQxLmVudGVyRmluYWxseUJsb2NrKCk7XG4gICAgICAgICAgJGpzY29tcCRhc3luYyR0aGlzLnBlbmRpbmdfID0gITE7XG4gICAgICAgICAgcmV0dXJuICRqc2NvbXAkZ2VuZXJhdG9yJGNvbnRleHQkMS5sZWF2ZUZpbmFsbHlCbG9jaygwKTtcbiAgICAgICAgfSk7XG4gICAgICB9KCkpO1xuICAgICAgcmV0dXJuICRqc2NvbXAkZ2VuZXJhdG9yJGNvbnRleHQueWllbGQoJGpzY29tcCRhc3luYyR0aGlzLnByb21pc2VfLCAyKTtcbiAgICB9XG4gICAgcmV0dXJuICRqc2NvbXAkZ2VuZXJhdG9yJGNvbnRleHQucmV0dXJuKCRqc2NvbXAkZ2VuZXJhdG9yJGNvbnRleHQueWllbGRSZXN1bHQpO1xuICB9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50JGhpZ2hFbnRyb3B5JGhpZ2hFbnRyb3B5VmFsdWUuSGlnaEVudHJvcHlWYWx1ZS5wcm90b3R5cGUucmVzZXRGb3JUZXN0aW5nID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLnBlbmRpbmdfKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJVbnNhZmUgY2FsbCB0byByZXNldEZvclRlc3RpbmdcIik7XG4gIH1cbiAgdGhpcy52YWx1ZV8gPSB0aGlzLnByb21pc2VfID0gdm9pZCAwO1xuICB0aGlzLnBlbmRpbmdfID0gITE7XG59O1xubW9kdWxlJGV4cG9ydHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRoaWdoRW50cm9weSRoaWdoRW50cm9weVZhbHVlLlZlcnNpb24gPSBmdW5jdGlvbih2ZXJzaW9uU3RyaW5nKSB7XG4gIHRoaXMudmVyc2lvblN0cmluZ18gPSB2ZXJzaW9uU3RyaW5nO1xufTtcbm1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlWYWx1ZS5WZXJzaW9uLnByb3RvdHlwZS50b1ZlcnNpb25TdHJpbmdGb3JMb2dnaW5nID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnZlcnNpb25TdHJpbmdfO1xufTtcbm1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlWYWx1ZS5WZXJzaW9uLnByb3RvdHlwZS5pc0F0TGVhc3QgPSBmdW5jdGlvbih2ZXJzaW9uKSB7XG4gIHJldHVybiAwIDw9ICgwLGdvb2cuc3RyaW5nLmludGVybmFsLmNvbXBhcmVWZXJzaW9ucykodGhpcy52ZXJzaW9uU3RyaW5nXywgdmVyc2lvbik7XG59O1xudmFyIG1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlEYXRhID0ge307XG5tb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50JGhpZ2hFbnRyb3B5JGhpZ2hFbnRyb3B5RGF0YS5mdWxsVmVyc2lvbkxpc3QgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRoaWdoRW50cm9weSRoaWdoRW50cm9weVZhbHVlLkhpZ2hFbnRyb3B5VmFsdWUoXCJmdWxsVmVyc2lvbkxpc3RcIik7XG5tb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50JGhpZ2hFbnRyb3B5JGhpZ2hFbnRyb3B5RGF0YS5wbGF0Zm9ybVZlcnNpb24gPSBuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRoaWdoRW50cm9weSRoaWdoRW50cm9weVZhbHVlLkhpZ2hFbnRyb3B5VmFsdWUoXCJwbGF0Zm9ybVZlcnNpb25cIik7XG5tb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50JGhpZ2hFbnRyb3B5JGhpZ2hFbnRyb3B5RGF0YS5yZXNldEFsbEZvclRlc3RpbmcgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRoaWdoRW50cm9weSRoaWdoRW50cm9weURhdGFfcmVzZXRBbGxGb3JUZXN0aW5nKCkge1xuICBtb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50JGhpZ2hFbnRyb3B5JGhpZ2hFbnRyb3B5RGF0YS5mdWxsVmVyc2lvbkxpc3QucmVzZXRGb3JUZXN0aW5nKCk7XG4gIG1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlEYXRhLnBsYXRmb3JtVmVyc2lvbi5yZXNldEZvclRlc3RpbmcoKTtcbn07XG5nb29nLmxhYnMudXNlckFnZW50LmJyb3dzZXIgPSB7fTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX0JyYW5kID0ge0FORFJPSURfQlJPV1NFUjpcIkFuZHJvaWQgQnJvd3NlclwiLCBDSFJPTUlVTTpcIkNocm9taXVtXCIsIEVER0U6XCJNaWNyb3NvZnQgRWRnZVwiLCBGSVJFRk9YOlwiRmlyZWZveFwiLCBJRTpcIkludGVybmV0IEV4cGxvcmVyXCIsIE9QRVJBOlwiT3BlcmFcIiwgU0FGQVJJOlwiU2FmYXJpXCIsIFNJTEs6XCJTaWxrXCIsfTtcbmdvb2cubGFicy51c2VyQWdlbnQuYnJvd3Nlci5CcmFuZCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfQnJhbmQ7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX3VzZVVzZXJBZ2VudEJyYW5kKCkge1xuICB2YXIgdXNlckFnZW50RGF0YSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0VXNlckFnZW50RGF0YSgpO1xuICByZXR1cm4gISF1c2VyQWdlbnREYXRhICYmIDAgPCB1c2VyQWdlbnREYXRhLmJyYW5kcy5sZW5ndGg7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoT3BlcmEoKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldFVzZXJBZ2VudERhdGEoKSA/ICExIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIk9wZXJhXCIpO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaElFKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXRVc2VyQWdlbnREYXRhKCkgPyAhMSA6IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnQoXCJUcmlkZW50XCIpIHx8IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnQoXCJNU0lFXCIpO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaEVkZ2VIdG1sKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXRVc2VyQWdlbnREYXRhKCkgPyAhMSA6IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnQoXCJFZGdlXCIpO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaEVkZ2VDaHJvbWl1bSgpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfdXNlVXNlckFnZW50QnJhbmQoKSA/IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnREYXRhQnJhbmQobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9CcmFuZC5FREdFKSA6IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnQoXCJFZGcvXCIpO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaE9wZXJhQ2hyb21pdW0oKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX3VzZVVzZXJBZ2VudEJyYW5kKCkgPyBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50RGF0YUJyYW5kKG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfQnJhbmQuT1BFUkEpIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIk9QUlwiKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hGaXJlZm94KCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXRVc2VyQWdlbnREYXRhKCkgPyAhMSA6IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnQoXCJGaXJlZm94XCIpIHx8IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnQoXCJGeGlPU1wiKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hTYWZhcmkoKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX3VzZVVzZXJBZ2VudEJyYW5kKCkgPyAhMSA6IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnQoXCJTYWZhcmlcIikgJiYgIShtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoQ2hyb21lKCkgfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaENvYXN0KCkgfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaE9wZXJhKCkgfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaEVkZ2VIdG1sKCkgfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaEVkZ2VDaHJvbWl1bSgpIHx8IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hPcGVyYUNocm9taXVtKCkgfHwgXG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hGaXJlZm94KCkgfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9pc1NpbGsoKSB8fCBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiQW5kcm9pZFwiKSk7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoQ29hc3QoKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldFVzZXJBZ2VudERhdGEoKSA/ICExIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIkNvYXN0XCIpO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaElvc1dlYnZpZXcoKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldFVzZXJBZ2VudERhdGEoKSA/ICExIDogKG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnQoXCJpUGFkXCIpIHx8IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnQoXCJpUGhvbmVcIikpICYmICFtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoU2FmYXJpKCkgJiYgIW1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hDaHJvbWUoKSAmJiAhbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaENvYXN0KCkgJiYgIW1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hGaXJlZm94KCkgJiYgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIkFwcGxlV2ViS2l0XCIpO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaENocm9tZSgpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfdXNlVXNlckFnZW50QnJhbmQoKSA/IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnREYXRhQnJhbmQobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9CcmFuZC5DSFJPTUlVTSkgOiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIkNocm9tZVwiKSB8fCBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiQ3JpT1NcIikpICYmICFtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoRWRnZUh0bWwoKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hBbmRyb2lkQnJvd3NlcigpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnQoXCJBbmRyb2lkXCIpICYmICEobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaENocm9tZSgpIHx8IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hGaXJlZm94KCkgfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaE9wZXJhKCkgfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9pc1NpbGsoKSk7XG59XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9pc09wZXJhID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaE9wZXJhO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5icm93c2VyLmlzT3BlcmEgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoT3BlcmE7XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9pc0lFID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaElFO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5icm93c2VyLmlzSUUgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoSUU7XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9pc0VkZ2UgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoRWRnZUh0bWw7XG5nb29nLmxhYnMudXNlckFnZW50LmJyb3dzZXIuaXNFZGdlID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaEVkZ2VIdG1sO1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfaXNFZGdlQ2hyb21pdW0gPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoRWRnZUNocm9taXVtO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5icm93c2VyLmlzRWRnZUNocm9taXVtID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaEVkZ2VDaHJvbWl1bTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2lzT3BlcmFDaHJvbWl1bSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hPcGVyYUNocm9taXVtO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5icm93c2VyLmlzT3BlcmFDaHJvbWl1bSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hPcGVyYUNocm9taXVtO1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfaXNGaXJlZm94ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaEZpcmVmb3g7XG5nb29nLmxhYnMudXNlckFnZW50LmJyb3dzZXIuaXNGaXJlZm94ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaEZpcmVmb3g7XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9pc1NhZmFyaSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hTYWZhcmk7XG5nb29nLmxhYnMudXNlckFnZW50LmJyb3dzZXIuaXNTYWZhcmkgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoU2FmYXJpO1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfaXNDb2FzdCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hDb2FzdDtcbmdvb2cubGFicy51c2VyQWdlbnQuYnJvd3Nlci5pc0NvYXN0ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaENvYXN0O1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfaXNJb3NXZWJ2aWV3ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaElvc1dlYnZpZXc7XG5nb29nLmxhYnMudXNlckFnZW50LmJyb3dzZXIuaXNJb3NXZWJ2aWV3ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaElvc1dlYnZpZXc7XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9pc0Nocm9tZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hDaHJvbWU7XG5nb29nLmxhYnMudXNlckFnZW50LmJyb3dzZXIuaXNDaHJvbWUgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoQ2hyb21lO1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfaXNBbmRyb2lkQnJvd3NlciA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hBbmRyb2lkQnJvd3Nlcjtcbmdvb2cubGFicy51c2VyQWdlbnQuYnJvd3Nlci5pc0FuZHJvaWRCcm93c2VyID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaEFuZHJvaWRCcm93c2VyO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9pc1NpbGsoKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiU2lsa1wiKTtcbn1cbmdvb2cubGFicy51c2VyQWdlbnQuYnJvd3Nlci5pc1NpbGsgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2lzU2lsaztcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfY3JlYXRlVmVyc2lvbk1hcCh2ZXJzaW9uVHVwbGVzKSB7XG4gIHZhciB2ZXJzaW9uTWFwID0ge307XG4gIHZlcnNpb25UdXBsZXMuZm9yRWFjaChmdW5jdGlvbih0dXBsZSkge1xuICAgIHZlcnNpb25NYXBbdHVwbGVbMF1dID0gdHVwbGVbMV07XG4gIH0pO1xuICByZXR1cm4gZnVuY3Rpb24oa2V5cykge1xuICAgIHJldHVybiB2ZXJzaW9uTWFwW2tleXMuZmluZChmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBrZXkgaW4gdmVyc2lvbk1hcDtcbiAgICB9KV0gfHwgXCJcIjtcbiAgfTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfZ2V0VmVyc2lvbigpIHtcbiAgdmFyIHVzZXJBZ2VudFN0cmluZyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0VXNlckFnZW50KCk7XG4gIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoSUUoKSkge1xuICAgIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2dldElFVmVyc2lvbih1c2VyQWdlbnRTdHJpbmcpO1xuICB9XG4gIHZhciB2ZXJzaW9uVHVwbGVzID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9leHRyYWN0VmVyc2lvblR1cGxlcyh1c2VyQWdlbnRTdHJpbmcpLCBsb29rVXBWYWx1ZVdpdGhLZXlzID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9jcmVhdGVWZXJzaW9uTWFwKHZlcnNpb25UdXBsZXMpO1xuICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaE9wZXJhKCkpIHtcbiAgICByZXR1cm4gbG9va1VwVmFsdWVXaXRoS2V5cyhbXCJWZXJzaW9uXCIsIFwiT3BlcmFcIl0pO1xuICB9XG4gIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoRWRnZUh0bWwoKSkge1xuICAgIHJldHVybiBsb29rVXBWYWx1ZVdpdGhLZXlzKFtcIkVkZ2VcIl0pO1xuICB9XG4gIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoRWRnZUNocm9taXVtKCkpIHtcbiAgICByZXR1cm4gbG9va1VwVmFsdWVXaXRoS2V5cyhbXCJFZGdcIl0pO1xuICB9XG4gIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoQ2hyb21lKCkpIHtcbiAgICByZXR1cm4gbG9va1VwVmFsdWVXaXRoS2V5cyhbXCJDaHJvbWVcIiwgXCJDcmlPU1wiLCBcIkhlYWRsZXNzQ2hyb21lXCJdKTtcbiAgfVxuICB2YXIgdHVwbGUgPSB2ZXJzaW9uVHVwbGVzWzJdO1xuICByZXR1cm4gdHVwbGUgJiYgdHVwbGVbMV0gfHwgXCJcIjtcbn1cbmdvb2cubGFicy51c2VyQWdlbnQuYnJvd3Nlci5nZXRWZXJzaW9uID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9nZXRWZXJzaW9uO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5icm93c2VyLmlzVmVyc2lvbk9ySGlnaGVyID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9pc1ZlcnNpb25PckhpZ2hlcih2ZXJzaW9uKSB7XG4gIHJldHVybiAwIDw9ICgwLGdvb2cuc3RyaW5nLmludGVybmFsLmNvbXBhcmVWZXJzaW9ucykobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9nZXRWZXJzaW9uKCksIHZlcnNpb24pO1xufTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfZ2V0SUVWZXJzaW9uKHVzZXJBZ2VudCkge1xuICB2YXIgcnYgPSAvcnY6ICooW1xcZFxcLl0qKS8uZXhlYyh1c2VyQWdlbnQpO1xuICBpZiAocnYgJiYgcnZbMV0pIHtcbiAgICByZXR1cm4gcnZbMV07XG4gIH1cbiAgdmFyIHZlcnNpb24gPSBcIlwiLCBtc2llID0gL01TSUUgKyhbXFxkXFwuXSspLy5leGVjKHVzZXJBZ2VudCk7XG4gIGlmIChtc2llICYmIG1zaWVbMV0pIHtcbiAgICB2YXIgdHJpZGVudFZlcnNpb24gPSAvVHJpZGVudFxcLyhcXGQuXFxkKS8uZXhlYyh1c2VyQWdlbnQpO1xuICAgIGlmIChcIjcuMFwiID09IG1zaWVbMV0pIHtcbiAgICAgIGlmICh0cmlkZW50VmVyc2lvbiAmJiB0cmlkZW50VmVyc2lvblsxXSkge1xuICAgICAgICBzd2l0Y2godHJpZGVudFZlcnNpb25bMV0pIHtcbiAgICAgICAgICBjYXNlIFwiNC4wXCI6XG4gICAgICAgICAgICB2ZXJzaW9uID0gXCI4LjBcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCI1LjBcIjpcbiAgICAgICAgICAgIHZlcnNpb24gPSBcIjkuMFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIjYuMFwiOlxuICAgICAgICAgICAgdmVyc2lvbiA9IFwiMTAuMFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIjcuMFwiOlxuICAgICAgICAgICAgdmVyc2lvbiA9IFwiMTEuMFwiO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2ZXJzaW9uID0gXCI3LjBcIjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmVyc2lvbiA9IG1zaWVbMV07XG4gICAgfVxuICB9XG4gIHJldHVybiB2ZXJzaW9uO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9nZXRGdWxsVmVyc2lvbkZyb21Vc2VyQWdlbnRTdHJpbmcoYnJvd3Nlcikge1xuICB2YXIgdXNlckFnZW50U3RyaW5nID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXRVc2VyQWdlbnQoKTtcbiAgaWYgKGJyb3dzZXIgPT09IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfQnJhbmQuSUUpIHtcbiAgICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaElFKCkgPyBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2dldElFVmVyc2lvbih1c2VyQWdlbnRTdHJpbmcpIDogXCJcIjtcbiAgfVxuICB2YXIgdmVyc2lvblR1cGxlcyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZXh0cmFjdFZlcnNpb25UdXBsZXModXNlckFnZW50U3RyaW5nKSwgbG9va1VwVmFsdWVXaXRoS2V5cyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfY3JlYXRlVmVyc2lvbk1hcCh2ZXJzaW9uVHVwbGVzKTtcbiAgc3dpdGNoKGJyb3dzZXIpIHtcbiAgICBjYXNlIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfQnJhbmQuT1BFUkE6XG4gICAgICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9tYXRjaE9wZXJhKCkpIHtcbiAgICAgICAgcmV0dXJuIGxvb2tVcFZhbHVlV2l0aEtleXMoW1wiVmVyc2lvblwiLCBcIk9wZXJhXCJdKTtcbiAgICAgIH1cbiAgICAgIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoT3BlcmFDaHJvbWl1bSgpKSB7XG4gICAgICAgIHJldHVybiBsb29rVXBWYWx1ZVdpdGhLZXlzKFtcIk9QUlwiXSk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfQnJhbmQuRURHRTpcbiAgICAgIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoRWRnZUh0bWwoKSkge1xuICAgICAgICByZXR1cm4gbG9va1VwVmFsdWVXaXRoS2V5cyhbXCJFZGdlXCJdKTtcbiAgICAgIH1cbiAgICAgIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoRWRnZUNocm9taXVtKCkpIHtcbiAgICAgICAgcmV0dXJuIGxvb2tVcFZhbHVlV2l0aEtleXMoW1wiRWRnXCJdKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9CcmFuZC5DSFJPTUlVTTpcbiAgICAgIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoQ2hyb21lKCkpIHtcbiAgICAgICAgcmV0dXJuIGxvb2tVcFZhbHVlV2l0aEtleXMoW1wiQ2hyb21lXCIsIFwiQ3JpT1NcIiwgXCJIZWFkbGVzc0Nocm9tZVwiXSk7XG4gICAgICB9XG4gIH1cbiAgaWYgKGJyb3dzZXIgPT09IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfQnJhbmQuRklSRUZPWCAmJiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoRmlyZWZveCgpIHx8IGJyb3dzZXIgPT09IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfQnJhbmQuU0FGQVJJICYmIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hTYWZhcmkoKSB8fCBicm93c2VyID09PSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX0JyYW5kLkFORFJPSURfQlJPV1NFUiAmJiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoQW5kcm9pZEJyb3dzZXIoKSkge1xuICAgIHZhciB0dXBsZSA9IHZlcnNpb25UdXBsZXNbMl07XG4gICAgcmV0dXJuIHR1cGxlICYmIHR1cGxlWzFdIHx8IFwiXCI7XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX3ZlcnNpb25PZihicm93c2VyKSB7XG4gIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX3VzZVVzZXJBZ2VudEJyYW5kKCkpIHtcbiAgICB2YXIgbWF0Y2hpbmdCcmFuZCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0VXNlckFnZW50RGF0YSgpLmJyYW5kcy5maW5kKGZ1bmN0aW9uKCRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIyKSB7XG4gICAgICByZXR1cm4gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjIuYnJhbmQgPT09IGJyb3dzZXI7XG4gICAgfSk7XG4gICAgaWYgKCFtYXRjaGluZ0JyYW5kIHx8ICFtYXRjaGluZ0JyYW5kLnZlcnNpb24pIHtcbiAgICAgIHJldHVybiBOYU47XG4gICAgfVxuICAgIHZhciB2ZXJzaW9uUGFydHMgPSBtYXRjaGluZ0JyYW5kLnZlcnNpb24uc3BsaXQoXCIuXCIpO1xuICB9IGVsc2Uge1xuICAgIHZhciBmdWxsVmVyc2lvbiA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfZ2V0RnVsbFZlcnNpb25Gcm9tVXNlckFnZW50U3RyaW5nKGJyb3dzZXIpO1xuICAgIGlmIChcIlwiID09PSBmdWxsVmVyc2lvbikge1xuICAgICAgcmV0dXJuIE5hTjtcbiAgICB9XG4gICAgdmVyc2lvblBhcnRzID0gZnVsbFZlcnNpb24uc3BsaXQoXCIuXCIpO1xuICB9XG4gIHJldHVybiAwID09PSB2ZXJzaW9uUGFydHMubGVuZ3RoID8gTmFOIDogTnVtYmVyKHZlcnNpb25QYXJ0c1swXSk7XG59XG5nb29nLmxhYnMudXNlckFnZW50LmJyb3dzZXIudmVyc2lvbk9mID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl92ZXJzaW9uT2Y7XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9IaWdoRW50cm9weUJyYW5kVmVyc2lvbiA9IGZ1bmN0aW9uKGJyYW5kKSB7XG4gIHRoaXMuYnJhbmRfID0gYnJhbmQ7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9IaWdoRW50cm9weUJyYW5kVmVyc2lvbi5wcm90b3R5cGUuZ2V0SWZMb2FkZWQgPSBmdW5jdGlvbigpIHtcbiAgdmFyICRqc2NvbXAkdGhpcyA9IHRoaXMsIGxvYWRlZFZlcnNpb25MaXN0ID0gbW9kdWxlJGV4cG9ydHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRoaWdoRW50cm9weSRoaWdoRW50cm9weURhdGEuZnVsbFZlcnNpb25MaXN0LmdldElmTG9hZGVkKCk7XG4gIGlmICh2b2lkIDAgIT09IGxvYWRlZFZlcnNpb25MaXN0KSB7XG4gICAgdmFyIG1hdGNoaW5nQnJhbmQgPSBsb2FkZWRWZXJzaW9uTGlzdC5maW5kKGZ1bmN0aW9uKCRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXI0KSB7XG4gICAgICByZXR1cm4gJGpzY29tcCR0aGlzLmJyYW5kXyA9PT0gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjQuYnJhbmQ7XG4gICAgfSk7XG4gICAgZ29vZy5hc3NlcnRzLmFzc2VydEV4aXN0cyhtYXRjaGluZ0JyYW5kKTtcbiAgICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlWYWx1ZS5WZXJzaW9uKG1hdGNoaW5nQnJhbmQudmVyc2lvbik7XG4gIH1cbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX0hpZ2hFbnRyb3B5QnJhbmRWZXJzaW9uLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24oKSB7XG4gIHZhciAkanNjb21wJGFzeW5jJHRoaXMgPSB0aGlzLCBsb2FkZWRWZXJzaW9uTGlzdCwgbWF0Y2hpbmdCcmFuZDtcbiAgcmV0dXJuICRqc2NvbXAuYXN5bmNFeGVjdXRlUHJvbWlzZUdlbmVyYXRvclByb2dyYW0oZnVuY3Rpb24oJGpzY29tcCRnZW5lcmF0b3IkY29udGV4dCkge1xuICAgIGlmICgxID09ICRqc2NvbXAkZ2VuZXJhdG9yJGNvbnRleHQubmV4dEFkZHJlc3MpIHtcbiAgICAgIHJldHVybiAkanNjb21wJGdlbmVyYXRvciRjb250ZXh0LnlpZWxkKG1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlEYXRhLmZ1bGxWZXJzaW9uTGlzdC5sb2FkKCksIDIpO1xuICAgIH1cbiAgICBsb2FkZWRWZXJzaW9uTGlzdCA9ICRqc2NvbXAkZ2VuZXJhdG9yJGNvbnRleHQueWllbGRSZXN1bHQ7XG4gICAgbWF0Y2hpbmdCcmFuZCA9IGxvYWRlZFZlcnNpb25MaXN0LmZpbmQoZnVuY3Rpb24oJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjYpIHtcbiAgICAgIHJldHVybiAkanNjb21wJGFzeW5jJHRoaXMuYnJhbmRfID09PSAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyNi5icmFuZDtcbiAgICB9KTtcbiAgICBnb29nLmFzc2VydHMuYXNzZXJ0RXhpc3RzKG1hdGNoaW5nQnJhbmQpO1xuICAgIHJldHVybiAkanNjb21wJGdlbmVyYXRvciRjb250ZXh0LnJldHVybihuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRoaWdoRW50cm9weSRoaWdoRW50cm9weVZhbHVlLlZlcnNpb24obWF0Y2hpbmdCcmFuZC52ZXJzaW9uKSk7XG4gIH0pO1xufTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX1VzZXJBZ2VudFN0cmluZ0ZhbGxiYWNrQnJhbmRWZXJzaW9uID0gZnVuY3Rpb24odmVyc2lvblN0cmluZykge1xuICB0aGlzLnZlcnNpb25fID0gbmV3IG1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlWYWx1ZS5WZXJzaW9uKHZlcnNpb25TdHJpbmcpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfVXNlckFnZW50U3RyaW5nRmFsbGJhY2tCcmFuZFZlcnNpb24ucHJvdG90eXBlLmdldElmTG9hZGVkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnZlcnNpb25fO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfVXNlckFnZW50U3RyaW5nRmFsbGJhY2tCcmFuZFZlcnNpb24ucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgdmFyICRqc2NvbXAkYXN5bmMkdGhpcyA9IHRoaXM7XG4gIHJldHVybiAkanNjb21wLmFzeW5jRXhlY3V0ZVByb21pc2VHZW5lcmF0b3JQcm9ncmFtKGZ1bmN0aW9uKCRqc2NvbXAkZ2VuZXJhdG9yJGNvbnRleHQpIHtcbiAgICByZXR1cm4gJGpzY29tcCRnZW5lcmF0b3IkY29udGV4dC5yZXR1cm4oJGpzY29tcCRhc3luYyR0aGlzLnZlcnNpb25fKTtcbiAgfSk7XG59O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9mdWxsVmVyc2lvbk9mKGJyb3dzZXIpIHtcbiAgaWYgKCFtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX3VzZVVzZXJBZ2VudEJyYW5kKCkgfHwgMTAxID4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl92ZXJzaW9uT2YobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9CcmFuZC5DSFJPTUlVTSkpIHtcbiAgICB2YXIgZnVsbFZlcnNpb25Gcm9tVXNlckFnZW50U3RyaW5nID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9nZXRGdWxsVmVyc2lvbkZyb21Vc2VyQWdlbnRTdHJpbmcoYnJvd3Nlcik7XG4gICAgcmV0dXJuIFwiXCIgPT09IGZ1bGxWZXJzaW9uRnJvbVVzZXJBZ2VudFN0cmluZyA/IHZvaWQgMCA6IG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX1VzZXJBZ2VudFN0cmluZ0ZhbGxiYWNrQnJhbmRWZXJzaW9uKGZ1bGxWZXJzaW9uRnJvbVVzZXJBZ2VudFN0cmluZyk7XG4gIH1cbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0VXNlckFnZW50RGF0YSgpLmJyYW5kcy5maW5kKGZ1bmN0aW9uKCRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXI4KSB7XG4gICAgcmV0dXJuICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXI4LmJyYW5kID09PSBicm93c2VyO1xuICB9KSA/IG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX0hpZ2hFbnRyb3B5QnJhbmRWZXJzaW9uKGJyb3dzZXIpIDogdm9pZCAwO1xufVxuZ29vZy5sYWJzLnVzZXJBZ2VudC5icm93c2VyLmZ1bGxWZXJzaW9uT2YgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2Z1bGxWZXJzaW9uT2Y7XG5nb29nLmxhYnMudXNlckFnZW50LmJyb3dzZXIuZ2V0VmVyc2lvblN0cmluZ0ZvckxvZ2dpbmcgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX2dldFZlcnNpb25TdHJpbmdGb3JMb2dnaW5nKGJyb3dzZXIpIHtcbiAgaWYgKG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfdXNlVXNlckFnZW50QnJhbmQoKSkge1xuICAgIHZhciBmdWxsVmVyc2lvbk9iaiA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfZnVsbFZlcnNpb25PZihicm93c2VyKTtcbiAgICBpZiAoZnVsbFZlcnNpb25PYmopIHtcbiAgICAgIHZhciBmdWxsVmVyc2lvbiA9IGZ1bGxWZXJzaW9uT2JqLmdldElmTG9hZGVkKCk7XG4gICAgICBpZiAoZnVsbFZlcnNpb24pIHtcbiAgICAgICAgcmV0dXJuIGZ1bGxWZXJzaW9uLnRvVmVyc2lvblN0cmluZ0ZvckxvZ2dpbmcoKTtcbiAgICAgIH1cbiAgICAgIHZhciBtYXRjaGluZ0JyYW5kID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXRVc2VyQWdlbnREYXRhKCkuYnJhbmRzLmZpbmQoZnVuY3Rpb24oJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjEwKSB7XG4gICAgICAgIHJldHVybiAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMTAuYnJhbmQgPT09IGJyb3dzZXI7XG4gICAgICB9KTtcbiAgICAgIGdvb2cuYXNzZXJ0cy5hc3NlcnRFeGlzdHMobWF0Y2hpbmdCcmFuZCk7XG4gICAgICByZXR1cm4gbWF0Y2hpbmdCcmFuZC52ZXJzaW9uO1xuICAgIH1cbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkYnJvd3Nlcl9nZXRGdWxsVmVyc2lvbkZyb21Vc2VyQWdlbnRTdHJpbmcoYnJvd3Nlcik7XG59O1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5lbmdpbmUgPSB7fTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGVuZ2luZV9pc1ByZXN0bygpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnQoXCJQcmVzdG9cIik7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRlbmdpbmVfaXNUcmlkZW50KCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIlRyaWRlbnRcIikgfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIk1TSUVcIik7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRlbmdpbmVfaXNFZGdlKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIkVkZ2VcIik7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRlbmdpbmVfaXNXZWJLaXQoKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50SWdub3JlQ2FzZShcIldlYktpdFwiKSAmJiAhbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkZW5naW5lX2lzRWRnZSgpO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkZW5naW5lX2lzR2Vja28oKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiR2Vja29cIikgJiYgIW1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGVuZ2luZV9pc1dlYktpdCgpICYmICFtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRlbmdpbmVfaXNUcmlkZW50KCkgJiYgIW1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGVuZ2luZV9pc0VkZ2UoKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGVuZ2luZV9nZXRWZXJzaW9uKCkge1xuICB2YXIgdXNlckFnZW50U3RyaW5nID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9nZXRVc2VyQWdlbnQoKTtcbiAgaWYgKHVzZXJBZ2VudFN0cmluZykge1xuICAgIHZhciB0dXBsZXMgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2V4dHJhY3RWZXJzaW9uVHVwbGVzKHVzZXJBZ2VudFN0cmluZyksIGVuZ2luZVR1cGxlID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkZW5naW5lX2dldEVuZ2luZVR1cGxlKHR1cGxlcyk7XG4gICAgaWYgKGVuZ2luZVR1cGxlKSB7XG4gICAgICByZXR1cm4gXCJHZWNrb1wiID09IGVuZ2luZVR1cGxlWzBdID8gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkZW5naW5lX2dldFZlcnNpb25Gb3JLZXkodHVwbGVzLCBcIkZpcmVmb3hcIikgOiBlbmdpbmVUdXBsZVsxXTtcbiAgICB9XG4gICAgdmFyIGJyb3dzZXJUdXBsZSA9IHR1cGxlc1swXSwgaW5mbztcbiAgICBpZiAoYnJvd3NlclR1cGxlICYmIChpbmZvID0gYnJvd3NlclR1cGxlWzJdKSkge1xuICAgICAgdmFyIG1hdGNoID0gL1RyaWRlbnRcXC8oW15cXHM7XSspLy5leGVjKGluZm8pO1xuICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHJldHVybiBtYXRjaFsxXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRlbmdpbmVfZ2V0RW5naW5lVHVwbGUodHVwbGVzKSB7XG4gIGlmICghbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkZW5naW5lX2lzRWRnZSgpKSB7XG4gICAgcmV0dXJuIHR1cGxlc1sxXTtcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IHR1cGxlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciB0dXBsZSA9IHR1cGxlc1tpXTtcbiAgICBpZiAoXCJFZGdlXCIgPT0gdHVwbGVbMF0pIHtcbiAgICAgIHJldHVybiB0dXBsZTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGVuZ2luZV9nZXRWZXJzaW9uRm9yS2V5KHR1cGxlcywga2V5KSB7XG4gIHZhciBwYWlyID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZmluZCh0dXBsZXMsIGZ1bmN0aW9uKHBhaXIpIHtcbiAgICByZXR1cm4ga2V5ID09IHBhaXJbMF07XG4gIH0pO1xuICByZXR1cm4gcGFpciAmJiBwYWlyWzFdIHx8IFwiXCI7XG59XG5nb29nLmxhYnMudXNlckFnZW50LmVuZ2luZS5nZXRWZXJzaW9uID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkZW5naW5lX2dldFZlcnNpb247XG5nb29nLmxhYnMudXNlckFnZW50LmVuZ2luZS5pc0VkZ2UgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRlbmdpbmVfaXNFZGdlO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5lbmdpbmUuaXNHZWNrbyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGVuZ2luZV9pc0dlY2tvO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5lbmdpbmUuaXNQcmVzdG8gPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRlbmdpbmVfaXNQcmVzdG87XG5nb29nLmxhYnMudXNlckFnZW50LmVuZ2luZS5pc1RyaWRlbnQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRlbmdpbmVfaXNUcmlkZW50O1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5lbmdpbmUuaXNWZXJzaW9uT3JIaWdoZXIgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRlbmdpbmVfaXNWZXJzaW9uT3JIaWdoZXIodmVyc2lvbikge1xuICByZXR1cm4gMCA8PSBnb29nLnN0cmluZy5pbnRlcm5hbC5jb21wYXJlVmVyc2lvbnMobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkZW5naW5lX2dldFZlcnNpb24oKSwgdmVyc2lvbik7XG59O1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5lbmdpbmUuaXNXZWJLaXQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRlbmdpbmVfaXNXZWJLaXQ7XG5nb29nLmxhYnMudXNlckFnZW50LnBsYXRmb3JtID0ge307XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0FuZHJvaWQoKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiQW5kcm9pZFwiKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzSXBvZCgpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfbWF0Y2hVc2VyQWdlbnQoXCJpUG9kXCIpO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNJcGhvbmUoKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiaVBob25lXCIpICYmICFtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiaVBvZFwiKSAmJiAhbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcImlQYWRcIik7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0lwYWQoKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiaVBhZFwiKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzSW9zKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNJcGhvbmUoKSB8fCBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0lwYWQoKSB8fCBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0lwb2QoKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzTWFjaW50b3NoKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkdXRpbF9tYXRjaFVzZXJBZ2VudChcIk1hY2ludG9zaFwiKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzTGludXgoKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiTGludXhcIik7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc1dpbmRvd3MoKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiV2luZG93c1wiKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzQ2hyb21lT1MoKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiQ3JPU1wiKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzS2FpT1MoKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50SWdub3JlQ2FzZShcIkthaU9TXCIpO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1fZ2V0VmVyc2lvbigpIHtcbiAgdmFyIHVzZXJBZ2VudFN0cmluZyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0VXNlckFnZW50KCksIHZlcnNpb24gPSBcIlwiO1xuICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNXaW5kb3dzKCkpIHtcbiAgICB2YXIgcmUgPSAvV2luZG93cyAoPzpOVHxQaG9uZSkgKFswLTkuXSspLztcbiAgICB2YXIgbWF0Y2ggPSByZS5leGVjKHVzZXJBZ2VudFN0cmluZyk7XG4gICAgdmVyc2lvbiA9IG1hdGNoID8gbWF0Y2hbMV0gOiBcIjAuMFwiO1xuICB9IGVsc2Uge1xuICAgIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0lvcygpKSB7XG4gICAgICByZSA9IC8oPzppUGhvbmV8aVBvZHxpUGFkfENQVSlcXHMrT1NcXHMrKFxcUyspLztcbiAgICAgIHZhciBtYXRjaCQzMyA9IHJlLmV4ZWModXNlckFnZW50U3RyaW5nKTtcbiAgICAgIHZlcnNpb24gPSBtYXRjaCQzMyAmJiBtYXRjaCQzM1sxXS5yZXBsYWNlKC9fL2csIFwiLlwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzTWFjaW50b3NoKCkpIHtcbiAgICAgICAgcmUgPSAvTWFjIE9TIFggKFswLTlfLl0rKS87XG4gICAgICAgIHZhciBtYXRjaCQzNCA9IHJlLmV4ZWModXNlckFnZW50U3RyaW5nKTtcbiAgICAgICAgdmVyc2lvbiA9IG1hdGNoJDM0ID8gbWF0Y2gkMzRbMV0ucmVwbGFjZSgvXy9nLCBcIi5cIikgOiBcIjEwXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNLYWlPUygpKSB7XG4gICAgICAgICAgcmUgPSAvKD86S2FpT1MpXFwvKFxcUyspL2k7XG4gICAgICAgICAgdmFyIG1hdGNoJDM1ID0gcmUuZXhlYyh1c2VyQWdlbnRTdHJpbmcpO1xuICAgICAgICAgIHZlcnNpb24gPSBtYXRjaCQzNSAmJiBtYXRjaCQzNVsxXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNBbmRyb2lkKCkpIHtcbiAgICAgICAgICAgIHJlID0gL0FuZHJvaWRcXHMrKFteXFwpO10rKShcXCl8OykvO1xuICAgICAgICAgICAgdmFyIG1hdGNoJDM2ID0gcmUuZXhlYyh1c2VyQWdlbnRTdHJpbmcpO1xuICAgICAgICAgICAgdmVyc2lvbiA9IG1hdGNoJDM2ICYmIG1hdGNoJDM2WzFdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNDaHJvbWVPUygpKSB7XG4gICAgICAgICAgICAgIHJlID0gLyg/OkNyT1NcXHMrKD86aTY4Nnx4ODZfNjQpXFxzKyhbMC05Ll0rKSkvO1xuICAgICAgICAgICAgICB2YXIgbWF0Y2gkMzcgPSByZS5leGVjKHVzZXJBZ2VudFN0cmluZyk7XG4gICAgICAgICAgICAgIHZlcnNpb24gPSBtYXRjaCQzNyAmJiBtYXRjaCQzN1sxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZlcnNpb24gfHwgXCJcIjtcbn1cbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9QbGF0Zm9ybVZlcnNpb24gPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9QbGF0Zm9ybVZlcnNpb24ucHJvdG90eXBlLmdldElmTG9hZGVkID0gZnVuY3Rpb24oKSB7XG4gIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldFVzZXJBZ2VudERhdGEoKSkge1xuICAgIHZhciBsb2FkZWRQbGF0Zm9ybVZlcnNpb24gPSBtb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50JGhpZ2hFbnRyb3B5JGhpZ2hFbnRyb3B5RGF0YS5wbGF0Zm9ybVZlcnNpb24uZ2V0SWZMb2FkZWQoKTtcbiAgICBpZiAodm9pZCAwICE9PSBsb2FkZWRQbGF0Zm9ybVZlcnNpb24pIHtcbiAgICAgIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRoaWdoRW50cm9weSRoaWdoRW50cm9weVZhbHVlLlZlcnNpb24obG9hZGVkUGxhdGZvcm1WZXJzaW9uKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRnb29nJGxhYnMkdXNlckFnZW50JGhpZ2hFbnRyb3B5JGhpZ2hFbnRyb3B5VmFsdWUuVmVyc2lvbihtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9nZXRWZXJzaW9uKCkpO1xuICB9XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1fUGxhdGZvcm1WZXJzaW9uLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24oKSB7XG4gIHZhciBKU0NvbXBpbGVyX3RlbXBfY29uc3Q7XG4gIHJldHVybiAkanNjb21wLmFzeW5jRXhlY3V0ZVByb21pc2VHZW5lcmF0b3JQcm9ncmFtKGZ1bmN0aW9uKCRqc2NvbXAkZ2VuZXJhdG9yJGNvbnRleHQpIHtcbiAgICBpZiAoMSA9PSAkanNjb21wJGdlbmVyYXRvciRjb250ZXh0Lm5leHRBZGRyZXNzKSB7XG4gICAgICBpZiAoIW1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHV0aWxfZ2V0VXNlckFnZW50RGF0YSgpKSB7XG4gICAgICAgIHJldHVybiAkanNjb21wJGdlbmVyYXRvciRjb250ZXh0LnJldHVybihuZXcgbW9kdWxlJGV4cG9ydHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRoaWdoRW50cm9weSRoaWdoRW50cm9weVZhbHVlLlZlcnNpb24obW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1fZ2V0VmVyc2lvbigpKSk7XG4gICAgICAgIHJldHVybiAkanNjb21wJGdlbmVyYXRvciRjb250ZXh0Lmp1bXBUbygwKTtcbiAgICAgIH1cbiAgICAgIEpTQ29tcGlsZXJfdGVtcF9jb25zdCA9IG1vZHVsZSRleHBvcnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkaGlnaEVudHJvcHkkaGlnaEVudHJvcHlWYWx1ZS5WZXJzaW9uO1xuICAgICAgcmV0dXJuICRqc2NvbXAkZ2VuZXJhdG9yJGNvbnRleHQueWllbGQobW9kdWxlJGV4cG9ydHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRoaWdoRW50cm9weSRoaWdoRW50cm9weURhdGEucGxhdGZvcm1WZXJzaW9uLmxvYWQoKSwgMyk7XG4gICAgfVxuICAgIHJldHVybiAkanNjb21wJGdlbmVyYXRvciRjb250ZXh0LnJldHVybihuZXcgSlNDb21waWxlcl90ZW1wX2NvbnN0KCRqc2NvbXAkZ2VuZXJhdG9yJGNvbnRleHQueWllbGRSZXN1bHQpKTtcbiAgfSk7XG59O1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX3ZlcnNpb24gPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1fUGxhdGZvcm1WZXJzaW9uKCk7XG5nb29nLmxhYnMudXNlckFnZW50LnBsYXRmb3JtLmdldFZlcnNpb24gPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9nZXRWZXJzaW9uO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5wbGF0Zm9ybS5pc0FuZHJvaWQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0FuZHJvaWQ7XG5nb29nLmxhYnMudXNlckFnZW50LnBsYXRmb3JtLmlzQ2hyb21lT1MgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0Nocm9tZU9TO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5wbGF0Zm9ybS5pc0Nocm9tZWNhc3QgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0Nocm9tZWNhc3QoKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiQ3JLZXlcIik7XG59O1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5wbGF0Zm9ybS5pc0lvcyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzSW9zO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5wbGF0Zm9ybS5pc0lwYWQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0lwYWQ7XG5nb29nLmxhYnMudXNlckFnZW50LnBsYXRmb3JtLmlzSXBob25lID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNJcGhvbmU7XG5nb29nLmxhYnMudXNlckFnZW50LnBsYXRmb3JtLmlzSXBvZCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzSXBvZDtcbmdvb2cubGFicy51c2VyQWdlbnQucGxhdGZvcm0uaXNLYWlPUyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzS2FpT1M7XG5nb29nLmxhYnMudXNlckFnZW50LnBsYXRmb3JtLmlzTGludXggPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0xpbnV4O1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5wbGF0Zm9ybS5pc01hY2ludG9zaCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzTWFjaW50b3NoO1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5wbGF0Zm9ybS5pc1ZlcnNpb25PckhpZ2hlciA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzVmVyc2lvbk9ySGlnaGVyKHZlcnNpb24pIHtcbiAgcmV0dXJuIDAgPD0gZ29vZy5zdHJpbmcuaW50ZXJuYWwuY29tcGFyZVZlcnNpb25zKG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2dldFZlcnNpb24oKSwgdmVyc2lvbik7XG59O1xuZ29vZy5sYWJzLnVzZXJBZ2VudC5wbGF0Zm9ybS5pc1dpbmRvd3MgPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc1dpbmRvd3M7XG5nb29nLmxhYnMudXNlckFnZW50LnBsYXRmb3JtLnZlcnNpb24gPSBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV92ZXJzaW9uO1xuZ29vZy5yZWZsZWN0ID0ge307XG5nb29nLnJlZmxlY3Qub2JqZWN0ID0gZnVuY3Rpb24odHlwZSwgb2JqZWN0KSB7XG4gIHJldHVybiBvYmplY3Q7XG59O1xuZ29vZy5yZWZsZWN0Lm9iamVjdFByb3BlcnR5ID0gZnVuY3Rpb24ocHJvcCwgb2JqZWN0KSB7XG4gIHJldHVybiBwcm9wO1xufTtcbmdvb2cucmVmbGVjdC5zaW5rVmFsdWUgPSBmdW5jdGlvbih4KSB7XG4gIGdvb2cucmVmbGVjdC5zaW5rVmFsdWVbXCIgXCJdKHgpO1xuICByZXR1cm4geDtcbn07XG5nb29nLnJlZmxlY3Quc2lua1ZhbHVlW1wiIFwiXSA9IGdvb2cubnVsbEZ1bmN0aW9uO1xuZ29vZy5yZWZsZWN0LmNhbkFjY2Vzc1Byb3BlcnR5ID0gZnVuY3Rpb24ob2JqLCBwcm9wKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGdvb2cucmVmbGVjdC5zaW5rVmFsdWUob2JqW3Byb3BdKSwgITA7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgfVxuICByZXR1cm4gITE7XG59O1xuZ29vZy5yZWZsZWN0LmNhY2hlID0gZnVuY3Rpb24oY2FjaGVPYmosIGtleSwgdmFsdWVGbiwgb3B0X2tleUZuKSB7XG4gIHZhciBzdG9yZWRLZXkgPSBvcHRfa2V5Rm4gPyBvcHRfa2V5Rm4oa2V5KSA6IGtleTtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjYWNoZU9iaiwgc3RvcmVkS2V5KSA/IGNhY2hlT2JqW3N0b3JlZEtleV0gOiBjYWNoZU9ialtzdG9yZWRLZXldID0gdmFsdWVGbihrZXkpO1xufTtcbmdvb2cudXNlckFnZW50ID0ge307XG5nb29nLnVzZXJBZ2VudC5BU1NVTUVfSUUgPSAhMTtcbmdvb2cudXNlckFnZW50LkFTU1VNRV9FREdFID0gITE7XG5nb29nLnVzZXJBZ2VudC5BU1NVTUVfR0VDS08gPSAhMTtcbmdvb2cudXNlckFnZW50LkFTU1VNRV9XRUJLSVQgPSAhMTtcbmdvb2cudXNlckFnZW50LkFTU1VNRV9NT0JJTEVfV0VCS0lUID0gITE7XG5nb29nLnVzZXJBZ2VudC5BU1NVTUVfT1BFUkEgPSAhMTtcbmdvb2cudXNlckFnZW50LkFTU1VNRV9BTllfVkVSU0lPTiA9ICExO1xuZ29vZy51c2VyQWdlbnQuQlJPV1NFUl9LTk9XTl8gPSBnb29nLnVzZXJBZ2VudC5BU1NVTUVfSUUgfHwgZ29vZy51c2VyQWdlbnQuQVNTVU1FX0VER0UgfHwgZ29vZy51c2VyQWdlbnQuQVNTVU1FX0dFQ0tPIHx8IGdvb2cudXNlckFnZW50LkFTU1VNRV9NT0JJTEVfV0VCS0lUIHx8IGdvb2cudXNlckFnZW50LkFTU1VNRV9XRUJLSVQgfHwgZ29vZy51c2VyQWdlbnQuQVNTVU1FX09QRVJBO1xuZ29vZy51c2VyQWdlbnQuZ2V0VXNlckFnZW50U3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX2dldFVzZXJBZ2VudCgpO1xufTtcbmdvb2cudXNlckFnZW50LmdldE5hdmlnYXRvclR5cGVkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBnb29nLmdsb2JhbC5uYXZpZ2F0b3IgfHwgbnVsbDtcbn07XG5nb29nLnVzZXJBZ2VudC5nZXROYXZpZ2F0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGdvb2cudXNlckFnZW50LmdldE5hdmlnYXRvclR5cGVkKCk7XG59O1xuZ29vZy51c2VyQWdlbnQuT1BFUkEgPSBnb29nLnVzZXJBZ2VudC5CUk9XU0VSX0tOT1dOXyA/IGdvb2cudXNlckFnZW50LkFTU1VNRV9PUEVSQSA6IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hPcGVyYSgpO1xuZ29vZy51c2VyQWdlbnQuSUUgPSBnb29nLnVzZXJBZ2VudC5CUk9XU0VSX0tOT1dOXyA/IGdvb2cudXNlckFnZW50LkFTU1VNRV9JRSA6IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JGJyb3dzZXJfbWF0Y2hJRSgpO1xuZ29vZy51c2VyQWdlbnQuRURHRSA9IGdvb2cudXNlckFnZW50LkJST1dTRVJfS05PV05fID8gZ29vZy51c2VyQWdlbnQuQVNTVU1FX0VER0UgOiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRlbmdpbmVfaXNFZGdlKCk7XG5nb29nLnVzZXJBZ2VudC5FREdFX09SX0lFID0gZ29vZy51c2VyQWdlbnQuRURHRSB8fCBnb29nLnVzZXJBZ2VudC5JRTtcbmdvb2cudXNlckFnZW50LkdFQ0tPID0gZ29vZy51c2VyQWdlbnQuQlJPV1NFUl9LTk9XTl8gPyBnb29nLnVzZXJBZ2VudC5BU1NVTUVfR0VDS08gOiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRlbmdpbmVfaXNHZWNrbygpO1xuZ29vZy51c2VyQWdlbnQuV0VCS0lUID0gZ29vZy51c2VyQWdlbnQuQlJPV1NFUl9LTk9XTl8gPyBnb29nLnVzZXJBZ2VudC5BU1NVTUVfV0VCS0lUIHx8IGdvb2cudXNlckFnZW50LkFTU1VNRV9NT0JJTEVfV0VCS0lUIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkZW5naW5lX2lzV2ViS2l0KCk7XG5nb29nLnVzZXJBZ2VudC5pc01vYmlsZV8gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGdvb2cudXNlckFnZW50LldFQktJVCAmJiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCR1dGlsX21hdGNoVXNlckFnZW50KFwiTW9iaWxlXCIpO1xufTtcbmdvb2cudXNlckFnZW50Lk1PQklMRSA9IGdvb2cudXNlckFnZW50LkFTU1VNRV9NT0JJTEVfV0VCS0lUIHx8IGdvb2cudXNlckFnZW50LmlzTW9iaWxlXygpO1xuZ29vZy51c2VyQWdlbnQuU0FGQVJJID0gZ29vZy51c2VyQWdlbnQuV0VCS0lUO1xuZ29vZy51c2VyQWdlbnQuZGV0ZXJtaW5lUGxhdGZvcm1fID0gZnVuY3Rpb24oKSB7XG4gIHZhciBuYXZpZ2F0b3IgPSBnb29nLnVzZXJBZ2VudC5nZXROYXZpZ2F0b3JUeXBlZCgpO1xuICByZXR1cm4gbmF2aWdhdG9yICYmIG5hdmlnYXRvci5wbGF0Zm9ybSB8fCBcIlwiO1xufTtcbmdvb2cudXNlckFnZW50LlBMQVRGT1JNID0gZ29vZy51c2VyQWdlbnQuZGV0ZXJtaW5lUGxhdGZvcm1fKCk7XG5nb29nLnVzZXJBZ2VudC5BU1NVTUVfTUFDID0gITE7XG5nb29nLnVzZXJBZ2VudC5BU1NVTUVfV0lORE9XUyA9ICExO1xuZ29vZy51c2VyQWdlbnQuQVNTVU1FX0xJTlVYID0gITE7XG5nb29nLnVzZXJBZ2VudC5BU1NVTUVfWDExID0gITE7XG5nb29nLnVzZXJBZ2VudC5BU1NVTUVfQU5EUk9JRCA9ICExO1xuZ29vZy51c2VyQWdlbnQuQVNTVU1FX0lQSE9ORSA9ICExO1xuZ29vZy51c2VyQWdlbnQuQVNTVU1FX0lQQUQgPSAhMTtcbmdvb2cudXNlckFnZW50LkFTU1VNRV9JUE9EID0gITE7XG5nb29nLnVzZXJBZ2VudC5BU1NVTUVfS0FJT1MgPSAhMTtcbmdvb2cudXNlckFnZW50LlBMQVRGT1JNX0tOT1dOXyA9IGdvb2cudXNlckFnZW50LkFTU1VNRV9NQUMgfHwgZ29vZy51c2VyQWdlbnQuQVNTVU1FX1dJTkRPV1MgfHwgZ29vZy51c2VyQWdlbnQuQVNTVU1FX0xJTlVYIHx8IGdvb2cudXNlckFnZW50LkFTU1VNRV9YMTEgfHwgZ29vZy51c2VyQWdlbnQuQVNTVU1FX0FORFJPSUQgfHwgZ29vZy51c2VyQWdlbnQuQVNTVU1FX0lQSE9ORSB8fCBnb29nLnVzZXJBZ2VudC5BU1NVTUVfSVBBRCB8fCBnb29nLnVzZXJBZ2VudC5BU1NVTUVfSVBPRDtcbmdvb2cudXNlckFnZW50Lk1BQyA9IGdvb2cudXNlckFnZW50LlBMQVRGT1JNX0tOT1dOXyA/IGdvb2cudXNlckFnZW50LkFTU1VNRV9NQUMgOiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc01hY2ludG9zaCgpO1xuZ29vZy51c2VyQWdlbnQuV0lORE9XUyA9IGdvb2cudXNlckFnZW50LlBMQVRGT1JNX0tOT1dOXyA/IGdvb2cudXNlckFnZW50LkFTU1VNRV9XSU5ET1dTIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNXaW5kb3dzKCk7XG5nb29nLnVzZXJBZ2VudC5pc0xlZ2FjeUxpbnV4XyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNMaW51eCgpIHx8IG1vZHVsZSRjb250ZW50cyRnb29nJGxhYnMkdXNlckFnZW50JHBsYXRmb3JtX2lzQ2hyb21lT1MoKTtcbn07XG5nb29nLnVzZXJBZ2VudC5MSU5VWCA9IGdvb2cudXNlckFnZW50LlBMQVRGT1JNX0tOT1dOXyA/IGdvb2cudXNlckFnZW50LkFTU1VNRV9MSU5VWCA6IGdvb2cudXNlckFnZW50LmlzTGVnYWN5TGludXhfKCk7XG5nb29nLnVzZXJBZ2VudC5pc1gxMV8gPSBmdW5jdGlvbigpIHtcbiAgdmFyIG5hdmlnYXRvciA9IGdvb2cudXNlckFnZW50LmdldE5hdmlnYXRvclR5cGVkKCk7XG4gIHJldHVybiAhIW5hdmlnYXRvciAmJiBnb29nLnN0cmluZy5pbnRlcm5hbC5jb250YWlucyhuYXZpZ2F0b3IuYXBwVmVyc2lvbiB8fCBcIlwiLCBcIlgxMVwiKTtcbn07XG5nb29nLnVzZXJBZ2VudC5YMTEgPSBnb29nLnVzZXJBZ2VudC5QTEFURk9STV9LTk9XTl8gPyBnb29nLnVzZXJBZ2VudC5BU1NVTUVfWDExIDogZ29vZy51c2VyQWdlbnQuaXNYMTFfKCk7XG5nb29nLnVzZXJBZ2VudC5BTkRST0lEID0gZ29vZy51c2VyQWdlbnQuUExBVEZPUk1fS05PV05fID8gZ29vZy51c2VyQWdlbnQuQVNTVU1FX0FORFJPSUQgOiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0FuZHJvaWQoKTtcbmdvb2cudXNlckFnZW50LklQSE9ORSA9IGdvb2cudXNlckFnZW50LlBMQVRGT1JNX0tOT1dOXyA/IGdvb2cudXNlckFnZW50LkFTU1VNRV9JUEhPTkUgOiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0lwaG9uZSgpO1xuZ29vZy51c2VyQWdlbnQuSVBBRCA9IGdvb2cudXNlckFnZW50LlBMQVRGT1JNX0tOT1dOXyA/IGdvb2cudXNlckFnZW50LkFTU1VNRV9JUEFEIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckbGFicyR1c2VyQWdlbnQkcGxhdGZvcm1faXNJcGFkKCk7XG5nb29nLnVzZXJBZ2VudC5JUE9EID0gZ29vZy51c2VyQWdlbnQuUExBVEZPUk1fS05PV05fID8gZ29vZy51c2VyQWdlbnQuQVNTVU1FX0lQT0QgOiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0lwb2QoKTtcbmdvb2cudXNlckFnZW50LklPUyA9IGdvb2cudXNlckFnZW50LlBMQVRGT1JNX0tOT1dOXyA/IGdvb2cudXNlckFnZW50LkFTU1VNRV9JUEhPTkUgfHwgZ29vZy51c2VyQWdlbnQuQVNTVU1FX0lQQUQgfHwgZ29vZy51c2VyQWdlbnQuQVNTVU1FX0lQT0QgOiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0lvcygpO1xuZ29vZy51c2VyQWdlbnQuS0FJT1MgPSBnb29nLnVzZXJBZ2VudC5QTEFURk9STV9LTk9XTl8gPyBnb29nLnVzZXJBZ2VudC5BU1NVTUVfS0FJT1MgOiBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRwbGF0Zm9ybV9pc0thaU9TKCk7XG5nb29nLnVzZXJBZ2VudC5kZXRlcm1pbmVWZXJzaW9uXyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgdmVyc2lvbiA9IFwiXCIsIGFyciA9IGdvb2cudXNlckFnZW50LmdldFZlcnNpb25SZWdleFJlc3VsdF8oKTtcbiAgYXJyICYmICh2ZXJzaW9uID0gYXJyID8gYXJyWzFdIDogXCJcIik7XG4gIGlmIChnb29nLnVzZXJBZ2VudC5JRSkge1xuICAgIHZhciBkb2NNb2RlID0gZ29vZy51c2VyQWdlbnQuZ2V0RG9jdW1lbnRNb2RlXygpO1xuICAgIGlmIChudWxsICE9IGRvY01vZGUgJiYgZG9jTW9kZSA+IHBhcnNlRmxvYXQodmVyc2lvbikpIHtcbiAgICAgIHJldHVybiBTdHJpbmcoZG9jTW9kZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB2ZXJzaW9uO1xufTtcbmdvb2cudXNlckFnZW50LmdldFZlcnNpb25SZWdleFJlc3VsdF8gPSBmdW5jdGlvbigpIHtcbiAgdmFyIHVzZXJBZ2VudCA9IGdvb2cudXNlckFnZW50LmdldFVzZXJBZ2VudFN0cmluZygpO1xuICBpZiAoZ29vZy51c2VyQWdlbnQuR0VDS08pIHtcbiAgICByZXR1cm4gL3J2OihbXlxcKTtdKykoXFwpfDspLy5leGVjKHVzZXJBZ2VudCk7XG4gIH1cbiAgaWYgKGdvb2cudXNlckFnZW50LkVER0UpIHtcbiAgICByZXR1cm4gL0VkZ2VcXC8oW1xcZFxcLl0rKS8uZXhlYyh1c2VyQWdlbnQpO1xuICB9XG4gIGlmIChnb29nLnVzZXJBZ2VudC5JRSkge1xuICAgIHJldHVybiAvXFxiKD86TVNJRXxydilbOiBdKFteXFwpO10rKShcXCl8OykvLmV4ZWModXNlckFnZW50KTtcbiAgfVxuICBpZiAoZ29vZy51c2VyQWdlbnQuV0VCS0lUKSB7XG4gICAgcmV0dXJuIC9XZWJLaXRcXC8oXFxTKykvLmV4ZWModXNlckFnZW50KTtcbiAgfVxuICBpZiAoZ29vZy51c2VyQWdlbnQuT1BFUkEpIHtcbiAgICByZXR1cm4gLyg/OlZlcnNpb24pWyBcXC9dPyhcXFMrKS8uZXhlYyh1c2VyQWdlbnQpO1xuICB9XG59O1xuZ29vZy51c2VyQWdlbnQuZ2V0RG9jdW1lbnRNb2RlXyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZG9jID0gZ29vZy5nbG9iYWwuZG9jdW1lbnQ7XG4gIHJldHVybiBkb2MgPyBkb2MuZG9jdW1lbnRNb2RlIDogdm9pZCAwO1xufTtcbmdvb2cudXNlckFnZW50LlZFUlNJT04gPSBnb29nLnVzZXJBZ2VudC5kZXRlcm1pbmVWZXJzaW9uXygpO1xuZ29vZy51c2VyQWdlbnQuY29tcGFyZSA9IGZ1bmN0aW9uKHYxLCB2Mikge1xuICByZXR1cm4gZ29vZy5zdHJpbmcuaW50ZXJuYWwuY29tcGFyZVZlcnNpb25zKHYxLCB2Mik7XG59O1xuZ29vZy51c2VyQWdlbnQuaXNWZXJzaW9uT3JIaWdoZXJDYWNoZV8gPSB7fTtcbmdvb2cudXNlckFnZW50LmlzVmVyc2lvbk9ySGlnaGVyID0gZnVuY3Rpb24odmVyc2lvbikge1xuICByZXR1cm4gZ29vZy51c2VyQWdlbnQuQVNTVU1FX0FOWV9WRVJTSU9OIHx8IGdvb2cucmVmbGVjdC5jYWNoZShnb29nLnVzZXJBZ2VudC5pc1ZlcnNpb25PckhpZ2hlckNhY2hlXywgdmVyc2lvbiwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIDAgPD0gZ29vZy5zdHJpbmcuaW50ZXJuYWwuY29tcGFyZVZlcnNpb25zKGdvb2cudXNlckFnZW50LlZFUlNJT04sIHZlcnNpb24pO1xuICB9KTtcbn07XG5nb29nLnVzZXJBZ2VudC5pc0RvY3VtZW50TW9kZU9ySGlnaGVyID0gZnVuY3Rpb24oZG9jdW1lbnRNb2RlKSB7XG4gIHJldHVybiBOdW1iZXIoZ29vZy51c2VyQWdlbnQuRE9DVU1FTlRfTU9ERSkgPj0gZG9jdW1lbnRNb2RlO1xufTtcbmdvb2cudXNlckFnZW50LmlzRG9jdW1lbnRNb2RlID0gZ29vZy51c2VyQWdlbnQuaXNEb2N1bWVudE1vZGVPckhpZ2hlcjtcbmdvb2cudXNlckFnZW50LkRPQ1VNRU5UX01PREUgPSBmdW5jdGlvbigpIHtcbiAgaWYgKGdvb2cuZ2xvYmFsLmRvY3VtZW50ICYmIGdvb2cudXNlckFnZW50LklFKSB7XG4gICAgdmFyIGRvY3VtZW50TW9kZSA9IGdvb2cudXNlckFnZW50LmdldERvY3VtZW50TW9kZV8oKTtcbiAgICByZXR1cm4gZG9jdW1lbnRNb2RlID8gZG9jdW1lbnRNb2RlIDogcGFyc2VJbnQoZ29vZy51c2VyQWdlbnQuVkVSU0lPTiwgMTApIHx8IHZvaWQgMDtcbiAgfVxufSgpO1xuZ29vZy5ldmVudHMuTW91c2VFdmVudHMgPSB7fTtcbmdvb2cuZXZlbnRzLmdldFZlbmRvclByZWZpeGVkTmFtZV8gPSBmdW5jdGlvbihldmVudE5hbWUpIHtcbiAgcmV0dXJuIGdvb2cudXNlckFnZW50LldFQktJVCA/IFwid2Via2l0XCIgKyBldmVudE5hbWUgOiBldmVudE5hbWUudG9Mb3dlckNhc2UoKTtcbn07XG5nb29nLmV2ZW50cy5FdmVudFR5cGUgPSB7Q0xJQ0s6XCJjbGlja1wiLCBSSUdIVENMSUNLOlwicmlnaHRjbGlja1wiLCBEQkxDTElDSzpcImRibGNsaWNrXCIsIEFVWENMSUNLOlwiYXV4Y2xpY2tcIiwgTU9VU0VET1dOOlwibW91c2Vkb3duXCIsIE1PVVNFVVA6XCJtb3VzZXVwXCIsIE1PVVNFT1ZFUjpcIm1vdXNlb3ZlclwiLCBNT1VTRU9VVDpcIm1vdXNlb3V0XCIsIE1PVVNFTU9WRTpcIm1vdXNlbW92ZVwiLCBNT1VTRUVOVEVSOlwibW91c2VlbnRlclwiLCBNT1VTRUxFQVZFOlwibW91c2VsZWF2ZVwiLCBNT1VTRUNBTkNFTDpcIm1vdXNlY2FuY2VsXCIsIFNFTEVDVElPTkNIQU5HRTpcInNlbGVjdGlvbmNoYW5nZVwiLCBTRUxFQ1RTVEFSVDpcInNlbGVjdHN0YXJ0XCIsIFdIRUVMOlwid2hlZWxcIiwgS0VZUFJFU1M6XCJrZXlwcmVzc1wiLCBLRVlET1dOOlwia2V5ZG93blwiLCBLRVlVUDpcImtleXVwXCIsIEJMVVI6XCJibHVyXCIsIEZPQ1VTOlwiZm9jdXNcIiwgREVBQ1RJVkFURTpcImRlYWN0aXZhdGVcIiwgRk9DVVNJTjpcImZvY3VzaW5cIiwgRk9DVVNPVVQ6XCJmb2N1c291dFwiLCBcbkNIQU5HRTpcImNoYW5nZVwiLCBSRVNFVDpcInJlc2V0XCIsIFNFTEVDVDpcInNlbGVjdFwiLCBTVUJNSVQ6XCJzdWJtaXRcIiwgSU5QVVQ6XCJpbnB1dFwiLCBQUk9QRVJUWUNIQU5HRTpcInByb3BlcnR5Y2hhbmdlXCIsIERSQUdTVEFSVDpcImRyYWdzdGFydFwiLCBEUkFHOlwiZHJhZ1wiLCBEUkFHRU5URVI6XCJkcmFnZW50ZXJcIiwgRFJBR09WRVI6XCJkcmFnb3ZlclwiLCBEUkFHTEVBVkU6XCJkcmFnbGVhdmVcIiwgRFJPUDpcImRyb3BcIiwgRFJBR0VORDpcImRyYWdlbmRcIiwgVE9VQ0hTVEFSVDpcInRvdWNoc3RhcnRcIiwgVE9VQ0hNT1ZFOlwidG91Y2htb3ZlXCIsIFRPVUNIRU5EOlwidG91Y2hlbmRcIiwgVE9VQ0hDQU5DRUw6XCJ0b3VjaGNhbmNlbFwiLCBCRUZPUkVVTkxPQUQ6XCJiZWZvcmV1bmxvYWRcIiwgQ09OU09MRU1FU1NBR0U6XCJjb25zb2xlbWVzc2FnZVwiLCBDT05URVhUTUVOVTpcImNvbnRleHRtZW51XCIsIERFVklDRUNIQU5HRTpcImRldmljZWNoYW5nZVwiLCBERVZJQ0VNT1RJT046XCJkZXZpY2Vtb3Rpb25cIiwgREVWSUNFT1JJRU5UQVRJT046XCJkZXZpY2VvcmllbnRhdGlvblwiLCBcbkRPTUNPTlRFTlRMT0FERUQ6XCJET01Db250ZW50TG9hZGVkXCIsIEVSUk9SOlwiZXJyb3JcIiwgSEVMUDpcImhlbHBcIiwgTE9BRDpcImxvYWRcIiwgTE9TRUNBUFRVUkU6XCJsb3NlY2FwdHVyZVwiLCBPUklFTlRBVElPTkNIQU5HRTpcIm9yaWVudGF0aW9uY2hhbmdlXCIsIFJFQURZU1RBVEVDSEFOR0U6XCJyZWFkeXN0YXRlY2hhbmdlXCIsIFJFU0laRTpcInJlc2l6ZVwiLCBTQ1JPTEw6XCJzY3JvbGxcIiwgVU5MT0FEOlwidW5sb2FkXCIsIENBTlBMQVk6XCJjYW5wbGF5XCIsIENBTlBMQVlUSFJPVUdIOlwiY2FucGxheXRocm91Z2hcIiwgRFVSQVRJT05DSEFOR0U6XCJkdXJhdGlvbmNoYW5nZVwiLCBFTVBUSUVEOlwiZW1wdGllZFwiLCBFTkRFRDpcImVuZGVkXCIsIExPQURFRERBVEE6XCJsb2FkZWRkYXRhXCIsIExPQURFRE1FVEFEQVRBOlwibG9hZGVkbWV0YWRhdGFcIiwgUEFVU0U6XCJwYXVzZVwiLCBQTEFZOlwicGxheVwiLCBQTEFZSU5HOlwicGxheWluZ1wiLCBQUk9HUkVTUzpcInByb2dyZXNzXCIsIFJBVEVDSEFOR0U6XCJyYXRlY2hhbmdlXCIsIFxuU0VFS0VEOlwic2Vla2VkXCIsIFNFRUtJTkc6XCJzZWVraW5nXCIsIFNUQUxMRUQ6XCJzdGFsbGVkXCIsIFNVU1BFTkQ6XCJzdXNwZW5kXCIsIFRJTUVVUERBVEU6XCJ0aW1ldXBkYXRlXCIsIFZPTFVNRUNIQU5HRTpcInZvbHVtZWNoYW5nZVwiLCBXQUlUSU5HOlwid2FpdGluZ1wiLCBTT1VSQ0VPUEVOOlwic291cmNlb3BlblwiLCBTT1VSQ0VFTkRFRDpcInNvdXJjZWVuZGVkXCIsIFNPVVJDRUNMT1NFRDpcInNvdXJjZWNsb3NlZFwiLCBBQk9SVDpcImFib3J0XCIsIFVQREFURTpcInVwZGF0ZVwiLCBVUERBVEVTVEFSVDpcInVwZGF0ZXN0YXJ0XCIsIFVQREFURUVORDpcInVwZGF0ZWVuZFwiLCBIQVNIQ0hBTkdFOlwiaGFzaGNoYW5nZVwiLCBQQUdFSElERTpcInBhZ2VoaWRlXCIsIFBBR0VTSE9XOlwicGFnZXNob3dcIiwgUE9QU1RBVEU6XCJwb3BzdGF0ZVwiLCBDT1BZOlwiY29weVwiLCBQQVNURTpcInBhc3RlXCIsIENVVDpcImN1dFwiLCBCRUZPUkVDT1BZOlwiYmVmb3JlY29weVwiLCBCRUZPUkVDVVQ6XCJiZWZvcmVjdXRcIiwgQkVGT1JFUEFTVEU6XCJiZWZvcmVwYXN0ZVwiLCBcbk9OTElORTpcIm9ubGluZVwiLCBPRkZMSU5FOlwib2ZmbGluZVwiLCBNRVNTQUdFOlwibWVzc2FnZVwiLCBDT05ORUNUOlwiY29ubmVjdFwiLCBJTlNUQUxMOlwiaW5zdGFsbFwiLCBBQ1RJVkFURTpcImFjdGl2YXRlXCIsIEZFVENIOlwiZmV0Y2hcIiwgRk9SRUlHTkZFVENIOlwiZm9yZWlnbmZldGNoXCIsIE1FU1NBR0VFUlJPUjpcIm1lc3NhZ2VlcnJvclwiLCBTVEFURUNIQU5HRTpcInN0YXRlY2hhbmdlXCIsIFVQREFURUZPVU5EOlwidXBkYXRlZm91bmRcIiwgQ09OVFJPTExFUkNIQU5HRTpcImNvbnRyb2xsZXJjaGFuZ2VcIiwgQU5JTUFUSU9OU1RBUlQ6Z29vZy5ldmVudHMuZ2V0VmVuZG9yUHJlZml4ZWROYW1lXyhcIkFuaW1hdGlvblN0YXJ0XCIpLCBBTklNQVRJT05FTkQ6Z29vZy5ldmVudHMuZ2V0VmVuZG9yUHJlZml4ZWROYW1lXyhcIkFuaW1hdGlvbkVuZFwiKSwgQU5JTUFUSU9OSVRFUkFUSU9OOmdvb2cuZXZlbnRzLmdldFZlbmRvclByZWZpeGVkTmFtZV8oXCJBbmltYXRpb25JdGVyYXRpb25cIiksIFRSQU5TSVRJT05FTkQ6Z29vZy5ldmVudHMuZ2V0VmVuZG9yUHJlZml4ZWROYW1lXyhcIlRyYW5zaXRpb25FbmRcIiksIFxuUE9JTlRFUkRPV046XCJwb2ludGVyZG93blwiLCBQT0lOVEVSVVA6XCJwb2ludGVydXBcIiwgUE9JTlRFUkNBTkNFTDpcInBvaW50ZXJjYW5jZWxcIiwgUE9JTlRFUk1PVkU6XCJwb2ludGVybW92ZVwiLCBQT0lOVEVST1ZFUjpcInBvaW50ZXJvdmVyXCIsIFBPSU5URVJPVVQ6XCJwb2ludGVyb3V0XCIsIFBPSU5URVJFTlRFUjpcInBvaW50ZXJlbnRlclwiLCBQT0lOVEVSTEVBVkU6XCJwb2ludGVybGVhdmVcIiwgR09UUE9JTlRFUkNBUFRVUkU6XCJnb3Rwb2ludGVyY2FwdHVyZVwiLCBMT1NUUE9JTlRFUkNBUFRVUkU6XCJsb3N0cG9pbnRlcmNhcHR1cmVcIiwgTVNHRVNUVVJFQ0hBTkdFOlwiTVNHZXN0dXJlQ2hhbmdlXCIsIE1TR0VTVFVSRUVORDpcIk1TR2VzdHVyZUVuZFwiLCBNU0dFU1RVUkVIT0xEOlwiTVNHZXN0dXJlSG9sZFwiLCBNU0dFU1RVUkVTVEFSVDpcIk1TR2VzdHVyZVN0YXJ0XCIsIE1TR0VTVFVSRVRBUDpcIk1TR2VzdHVyZVRhcFwiLCBNU0dPVFBPSU5URVJDQVBUVVJFOlwiTVNHb3RQb2ludGVyQ2FwdHVyZVwiLCBNU0lORVJUSUFTVEFSVDpcIk1TSW5lcnRpYVN0YXJ0XCIsIFxuTVNMT1NUUE9JTlRFUkNBUFRVUkU6XCJNU0xvc3RQb2ludGVyQ2FwdHVyZVwiLCBNU1BPSU5URVJDQU5DRUw6XCJNU1BvaW50ZXJDYW5jZWxcIiwgTVNQT0lOVEVSRE9XTjpcIk1TUG9pbnRlckRvd25cIiwgTVNQT0lOVEVSRU5URVI6XCJNU1BvaW50ZXJFbnRlclwiLCBNU1BPSU5URVJIT1ZFUjpcIk1TUG9pbnRlckhvdmVyXCIsIE1TUE9JTlRFUkxFQVZFOlwiTVNQb2ludGVyTGVhdmVcIiwgTVNQT0lOVEVSTU9WRTpcIk1TUG9pbnRlck1vdmVcIiwgTVNQT0lOVEVST1VUOlwiTVNQb2ludGVyT3V0XCIsIE1TUE9JTlRFUk9WRVI6XCJNU1BvaW50ZXJPdmVyXCIsIE1TUE9JTlRFUlVQOlwiTVNQb2ludGVyVXBcIiwgVEVYVDpcInRleHRcIiwgVEVYVElOUFVUOmdvb2cudXNlckFnZW50LklFID8gXCJ0ZXh0aW5wdXRcIiA6IFwidGV4dElucHV0XCIsIENPTVBPU0lUSU9OU1RBUlQ6XCJjb21wb3NpdGlvbnN0YXJ0XCIsIENPTVBPU0lUSU9OVVBEQVRFOlwiY29tcG9zaXRpb251cGRhdGVcIiwgQ09NUE9TSVRJT05FTkQ6XCJjb21wb3NpdGlvbmVuZFwiLCBcbkJFRk9SRUlOUFVUOlwiYmVmb3JlaW5wdXRcIiwgRVhJVDpcImV4aXRcIiwgTE9BREFCT1JUOlwibG9hZGFib3J0XCIsIExPQURDT01NSVQ6XCJsb2FkY29tbWl0XCIsIExPQURSRURJUkVDVDpcImxvYWRyZWRpcmVjdFwiLCBMT0FEU1RBUlQ6XCJsb2Fkc3RhcnRcIiwgTE9BRFNUT1A6XCJsb2Fkc3RvcFwiLCBSRVNQT05TSVZFOlwicmVzcG9uc2l2ZVwiLCBTSVpFQ0hBTkdFRDpcInNpemVjaGFuZ2VkXCIsIFVOUkVTUE9OU0lWRTpcInVucmVzcG9uc2l2ZVwiLCBWSVNJQklMSVRZQ0hBTkdFOlwidmlzaWJpbGl0eWNoYW5nZVwiLCBTVE9SQUdFOlwic3RvcmFnZVwiLCBET01TVUJUUkVFTU9ESUZJRUQ6XCJET01TdWJ0cmVlTW9kaWZpZWRcIiwgRE9NTk9ERUlOU0VSVEVEOlwiRE9NTm9kZUluc2VydGVkXCIsIERPTU5PREVSRU1PVkVEOlwiRE9NTm9kZVJlbW92ZWRcIiwgRE9NTk9ERVJFTU9WRURGUk9NRE9DVU1FTlQ6XCJET01Ob2RlUmVtb3ZlZEZyb21Eb2N1bWVudFwiLCBET01OT0RFSU5TRVJURURJTlRPRE9DVU1FTlQ6XCJET01Ob2RlSW5zZXJ0ZWRJbnRvRG9jdW1lbnRcIiwgXG5ET01BVFRSTU9ESUZJRUQ6XCJET01BdHRyTW9kaWZpZWRcIiwgRE9NQ0hBUkFDVEVSREFUQU1PRElGSUVEOlwiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkXCIsIEJFRk9SRVBSSU5UOlwiYmVmb3JlcHJpbnRcIiwgQUZURVJQUklOVDpcImFmdGVycHJpbnRcIiwgQkVGT1JFSU5TVEFMTFBST01QVDpcImJlZm9yZWluc3RhbGxwcm9tcHRcIiwgQVBQSU5TVEFMTEVEOlwiYXBwaW5zdGFsbGVkXCJ9O1xuZ29vZy5ldmVudHMuZ2V0UG9pbnRlckZhbGxiYWNrRXZlbnROYW1lXyA9IGZ1bmN0aW9uKHBvaW50ZXJFdmVudE5hbWUsIG1zUG9pbnRlckV2ZW50TmFtZSwgZmFsbGJhY2tFdmVudE5hbWUpIHtcbiAgcmV0dXJuIGdvb2cuZXZlbnRzLkJyb3dzZXJGZWF0dXJlLlBPSU5URVJfRVZFTlRTID8gcG9pbnRlckV2ZW50TmFtZSA6IGdvb2cuZXZlbnRzLkJyb3dzZXJGZWF0dXJlLk1TUE9JTlRFUl9FVkVOVFMgPyBtc1BvaW50ZXJFdmVudE5hbWUgOiBmYWxsYmFja0V2ZW50TmFtZTtcbn07XG5nb29nLmV2ZW50cy5Qb2ludGVyRmFsbGJhY2tFdmVudFR5cGUgPSB7UE9JTlRFUkRPV046Z29vZy5ldmVudHMuZ2V0UG9pbnRlckZhbGxiYWNrRXZlbnROYW1lXyhnb29nLmV2ZW50cy5FdmVudFR5cGUuUE9JTlRFUkRPV04sIGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5NU1BPSU5URVJET1dOLCBnb29nLmV2ZW50cy5FdmVudFR5cGUuTU9VU0VET1dOKSwgUE9JTlRFUlVQOmdvb2cuZXZlbnRzLmdldFBvaW50ZXJGYWxsYmFja0V2ZW50TmFtZV8oZ29vZy5ldmVudHMuRXZlbnRUeXBlLlBPSU5URVJVUCwgZ29vZy5ldmVudHMuRXZlbnRUeXBlLk1TUE9JTlRFUlVQLCBnb29nLmV2ZW50cy5FdmVudFR5cGUuTU9VU0VVUCksIFBPSU5URVJDQU5DRUw6Z29vZy5ldmVudHMuZ2V0UG9pbnRlckZhbGxiYWNrRXZlbnROYW1lXyhnb29nLmV2ZW50cy5FdmVudFR5cGUuUE9JTlRFUkNBTkNFTCwgZ29vZy5ldmVudHMuRXZlbnRUeXBlLk1TUE9JTlRFUkNBTkNFTCwgZ29vZy5ldmVudHMuRXZlbnRUeXBlLk1PVVNFQ0FOQ0VMKSwgXG5QT0lOVEVSTU9WRTpnb29nLmV2ZW50cy5nZXRQb2ludGVyRmFsbGJhY2tFdmVudE5hbWVfKGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5QT0lOVEVSTU9WRSwgZ29vZy5ldmVudHMuRXZlbnRUeXBlLk1TUE9JTlRFUk1PVkUsIGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5NT1VTRU1PVkUpLCBQT0lOVEVST1ZFUjpnb29nLmV2ZW50cy5nZXRQb2ludGVyRmFsbGJhY2tFdmVudE5hbWVfKGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5QT0lOVEVST1ZFUiwgZ29vZy5ldmVudHMuRXZlbnRUeXBlLk1TUE9JTlRFUk9WRVIsIGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5NT1VTRU9WRVIpLCBQT0lOVEVST1VUOmdvb2cuZXZlbnRzLmdldFBvaW50ZXJGYWxsYmFja0V2ZW50TmFtZV8oZ29vZy5ldmVudHMuRXZlbnRUeXBlLlBPSU5URVJPVVQsIGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5NU1BPSU5URVJPVVQsIGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5NT1VTRU9VVCksIFBPSU5URVJFTlRFUjpnb29nLmV2ZW50cy5nZXRQb2ludGVyRmFsbGJhY2tFdmVudE5hbWVfKGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5QT0lOVEVSRU5URVIsIFxuZ29vZy5ldmVudHMuRXZlbnRUeXBlLk1TUE9JTlRFUkVOVEVSLCBnb29nLmV2ZW50cy5FdmVudFR5cGUuTU9VU0VFTlRFUiksIFBPSU5URVJMRUFWRTpnb29nLmV2ZW50cy5nZXRQb2ludGVyRmFsbGJhY2tFdmVudE5hbWVfKGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5QT0lOVEVSTEVBVkUsIGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5NU1BPSU5URVJMRUFWRSwgZ29vZy5ldmVudHMuRXZlbnRUeXBlLk1PVVNFTEVBVkUpfTtcbmdvb2cuZXZlbnRzLlBvaW50ZXJUb3VjaEZhbGxiYWNrRXZlbnRUeXBlID0ge1BPSU5URVJET1dOOmdvb2cuZXZlbnRzLmdldFBvaW50ZXJGYWxsYmFja0V2ZW50TmFtZV8oZ29vZy5ldmVudHMuRXZlbnRUeXBlLlBPSU5URVJET1dOLCBnb29nLmV2ZW50cy5FdmVudFR5cGUuTVNQT0lOVEVSRE9XTiwgZ29vZy5ldmVudHMuRXZlbnRUeXBlLlRPVUNIU1RBUlQpLCBQT0lOVEVSVVA6Z29vZy5ldmVudHMuZ2V0UG9pbnRlckZhbGxiYWNrRXZlbnROYW1lXyhnb29nLmV2ZW50cy5FdmVudFR5cGUuUE9JTlRFUlVQLCBnb29nLmV2ZW50cy5FdmVudFR5cGUuTVNQT0lOVEVSVVAsIGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5UT1VDSEVORCksIFBPSU5URVJDQU5DRUw6Z29vZy5ldmVudHMuZ2V0UG9pbnRlckZhbGxiYWNrRXZlbnROYW1lXyhnb29nLmV2ZW50cy5FdmVudFR5cGUuUE9JTlRFUkNBTkNFTCwgZ29vZy5ldmVudHMuRXZlbnRUeXBlLk1TUE9JTlRFUkNBTkNFTCwgZ29vZy5ldmVudHMuRXZlbnRUeXBlLlRPVUNIQ0FOQ0VMKSwgXG5QT0lOVEVSTU9WRTpnb29nLmV2ZW50cy5nZXRQb2ludGVyRmFsbGJhY2tFdmVudE5hbWVfKGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5QT0lOVEVSTU9WRSwgZ29vZy5ldmVudHMuRXZlbnRUeXBlLk1TUE9JTlRFUk1PVkUsIGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5UT1VDSE1PVkUpfTtcbmdvb2cuZXZlbnRzLlBvaW50ZXJBc01vdXNlRXZlbnRUeXBlID0ge01PVVNFRE9XTjpnb29nLmV2ZW50cy5Qb2ludGVyRmFsbGJhY2tFdmVudFR5cGUuUE9JTlRFUkRPV04sIE1PVVNFVVA6Z29vZy5ldmVudHMuUG9pbnRlckZhbGxiYWNrRXZlbnRUeXBlLlBPSU5URVJVUCwgTU9VU0VDQU5DRUw6Z29vZy5ldmVudHMuUG9pbnRlckZhbGxiYWNrRXZlbnRUeXBlLlBPSU5URVJDQU5DRUwsIE1PVVNFTU9WRTpnb29nLmV2ZW50cy5Qb2ludGVyRmFsbGJhY2tFdmVudFR5cGUuUE9JTlRFUk1PVkUsIE1PVVNFT1ZFUjpnb29nLmV2ZW50cy5Qb2ludGVyRmFsbGJhY2tFdmVudFR5cGUuUE9JTlRFUk9WRVIsIE1PVVNFT1VUOmdvb2cuZXZlbnRzLlBvaW50ZXJGYWxsYmFja0V2ZW50VHlwZS5QT0lOVEVST1VULCBNT1VTRUVOVEVSOmdvb2cuZXZlbnRzLlBvaW50ZXJGYWxsYmFja0V2ZW50VHlwZS5QT0lOVEVSRU5URVIsIE1PVVNFTEVBVkU6Z29vZy5ldmVudHMuUG9pbnRlckZhbGxiYWNrRXZlbnRUeXBlLlBPSU5URVJMRUFWRX07XG5nb29nLmV2ZW50cy5Nb3VzZUFzTW91c2VFdmVudFR5cGUgPSB7TU9VU0VET1dOOmdvb2cuZXZlbnRzLkV2ZW50VHlwZS5NT1VTRURPV04sIE1PVVNFVVA6Z29vZy5ldmVudHMuRXZlbnRUeXBlLk1PVVNFVVAsIE1PVVNFQ0FOQ0VMOmdvb2cuZXZlbnRzLkV2ZW50VHlwZS5NT1VTRUNBTkNFTCwgTU9VU0VNT1ZFOmdvb2cuZXZlbnRzLkV2ZW50VHlwZS5NT1VTRU1PVkUsIE1PVVNFT1ZFUjpnb29nLmV2ZW50cy5FdmVudFR5cGUuTU9VU0VPVkVSLCBNT1VTRU9VVDpnb29nLmV2ZW50cy5FdmVudFR5cGUuTU9VU0VPVVQsIE1PVVNFRU5URVI6Z29vZy5ldmVudHMuRXZlbnRUeXBlLk1PVVNFRU5URVIsIE1PVVNFTEVBVkU6Z29vZy5ldmVudHMuRXZlbnRUeXBlLk1PVVNFTEVBVkV9O1xuZ29vZy5ldmVudHMuUG9pbnRlckFzVG91Y2hFdmVudFR5cGUgPSB7VE9VQ0hDQU5DRUw6Z29vZy5ldmVudHMuUG9pbnRlclRvdWNoRmFsbGJhY2tFdmVudFR5cGUuUE9JTlRFUkNBTkNFTCwgVE9VQ0hFTkQ6Z29vZy5ldmVudHMuUG9pbnRlclRvdWNoRmFsbGJhY2tFdmVudFR5cGUuUE9JTlRFUlVQLCBUT1VDSE1PVkU6Z29vZy5ldmVudHMuUG9pbnRlclRvdWNoRmFsbGJhY2tFdmVudFR5cGUuUE9JTlRFUk1PVkUsIFRPVUNIU1RBUlQ6Z29vZy5ldmVudHMuUG9pbnRlclRvdWNoRmFsbGJhY2tFdmVudFR5cGUuUE9JTlRFUkRPV059O1xuZ29vZy5ldmVudHMuVVNFX0xBWUVSX1hZX0FTX09GRlNFVF9YWSA9ICExO1xuZ29vZy5ldmVudHMuQnJvd3NlckV2ZW50ID0gZnVuY3Rpb24ob3B0X2UsIG9wdF9jdXJyZW50VGFyZ2V0KSB7XG4gIGdvb2cuZXZlbnRzLkV2ZW50LmNhbGwodGhpcywgb3B0X2UgPyBvcHRfZS50eXBlIDogXCJcIik7XG4gIHRoaXMucmVsYXRlZFRhcmdldCA9IHRoaXMuY3VycmVudFRhcmdldCA9IHRoaXMudGFyZ2V0ID0gbnVsbDtcbiAgdGhpcy5idXR0b24gPSB0aGlzLnNjcmVlblkgPSB0aGlzLnNjcmVlblggPSB0aGlzLmNsaWVudFkgPSB0aGlzLmNsaWVudFggPSB0aGlzLm9mZnNldFkgPSB0aGlzLm9mZnNldFggPSAwO1xuICB0aGlzLmtleSA9IFwiXCI7XG4gIHRoaXMuY2hhckNvZGUgPSB0aGlzLmtleUNvZGUgPSAwO1xuICB0aGlzLm1ldGFLZXkgPSB0aGlzLnNoaWZ0S2V5ID0gdGhpcy5hbHRLZXkgPSB0aGlzLmN0cmxLZXkgPSAhMTtcbiAgdGhpcy5zdGF0ZSA9IG51bGw7XG4gIHRoaXMucGxhdGZvcm1Nb2RpZmllcktleSA9ICExO1xuICB0aGlzLnBvaW50ZXJJZCA9IDA7XG4gIHRoaXMucG9pbnRlclR5cGUgPSBcIlwiO1xuICB0aGlzLmV2ZW50XyA9IG51bGw7XG4gIG9wdF9lICYmIHRoaXMuaW5pdChvcHRfZSwgb3B0X2N1cnJlbnRUYXJnZXQpO1xufTtcbmdvb2cuaW5oZXJpdHMoZ29vZy5ldmVudHMuQnJvd3NlckV2ZW50LCBnb29nLmV2ZW50cy5FdmVudCk7XG5nb29nLmV2ZW50cy5Ccm93c2VyRXZlbnQuTW91c2VCdXR0b24gPSB7TEVGVDowLCBNSURETEU6MSwgUklHSFQ6Mn07XG5nb29nLmV2ZW50cy5Ccm93c2VyRXZlbnQuUG9pbnRlclR5cGUgPSB7TU9VU0U6XCJtb3VzZVwiLCBQRU46XCJwZW5cIiwgVE9VQ0g6XCJ0b3VjaFwifTtcbmdvb2cuZXZlbnRzLkJyb3dzZXJFdmVudC5JRUJ1dHRvbk1hcCA9IGdvb2cuZGVidWcuZnJlZXplKFsxLCA0LCAyXSk7XG5nb29nLmV2ZW50cy5Ccm93c2VyRXZlbnQuSUVfQlVUVE9OX01BUCA9IGdvb2cuZXZlbnRzLkJyb3dzZXJFdmVudC5JRUJ1dHRvbk1hcDtcbmdvb2cuZXZlbnRzLkJyb3dzZXJFdmVudC5JRV9QT0lOVEVSX1RZUEVfTUFQID0gZ29vZy5kZWJ1Zy5mcmVlemUoezI6Z29vZy5ldmVudHMuQnJvd3NlckV2ZW50LlBvaW50ZXJUeXBlLlRPVUNILCAzOmdvb2cuZXZlbnRzLkJyb3dzZXJFdmVudC5Qb2ludGVyVHlwZS5QRU4sIDQ6Z29vZy5ldmVudHMuQnJvd3NlckV2ZW50LlBvaW50ZXJUeXBlLk1PVVNFfSk7XG5nb29nLmV2ZW50cy5Ccm93c2VyRXZlbnQucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbihlLCBvcHRfY3VycmVudFRhcmdldCkge1xuICB2YXIgdHlwZSA9IHRoaXMudHlwZSA9IGUudHlwZSwgcmVsZXZhbnRUb3VjaCA9IGUuY2hhbmdlZFRvdWNoZXMgJiYgZS5jaGFuZ2VkVG91Y2hlcy5sZW5ndGggPyBlLmNoYW5nZWRUb3VjaGVzWzBdIDogbnVsbDtcbiAgdGhpcy50YXJnZXQgPSBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQ7XG4gIHRoaXMuY3VycmVudFRhcmdldCA9IG9wdF9jdXJyZW50VGFyZ2V0O1xuICB2YXIgcmVsYXRlZFRhcmdldCA9IGUucmVsYXRlZFRhcmdldDtcbiAgcmVsYXRlZFRhcmdldCA/IGdvb2cudXNlckFnZW50LkdFQ0tPICYmIChnb29nLnJlZmxlY3QuY2FuQWNjZXNzUHJvcGVydHkocmVsYXRlZFRhcmdldCwgXCJub2RlTmFtZVwiKSB8fCAocmVsYXRlZFRhcmdldCA9IG51bGwpKSA6IHR5cGUgPT0gZ29vZy5ldmVudHMuRXZlbnRUeXBlLk1PVVNFT1ZFUiA/IHJlbGF0ZWRUYXJnZXQgPSBlLmZyb21FbGVtZW50IDogdHlwZSA9PSBnb29nLmV2ZW50cy5FdmVudFR5cGUuTU9VU0VPVVQgJiYgKHJlbGF0ZWRUYXJnZXQgPSBlLnRvRWxlbWVudCk7XG4gIHRoaXMucmVsYXRlZFRhcmdldCA9IHJlbGF0ZWRUYXJnZXQ7XG4gIHJlbGV2YW50VG91Y2ggPyAodGhpcy5jbGllbnRYID0gdm9pZCAwICE9PSByZWxldmFudFRvdWNoLmNsaWVudFggPyByZWxldmFudFRvdWNoLmNsaWVudFggOiByZWxldmFudFRvdWNoLnBhZ2VYLCB0aGlzLmNsaWVudFkgPSB2b2lkIDAgIT09IHJlbGV2YW50VG91Y2guY2xpZW50WSA/IHJlbGV2YW50VG91Y2guY2xpZW50WSA6IHJlbGV2YW50VG91Y2gucGFnZVksIHRoaXMuc2NyZWVuWCA9IHJlbGV2YW50VG91Y2guc2NyZWVuWCB8fCAwLCB0aGlzLnNjcmVlblkgPSByZWxldmFudFRvdWNoLnNjcmVlblkgfHwgMCkgOiAoZ29vZy5ldmVudHMuVVNFX0xBWUVSX1hZX0FTX09GRlNFVF9YWSA/ICh0aGlzLm9mZnNldFggPSB2b2lkIDAgIT09IGUubGF5ZXJYID8gZS5sYXllclggOiBlLm9mZnNldFgsIHRoaXMub2Zmc2V0WSA9IHZvaWQgMCAhPT0gZS5sYXllclkgPyBlLmxheWVyWSA6IGUub2Zmc2V0WSkgOiAodGhpcy5vZmZzZXRYID0gZ29vZy51c2VyQWdlbnQuV0VCS0lUIHx8IHZvaWQgMCAhPT0gXG4gIGUub2Zmc2V0WCA/IGUub2Zmc2V0WCA6IGUubGF5ZXJYLCB0aGlzLm9mZnNldFkgPSBnb29nLnVzZXJBZ2VudC5XRUJLSVQgfHwgdm9pZCAwICE9PSBlLm9mZnNldFkgPyBlLm9mZnNldFkgOiBlLmxheWVyWSksIHRoaXMuY2xpZW50WCA9IHZvaWQgMCAhPT0gZS5jbGllbnRYID8gZS5jbGllbnRYIDogZS5wYWdlWCwgdGhpcy5jbGllbnRZID0gdm9pZCAwICE9PSBlLmNsaWVudFkgPyBlLmNsaWVudFkgOiBlLnBhZ2VZLCB0aGlzLnNjcmVlblggPSBlLnNjcmVlblggfHwgMCwgdGhpcy5zY3JlZW5ZID0gZS5zY3JlZW5ZIHx8IDApO1xuICB0aGlzLmJ1dHRvbiA9IGUuYnV0dG9uO1xuICB0aGlzLmtleUNvZGUgPSBlLmtleUNvZGUgfHwgMDtcbiAgdGhpcy5rZXkgPSBlLmtleSB8fCBcIlwiO1xuICB0aGlzLmNoYXJDb2RlID0gZS5jaGFyQ29kZSB8fCAoXCJrZXlwcmVzc1wiID09IHR5cGUgPyBlLmtleUNvZGUgOiAwKTtcbiAgdGhpcy5jdHJsS2V5ID0gZS5jdHJsS2V5O1xuICB0aGlzLmFsdEtleSA9IGUuYWx0S2V5O1xuICB0aGlzLnNoaWZ0S2V5ID0gZS5zaGlmdEtleTtcbiAgdGhpcy5tZXRhS2V5ID0gZS5tZXRhS2V5O1xuICB0aGlzLnBsYXRmb3JtTW9kaWZpZXJLZXkgPSBnb29nLnVzZXJBZ2VudC5NQUMgPyBlLm1ldGFLZXkgOiBlLmN0cmxLZXk7XG4gIHRoaXMucG9pbnRlcklkID0gZS5wb2ludGVySWQgfHwgMDtcbiAgdGhpcy5wb2ludGVyVHlwZSA9IGdvb2cuZXZlbnRzLkJyb3dzZXJFdmVudC5nZXRQb2ludGVyVHlwZV8oZSk7XG4gIHRoaXMuc3RhdGUgPSBlLnN0YXRlO1xuICB0aGlzLmV2ZW50XyA9IGU7XG4gIGUuZGVmYXVsdFByZXZlbnRlZCAmJiBnb29nLmV2ZW50cy5Ccm93c2VyRXZlbnQuc3VwZXJDbGFzc18ucHJldmVudERlZmF1bHQuY2FsbCh0aGlzKTtcbn07XG5nb29nLmV2ZW50cy5Ccm93c2VyRXZlbnQucHJvdG90eXBlLmlzQnV0dG9uID0gZnVuY3Rpb24oYnV0dG9uKSB7XG4gIHJldHVybiB0aGlzLmV2ZW50Xy5idXR0b24gPT0gYnV0dG9uO1xufTtcbmdvb2cuZXZlbnRzLkJyb3dzZXJFdmVudC5wcm90b3R5cGUuaXNNb3VzZUFjdGlvbkJ1dHRvbiA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5pc0J1dHRvbihnb29nLmV2ZW50cy5Ccm93c2VyRXZlbnQuTW91c2VCdXR0b24uTEVGVCkgJiYgIShnb29nLnVzZXJBZ2VudC5NQUMgJiYgdGhpcy5jdHJsS2V5KTtcbn07XG5nb29nLmV2ZW50cy5Ccm93c2VyRXZlbnQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICBnb29nLmV2ZW50cy5Ccm93c2VyRXZlbnQuc3VwZXJDbGFzc18uc3RvcFByb3BhZ2F0aW9uLmNhbGwodGhpcyk7XG4gIHRoaXMuZXZlbnRfLnN0b3BQcm9wYWdhdGlvbiA/IHRoaXMuZXZlbnRfLnN0b3BQcm9wYWdhdGlvbigpIDogdGhpcy5ldmVudF8uY2FuY2VsQnViYmxlID0gITA7XG59O1xuZ29vZy5ldmVudHMuQnJvd3NlckV2ZW50LnByb3RvdHlwZS5wcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uKCkge1xuICBnb29nLmV2ZW50cy5Ccm93c2VyRXZlbnQuc3VwZXJDbGFzc18ucHJldmVudERlZmF1bHQuY2FsbCh0aGlzKTtcbiAgdmFyIGJlID0gdGhpcy5ldmVudF87XG4gIGJlLnByZXZlbnREZWZhdWx0ID8gYmUucHJldmVudERlZmF1bHQoKSA6IGJlLnJldHVyblZhbHVlID0gITE7XG59O1xuZ29vZy5ldmVudHMuQnJvd3NlckV2ZW50LnByb3RvdHlwZS5nZXRCcm93c2VyRXZlbnQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZXZlbnRfO1xufTtcbmdvb2cuZXZlbnRzLkJyb3dzZXJFdmVudC5nZXRQb2ludGVyVHlwZV8gPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiBcInN0cmluZ1wiID09PSB0eXBlb2YgZS5wb2ludGVyVHlwZSA/IGUucG9pbnRlclR5cGUgOiBnb29nLmV2ZW50cy5Ccm93c2VyRXZlbnQuSUVfUE9JTlRFUl9UWVBFX01BUFtlLnBvaW50ZXJUeXBlXSB8fCBcIlwiO1xufTtcbmdvb2cuZXZlbnRzLkxpc3RlbmFibGUgPSBmdW5jdGlvbigpIHtcbn07XG5nb29nLmV2ZW50cy5MaXN0ZW5hYmxlLklNUExFTUVOVEVEX0JZX1BST1AgPSBcImNsb3N1cmVfbGlzdGVuYWJsZV9cIiArICgxZTYgKiBNYXRoLnJhbmRvbSgpIHwgMCk7XG5nb29nLmV2ZW50cy5MaXN0ZW5hYmxlLmFkZEltcGxlbWVudGF0aW9uID0gZnVuY3Rpb24oY2xzKSB7XG4gIGNscy5wcm90b3R5cGVbZ29vZy5ldmVudHMuTGlzdGVuYWJsZS5JTVBMRU1FTlRFRF9CWV9QUk9QXSA9ICEwO1xufTtcbmdvb2cuZXZlbnRzLkxpc3RlbmFibGUuaXNJbXBsZW1lbnRlZEJ5ID0gZnVuY3Rpb24ob2JqKSB7XG4gIHJldHVybiAhKCFvYmogfHwgIW9ialtnb29nLmV2ZW50cy5MaXN0ZW5hYmxlLklNUExFTUVOVEVEX0JZX1BST1BdKTtcbn07XG5nb29nLmV2ZW50cy5MaXN0ZW5hYmxlLnByb3RvdHlwZS5saXN0ZW4gPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lciwgb3B0X3VzZUNhcHR1cmUsIG9wdF9saXN0ZW5lclNjb3BlKSB7XG59O1xuZ29vZy5ldmVudHMuTGlzdGVuYWJsZS5wcm90b3R5cGUubGlzdGVuT25jZSA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyLCBvcHRfdXNlQ2FwdHVyZSwgb3B0X2xpc3RlbmVyU2NvcGUpIHtcbn07XG5nb29nLmV2ZW50cy5MaXN0ZW5hYmxlLnByb3RvdHlwZS51bmxpc3RlbiA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyLCBvcHRfdXNlQ2FwdHVyZSwgb3B0X2xpc3RlbmVyU2NvcGUpIHtcbn07XG5nb29nLmV2ZW50cy5MaXN0ZW5hYmxlLnByb3RvdHlwZS51bmxpc3RlbkJ5S2V5ID0gZnVuY3Rpb24oa2V5KSB7XG59O1xuZ29vZy5ldmVudHMuTGlzdGVuYWJsZS5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uKGUpIHtcbn07XG5nb29nLmV2ZW50cy5MaXN0ZW5hYmxlLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbihvcHRfdHlwZSkge1xufTtcbmdvb2cuZXZlbnRzLkxpc3RlbmFibGUucHJvdG90eXBlLmdldFBhcmVudEV2ZW50VGFyZ2V0ID0gZnVuY3Rpb24oKSB7XG59O1xuZ29vZy5ldmVudHMuTGlzdGVuYWJsZS5wcm90b3R5cGUuZmlyZUxpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUsIGNhcHR1cmUsIGV2ZW50T2JqZWN0KSB7XG59O1xuZ29vZy5ldmVudHMuTGlzdGVuYWJsZS5wcm90b3R5cGUuZ2V0TGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSwgY2FwdHVyZSkge1xufTtcbmdvb2cuZXZlbnRzLkxpc3RlbmFibGUucHJvdG90eXBlLmdldExpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIsIGNhcHR1cmUsIG9wdF9saXN0ZW5lclNjb3BlKSB7XG59O1xuZ29vZy5ldmVudHMuTGlzdGVuYWJsZS5wcm90b3R5cGUuaGFzTGlzdGVuZXIgPSBmdW5jdGlvbihvcHRfdHlwZSwgb3B0X2NhcHR1cmUpIHtcbn07XG5nb29nLmV2ZW50cy5MaXN0ZW5hYmxlS2V5ID0gZnVuY3Rpb24oKSB7XG59O1xuZ29vZy5ldmVudHMuTGlzdGVuYWJsZUtleS5jb3VudGVyXyA9IDA7XG5nb29nLmV2ZW50cy5MaXN0ZW5hYmxlS2V5LnJlc2VydmVLZXkgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICsrZ29vZy5ldmVudHMuTGlzdGVuYWJsZUtleS5jb3VudGVyXztcbn07XG5nb29nLmV2ZW50cy5MaXN0ZW5lciA9IGZ1bmN0aW9uKGxpc3RlbmVyLCBwcm94eSwgc3JjLCB0eXBlLCBjYXB0dXJlLCBvcHRfaGFuZGxlcikge1xuICBnb29nLmV2ZW50cy5MaXN0ZW5lci5FTkFCTEVfTU9OSVRPUklORyAmJiAodGhpcy5jcmVhdGlvblN0YWNrID0gRXJyb3IoKS5zdGFjayk7XG4gIHRoaXMubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgdGhpcy5wcm94eSA9IHByb3h5O1xuICB0aGlzLnNyYyA9IHNyYztcbiAgdGhpcy50eXBlID0gdHlwZTtcbiAgdGhpcy5jYXB0dXJlID0gISFjYXB0dXJlO1xuICB0aGlzLmhhbmRsZXIgPSBvcHRfaGFuZGxlcjtcbiAgdGhpcy5rZXkgPSBnb29nLmV2ZW50cy5MaXN0ZW5hYmxlS2V5LnJlc2VydmVLZXkoKTtcbiAgdGhpcy5yZW1vdmVkID0gdGhpcy5jYWxsT25jZSA9ICExO1xufTtcbmdvb2cuZXZlbnRzLkxpc3RlbmVyLkVOQUJMRV9NT05JVE9SSU5HID0gITE7XG5nb29nLmV2ZW50cy5MaXN0ZW5lci5wcm90b3R5cGUubWFya0FzUmVtb3ZlZCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnJlbW92ZWQgPSAhMDtcbiAgdGhpcy5oYW5kbGVyID0gdGhpcy5zcmMgPSB0aGlzLnByb3h5ID0gdGhpcy5saXN0ZW5lciA9IG51bGw7XG59O1xuZ29vZy5vYmplY3QgPSB7fTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9mb3JFYWNoKG9iaiwgZiwgb3B0X29iaikge1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgZi5jYWxsKG9wdF9vYmosIG9ialtrZXldLCBrZXksIG9iaik7XG4gIH1cbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9maWx0ZXIob2JqLCBmLCBvcHRfb2JqKSB7XG4gIHZhciByZXMgPSB7fSwga2V5O1xuICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICBmLmNhbGwob3B0X29iaiwgb2JqW2tleV0sIGtleSwgb2JqKSAmJiAocmVzW2tleV0gPSBvYmpba2V5XSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9tYXAob2JqLCBmLCBvcHRfb2JqKSB7XG4gIHZhciByZXMgPSB7fSwga2V5O1xuICBmb3IgKGtleSBpbiBvYmopIHtcbiAgICByZXNba2V5XSA9IGYuY2FsbChvcHRfb2JqLCBvYmpba2V5XSwga2V5LCBvYmopO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3Rfc29tZShvYmosIGYsIG9wdF9vYmopIHtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmIChmLmNhbGwob3B0X29iaiwgb2JqW2tleV0sIGtleSwgb2JqKSkge1xuICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgfVxuICByZXR1cm4gITE7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZ2V0Q291bnQob2JqKSB7XG4gIHZhciBydiA9IDAsIGtleTtcbiAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgcnYrKztcbiAgfVxuICByZXR1cm4gcnY7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY29udGFpbnMob2JqLCB2YWwpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9jb250YWluc1ZhbHVlKG9iaiwgdmFsKTtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9nZXRWYWx1ZXMob2JqKSB7XG4gIHZhciByZXMgPSBbXSwgaSA9IDAsIGtleTtcbiAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgcmVzW2krK10gPSBvYmpba2V5XTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2dldEtleXMob2JqKSB7XG4gIHZhciByZXMgPSBbXSwgaSA9IDAsIGtleTtcbiAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgcmVzW2krK10gPSBrZXk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9jb250YWluc0tleShvYmosIGtleSkge1xuICByZXR1cm4gbnVsbCAhPT0gb2JqICYmIGtleSBpbiBvYmo7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY29udGFpbnNWYWx1ZShvYmosIHZhbCkge1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgaWYgKG9ialtrZXldID09IHZhbCkge1xuICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgfVxuICByZXR1cm4gITE7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZmluZEtleShvYmosIGYsIHRoaXNPYmopIHtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmIChmLmNhbGwodGhpc09iaiwgb2JqW2tleV0sIGtleSwgb2JqKSkge1xuICAgICAgcmV0dXJuIGtleTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9pc0VtcHR5KG9iaikge1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgcmV0dXJuICExO1xuICB9XG4gIHJldHVybiAhMDtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9jbGVhcihvYmopIHtcbiAgZm9yICh2YXIgaSBpbiBvYmopIHtcbiAgICBkZWxldGUgb2JqW2ldO1xuICB9XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfcmVtb3ZlKG9iaiwga2V5KSB7XG4gIHZhciBydjtcbiAgKHJ2ID0ga2V5IGluIG9iaikgJiYgZGVsZXRlIG9ialtrZXldO1xuICByZXR1cm4gcnY7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3Rfc2V0KG9iaiwga2V5LCB2YWx1ZSkge1xuICBvYmpba2V5XSA9IHZhbHVlO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2Nsb25lKG9iaikge1xuICB2YXIgcmVzID0ge30sIGtleTtcbiAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgcmVzW2tleV0gPSBvYmpba2V5XTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X3Vuc2FmZUNsb25lKG9iaikge1xuICBpZiAoIW9iaiB8fCBcIm9iamVjdFwiICE9PSB0eXBlb2Ygb2JqKSB7XG4gICAgcmV0dXJuIG9iajtcbiAgfVxuICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2Ygb2JqLmNsb25lKSB7XG4gICAgcmV0dXJuIG9iai5jbG9uZSgpO1xuICB9XG4gIGlmIChcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgTWFwICYmIG9iaiBpbnN0YW5jZW9mIE1hcCkge1xuICAgIHJldHVybiBuZXcgTWFwKG9iaik7XG4gIH1cbiAgaWYgKFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBTZXQgJiYgb2JqIGluc3RhbmNlb2YgU2V0KSB7XG4gICAgcmV0dXJuIG5ldyBTZXQob2JqKTtcbiAgfVxuICB2YXIgY2xvbmUgPSBBcnJheS5pc0FycmF5KG9iaikgPyBbXSA6IFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIEFycmF5QnVmZmVyIHx8IFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldyB8fCAhQXJyYXlCdWZmZXIuaXNWaWV3KG9iaikgfHwgb2JqIGluc3RhbmNlb2YgRGF0YVZpZXcgPyB7fSA6IG5ldyBvYmouY29uc3RydWN0b3Iob2JqLmxlbmd0aCksIGtleTtcbiAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgY2xvbmVba2V5XSA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF91bnNhZmVDbG9uZShvYmpba2V5XSk7XG4gIH1cbiAgcmV0dXJuIGNsb25lO1xufVxudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9QUk9UT1RZUEVfRklFTERTID0gXCJjb25zdHJ1Y3RvciBoYXNPd25Qcm9wZXJ0eSBpc1Byb3RvdHlwZU9mIHByb3BlcnR5SXNFbnVtZXJhYmxlIHRvTG9jYWxlU3RyaW5nIHRvU3RyaW5nIHZhbHVlT2ZcIi5zcGxpdChcIiBcIik7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZXh0ZW5kKHRhcmdldCwgdmFyX2FyZ3MpIHtcbiAgZm9yICh2YXIga2V5LCBzb3VyY2UsIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgc291cmNlID0gYXJndW1lbnRzW2ldO1xuICAgIGZvciAoa2V5IGluIHNvdXJjZSkge1xuICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICB9XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfUFJPVE9UWVBFX0ZJRUxEUy5sZW5ndGg7IGorKykge1xuICAgICAga2V5ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X1BST1RPVFlQRV9GSUVMRFNbal0sIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkgJiYgKHRhcmdldFtrZXldID0gc291cmNlW2tleV0pO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2NyZWF0ZSh2YXJfYXJncykge1xuICB2YXIgYXJnTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgaWYgKDEgPT0gYXJnTGVuZ3RoICYmIEFycmF5LmlzQXJyYXkoYXJndW1lbnRzWzBdKSkge1xuICAgIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY3JlYXRlLmFwcGx5KG51bGwsIGFyZ3VtZW50c1swXSk7XG4gIH1cbiAgaWYgKGFyZ0xlbmd0aCAlIDIpIHtcbiAgICB0aHJvdyBFcnJvcihcIlVuZXZlbiBudW1iZXIgb2YgYXJndW1lbnRzXCIpO1xuICB9XG4gIGZvciAodmFyIHJ2ID0ge30sIGkgPSAwOyBpIDwgYXJnTGVuZ3RoOyBpICs9IDIpIHtcbiAgICBydlthcmd1bWVudHNbaV1dID0gYXJndW1lbnRzW2kgKyAxXTtcbiAgfVxuICByZXR1cm4gcnY7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY3JlYXRlU2V0KHZhcl9hcmdzKSB7XG4gIHZhciBhcmdMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICBpZiAoMSA9PSBhcmdMZW5ndGggJiYgQXJyYXkuaXNBcnJheShhcmd1bWVudHNbMF0pKSB7XG4gICAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9jcmVhdGVTZXQuYXBwbHkobnVsbCwgYXJndW1lbnRzWzBdKTtcbiAgfVxuICBmb3IgKHZhciBydiA9IHt9LCBpID0gMDsgaSA8IGFyZ0xlbmd0aDsgaSsrKSB7XG4gICAgcnZbYXJndW1lbnRzW2ldXSA9ICEwO1xuICB9XG4gIHJldHVybiBydjtcbn1cbmdvb2cub2JqZWN0LmFkZCA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9hZGQob2JqLCBrZXksIHZhbCkge1xuICBpZiAobnVsbCAhPT0gb2JqICYmIGtleSBpbiBvYmopIHtcbiAgICB0aHJvdyBFcnJvcignVGhlIG9iamVjdCBhbHJlYWR5IGNvbnRhaW5zIHRoZSBrZXkgXCInICsga2V5ICsgJ1wiJyk7XG4gIH1cbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X3NldChvYmosIGtleSwgdmFsKTtcbn07XG5nb29nLm9iamVjdC5jbGVhciA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9jbGVhcjtcbmdvb2cub2JqZWN0LmNsb25lID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2Nsb25lO1xuZ29vZy5vYmplY3QuY29udGFpbnMgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY29udGFpbnM7XG5nb29nLm9iamVjdC5jb250YWluc0tleSA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9jb250YWluc0tleTtcbmdvb2cub2JqZWN0LmNvbnRhaW5zVmFsdWUgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY29udGFpbnNWYWx1ZTtcbmdvb2cub2JqZWN0LmNyZWF0ZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9jcmVhdGU7XG5nb29nLm9iamVjdC5jcmVhdGVJbW11dGFibGVWaWV3ID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2NyZWF0ZUltbXV0YWJsZVZpZXcob2JqKSB7XG4gIHZhciByZXN1bHQgPSBvYmo7XG4gIE9iamVjdC5pc0Zyb3plbiAmJiAhT2JqZWN0LmlzRnJvemVuKG9iaikgJiYgKHJlc3VsdCA9IE9iamVjdC5jcmVhdGUob2JqKSwgT2JqZWN0LmZyZWV6ZShyZXN1bHQpKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5nb29nLm9iamVjdC5jcmVhdGVTZXQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY3JlYXRlU2V0O1xuZ29vZy5vYmplY3QuZXF1YWxzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2VxdWFscyhhLCBiKSB7XG4gIGZvciAodmFyIGsgaW4gYSkge1xuICAgIGlmICghKGsgaW4gYikgfHwgYVtrXSAhPT0gYltrXSkge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfVxuICBmb3IgKHZhciBrJDM4IGluIGIpIHtcbiAgICBpZiAoIShrJDM4IGluIGEpKSB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICB9XG4gIHJldHVybiAhMDtcbn07XG5nb29nLm9iamVjdC5ldmVyeSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9ldmVyeShvYmosIGYsIG9wdF9vYmopIHtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmICghZi5jYWxsKG9wdF9vYmosIG9ialtrZXldLCBrZXksIG9iaikpIHtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICEwO1xufTtcbmdvb2cub2JqZWN0LmV4dGVuZCA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9leHRlbmQ7XG5nb29nLm9iamVjdC5maWx0ZXIgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZmlsdGVyO1xuZ29vZy5vYmplY3QuZmluZEtleSA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9maW5kS2V5O1xuZ29vZy5vYmplY3QuZmluZFZhbHVlID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2ZpbmRWYWx1ZShvYmosIGYsIHRoaXNPYmopIHtcbiAgdmFyIGtleSA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9maW5kS2V5KG9iaiwgZiwgdGhpc09iaik7XG4gIHJldHVybiBrZXkgJiYgb2JqW2tleV07XG59O1xuZ29vZy5vYmplY3QuZm9yRWFjaCA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9mb3JFYWNoO1xuZ29vZy5vYmplY3QuZ2V0ID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2dldChvYmosIGtleSwgdmFsKSB7XG4gIHJldHVybiBudWxsICE9PSBvYmogJiYga2V5IGluIG9iaiA/IG9ialtrZXldIDogdmFsO1xufTtcbmdvb2cub2JqZWN0LmdldEFsbFByb3BlcnR5TmFtZXMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZ2V0QWxsUHJvcGVydHlOYW1lcyhvYmosIGluY2x1ZGVPYmplY3RQcm90b3R5cGUsIGluY2x1ZGVGdW5jdGlvblByb3RvdHlwZSkge1xuICBpZiAoIW9iaikge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBpZiAoIU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHx8ICFPYmplY3QuZ2V0UHJvdG90eXBlT2YpIHtcbiAgICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2dldEtleXMob2JqKTtcbiAgfVxuICBmb3IgKHZhciB2aXNpdGVkU2V0ID0ge30sIHByb3RvID0gb2JqOyBwcm90byAmJiAocHJvdG8gIT09IE9iamVjdC5wcm90b3R5cGUgfHwgaW5jbHVkZU9iamVjdFByb3RvdHlwZSkgJiYgKHByb3RvICE9PSBGdW5jdGlvbi5wcm90b3R5cGUgfHwgaW5jbHVkZUZ1bmN0aW9uUHJvdG90eXBlKTspIHtcbiAgICBmb3IgKHZhciBuYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHByb3RvKSwgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmlzaXRlZFNldFtuYW1lc1tpXV0gPSAhMDtcbiAgICB9XG4gICAgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG8pO1xuICB9XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZ2V0S2V5cyh2aXNpdGVkU2V0KTtcbn07XG5nb29nLm9iamVjdC5nZXRBbnlLZXkgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZ2V0QW55S2V5KG9iaikge1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgcmV0dXJuIGtleTtcbiAgfVxufTtcbmdvb2cub2JqZWN0LmdldEFueVZhbHVlID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2dldEFueVZhbHVlKG9iaikge1xuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgcmV0dXJuIG9ialtrZXldO1xuICB9XG59O1xuZ29vZy5vYmplY3QuZ2V0Q291bnQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZ2V0Q291bnQ7XG5nb29nLm9iamVjdC5nZXRLZXlzID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2dldEtleXM7XG5nb29nLm9iamVjdC5nZXRTdXBlckNsYXNzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2dldFN1cGVyQ2xhc3MoY29uc3RydWN0b3IpIHtcbiAgdmFyIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGNvbnN0cnVjdG9yLnByb3RvdHlwZSk7XG4gIHJldHVybiBwcm90byAmJiBwcm90by5jb25zdHJ1Y3Rvcjtcbn07XG5nb29nLm9iamVjdC5nZXRWYWx1ZUJ5S2V5cyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9nZXRWYWx1ZUJ5S2V5cyhvYmosIHZhcl9hcmdzKSB7XG4gIGZvciAodmFyIGlzQXJyYXlMaWtlID0gZ29vZy5pc0FycmF5TGlrZSh2YXJfYXJncyksIGtleXMgPSBpc0FycmF5TGlrZSA/IHZhcl9hcmdzIDogYXJndW1lbnRzLCBpID0gaXNBcnJheUxpa2UgPyAwIDogMTsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAobnVsbCA9PSBvYmopIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgb2JqID0gb2JqW2tleXNbaV1dO1xuICB9XG4gIHJldHVybiBvYmo7XG59O1xuZ29vZy5vYmplY3QuZ2V0VmFsdWVzID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2dldFZhbHVlcztcbmdvb2cub2JqZWN0LmlzRW1wdHkgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfaXNFbXB0eTtcbmdvb2cub2JqZWN0LmlzSW1tdXRhYmxlVmlldyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9pc0ltbXV0YWJsZVZpZXcob2JqKSB7XG4gIHJldHVybiAhIU9iamVjdC5pc0Zyb3plbiAmJiBPYmplY3QuaXNGcm96ZW4ob2JqKTtcbn07XG5nb29nLm9iamVjdC5tYXAgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfbWFwO1xuZ29vZy5vYmplY3QucmVtb3ZlID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X3JlbW92ZTtcbmdvb2cub2JqZWN0LnNldCA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9zZXQ7XG5nb29nLm9iamVjdC5zZXRJZlVuZGVmaW5lZCA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9zZXRJZlVuZGVmaW5lZChvYmosIGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIGtleSBpbiBvYmogPyBvYmpba2V5XSA6IG9ialtrZXldID0gdmFsdWU7XG59O1xuZ29vZy5vYmplY3Quc2V0V2l0aFJldHVyblZhbHVlSWZOb3RTZXQgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3Rfc2V0V2l0aFJldHVyblZhbHVlSWZOb3RTZXQob2JqLCBrZXksIGYpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICByZXR1cm4gb2JqW2tleV07XG4gIH1cbiAgdmFyIHZhbCA9IGYoKTtcbiAgcmV0dXJuIG9ialtrZXldID0gdmFsO1xufTtcbmdvb2cub2JqZWN0LnNvbWUgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3Rfc29tZTtcbmdvb2cub2JqZWN0LnRyYW5zcG9zZSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF90cmFuc3Bvc2Uob2JqKSB7XG4gIHZhciB0cmFuc3Bvc2VkID0ge30sIGtleTtcbiAgZm9yIChrZXkgaW4gb2JqKSB7XG4gICAgdHJhbnNwb3NlZFtvYmpba2V5XV0gPSBrZXk7XG4gIH1cbiAgcmV0dXJuIHRyYW5zcG9zZWQ7XG59O1xuZ29vZy5vYmplY3QudW5zYWZlQ2xvbmUgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfdW5zYWZlQ2xvbmU7XG5nb29nLmV2ZW50cy5MaXN0ZW5lck1hcCA9IGZ1bmN0aW9uKHNyYykge1xuICB0aGlzLnNyYyA9IHNyYztcbiAgdGhpcy5saXN0ZW5lcnMgPSB7fTtcbiAgdGhpcy50eXBlQ291bnRfID0gMDtcbn07XG5nb29nLmV2ZW50cy5MaXN0ZW5lck1hcC5wcm90b3R5cGUuZ2V0VHlwZUNvdW50ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnR5cGVDb3VudF87XG59O1xuZ29vZy5ldmVudHMuTGlzdGVuZXJNYXAucHJvdG90eXBlLmdldExpc3RlbmVyQ291bnQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGNvdW50ID0gMCwgdHlwZTtcbiAgZm9yICh0eXBlIGluIHRoaXMubGlzdGVuZXJzKSB7XG4gICAgY291bnQgKz0gdGhpcy5saXN0ZW5lcnNbdHlwZV0ubGVuZ3RoO1xuICB9XG4gIHJldHVybiBjb3VudDtcbn07XG5nb29nLmV2ZW50cy5MaXN0ZW5lck1hcC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIsIGNhbGxPbmNlLCBvcHRfdXNlQ2FwdHVyZSwgb3B0X2xpc3RlbmVyU2NvcGUpIHtcbiAgdmFyIHR5cGVTdHIgPSB0eXBlLnRvU3RyaW5nKCksIGxpc3RlbmVyQXJyYXkgPSB0aGlzLmxpc3RlbmVyc1t0eXBlU3RyXTtcbiAgbGlzdGVuZXJBcnJheSB8fCAobGlzdGVuZXJBcnJheSA9IHRoaXMubGlzdGVuZXJzW3R5cGVTdHJdID0gW10sIHRoaXMudHlwZUNvdW50XysrKTtcbiAgdmFyIGluZGV4ID0gZ29vZy5ldmVudHMuTGlzdGVuZXJNYXAuZmluZExpc3RlbmVySW5kZXhfKGxpc3RlbmVyQXJyYXksIGxpc3RlbmVyLCBvcHRfdXNlQ2FwdHVyZSwgb3B0X2xpc3RlbmVyU2NvcGUpO1xuICBpZiAoLTEgPCBpbmRleCkge1xuICAgIHZhciBsaXN0ZW5lck9iaiA9IGxpc3RlbmVyQXJyYXlbaW5kZXhdO1xuICAgIGNhbGxPbmNlIHx8IChsaXN0ZW5lck9iai5jYWxsT25jZSA9ICExKTtcbiAgfSBlbHNlIHtcbiAgICBsaXN0ZW5lck9iaiA9IG5ldyBnb29nLmV2ZW50cy5MaXN0ZW5lcihsaXN0ZW5lciwgbnVsbCwgdGhpcy5zcmMsIHR5cGVTdHIsICEhb3B0X3VzZUNhcHR1cmUsIG9wdF9saXN0ZW5lclNjb3BlKSwgbGlzdGVuZXJPYmouY2FsbE9uY2UgPSBjYWxsT25jZSwgbGlzdGVuZXJBcnJheS5wdXNoKGxpc3RlbmVyT2JqKTtcbiAgfVxuICByZXR1cm4gbGlzdGVuZXJPYmo7XG59O1xuZ29vZy5ldmVudHMuTGlzdGVuZXJNYXAucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyLCBvcHRfdXNlQ2FwdHVyZSwgb3B0X2xpc3RlbmVyU2NvcGUpIHtcbiAgdmFyIHR5cGVTdHIgPSB0eXBlLnRvU3RyaW5nKCk7XG4gIGlmICghKHR5cGVTdHIgaW4gdGhpcy5saXN0ZW5lcnMpKSB7XG4gICAgcmV0dXJuICExO1xuICB9XG4gIHZhciBsaXN0ZW5lckFycmF5ID0gdGhpcy5saXN0ZW5lcnNbdHlwZVN0cl0sIGluZGV4ID0gZ29vZy5ldmVudHMuTGlzdGVuZXJNYXAuZmluZExpc3RlbmVySW5kZXhfKGxpc3RlbmVyQXJyYXksIGxpc3RlbmVyLCBvcHRfdXNlQ2FwdHVyZSwgb3B0X2xpc3RlbmVyU2NvcGUpO1xuICByZXR1cm4gLTEgPCBpbmRleCA/IChsaXN0ZW5lckFycmF5W2luZGV4XS5tYXJrQXNSZW1vdmVkKCksIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZUF0KGxpc3RlbmVyQXJyYXksIGluZGV4KSwgMCA9PSBsaXN0ZW5lckFycmF5Lmxlbmd0aCAmJiAoZGVsZXRlIHRoaXMubGlzdGVuZXJzW3R5cGVTdHJdLCB0aGlzLnR5cGVDb3VudF8tLSksICEwKSA6ICExO1xufTtcbmdvb2cuZXZlbnRzLkxpc3RlbmVyTWFwLnByb3RvdHlwZS5yZW1vdmVCeUtleSA9IGZ1bmN0aW9uKGxpc3RlbmVyKSB7XG4gIHZhciB0eXBlID0gbGlzdGVuZXIudHlwZTtcbiAgaWYgKCEodHlwZSBpbiB0aGlzLmxpc3RlbmVycykpIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgdmFyIHJlbW92ZWQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZW1vdmUodGhpcy5saXN0ZW5lcnNbdHlwZV0sIGxpc3RlbmVyKTtcbiAgcmVtb3ZlZCAmJiAobGlzdGVuZXIubWFya0FzUmVtb3ZlZCgpLCAwID09IHRoaXMubGlzdGVuZXJzW3R5cGVdLmxlbmd0aCAmJiAoZGVsZXRlIHRoaXMubGlzdGVuZXJzW3R5cGVdLCB0aGlzLnR5cGVDb3VudF8tLSkpO1xuICByZXR1cm4gcmVtb3ZlZDtcbn07XG5nb29nLmV2ZW50cy5MaXN0ZW5lck1hcC5wcm90b3R5cGUucmVtb3ZlQWxsID0gZnVuY3Rpb24ob3B0X3R5cGUpIHtcbiAgdmFyIHR5cGVTdHIgPSBvcHRfdHlwZSAmJiBvcHRfdHlwZS50b1N0cmluZygpLCBjb3VudCA9IDAsIHR5cGU7XG4gIGZvciAodHlwZSBpbiB0aGlzLmxpc3RlbmVycykge1xuICAgIGlmICghdHlwZVN0ciB8fCB0eXBlID09IHR5cGVTdHIpIHtcbiAgICAgIGZvciAodmFyIGxpc3RlbmVyQXJyYXkgPSB0aGlzLmxpc3RlbmVyc1t0eXBlXSwgaSA9IDA7IGkgPCBsaXN0ZW5lckFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICsrY291bnQsIGxpc3RlbmVyQXJyYXlbaV0ubWFya0FzUmVtb3ZlZCgpO1xuICAgICAgfVxuICAgICAgZGVsZXRlIHRoaXMubGlzdGVuZXJzW3R5cGVdO1xuICAgICAgdGhpcy50eXBlQ291bnRfLS07XG4gICAgfVxuICB9XG4gIHJldHVybiBjb3VudDtcbn07XG5nb29nLmV2ZW50cy5MaXN0ZW5lck1hcC5wcm90b3R5cGUuZ2V0TGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSwgY2FwdHVyZSkge1xuICB2YXIgbGlzdGVuZXJBcnJheSA9IHRoaXMubGlzdGVuZXJzW3R5cGUudG9TdHJpbmcoKV0sIHJ2ID0gW107XG4gIGlmIChsaXN0ZW5lckFycmF5KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lckFycmF5Lmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgbGlzdGVuZXJPYmogPSBsaXN0ZW5lckFycmF5W2ldO1xuICAgICAgbGlzdGVuZXJPYmouY2FwdHVyZSA9PSBjYXB0dXJlICYmIHJ2LnB1c2gobGlzdGVuZXJPYmopO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcnY7XG59O1xuZ29vZy5ldmVudHMuTGlzdGVuZXJNYXAucHJvdG90eXBlLmdldExpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIsIGNhcHR1cmUsIG9wdF9saXN0ZW5lclNjb3BlKSB7XG4gIHZhciBsaXN0ZW5lckFycmF5ID0gdGhpcy5saXN0ZW5lcnNbdHlwZS50b1N0cmluZygpXSwgaSA9IC0xO1xuICBsaXN0ZW5lckFycmF5ICYmIChpID0gZ29vZy5ldmVudHMuTGlzdGVuZXJNYXAuZmluZExpc3RlbmVySW5kZXhfKGxpc3RlbmVyQXJyYXksIGxpc3RlbmVyLCBjYXB0dXJlLCBvcHRfbGlzdGVuZXJTY29wZSkpO1xuICByZXR1cm4gLTEgPCBpID8gbGlzdGVuZXJBcnJheVtpXSA6IG51bGw7XG59O1xuZ29vZy5ldmVudHMuTGlzdGVuZXJNYXAucHJvdG90eXBlLmhhc0xpc3RlbmVyID0gZnVuY3Rpb24ob3B0X3R5cGUsIG9wdF9jYXB0dXJlKSB7XG4gIHZhciBoYXNUeXBlID0gdm9pZCAwICE9PSBvcHRfdHlwZSwgdHlwZVN0ciA9IGhhc1R5cGUgPyBvcHRfdHlwZS50b1N0cmluZygpIDogXCJcIiwgaGFzQ2FwdHVyZSA9IHZvaWQgMCAhPT0gb3B0X2NhcHR1cmU7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3Rfc29tZSh0aGlzLmxpc3RlbmVycywgZnVuY3Rpb24obGlzdGVuZXJBcnJheSwgdHlwZSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJBcnJheS5sZW5ndGg7ICsraSkge1xuICAgICAgaWYgKCEoaGFzVHlwZSAmJiBsaXN0ZW5lckFycmF5W2ldLnR5cGUgIT0gdHlwZVN0ciB8fCBoYXNDYXB0dXJlICYmIGxpc3RlbmVyQXJyYXlbaV0uY2FwdHVyZSAhPSBvcHRfY2FwdHVyZSkpIHtcbiAgICAgICAgcmV0dXJuICEwO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gITE7XG4gIH0pO1xufTtcbmdvb2cuZXZlbnRzLkxpc3RlbmVyTWFwLmZpbmRMaXN0ZW5lckluZGV4XyA9IGZ1bmN0aW9uKGxpc3RlbmVyQXJyYXksIGxpc3RlbmVyLCBvcHRfdXNlQ2FwdHVyZSwgb3B0X2xpc3RlbmVyU2NvcGUpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lckFycmF5Lmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIGxpc3RlbmVyT2JqID0gbGlzdGVuZXJBcnJheVtpXTtcbiAgICBpZiAoIWxpc3RlbmVyT2JqLnJlbW92ZWQgJiYgbGlzdGVuZXJPYmoubGlzdGVuZXIgPT0gbGlzdGVuZXIgJiYgbGlzdGVuZXJPYmouY2FwdHVyZSA9PSAhIW9wdF91c2VDYXB0dXJlICYmIGxpc3RlbmVyT2JqLmhhbmRsZXIgPT0gb3B0X2xpc3RlbmVyU2NvcGUpIHtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59O1xuZ29vZy5ldmVudHMuS2V5ID0ge307XG5nb29nLmV2ZW50cy5MaXN0ZW5hYmxlVHlwZSA9IHt9O1xuZ29vZy5ldmVudHMuTElTVEVORVJfTUFQX1BST1BfID0gXCJjbG9zdXJlX2xtX1wiICsgKDFlNiAqIE1hdGgucmFuZG9tKCkgfCAwKTtcbmdvb2cuZXZlbnRzLm9uU3RyaW5nXyA9IFwib25cIjtcbmdvb2cuZXZlbnRzLm9uU3RyaW5nTWFwXyA9IHt9O1xuZ29vZy5ldmVudHMuQ2FwdHVyZVNpbXVsYXRpb25Nb2RlID0ge09GRl9BTkRfRkFJTDowLCBPRkZfQU5EX1NJTEVOVDoxLCBPTjoyfTtcbmdvb2cuZXZlbnRzLkNBUFRVUkVfU0lNVUxBVElPTl9NT0RFID0gMjtcbmdvb2cuZXZlbnRzLmxpc3RlbmVyQ291bnRFc3RpbWF0ZV8gPSAwO1xuZ29vZy5ldmVudHMubGlzdGVuID0gZnVuY3Rpb24oc3JjLCB0eXBlLCBsaXN0ZW5lciwgb3B0X29wdGlvbnMsIG9wdF9oYW5kbGVyKSB7XG4gIGlmIChvcHRfb3B0aW9ucyAmJiBvcHRfb3B0aW9ucy5vbmNlKSB7XG4gICAgcmV0dXJuIGdvb2cuZXZlbnRzLmxpc3Rlbk9uY2Uoc3JjLCB0eXBlLCBsaXN0ZW5lciwgb3B0X29wdGlvbnMsIG9wdF9oYW5kbGVyKTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHlwZS5sZW5ndGg7IGkrKykge1xuICAgICAgZ29vZy5ldmVudHMubGlzdGVuKHNyYywgdHlwZVtpXSwgbGlzdGVuZXIsIG9wdF9vcHRpb25zLCBvcHRfaGFuZGxlcik7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxpc3RlbmVyID0gZ29vZy5ldmVudHMud3JhcExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgcmV0dXJuIGdvb2cuZXZlbnRzLkxpc3RlbmFibGUuaXNJbXBsZW1lbnRlZEJ5KHNyYykgPyBzcmMubGlzdGVuKHR5cGUsIGxpc3RlbmVyLCBnb29nLmlzT2JqZWN0KG9wdF9vcHRpb25zKSA/ICEhb3B0X29wdGlvbnMuY2FwdHVyZSA6ICEhb3B0X29wdGlvbnMsIG9wdF9oYW5kbGVyKSA6IGdvb2cuZXZlbnRzLmxpc3Rlbl8oc3JjLCB0eXBlLCBsaXN0ZW5lciwgITEsIG9wdF9vcHRpb25zLCBvcHRfaGFuZGxlcik7XG59O1xuZ29vZy5ldmVudHMubGlzdGVuXyA9IGZ1bmN0aW9uKHNyYywgdHlwZSwgbGlzdGVuZXIsIGNhbGxPbmNlLCBvcHRfb3B0aW9ucywgb3B0X2hhbmRsZXIpIHtcbiAgaWYgKCF0eXBlKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGV2ZW50IHR5cGVcIik7XG4gIH1cbiAgdmFyIGNhcHR1cmUgPSBnb29nLmlzT2JqZWN0KG9wdF9vcHRpb25zKSA/ICEhb3B0X29wdGlvbnMuY2FwdHVyZSA6ICEhb3B0X29wdGlvbnMsIGxpc3RlbmVyTWFwID0gZ29vZy5ldmVudHMuZ2V0TGlzdGVuZXJNYXBfKHNyYyk7XG4gIGxpc3RlbmVyTWFwIHx8IChzcmNbZ29vZy5ldmVudHMuTElTVEVORVJfTUFQX1BST1BfXSA9IGxpc3RlbmVyTWFwID0gbmV3IGdvb2cuZXZlbnRzLkxpc3RlbmVyTWFwKHNyYykpO1xuICB2YXIgbGlzdGVuZXJPYmogPSBsaXN0ZW5lck1hcC5hZGQodHlwZSwgbGlzdGVuZXIsIGNhbGxPbmNlLCBjYXB0dXJlLCBvcHRfaGFuZGxlcik7XG4gIGlmIChsaXN0ZW5lck9iai5wcm94eSkge1xuICAgIHJldHVybiBsaXN0ZW5lck9iajtcbiAgfVxuICB2YXIgcHJveHkgPSBnb29nLmV2ZW50cy5nZXRQcm94eSgpO1xuICBsaXN0ZW5lck9iai5wcm94eSA9IHByb3h5O1xuICBwcm94eS5zcmMgPSBzcmM7XG4gIHByb3h5Lmxpc3RlbmVyID0gbGlzdGVuZXJPYmo7XG4gIGlmIChzcmMuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgIGdvb2cuZXZlbnRzLkJyb3dzZXJGZWF0dXJlLlBBU1NJVkVfRVZFTlRTIHx8IChvcHRfb3B0aW9ucyA9IGNhcHR1cmUpLCB2b2lkIDAgPT09IG9wdF9vcHRpb25zICYmIChvcHRfb3B0aW9ucyA9ICExKSwgc3JjLmFkZEV2ZW50TGlzdGVuZXIodHlwZS50b1N0cmluZygpLCBwcm94eSwgb3B0X29wdGlvbnMpO1xuICB9IGVsc2Uge1xuICAgIGlmIChzcmMuYXR0YWNoRXZlbnQpIHtcbiAgICAgIHNyYy5hdHRhY2hFdmVudChnb29nLmV2ZW50cy5nZXRPblN0cmluZ18odHlwZS50b1N0cmluZygpKSwgcHJveHkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoc3JjLmFkZExpc3RlbmVyICYmIHNyYy5yZW1vdmVMaXN0ZW5lcikge1xuICAgICAgICBnb29nLmFzc2VydHMuYXNzZXJ0KFwiY2hhbmdlXCIgPT09IHR5cGUsIFwiTWVkaWFRdWVyeUxpc3Qgb25seSBoYXMgYSBjaGFuZ2UgZXZlbnRcIiksIHNyYy5hZGRMaXN0ZW5lcihwcm94eSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcihcImFkZEV2ZW50TGlzdGVuZXIgYW5kIGF0dGFjaEV2ZW50IGFyZSB1bmF2YWlsYWJsZS5cIik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGdvb2cuZXZlbnRzLmxpc3RlbmVyQ291bnRFc3RpbWF0ZV8rKztcbiAgcmV0dXJuIGxpc3RlbmVyT2JqO1xufTtcbmdvb2cuZXZlbnRzLmdldFByb3h5ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBwcm94eUNhbGxiYWNrRnVuY3Rpb24gPSBnb29nLmV2ZW50cy5oYW5kbGVCcm93c2VyRXZlbnRfLCBmID0gZnVuY3Rpb24oZXZlbnRPYmplY3QpIHtcbiAgICByZXR1cm4gcHJveHlDYWxsYmFja0Z1bmN0aW9uLmNhbGwoZi5zcmMsIGYubGlzdGVuZXIsIGV2ZW50T2JqZWN0KTtcbiAgfTtcbiAgcmV0dXJuIGY7XG59O1xuZ29vZy5ldmVudHMubGlzdGVuT25jZSA9IGZ1bmN0aW9uKHNyYywgdHlwZSwgbGlzdGVuZXIsIG9wdF9vcHRpb25zLCBvcHRfaGFuZGxlcikge1xuICBpZiAoQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHlwZS5sZW5ndGg7IGkrKykge1xuICAgICAgZ29vZy5ldmVudHMubGlzdGVuT25jZShzcmMsIHR5cGVbaV0sIGxpc3RlbmVyLCBvcHRfb3B0aW9ucywgb3B0X2hhbmRsZXIpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBsaXN0ZW5lciA9IGdvb2cuZXZlbnRzLndyYXBMaXN0ZW5lcihsaXN0ZW5lcik7XG4gIHJldHVybiBnb29nLmV2ZW50cy5MaXN0ZW5hYmxlLmlzSW1wbGVtZW50ZWRCeShzcmMpID8gc3JjLmxpc3Rlbk9uY2UodHlwZSwgbGlzdGVuZXIsIGdvb2cuaXNPYmplY3Qob3B0X29wdGlvbnMpID8gISFvcHRfb3B0aW9ucy5jYXB0dXJlIDogISFvcHRfb3B0aW9ucywgb3B0X2hhbmRsZXIpIDogZ29vZy5ldmVudHMubGlzdGVuXyhzcmMsIHR5cGUsIGxpc3RlbmVyLCAhMCwgb3B0X29wdGlvbnMsIG9wdF9oYW5kbGVyKTtcbn07XG5nb29nLmV2ZW50cy5saXN0ZW5XaXRoV3JhcHBlciA9IGZ1bmN0aW9uKHNyYywgd3JhcHBlciwgbGlzdGVuZXIsIG9wdF9jYXB0LCBvcHRfaGFuZGxlcikge1xuICB3cmFwcGVyLmxpc3RlbihzcmMsIGxpc3RlbmVyLCBvcHRfY2FwdCwgb3B0X2hhbmRsZXIpO1xufTtcbmdvb2cuZXZlbnRzLnVubGlzdGVuID0gZnVuY3Rpb24oc3JjLCB0eXBlLCBsaXN0ZW5lciwgb3B0X29wdGlvbnMsIG9wdF9oYW5kbGVyKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHR5cGUpKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBnb29nLmV2ZW50cy51bmxpc3RlbihzcmMsIHR5cGVbaV0sIGxpc3RlbmVyLCBvcHRfb3B0aW9ucywgb3B0X2hhbmRsZXIpO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgY2FwdHVyZSA9IGdvb2cuaXNPYmplY3Qob3B0X29wdGlvbnMpID8gISFvcHRfb3B0aW9ucy5jYXB0dXJlIDogISFvcHRfb3B0aW9ucztcbiAgbGlzdGVuZXIgPSBnb29nLmV2ZW50cy53cmFwTGlzdGVuZXIobGlzdGVuZXIpO1xuICBpZiAoZ29vZy5ldmVudHMuTGlzdGVuYWJsZS5pc0ltcGxlbWVudGVkQnkoc3JjKSkge1xuICAgIHJldHVybiBzcmMudW5saXN0ZW4odHlwZSwgbGlzdGVuZXIsIGNhcHR1cmUsIG9wdF9oYW5kbGVyKTtcbiAgfVxuICBpZiAoIXNyYykge1xuICAgIHJldHVybiAhMTtcbiAgfVxuICB2YXIgbGlzdGVuZXJNYXAgPSBnb29nLmV2ZW50cy5nZXRMaXN0ZW5lck1hcF8oc3JjKTtcbiAgaWYgKGxpc3RlbmVyTWFwKSB7XG4gICAgdmFyIGxpc3RlbmVyT2JqID0gbGlzdGVuZXJNYXAuZ2V0TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIGNhcHR1cmUsIG9wdF9oYW5kbGVyKTtcbiAgICBpZiAobGlzdGVuZXJPYmopIHtcbiAgICAgIHJldHVybiBnb29nLmV2ZW50cy51bmxpc3RlbkJ5S2V5KGxpc3RlbmVyT2JqKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICExO1xufTtcbmdvb2cuZXZlbnRzLnVubGlzdGVuQnlLZXkgPSBmdW5jdGlvbihrZXkpIHtcbiAgaWYgKFwibnVtYmVyXCIgPT09IHR5cGVvZiBrZXkgfHwgIWtleSB8fCBrZXkucmVtb3ZlZCkge1xuICAgIHJldHVybiAhMTtcbiAgfVxuICB2YXIgc3JjID0ga2V5LnNyYztcbiAgaWYgKGdvb2cuZXZlbnRzLkxpc3RlbmFibGUuaXNJbXBsZW1lbnRlZEJ5KHNyYykpIHtcbiAgICByZXR1cm4gc3JjLnVubGlzdGVuQnlLZXkoa2V5KTtcbiAgfVxuICB2YXIgdHlwZSA9IGtleS50eXBlLCBwcm94eSA9IGtleS5wcm94eTtcbiAgc3JjLnJlbW92ZUV2ZW50TGlzdGVuZXIgPyBzcmMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBwcm94eSwga2V5LmNhcHR1cmUpIDogc3JjLmRldGFjaEV2ZW50ID8gc3JjLmRldGFjaEV2ZW50KGdvb2cuZXZlbnRzLmdldE9uU3RyaW5nXyh0eXBlKSwgcHJveHkpIDogc3JjLmFkZExpc3RlbmVyICYmIHNyYy5yZW1vdmVMaXN0ZW5lciAmJiBzcmMucmVtb3ZlTGlzdGVuZXIocHJveHkpO1xuICBnb29nLmV2ZW50cy5saXN0ZW5lckNvdW50RXN0aW1hdGVfLS07XG4gIHZhciBsaXN0ZW5lck1hcCA9IGdvb2cuZXZlbnRzLmdldExpc3RlbmVyTWFwXyhzcmMpO1xuICBsaXN0ZW5lck1hcCA/IChsaXN0ZW5lck1hcC5yZW1vdmVCeUtleShrZXkpLCAwID09IGxpc3RlbmVyTWFwLmdldFR5cGVDb3VudCgpICYmIChsaXN0ZW5lck1hcC5zcmMgPSBudWxsLCBzcmNbZ29vZy5ldmVudHMuTElTVEVORVJfTUFQX1BST1BfXSA9IG51bGwpKSA6IGtleS5tYXJrQXNSZW1vdmVkKCk7XG4gIHJldHVybiAhMDtcbn07XG5nb29nLmV2ZW50cy51bmxpc3RlbldpdGhXcmFwcGVyID0gZnVuY3Rpb24oc3JjLCB3cmFwcGVyLCBsaXN0ZW5lciwgb3B0X2NhcHQsIG9wdF9oYW5kbGVyKSB7XG4gIHdyYXBwZXIudW5saXN0ZW4oc3JjLCBsaXN0ZW5lciwgb3B0X2NhcHQsIG9wdF9oYW5kbGVyKTtcbn07XG5nb29nLmV2ZW50cy5yZW1vdmVBbGwgPSBmdW5jdGlvbihvYmosIG9wdF90eXBlKSB7XG4gIGlmICghb2JqKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgaWYgKGdvb2cuZXZlbnRzLkxpc3RlbmFibGUuaXNJbXBsZW1lbnRlZEJ5KG9iaikpIHtcbiAgICByZXR1cm4gb2JqLnJlbW92ZUFsbExpc3RlbmVycyhvcHRfdHlwZSk7XG4gIH1cbiAgdmFyIGxpc3RlbmVyTWFwID0gZ29vZy5ldmVudHMuZ2V0TGlzdGVuZXJNYXBfKG9iaik7XG4gIGlmICghbGlzdGVuZXJNYXApIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICB2YXIgY291bnQgPSAwLCB0eXBlU3RyID0gb3B0X3R5cGUgJiYgb3B0X3R5cGUudG9TdHJpbmcoKSwgdHlwZTtcbiAgZm9yICh0eXBlIGluIGxpc3RlbmVyTWFwLmxpc3RlbmVycykge1xuICAgIGlmICghdHlwZVN0ciB8fCB0eXBlID09IHR5cGVTdHIpIHtcbiAgICAgIGZvciAodmFyIGxpc3RlbmVycyA9IGxpc3RlbmVyTWFwLmxpc3RlbmVyc1t0eXBlXS5jb25jYXQoKSwgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgZ29vZy5ldmVudHMudW5saXN0ZW5CeUtleShsaXN0ZW5lcnNbaV0pICYmICsrY291bnQ7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBjb3VudDtcbn07XG5nb29nLmV2ZW50cy5nZXRMaXN0ZW5lcnMgPSBmdW5jdGlvbihvYmosIHR5cGUsIGNhcHR1cmUpIHtcbiAgaWYgKGdvb2cuZXZlbnRzLkxpc3RlbmFibGUuaXNJbXBsZW1lbnRlZEJ5KG9iaikpIHtcbiAgICByZXR1cm4gb2JqLmdldExpc3RlbmVycyh0eXBlLCBjYXB0dXJlKTtcbiAgfVxuICBpZiAoIW9iaikge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICB2YXIgbGlzdGVuZXJNYXAgPSBnb29nLmV2ZW50cy5nZXRMaXN0ZW5lck1hcF8ob2JqKTtcbiAgcmV0dXJuIGxpc3RlbmVyTWFwID8gbGlzdGVuZXJNYXAuZ2V0TGlzdGVuZXJzKHR5cGUsIGNhcHR1cmUpIDogW107XG59O1xuZ29vZy5ldmVudHMuZ2V0TGlzdGVuZXIgPSBmdW5jdGlvbihzcmMsIHR5cGUsIGxpc3RlbmVyLCBvcHRfY2FwdCwgb3B0X2hhbmRsZXIpIHtcbiAgbGlzdGVuZXIgPSBnb29nLmV2ZW50cy53cmFwTGlzdGVuZXIobGlzdGVuZXIpO1xuICB2YXIgY2FwdHVyZSA9ICEhb3B0X2NhcHQ7XG4gIGlmIChnb29nLmV2ZW50cy5MaXN0ZW5hYmxlLmlzSW1wbGVtZW50ZWRCeShzcmMpKSB7XG4gICAgcmV0dXJuIHNyYy5nZXRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgY2FwdHVyZSwgb3B0X2hhbmRsZXIpO1xuICB9XG4gIGlmICghc3JjKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIGxpc3RlbmVyTWFwID0gZ29vZy5ldmVudHMuZ2V0TGlzdGVuZXJNYXBfKHNyYyk7XG4gIHJldHVybiBsaXN0ZW5lck1hcCA/IGxpc3RlbmVyTWFwLmdldExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBjYXB0dXJlLCBvcHRfaGFuZGxlcikgOiBudWxsO1xufTtcbmdvb2cuZXZlbnRzLmhhc0xpc3RlbmVyID0gZnVuY3Rpb24ob2JqLCBvcHRfdHlwZSwgb3B0X2NhcHR1cmUpIHtcbiAgaWYgKGdvb2cuZXZlbnRzLkxpc3RlbmFibGUuaXNJbXBsZW1lbnRlZEJ5KG9iaikpIHtcbiAgICByZXR1cm4gb2JqLmhhc0xpc3RlbmVyKG9wdF90eXBlLCBvcHRfY2FwdHVyZSk7XG4gIH1cbiAgdmFyIGxpc3RlbmVyTWFwID0gZ29vZy5ldmVudHMuZ2V0TGlzdGVuZXJNYXBfKG9iaik7XG4gIHJldHVybiAhIWxpc3RlbmVyTWFwICYmIGxpc3RlbmVyTWFwLmhhc0xpc3RlbmVyKG9wdF90eXBlLCBvcHRfY2FwdHVyZSk7XG59O1xuZ29vZy5ldmVudHMuZXhwb3NlID0gZnVuY3Rpb24oZSkge1xuICB2YXIgc3RyID0gW10sIGtleTtcbiAgZm9yIChrZXkgaW4gZSkge1xuICAgIGVba2V5XSAmJiBlW2tleV0uaWQgPyBzdHIucHVzaChrZXkgKyBcIiA9IFwiICsgZVtrZXldICsgXCIgKFwiICsgZVtrZXldLmlkICsgXCIpXCIpIDogc3RyLnB1c2goa2V5ICsgXCIgPSBcIiArIGVba2V5XSk7XG4gIH1cbiAgcmV0dXJuIHN0ci5qb2luKFwiXFxuXCIpO1xufTtcbmdvb2cuZXZlbnRzLmdldE9uU3RyaW5nXyA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgcmV0dXJuIHR5cGUgaW4gZ29vZy5ldmVudHMub25TdHJpbmdNYXBfID8gZ29vZy5ldmVudHMub25TdHJpbmdNYXBfW3R5cGVdIDogZ29vZy5ldmVudHMub25TdHJpbmdNYXBfW3R5cGVdID0gZ29vZy5ldmVudHMub25TdHJpbmdfICsgdHlwZTtcbn07XG5nb29nLmV2ZW50cy5maXJlTGlzdGVuZXJzID0gZnVuY3Rpb24ob2JqLCB0eXBlLCBjYXB0dXJlLCBldmVudE9iamVjdCkge1xuICByZXR1cm4gZ29vZy5ldmVudHMuTGlzdGVuYWJsZS5pc0ltcGxlbWVudGVkQnkob2JqKSA/IG9iai5maXJlTGlzdGVuZXJzKHR5cGUsIGNhcHR1cmUsIGV2ZW50T2JqZWN0KSA6IGdvb2cuZXZlbnRzLmZpcmVMaXN0ZW5lcnNfKG9iaiwgdHlwZSwgY2FwdHVyZSwgZXZlbnRPYmplY3QpO1xufTtcbmdvb2cuZXZlbnRzLmZpcmVMaXN0ZW5lcnNfID0gZnVuY3Rpb24ob2JqLCB0eXBlLCBjYXB0dXJlLCBldmVudE9iamVjdCkge1xuICB2YXIgcmV0dmFsID0gITAsIGxpc3RlbmVyTWFwID0gZ29vZy5ldmVudHMuZ2V0TGlzdGVuZXJNYXBfKG9iaik7XG4gIGlmIChsaXN0ZW5lck1hcCkge1xuICAgIHZhciBsaXN0ZW5lckFycmF5ID0gbGlzdGVuZXJNYXAubGlzdGVuZXJzW3R5cGUudG9TdHJpbmcoKV07XG4gICAgaWYgKGxpc3RlbmVyQXJyYXkpIHtcbiAgICAgIGxpc3RlbmVyQXJyYXkgPSBsaXN0ZW5lckFycmF5LmNvbmNhdCgpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lckFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBsaXN0ZW5lciA9IGxpc3RlbmVyQXJyYXlbaV07XG4gICAgICAgIGlmIChsaXN0ZW5lciAmJiBsaXN0ZW5lci5jYXB0dXJlID09IGNhcHR1cmUgJiYgIWxpc3RlbmVyLnJlbW92ZWQpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gZ29vZy5ldmVudHMuZmlyZUxpc3RlbmVyKGxpc3RlbmVyLCBldmVudE9iamVjdCk7XG4gICAgICAgICAgcmV0dmFsID0gcmV0dmFsICYmICExICE9PSByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJldHZhbDtcbn07XG5nb29nLmV2ZW50cy5maXJlTGlzdGVuZXIgPSBmdW5jdGlvbihsaXN0ZW5lciwgZXZlbnRPYmplY3QpIHtcbiAgdmFyIGxpc3RlbmVyRm4gPSBsaXN0ZW5lci5saXN0ZW5lciwgbGlzdGVuZXJIYW5kbGVyID0gbGlzdGVuZXIuaGFuZGxlciB8fCBsaXN0ZW5lci5zcmM7XG4gIGxpc3RlbmVyLmNhbGxPbmNlICYmIGdvb2cuZXZlbnRzLnVubGlzdGVuQnlLZXkobGlzdGVuZXIpO1xuICByZXR1cm4gbGlzdGVuZXJGbi5jYWxsKGxpc3RlbmVySGFuZGxlciwgZXZlbnRPYmplY3QpO1xufTtcbmdvb2cuZXZlbnRzLmdldFRvdGFsTGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5ldmVudHMubGlzdGVuZXJDb3VudEVzdGltYXRlXztcbn07XG5nb29nLmV2ZW50cy5kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24oc3JjLCBlKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQoZ29vZy5ldmVudHMuTGlzdGVuYWJsZS5pc0ltcGxlbWVudGVkQnkoc3JjKSwgXCJDYW4gbm90IHVzZSBnb29nLmV2ZW50cy5kaXNwYXRjaEV2ZW50IHdpdGggbm9uLWdvb2cuZXZlbnRzLkxpc3RlbmFibGUgaW5zdGFuY2UuXCIpO1xuICByZXR1cm4gc3JjLmRpc3BhdGNoRXZlbnQoZSk7XG59O1xuZ29vZy5ldmVudHMucHJvdGVjdEJyb3dzZXJFdmVudEVudHJ5UG9pbnQgPSBmdW5jdGlvbihlcnJvckhhbmRsZXIpIHtcbiAgZ29vZy5ldmVudHMuaGFuZGxlQnJvd3NlckV2ZW50XyA9IGVycm9ySGFuZGxlci5wcm90ZWN0RW50cnlQb2ludChnb29nLmV2ZW50cy5oYW5kbGVCcm93c2VyRXZlbnRfKTtcbn07XG5nb29nLmV2ZW50cy5oYW5kbGVCcm93c2VyRXZlbnRfID0gZnVuY3Rpb24obGlzdGVuZXIsIG9wdF9ldnQpIHtcbiAgcmV0dXJuIGxpc3RlbmVyLnJlbW92ZWQgPyAhMCA6IGdvb2cuZXZlbnRzLmZpcmVMaXN0ZW5lcihsaXN0ZW5lciwgbmV3IGdvb2cuZXZlbnRzLkJyb3dzZXJFdmVudChvcHRfZXZ0LCB0aGlzKSk7XG59O1xuZ29vZy5ldmVudHMubWFya0llRXZlbnRfID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdXNlUmV0dXJuVmFsdWUgPSAhMTtcbiAgaWYgKDAgPT0gZS5rZXlDb2RlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGUua2V5Q29kZSA9IC0xO1xuICAgICAgcmV0dXJuO1xuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICB1c2VSZXR1cm5WYWx1ZSA9ICEwO1xuICAgIH1cbiAgfVxuICBpZiAodXNlUmV0dXJuVmFsdWUgfHwgdm9pZCAwID09IGUucmV0dXJuVmFsdWUpIHtcbiAgICBlLnJldHVyblZhbHVlID0gITA7XG4gIH1cbn07XG5nb29nLmV2ZW50cy5pc01hcmtlZEllRXZlbnRfID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gMCA+IGUua2V5Q29kZSB8fCB2b2lkIDAgIT0gZS5yZXR1cm5WYWx1ZTtcbn07XG5nb29nLmV2ZW50cy51bmlxdWVJZENvdW50ZXJfID0gMDtcbmdvb2cuZXZlbnRzLmdldFVuaXF1ZUlkID0gZnVuY3Rpb24oaWRlbnRpZmllcikge1xuICByZXR1cm4gaWRlbnRpZmllciArIFwiX1wiICsgZ29vZy5ldmVudHMudW5pcXVlSWRDb3VudGVyXysrO1xufTtcbmdvb2cuZXZlbnRzLmdldExpc3RlbmVyTWFwXyA9IGZ1bmN0aW9uKHNyYykge1xuICB2YXIgbGlzdGVuZXJNYXAgPSBzcmNbZ29vZy5ldmVudHMuTElTVEVORVJfTUFQX1BST1BfXTtcbiAgcmV0dXJuIGxpc3RlbmVyTWFwIGluc3RhbmNlb2YgZ29vZy5ldmVudHMuTGlzdGVuZXJNYXAgPyBsaXN0ZW5lck1hcCA6IG51bGw7XG59O1xuZ29vZy5ldmVudHMuTElTVEVORVJfV1JBUFBFUl9QUk9QXyA9IFwiX19jbG9zdXJlX2V2ZW50c19mbl9cIiArICgxZTkgKiBNYXRoLnJhbmRvbSgpID4+PiAwKTtcbmdvb2cuZXZlbnRzLndyYXBMaXN0ZW5lciA9IGZ1bmN0aW9uKGxpc3RlbmVyKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQobGlzdGVuZXIsIFwiTGlzdGVuZXIgY2FuIG5vdCBiZSBudWxsLlwiKTtcbiAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGxpc3RlbmVyKSB7XG4gICAgcmV0dXJuIGxpc3RlbmVyO1xuICB9XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQobGlzdGVuZXIuaGFuZGxlRXZlbnQsIFwiQW4gb2JqZWN0IGxpc3RlbmVyIG11c3QgaGF2ZSBoYW5kbGVFdmVudCBtZXRob2QuXCIpO1xuICBsaXN0ZW5lcltnb29nLmV2ZW50cy5MSVNURU5FUl9XUkFQUEVSX1BST1BfXSB8fCAobGlzdGVuZXJbZ29vZy5ldmVudHMuTElTVEVORVJfV1JBUFBFUl9QUk9QX10gPSBmdW5jdGlvbihlKSB7XG4gICAgcmV0dXJuIGxpc3RlbmVyLmhhbmRsZUV2ZW50KGUpO1xuICB9KTtcbiAgcmV0dXJuIGxpc3RlbmVyW2dvb2cuZXZlbnRzLkxJU1RFTkVSX1dSQVBQRVJfUFJPUF9dO1xufTtcbmdvb2cuZGVidWcuZW50cnlQb2ludFJlZ2lzdHJ5LnJlZ2lzdGVyKGZ1bmN0aW9uKHRyYW5zZm9ybWVyKSB7XG4gIGdvb2cuZXZlbnRzLmhhbmRsZUJyb3dzZXJFdmVudF8gPSB0cmFuc2Zvcm1lcihnb29nLmV2ZW50cy5oYW5kbGVCcm93c2VyRXZlbnRfKTtcbn0pO1xuZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQgPSBmdW5jdGlvbigpIHtcbiAgZ29vZy5EaXNwb3NhYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuZXZlbnRUYXJnZXRMaXN0ZW5lcnNfID0gbmV3IGdvb2cuZXZlbnRzLkxpc3RlbmVyTWFwKHRoaXMpO1xuICB0aGlzLmFjdHVhbEV2ZW50VGFyZ2V0XyA9IHRoaXM7XG4gIHRoaXMucGFyZW50RXZlbnRUYXJnZXRfID0gbnVsbDtcbn07XG5nb29nLmluaGVyaXRzKGdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LCBnb29nLkRpc3Bvc2FibGUpO1xuZ29vZy5ldmVudHMuTGlzdGVuYWJsZS5hZGRJbXBsZW1lbnRhdGlvbihnb29nLmV2ZW50cy5FdmVudFRhcmdldCk7XG5nb29nLmV2ZW50cy5FdmVudFRhcmdldC5NQVhfQU5DRVNUT1JTXyA9IDEwMDA7XG5nb29nLmV2ZW50cy5FdmVudFRhcmdldC5wcm90b3R5cGUuZ2V0UGFyZW50RXZlbnRUYXJnZXQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucGFyZW50RXZlbnRUYXJnZXRfO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5zZXRQYXJlbnRFdmVudFRhcmdldCA9IGZ1bmN0aW9uKHBhcmVudCkge1xuICB0aGlzLnBhcmVudEV2ZW50VGFyZ2V0XyA9IHBhcmVudDtcbn07XG5nb29nLmV2ZW50cy5FdmVudFRhcmdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGhhbmRsZXIsIG9wdF9jYXB0dXJlLCBvcHRfaGFuZGxlclNjb3BlKSB7XG4gIGdvb2cuZXZlbnRzLmxpc3Rlbih0aGlzLCB0eXBlLCBoYW5kbGVyLCBvcHRfY2FwdHVyZSwgb3B0X2hhbmRsZXJTY29wZSk7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBoYW5kbGVyLCBvcHRfY2FwdHVyZSwgb3B0X2hhbmRsZXJTY29wZSkge1xuICBnb29nLmV2ZW50cy51bmxpc3Rlbih0aGlzLCB0eXBlLCBoYW5kbGVyLCBvcHRfY2FwdHVyZSwgb3B0X2hhbmRsZXJTY29wZSk7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbihlKSB7XG4gIHRoaXMuYXNzZXJ0SW5pdGlhbGl6ZWRfKCk7XG4gIHZhciBhbmNlc3RvciA9IHRoaXMuZ2V0UGFyZW50RXZlbnRUYXJnZXQoKTtcbiAgaWYgKGFuY2VzdG9yKSB7XG4gICAgdmFyIGFuY2VzdG9yc1RyZWUgPSBbXTtcbiAgICBmb3IgKHZhciBhbmNlc3RvckNvdW50ID0gMTsgYW5jZXN0b3I7IGFuY2VzdG9yID0gYW5jZXN0b3IuZ2V0UGFyZW50RXZlbnRUYXJnZXQoKSkge1xuICAgICAgYW5jZXN0b3JzVHJlZS5wdXNoKGFuY2VzdG9yKSwgZ29vZy5hc3NlcnRzLmFzc2VydCgrK2FuY2VzdG9yQ291bnQgPCBnb29nLmV2ZW50cy5FdmVudFRhcmdldC5NQVhfQU5DRVNUT1JTXywgXCJpbmZpbml0ZSBsb29wXCIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQuZGlzcGF0Y2hFdmVudEludGVybmFsXyh0aGlzLmFjdHVhbEV2ZW50VGFyZ2V0XywgZSwgYW5jZXN0b3JzVHJlZSk7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uKCkge1xuICBnb29nLmV2ZW50cy5FdmVudFRhcmdldC5zdXBlckNsYXNzXy5kaXNwb3NlSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgdGhpcy5wYXJlbnRFdmVudFRhcmdldF8gPSBudWxsO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5saXN0ZW4gPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lciwgb3B0X3VzZUNhcHR1cmUsIG9wdF9saXN0ZW5lclNjb3BlKSB7XG4gIHRoaXMuYXNzZXJ0SW5pdGlhbGl6ZWRfKCk7XG4gIHJldHVybiB0aGlzLmV2ZW50VGFyZ2V0TGlzdGVuZXJzXy5hZGQoU3RyaW5nKHR5cGUpLCBsaXN0ZW5lciwgITEsIG9wdF91c2VDYXB0dXJlLCBvcHRfbGlzdGVuZXJTY29wZSk7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQucHJvdG90eXBlLmxpc3Rlbk9uY2UgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lciwgb3B0X3VzZUNhcHR1cmUsIG9wdF9saXN0ZW5lclNjb3BlKSB7XG4gIHJldHVybiB0aGlzLmV2ZW50VGFyZ2V0TGlzdGVuZXJzXy5hZGQoU3RyaW5nKHR5cGUpLCBsaXN0ZW5lciwgITAsIG9wdF91c2VDYXB0dXJlLCBvcHRfbGlzdGVuZXJTY29wZSk7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQucHJvdG90eXBlLnVubGlzdGVuID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIsIG9wdF91c2VDYXB0dXJlLCBvcHRfbGlzdGVuZXJTY29wZSkge1xuICByZXR1cm4gdGhpcy5ldmVudFRhcmdldExpc3RlbmVyc18ucmVtb3ZlKFN0cmluZyh0eXBlKSwgbGlzdGVuZXIsIG9wdF91c2VDYXB0dXJlLCBvcHRfbGlzdGVuZXJTY29wZSk7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQucHJvdG90eXBlLnVubGlzdGVuQnlLZXkgPSBmdW5jdGlvbihrZXkpIHtcbiAgcmV0dXJuIHRoaXMuZXZlbnRUYXJnZXRMaXN0ZW5lcnNfLnJlbW92ZUJ5S2V5KGtleSk7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uKG9wdF90eXBlKSB7XG4gIHJldHVybiB0aGlzLmV2ZW50VGFyZ2V0TGlzdGVuZXJzXyA/IHRoaXMuZXZlbnRUYXJnZXRMaXN0ZW5lcnNfLnJlbW92ZUFsbChvcHRfdHlwZSkgOiAwO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5maXJlTGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSwgY2FwdHVyZSwgZXZlbnRPYmplY3QpIHtcbiAgdmFyIGxpc3RlbmVyQXJyYXkgPSB0aGlzLmV2ZW50VGFyZ2V0TGlzdGVuZXJzXy5saXN0ZW5lcnNbU3RyaW5nKHR5cGUpXTtcbiAgaWYgKCFsaXN0ZW5lckFycmF5KSB7XG4gICAgcmV0dXJuICEwO1xuICB9XG4gIGxpc3RlbmVyQXJyYXkgPSBsaXN0ZW5lckFycmF5LmNvbmNhdCgpO1xuICBmb3IgKHZhciBydiA9ICEwLCBpID0gMDsgaSA8IGxpc3RlbmVyQXJyYXkubGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgbGlzdGVuZXIgPSBsaXN0ZW5lckFycmF5W2ldO1xuICAgIGlmIChsaXN0ZW5lciAmJiAhbGlzdGVuZXIucmVtb3ZlZCAmJiBsaXN0ZW5lci5jYXB0dXJlID09IGNhcHR1cmUpIHtcbiAgICAgIHZhciBsaXN0ZW5lckZuID0gbGlzdGVuZXIubGlzdGVuZXIsIGxpc3RlbmVySGFuZGxlciA9IGxpc3RlbmVyLmhhbmRsZXIgfHwgbGlzdGVuZXIuc3JjO1xuICAgICAgbGlzdGVuZXIuY2FsbE9uY2UgJiYgdGhpcy51bmxpc3RlbkJ5S2V5KGxpc3RlbmVyKTtcbiAgICAgIHJ2ID0gITEgIT09IGxpc3RlbmVyRm4uY2FsbChsaXN0ZW5lckhhbmRsZXIsIGV2ZW50T2JqZWN0KSAmJiBydjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJ2ICYmICFldmVudE9iamVjdC5kZWZhdWx0UHJldmVudGVkO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LnByb3RvdHlwZS5nZXRMaXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlLCBjYXB0dXJlKSB7XG4gIHJldHVybiB0aGlzLmV2ZW50VGFyZ2V0TGlzdGVuZXJzXy5nZXRMaXN0ZW5lcnMoU3RyaW5nKHR5cGUpLCBjYXB0dXJlKTtcbn07XG5nb29nLmV2ZW50cy5FdmVudFRhcmdldC5wcm90b3R5cGUuZ2V0TGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lciwgY2FwdHVyZSwgb3B0X2xpc3RlbmVyU2NvcGUpIHtcbiAgcmV0dXJuIHRoaXMuZXZlbnRUYXJnZXRMaXN0ZW5lcnNfLmdldExpc3RlbmVyKFN0cmluZyh0eXBlKSwgbGlzdGVuZXIsIGNhcHR1cmUsIG9wdF9saXN0ZW5lclNjb3BlKTtcbn07XG5nb29nLmV2ZW50cy5FdmVudFRhcmdldC5wcm90b3R5cGUuaGFzTGlzdGVuZXIgPSBmdW5jdGlvbihvcHRfdHlwZSwgb3B0X2NhcHR1cmUpIHtcbiAgcmV0dXJuIHRoaXMuZXZlbnRUYXJnZXRMaXN0ZW5lcnNfLmhhc0xpc3RlbmVyKHZvaWQgMCAhPT0gb3B0X3R5cGUgPyBTdHJpbmcob3B0X3R5cGUpIDogdm9pZCAwLCBvcHRfY2FwdHVyZSk7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQucHJvdG90eXBlLnNldFRhcmdldEZvclRlc3RpbmcgPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgdGhpcy5hY3R1YWxFdmVudFRhcmdldF8gPSB0YXJnZXQ7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQucHJvdG90eXBlLmFzc2VydEluaXRpYWxpemVkXyA9IGZ1bmN0aW9uKCkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KHRoaXMuZXZlbnRUYXJnZXRMaXN0ZW5lcnNfLCBcIkV2ZW50IHRhcmdldCBpcyBub3QgaW5pdGlhbGl6ZWQuIERpZCB5b3UgY2FsbCB0aGUgc3VwZXJjbGFzcyAoZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQpIGNvbnN0cnVjdG9yP1wiKTtcbn07XG5nb29nLmV2ZW50cy5FdmVudFRhcmdldC5kaXNwYXRjaEV2ZW50SW50ZXJuYWxfID0gZnVuY3Rpb24odGFyZ2V0LCBlLCBvcHRfYW5jZXN0b3JzVHJlZSkge1xuICB2YXIgdHlwZSA9IGUudHlwZSB8fCBlO1xuICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGUpIHtcbiAgICBlID0gbmV3IGdvb2cuZXZlbnRzLkV2ZW50KGUsIHRhcmdldCk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKGUgaW5zdGFuY2VvZiBnb29nLmV2ZW50cy5FdmVudCkge1xuICAgICAgZS50YXJnZXQgPSBlLnRhcmdldCB8fCB0YXJnZXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBvbGRFdmVudCA9IGU7XG4gICAgICBlID0gbmV3IGdvb2cuZXZlbnRzLkV2ZW50KHR5cGUsIHRhcmdldCk7XG4gICAgICBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZXh0ZW5kKGUsIG9sZEV2ZW50KTtcbiAgICB9XG4gIH1cbiAgdmFyIHJ2ID0gITA7XG4gIGlmIChvcHRfYW5jZXN0b3JzVHJlZSkge1xuICAgIGZvciAodmFyIGkgPSBvcHRfYW5jZXN0b3JzVHJlZS5sZW5ndGggLSAxOyAhZS5oYXNQcm9wYWdhdGlvblN0b3BwZWQoKSAmJiAwIDw9IGk7IGktLSkge1xuICAgICAgdmFyIGN1cnJlbnRUYXJnZXQgPSBlLmN1cnJlbnRUYXJnZXQgPSBvcHRfYW5jZXN0b3JzVHJlZVtpXTtcbiAgICAgIHJ2ID0gY3VycmVudFRhcmdldC5maXJlTGlzdGVuZXJzKHR5cGUsICEwLCBlKSAmJiBydjtcbiAgICB9XG4gIH1cbiAgZS5oYXNQcm9wYWdhdGlvblN0b3BwZWQoKSB8fCAoY3VycmVudFRhcmdldCA9IGUuY3VycmVudFRhcmdldCA9IHRhcmdldCwgcnYgPSBjdXJyZW50VGFyZ2V0LmZpcmVMaXN0ZW5lcnModHlwZSwgITAsIGUpICYmIHJ2LCBlLmhhc1Byb3BhZ2F0aW9uU3RvcHBlZCgpIHx8IChydiA9IGN1cnJlbnRUYXJnZXQuZmlyZUxpc3RlbmVycyh0eXBlLCAhMSwgZSkgJiYgcnYpKTtcbiAgaWYgKG9wdF9hbmNlc3RvcnNUcmVlKSB7XG4gICAgZm9yIChpID0gMDsgIWUuaGFzUHJvcGFnYXRpb25TdG9wcGVkKCkgJiYgaSA8IG9wdF9hbmNlc3RvcnNUcmVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjdXJyZW50VGFyZ2V0ID0gZS5jdXJyZW50VGFyZ2V0ID0gb3B0X2FuY2VzdG9yc1RyZWVbaV0sIHJ2ID0gY3VycmVudFRhcmdldC5maXJlTGlzdGVuZXJzKHR5cGUsICExLCBlKSAmJiBydjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJ2O1xufTtcbmdvb2cuc3RydWN0cyA9IHt9O1xuZ29vZy5zdHJ1Y3RzLkNvbGxlY3Rpb24gPSBmdW5jdGlvbigpIHtcbn07XG5nb29nLmNvbGxlY3Rpb25zID0ge307XG5nb29nLmNvbGxlY3Rpb25zLml0ZXJzID0ge307XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRpdGVyc19nZXRJdGVyYXRvcihpdGVyYWJsZSkge1xuICByZXR1cm4gaXRlcmFibGVbZ29vZy5nbG9iYWwuU3ltYm9sLml0ZXJhdG9yXSgpO1xufVxuZ29vZy5jb2xsZWN0aW9ucy5pdGVycy5nZXRJdGVyYXRvciA9IG1vZHVsZSRjb250ZW50cyRnb29nJGNvbGxlY3Rpb25zJGl0ZXJzX2dldEl0ZXJhdG9yO1xuZ29vZy5jb2xsZWN0aW9ucy5pdGVycy5mb3JFYWNoID0gZnVuY3Rpb24oaXRlcmFibGUsIGYpIHtcbiAgZm9yICh2YXIgJGpzY29tcCRpdGVyJDUgPSAkanNjb21wLm1ha2VJdGVyYXRvcihpdGVyYWJsZSksICRqc2NvbXAka2V5JGVsZW0gPSAkanNjb21wJGl0ZXIkNS5uZXh0KCk7ICEkanNjb21wJGtleSRlbGVtLmRvbmU7ICRqc2NvbXAka2V5JGVsZW0gPSAkanNjb21wJGl0ZXIkNS5uZXh0KCkpIHtcbiAgICBmKCRqc2NvbXAka2V5JGVsZW0udmFsdWUpO1xuICB9XG59O1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGNvbGxlY3Rpb25zJGl0ZXJzX01hcEl0ZXJhdG9yID0gZnVuY3Rpb24oY2hpbGRJdGVyLCBtYXBGbikge1xuICB0aGlzLmNoaWxkSXRlcmF0b3JfID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckY29sbGVjdGlvbnMkaXRlcnNfZ2V0SXRlcmF0b3IoY2hpbGRJdGVyKTtcbiAgdGhpcy5tYXBGbl8gPSBtYXBGbjtcbiAgdGhpcy5uZXh0SW5kZXhfID0gMDtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRpdGVyc19NYXBJdGVyYXRvci5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcztcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRpdGVyc19NYXBJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY2hpbGRSZXN1bHQgPSB0aGlzLmNoaWxkSXRlcmF0b3JfLm5leHQoKTtcbiAgcmV0dXJuIHt2YWx1ZTpjaGlsZFJlc3VsdC5kb25lID8gdm9pZCAwIDogdGhpcy5tYXBGbl8uY2FsbCh2b2lkIDAsIGNoaWxkUmVzdWx0LnZhbHVlLCB0aGlzLm5leHRJbmRleF8rKyksIGRvbmU6Y2hpbGRSZXN1bHQuZG9uZSx9O1xufTtcbmdvb2cuY29sbGVjdGlvbnMuaXRlcnMubWFwID0gZnVuY3Rpb24oaXRlcmFibGUsIGYpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRpdGVyc19NYXBJdGVyYXRvcihpdGVyYWJsZSwgZik7XG59O1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGNvbGxlY3Rpb25zJGl0ZXJzX0ZpbHRlckl0ZXJhdG9yID0gZnVuY3Rpb24oY2hpbGRJdGVyLCBmaWx0ZXJGbikge1xuICB0aGlzLmNoaWxkSXRlcl8gPSBtb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRpdGVyc19nZXRJdGVyYXRvcihjaGlsZEl0ZXIpO1xuICB0aGlzLmZpbHRlckZuXyA9IGZpbHRlckZuO1xuICB0aGlzLm5leHRJbmRleF8gPSAwO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGNvbGxlY3Rpb25zJGl0ZXJzX0ZpbHRlckl0ZXJhdG9yLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGNvbGxlY3Rpb25zJGl0ZXJzX0ZpbHRlckl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gIGZvciAoOzspIHtcbiAgICB2YXIgY2hpbGRSZXN1bHQgPSB0aGlzLmNoaWxkSXRlcl8ubmV4dCgpO1xuICAgIGlmIChjaGlsZFJlc3VsdC5kb25lKSB7XG4gICAgICByZXR1cm4ge2RvbmU6ITAsIHZhbHVlOnZvaWQgMH07XG4gICAgfVxuICAgIGlmICh0aGlzLmZpbHRlckZuXy5jYWxsKHZvaWQgMCwgY2hpbGRSZXN1bHQudmFsdWUsIHRoaXMubmV4dEluZGV4XysrKSkge1xuICAgICAgcmV0dXJuIGNoaWxkUmVzdWx0O1xuICAgIH1cbiAgfVxufTtcbmdvb2cuY29sbGVjdGlvbnMuaXRlcnMuZmlsdGVyID0gZnVuY3Rpb24oaXRlcmFibGUsIGYpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRpdGVyc19GaWx0ZXJJdGVyYXRvcihpdGVyYWJsZSwgZik7XG59O1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGNvbGxlY3Rpb25zJGl0ZXJzX0NvbmNhdEl0ZXJhdG9yID0gZnVuY3Rpb24oaXRlcmF0b3JzKSB7XG4gIHRoaXMuaXRlcmF0b3JzXyA9IGl0ZXJhdG9ycztcbiAgdGhpcy5pdGVySW5kZXhfID0gMDtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRpdGVyc19Db25jYXRJdGVyYXRvci5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcztcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRpdGVyc19Db25jYXRJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICBmb3IgKDsgdGhpcy5pdGVySW5kZXhfIDwgdGhpcy5pdGVyYXRvcnNfLmxlbmd0aDspIHtcbiAgICB2YXIgcmVzdWx0ID0gdGhpcy5pdGVyYXRvcnNfW3RoaXMuaXRlckluZGV4X10ubmV4dCgpO1xuICAgIGlmICghcmVzdWx0LmRvbmUpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHRoaXMuaXRlckluZGV4XysrO1xuICB9XG4gIHJldHVybiB7ZG9uZTohMH07XG59O1xuZ29vZy5jb2xsZWN0aW9ucy5pdGVycy5jb25jYXQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRpdGVyc19Db25jYXRJdGVyYXRvcigkanNjb21wLmdldFJlc3RBcmd1bWVudHMuYXBwbHkoMCwgYXJndW1lbnRzKS5tYXAobW9kdWxlJGNvbnRlbnRzJGdvb2ckY29sbGVjdGlvbnMkaXRlcnNfZ2V0SXRlcmF0b3IpKTtcbn07XG5nb29nLmZ1bmN0aW9ucyA9IHt9O1xuZ29vZy5mdW5jdGlvbnMuY29uc3RhbnQgPSBmdW5jdGlvbihyZXRWYWx1ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHJldFZhbHVlO1xuICB9O1xufTtcbmdvb2cuZnVuY3Rpb25zLkZBTFNFID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAhMTtcbn07XG5nb29nLmZ1bmN0aW9ucy5UUlVFID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAhMDtcbn07XG5nb29nLmZ1bmN0aW9ucy5OVUxMID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBudWxsO1xufTtcbmdvb2cuZnVuY3Rpb25zLlVOREVGSU5FRCA9IGZ1bmN0aW9uKCkge1xufTtcbmdvb2cuZnVuY3Rpb25zLkVNUFRZID0gZ29vZy5mdW5jdGlvbnMuVU5ERUZJTkVEO1xuZ29vZy5mdW5jdGlvbnMuaWRlbnRpdHkgPSBmdW5jdGlvbihvcHRfcmV0dXJuVmFsdWUsIHZhcl9hcmdzKSB7XG4gIHJldHVybiBvcHRfcmV0dXJuVmFsdWU7XG59O1xuZ29vZy5mdW5jdGlvbnMuZXJyb3IgPSBmdW5jdGlvbihtZXNzYWdlKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aHJvdyBFcnJvcihtZXNzYWdlKTtcbiAgfTtcbn07XG5nb29nLmZ1bmN0aW9ucy5mYWlsID0gZnVuY3Rpb24oZXJyKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB0aHJvdyBlcnI7XG4gIH07XG59O1xuZ29vZy5mdW5jdGlvbnMubG9jayA9IGZ1bmN0aW9uKGYsIG9wdF9udW1BcmdzKSB7XG4gIG9wdF9udW1BcmdzID0gb3B0X251bUFyZ3MgfHwgMDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmLmFwcGx5KHRoaXMsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCwgb3B0X251bUFyZ3MpKTtcbiAgfTtcbn07XG5nb29nLmZ1bmN0aW9ucy5udGggPSBmdW5jdGlvbihuKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gYXJndW1lbnRzW25dO1xuICB9O1xufTtcbmdvb2cuZnVuY3Rpb25zLnBhcnRpYWxSaWdodCA9IGZ1bmN0aW9uKGZuLCB2YXJfYXJncykge1xuICB2YXIgcmlnaHRBcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBzZWxmID09PSBnb29nLmdsb2JhbCAmJiAoc2VsZiA9IHZvaWQgMCk7XG4gICAgdmFyIG5ld0FyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgIG5ld0FyZ3MucHVzaC5hcHBseShuZXdBcmdzLCByaWdodEFyZ3MpO1xuICAgIHJldHVybiBmbi5hcHBseShzZWxmLCBuZXdBcmdzKTtcbiAgfTtcbn07XG5nb29nLmZ1bmN0aW9ucy53aXRoUmV0dXJuVmFsdWUgPSBmdW5jdGlvbihmLCByZXRWYWx1ZSkge1xuICByZXR1cm4gZ29vZy5mdW5jdGlvbnMuc2VxdWVuY2UoZiwgZ29vZy5mdW5jdGlvbnMuY29uc3RhbnQocmV0VmFsdWUpKTtcbn07XG5nb29nLmZ1bmN0aW9ucy5lcXVhbFRvID0gZnVuY3Rpb24odmFsdWUsIG9wdF91c2VMb29zZUNvbXBhcmlzb24pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKG90aGVyKSB7XG4gICAgcmV0dXJuIG9wdF91c2VMb29zZUNvbXBhcmlzb24gPyB2YWx1ZSA9PSBvdGhlciA6IHZhbHVlID09PSBvdGhlcjtcbiAgfTtcbn07XG5nb29nLmZ1bmN0aW9ucy5jb21wb3NlID0gZnVuY3Rpb24oZm4sIHZhcl9hcmdzKSB7XG4gIHZhciBmdW5jdGlvbnMgPSBhcmd1bWVudHMsIGxlbmd0aCA9IGZ1bmN0aW9ucy5sZW5ndGg7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICB2YXIgcmVzdWx0O1xuICAgIGxlbmd0aCAmJiAocmVzdWx0ID0gZnVuY3Rpb25zW2xlbmd0aCAtIDFdLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgIGZvciAodmFyIGkgPSBsZW5ndGggLSAyOyAwIDw9IGk7IGktLSkge1xuICAgICAgcmVzdWx0ID0gZnVuY3Rpb25zW2ldLmNhbGwodGhpcywgcmVzdWx0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn07XG5nb29nLmZ1bmN0aW9ucy5zZXF1ZW5jZSA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gIHZhciBmdW5jdGlvbnMgPSBhcmd1bWVudHMsIGxlbmd0aCA9IGZ1bmN0aW9ucy5sZW5ndGg7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBmb3IgKHZhciByZXN1bHQsIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHJlc3VsdCA9IGZ1bmN0aW9uc1tpXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufTtcbmdvb2cuZnVuY3Rpb25zLmFuZCA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gIHZhciBmdW5jdGlvbnMgPSBhcmd1bWVudHMsIGxlbmd0aCA9IGZ1bmN0aW9ucy5sZW5ndGg7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIWZ1bmN0aW9uc1tpXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKSB7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICEwO1xuICB9O1xufTtcbmdvb2cuZnVuY3Rpb25zLm9yID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgdmFyIGZ1bmN0aW9ucyA9IGFyZ3VtZW50cywgbGVuZ3RoID0gZnVuY3Rpb25zLmxlbmd0aDtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChmdW5jdGlvbnNbaV0uYXBwbHkodGhpcywgYXJndW1lbnRzKSkge1xuICAgICAgICByZXR1cm4gITA7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAhMTtcbiAgfTtcbn07XG5nb29nLmZ1bmN0aW9ucy5ub3QgPSBmdW5jdGlvbihmKSB7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gIWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn07XG5nb29nLmZ1bmN0aW9ucy5jcmVhdGUgPSBmdW5jdGlvbihjb25zdHJ1Y3RvciwgdmFyX2FyZ3MpIHtcbiAgdmFyIHRlbXAgPSBmdW5jdGlvbigpIHtcbiAgfTtcbiAgdGVtcC5wcm90b3R5cGUgPSBjb25zdHJ1Y3Rvci5wcm90b3R5cGU7XG4gIHZhciBvYmogPSBuZXcgdGVtcCgpO1xuICBjb25zdHJ1Y3Rvci5hcHBseShvYmosIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICByZXR1cm4gb2JqO1xufTtcbmdvb2cuZnVuY3Rpb25zLkNBQ0hFX1JFVFVSTl9WQUxVRSA9ICEwO1xuZ29vZy5mdW5jdGlvbnMuY2FjaGVSZXR1cm5WYWx1ZSA9IGZ1bmN0aW9uKGZuKSB7XG4gIHZhciBjYWxsZWQgPSAhMSwgdmFsdWU7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBpZiAoIWdvb2cuZnVuY3Rpb25zLkNBQ0hFX1JFVFVSTl9WQUxVRSkge1xuICAgICAgcmV0dXJuIGZuKCk7XG4gICAgfVxuICAgIGNhbGxlZCB8fCAodmFsdWUgPSBmbigpLCBjYWxsZWQgPSAhMCk7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xufTtcbmdvb2cuZnVuY3Rpb25zLm9uY2UgPSBmdW5jdGlvbihmKSB7XG4gIHZhciBpbm5lciA9IGY7XG4gIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICBpZiAoaW5uZXIpIHtcbiAgICAgIHZhciB0bXAgPSBpbm5lcjtcbiAgICAgIGlubmVyID0gbnVsbDtcbiAgICAgIHRtcCgpO1xuICAgIH1cbiAgfTtcbn07XG5nb29nLmZ1bmN0aW9ucy5kZWJvdW5jZSA9IGZ1bmN0aW9uKGYsIGludGVydmFsLCBvcHRfc2NvcGUpIHtcbiAgdmFyIHRpbWVvdXQgPSAwO1xuICByZXR1cm4gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgICBnb29nLmdsb2JhbC5jbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgdGltZW91dCA9IGdvb2cuZ2xvYmFsLnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBmLmFwcGx5KG9wdF9zY29wZSwgYXJncyk7XG4gICAgfSwgaW50ZXJ2YWwpO1xuICB9O1xufTtcbmdvb2cuZnVuY3Rpb25zLnRocm90dGxlID0gZnVuY3Rpb24oZiwgaW50ZXJ2YWwsIG9wdF9zY29wZSkge1xuICB2YXIgdGltZW91dCA9IDAsIHNob3VsZEZpcmUgPSAhMSwgc3RvcmVkQXJncyA9IFtdLCBoYW5kbGVUaW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGltZW91dCA9IDA7XG4gICAgc2hvdWxkRmlyZSAmJiAoc2hvdWxkRmlyZSA9ICExLCBmaXJlKCkpO1xuICB9LCBmaXJlID0gZnVuY3Rpb24oKSB7XG4gICAgdGltZW91dCA9IGdvb2cuZ2xvYmFsLnNldFRpbWVvdXQoaGFuZGxlVGltZW91dCwgaW50ZXJ2YWwpO1xuICAgIHZhciBhcmdzID0gc3RvcmVkQXJncztcbiAgICBzdG9yZWRBcmdzID0gW107XG4gICAgZi5hcHBseShvcHRfc2NvcGUsIGFyZ3MpO1xuICB9O1xuICByZXR1cm4gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgICBzdG9yZWRBcmdzID0gYXJndW1lbnRzO1xuICAgIHRpbWVvdXQgPyBzaG91bGRGaXJlID0gITAgOiBmaXJlKCk7XG4gIH07XG59O1xuZ29vZy5mdW5jdGlvbnMucmF0ZUxpbWl0ID0gZnVuY3Rpb24oZiwgaW50ZXJ2YWwsIG9wdF9zY29wZSkge1xuICB2YXIgdGltZW91dCA9IDAsIGhhbmRsZVRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICB0aW1lb3V0ID0gMDtcbiAgfTtcbiAgcmV0dXJuIGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gICAgdGltZW91dCB8fCAodGltZW91dCA9IGdvb2cuZ2xvYmFsLnNldFRpbWVvdXQoaGFuZGxlVGltZW91dCwgaW50ZXJ2YWwpLCBmLmFwcGx5KG9wdF9zY29wZSwgYXJndW1lbnRzKSk7XG4gIH07XG59O1xuZ29vZy5mdW5jdGlvbnMuaXNGdW5jdGlvbiA9IGZ1bmN0aW9uKHZhbCkge1xuICByZXR1cm4gXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdmFsO1xufTtcbmdvb2cubWF0aCA9IHt9O1xuZ29vZy5tYXRoLnJhbmRvbUludCA9IGZ1bmN0aW9uKGEpIHtcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGEpO1xufTtcbmdvb2cubWF0aC51bmlmb3JtUmFuZG9tID0gZnVuY3Rpb24oYSwgYikge1xuICByZXR1cm4gYSArIE1hdGgucmFuZG9tKCkgKiAoYiAtIGEpO1xufTtcbmdvb2cubWF0aC5jbGFtcCA9IGZ1bmN0aW9uKHZhbHVlLCBtaW4sIG1heCkge1xuICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgodmFsdWUsIG1pbiksIG1heCk7XG59O1xuZ29vZy5tYXRoLm1vZHVsbyA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgdmFyIHIgPSBhICUgYjtcbiAgcmV0dXJuIDAgPiByICogYiA/IHIgKyBiIDogcjtcbn07XG5nb29nLm1hdGgubGVycCA9IGZ1bmN0aW9uKGEsIGIsIHgpIHtcbiAgcmV0dXJuIGEgKyB4ICogKGIgLSBhKTtcbn07XG5nb29nLm1hdGgubmVhcmx5RXF1YWxzID0gZnVuY3Rpb24oYSwgYiwgb3B0X3RvbGVyYW5jZSkge1xuICByZXR1cm4gTWF0aC5hYnMoYSAtIGIpIDw9IChvcHRfdG9sZXJhbmNlIHx8IDAuMDAwMDAxKTtcbn07XG5nb29nLm1hdGguc3RhbmRhcmRBbmdsZSA9IGZ1bmN0aW9uKGFuZ2xlKSB7XG4gIHJldHVybiBnb29nLm1hdGgubW9kdWxvKGFuZ2xlLCAzNjApO1xufTtcbmdvb2cubWF0aC5zdGFuZGFyZEFuZ2xlSW5SYWRpYW5zID0gZnVuY3Rpb24oYW5nbGUpIHtcbiAgcmV0dXJuIGdvb2cubWF0aC5tb2R1bG8oYW5nbGUsIDIgKiBNYXRoLlBJKTtcbn07XG5nb29nLm1hdGgudG9SYWRpYW5zID0gZnVuY3Rpb24oYW5nbGVEZWdyZWVzKSB7XG4gIHJldHVybiBhbmdsZURlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwO1xufTtcbmdvb2cubWF0aC50b0RlZ3JlZXMgPSBmdW5jdGlvbihhbmdsZVJhZGlhbnMpIHtcbiAgcmV0dXJuIDE4MCAqIGFuZ2xlUmFkaWFucyAvIE1hdGguUEk7XG59O1xuZ29vZy5tYXRoLmFuZ2xlRHggPSBmdW5jdGlvbihkZWdyZWVzLCByYWRpdXMpIHtcbiAgcmV0dXJuIHJhZGl1cyAqIE1hdGguY29zKGdvb2cubWF0aC50b1JhZGlhbnMoZGVncmVlcykpO1xufTtcbmdvb2cubWF0aC5hbmdsZUR5ID0gZnVuY3Rpb24oZGVncmVlcywgcmFkaXVzKSB7XG4gIHJldHVybiByYWRpdXMgKiBNYXRoLnNpbihnb29nLm1hdGgudG9SYWRpYW5zKGRlZ3JlZXMpKTtcbn07XG5nb29nLm1hdGguYW5nbGUgPSBmdW5jdGlvbih4MSwgeTEsIHgyLCB5Mikge1xuICByZXR1cm4gZ29vZy5tYXRoLnN0YW5kYXJkQW5nbGUoZ29vZy5tYXRoLnRvRGVncmVlcyhNYXRoLmF0YW4yKHkyIC0geTEsIHgyIC0geDEpKSk7XG59O1xuZ29vZy5tYXRoLmFuZ2xlRGlmZmVyZW5jZSA9IGZ1bmN0aW9uKHN0YXJ0QW5nbGUsIGVuZEFuZ2xlKSB7XG4gIHZhciBkID0gZ29vZy5tYXRoLnN0YW5kYXJkQW5nbGUoZW5kQW5nbGUpIC0gZ29vZy5tYXRoLnN0YW5kYXJkQW5nbGUoc3RhcnRBbmdsZSk7XG4gIDE4MCA8IGQgPyBkIC09IDM2MCA6IC0xODAgPj0gZCAmJiAoZCA9IDM2MCArIGQpO1xuICByZXR1cm4gZDtcbn07XG5nb29nLm1hdGguc2lnbiA9IGZ1bmN0aW9uKHgpIHtcbiAgcmV0dXJuIDAgPCB4ID8gMSA6IDAgPiB4ID8gLTEgOiB4O1xufTtcbmdvb2cubWF0aC5sb25nZXN0Q29tbW9uU3Vic2VxdWVuY2UgPSBmdW5jdGlvbihhcnJheTEsIGFycmF5Miwgb3B0X2NvbXBhcmVGbiwgb3B0X2NvbGxlY3RvckZuKSB7XG4gIGZvciAodmFyIGNvbXBhcmUgPSBvcHRfY29tcGFyZUZuIHx8IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYSA9PSBiO1xuICB9LCBjb2xsZWN0ID0gb3B0X2NvbGxlY3RvckZuIHx8IGZ1bmN0aW9uKGkxLCBpMikge1xuICAgIHJldHVybiBhcnJheTFbaTFdO1xuICB9LCBsZW5ndGgxID0gYXJyYXkxLmxlbmd0aCwgbGVuZ3RoMiA9IGFycmF5Mi5sZW5ndGgsIGFyciA9IFtdLCBpID0gMDsgaSA8IGxlbmd0aDEgKyAxOyBpKyspIHtcbiAgICBhcnJbaV0gPSBbXSwgYXJyW2ldWzBdID0gMDtcbiAgfVxuICBmb3IgKHZhciBqID0gMDsgaiA8IGxlbmd0aDIgKyAxOyBqKyspIHtcbiAgICBhcnJbMF1bal0gPSAwO1xuICB9XG4gIGZvciAoaSA9IDE7IGkgPD0gbGVuZ3RoMTsgaSsrKSB7XG4gICAgZm9yIChqID0gMTsgaiA8PSBsZW5ndGgyOyBqKyspIHtcbiAgICAgIGNvbXBhcmUoYXJyYXkxW2kgLSAxXSwgYXJyYXkyW2ogLSAxXSkgPyBhcnJbaV1bal0gPSBhcnJbaSAtIDFdW2ogLSAxXSArIDEgOiBhcnJbaV1bal0gPSBNYXRoLm1heChhcnJbaSAtIDFdW2pdLCBhcnJbaV1baiAtIDFdKTtcbiAgICB9XG4gIH1cbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBpID0gbGVuZ3RoMTtcbiAgZm9yIChqID0gbGVuZ3RoMjsgMCA8IGkgJiYgMCA8IGo7KSB7XG4gICAgY29tcGFyZShhcnJheTFbaSAtIDFdLCBhcnJheTJbaiAtIDFdKSA/IChyZXN1bHQudW5zaGlmdChjb2xsZWN0KGkgLSAxLCBqIC0gMSkpLCBpLS0sIGotLSkgOiBhcnJbaSAtIDFdW2pdID4gYXJyW2ldW2ogLSAxXSA/IGktLSA6IGotLTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcbmdvb2cubWF0aC5zdW0gPSBmdW5jdGlvbih2YXJfYXJncykge1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnJlZHVjZS5jYWxsKGFyZ3VtZW50cywgZnVuY3Rpb24oc3VtLCB2YWx1ZSkge1xuICAgIHJldHVybiBzdW0gKyB2YWx1ZTtcbiAgfSwgMCk7XG59O1xuZ29vZy5tYXRoLmF2ZXJhZ2UgPSBmdW5jdGlvbih2YXJfYXJncykge1xuICByZXR1cm4gZ29vZy5tYXRoLnN1bS5hcHBseShudWxsLCBhcmd1bWVudHMpIC8gYXJndW1lbnRzLmxlbmd0aDtcbn07XG5nb29nLm1hdGguc2FtcGxlVmFyaWFuY2UgPSBmdW5jdGlvbih2YXJfYXJncykge1xuICB2YXIgc2FtcGxlU2l6ZSA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIGlmICgyID4gc2FtcGxlU2l6ZSkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIHZhciBtZWFuID0gZ29vZy5tYXRoLmF2ZXJhZ2UuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgcmV0dXJuIGdvb2cubWF0aC5zdW0uYXBwbHkobnVsbCwgQXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGFyZ3VtZW50cywgZnVuY3Rpb24odmFsKSB7XG4gICAgcmV0dXJuIE1hdGgucG93KHZhbCAtIG1lYW4sIDIpO1xuICB9KSkgLyAoc2FtcGxlU2l6ZSAtIDEpO1xufTtcbmdvb2cubWF0aC5zdGFuZGFyZERldmlhdGlvbiA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gIHJldHVybiBNYXRoLnNxcnQoZ29vZy5tYXRoLnNhbXBsZVZhcmlhbmNlLmFwcGx5KG51bGwsIGFyZ3VtZW50cykpO1xufTtcbmdvb2cubWF0aC5pc0ludCA9IGZ1bmN0aW9uKG51bSkge1xuICByZXR1cm4gaXNGaW5pdGUobnVtKSAmJiAwID09IG51bSAlIDE7XG59O1xuZ29vZy5tYXRoLmlzRmluaXRlTnVtYmVyID0gZnVuY3Rpb24obnVtKSB7XG4gIHJldHVybiBpc0Zpbml0ZShudW0pO1xufTtcbmdvb2cubWF0aC5pc05lZ2F0aXZlWmVybyA9IGZ1bmN0aW9uKG51bSkge1xuICByZXR1cm4gMCA9PSBudW0gJiYgMCA+IDEgLyBudW07XG59O1xuZ29vZy5tYXRoLmxvZzEwRmxvb3IgPSBmdW5jdGlvbihudW0pIHtcbiAgaWYgKDAgPCBudW0pIHtcbiAgICB2YXIgeCA9IE1hdGgucm91bmQoTWF0aC5sb2cobnVtKSAqIE1hdGguTE9HMTBFKTtcbiAgICByZXR1cm4geCAtIChwYXJzZUZsb2F0KFwiMWVcIiArIHgpID4gbnVtID8gMSA6IDApO1xuICB9XG4gIHJldHVybiAwID09IG51bSA/IC1JbmZpbml0eSA6IE5hTjtcbn07XG5nb29nLm1hdGguc2FmZUZsb29yID0gZnVuY3Rpb24obnVtLCBvcHRfZXBzaWxvbikge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KHZvaWQgMCA9PT0gb3B0X2Vwc2lsb24gfHwgMCA8IG9wdF9lcHNpbG9uKTtcbiAgcmV0dXJuIE1hdGguZmxvb3IobnVtICsgKG9wdF9lcHNpbG9uIHx8IDJlLTE1KSk7XG59O1xuZ29vZy5tYXRoLnNhZmVDZWlsID0gZnVuY3Rpb24obnVtLCBvcHRfZXBzaWxvbikge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KHZvaWQgMCA9PT0gb3B0X2Vwc2lsb24gfHwgMCA8IG9wdF9lcHNpbG9uKTtcbiAgcmV0dXJuIE1hdGguY2VpbChudW0gLSAob3B0X2Vwc2lsb24gfHwgMmUtMTUpKTtcbn07XG5nb29nLml0ZXIgPSB7fTtcbmdvb2cuaXRlci5JdGVyYWJsZSA9IHt9O1xuZ29vZy5pdGVyLlN0b3BJdGVyYXRpb24gPSBcIlN0b3BJdGVyYXRpb25cIiBpbiBnb29nLmdsb2JhbCA/IGdvb2cuZ2xvYmFsLlN0b3BJdGVyYXRpb24gOiB7bWVzc2FnZTpcIlN0b3BJdGVyYXRpb25cIiwgc3RhY2s6XCJcIn07XG5nb29nLml0ZXIuSXRlcmF0b3IgPSBmdW5jdGlvbigpIHtcbn07XG5nb29nLml0ZXIuSXRlcmF0b3IucHJvdG90eXBlLm5leHRWYWx1ZU9yVGhyb3cgPSBmdW5jdGlvbigpIHtcbiAgdGhyb3cgZ29vZy5pdGVyLlN0b3BJdGVyYXRpb247XG59O1xuZ29vZy5pdGVyLkl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkU7XG59O1xuZ29vZy5pdGVyLkVTNl9JVEVSQVRPUl9ET05FID0gZ29vZy5kZWJ1Zy5mcmVlemUoe2RvbmU6ITAsIHZhbHVlOnZvaWQgMH0pO1xuZ29vZy5pdGVyLmNyZWF0ZUVzNkl0ZXJhdG9yWWllbGQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4ge3ZhbHVlOnZhbHVlLCBkb25lOiExfTtcbn07XG5nb29nLml0ZXIudG9FczRJdGVyYXRvck5leHQgPSBmdW5jdGlvbihlczZOZXh0VmFsdWUpIHtcbiAgaWYgKGVzNk5leHRWYWx1ZS5kb25lKSB7XG4gICAgdGhyb3cgZ29vZy5pdGVyLlN0b3BJdGVyYXRpb247XG4gIH1cbiAgcmV0dXJuIGVzNk5leHRWYWx1ZS52YWx1ZTtcbn07XG5nb29nLml0ZXIuY2hlY2tOb0ltcGxpY2l0U3RvcEl0ZXJhdGlvbkluRXM2ID0gZnVuY3Rpb24oZXgpIHtcbiAgaWYgKGV4ID09PSBnb29nLml0ZXIuU3RvcEl0ZXJhdGlvbikge1xuICAgIHRocm93IEVycm9yKFwiRVM2IEl0ZXJhdGlvbiBwcm90b2NvbCBkb2VzIE5PVCBhZGp1c3QgY29udHJvbCBmbG93IHdoZW4gU3RvcEl0ZXJhdGlvbiBpcyB0aHJvd24gZnJvbSBjYWxsYmFjayBoZWxwZXIgZnVuY3Rpb25zLiBJZiB5b3VyIGNvZGUgcmVsaWVzIG9uIHRoaXMgYmVoYXZpb3IsIGNvbnNpZGVyIHRocm93aW5nIGEgZGlmZmVyZW50IGVycm9yIGFuZCBjYXRjaGluZyBpdCB0byB0ZXJtaW5hdGUgaXRlcmF0aW9uLlwiKTtcbiAgfVxuICB0aHJvdyBleDtcbn07XG5nb29nLml0ZXIuSXRlcmF0b3IucHJvdG90eXBlLl9faXRlcmF0b3JfXyA9IGZ1bmN0aW9uKG9wdF9rZXlzKSB7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cuaXRlci50b0l0ZXJhdG9yID0gZnVuY3Rpb24oaXRlcmFibGUpIHtcbiAgaWYgKGl0ZXJhYmxlIGluc3RhbmNlb2YgZ29vZy5pdGVyLkl0ZXJhdG9yKSB7XG4gICAgcmV0dXJuIGl0ZXJhYmxlO1xuICB9XG4gIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGl0ZXJhYmxlLl9faXRlcmF0b3JfXykge1xuICAgIHJldHVybiBpdGVyYWJsZS5fX2l0ZXJhdG9yX18oITEpO1xuICB9XG4gIGlmIChnb29nLmlzQXJyYXlMaWtlKGl0ZXJhYmxlKSkge1xuICAgIHZhciBpID0gMCwgbmV3SXRlciA9IG5ldyBnb29nLml0ZXIuSXRlcmF0b3IoKTtcbiAgICBuZXdJdGVyLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIGZvciAoOzspIHtcbiAgICAgICAgaWYgKGkgPj0gaXRlcmFibGUubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIGdvb2cuaXRlci5FUzZfSVRFUkFUT1JfRE9ORTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaSBpbiBpdGVyYWJsZSkge1xuICAgICAgICAgIHJldHVybiBnb29nLml0ZXIuY3JlYXRlRXM2SXRlcmF0b3JZaWVsZChpdGVyYWJsZVtpKytdKTtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgaXRlck5leHQgPSBuZXdJdGVyLm5leHQ7XG4gICAgbmV3SXRlci5uZXh0VmFsdWVPclRocm93ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZ29vZy5pdGVyLnRvRXM0SXRlcmF0b3JOZXh0KGl0ZXJOZXh0LmNhbGwobmV3SXRlcikpO1xuICAgIH07XG4gICAgcmV0dXJuIG5ld0l0ZXI7XG4gIH1cbiAgdGhyb3cgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIik7XG59O1xuZ29vZy5pdGVyLmZvckVhY2ggPSBmdW5jdGlvbihpdGVyYWJsZSwgZiwgb3B0X29iaikge1xuICBpZiAoZ29vZy5pc0FycmF5TGlrZShpdGVyYWJsZSkpIHtcbiAgICB0cnkge1xuICAgICAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZm9yRWFjaChpdGVyYWJsZSwgZiwgb3B0X29iaik7XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgIGdvb2cuaXRlci5jaGVja05vSW1wbGljaXRTdG9wSXRlcmF0aW9uSW5FczYoZXgpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmb3IgKGl0ZXJhYmxlID0gZ29vZy5pdGVyLnRvSXRlcmF0b3IoaXRlcmFibGUpOzspIHtcbiAgICAgIHZhciB2YWwgPSB2b2lkIDA7XG4gICAgICB0cnkge1xuICAgICAgICB2YWwgPSBpdGVyYWJsZS5uZXh0VmFsdWVPclRocm93KCk7XG4gICAgICB9IGNhdGNoIChleCQzOSkge1xuICAgICAgICBpZiAoZXgkMzkgPT09IGdvb2cuaXRlci5TdG9wSXRlcmF0aW9uKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXgkMzk7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBmLmNhbGwob3B0X29iaiwgdmFsLCB2b2lkIDAsIGl0ZXJhYmxlKTtcbiAgICAgIH0gY2F0Y2ggKGV4JDQwKSB7XG4gICAgICAgIGdvb2cuaXRlci5jaGVja05vSW1wbGljaXRTdG9wSXRlcmF0aW9uSW5FczYoZXgkNDApO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbmdvb2cuaXRlci5maWx0ZXIgPSBmdW5jdGlvbihpdGVyYWJsZSwgZiwgb3B0X29iaikge1xuICB2YXIgaXRlcmF0b3IgPSBnb29nLml0ZXIudG9JdGVyYXRvcihpdGVyYWJsZSksIG5ld0l0ZXIgPSBuZXcgZ29vZy5pdGVyLkl0ZXJhdG9yKCk7XG4gIG5ld0l0ZXIubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIGZvciAoOzspIHtcbiAgICAgIHZhciB2YWwgPSB2b2lkIDA7XG4gICAgICB0cnkge1xuICAgICAgICB2YWwgPSBpdGVyYXRvci5uZXh0VmFsdWVPclRocm93KCk7XG4gICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICBpZiAoZXggPT09IGdvb2cuaXRlci5TdG9wSXRlcmF0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIGdvb2cuaXRlci5FUzZfSVRFUkFUT1JfRE9ORTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBleDtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChmLmNhbGwob3B0X29iaiwgdmFsLCB2b2lkIDAsIGl0ZXJhdG9yKSkge1xuICAgICAgICAgIHJldHVybiBnb29nLml0ZXIuY3JlYXRlRXM2SXRlcmF0b3JZaWVsZCh2YWwpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChleCQ0MSkge1xuICAgICAgICBnb29nLml0ZXIuY2hlY2tOb0ltcGxpY2l0U3RvcEl0ZXJhdGlvbkluRXM2KGV4JDQxKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHZhciBpdGVyTmV4dCA9IG5ld0l0ZXIubmV4dDtcbiAgbmV3SXRlci5uZXh0VmFsdWVPclRocm93ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGdvb2cuaXRlci50b0VzNEl0ZXJhdG9yTmV4dChpdGVyTmV4dC5jYWxsKG5ld0l0ZXIpKTtcbiAgfTtcbiAgcmV0dXJuIG5ld0l0ZXI7XG59O1xuZ29vZy5pdGVyLmZpbHRlckZhbHNlID0gZnVuY3Rpb24oaXRlcmFibGUsIGYsIG9wdF9vYmopIHtcbiAgcmV0dXJuIGdvb2cuaXRlci5maWx0ZXIoaXRlcmFibGUsIGdvb2cuZnVuY3Rpb25zLm5vdChmKSwgb3B0X29iaik7XG59O1xuZ29vZy5pdGVyLnJhbmdlID0gZnVuY3Rpb24oc3RhcnRPclN0b3AsIG9wdF9zdG9wLCBvcHRfc3RlcCkge1xuICB2YXIgc3RhcnQgPSAwLCBzdG9wID0gc3RhcnRPclN0b3AsIHN0ZXAgPSBvcHRfc3RlcCB8fCAxO1xuICAxIDwgYXJndW1lbnRzLmxlbmd0aCAmJiAoc3RhcnQgPSBzdGFydE9yU3RvcCwgc3RvcCA9ICtvcHRfc3RvcCk7XG4gIGlmICgwID09IHN0ZXApIHtcbiAgICB0aHJvdyBFcnJvcihcIlJhbmdlIHN0ZXAgYXJndW1lbnQgbXVzdCBub3QgYmUgemVyb1wiKTtcbiAgfVxuICB2YXIgbmV3SXRlciA9IG5ldyBnb29nLml0ZXIuSXRlcmF0b3IoKTtcbiAgbmV3SXRlci5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKDAgPCBzdGVwICYmIHN0YXJ0ID49IHN0b3AgfHwgMCA+IHN0ZXAgJiYgc3RhcnQgPD0gc3RvcCkge1xuICAgICAgcmV0dXJuIGdvb2cuaXRlci5FUzZfSVRFUkFUT1JfRE9ORTtcbiAgICB9XG4gICAgdmFyIHJ2ID0gc3RhcnQ7XG4gICAgc3RhcnQgKz0gc3RlcDtcbiAgICByZXR1cm4gZ29vZy5pdGVyLmNyZWF0ZUVzNkl0ZXJhdG9yWWllbGQocnYpO1xuICB9O1xuICB2YXIgaXRlck5leHQgPSBuZXdJdGVyLm5leHQ7XG4gIG5ld0l0ZXIubmV4dFZhbHVlT3JUaHJvdyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBnb29nLml0ZXIudG9FczRJdGVyYXRvck5leHQoaXRlck5leHQuY2FsbChuZXdJdGVyKSk7XG4gIH07XG4gIHJldHVybiBuZXdJdGVyO1xufTtcbmdvb2cuaXRlci5qb2luID0gZnVuY3Rpb24oaXRlcmFibGUsIGRlbGltaW5hdG9yKSB7XG4gIHJldHVybiBnb29nLml0ZXIudG9BcnJheShpdGVyYWJsZSkuam9pbihkZWxpbWluYXRvcik7XG59O1xuZ29vZy5pdGVyLm1hcCA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBmLCBvcHRfb2JqKSB7XG4gIHZhciBpdGVyYXRvciA9IGdvb2cuaXRlci50b0l0ZXJhdG9yKGl0ZXJhYmxlKSwgbmV3SXRlciA9IG5ldyBnb29nLml0ZXIuSXRlcmF0b3IoKTtcbiAgbmV3SXRlci5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciB2YWwgPSBpdGVyYXRvci5uZXh0VmFsdWVPclRocm93KCk7XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgIGlmIChleCA9PT0gZ29vZy5pdGVyLlN0b3BJdGVyYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGdvb2cuaXRlci5FUzZfSVRFUkFUT1JfRE9ORTtcbiAgICAgIH1cbiAgICAgIHRocm93IGV4O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgdmFyIG1hcHBlZFZhbCA9IGYuY2FsbChvcHRfb2JqLCB2YWwsIHZvaWQgMCwgaXRlcmF0b3IpO1xuICAgICAgcmV0dXJuIGdvb2cuaXRlci5jcmVhdGVFczZJdGVyYXRvcllpZWxkKG1hcHBlZFZhbCk7XG4gICAgfSBjYXRjaCAoZXgkNDIpIHtcbiAgICAgIGdvb2cuaXRlci5jaGVja05vSW1wbGljaXRTdG9wSXRlcmF0aW9uSW5FczYoZXgkNDIpO1xuICAgIH1cbiAgfTtcbiAgdmFyIGl0ZXJOZXh0ID0gbmV3SXRlci5uZXh0O1xuICBuZXdJdGVyLm5leHRWYWx1ZU9yVGhyb3cgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZ29vZy5pdGVyLnRvRXM0SXRlcmF0b3JOZXh0KGl0ZXJOZXh0LmNhbGwobmV3SXRlcikpO1xuICB9O1xuICByZXR1cm4gbmV3SXRlcjtcbn07XG5nb29nLml0ZXIucmVkdWNlID0gZnVuY3Rpb24oaXRlcmFibGUsIGYsIHZhbCRqc2NvbXAkMCwgb3B0X29iaikge1xuICB2YXIgcnZhbCA9IHZhbCRqc2NvbXAkMDtcbiAgZ29vZy5pdGVyLmZvckVhY2goaXRlcmFibGUsIGZ1bmN0aW9uKHZhbCkge1xuICAgIHJ2YWwgPSBmLmNhbGwob3B0X29iaiwgcnZhbCwgdmFsKTtcbiAgfSk7XG4gIHJldHVybiBydmFsO1xufTtcbmdvb2cuaXRlci5zb21lID0gZnVuY3Rpb24oaXRlcmFibGUsIGYsIG9wdF9vYmopIHtcbiAgZm9yIChpdGVyYWJsZSA9IGdvb2cuaXRlci50b0l0ZXJhdG9yKGl0ZXJhYmxlKTs7KSB7XG4gICAgdmFyIHZhbCA9IHZvaWQgMDtcbiAgICB0cnkge1xuICAgICAgdmFsID0gaXRlcmFibGUubmV4dFZhbHVlT3JUaHJvdygpO1xuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICBpZiAoZXggPT09IGdvb2cuaXRlci5TdG9wSXRlcmF0aW9uKSB7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICAgIHRocm93IGV4O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgaWYgKGYuY2FsbChvcHRfb2JqLCB2YWwsIHZvaWQgMCwgaXRlcmFibGUpKSB7XG4gICAgICAgIHJldHVybiAhMDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChleCQ0Mykge1xuICAgICAgZ29vZy5pdGVyLmNoZWNrTm9JbXBsaWNpdFN0b3BJdGVyYXRpb25JbkVzNihleCQ0Myk7XG4gICAgfVxuICB9XG59O1xuZ29vZy5pdGVyLmV2ZXJ5ID0gZnVuY3Rpb24oaXRlcmFibGUsIGYsIG9wdF9vYmopIHtcbiAgZm9yIChpdGVyYWJsZSA9IGdvb2cuaXRlci50b0l0ZXJhdG9yKGl0ZXJhYmxlKTs7KSB7XG4gICAgdmFyIHZhbCA9IHZvaWQgMDtcbiAgICB0cnkge1xuICAgICAgdmFsID0gaXRlcmFibGUubmV4dFZhbHVlT3JUaHJvdygpO1xuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICBpZiAoZXggPT09IGdvb2cuaXRlci5TdG9wSXRlcmF0aW9uKSB7XG4gICAgICAgIHJldHVybiAhMDtcbiAgICAgIH1cbiAgICAgIHRocm93IGV4O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgaWYgKCFmLmNhbGwob3B0X29iaiwgdmFsLCB2b2lkIDAsIGl0ZXJhYmxlKSkge1xuICAgICAgICByZXR1cm4gITE7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXgkNDQpIHtcbiAgICAgIGdvb2cuaXRlci5jaGVja05vSW1wbGljaXRTdG9wSXRlcmF0aW9uSW5FczYoZXgkNDQpO1xuICAgIH1cbiAgfVxufTtcbmdvb2cuaXRlci5jaGFpbiA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gIHJldHVybiBnb29nLml0ZXIuY2hhaW5Gcm9tSXRlcmFibGUoYXJndW1lbnRzKTtcbn07XG5nb29nLml0ZXIuY2hhaW5Gcm9tSXRlcmFibGUgPSBmdW5jdGlvbihpdGVyYWJsZSkge1xuICB2YXIgaXRlcmF0b3IgPSBnb29nLml0ZXIudG9JdGVyYXRvcihpdGVyYWJsZSksIGl0ZXIgPSBuZXcgZ29vZy5pdGVyLkl0ZXJhdG9yKCksIGN1cnJlbnQgPSBudWxsO1xuICBpdGVyLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICBmb3IgKDs7KSB7XG4gICAgICBpZiAobnVsbCA9PSBjdXJyZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIGl0ID0gaXRlcmF0b3IubmV4dFZhbHVlT3JUaHJvdygpO1xuICAgICAgICAgIGN1cnJlbnQgPSBnb29nLml0ZXIudG9JdGVyYXRvcihpdCk7XG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgaWYgKGV4ID09PSBnb29nLml0ZXIuU3RvcEl0ZXJhdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIGdvb2cuaXRlci5FUzZfSVRFUkFUT1JfRE9ORTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgZXg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGN1cnJlbnQubmV4dFZhbHVlT3JUaHJvdygpO1xuICAgICAgICByZXR1cm4gZ29vZy5pdGVyLmNyZWF0ZUVzNkl0ZXJhdG9yWWllbGQodmFsdWUpO1xuICAgICAgfSBjYXRjaCAoZXgkNDUpIHtcbiAgICAgICAgaWYgKGV4JDQ1ICE9PSBnb29nLml0ZXIuU3RvcEl0ZXJhdGlvbikge1xuICAgICAgICAgIHRocm93IGV4JDQ1O1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgdmFyIGl0ZXJOZXh0ID0gaXRlci5uZXh0O1xuICBpdGVyLm5leHRWYWx1ZU9yVGhyb3cgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZ29vZy5pdGVyLnRvRXM0SXRlcmF0b3JOZXh0KGl0ZXJOZXh0LmNhbGwoaXRlcikpO1xuICB9O1xuICByZXR1cm4gaXRlcjtcbn07XG5nb29nLml0ZXIuZHJvcFdoaWxlID0gZnVuY3Rpb24oaXRlcmFibGUsIGYsIG9wdF9vYmopIHtcbiAgdmFyIGl0ZXJhdG9yID0gZ29vZy5pdGVyLnRvSXRlcmF0b3IoaXRlcmFibGUpLCBuZXdJdGVyID0gbmV3IGdvb2cuaXRlci5JdGVyYXRvcigpLCBkcm9wcGluZyA9ICEwO1xuICBuZXdJdGVyLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICBmb3IgKDs7KSB7XG4gICAgICB2YXIgdmFsID0gdm9pZCAwO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFsID0gaXRlcmF0b3IubmV4dFZhbHVlT3JUaHJvdygpO1xuICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgaWYgKGV4ID09PSBnb29nLml0ZXIuU3RvcEl0ZXJhdGlvbikge1xuICAgICAgICAgIHJldHVybiBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkU7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXg7XG4gICAgICB9XG4gICAgICBpZiAoIWRyb3BwaW5nIHx8ICFmLmNhbGwob3B0X29iaiwgdmFsLCB2b2lkIDAsIGl0ZXJhdG9yKSkge1xuICAgICAgICByZXR1cm4gZHJvcHBpbmcgPSAhMSwgZ29vZy5pdGVyLmNyZWF0ZUVzNkl0ZXJhdG9yWWllbGQodmFsKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHZhciBpdGVyTmV4dCA9IG5ld0l0ZXIubmV4dDtcbiAgbmV3SXRlci5uZXh0VmFsdWVPclRocm93ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGdvb2cuaXRlci50b0VzNEl0ZXJhdG9yTmV4dChpdGVyTmV4dC5jYWxsKG5ld0l0ZXIpKTtcbiAgfTtcbiAgcmV0dXJuIG5ld0l0ZXI7XG59O1xuZ29vZy5pdGVyLnRha2VXaGlsZSA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBmLCBvcHRfb2JqKSB7XG4gIHZhciBpdGVyYXRvciA9IGdvb2cuaXRlci50b0l0ZXJhdG9yKGl0ZXJhYmxlKSwgaXRlciA9IG5ldyBnb29nLml0ZXIuSXRlcmF0b3IoKTtcbiAgaXRlci5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciB2YWwgPSBpdGVyYXRvci5uZXh0VmFsdWVPclRocm93KCk7XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgIGlmIChleCA9PT0gZ29vZy5pdGVyLlN0b3BJdGVyYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGdvb2cuaXRlci5FUzZfSVRFUkFUT1JfRE9ORTtcbiAgICAgIH1cbiAgICAgIHRocm93IGV4O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGYuY2FsbChvcHRfb2JqLCB2YWwsIHZvaWQgMCwgaXRlcmF0b3IpID8gZ29vZy5pdGVyLmNyZWF0ZUVzNkl0ZXJhdG9yWWllbGQodmFsKSA6IGdvb2cuaXRlci5FUzZfSVRFUkFUT1JfRE9ORTtcbiAgICB9IGNhdGNoIChleCQ0Nikge1xuICAgICAgZ29vZy5pdGVyLmNoZWNrTm9JbXBsaWNpdFN0b3BJdGVyYXRpb25JbkVzNihleCQ0Nik7XG4gICAgfVxuICB9O1xuICB2YXIgaXRlck5leHQgPSBpdGVyLm5leHQ7XG4gIGl0ZXIubmV4dFZhbHVlT3JUaHJvdyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBnb29nLml0ZXIudG9FczRJdGVyYXRvck5leHQoaXRlck5leHQuY2FsbChpdGVyKSk7XG4gIH07XG4gIHJldHVybiBpdGVyO1xufTtcbmdvb2cuaXRlci50b0FycmF5ID0gZnVuY3Rpb24oaXRlcmFibGUpIHtcbiAgaWYgKGdvb2cuaXNBcnJheUxpa2UoaXRlcmFibGUpKSB7XG4gICAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3RvQXJyYXkoaXRlcmFibGUpO1xuICB9XG4gIGl0ZXJhYmxlID0gZ29vZy5pdGVyLnRvSXRlcmF0b3IoaXRlcmFibGUpO1xuICB2YXIgYXJyYXkgPSBbXTtcbiAgZ29vZy5pdGVyLmZvckVhY2goaXRlcmFibGUsIGZ1bmN0aW9uKHZhbCkge1xuICAgIGFycmF5LnB1c2godmFsKTtcbiAgfSk7XG4gIHJldHVybiBhcnJheTtcbn07XG5nb29nLml0ZXIuZXF1YWxzID0gZnVuY3Rpb24oaXRlcmFibGUxLCBpdGVyYWJsZTIsIG9wdF9lcXVhbHNGbikge1xuICB2YXIgcGFpcnMgPSBnb29nLml0ZXIuemlwTG9uZ2VzdCh7fSwgaXRlcmFibGUxLCBpdGVyYWJsZTIpLCBlcXVhbHNGbiA9IG9wdF9lcXVhbHNGbiB8fCBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9kZWZhdWx0Q29tcGFyZUVxdWFsaXR5O1xuICByZXR1cm4gZ29vZy5pdGVyLmV2ZXJ5KHBhaXJzLCBmdW5jdGlvbihwYWlyKSB7XG4gICAgcmV0dXJuIGVxdWFsc0ZuKHBhaXJbMF0sIHBhaXJbMV0pO1xuICB9KTtcbn07XG5nb29nLml0ZXIubmV4dE9yVmFsdWUgPSBmdW5jdGlvbihpdGVyYWJsZSwgZGVmYXVsdFZhbHVlKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGdvb2cuaXRlci50b0l0ZXJhdG9yKGl0ZXJhYmxlKS5uZXh0VmFsdWVPclRocm93KCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZSAhPSBnb29nLml0ZXIuU3RvcEl0ZXJhdGlvbikge1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgfVxufTtcbmdvb2cuaXRlci5wcm9kdWN0ID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgaWYgKEFycmF5LnByb3RvdHlwZS5zb21lLmNhbGwoYXJndW1lbnRzLCBmdW5jdGlvbihhcnIpIHtcbiAgICByZXR1cm4gIWFyci5sZW5ndGg7XG4gIH0pIHx8ICFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIG5ldyBnb29nLml0ZXIuSXRlcmF0b3IoKTtcbiAgfVxuICB2YXIgaXRlciA9IG5ldyBnb29nLml0ZXIuSXRlcmF0b3IoKSwgYXJyYXlzID0gYXJndW1lbnRzLCBpbmRpY2VzID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVwZWF0KDAsIGFycmF5cy5sZW5ndGgpO1xuICBpdGVyLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoaW5kaWNlcykge1xuICAgICAgZm9yICh2YXIgcmV0VmFsID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbWFwKGluZGljZXMsIGZ1bmN0aW9uKHZhbHVlSW5kZXgsIGFycmF5SW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5c1thcnJheUluZGV4XVt2YWx1ZUluZGV4XTtcbiAgICAgIH0pLCBpID0gaW5kaWNlcy5sZW5ndGggLSAxOyAwIDw9IGk7IGktLSkge1xuICAgICAgICBnb29nLmFzc2VydHMuYXNzZXJ0KGluZGljZXMpO1xuICAgICAgICBpZiAoaW5kaWNlc1tpXSA8IGFycmF5c1tpXS5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgaW5kaWNlc1tpXSsrO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmICgwID09IGkpIHtcbiAgICAgICAgICBpbmRpY2VzID0gbnVsbDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpbmRpY2VzW2ldID0gMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBnb29nLml0ZXIuY3JlYXRlRXM2SXRlcmF0b3JZaWVsZChyZXRWYWwpO1xuICAgIH1cbiAgICByZXR1cm4gZ29vZy5pdGVyLkVTNl9JVEVSQVRPUl9ET05FO1xuICB9O1xuICB2YXIgaXRlck5leHQgPSBpdGVyLm5leHQ7XG4gIGl0ZXIubmV4dFZhbHVlT3JUaHJvdyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBnb29nLml0ZXIudG9FczRJdGVyYXRvck5leHQoaXRlck5leHQuY2FsbChpdGVyKSk7XG4gIH07XG4gIHJldHVybiBpdGVyO1xufTtcbmdvb2cuaXRlci5jeWNsZSA9IGZ1bmN0aW9uKGl0ZXJhYmxlKSB7XG4gIHZhciBiYXNlSXRlcmF0b3IgPSBnb29nLml0ZXIudG9JdGVyYXRvcihpdGVyYWJsZSksIGNhY2hlID0gW10sIGNhY2hlSW5kZXggPSAwLCBpdGVyID0gbmV3IGdvb2cuaXRlci5JdGVyYXRvcigpLCB1c2VDYWNoZSA9ICExO1xuICBpdGVyLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcmV0dXJuRWxlbWVudCA9IG51bGw7XG4gICAgaWYgKCF1c2VDYWNoZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHJldHVybkVsZW1lbnQgPSBiYXNlSXRlcmF0b3IubmV4dFZhbHVlT3JUaHJvdygpLCBjYWNoZS5wdXNoKHJldHVybkVsZW1lbnQpLCBnb29nLml0ZXIuY3JlYXRlRXM2SXRlcmF0b3JZaWVsZChyZXR1cm5FbGVtZW50KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKGUgIT0gZ29vZy5pdGVyLlN0b3BJdGVyYXRpb24pIHtcbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlID09PSBnb29nLml0ZXIuU3RvcEl0ZXJhdGlvbiAmJiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9pc0VtcHR5KGNhY2hlKSkge1xuICAgICAgICAgIHJldHVybiBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkU7XG4gICAgICAgIH1cbiAgICAgICAgdXNlQ2FjaGUgPSAhMDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuRWxlbWVudCA9IGNhY2hlW2NhY2hlSW5kZXhdO1xuICAgIGNhY2hlSW5kZXggPSAoY2FjaGVJbmRleCArIDEpICUgY2FjaGUubGVuZ3RoO1xuICAgIHJldHVybiBnb29nLml0ZXIuY3JlYXRlRXM2SXRlcmF0b3JZaWVsZChyZXR1cm5FbGVtZW50KTtcbiAgfTtcbiAgdmFyIGl0ZXJOZXh0ID0gaXRlci5uZXh0O1xuICBpdGVyLm5leHRWYWx1ZU9yVGhyb3cgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZ29vZy5pdGVyLnRvRXM0SXRlcmF0b3JOZXh0KGl0ZXJOZXh0LmNhbGwoaXRlcikpO1xuICB9O1xuICByZXR1cm4gaXRlcjtcbn07XG5nb29nLml0ZXIuY291bnQgPSBmdW5jdGlvbihvcHRfc3RhcnQsIG9wdF9zdGVwKSB7XG4gIHZhciBjb3VudGVyID0gb3B0X3N0YXJ0IHx8IDAsIHN0ZXAgPSB2b2lkIDAgIT09IG9wdF9zdGVwID8gb3B0X3N0ZXAgOiAxLCBpdGVyID0gbmV3IGdvb2cuaXRlci5JdGVyYXRvcigpO1xuICBpdGVyLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcmV0dXJuVmFsdWUgPSBjb3VudGVyO1xuICAgIGNvdW50ZXIgKz0gc3RlcDtcbiAgICByZXR1cm4gZ29vZy5pdGVyLmNyZWF0ZUVzNkl0ZXJhdG9yWWllbGQocmV0dXJuVmFsdWUpO1xuICB9O1xuICB2YXIgaXRlck5leHQgPSBpdGVyLm5leHQ7XG4gIGl0ZXIubmV4dFZhbHVlT3JUaHJvdyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBnb29nLml0ZXIudG9FczRJdGVyYXRvck5leHQoaXRlck5leHQuY2FsbChpdGVyKSk7XG4gIH07XG4gIHJldHVybiBpdGVyO1xufTtcbmdvb2cuaXRlci5yZXBlYXQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICB2YXIgaXRlciA9IG5ldyBnb29nLml0ZXIuSXRlcmF0b3IoKTtcbiAgaXRlci5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGdvb2cuaXRlci5jcmVhdGVFczZJdGVyYXRvcllpZWxkKHZhbHVlKTtcbiAgfTtcbiAgdmFyIGl0ZXJOZXh0ID0gaXRlci5uZXh0O1xuICBpdGVyLm5leHRWYWx1ZU9yVGhyb3cgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZ29vZy5pdGVyLnRvRXM0SXRlcmF0b3JOZXh0KGl0ZXJOZXh0LmNhbGwoaXRlcikpO1xuICB9O1xuICByZXR1cm4gaXRlcjtcbn07XG5nb29nLml0ZXIuYWNjdW11bGF0ZSA9IGZ1bmN0aW9uKGl0ZXJhYmxlKSB7XG4gIHZhciBpdGVyYXRvciA9IGdvb2cuaXRlci50b0l0ZXJhdG9yKGl0ZXJhYmxlKSwgdG90YWwgPSAwLCBpdGVyID0gbmV3IGdvb2cuaXRlci5JdGVyYXRvcigpO1xuICBpdGVyLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICB0cnkge1xuICAgICAgdG90YWwgKz0gaXRlcmF0b3IubmV4dFZhbHVlT3JUaHJvdygpO1xuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICBpZiAoZXggPT09IGdvb2cuaXRlci5TdG9wSXRlcmF0aW9uKSB7XG4gICAgICAgIHJldHVybiBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkU7XG4gICAgICB9XG4gICAgICB0aHJvdyBleDtcbiAgICB9XG4gICAgcmV0dXJuIGdvb2cuaXRlci5jcmVhdGVFczZJdGVyYXRvcllpZWxkKHRvdGFsKTtcbiAgfTtcbiAgdmFyIGl0ZXJOZXh0ID0gaXRlci5uZXh0O1xuICBpdGVyLm5leHRWYWx1ZU9yVGhyb3cgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZ29vZy5pdGVyLnRvRXM0SXRlcmF0b3JOZXh0KGl0ZXJOZXh0LmNhbGwoaXRlcikpO1xuICB9O1xuICByZXR1cm4gaXRlcjtcbn07XG5nb29nLml0ZXIuemlwID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsIGl0ZXIgPSBuZXcgZ29vZy5pdGVyLkl0ZXJhdG9yKCk7XG4gIGlmICgwIDwgYXJncy5sZW5ndGgpIHtcbiAgICB2YXIgaXRlcmF0b3JzID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbWFwKGFyZ3MsIGdvb2cuaXRlci50b0l0ZXJhdG9yKSwgYWxsRG9uZSA9ICExO1xuICAgIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGFsbERvbmUpIHtcbiAgICAgICAgcmV0dXJuIGdvb2cuaXRlci5FUzZfSVRFUkFUT1JfRE9ORTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGFyciA9IFtdLCBpID0gMCwgaXQgPSB2b2lkIDA7IGl0ID0gaXRlcmF0b3JzW2krK107KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXJyLnB1c2goaXQubmV4dFZhbHVlT3JUaHJvdygpKTtcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICBpZiAoZXggPT09IGdvb2cuaXRlci5TdG9wSXRlcmF0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gYWxsRG9uZSA9ICEwLCBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZ29vZy5pdGVyLmNyZWF0ZUVzNkl0ZXJhdG9yWWllbGQoYXJyKTtcbiAgICB9O1xuICAgIHZhciBpdGVyTmV4dCA9IGl0ZXIubmV4dDtcbiAgICBpdGVyLm5leHRWYWx1ZU9yVGhyb3cgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBnb29nLml0ZXIudG9FczRJdGVyYXRvck5leHQoaXRlck5leHQuY2FsbChpdGVyKSk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gaXRlcjtcbn07XG5nb29nLml0ZXIuemlwTG9uZ2VzdCA9IGZ1bmN0aW9uKGZpbGxWYWx1ZSwgdmFyX2FyZ3MpIHtcbiAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLCBpdGVyID0gbmV3IGdvb2cuaXRlci5JdGVyYXRvcigpO1xuICBpZiAoMCA8IGFyZ3MubGVuZ3RoKSB7XG4gICAgdmFyIGl0ZXJhdG9ycyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X21hcChhcmdzLCBnb29nLml0ZXIudG9JdGVyYXRvciksIGFsbERvbmUgPSAhMTtcbiAgICBpdGVyLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChhbGxEb25lKSB7XG4gICAgICAgIHJldHVybiBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkU7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpdGVyYXRvcnNIYXZlVmFsdWVzID0gITEsIGFyciA9IFtdLCBpID0gMCwgaXQgPSB2b2lkIDA7IGl0ID0gaXRlcmF0b3JzW2krK107KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXJyLnB1c2goaXQubmV4dFZhbHVlT3JUaHJvdygpKSwgaXRlcmF0b3JzSGF2ZVZhbHVlcyA9ICEwO1xuICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgIGlmIChleCAhPT0gZ29vZy5pdGVyLlN0b3BJdGVyYXRpb24pIHtcbiAgICAgICAgICAgIHRocm93IGV4O1xuICAgICAgICAgIH1cbiAgICAgICAgICBhcnIucHVzaChmaWxsVmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlcmF0b3JzSGF2ZVZhbHVlcyA/IGdvb2cuaXRlci5jcmVhdGVFczZJdGVyYXRvcllpZWxkKGFycikgOiAoYWxsRG9uZSA9ICEwLCBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkUpO1xuICAgIH07XG4gICAgdmFyIGl0ZXJOZXh0ID0gaXRlci5uZXh0O1xuICAgIGl0ZXIubmV4dFZhbHVlT3JUaHJvdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGdvb2cuaXRlci50b0VzNEl0ZXJhdG9yTmV4dChpdGVyTmV4dC5jYWxsKGl0ZXIpKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiBpdGVyO1xufTtcbmdvb2cuaXRlci5jb21wcmVzcyA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBzZWxlY3RvcnMpIHtcbiAgdmFyIHZhbHVlSXRlcmF0b3IgPSBnb29nLml0ZXIudG9JdGVyYXRvcihpdGVyYWJsZSksIHNlbGVjdG9ySXRlcmF0b3IgPSBnb29nLml0ZXIudG9JdGVyYXRvcihzZWxlY3RvcnMpLCBpdGVyID0gbmV3IGdvb2cuaXRlci5JdGVyYXRvcigpLCBhbGxEb25lID0gITE7XG4gIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChhbGxEb25lKSB7XG4gICAgICByZXR1cm4gZ29vZy5pdGVyLkVTNl9JVEVSQVRPUl9ET05FO1xuICAgIH1cbiAgICBmb3IgKDs7KSB7XG4gICAgICB2YXIgdmFsID0gdm9pZCAwLCBzZWxlY3RvclZhbCA9IHZvaWQgMDtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhbCA9IHZhbHVlSXRlcmF0b3IubmV4dFZhbHVlT3JUaHJvdygpLCBzZWxlY3RvclZhbCA9IHNlbGVjdG9ySXRlcmF0b3IubmV4dFZhbHVlT3JUaHJvdygpO1xuICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgaWYgKGV4ID09PSBnb29nLml0ZXIuU3RvcEl0ZXJhdGlvbikge1xuICAgICAgICAgIHJldHVybiBhbGxEb25lID0gITAsIGdvb2cuaXRlci5FUzZfSVRFUkFUT1JfRE9ORTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBleDtcbiAgICAgIH1cbiAgICAgIGlmIChzZWxlY3RvclZhbCkge1xuICAgICAgICByZXR1cm4gZ29vZy5pdGVyLmNyZWF0ZUVzNkl0ZXJhdG9yWWllbGQodmFsKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHZhciBpdGVyTmV4dCA9IGl0ZXIubmV4dDtcbiAgaXRlci5uZXh0VmFsdWVPclRocm93ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGdvb2cuaXRlci50b0VzNEl0ZXJhdG9yTmV4dChpdGVyTmV4dC5jYWxsKGl0ZXIpKTtcbiAgfTtcbiAgcmV0dXJuIGl0ZXI7XG59O1xuZ29vZy5pdGVyLkdyb3VwQnlJdGVyYXRvcl8gPSBmdW5jdGlvbihpdGVyYWJsZSwgb3B0X2tleUZ1bmMpIHtcbiAgdGhpcy5pdGVyYXRvciA9IGdvb2cuaXRlci50b0l0ZXJhdG9yKGl0ZXJhYmxlKTtcbiAgdGhpcy5rZXlGdW5jID0gb3B0X2tleUZ1bmMgfHwgZ29vZy5mdW5jdGlvbnMuaWRlbnRpdHk7XG59O1xuZ29vZy5pbmhlcml0cyhnb29nLml0ZXIuR3JvdXBCeUl0ZXJhdG9yXywgZ29vZy5pdGVyLkl0ZXJhdG9yKTtcbmdvb2cuaXRlci5Hcm91cEJ5SXRlcmF0b3JfLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gIGZvciAoOyB0aGlzLmN1cnJlbnRLZXkgPT0gdGhpcy50YXJnZXRLZXk7KSB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gdGhpcy5pdGVyYXRvci5uZXh0VmFsdWVPclRocm93KCk7XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgIGlmIChleCA9PT0gZ29vZy5pdGVyLlN0b3BJdGVyYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGdvb2cuaXRlci5FUzZfSVRFUkFUT1JfRE9ORTtcbiAgICAgIH1cbiAgICAgIHRocm93IGV4O1xuICAgIH1cbiAgICB0aGlzLmN1cnJlbnRLZXkgPSB0aGlzLmtleUZ1bmModGhpcy5jdXJyZW50VmFsdWUpO1xuICB9XG4gIHRoaXMudGFyZ2V0S2V5ID0gdGhpcy5jdXJyZW50S2V5O1xuICByZXR1cm4gZ29vZy5pdGVyLmNyZWF0ZUVzNkl0ZXJhdG9yWWllbGQoW3RoaXMuY3VycmVudEtleSwgdGhpcy5ncm91cEl0ZW1zXyh0aGlzLnRhcmdldEtleSldKTtcbn07XG5nb29nLml0ZXIuR3JvdXBCeUl0ZXJhdG9yXy5wcm90b3R5cGUubmV4dFZhbHVlT3JUaHJvdyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5pdGVyLnRvRXM0SXRlcmF0b3JOZXh0KGdvb2cuaXRlci5Hcm91cEJ5SXRlcmF0b3JfLnByb3RvdHlwZS5uZXh0LmNhbGwodGhpcykpO1xufTtcbmdvb2cuaXRlci5Hcm91cEJ5SXRlcmF0b3JfLnByb3RvdHlwZS5ncm91cEl0ZW1zXyA9IGZ1bmN0aW9uKHRhcmdldEtleSkge1xuICBmb3IgKHZhciBhcnIgPSBbXTsgdGhpcy5jdXJyZW50S2V5ID09IHRhcmdldEtleTspIHtcbiAgICBhcnIucHVzaCh0aGlzLmN1cnJlbnRWYWx1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gdGhpcy5pdGVyYXRvci5uZXh0VmFsdWVPclRocm93KCk7XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgIGlmIChleCAhPT0gZ29vZy5pdGVyLlN0b3BJdGVyYXRpb24pIHtcbiAgICAgICAgdGhyb3cgZXg7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50S2V5ID0gdGhpcy5rZXlGdW5jKHRoaXMuY3VycmVudFZhbHVlKTtcbiAgfVxuICByZXR1cm4gYXJyO1xufTtcbmdvb2cuaXRlci5ncm91cEJ5ID0gZnVuY3Rpb24oaXRlcmFibGUsIG9wdF9rZXlGdW5jKSB7XG4gIHJldHVybiBuZXcgZ29vZy5pdGVyLkdyb3VwQnlJdGVyYXRvcl8oaXRlcmFibGUsIG9wdF9rZXlGdW5jKTtcbn07XG5nb29nLml0ZXIuc3Rhck1hcCA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBmLCBvcHRfb2JqKSB7XG4gIHZhciBpdGVyYXRvciA9IGdvb2cuaXRlci50b0l0ZXJhdG9yKGl0ZXJhYmxlKSwgaXRlciA9IG5ldyBnb29nLml0ZXIuSXRlcmF0b3IoKTtcbiAgaXRlci5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBhcmdzID0gZ29vZy5pdGVyLnRvQXJyYXkoaXRlcmF0b3IubmV4dFZhbHVlT3JUaHJvdygpKSwgdmFsdWUgPSBmLmFwcGx5KG9wdF9vYmosIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NvbmNhdChhcmdzLCB2b2lkIDAsIGl0ZXJhdG9yKSk7XG4gICAgICByZXR1cm4gZ29vZy5pdGVyLmNyZWF0ZUVzNkl0ZXJhdG9yWWllbGQodmFsdWUpO1xuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICBpZiAoZXggPT09IGdvb2cuaXRlci5TdG9wSXRlcmF0aW9uKSB7XG4gICAgICAgIHJldHVybiBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkU7XG4gICAgICB9XG4gICAgICB0aHJvdyBleDtcbiAgICB9XG4gIH07XG4gIHZhciBpdGVyTmV4dCA9IGl0ZXIubmV4dDtcbiAgaXRlci5uZXh0VmFsdWVPclRocm93ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGdvb2cuaXRlci50b0VzNEl0ZXJhdG9yTmV4dChpdGVyTmV4dC5jYWxsKGl0ZXIpKTtcbiAgfTtcbiAgcmV0dXJuIGl0ZXI7XG59O1xuZ29vZy5pdGVyLnRlZSA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBvcHRfbnVtKSB7XG4gIGZ1bmN0aW9uIGFkZE5leHRJdGVyYXRvclZhbHVlVG9CdWZmZXJzKCkge1xuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciB2YWwgPSBpdGVyYXRvci5uZXh0VmFsdWVPclRocm93KCksIGkgPSAwLCBidWZmZXIgPSB2b2lkIDA7IGJ1ZmZlciA9IGJ1ZmZlcnNbaSsrXTspIHtcbiAgICAgICAgYnVmZmVyLnB1c2godmFsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAhMDtcbiAgICB9IGNhdGNoIChleCkge1xuICAgICAgaWYgKGV4ID09PSBnb29nLml0ZXIuU3RvcEl0ZXJhdGlvbikge1xuICAgICAgICByZXR1cm4gITE7XG4gICAgICB9XG4gICAgICB0aHJvdyBleDtcbiAgICB9XG4gIH1cbiAgdmFyIGl0ZXJhdG9yID0gZ29vZy5pdGVyLnRvSXRlcmF0b3IoaXRlcmFibGUpLCBidWZmZXJzID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbWFwKG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JhbmdlKFwibnVtYmVyXCIgPT09IHR5cGVvZiBvcHRfbnVtID8gb3B0X251bSA6IDIpLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gW107XG4gIH0pO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbWFwKGJ1ZmZlcnMsIGZ1bmN0aW9uIGNyZWF0ZUl0ZXJhdG9yKGJ1ZmZlcikge1xuICAgIHZhciBpdGVyID0gbmV3IGdvb2cuaXRlci5JdGVyYXRvcigpO1xuICAgIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2lzRW1wdHkoYnVmZmVyKSAmJiAhYWRkTmV4dEl0ZXJhdG9yVmFsdWVUb0J1ZmZlcnMoKSkge1xuICAgICAgICByZXR1cm4gZ29vZy5pdGVyLkVTNl9JVEVSQVRPUl9ET05FO1xuICAgICAgfVxuICAgICAgZ29vZy5hc3NlcnRzLmFzc2VydCghbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaXNFbXB0eShidWZmZXIpKTtcbiAgICAgIHJldHVybiBnb29nLml0ZXIuY3JlYXRlRXM2SXRlcmF0b3JZaWVsZChidWZmZXIuc2hpZnQoKSk7XG4gICAgfTtcbiAgICB2YXIgaXRlck5leHQgPSBpdGVyLm5leHQ7XG4gICAgaXRlci5uZXh0VmFsdWVPclRocm93ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZ29vZy5pdGVyLnRvRXM0SXRlcmF0b3JOZXh0KGl0ZXJOZXh0LmNhbGwoaXRlcikpO1xuICAgIH07XG4gICAgcmV0dXJuIGl0ZXI7XG4gIH0pO1xufTtcbmdvb2cuaXRlci5lbnVtZXJhdGUgPSBmdW5jdGlvbihpdGVyYWJsZSwgb3B0X3N0YXJ0KSB7XG4gIHJldHVybiBnb29nLml0ZXIuemlwKGdvb2cuaXRlci5jb3VudChvcHRfc3RhcnQpLCBpdGVyYWJsZSk7XG59O1xuZ29vZy5pdGVyLmxpbWl0ID0gZnVuY3Rpb24oaXRlcmFibGUsIGxpbWl0U2l6ZSkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KGdvb2cubWF0aC5pc0ludChsaW1pdFNpemUpICYmIDAgPD0gbGltaXRTaXplKTtcbiAgdmFyIGl0ZXJhdG9yID0gZ29vZy5pdGVyLnRvSXRlcmF0b3IoaXRlcmFibGUpLCBpdGVyID0gbmV3IGdvb2cuaXRlci5JdGVyYXRvcigpLCByZW1haW5pbmcgPSBsaW1pdFNpemU7XG4gIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICgwIDwgcmVtYWluaW5nLS0pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBnb29nLml0ZXIuY3JlYXRlRXM2SXRlcmF0b3JZaWVsZChpdGVyYXRvci5uZXh0VmFsdWVPclRocm93KCkpO1xuICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgaWYgKGV4ID09PSBnb29nLml0ZXIuU3RvcEl0ZXJhdGlvbikge1xuICAgICAgICAgIHJldHVybiBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkU7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXg7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkU7XG4gIH07XG4gIHZhciBpdGVyTmV4dCA9IGl0ZXIubmV4dDtcbiAgaXRlci5uZXh0VmFsdWVPclRocm93ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGdvb2cuaXRlci50b0VzNEl0ZXJhdG9yTmV4dChpdGVyTmV4dC5jYWxsKGl0ZXIpKTtcbiAgfTtcbiAgcmV0dXJuIGl0ZXI7XG59O1xuZ29vZy5pdGVyLmNvbnN1bWUgPSBmdW5jdGlvbihpdGVyYWJsZSwgY291bnQpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChnb29nLm1hdGguaXNJbnQoY291bnQpICYmIDAgPD0gY291bnQpO1xuICBmb3IgKHZhciBpdGVyYXRvciA9IGdvb2cuaXRlci50b0l0ZXJhdG9yKGl0ZXJhYmxlKTsgMCA8IGNvdW50LS07KSB7XG4gICAgZ29vZy5pdGVyLm5leHRPclZhbHVlKGl0ZXJhdG9yLCBudWxsKTtcbiAgfVxuICByZXR1cm4gaXRlcmF0b3I7XG59O1xuZ29vZy5pdGVyLnNsaWNlID0gZnVuY3Rpb24oaXRlcmFibGUsIHN0YXJ0LCBvcHRfZW5kKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQoZ29vZy5tYXRoLmlzSW50KHN0YXJ0KSAmJiAwIDw9IHN0YXJ0KTtcbiAgdmFyIGl0ZXJhdG9yID0gZ29vZy5pdGVyLmNvbnN1bWUoaXRlcmFibGUsIHN0YXJ0KTtcbiAgXCJudW1iZXJcIiA9PT0gdHlwZW9mIG9wdF9lbmQgJiYgKGdvb2cuYXNzZXJ0cy5hc3NlcnQoZ29vZy5tYXRoLmlzSW50KG9wdF9lbmQpICYmIG9wdF9lbmQgPj0gc3RhcnQpLCBpdGVyYXRvciA9IGdvb2cuaXRlci5saW1pdChpdGVyYXRvciwgb3B0X2VuZCAtIHN0YXJ0KSk7XG4gIHJldHVybiBpdGVyYXRvcjtcbn07XG5nb29nLml0ZXIuaGFzRHVwbGljYXRlc18gPSBmdW5jdGlvbihhcnIpIHtcbiAgdmFyIGRlZHVwZWQgPSBbXTtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVtb3ZlRHVwbGljYXRlcyhhcnIsIGRlZHVwZWQpO1xuICByZXR1cm4gYXJyLmxlbmd0aCAhPSBkZWR1cGVkLmxlbmd0aDtcbn07XG5nb29nLml0ZXIucGVybXV0YXRpb25zID0gZnVuY3Rpb24oaXRlcmFibGUsIG9wdF9sZW5ndGgpIHtcbiAgdmFyIGVsZW1lbnRzID0gZ29vZy5pdGVyLnRvQXJyYXkoaXRlcmFibGUpLCBwcm9kdWN0ID0gZ29vZy5pdGVyLnByb2R1Y3QuYXBwbHkodm9pZCAwLCBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZXBlYXQoZWxlbWVudHMsIFwibnVtYmVyXCIgPT09IHR5cGVvZiBvcHRfbGVuZ3RoID8gb3B0X2xlbmd0aCA6IGVsZW1lbnRzLmxlbmd0aCkpO1xuICByZXR1cm4gZ29vZy5pdGVyLmZpbHRlcihwcm9kdWN0LCBmdW5jdGlvbihhcnIpIHtcbiAgICByZXR1cm4gIWdvb2cuaXRlci5oYXNEdXBsaWNhdGVzXyhhcnIpO1xuICB9KTtcbn07XG5nb29nLml0ZXIuY29tYmluYXRpb25zID0gZnVuY3Rpb24oaXRlcmFibGUsIGxlbmd0aCkge1xuICBmdW5jdGlvbiBnZXRJbmRleEZyb21FbGVtZW50cyhpbmRleCkge1xuICAgIHJldHVybiBlbGVtZW50c1tpbmRleF07XG4gIH1cbiAgdmFyIGVsZW1lbnRzID0gZ29vZy5pdGVyLnRvQXJyYXkoaXRlcmFibGUpLCBpbmRleGVzID0gZ29vZy5pdGVyLnJhbmdlKGVsZW1lbnRzLmxlbmd0aCksIGluZGV4SXRlcmF0b3IgPSBnb29nLml0ZXIucGVybXV0YXRpb25zKGluZGV4ZXMsIGxlbmd0aCksIHNvcnRlZEluZGV4SXRlcmF0b3IgPSBnb29nLml0ZXIuZmlsdGVyKGluZGV4SXRlcmF0b3IsIGZ1bmN0aW9uKGFycikge1xuICAgIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9pc1NvcnRlZChhcnIpO1xuICB9KSwgaXRlciA9IG5ldyBnb29nLml0ZXIuSXRlcmF0b3IoKTtcbiAgaXRlci5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBuZXh0QXJyID0gc29ydGVkSW5kZXhJdGVyYXRvci5uZXh0VmFsdWVPclRocm93KCk7XG4gICAgICByZXR1cm4gZ29vZy5pdGVyLmNyZWF0ZUVzNkl0ZXJhdG9yWWllbGQobW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbWFwKG5leHRBcnIsIGdldEluZGV4RnJvbUVsZW1lbnRzKSk7XG4gICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgIGlmIChleCA9PT0gZ29vZy5pdGVyLlN0b3BJdGVyYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGdvb2cuaXRlci5FUzZfSVRFUkFUT1JfRE9ORTtcbiAgICAgIH1cbiAgICAgIHRocm93IGV4O1xuICAgIH1cbiAgfTtcbiAgdmFyIGl0ZXJOZXh0ID0gaXRlci5uZXh0O1xuICBpdGVyLm5leHRWYWx1ZU9yVGhyb3cgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZ29vZy5pdGVyLnRvRXM0SXRlcmF0b3JOZXh0KGl0ZXJOZXh0LmNhbGwoaXRlcikpO1xuICB9O1xuICByZXR1cm4gaXRlcjtcbn07XG5nb29nLml0ZXIuY29tYmluYXRpb25zV2l0aFJlcGxhY2VtZW50ID0gZnVuY3Rpb24oaXRlcmFibGUsIGxlbmd0aCkge1xuICBmdW5jdGlvbiBnZXRJbmRleEZyb21FbGVtZW50cyhpbmRleCkge1xuICAgIHJldHVybiBlbGVtZW50c1tpbmRleF07XG4gIH1cbiAgdmFyIGVsZW1lbnRzID0gZ29vZy5pdGVyLnRvQXJyYXkoaXRlcmFibGUpLCBpbmRleGVzID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmFuZ2UoZWxlbWVudHMubGVuZ3RoKSwgaW5kZXhJdGVyYXRvciA9IGdvb2cuaXRlci5wcm9kdWN0LmFwcGx5KHZvaWQgMCwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVwZWF0KGluZGV4ZXMsIGxlbmd0aCkpLCBzb3J0ZWRJbmRleEl0ZXJhdG9yID0gZ29vZy5pdGVyLmZpbHRlcihpbmRleEl0ZXJhdG9yLCBmdW5jdGlvbihhcnIpIHtcbiAgICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfaXNTb3J0ZWQoYXJyKTtcbiAgfSksIGl0ZXIgPSBuZXcgZ29vZy5pdGVyLkl0ZXJhdG9yKCk7XG4gIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZ29vZy5pdGVyLmNyZWF0ZUVzNkl0ZXJhdG9yWWllbGQobW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbWFwKHNvcnRlZEluZGV4SXRlcmF0b3IubmV4dFZhbHVlT3JUaHJvdygpLCBnZXRJbmRleEZyb21FbGVtZW50cykpO1xuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICBpZiAoZXggPT09IGdvb2cuaXRlci5TdG9wSXRlcmF0aW9uKSB7XG4gICAgICAgIHJldHVybiBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkU7XG4gICAgICB9XG4gICAgICB0aHJvdyBleDtcbiAgICB9XG4gIH07XG4gIHZhciBpdGVyTmV4dCA9IGl0ZXIubmV4dDtcbiAgaXRlci5uZXh0VmFsdWVPclRocm93ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGdvb2cuaXRlci50b0VzNEl0ZXJhdG9yTmV4dChpdGVyTmV4dC5jYWxsKGl0ZXIpKTtcbiAgfTtcbiAgcmV0dXJuIGl0ZXI7XG59O1xuZ29vZy5pdGVyLmVzNiA9IHt9O1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1JdGVyYWJsZSA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1JdGVyYWJsZS5wcm90b3R5cGUuX19pdGVyYXRvcl9fID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUl0ZXJhYmxlLnByb3RvdHlwZS50b0dvb2cgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltSXRlcmFibGUucHJvdG90eXBlLnRvRXM2ID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUl0ZXJhYmxlLm9mID0gZnVuY3Rpb24oaXRlcikge1xuICBpZiAoaXRlciBpbnN0YW5jZW9mIG1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1JdGVyYWJsZUltcGwgfHwgaXRlciBpbnN0YW5jZW9mIG1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1Hb29nSXRlcmF0b3IgfHwgaXRlciBpbnN0YW5jZW9mIG1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1FczZJdGVyYXRvcikge1xuICAgIHJldHVybiBpdGVyO1xuICB9XG4gIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGl0ZXIubmV4dFZhbHVlT3JUaHJvdykge1xuICAgIHJldHVybiBuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUl0ZXJhYmxlSW1wbChmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl93cmFwR29vZyhpdGVyKTtcbiAgICB9KTtcbiAgfVxuICBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBpdGVyW1N5bWJvbC5pdGVyYXRvcl0pIHtcbiAgICByZXR1cm4gbmV3IG1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1JdGVyYWJsZUltcGwoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gaXRlcltTeW1ib2wuaXRlcmF0b3JdKCk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgaXRlci5fX2l0ZXJhdG9yX18pIHtcbiAgICByZXR1cm4gbmV3IG1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1JdGVyYWJsZUltcGwoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfd3JhcEdvb2coaXRlci5fX2l0ZXJhdG9yX18oKSk7XG4gICAgfSk7XG4gIH1cbiAgdGhyb3cgRXJyb3IoXCJOb3QgYW4gaXRlcmF0b3Igb3IgaXRlcmFibGUuXCIpO1xufTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl93cmFwR29vZyA9IGZ1bmN0aW9uKGl0ZXIpIHtcbiAgaWYgKCEoaXRlciBpbnN0YW5jZW9mIGdvb2cuaXRlci5JdGVyYXRvcikpIHtcbiAgICByZXR1cm4gaXRlcjtcbiAgfVxuICB2YXIgZG9uZSA9ICExO1xuICByZXR1cm4ge25leHQ6ZnVuY3Rpb24oKSB7XG4gICAgZm9yICh2YXIgdmFsdWU7ICFkb25lOykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFsdWUgPSBpdGVyLm5leHRWYWx1ZU9yVGhyb3coKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9IGNhdGNoIChlcnIkNDcpIHtcbiAgICAgICAgaWYgKGVyciQ0NyAhPT0gZ29vZy5pdGVyLlN0b3BJdGVyYXRpb24pIHtcbiAgICAgICAgICB0aHJvdyBlcnIkNDc7XG4gICAgICAgIH1cbiAgICAgICAgZG9uZSA9ICEwO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge3ZhbHVlOnZhbHVlLCBkb25lOmRvbmV9O1xuICB9LH07XG59LCBtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltSXRlcmFibGVJbXBsID0gZnVuY3Rpb24oZnVuYykge1xuICB0aGlzLmZ1bmNfID0gZnVuYztcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltSXRlcmFibGVJbXBsLnByb3RvdHlwZS5fX2l0ZXJhdG9yX18gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltR29vZ0l0ZXJhdG9yKHRoaXMuZnVuY18oKSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUl0ZXJhYmxlSW1wbC5wcm90b3R5cGUudG9Hb29nID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUdvb2dJdGVyYXRvcih0aGlzLmZ1bmNfKCkpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1JdGVyYWJsZUltcGwucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltRXM2SXRlcmF0b3IodGhpcy5mdW5jXygpKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltSXRlcmFibGVJbXBsLnByb3RvdHlwZS50b0VzNiA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IG1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1FczZJdGVyYXRvcih0aGlzLmZ1bmNfKCkpO1xufTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltR29vZ0l0ZXJhdG9yID0gZnVuY3Rpb24oaXRlcikge1xuICBnb29nLml0ZXIuSXRlcmF0b3IuY2FsbCh0aGlzKTtcbiAgdGhpcy5pdGVyXyA9IGl0ZXI7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltR29vZ0l0ZXJhdG9yLCBnb29nLml0ZXIuSXRlcmF0b3IpO1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUdvb2dJdGVyYXRvci5wcm90b3R5cGUubmV4dFZhbHVlT3JUaHJvdyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcmVzdWx0ID0gdGhpcy5pdGVyXy5uZXh0KCk7XG4gIGlmIChyZXN1bHQuZG9uZSkge1xuICAgIHRocm93IGdvb2cuaXRlci5TdG9wSXRlcmF0aW9uO1xuICB9XG4gIHJldHVybiByZXN1bHQudmFsdWU7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUdvb2dJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5pdGVyXy5uZXh0KCk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUdvb2dJdGVyYXRvci5wcm90b3R5cGUudG9Hb29nID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1Hb29nSXRlcmF0b3IucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltRXM2SXRlcmF0b3IodGhpcy5pdGVyXyk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUdvb2dJdGVyYXRvci5wcm90b3R5cGUudG9FczYgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltRXM2SXRlcmF0b3IodGhpcy5pdGVyXyk7XG59O1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1FczZJdGVyYXRvciA9IGZ1bmN0aW9uKGl0ZXIpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUl0ZXJhYmxlSW1wbC5jYWxsKHRoaXMsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBpdGVyO1xuICB9KTtcbiAgdGhpcy5pdGVyXyA9IGl0ZXI7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkY29udGVudHMkZ29vZyRpdGVyJGVzNl9TaGltRXM2SXRlcmF0b3IsIG1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1JdGVyYWJsZUltcGwpO1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUVzNkl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLml0ZXJfLm5leHQoKTtcbn07XG5nb29nLml0ZXIuZXM2LlNoaW1JdGVyYWJsZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1JdGVyYWJsZTtcbmdvb2cuaXRlci5lczYuU2hpbUVzNkl0ZXJhdG9yID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUVzNkl0ZXJhdG9yO1xuZ29vZy5pdGVyLmVzNi5TaGltR29vZ0l0ZXJhdG9yID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUdvb2dJdGVyYXRvcjtcbmdvb2cuc3RydWN0cy5NYXAgPSBmdW5jdGlvbihvcHRfbWFwLCB2YXJfYXJncykge1xuICB0aGlzLm1hcF8gPSB7fTtcbiAgdGhpcy5rZXlzXyA9IFtdO1xuICB0aGlzLnZlcnNpb25fID0gdGhpcy5zaXplID0gMDtcbiAgdmFyIGFyZ0xlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gIGlmICgxIDwgYXJnTGVuZ3RoKSB7XG4gICAgaWYgKGFyZ0xlbmd0aCAlIDIpIHtcbiAgICAgIHRocm93IEVycm9yKFwiVW5ldmVuIG51bWJlciBvZiBhcmd1bWVudHNcIik7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJnTGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgIHRoaXMuc2V0KGFyZ3VtZW50c1tpXSwgYXJndW1lbnRzW2kgKyAxXSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG9wdF9tYXAgJiYgdGhpcy5hZGRBbGwob3B0X21hcCk7XG4gIH1cbn07XG5nb29nLnN0cnVjdHMuTWFwLnByb3RvdHlwZS5nZXRDb3VudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5zaXplO1xufTtcbmdvb2cuc3RydWN0cy5NYXAucHJvdG90eXBlLmdldFZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmNsZWFudXBLZXlzQXJyYXlfKCk7XG4gIGZvciAodmFyIHJ2ID0gW10sIGkgPSAwOyBpIDwgdGhpcy5rZXlzXy5sZW5ndGg7IGkrKykge1xuICAgIHJ2LnB1c2godGhpcy5tYXBfW3RoaXMua2V5c19baV1dKTtcbiAgfVxuICByZXR1cm4gcnY7XG59O1xuZ29vZy5zdHJ1Y3RzLk1hcC5wcm90b3R5cGUuZ2V0S2V5cyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmNsZWFudXBLZXlzQXJyYXlfKCk7XG4gIHJldHVybiB0aGlzLmtleXNfLmNvbmNhdCgpO1xufTtcbmdvb2cuc3RydWN0cy5NYXAucHJvdG90eXBlLmNvbnRhaW5zS2V5ID0gZnVuY3Rpb24oa2V5KSB7XG4gIHJldHVybiB0aGlzLmhhcyhrZXkpO1xufTtcbmdvb2cuc3RydWN0cy5NYXAucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKGtleSkge1xuICByZXR1cm4gZ29vZy5zdHJ1Y3RzLk1hcC5oYXNLZXlfKHRoaXMubWFwXywga2V5KTtcbn07XG5nb29nLnN0cnVjdHMuTWFwLnByb3RvdHlwZS5jb250YWluc1ZhbHVlID0gZnVuY3Rpb24odmFsKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5rZXlzXy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSB0aGlzLmtleXNfW2ldO1xuICAgIGlmIChnb29nLnN0cnVjdHMuTWFwLmhhc0tleV8odGhpcy5tYXBfLCBrZXkpICYmIHRoaXMubWFwX1trZXldID09IHZhbCkge1xuICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgfVxuICByZXR1cm4gITE7XG59O1xuZ29vZy5zdHJ1Y3RzLk1hcC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24ob3RoZXJNYXAsIG9wdF9lcXVhbGl0eUZuKSB7XG4gIGlmICh0aGlzID09PSBvdGhlck1hcCkge1xuICAgIHJldHVybiAhMDtcbiAgfVxuICBpZiAodGhpcy5zaXplICE9IG90aGVyTWFwLmdldENvdW50KCkpIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgdmFyIGVxdWFsaXR5Rm4gPSBvcHRfZXF1YWxpdHlGbiB8fCBnb29nLnN0cnVjdHMuTWFwLmRlZmF1bHRFcXVhbHM7XG4gIHRoaXMuY2xlYW51cEtleXNBcnJheV8oKTtcbiAgZm9yICh2YXIga2V5LCBpID0gMDsga2V5ID0gdGhpcy5rZXlzX1tpXTsgaSsrKSB7XG4gICAgaWYgKCFlcXVhbGl0eUZuKHRoaXMuZ2V0KGtleSksIG90aGVyTWFwLmdldChrZXkpKSkge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfVxuICByZXR1cm4gITA7XG59O1xuZ29vZy5zdHJ1Y3RzLk1hcC5kZWZhdWx0RXF1YWxzID0gZnVuY3Rpb24oYSwgYikge1xuICByZXR1cm4gYSA9PT0gYjtcbn07XG5nb29nLnN0cnVjdHMuTWFwLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAwID09IHRoaXMuc2l6ZTtcbn07XG5nb29nLnN0cnVjdHMuTWFwLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLm1hcF8gPSB7fTtcbiAgdGhpcy5rZXlzXy5sZW5ndGggPSAwO1xuICB0aGlzLnNldFNpemVJbnRlcm5hbF8oMCk7XG4gIHRoaXMudmVyc2lvbl8gPSAwO1xufTtcbmdvb2cuc3RydWN0cy5NYXAucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGtleSkge1xuICByZXR1cm4gdGhpcy5kZWxldGUoa2V5KTtcbn07XG5nb29nLnN0cnVjdHMuTWFwLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbihrZXkpIHtcbiAgcmV0dXJuIGdvb2cuc3RydWN0cy5NYXAuaGFzS2V5Xyh0aGlzLm1hcF8sIGtleSkgPyAoZGVsZXRlIHRoaXMubWFwX1trZXldLCB0aGlzLnNldFNpemVJbnRlcm5hbF8odGhpcy5zaXplIC0gMSksIHRoaXMudmVyc2lvbl8rKywgdGhpcy5rZXlzXy5sZW5ndGggPiAyICogdGhpcy5zaXplICYmIHRoaXMuY2xlYW51cEtleXNBcnJheV8oKSwgITApIDogITE7XG59O1xuZ29vZy5zdHJ1Y3RzLk1hcC5wcm90b3R5cGUuY2xlYW51cEtleXNBcnJheV8gPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuc2l6ZSAhPSB0aGlzLmtleXNfLmxlbmd0aCkge1xuICAgIGZvciAodmFyIHNyY0luZGV4ID0gMCwgZGVzdEluZGV4ID0gMDsgc3JjSW5kZXggPCB0aGlzLmtleXNfLmxlbmd0aDspIHtcbiAgICAgIHZhciBrZXkgPSB0aGlzLmtleXNfW3NyY0luZGV4XTtcbiAgICAgIGdvb2cuc3RydWN0cy5NYXAuaGFzS2V5Xyh0aGlzLm1hcF8sIGtleSkgJiYgKHRoaXMua2V5c19bZGVzdEluZGV4KytdID0ga2V5KTtcbiAgICAgIHNyY0luZGV4Kys7XG4gICAgfVxuICAgIHRoaXMua2V5c18ubGVuZ3RoID0gZGVzdEluZGV4O1xuICB9XG4gIGlmICh0aGlzLnNpemUgIT0gdGhpcy5rZXlzXy5sZW5ndGgpIHtcbiAgICB2YXIgc2VlbiA9IHt9O1xuICAgIGZvciAoZGVzdEluZGV4ID0gc3JjSW5kZXggPSAwOyBzcmNJbmRleCA8IHRoaXMua2V5c18ubGVuZ3RoOykge1xuICAgICAga2V5ID0gdGhpcy5rZXlzX1tzcmNJbmRleF0sIGdvb2cuc3RydWN0cy5NYXAuaGFzS2V5XyhzZWVuLCBrZXkpIHx8ICh0aGlzLmtleXNfW2Rlc3RJbmRleCsrXSA9IGtleSwgc2VlbltrZXldID0gMSksIHNyY0luZGV4Kys7XG4gICAgfVxuICAgIHRoaXMua2V5c18ubGVuZ3RoID0gZGVzdEluZGV4O1xuICB9XG59O1xuZ29vZy5zdHJ1Y3RzLk1hcC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oa2V5LCBvcHRfdmFsKSB7XG4gIHJldHVybiBnb29nLnN0cnVjdHMuTWFwLmhhc0tleV8odGhpcy5tYXBfLCBrZXkpID8gdGhpcy5tYXBfW2tleV0gOiBvcHRfdmFsO1xufTtcbmdvb2cuc3RydWN0cy5NYXAucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgZ29vZy5zdHJ1Y3RzLk1hcC5oYXNLZXlfKHRoaXMubWFwXywga2V5KSB8fCAodGhpcy5zZXRTaXplSW50ZXJuYWxfKHRoaXMuc2l6ZSArIDEpLCB0aGlzLmtleXNfLnB1c2goa2V5KSwgdGhpcy52ZXJzaW9uXysrKTtcbiAgdGhpcy5tYXBfW2tleV0gPSB2YWx1ZTtcbn07XG5nb29nLnN0cnVjdHMuTWFwLnByb3RvdHlwZS5hZGRBbGwgPSBmdW5jdGlvbihtYXApIHtcbiAgaWYgKG1hcCBpbnN0YW5jZW9mIGdvb2cuc3RydWN0cy5NYXApIHtcbiAgICBmb3IgKHZhciBrZXlzID0gbWFwLmdldEtleXMoKSwgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLnNldChrZXlzW2ldLCBtYXAuZ2V0KGtleXNbaV0pKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIga2V5IGluIG1hcCkge1xuICAgICAgdGhpcy5zZXQoa2V5LCBtYXBba2V5XSk7XG4gICAgfVxuICB9XG59O1xuZ29vZy5zdHJ1Y3RzLk1hcC5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uKGYsIG9wdF9vYmopIHtcbiAgZm9yICh2YXIga2V5cyA9IHRoaXMuZ2V0S2V5cygpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXSwgdmFsdWUgPSB0aGlzLmdldChrZXkpO1xuICAgIGYuY2FsbChvcHRfb2JqLCB2YWx1ZSwga2V5LCB0aGlzKTtcbiAgfVxufTtcbmdvb2cuc3RydWN0cy5NYXAucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgZ29vZy5zdHJ1Y3RzLk1hcCh0aGlzKTtcbn07XG5nb29nLnN0cnVjdHMuTWFwLnByb3RvdHlwZS50cmFuc3Bvc2UgPSBmdW5jdGlvbigpIHtcbiAgZm9yICh2YXIgdHJhbnNwb3NlZCA9IG5ldyBnb29nLnN0cnVjdHMuTWFwKCksIGkgPSAwOyBpIDwgdGhpcy5rZXlzXy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSB0aGlzLmtleXNfW2ldO1xuICAgIHRyYW5zcG9zZWQuc2V0KHRoaXMubWFwX1trZXldLCBrZXkpO1xuICB9XG4gIHJldHVybiB0cmFuc3Bvc2VkO1xufTtcbmdvb2cuc3RydWN0cy5NYXAucHJvdG90eXBlLnRvT2JqZWN0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuY2xlYW51cEtleXNBcnJheV8oKTtcbiAgZm9yICh2YXIgb2JqID0ge30sIGkgPSAwOyBpIDwgdGhpcy5rZXlzXy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSB0aGlzLmtleXNfW2ldO1xuICAgIG9ialtrZXldID0gdGhpcy5tYXBfW2tleV07XG4gIH1cbiAgcmV0dXJuIG9iajtcbn07XG5nb29nLnN0cnVjdHMuTWFwLnByb3RvdHlwZS5nZXRLZXlJdGVyYXRvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fX2l0ZXJhdG9yX18oITApO1xufTtcbmdvb2cuc3RydWN0cy5NYXAucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGl0ZXIkZXM2X1NoaW1JdGVyYWJsZS5vZih0aGlzLmdldEtleUl0ZXJhdG9yKCkpLnRvRXM2KCk7XG59O1xuZ29vZy5zdHJ1Y3RzLk1hcC5wcm90b3R5cGUuZ2V0VmFsdWVJdGVyYXRvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fX2l0ZXJhdG9yX18oITEpO1xufTtcbmdvb2cuc3RydWN0cy5NYXAucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaXRlciRlczZfU2hpbUl0ZXJhYmxlLm9mKHRoaXMuZ2V0VmFsdWVJdGVyYXRvcigpKS50b0VzNigpO1xufTtcbmdvb2cuc3RydWN0cy5NYXAucHJvdG90eXBlLmVudHJpZXMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICByZXR1cm4gZ29vZy5jb2xsZWN0aW9ucy5pdGVycy5tYXAodGhpcy5rZXlzKCksIGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBba2V5LCBzZWxmLmdldChrZXkpXTtcbiAgfSk7XG59O1xuZ29vZy5zdHJ1Y3RzLk1hcC5wcm90b3R5cGUuX19pdGVyYXRvcl9fID0gZnVuY3Rpb24ob3B0X2tleXMpIHtcbiAgdGhpcy5jbGVhbnVwS2V5c0FycmF5XygpO1xuICB2YXIgaSA9IDAsIHZlcnNpb24gPSB0aGlzLnZlcnNpb25fLCBzZWxmT2JqID0gdGhpcywgbmV3SXRlciA9IG5ldyBnb29nLml0ZXIuSXRlcmF0b3IoKTtcbiAgbmV3SXRlci5uZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHZlcnNpb24gIT0gc2VsZk9iai52ZXJzaW9uXykge1xuICAgICAgdGhyb3cgRXJyb3IoXCJUaGUgbWFwIGhhcyBjaGFuZ2VkIHNpbmNlIHRoZSBpdGVyYXRvciB3YXMgY3JlYXRlZFwiKTtcbiAgICB9XG4gICAgaWYgKGkgPj0gc2VsZk9iai5rZXlzXy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBnb29nLml0ZXIuRVM2X0lURVJBVE9SX0RPTkU7XG4gICAgfVxuICAgIHZhciBrZXkgPSBzZWxmT2JqLmtleXNfW2krK107XG4gICAgcmV0dXJuIGdvb2cuaXRlci5jcmVhdGVFczZJdGVyYXRvcllpZWxkKG9wdF9rZXlzID8ga2V5IDogc2VsZk9iai5tYXBfW2tleV0pO1xuICB9O1xuICB2YXIgaXRlck5leHQgPSBuZXdJdGVyLm5leHQ7XG4gIG5ld0l0ZXIubmV4dFZhbHVlT3JUaHJvdyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBnb29nLml0ZXIudG9FczRJdGVyYXRvck5leHQoaXRlck5leHQuY2FsbChuZXdJdGVyKSk7XG4gIH07XG4gIHJldHVybiBuZXdJdGVyO1xufTtcbmdvb2cuc3RydWN0cy5NYXAucHJvdG90eXBlLnNldFNpemVJbnRlcm5hbF8gPSBmdW5jdGlvbihuZXdTaXplKSB7XG4gIHRoaXMuc2l6ZSA9IG5ld1NpemU7XG59O1xuZ29vZy5zdHJ1Y3RzLk1hcC5oYXNLZXlfID0gZnVuY3Rpb24ob2JqLCBrZXkpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSk7XG59O1xuZ29vZy5zdHJ1Y3RzLmdldENvdW50ID0gZnVuY3Rpb24oY29sKSB7XG4gIHJldHVybiBjb2wuZ2V0Q291bnQgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBjb2wuZ2V0Q291bnQgPyBjb2wuZ2V0Q291bnQoKSA6IGdvb2cuaXNBcnJheUxpa2UoY29sKSB8fCBcInN0cmluZ1wiID09PSB0eXBlb2YgY29sID8gY29sLmxlbmd0aCA6IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9nZXRDb3VudChjb2wpO1xufTtcbmdvb2cuc3RydWN0cy5nZXRWYWx1ZXMgPSBmdW5jdGlvbihjb2wpIHtcbiAgaWYgKGNvbC5nZXRWYWx1ZXMgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBjb2wuZ2V0VmFsdWVzKSB7XG4gICAgcmV0dXJuIGNvbC5nZXRWYWx1ZXMoKTtcbiAgfVxuICBpZiAoXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIE1hcCAmJiBjb2wgaW5zdGFuY2VvZiBNYXAgfHwgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIFNldCAmJiBjb2wgaW5zdGFuY2VvZiBTZXQpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShjb2wudmFsdWVzKCkpO1xuICB9XG4gIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgY29sKSB7XG4gICAgcmV0dXJuIGNvbC5zcGxpdChcIlwiKTtcbiAgfVxuICBpZiAoZ29vZy5pc0FycmF5TGlrZShjb2wpKSB7XG4gICAgZm9yICh2YXIgcnYgPSBbXSwgbCA9IGNvbC5sZW5ndGgsIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICBydi5wdXNoKGNvbFtpXSk7XG4gICAgfVxuICAgIHJldHVybiBydjtcbiAgfVxuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2dldFZhbHVlcyhjb2wpO1xufTtcbmdvb2cuc3RydWN0cy5nZXRLZXlzID0gZnVuY3Rpb24oY29sKSB7XG4gIGlmIChjb2wuZ2V0S2V5cyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGNvbC5nZXRLZXlzKSB7XG4gICAgcmV0dXJuIGNvbC5nZXRLZXlzKCk7XG4gIH1cbiAgaWYgKCFjb2wuZ2V0VmFsdWVzIHx8IFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgY29sLmdldFZhbHVlcykge1xuICAgIGlmIChcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgTWFwICYmIGNvbCBpbnN0YW5jZW9mIE1hcCkge1xuICAgICAgcmV0dXJuIEFycmF5LmZyb20oY29sLmtleXMoKSk7XG4gICAgfVxuICAgIGlmICghKFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBTZXQgJiYgY29sIGluc3RhbmNlb2YgU2V0KSkge1xuICAgICAgaWYgKGdvb2cuaXNBcnJheUxpa2UoY29sKSB8fCBcInN0cmluZ1wiID09PSB0eXBlb2YgY29sKSB7XG4gICAgICAgIGZvciAodmFyIHJ2ID0gW10sIGwgPSBjb2wubGVuZ3RoLCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgIHJ2LnB1c2goaSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJ2O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9nZXRLZXlzKGNvbCk7XG4gICAgfVxuICB9XG59O1xuZ29vZy5zdHJ1Y3RzLmNvbnRhaW5zID0gZnVuY3Rpb24oY29sLCB2YWwpIHtcbiAgcmV0dXJuIGNvbC5jb250YWlucyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGNvbC5jb250YWlucyA/IGNvbC5jb250YWlucyh2YWwpIDogY29sLmNvbnRhaW5zVmFsdWUgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBjb2wuY29udGFpbnNWYWx1ZSA/IGNvbC5jb250YWluc1ZhbHVlKHZhbCkgOiBnb29nLmlzQXJyYXlMaWtlKGNvbCkgfHwgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGNvbCA/IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NvbnRhaW5zKGNvbCwgdmFsKSA6IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9jb250YWluc1ZhbHVlKGNvbCwgdmFsKTtcbn07XG5nb29nLnN0cnVjdHMuaXNFbXB0eSA9IGZ1bmN0aW9uKGNvbCkge1xuICByZXR1cm4gY29sLmlzRW1wdHkgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBjb2wuaXNFbXB0eSA/IGNvbC5pc0VtcHR5KCkgOiBnb29nLmlzQXJyYXlMaWtlKGNvbCkgfHwgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGNvbCA/IDAgPT09IGNvbC5sZW5ndGggOiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfaXNFbXB0eShjb2wpO1xufTtcbmdvb2cuc3RydWN0cy5jbGVhciA9IGZ1bmN0aW9uKGNvbCkge1xuICBjb2wuY2xlYXIgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBjb2wuY2xlYXIgPyBjb2wuY2xlYXIoKSA6IGdvb2cuaXNBcnJheUxpa2UoY29sKSA/IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NsZWFyKGNvbCkgOiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY2xlYXIoY29sKTtcbn07XG5nb29nLnN0cnVjdHMuZm9yRWFjaCA9IGZ1bmN0aW9uKGNvbCwgZiwgb3B0X29iaikge1xuICBpZiAoY29sLmZvckVhY2ggJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBjb2wuZm9yRWFjaCkge1xuICAgIGNvbC5mb3JFYWNoKGYsIG9wdF9vYmopO1xuICB9IGVsc2Uge1xuICAgIGlmIChnb29nLmlzQXJyYXlMaWtlKGNvbCkgfHwgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGNvbCkge1xuICAgICAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChjb2wsIGYsIG9wdF9vYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKHZhciBrZXlzID0gZ29vZy5zdHJ1Y3RzLmdldEtleXMoY29sKSwgdmFsdWVzID0gZ29vZy5zdHJ1Y3RzLmdldFZhbHVlcyhjb2wpLCBsID0gdmFsdWVzLmxlbmd0aCwgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgZi5jYWxsKG9wdF9vYmosIHZhbHVlc1tpXSwga2V5cyAmJiBrZXlzW2ldLCBjb2wpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbmdvb2cuc3RydWN0cy5maWx0ZXIgPSBmdW5jdGlvbihjb2wsIGYsIG9wdF9vYmopIHtcbiAgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgY29sLmZpbHRlcikge1xuICAgIHJldHVybiBjb2wuZmlsdGVyKGYsIG9wdF9vYmopO1xuICB9XG4gIGlmIChnb29nLmlzQXJyYXlMaWtlKGNvbCkgfHwgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGNvbCkge1xuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoY29sLCBmLCBvcHRfb2JqKTtcbiAgfVxuICB2YXIga2V5cyA9IGdvb2cuc3RydWN0cy5nZXRLZXlzKGNvbCksIHZhbHVlcyA9IGdvb2cuc3RydWN0cy5nZXRWYWx1ZXMoY29sKSwgbCA9IHZhbHVlcy5sZW5ndGg7XG4gIGlmIChrZXlzKSB7XG4gICAgdmFyIHJ2ID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgIGYuY2FsbChvcHRfb2JqLCB2YWx1ZXNbaV0sIGtleXNbaV0sIGNvbCkgJiYgKHJ2W2tleXNbaV1dID0gdmFsdWVzW2ldKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yIChydiA9IFtdLCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgZi5jYWxsKG9wdF9vYmosIHZhbHVlc1tpXSwgdm9pZCAwLCBjb2wpICYmIHJ2LnB1c2godmFsdWVzW2ldKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJ2O1xufTtcbmdvb2cuc3RydWN0cy5tYXAgPSBmdW5jdGlvbihjb2wsIGYsIG9wdF9vYmopIHtcbiAgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgY29sLm1hcCkge1xuICAgIHJldHVybiBjb2wubWFwKGYsIG9wdF9vYmopO1xuICB9XG4gIGlmIChnb29nLmlzQXJyYXlMaWtlKGNvbCkgfHwgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGNvbCkge1xuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoY29sLCBmLCBvcHRfb2JqKTtcbiAgfVxuICB2YXIga2V5cyA9IGdvb2cuc3RydWN0cy5nZXRLZXlzKGNvbCksIHZhbHVlcyA9IGdvb2cuc3RydWN0cy5nZXRWYWx1ZXMoY29sKSwgbCA9IHZhbHVlcy5sZW5ndGg7XG4gIGlmIChrZXlzKSB7XG4gICAgdmFyIHJ2ID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgIHJ2W2tleXNbaV1dID0gZi5jYWxsKG9wdF9vYmosIHZhbHVlc1tpXSwga2V5c1tpXSwgY29sKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yIChydiA9IFtdLCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgcnZbaV0gPSBmLmNhbGwob3B0X29iaiwgdmFsdWVzW2ldLCB2b2lkIDAsIGNvbCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBydjtcbn07XG5nb29nLnN0cnVjdHMuc29tZSA9IGZ1bmN0aW9uKGNvbCwgZiwgb3B0X29iaikge1xuICBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBjb2wuc29tZSkge1xuICAgIHJldHVybiBjb2wuc29tZShmLCBvcHRfb2JqKTtcbiAgfVxuICBpZiAoZ29vZy5pc0FycmF5TGlrZShjb2wpIHx8IFwic3RyaW5nXCIgPT09IHR5cGVvZiBjb2wpIHtcbiAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLnNvbWUuY2FsbChjb2wsIGYsIG9wdF9vYmopO1xuICB9XG4gIGZvciAodmFyIGtleXMgPSBnb29nLnN0cnVjdHMuZ2V0S2V5cyhjb2wpLCB2YWx1ZXMgPSBnb29nLnN0cnVjdHMuZ2V0VmFsdWVzKGNvbCksIGwgPSB2YWx1ZXMubGVuZ3RoLCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgIGlmIChmLmNhbGwob3B0X29iaiwgdmFsdWVzW2ldLCBrZXlzICYmIGtleXNbaV0sIGNvbCkpIHtcbiAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICExO1xufTtcbmdvb2cuc3RydWN0cy5ldmVyeSA9IGZ1bmN0aW9uKGNvbCwgZiwgb3B0X29iaikge1xuICBpZiAoXCJmdW5jdGlvblwiID09IHR5cGVvZiBjb2wuZXZlcnkpIHtcbiAgICByZXR1cm4gY29sLmV2ZXJ5KGYsIG9wdF9vYmopO1xuICB9XG4gIGlmIChnb29nLmlzQXJyYXlMaWtlKGNvbCkgfHwgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGNvbCkge1xuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuZXZlcnkuY2FsbChjb2wsIGYsIG9wdF9vYmopO1xuICB9XG4gIGZvciAodmFyIGtleXMgPSBnb29nLnN0cnVjdHMuZ2V0S2V5cyhjb2wpLCB2YWx1ZXMgPSBnb29nLnN0cnVjdHMuZ2V0VmFsdWVzKGNvbCksIGwgPSB2YWx1ZXMubGVuZ3RoLCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgIGlmICghZi5jYWxsKG9wdF9vYmosIHZhbHVlc1tpXSwga2V5cyAmJiBrZXlzW2ldLCBjb2wpKSB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICB9XG4gIHJldHVybiAhMDtcbn07XG5nb29nLnN0cnVjdHMuU2V0ID0gZnVuY3Rpb24ob3B0X3ZhbHVlcykge1xuICB0aGlzLm1hcF8gPSBuZXcgZ29vZy5zdHJ1Y3RzLk1hcCgpO1xuICB0aGlzLnNpemUgPSAwO1xuICBvcHRfdmFsdWVzICYmIHRoaXMuYWRkQWxsKG9wdF92YWx1ZXMpO1xufTtcbmdvb2cuc3RydWN0cy5TZXQuZ2V0VWlkXyA9IGdvb2cuZ2V0VWlkO1xuZ29vZy5zdHJ1Y3RzLlNldC5nZXRLZXlfID0gZnVuY3Rpb24odmFsKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbDtcbiAgcmV0dXJuIFwib2JqZWN0XCIgPT0gdHlwZSAmJiB2YWwgfHwgXCJmdW5jdGlvblwiID09IHR5cGUgPyBcIm9cIiArIGdvb2cuZ2V0VWlkKHZhbCkgOiB0eXBlLnN1YnN0cigwLCAxKSArIHZhbDtcbn07XG5nb29nLnN0cnVjdHMuU2V0LnByb3RvdHlwZS5nZXRDb3VudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5tYXBfLnNpemU7XG59O1xuZ29vZy5zdHJ1Y3RzLlNldC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICB0aGlzLm1hcF8uc2V0KGdvb2cuc3RydWN0cy5TZXQuZ2V0S2V5XyhlbGVtZW50KSwgZWxlbWVudCk7XG4gIHRoaXMuc2V0U2l6ZUludGVybmFsXyh0aGlzLm1hcF8uc2l6ZSk7XG59O1xuZ29vZy5zdHJ1Y3RzLlNldC5wcm90b3R5cGUuYWRkQWxsID0gZnVuY3Rpb24oY29sKSB7XG4gIGZvciAodmFyIHZhbHVlcyA9IGdvb2cuc3RydWN0cy5nZXRWYWx1ZXMoY29sKSwgbCA9IHZhbHVlcy5sZW5ndGgsIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgdGhpcy5hZGQodmFsdWVzW2ldKTtcbiAgfVxuICB0aGlzLnNldFNpemVJbnRlcm5hbF8odGhpcy5tYXBfLnNpemUpO1xufTtcbmdvb2cuc3RydWN0cy5TZXQucHJvdG90eXBlLnJlbW92ZUFsbCA9IGZ1bmN0aW9uKGNvbCkge1xuICBmb3IgKHZhciB2YWx1ZXMgPSBnb29nLnN0cnVjdHMuZ2V0VmFsdWVzKGNvbCksIGwgPSB2YWx1ZXMubGVuZ3RoLCBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgIHRoaXMucmVtb3ZlKHZhbHVlc1tpXSk7XG4gIH1cbiAgdGhpcy5zZXRTaXplSW50ZXJuYWxfKHRoaXMubWFwXy5zaXplKTtcbn07XG5nb29nLnN0cnVjdHMuU2V0LnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHZhciBydiA9IHRoaXMubWFwXy5yZW1vdmUoZ29vZy5zdHJ1Y3RzLlNldC5nZXRLZXlfKGVsZW1lbnQpKTtcbiAgdGhpcy5zZXRTaXplSW50ZXJuYWxfKHRoaXMubWFwXy5zaXplKTtcbiAgcmV0dXJuIHJ2O1xufTtcbmdvb2cuc3RydWN0cy5TZXQucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIHRoaXMuZGVsZXRlKGVsZW1lbnQpO1xufTtcbmdvb2cuc3RydWN0cy5TZXQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMubWFwXy5jbGVhcigpO1xuICB0aGlzLnNldFNpemVJbnRlcm5hbF8oMCk7XG59O1xuZ29vZy5zdHJ1Y3RzLlNldC5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gMCA9PT0gdGhpcy5tYXBfLnNpemU7XG59O1xuZ29vZy5zdHJ1Y3RzLlNldC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gdGhpcy5tYXBfLmNvbnRhaW5zS2V5KGdvb2cuc3RydWN0cy5TZXQuZ2V0S2V5XyhlbGVtZW50KSk7XG59O1xuZ29vZy5zdHJ1Y3RzLlNldC5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiB0aGlzLm1hcF8uY29udGFpbnNLZXkoZ29vZy5zdHJ1Y3RzLlNldC5nZXRLZXlfKGVsZW1lbnQpKTtcbn07XG5nb29nLnN0cnVjdHMuU2V0LnByb3RvdHlwZS5jb250YWluc0FsbCA9IGZ1bmN0aW9uKGNvbCkge1xuICByZXR1cm4gZ29vZy5zdHJ1Y3RzLmV2ZXJ5KGNvbCwgdGhpcy5jb250YWlucywgdGhpcyk7XG59O1xuZ29vZy5zdHJ1Y3RzLlNldC5wcm90b3R5cGUuaW50ZXJzZWN0aW9uID0gZnVuY3Rpb24oY29sKSB7XG4gIGZvciAodmFyIHJlc3VsdCA9IG5ldyBnb29nLnN0cnVjdHMuU2V0KCksIHZhbHVlcyA9IGdvb2cuc3RydWN0cy5nZXRWYWx1ZXMoY29sKSwgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdmFsdWUgPSB2YWx1ZXNbaV07XG4gICAgdGhpcy5jb250YWlucyh2YWx1ZSkgJiYgcmVzdWx0LmFkZCh2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5nb29nLnN0cnVjdHMuU2V0LnByb3RvdHlwZS5kaWZmZXJlbmNlID0gZnVuY3Rpb24oY29sKSB7XG4gIHZhciByZXN1bHQgPSB0aGlzLmNsb25lKCk7XG4gIHJlc3VsdC5yZW1vdmVBbGwoY29sKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5nb29nLnN0cnVjdHMuU2V0LnByb3RvdHlwZS5nZXRWYWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMubWFwXy5nZXRWYWx1ZXMoKTtcbn07XG5nb29nLnN0cnVjdHMuU2V0LnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMubWFwXy52YWx1ZXMoKTtcbn07XG5nb29nLnN0cnVjdHMuU2V0LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IGdvb2cuc3RydWN0cy5TZXQodGhpcyk7XG59O1xuZ29vZy5zdHJ1Y3RzLlNldC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24oY29sKSB7XG4gIHJldHVybiB0aGlzLmdldENvdW50KCkgPT0gZ29vZy5zdHJ1Y3RzLmdldENvdW50KGNvbCkgJiYgdGhpcy5pc1N1YnNldE9mKGNvbCk7XG59O1xuZ29vZy5zdHJ1Y3RzLlNldC5wcm90b3R5cGUuaXNTdWJzZXRPZiA9IGZ1bmN0aW9uKGNvbCkge1xuICB2YXIgY29sQ291bnQgPSBnb29nLnN0cnVjdHMuZ2V0Q291bnQoY29sKTtcbiAgaWYgKHRoaXMuZ2V0Q291bnQoKSA+IGNvbENvdW50KSB7XG4gICAgcmV0dXJuICExO1xuICB9XG4gICEoY29sIGluc3RhbmNlb2YgZ29vZy5zdHJ1Y3RzLlNldCkgJiYgNSA8IGNvbENvdW50ICYmIChjb2wgPSBuZXcgZ29vZy5zdHJ1Y3RzLlNldChjb2wpKTtcbiAgcmV0dXJuIGdvb2cuc3RydWN0cy5ldmVyeSh0aGlzLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBnb29nLnN0cnVjdHMuY29udGFpbnMoY29sLCB2YWx1ZSk7XG4gIH0pO1xufTtcbmdvb2cuc3RydWN0cy5TZXQucHJvdG90eXBlLl9faXRlcmF0b3JfXyA9IGZ1bmN0aW9uKG9wdF9rZXlzKSB7XG4gIHJldHVybiB0aGlzLm1hcF8uX19pdGVyYXRvcl9fKCExKTtcbn07XG5nb29nLnN0cnVjdHMuU2V0LnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnZhbHVlcygpO1xufTtcbmdvb2cuc3RydWN0cy5TZXQucHJvdG90eXBlLnNldFNpemVJbnRlcm5hbF8gPSBmdW5jdGlvbihuZXdTaXplKSB7XG4gIHRoaXMuc2l6ZSA9IG5ld1NpemU7XG59O1xudmFyIGVlID0ge0Fic3RyYWN0T3ZlcmxheTpmdW5jdGlvbih1cmwsIG1hcElkLCB0b2tlbiwgb3B0X2luaXQsIG9wdF9wcm9maWxlcikge1xuICBnb29nLmV2ZW50cy5FdmVudFRhcmdldC5jYWxsKHRoaXMpO1xuICB0aGlzLm1hcElkID0gbWFwSWQ7XG4gIHRoaXMudG9rZW4gPSB0b2tlbjtcbiAgdGhpcy50aWxlc0xvYWRpbmcgPSBbXTtcbiAgdGhpcy50aWxlc0ZhaWxlZCA9IG5ldyBnb29nLnN0cnVjdHMuU2V0KCk7XG4gIHRoaXMudGlsZUNvdW50ZXIgPSAwO1xuICB0aGlzLnVybCA9IHVybDtcbn19O1xuZ29vZy5pbmhlcml0cyhlZS5BYnN0cmFjdE92ZXJsYXksIGdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0KTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuQWJzdHJhY3RPdmVybGF5XCIsIGVlLkFic3RyYWN0T3ZlcmxheSk7XG5lZS5BYnN0cmFjdE92ZXJsYXkuRXZlbnRUeXBlID0ge1RJTEVfTE9BREVEOlwidGlsZWV2ZW50XCJ9O1xuZWUuQWJzdHJhY3RPdmVybGF5LnByb3RvdHlwZS5nZXRUaWxlSWQgPSBmdW5jdGlvbihjb29yZCwgem9vbSkge1xuICB2YXIgbWF4Q29vcmQgPSAxIDw8IHpvb20sIHggPSBjb29yZC54ICUgbWF4Q29vcmQ7XG4gIDAgPiB4ICYmICh4ICs9IG1heENvb3JkKTtcbiAgcmV0dXJuIFt0aGlzLm1hcElkLCB6b29tLCB4LCBjb29yZC55XS5qb2luKFwiL1wiKTtcbn07XG5lZS5BYnN0cmFjdE92ZXJsYXkucHJvdG90eXBlLmdldExvYWRpbmdUaWxlc0NvdW50ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnRpbGVzTG9hZGluZy5sZW5ndGg7XG59O1xuZWUuQWJzdHJhY3RPdmVybGF5LnByb3RvdHlwZS5nZXRGYWlsZWRUaWxlc0NvdW50ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnRpbGVzRmFpbGVkLmdldENvdW50KCk7XG59O1xuZWUuVGlsZUV2ZW50ID0gZnVuY3Rpb24oY291bnQpIHtcbiAgZ29vZy5ldmVudHMuRXZlbnQuY2FsbCh0aGlzLCBlZS5BYnN0cmFjdE92ZXJsYXkuRXZlbnRUeXBlLlRJTEVfTE9BREVEKTtcbiAgdGhpcy5jb3VudCA9IGNvdW50O1xufTtcbmdvb2cuaW5oZXJpdHMoZWUuVGlsZUV2ZW50LCBnb29nLmV2ZW50cy5FdmVudCk7XG52YXIgbW9kdWxlJGV4cG9ydHMkdHNsaWIgPSB7fSwgbW9kdWxlJGNvbnRlbnRzJHRzbGliX2V4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwge19fcHJvdG9fXzpbXX0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbihkLCBiKSB7XG4gIGQuX19wcm90b19fID0gYjtcbn0gfHwgZnVuY3Rpb24oZCwgYikge1xuICBmb3IgKHZhciBwIGluIGIpIHtcbiAgICBiLmhhc093blByb3BlcnR5KHApICYmIChkW3BdID0gYltwXSk7XG4gIH1cbn07XG5tb2R1bGUkZXhwb3J0cyR0c2xpYi5fX2V4dGVuZHMgPSBmdW5jdGlvbihkLCBiKSB7XG4gIGZ1bmN0aW9uIF9fKCkge1xuICAgIHRoaXMuY29uc3RydWN0b3IgPSBkO1xuICB9XG4gIG1vZHVsZSRjb250ZW50cyR0c2xpYl9leHRlbmRTdGF0aWNzKGQsIGIpO1xuICBkLnByb3RvdHlwZSA9IG51bGwgPT09IGIgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xubW9kdWxlJGV4cG9ydHMkdHNsaWIuX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiAodFtwXSA9IHNbcF0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdDtcbn07XG5tb2R1bGUkZXhwb3J0cyR0c2xpYi5fX3Jlc3QgPSBmdW5jdGlvbihzLCBlKSB7XG4gIHZhciB0ID0ge30sIHA7XG4gIGZvciAocCBpbiBzKSB7XG4gICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIDAgPiBlLmluZGV4T2YocCkgJiYgKHRbcF0gPSBzW3BdKTtcbiAgfVxuICBpZiAobnVsbCAhPSBzICYmIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICB2YXIgaSA9IDA7XG4gICAgZm9yIChwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgIDAgPiBlLmluZGV4T2YocFtpXSkgJiYgKHRbcFtpXV0gPSBzW3BbaV1dKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHQ7XG59O1xubW9kdWxlJGV4cG9ydHMkdHNsaWIuX19kZWNvcmF0ZSA9IGZ1bmN0aW9uKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IDMgPiBjID8gdGFyZ2V0IDogbnVsbCA9PT0gZGVzYyA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgUmVmbGVjdCAmJiBSZWZsZWN0ICYmIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUpIHtcbiAgICByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgMCA8PSBpOyBpLS0pIHtcbiAgICAgIGlmIChkID0gZGVjb3JhdG9yc1tpXSkge1xuICAgICAgICByID0gKDMgPiBjID8gZChyKSA6IDMgPCBjID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIDMgPCBjICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG5tb2R1bGUkZXhwb3J0cyR0c2xpYi5fX21ldGFkYXRhID0gZnVuY3Rpb24obWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcbiAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiBSZWZsZWN0ICYmIFJlZmxlY3QgJiYgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSkge1xuICAgIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcbiAgfVxufTtcbm1vZHVsZSRleHBvcnRzJHRzbGliLl9fcGFyYW0gPSBmdW5jdGlvbihwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHRhcmdldCwga2V5KSB7XG4gICAgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTtcbiAgfTtcbn07XG5tb2R1bGUkZXhwb3J0cyR0c2xpYi5fX2F3YWl0ZXIgPSBmdW5jdGlvbih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbihyZXNvbHZlJGpzY29tcCQwLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7XG4gICAgICByZXN1bHQuZG9uZSA/IHJlc29sdmUkanNjb21wJDAocmVzdWx0LnZhbHVlKSA6IChuZXcgUChmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICAgIHJlc29sdmUocmVzdWx0LnZhbHVlKTtcbiAgICAgIH0pKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpO1xuICAgIH1cbiAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cykpLm5leHQoKSk7XG4gIH0pO1xufTtcbm1vZHVsZSRleHBvcnRzJHRzbGliLl9fZ2VuZXJhdG9yID0gZnVuY3Rpb24odGhpc0FyZywgYm9keSkge1xuICBmdW5jdGlvbiB2ZXJiKG4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odikge1xuICAgICAgcmV0dXJuIHN0ZXAoW24sIHZdKTtcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICBpZiAoZikge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgfVxuICAgIGZvciAoOyBfOykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0geVtvcFswXSAmIDIgPyBcInJldHVyblwiIDogb3BbMF0gPyBcInRocm93XCIgOiBcIm5leHRcIl0pICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHtcbiAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeSA9IDAsIHQpIHtcbiAgICAgICAgICBvcCA9IFswLCB0LnZhbHVlXTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2gob3BbMF0pIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgdCA9IG9wO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgcmV0dXJuIF8ubGFiZWwrKywge3ZhbHVlOm9wWzFdLCBkb25lOiExfTtcbiAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICBfLmxhYmVsKys7XG4gICAgICAgICAgICB5ID0gb3BbMV07XG4gICAgICAgICAgICBvcCA9IFswXTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgIG9wID0gXy5vcHMucG9wKCk7XG4gICAgICAgICAgICBfLnRyeXMucG9wKCk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IDAgPCB0Lmxlbmd0aCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmICg2ID09PSBvcFswXSB8fCAyID09PSBvcFswXSkpIHtcbiAgICAgICAgICAgICAgXyA9IDA7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKDMgPT09IG9wWzBdICYmICghdCB8fCBvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkge1xuICAgICAgICAgICAgICBfLmxhYmVsID0gb3BbMV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoNiA9PT0gb3BbMF0gJiYgXy5sYWJlbCA8IHRbMV0pIHtcbiAgICAgICAgICAgICAgICBfLmxhYmVsID0gdFsxXSwgdCA9IG9wO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7XG4gICAgICAgICAgICAgICAgICBfLmxhYmVsID0gdFsyXSwgXy5vcHMucHVzaChvcCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHRbMl0gJiYgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgb3AgPSBbNiwgZV0sIHkgPSAwO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgZiA9IHQgPSAwO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAob3BbMF0gJiA1KSB7XG4gICAgICB0aHJvdyBvcFsxXTtcbiAgICB9XG4gICAgcmV0dXJuIHt2YWx1ZTpvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiEwfTtcbiAgfVxuICB2YXIgXyA9IHtsYWJlbDowLCBzZW50OmZ1bmN0aW9uKCkge1xuICAgIGlmICh0WzBdICYgMSkge1xuICAgICAgdGhyb3cgdFsxXTtcbiAgICB9XG4gICAgcmV0dXJuIHRbMV07XG4gIH0sIHRyeXM6W10sIG9wczpbXX0sIGYsIHksIHQsIGc7XG4gIHJldHVybiBnID0ge25leHQ6dmVyYigwKSwgXCJ0aHJvd1wiOnZlcmIoMSksIFwicmV0dXJuXCI6dmVyYigyKX0sIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFN5bWJvbCAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGc7XG4gIH0pLCBnO1xufTtcbm1vZHVsZSRleHBvcnRzJHRzbGliLl9fZXhwb3J0U3RhciA9IGZ1bmN0aW9uKG0sIGUpIHtcbiAgZm9yICh2YXIgcCBpbiBtKSB7XG4gICAgZS5oYXNPd25Qcm9wZXJ0eShwKSB8fCAoZVtwXSA9IG1bcF0pO1xuICB9XG59O1xubW9kdWxlJGV4cG9ydHMkdHNsaWIuX192YWx1ZXMgPSBmdW5jdGlvbihvKSB7XG4gIHZhciBtID0gXCJmdW5jdGlvblwiID09PSB0eXBlb2YgU3ltYm9sICYmIG9bU3ltYm9sLml0ZXJhdG9yXSwgaSA9IDA7XG4gIHJldHVybiBtID8gbS5jYWxsKG8pIDoge25leHQ6ZnVuY3Rpb24oKSB7XG4gICAgbyAmJiBpID49IG8ubGVuZ3RoICYmIChvID0gdm9pZCAwKTtcbiAgICByZXR1cm4ge3ZhbHVlOm8gJiYgb1tpKytdLCBkb25lOiFvfTtcbiAgfX07XG59O1xubW9kdWxlJGV4cG9ydHMkdHNsaWIuX19yZWFkID0gZnVuY3Rpb24obywgbikge1xuICB2YXIgbSA9IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFN5bWJvbCAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghbSkge1xuICAgIHJldHVybiBvO1xuICB9XG4gIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdO1xuICB0cnkge1xuICAgIGZvciAoOyAodm9pZCAwID09PSBuIHx8IDAgPCBuLS0pICYmICEociA9IGkubmV4dCgpKS5kb25lOykge1xuICAgICAgYXIucHVzaChyLnZhbHVlKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdmFyIGUgPSB7ZXJyb3I6ZXJyb3J9O1xuICB9IGZpbmFsbHkge1xuICAgIHRyeSB7XG4gICAgICByICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSAmJiBtLmNhbGwoaSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChlKSB7XG4gICAgICAgIHRocm93IGUuZXJyb3I7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBhcjtcbn07XG5tb2R1bGUkZXhwb3J0cyR0c2xpYi5fX3NwcmVhZCA9IGZ1bmN0aW9uKCkge1xuICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgIGFyID0gYXIuY29uY2F0KG1vZHVsZSRleHBvcnRzJHRzbGliLl9fcmVhZChhcmd1bWVudHNbaV0pKTtcbiAgfVxuICByZXR1cm4gYXI7XG59O1xubW9kdWxlJGV4cG9ydHMkdHNsaWIuX19zcHJlYWRBcnJheXMgPSBmdW5jdGlvbigpIHtcbiAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XG4gICAgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xuICB9XG4gIHZhciByID0gQXJyYXkocyksIGsgPSAwO1xuICBmb3IgKGkgPSAwOyBpIDwgaWw7IGkrKykge1xuICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKSB7XG4gICAgICByW2tdID0gYVtqXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHI7XG59O1xubW9kdWxlJGV4cG9ydHMkdHNsaWIuX19zcHJlYWRBcnJheSA9IGZ1bmN0aW9uKHRvLCBmcm9tKSB7XG4gIGlmICghKEFycmF5LmlzQXJyYXkoZnJvbSkgfHwgZnJvbSBpbnN0YW5jZW9mIE5vZGVMaXN0KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCBhbiBBcnJheSBvciBOb2RlTGlzdDogXCIgKyBTdHJpbmcoZnJvbSkpO1xuICB9XG4gIGZvciAodmFyIGkgPSAwLCBpbCA9IGZyb20ubGVuZ3RoLCBqID0gdG8ubGVuZ3RoOyBpIDwgaWw7IGkrKywgaisrKSB7XG4gICAgdG9bal0gPSBmcm9tW2ldO1xuICB9XG4gIHJldHVybiB0bztcbn07XG5tb2R1bGUkZXhwb3J0cyR0c2xpYi5fX2F3YWl0ID0gZnVuY3Rpb24odikge1xuICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIG1vZHVsZSRleHBvcnRzJHRzbGliLl9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgbW9kdWxlJGV4cG9ydHMkdHNsaWIuX19hd2FpdCh2KTtcbn07XG5tb2R1bGUkZXhwb3J0cyR0c2xpYi5fX2FzeW5jR2VuZXJhdG9yID0gZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gdmVyYihuKSB7XG4gICAgZ1tuXSAmJiAoaVtuXSA9IGZ1bmN0aW9uKHYpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgIDEgPCBxLnB1c2goW24sIHYsIGEsIGJdKSB8fCByZXN1bWUobiwgdik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiByZXN1bWUobiwgdikge1xuICAgIHRyeSB7XG4gICAgICBzdGVwKGdbbl0odikpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHNldHRsZShxWzBdWzNdLCBlKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gc3RlcChyKSB7XG4gICAgci52YWx1ZSBpbnN0YW5jZW9mIG1vZHVsZSRleHBvcnRzJHRzbGliLl9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7XG4gIH1cbiAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkge1xuICAgIHJlc3VtZShcIm5leHRcIiwgdmFsdWUpO1xuICB9XG4gIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkge1xuICAgIHJlc3VtZShcInRocm93XCIsIHZhbHVlKTtcbiAgfVxuICBmdW5jdGlvbiBzZXR0bGUoZiwgdikge1xuICAgIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSAmJiByZXN1bWUocVswXVswXSwgcVswXVsxXSk7XG4gIH1cbiAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIH1cbiAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcbiAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSwgaTtcbn07XG5tb2R1bGUkZXhwb3J0cyR0c2xpYi5fX2FzeW5jRGVsZWdhdG9yID0gZnVuY3Rpb24obykge1xuICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHtcbiAgICBvW25dICYmIChpW25dID0gZnVuY3Rpb24odikge1xuICAgICAgcmV0dXJuIChwID0gIXApID8ge3ZhbHVlOm5ldyBtb2R1bGUkZXhwb3J0cyR0c2xpYi5fX2F3YWl0KG9bbl0odikpLCBkb25lOlwicmV0dXJuXCIgPT09IG59IDogZiA/IGYodikgOiB2O1xuICAgIH0pO1xuICB9XG4gIHZhciBpLCBwO1xuICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uKGUpIHtcbiAgICB0aHJvdyBlO1xuICB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGk7XG4gIH0sIGk7XG59O1xubW9kdWxlJGV4cG9ydHMkdHNsaWIuX19hc3luY1ZhbHVlcyA9IGZ1bmN0aW9uKG8pIHtcbiAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIH1cbiAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXTtcbiAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfX3ZhbHVlcyA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCk7XG59O1xubW9kdWxlJGV4cG9ydHMkdHNsaWIuX19tYWtlVGVtcGxhdGVPYmplY3QgPSBmdW5jdGlvbihjb29rZWQsIHJhdykge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7dmFsdWU6cmF3fSkgOiBjb29rZWQucmF3ID0gcmF3O1xuICByZXR1cm4gY29va2VkO1xufTtcbm1vZHVsZSRleHBvcnRzJHRzbGliLl9fY2xhc3NQcml2YXRlRmllbGRHZXQgPSBmdW5jdGlvbihyZWNlaXZlciwgcHJpdmF0ZU1hcCkge1xuICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xuICB9XG4gIHJldHVybiBwcml2YXRlTWFwLmdldChyZWNlaXZlcik7XG59O1xubW9kdWxlJGV4cG9ydHMkdHNsaWIuX19jbGFzc1ByaXZhdGVGaWVsZFNldCA9IGZ1bmN0aW9uKHJlY2VpdmVyLCBwcml2YXRlTWFwLCB2YWx1ZSkge1xuICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xuICB9XG4gIHByaXZhdGVNYXAuc2V0KHJlY2VpdmVyLCB2YWx1ZSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG52YXIgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdCA9IHt9LCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9tb2R1bGUgPSBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9tb2R1bGUgfHwge2lkOlwiamF2YXNjcmlwdC90eXBlc2NyaXB0L2NvbnRyaWIvYXBpY2xpZW50L2NvcmUvZG9tYWluX29iamVjdC5jbG9zdXJlLmpzXCJ9O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5PYmplY3RNYXBNZXRhZGF0YSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X09iamVjdE1hcE1ldGFkYXRhKCkge1xufTtcbnZhciBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9QcmltaXRpdmU7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LkNsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9DbGFzc01ldGFkYXRhKCkge1xufTtcbnZhciBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9OdWxsQ2xhc3MgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0Lk5VTExfVkFMVUUgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfTnVsbENsYXNzKCk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LklTZXJpYWxpemFibGUgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9JU2VyaWFsaXphYmxlKCkge1xufTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2J1aWxkQ2xhc3NNZXRhZGF0YUZyb21QYXJ0aWFsKHBhcnRpYWxDbGFzc01ldGFkYXRhKSB7XG4gIHJldHVybiBPYmplY3QuYXNzaWduKHthcnJheXM6e30sIGRlc2NyaXB0aW9uczp7fSwga2V5czpbXSwgb2JqZWN0TWFwczp7fSwgb2JqZWN0czp7fSwgZW51bXM6e30sIGVtcHR5QXJyYXlJc1Vuc2V0OiExfSwgcGFydGlhbENsYXNzTWV0YWRhdGEpO1xufVxubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5idWlsZENsYXNzTWV0YWRhdGFGcm9tUGFydGlhbCA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2J1aWxkQ2xhc3NNZXRhZGF0YUZyb21QYXJ0aWFsO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkdmFsdWVzID0ge307XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUucHJvdG90eXBlLmdldENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2J1aWxkQ2xhc3NNZXRhZGF0YUZyb21QYXJ0aWFsKHRoaXMuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEoKSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUucHJvdG90eXBlLlNlcmlhbGl6YWJsZSRnZXQgPSBmdW5jdGlvbihrZXkpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJHZhbHVlcy5oYXNPd25Qcm9wZXJ0eShrZXkpID8gdGhpcy5TZXJpYWxpemFibGUkdmFsdWVzW2tleV0gOiBudWxsO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLnByb3RvdHlwZS5TZXJpYWxpemFibGUkc2V0ID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSR2YWx1ZXNba2V5XSA9IHZhbHVlO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLnByb3RvdHlwZS5TZXJpYWxpemFibGUkaGFzID0gZnVuY3Rpb24oa2V5KSB7XG4gIHJldHVybiBudWxsICE9IHRoaXMuU2VyaWFsaXphYmxlJHZhbHVlc1trZXldO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlQ3RvciA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X1NlcmlhbGl6YWJsZUN0b3IoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5jbG9uZSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2Nsb25lKHNlcmlhbGl6YWJsZSkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVzZXJpYWxpemUoc2VyaWFsaXphYmxlLmdldENvbnN0cnVjdG9yKCksIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X3NlcmlhbGl6ZShzZXJpYWxpemFibGUpKTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LmlzRW1wdHkgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9pc0VtcHR5KHNlcmlhbGl6YWJsZSkge1xuICByZXR1cm4gIU9iamVjdC5rZXlzKG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X3NlcmlhbGl6ZShzZXJpYWxpemFibGUpKS5sZW5ndGg7XG59O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3Rfc2VyaWFsaXplKHNlcmlhbGl6YWJsZSkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVlcENvcHkoc2VyaWFsaXphYmxlLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9zZXJpYWxpemVHZXR0ZXIsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X3NlcmlhbGl6ZVNldHRlciwgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3Rfc2VyaWFsaXplSW5zdGFuY2lhdG9yKTtcbn1cbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3Quc2VyaWFsaXplID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3Rfc2VyaWFsaXplO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3Rfc2VyaWFsaXplR2V0dGVyKGtleSwgb2JqKSB7XG4gIHJldHVybiBvYmouU2VyaWFsaXphYmxlJGdldChrZXkpO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3Rfc2VyaWFsaXplU2V0dGVyKGtleSwgb2JqLCB2YWx1ZSkge1xuICBvYmpba2V5XSA9IHZhbHVlO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3Rfc2VyaWFsaXplSW5zdGFuY2lhdG9yKGN0b3IpIHtcbiAgcmV0dXJuIHt9O1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVzZXJpYWxpemUodHlwZSwgcmF3KSB7XG4gIHZhciByZXN1bHQgPSBuZXcgdHlwZSgpO1xuICByZXR1cm4gbnVsbCA9PSByYXcgPyByZXN1bHQgOiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZWVwQ29weShyYXcsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2Rlc2VyaWFsaXplR2V0dGVyLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZXNlcmlhbGl6ZVNldHRlciwgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVzZXJpYWxpemVJbnN0YW5jaWF0b3IsIHR5cGUpO1xufVxubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5kZXNlcmlhbGl6ZSA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2Rlc2VyaWFsaXplO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVzZXJpYWxpemVHZXR0ZXIoa2V5LCBvYmopIHtcbiAgcmV0dXJuIG9ialtrZXldO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVzZXJpYWxpemVTZXR0ZXIoa2V5LCBvYmosIHZhbHVlKSB7XG4gIG9iai5TZXJpYWxpemFibGUkc2V0KGtleSwgdmFsdWUpO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVzZXJpYWxpemVJbnN0YW5jaWF0b3IoY3Rvcikge1xuICBpZiAobnVsbCA9PSBjdG9yKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJDYW5ub3QgZGVzZXJpYWxpemUsIHRhcmdldCBjb25zdHJ1Y3RvciB3YXMgbnVsbC5cIik7XG4gIH1cbiAgcmV0dXJuIG5ldyBjdG9yKCk7XG59XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LnN0cmljdERlc2VyaWFsaXplID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3Rfc3RyaWN0RGVzZXJpYWxpemUodHlwZSwgcmF3KSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZXNlcmlhbGl6ZSh0eXBlLCByYXcpO1xufTtcbnZhciBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9Db3B5VmFsdWVHZXR0ZXIsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X0NvcHlWYWx1ZVNldHRlciwgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfQ29weUNvbnN0cnVjdG9yLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9Db3B5SW5zdGFuY2lhdG9yO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVlcENvcHkoc291cmNlLCB2YWx1ZUdldHRlciwgdmFsdWVTZXR0ZXIsIGNvcHlJbnN0YW5jaWF0b3IsIHRhcmdldENvbnN0cnVjdG9yKSB7XG4gIGZvciAodmFyIHRhcmdldCA9IGNvcHlJbnN0YW5jaWF0b3IodGFyZ2V0Q29uc3RydWN0b3IpLCBtZXRhZGF0YSA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBDb3B5TWV0YWRhdGEoc291cmNlLCB0YXJnZXQpLCBhcnJheXMgPSBtZXRhZGF0YS5hcnJheXMgfHwge30sIG9iamVjdHMgPSBtZXRhZGF0YS5vYmplY3RzIHx8IHt9LCBvYmplY3RNYXBzID0gbWV0YWRhdGEub2JqZWN0TWFwcyB8fCB7fSwgJGpzY29tcCRsb29wJDcxID0ge30sICRqc2NvbXAkaXRlciQ2ID0gJGpzY29tcC5tYWtlSXRlcmF0b3IobWV0YWRhdGEua2V5cyB8fCBbXSksICRqc2NvbXAka2V5JGtleSA9ICRqc2NvbXAkaXRlciQ2Lm5leHQoKTsgISRqc2NvbXAka2V5JGtleS5kb25lOyAkanNjb21wJGxvb3AkNzEgPSB7JGpzY29tcCRsb29wJHByb3AkbWFwTWV0YWRhdGEkNzI6JGpzY29tcCRsb29wJDcxLiRqc2NvbXAkbG9vcCRwcm9wJG1hcE1ldGFkYXRhJDcyfSwgXG4gICRqc2NvbXAka2V5JGtleSA9ICRqc2NvbXAkaXRlciQ2Lm5leHQoKSkge1xuICAgIHZhciBrZXkgPSAkanNjb21wJGtleSRrZXkudmFsdWUsIHZhbHVlID0gdmFsdWVHZXR0ZXIoa2V5LCBzb3VyY2UpO1xuICAgIGlmIChudWxsICE9IHZhbHVlKSB7XG4gICAgICB2YXIgY29weSA9IHZvaWQgMDtcbiAgICAgIGlmIChhcnJheXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBpZiAobWV0YWRhdGEuZW1wdHlBcnJheUlzVW5zZXQgJiYgMCA9PT0gdmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29weSA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBDb3B5VmFsdWUodmFsdWUsIHZhbHVlR2V0dGVyLCB2YWx1ZVNldHRlciwgY29weUluc3RhbmNpYXRvciwgITAsICEwLCBhcnJheXNba2V5XSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAob2JqZWN0cy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgY29weSA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBDb3B5VmFsdWUodmFsdWUsIHZhbHVlR2V0dGVyLCB2YWx1ZVNldHRlciwgY29weUluc3RhbmNpYXRvciwgITEsICEwLCBvYmplY3RzW2tleV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChvYmplY3RNYXBzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICRqc2NvbXAkbG9vcCQ3MS4kanNjb21wJGxvb3AkcHJvcCRtYXBNZXRhZGF0YSQ3MiA9IG9iamVjdE1hcHNba2V5XSwgY29weSA9ICRqc2NvbXAkbG9vcCQ3MS4kanNjb21wJGxvb3AkcHJvcCRtYXBNZXRhZGF0YSQ3Mi5pc1Byb3BlcnR5QXJyYXkgPyB2YWx1ZS5tYXAoZnVuY3Rpb24oJGpzY29tcCRsb29wJDcxKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBDb3B5T2JqZWN0TWFwKHYsICRqc2NvbXAkbG9vcCQ3MS4kanNjb21wJGxvb3AkcHJvcCRtYXBNZXRhZGF0YSQ3MiwgdmFsdWVHZXR0ZXIsIHZhbHVlU2V0dGVyLCBjb3B5SW5zdGFuY2lhdG9yKTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0oJGpzY29tcCRsb29wJDcxKSkgOiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZWVwQ29weU9iamVjdE1hcCh2YWx1ZSwgJGpzY29tcCRsb29wJDcxLiRqc2NvbXAkbG9vcCRwcm9wJG1hcE1ldGFkYXRhJDcyLCB2YWx1ZUdldHRlciwgdmFsdWVTZXR0ZXIsIGNvcHlJbnN0YW5jaWF0b3IpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgaWYgKG1ldGFkYXRhLmVtcHR5QXJyYXlJc1Vuc2V0ICYmIDAgPT09IHZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvcHkgPSBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZWVwQ29weVZhbHVlKHZhbHVlLCB2YWx1ZUdldHRlciwgdmFsdWVTZXR0ZXIsIGNvcHlJbnN0YW5jaWF0b3IsICEwLCAhMSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb3B5ID0gdmFsdWUgaW5zdGFuY2VvZiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9OdWxsQ2xhc3MgPyBudWxsIDogdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YWx1ZVNldHRlcihrZXksIHRhcmdldCwgY29weSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0YXJnZXQ7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZWVwQ29weU9iamVjdE1hcCh2YWx1ZSwgbWFwTWV0YWRhdGEsIHZhbHVlR2V0dGVyLCB2YWx1ZVNldHRlciwgY29weUluc3RhbmNpYXRvcikge1xuICBmb3IgKHZhciBvYmpNYXAgPSB7fSwgJGpzY29tcCRpdGVyJDcgPSAkanNjb21wLm1ha2VJdGVyYXRvcihPYmplY3Qua2V5cyh2YWx1ZSkpLCAkanNjb21wJGtleSRtYXBLZXkgPSAkanNjb21wJGl0ZXIkNy5uZXh0KCk7ICEkanNjb21wJGtleSRtYXBLZXkuZG9uZTsgJGpzY29tcCRrZXkkbWFwS2V5ID0gJGpzY29tcCRpdGVyJDcubmV4dCgpKSB7XG4gICAgdmFyIG1hcEtleSA9ICRqc2NvbXAka2V5JG1hcEtleS52YWx1ZSwgbWFwVmFsdWUgPSB2YWx1ZVttYXBLZXldO1xuICAgIG51bGwgIT0gbWFwVmFsdWUgJiYgKG9iak1hcFttYXBLZXldID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVlcENvcHlWYWx1ZShtYXBWYWx1ZSwgdmFsdWVHZXR0ZXIsIHZhbHVlU2V0dGVyLCBjb3B5SW5zdGFuY2lhdG9yLCBtYXBNZXRhZGF0YS5pc1ZhbHVlQXJyYXksIG1hcE1ldGFkYXRhLmlzU2VyaWFsaXphYmxlLCBtYXBNZXRhZGF0YS5jdG9yKSk7XG4gIH1cbiAgcmV0dXJuIG9iak1hcDtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBDb3B5VmFsdWUodmFsdWUsIHZhbHVlR2V0dGVyLCB2YWx1ZVNldHRlciwgY29weUluc3RhbmNpYXRvciwgaXNBcnJheSwgaXNSZWYsIGN0b3IpIHtcbiAgaWYgKGlzUmVmICYmIG51bGwgPT0gY3Rvcikge1xuICAgIHRocm93IEVycm9yKFwiQ2Fubm90IGRlc2VyaWFsaXplIGEgcmVmZXJlbmNlIG9iamVjdCB3aXRob3V0IGEgY29uc3RydWN0b3IuXCIpO1xuICB9XG4gIHJldHVybiBudWxsID09IHZhbHVlID8gdmFsdWUgOiBpc0FycmF5ICYmIGlzUmVmID8gdmFsdWUubWFwKGZ1bmN0aW9uKHYpIHtcbiAgICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVlcENvcHkodiwgdmFsdWVHZXR0ZXIsIHZhbHVlU2V0dGVyLCBjb3B5SW5zdGFuY2lhdG9yLCBjdG9yKTtcbiAgfSkgOiBpc0FycmF5ICYmICFpc1JlZiA/IHZhbHVlLm1hcChmdW5jdGlvbih2KSB7XG4gICAgcmV0dXJuIHY7XG4gIH0pIDogIWlzQXJyYXkgJiYgaXNSZWYgPyBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZWVwQ29weSh2YWx1ZSwgdmFsdWVHZXR0ZXIsIHZhbHVlU2V0dGVyLCBjb3B5SW5zdGFuY2lhdG9yLCBjdG9yKSA6IHZhbHVlIGluc3RhbmNlb2YgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfTnVsbENsYXNzID8gbnVsbCA6IFwib2JqZWN0XCIgPT09IHR5cGVvZiB2YWx1ZSA/IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodmFsdWUpKSA6IHZhbHVlO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVlcENvcHlNZXRhZGF0YShzb3VyY2UsIHRhcmdldCkge1xuICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpIHtcbiAgICB2YXIgbWV0YWRhdGEgPSB0YXJnZXQuZ2V0Q2xhc3NNZXRhZGF0YSgpO1xuICB9IGVsc2Uge1xuICAgIGlmIChzb3VyY2UgaW5zdGFuY2VvZiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSkge1xuICAgICAgbWV0YWRhdGEgPSBzb3VyY2UuZ2V0Q2xhc3NNZXRhZGF0YSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBFcnJvcihcIkNhbm5vdCBmaW5kIENsYXNzTWV0YWRhdGEuXCIpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbWV0YWRhdGE7XG59XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZWVwRXF1YWxzKHNlcmlhbGl6YWJsZTEsIHNlcmlhbGl6YWJsZTIpIHtcbiAgdmFyIG1ldGFkYXRhMSA9IHNlcmlhbGl6YWJsZTEuZ2V0Q2xhc3NNZXRhZGF0YSgpLCBrZXlzMSA9IG1ldGFkYXRhMS5rZXlzIHx8IFtdLCBhcnJheXMxID0gbWV0YWRhdGExLmFycmF5cyB8fCB7fSwgb2JqZWN0czEgPSBtZXRhZGF0YTEub2JqZWN0cyB8fCB7fSwgb2JqZWN0TWFwczEgPSBtZXRhZGF0YTEub2JqZWN0TWFwcyB8fCB7fSwgbWV0YWRhdGEyID0gc2VyaWFsaXphYmxlMi5nZXRDbGFzc01ldGFkYXRhKCksIGFycmF5czIgPSBtZXRhZGF0YTIuYXJyYXlzIHx8IHt9LCBvYmplY3RzMiA9IG1ldGFkYXRhMi5vYmplY3RzIHx8IHt9LCBvYmplY3RNYXBzMiA9IG1ldGFkYXRhMi5vYmplY3RNYXBzIHx8IHt9O1xuICBpZiAoIShtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9zYW1lS2V5cyhrZXlzMSwgbWV0YWRhdGEyLmtleXMgfHwgW10pICYmIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X3NhbWVLZXlzKGFycmF5czEsIGFycmF5czIpICYmIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X3NhbWVLZXlzKG9iamVjdHMxLCBvYmplY3RzMikgJiYgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3Rfc2FtZUtleXMob2JqZWN0TWFwczEsIG9iamVjdE1hcHMyKSkpIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgZm9yICh2YXIgJGpzY29tcCRsb29wJDczID0ge30sICRqc2NvbXAkaXRlciQ4ID0gJGpzY29tcC5tYWtlSXRlcmF0b3Ioa2V5czEpLCAkanNjb21wJGtleSRrZXkgPSAkanNjb21wJGl0ZXIkOC5uZXh0KCk7ICEkanNjb21wJGtleSRrZXkuZG9uZTsgJGpzY29tcCRsb29wJDczID0geyRqc2NvbXAkbG9vcCRwcm9wJHZhbHVlMiQ3NDokanNjb21wJGxvb3AkNzMuJGpzY29tcCRsb29wJHByb3AkdmFsdWUyJDc0LCAkanNjb21wJGxvb3AkcHJvcCRtYXBNZXRhZGF0YSQ3NTokanNjb21wJGxvb3AkNzMuJGpzY29tcCRsb29wJHByb3AkbWFwTWV0YWRhdGEkNzV9LCAkanNjb21wJGtleSRrZXkgPSAkanNjb21wJGl0ZXIkOC5uZXh0KCkpIHtcbiAgICB2YXIga2V5ID0gJGpzY29tcCRrZXkka2V5LnZhbHVlLCBoYXMxID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfaGFzQW5kSXNOb3RFbXB0eUFycmF5KHNlcmlhbGl6YWJsZTEsIGtleSwgbWV0YWRhdGExKSwgaGFzMiA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2hhc0FuZElzTm90RW1wdHlBcnJheShzZXJpYWxpemFibGUyLCBrZXksIG1ldGFkYXRhMik7XG4gICAgaWYgKGhhczEgIT09IGhhczIpIHtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgaWYgKGhhczEpIHtcbiAgICAgIHZhciB2YWx1ZTEgPSBzZXJpYWxpemFibGUxLlNlcmlhbGl6YWJsZSRnZXQoa2V5KTtcbiAgICAgICRqc2NvbXAkbG9vcCQ3My4kanNjb21wJGxvb3AkcHJvcCR2YWx1ZTIkNzQgPSBzZXJpYWxpemFibGUyLlNlcmlhbGl6YWJsZSRnZXQoa2V5KTtcbiAgICAgIGlmIChhcnJheXMxLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgaWYgKCFtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZWVwRXF1YWxzVmFsdWUodmFsdWUxLCAkanNjb21wJGxvb3AkNzMuJGpzY29tcCRsb29wJHByb3AkdmFsdWUyJDc0LCAhMCwgITApKSB7XG4gICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAob2JqZWN0czEuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIGlmICghbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVlcEVxdWFsc1ZhbHVlKHZhbHVlMSwgJGpzY29tcCRsb29wJDczLiRqc2NvbXAkbG9vcCRwcm9wJHZhbHVlMiQ3NCwgITEsICEwKSkge1xuICAgICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAob2JqZWN0TWFwczEuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgaWYgKCRqc2NvbXAkbG9vcCQ3My4kanNjb21wJGxvb3AkcHJvcCRtYXBNZXRhZGF0YSQ3NSA9IG9iamVjdE1hcHMxW2tleV0sICRqc2NvbXAkbG9vcCQ3My4kanNjb21wJGxvb3AkcHJvcCRtYXBNZXRhZGF0YSQ3NS5pc1Byb3BlcnR5QXJyYXkpIHtcbiAgICAgICAgICAgICAgaWYgKCFtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9zYW1lS2V5cyh2YWx1ZTEsICRqc2NvbXAkbG9vcCQ3My4kanNjb21wJGxvb3AkcHJvcCR2YWx1ZTIkNzQpIHx8IHZhbHVlMS5zb21lKGZ1bmN0aW9uKCRqc2NvbXAkbG9vcCQ3Mykge1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbih2MSwgaSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuICFtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZWVwRXF1YWxzT2JqZWN0TWFwKHYxLCAkanNjb21wJGxvb3AkNzMuJGpzY29tcCRsb29wJHByb3AkdmFsdWUyJDc0W2ldLCAkanNjb21wJGxvb3AkNzMuJGpzY29tcCRsb29wJHByb3AkbWFwTWV0YWRhdGEkNzUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH0oJGpzY29tcCRsb29wJDczKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmICghbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVlcEVxdWFsc09iamVjdE1hcCh2YWx1ZTEsICRqc2NvbXAkbG9vcCQ3My4kanNjb21wJGxvb3AkcHJvcCR2YWx1ZTIkNzQsICRqc2NvbXAkbG9vcCQ3My4kanNjb21wJGxvb3AkcHJvcCRtYXBNZXRhZGF0YSQ3NSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUxKSkge1xuICAgICAgICAgICAgICBpZiAoIW1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBFcXVhbHNWYWx1ZSh2YWx1ZTEsICRqc2NvbXAkbG9vcCQ3My4kanNjb21wJGxvb3AkcHJvcCR2YWx1ZTIkNzQsICEwLCAhMSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmICghbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVlcEVxdWFsc1ZhbHVlKHZhbHVlMSwgJGpzY29tcCRsb29wJDczLiRqc2NvbXAkbG9vcCRwcm9wJHZhbHVlMiQ3NCwgITEsICExKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gITA7XG59XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LmRlZXBFcXVhbHMgPSBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZWVwRXF1YWxzO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfaGFzQW5kSXNOb3RFbXB0eUFycmF5KHNlcmlhbGl6YWJsZSwga2V5LCBtZXRhZGF0YSkge1xuICBpZiAoIXNlcmlhbGl6YWJsZS5TZXJpYWxpemFibGUkaGFzKGtleSkpIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgaWYgKCFtZXRhZGF0YS5lbXB0eUFycmF5SXNVbnNldCkge1xuICAgIHJldHVybiAhMDtcbiAgfVxuICB2YXIgdmFsdWUgPSBzZXJpYWxpemFibGUuU2VyaWFsaXphYmxlJGdldChrZXkpO1xuICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyAwICE9PSB2YWx1ZS5sZW5ndGggOiAhMDtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBFcXVhbHNPYmplY3RNYXAodmFsdWUxLCB2YWx1ZTIsIG1hcE1ldGFkYXRhKSB7XG4gIGlmICghbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3Rfc2FtZUtleXModmFsdWUxLCB2YWx1ZTIpKSB7XG4gICAgcmV0dXJuICExO1xuICB9XG4gIGZvciAodmFyICRqc2NvbXAkaXRlciQ5ID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoT2JqZWN0LmtleXModmFsdWUxKSksICRqc2NvbXAka2V5JG1hcEtleSA9ICRqc2NvbXAkaXRlciQ5Lm5leHQoKTsgISRqc2NvbXAka2V5JG1hcEtleS5kb25lOyAkanNjb21wJGtleSRtYXBLZXkgPSAkanNjb21wJGl0ZXIkOS5uZXh0KCkpIHtcbiAgICB2YXIgbWFwS2V5ID0gJGpzY29tcCRrZXkkbWFwS2V5LnZhbHVlO1xuICAgIGlmICghbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVlcEVxdWFsc1ZhbHVlKHZhbHVlMVttYXBLZXldLCB2YWx1ZTJbbWFwS2V5XSwgbWFwTWV0YWRhdGEuaXNWYWx1ZUFycmF5LCBtYXBNZXRhZGF0YS5pc1NlcmlhbGl6YWJsZSkpIHtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICEwO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVlcEVxdWFsc1ZhbHVlKHZhbHVlMSwgdmFsdWUyLCBpc0FycmF5LCBpc1NlcmlhbGl6YWJsZSkge1xuICBpZiAobnVsbCA9PSB2YWx1ZTEgJiYgbnVsbCA9PSB2YWx1ZTIpIHtcbiAgICByZXR1cm4gITA7XG4gIH1cbiAgaWYgKGlzQXJyYXkgJiYgaXNTZXJpYWxpemFibGUpIHtcbiAgICBpZiAoIW1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X3NhbWVLZXlzKHZhbHVlMSwgdmFsdWUyKSB8fCB2YWx1ZTEuc29tZShmdW5jdGlvbih2MSwgaSkge1xuICAgICAgcmV0dXJuICFtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZWVwRXF1YWxzKHYxLCB2YWx1ZTJbaV0pO1xuICAgIH0pKSB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChpc0FycmF5ICYmICFpc1NlcmlhbGl6YWJsZSkge1xuICAgICAgaWYgKCFtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9zYW1lS2V5cyh2YWx1ZTEsIHZhbHVlMikgfHwgdmFsdWUxLnNvbWUoZnVuY3Rpb24odiwgaSkge1xuICAgICAgICByZXR1cm4gdiAhPT0gdmFsdWUyW2ldO1xuICAgICAgfSkpIHtcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHZhbHVlMSkge1xuICAgICAgICBpZiAoSlNPTi5zdHJpbmdpZnkodmFsdWUxKSAhPT0gSlNPTi5zdHJpbmdpZnkodmFsdWUyKSkge1xuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHZhbHVlMSAhPT0gdmFsdWUyKSB7XG4gICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiAhMDtcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X3NhbWVLZXlzKGEsIGIpIHtcbiAgaWYgKHR5cGVvZiBhICE9PSB0eXBlb2YgYiB8fCBBcnJheS5pc0FycmF5KGEpICE9PSBBcnJheS5pc0FycmF5KGIpKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJUeXBlcyBhcmUgbm90IGNvbXBhcmFibGUuXCIpO1xuICB9XG4gIHZhciBhS2V5cyA9IE9iamVjdC5rZXlzKGEpLCBiS2V5cyA9IE9iamVjdC5rZXlzKGIpO1xuICBpZiAoYUtleXMubGVuZ3RoICE9PSBiS2V5cy5sZW5ndGgpIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgQXJyYXkuaXNBcnJheShhKSB8fCAoYUtleXMuc29ydCgpLCBiS2V5cy5zb3J0KCkpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGFLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKGFLZXlzW2ldICE9PSBiS2V5c1tpXSkge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfVxuICByZXR1cm4gITA7XG59XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LnNlcmlhbGl6YWJsZUVxdWFsaXR5VGVzdGVyID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3Rfc2VyaWFsaXphYmxlRXF1YWxpdHlUZXN0ZXIobGVmdCwgcmlnaHQpIHtcbiAgaWYgKGxlZnQgaW5zdGFuY2VvZiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSAmJiByaWdodCBpbnN0YW5jZW9mIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKSB7XG4gICAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2RlZXBFcXVhbHMobGVmdCwgcmlnaHQpO1xuICB9XG59O1xuZ29vZy5kb20uYXNzZXJ0cyA9IHt9O1xuZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0xvY2F0aW9uID0gZnVuY3Rpb24obykge1xuICBpZiAoZ29vZy5hc3NlcnRzLkVOQUJMRV9BU1NFUlRTKSB7XG4gICAgdmFyIHdpbiA9IGdvb2cuZG9tLmFzc2VydHMuZ2V0V2luZG93XyhvKTtcbiAgICB3aW4gJiYgKCFvIHx8ICEobyBpbnN0YW5jZW9mIHdpbi5Mb2NhdGlvbikgJiYgbyBpbnN0YW5jZW9mIHdpbi5FbGVtZW50KSAmJiBnb29nLmFzc2VydHMuZmFpbChcIkFyZ3VtZW50IGlzIG5vdCBhIExvY2F0aW9uIChvciBhIG5vbi1FbGVtZW50IG1vY2spOyBnb3Q6ICVzXCIsIGdvb2cuZG9tLmFzc2VydHMuZGVidWdTdHJpbmdGb3JUeXBlXyhvKSk7XG4gIH1cbiAgcmV0dXJuIG87XG59O1xuZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0VsZW1lbnRUeXBlXyA9IGZ1bmN0aW9uKG8sIHR5cGVuYW1lKSB7XG4gIGlmIChnb29nLmFzc2VydHMuRU5BQkxFX0FTU0VSVFMpIHtcbiAgICB2YXIgd2luID0gZ29vZy5kb20uYXNzZXJ0cy5nZXRXaW5kb3dfKG8pO1xuICAgIHdpbiAmJiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiB3aW5bdHlwZW5hbWVdICYmIChvICYmIChvIGluc3RhbmNlb2Ygd2luW3R5cGVuYW1lXSB8fCAhKG8gaW5zdGFuY2VvZiB3aW4uTG9jYXRpb24gfHwgbyBpbnN0YW5jZW9mIHdpbi5FbGVtZW50KSkgfHwgZ29vZy5hc3NlcnRzLmZhaWwoXCJBcmd1bWVudCBpcyBub3QgYSAlcyAob3IgYSBub24tRWxlbWVudCwgbm9uLUxvY2F0aW9uIG1vY2spOyBnb3Q6ICVzXCIsIHR5cGVuYW1lLCBnb29nLmRvbS5hc3NlcnRzLmRlYnVnU3RyaW5nRm9yVHlwZV8obykpKTtcbiAgfVxuICByZXR1cm4gbztcbn07XG5nb29nLmRvbS5hc3NlcnRzLmFzc2VydElzSFRNTEFuY2hvckVsZW1lbnQgPSBmdW5jdGlvbihvKSB7XG4gIHJldHVybiBnb29nLmRvbS5hc3NlcnRzLmFzc2VydElzRWxlbWVudFR5cGVfKG8sIFwiSFRNTEFuY2hvckVsZW1lbnRcIik7XG59O1xuZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0hUTUxCdXR0b25FbGVtZW50ID0gZnVuY3Rpb24obykge1xuICByZXR1cm4gZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0VsZW1lbnRUeXBlXyhvLCBcIkhUTUxCdXR0b25FbGVtZW50XCIpO1xufTtcbmdvb2cuZG9tLmFzc2VydHMuYXNzZXJ0SXNIVE1MTGlua0VsZW1lbnQgPSBmdW5jdGlvbihvKSB7XG4gIHJldHVybiBnb29nLmRvbS5hc3NlcnRzLmFzc2VydElzRWxlbWVudFR5cGVfKG8sIFwiSFRNTExpbmtFbGVtZW50XCIpO1xufTtcbmdvb2cuZG9tLmFzc2VydHMuYXNzZXJ0SXNIVE1MSW1hZ2VFbGVtZW50ID0gZnVuY3Rpb24obykge1xuICByZXR1cm4gZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0VsZW1lbnRUeXBlXyhvLCBcIkhUTUxJbWFnZUVsZW1lbnRcIik7XG59O1xuZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0hUTUxBdWRpb0VsZW1lbnQgPSBmdW5jdGlvbihvKSB7XG4gIHJldHVybiBnb29nLmRvbS5hc3NlcnRzLmFzc2VydElzRWxlbWVudFR5cGVfKG8sIFwiSFRNTEF1ZGlvRWxlbWVudFwiKTtcbn07XG5nb29nLmRvbS5hc3NlcnRzLmFzc2VydElzSFRNTFZpZGVvRWxlbWVudCA9IGZ1bmN0aW9uKG8pIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmFzc2VydHMuYXNzZXJ0SXNFbGVtZW50VHlwZV8obywgXCJIVE1MVmlkZW9FbGVtZW50XCIpO1xufTtcbmdvb2cuZG9tLmFzc2VydHMuYXNzZXJ0SXNIVE1MSW5wdXRFbGVtZW50ID0gZnVuY3Rpb24obykge1xuICByZXR1cm4gZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0VsZW1lbnRUeXBlXyhvLCBcIkhUTUxJbnB1dEVsZW1lbnRcIik7XG59O1xuZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0hUTUxUZXh0QXJlYUVsZW1lbnQgPSBmdW5jdGlvbihvKSB7XG4gIHJldHVybiBnb29nLmRvbS5hc3NlcnRzLmFzc2VydElzRWxlbWVudFR5cGVfKG8sIFwiSFRNTFRleHRBcmVhRWxlbWVudFwiKTtcbn07XG5nb29nLmRvbS5hc3NlcnRzLmFzc2VydElzSFRNTENhbnZhc0VsZW1lbnQgPSBmdW5jdGlvbihvKSB7XG4gIHJldHVybiBnb29nLmRvbS5hc3NlcnRzLmFzc2VydElzRWxlbWVudFR5cGVfKG8sIFwiSFRNTENhbnZhc0VsZW1lbnRcIik7XG59O1xuZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0hUTUxFbWJlZEVsZW1lbnQgPSBmdW5jdGlvbihvKSB7XG4gIHJldHVybiBnb29nLmRvbS5hc3NlcnRzLmFzc2VydElzRWxlbWVudFR5cGVfKG8sIFwiSFRNTEVtYmVkRWxlbWVudFwiKTtcbn07XG5nb29nLmRvbS5hc3NlcnRzLmFzc2VydElzSFRNTEZvcm1FbGVtZW50ID0gZnVuY3Rpb24obykge1xuICByZXR1cm4gZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0VsZW1lbnRUeXBlXyhvLCBcIkhUTUxGb3JtRWxlbWVudFwiKTtcbn07XG5nb29nLmRvbS5hc3NlcnRzLmFzc2VydElzSFRNTEZyYW1lRWxlbWVudCA9IGZ1bmN0aW9uKG8pIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmFzc2VydHMuYXNzZXJ0SXNFbGVtZW50VHlwZV8obywgXCJIVE1MRnJhbWVFbGVtZW50XCIpO1xufTtcbmdvb2cuZG9tLmFzc2VydHMuYXNzZXJ0SXNIVE1MSUZyYW1lRWxlbWVudCA9IGZ1bmN0aW9uKG8pIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmFzc2VydHMuYXNzZXJ0SXNFbGVtZW50VHlwZV8obywgXCJIVE1MSUZyYW1lRWxlbWVudFwiKTtcbn07XG5nb29nLmRvbS5hc3NlcnRzLmFzc2VydElzSFRNTE9iamVjdEVsZW1lbnQgPSBmdW5jdGlvbihvKSB7XG4gIHJldHVybiBnb29nLmRvbS5hc3NlcnRzLmFzc2VydElzRWxlbWVudFR5cGVfKG8sIFwiSFRNTE9iamVjdEVsZW1lbnRcIik7XG59O1xuZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0hUTUxTY3JpcHRFbGVtZW50ID0gZnVuY3Rpb24obykge1xuICByZXR1cm4gZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0VsZW1lbnRUeXBlXyhvLCBcIkhUTUxTY3JpcHRFbGVtZW50XCIpO1xufTtcbmdvb2cuZG9tLmFzc2VydHMuZGVidWdTdHJpbmdGb3JUeXBlXyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIGlmIChnb29nLmlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gdmFsdWUuY29uc3RydWN0b3IuZGlzcGxheU5hbWUgfHwgdmFsdWUuY29uc3RydWN0b3IubmFtZSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBcIjxvYmplY3QgY291bGQgbm90IGJlIHN0cmluZ2lmaWVkPlwiO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdm9pZCAwID09PSB2YWx1ZSA/IFwidW5kZWZpbmVkXCIgOiBudWxsID09PSB2YWx1ZSA/IFwibnVsbFwiIDogdHlwZW9mIHZhbHVlO1xuICB9XG59O1xuZ29vZy5kb20uYXNzZXJ0cy5nZXRXaW5kb3dfID0gZnVuY3Rpb24obykge1xuICB0cnkge1xuICAgIHZhciBkb2MgPSBvICYmIG8ub3duZXJEb2N1bWVudCwgd2luID0gZG9jICYmIChkb2MuZGVmYXVsdFZpZXcgfHwgZG9jLnBhcmVudFdpbmRvdyk7XG4gICAgd2luID0gd2luIHx8IGdvb2cuZ2xvYmFsO1xuICAgIGlmICh3aW4uRWxlbWVudCAmJiB3aW4uTG9jYXRpb24pIHtcbiAgICAgIHJldHVybiB3aW47XG4gICAgfVxuICB9IGNhdGNoIChleCkge1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcbmdvb2cuZG9tLkh0bWxFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG59O1xuZ29vZy5kb20uVGFnTmFtZSA9IGZ1bmN0aW9uKCkge1xufTtcbmdvb2cuZG9tLlRhZ05hbWUuY2FzdCA9IGZ1bmN0aW9uKG5hbWUsIHR5cGUpIHtcbiAgcmV0dXJuIG5hbWU7XG59O1xuZ29vZy5kb20uVGFnTmFtZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbn07XG5nb29nLmRvbS5UYWdOYW1lLkEgPSBcIkFcIjtcbmdvb2cuZG9tLlRhZ05hbWUuQUJCUiA9IFwiQUJCUlwiO1xuZ29vZy5kb20uVGFnTmFtZS5BQ1JPTllNID0gXCJBQ1JPTllNXCI7XG5nb29nLmRvbS5UYWdOYW1lLkFERFJFU1MgPSBcIkFERFJFU1NcIjtcbmdvb2cuZG9tLlRhZ05hbWUuQVBQTEVUID0gXCJBUFBMRVRcIjtcbmdvb2cuZG9tLlRhZ05hbWUuQVJFQSA9IFwiQVJFQVwiO1xuZ29vZy5kb20uVGFnTmFtZS5BUlRJQ0xFID0gXCJBUlRJQ0xFXCI7XG5nb29nLmRvbS5UYWdOYW1lLkFTSURFID0gXCJBU0lERVwiO1xuZ29vZy5kb20uVGFnTmFtZS5BVURJTyA9IFwiQVVESU9cIjtcbmdvb2cuZG9tLlRhZ05hbWUuQiA9IFwiQlwiO1xuZ29vZy5kb20uVGFnTmFtZS5CQVNFID0gXCJCQVNFXCI7XG5nb29nLmRvbS5UYWdOYW1lLkJBU0VGT05UID0gXCJCQVNFRk9OVFwiO1xuZ29vZy5kb20uVGFnTmFtZS5CREkgPSBcIkJESVwiO1xuZ29vZy5kb20uVGFnTmFtZS5CRE8gPSBcIkJET1wiO1xuZ29vZy5kb20uVGFnTmFtZS5CSUcgPSBcIkJJR1wiO1xuZ29vZy5kb20uVGFnTmFtZS5CTE9DS1FVT1RFID0gXCJCTE9DS1FVT1RFXCI7XG5nb29nLmRvbS5UYWdOYW1lLkJPRFkgPSBcIkJPRFlcIjtcbmdvb2cuZG9tLlRhZ05hbWUuQlIgPSBcIkJSXCI7XG5nb29nLmRvbS5UYWdOYW1lLkJVVFRPTiA9IFwiQlVUVE9OXCI7XG5nb29nLmRvbS5UYWdOYW1lLkNBTlZBUyA9IFwiQ0FOVkFTXCI7XG5nb29nLmRvbS5UYWdOYW1lLkNBUFRJT04gPSBcIkNBUFRJT05cIjtcbmdvb2cuZG9tLlRhZ05hbWUuQ0VOVEVSID0gXCJDRU5URVJcIjtcbmdvb2cuZG9tLlRhZ05hbWUuQ0lURSA9IFwiQ0lURVwiO1xuZ29vZy5kb20uVGFnTmFtZS5DT0RFID0gXCJDT0RFXCI7XG5nb29nLmRvbS5UYWdOYW1lLkNPTCA9IFwiQ09MXCI7XG5nb29nLmRvbS5UYWdOYW1lLkNPTEdST1VQID0gXCJDT0xHUk9VUFwiO1xuZ29vZy5kb20uVGFnTmFtZS5DT01NQU5EID0gXCJDT01NQU5EXCI7XG5nb29nLmRvbS5UYWdOYW1lLkRBVEEgPSBcIkRBVEFcIjtcbmdvb2cuZG9tLlRhZ05hbWUuREFUQUxJU1QgPSBcIkRBVEFMSVNUXCI7XG5nb29nLmRvbS5UYWdOYW1lLkREID0gXCJERFwiO1xuZ29vZy5kb20uVGFnTmFtZS5ERUwgPSBcIkRFTFwiO1xuZ29vZy5kb20uVGFnTmFtZS5ERVRBSUxTID0gXCJERVRBSUxTXCI7XG5nb29nLmRvbS5UYWdOYW1lLkRGTiA9IFwiREZOXCI7XG5nb29nLmRvbS5UYWdOYW1lLkRJQUxPRyA9IFwiRElBTE9HXCI7XG5nb29nLmRvbS5UYWdOYW1lLkRJUiA9IFwiRElSXCI7XG5nb29nLmRvbS5UYWdOYW1lLkRJViA9IFwiRElWXCI7XG5nb29nLmRvbS5UYWdOYW1lLkRMID0gXCJETFwiO1xuZ29vZy5kb20uVGFnTmFtZS5EVCA9IFwiRFRcIjtcbmdvb2cuZG9tLlRhZ05hbWUuRU0gPSBcIkVNXCI7XG5nb29nLmRvbS5UYWdOYW1lLkVNQkVEID0gXCJFTUJFRFwiO1xuZ29vZy5kb20uVGFnTmFtZS5GSUVMRFNFVCA9IFwiRklFTERTRVRcIjtcbmdvb2cuZG9tLlRhZ05hbWUuRklHQ0FQVElPTiA9IFwiRklHQ0FQVElPTlwiO1xuZ29vZy5kb20uVGFnTmFtZS5GSUdVUkUgPSBcIkZJR1VSRVwiO1xuZ29vZy5kb20uVGFnTmFtZS5GT05UID0gXCJGT05UXCI7XG5nb29nLmRvbS5UYWdOYW1lLkZPT1RFUiA9IFwiRk9PVEVSXCI7XG5nb29nLmRvbS5UYWdOYW1lLkZPUk0gPSBcIkZPUk1cIjtcbmdvb2cuZG9tLlRhZ05hbWUuRlJBTUUgPSBcIkZSQU1FXCI7XG5nb29nLmRvbS5UYWdOYW1lLkZSQU1FU0VUID0gXCJGUkFNRVNFVFwiO1xuZ29vZy5kb20uVGFnTmFtZS5IMSA9IFwiSDFcIjtcbmdvb2cuZG9tLlRhZ05hbWUuSDIgPSBcIkgyXCI7XG5nb29nLmRvbS5UYWdOYW1lLkgzID0gXCJIM1wiO1xuZ29vZy5kb20uVGFnTmFtZS5INCA9IFwiSDRcIjtcbmdvb2cuZG9tLlRhZ05hbWUuSDUgPSBcIkg1XCI7XG5nb29nLmRvbS5UYWdOYW1lLkg2ID0gXCJINlwiO1xuZ29vZy5kb20uVGFnTmFtZS5IRUFEID0gXCJIRUFEXCI7XG5nb29nLmRvbS5UYWdOYW1lLkhFQURFUiA9IFwiSEVBREVSXCI7XG5nb29nLmRvbS5UYWdOYW1lLkhHUk9VUCA9IFwiSEdST1VQXCI7XG5nb29nLmRvbS5UYWdOYW1lLkhSID0gXCJIUlwiO1xuZ29vZy5kb20uVGFnTmFtZS5IVE1MID0gXCJIVE1MXCI7XG5nb29nLmRvbS5UYWdOYW1lLkkgPSBcIklcIjtcbmdvb2cuZG9tLlRhZ05hbWUuSUZSQU1FID0gXCJJRlJBTUVcIjtcbmdvb2cuZG9tLlRhZ05hbWUuSU1HID0gXCJJTUdcIjtcbmdvb2cuZG9tLlRhZ05hbWUuSU5QVVQgPSBcIklOUFVUXCI7XG5nb29nLmRvbS5UYWdOYW1lLklOUyA9IFwiSU5TXCI7XG5nb29nLmRvbS5UYWdOYW1lLklTSU5ERVggPSBcIklTSU5ERVhcIjtcbmdvb2cuZG9tLlRhZ05hbWUuS0JEID0gXCJLQkRcIjtcbmdvb2cuZG9tLlRhZ05hbWUuS0VZR0VOID0gXCJLRVlHRU5cIjtcbmdvb2cuZG9tLlRhZ05hbWUuTEFCRUwgPSBcIkxBQkVMXCI7XG5nb29nLmRvbS5UYWdOYW1lLkxFR0VORCA9IFwiTEVHRU5EXCI7XG5nb29nLmRvbS5UYWdOYW1lLkxJID0gXCJMSVwiO1xuZ29vZy5kb20uVGFnTmFtZS5MSU5LID0gXCJMSU5LXCI7XG5nb29nLmRvbS5UYWdOYW1lLk1BSU4gPSBcIk1BSU5cIjtcbmdvb2cuZG9tLlRhZ05hbWUuTUFQID0gXCJNQVBcIjtcbmdvb2cuZG9tLlRhZ05hbWUuTUFSSyA9IFwiTUFSS1wiO1xuZ29vZy5kb20uVGFnTmFtZS5NQVRIID0gXCJNQVRIXCI7XG5nb29nLmRvbS5UYWdOYW1lLk1FTlUgPSBcIk1FTlVcIjtcbmdvb2cuZG9tLlRhZ05hbWUuTUVOVUlURU0gPSBcIk1FTlVJVEVNXCI7XG5nb29nLmRvbS5UYWdOYW1lLk1FVEEgPSBcIk1FVEFcIjtcbmdvb2cuZG9tLlRhZ05hbWUuTUVURVIgPSBcIk1FVEVSXCI7XG5nb29nLmRvbS5UYWdOYW1lLk5BViA9IFwiTkFWXCI7XG5nb29nLmRvbS5UYWdOYW1lLk5PRlJBTUVTID0gXCJOT0ZSQU1FU1wiO1xuZ29vZy5kb20uVGFnTmFtZS5OT1NDUklQVCA9IFwiTk9TQ1JJUFRcIjtcbmdvb2cuZG9tLlRhZ05hbWUuT0JKRUNUID0gXCJPQkpFQ1RcIjtcbmdvb2cuZG9tLlRhZ05hbWUuT0wgPSBcIk9MXCI7XG5nb29nLmRvbS5UYWdOYW1lLk9QVEdST1VQID0gXCJPUFRHUk9VUFwiO1xuZ29vZy5kb20uVGFnTmFtZS5PUFRJT04gPSBcIk9QVElPTlwiO1xuZ29vZy5kb20uVGFnTmFtZS5PVVRQVVQgPSBcIk9VVFBVVFwiO1xuZ29vZy5kb20uVGFnTmFtZS5QID0gXCJQXCI7XG5nb29nLmRvbS5UYWdOYW1lLlBBUkFNID0gXCJQQVJBTVwiO1xuZ29vZy5kb20uVGFnTmFtZS5QSUNUVVJFID0gXCJQSUNUVVJFXCI7XG5nb29nLmRvbS5UYWdOYW1lLlBSRSA9IFwiUFJFXCI7XG5nb29nLmRvbS5UYWdOYW1lLlBST0dSRVNTID0gXCJQUk9HUkVTU1wiO1xuZ29vZy5kb20uVGFnTmFtZS5RID0gXCJRXCI7XG5nb29nLmRvbS5UYWdOYW1lLlJQID0gXCJSUFwiO1xuZ29vZy5kb20uVGFnTmFtZS5SVCA9IFwiUlRcIjtcbmdvb2cuZG9tLlRhZ05hbWUuUlRDID0gXCJSVENcIjtcbmdvb2cuZG9tLlRhZ05hbWUuUlVCWSA9IFwiUlVCWVwiO1xuZ29vZy5kb20uVGFnTmFtZS5TID0gXCJTXCI7XG5nb29nLmRvbS5UYWdOYW1lLlNBTVAgPSBcIlNBTVBcIjtcbmdvb2cuZG9tLlRhZ05hbWUuU0NSSVBUID0gXCJTQ1JJUFRcIjtcbmdvb2cuZG9tLlRhZ05hbWUuU0VDVElPTiA9IFwiU0VDVElPTlwiO1xuZ29vZy5kb20uVGFnTmFtZS5TRUxFQ1QgPSBcIlNFTEVDVFwiO1xuZ29vZy5kb20uVGFnTmFtZS5TTUFMTCA9IFwiU01BTExcIjtcbmdvb2cuZG9tLlRhZ05hbWUuU09VUkNFID0gXCJTT1VSQ0VcIjtcbmdvb2cuZG9tLlRhZ05hbWUuU1BBTiA9IFwiU1BBTlwiO1xuZ29vZy5kb20uVGFnTmFtZS5TVFJJS0UgPSBcIlNUUklLRVwiO1xuZ29vZy5kb20uVGFnTmFtZS5TVFJPTkcgPSBcIlNUUk9OR1wiO1xuZ29vZy5kb20uVGFnTmFtZS5TVFlMRSA9IFwiU1RZTEVcIjtcbmdvb2cuZG9tLlRhZ05hbWUuU1VCID0gXCJTVUJcIjtcbmdvb2cuZG9tLlRhZ05hbWUuU1VNTUFSWSA9IFwiU1VNTUFSWVwiO1xuZ29vZy5kb20uVGFnTmFtZS5TVVAgPSBcIlNVUFwiO1xuZ29vZy5kb20uVGFnTmFtZS5TVkcgPSBcIlNWR1wiO1xuZ29vZy5kb20uVGFnTmFtZS5UQUJMRSA9IFwiVEFCTEVcIjtcbmdvb2cuZG9tLlRhZ05hbWUuVEJPRFkgPSBcIlRCT0RZXCI7XG5nb29nLmRvbS5UYWdOYW1lLlREID0gXCJURFwiO1xuZ29vZy5kb20uVGFnTmFtZS5URU1QTEFURSA9IFwiVEVNUExBVEVcIjtcbmdvb2cuZG9tLlRhZ05hbWUuVEVYVEFSRUEgPSBcIlRFWFRBUkVBXCI7XG5nb29nLmRvbS5UYWdOYW1lLlRGT09UID0gXCJURk9PVFwiO1xuZ29vZy5kb20uVGFnTmFtZS5USCA9IFwiVEhcIjtcbmdvb2cuZG9tLlRhZ05hbWUuVEhFQUQgPSBcIlRIRUFEXCI7XG5nb29nLmRvbS5UYWdOYW1lLlRJTUUgPSBcIlRJTUVcIjtcbmdvb2cuZG9tLlRhZ05hbWUuVElUTEUgPSBcIlRJVExFXCI7XG5nb29nLmRvbS5UYWdOYW1lLlRSID0gXCJUUlwiO1xuZ29vZy5kb20uVGFnTmFtZS5UUkFDSyA9IFwiVFJBQ0tcIjtcbmdvb2cuZG9tLlRhZ05hbWUuVFQgPSBcIlRUXCI7XG5nb29nLmRvbS5UYWdOYW1lLlUgPSBcIlVcIjtcbmdvb2cuZG9tLlRhZ05hbWUuVUwgPSBcIlVMXCI7XG5nb29nLmRvbS5UYWdOYW1lLlZBUiA9IFwiVkFSXCI7XG5nb29nLmRvbS5UYWdOYW1lLlZJREVPID0gXCJWSURFT1wiO1xuZ29vZy5kb20uVGFnTmFtZS5XQlIgPSBcIldCUlwiO1xuZ29vZy5kb20udGFncyA9IHt9O1xuZ29vZy5kb20udGFncy5WT0lEX1RBR1NfID0ge2FyZWE6ITAsIGJhc2U6ITAsIGJyOiEwLCBjb2w6ITAsIGNvbW1hbmQ6ITAsIGVtYmVkOiEwLCBocjohMCwgaW1nOiEwLCBpbnB1dDohMCwga2V5Z2VuOiEwLCBsaW5rOiEwLCBtZXRhOiEwLCBwYXJhbTohMCwgc291cmNlOiEwLCB0cmFjazohMCwgd2JyOiEwfTtcbmdvb2cuZG9tLnRhZ3MuaXNWb2lkVGFnID0gZnVuY3Rpb24odGFnTmFtZSkge1xuICByZXR1cm4gITAgPT09IGdvb2cuZG9tLnRhZ3MuVk9JRF9UQUdTX1t0YWdOYW1lXTtcbn07XG5nb29nLmh0bWwgPSB7fTtcbmdvb2cuaHRtbC50cnVzdGVkdHlwZXMgPSB7fTtcbmdvb2cuaHRtbC50cnVzdGVkdHlwZXMuZ2V0UG9saWN5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlID0gZnVuY3Rpb24oKSB7XG4gIGlmICghZ29vZy5UUlVTVEVEX1RZUEVTX1BPTElDWV9OQU1FKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdm9pZCAwID09PSBnb29nLmh0bWwudHJ1c3RlZHR5cGVzLmNhY2hlZFBvbGljeV8gJiYgKGdvb2cuaHRtbC50cnVzdGVkdHlwZXMuY2FjaGVkUG9saWN5XyA9IGdvb2cuY3JlYXRlVHJ1c3RlZFR5cGVzUG9saWN5KGdvb2cuVFJVU1RFRF9UWVBFU19QT0xJQ1lfTkFNRSArIFwiI2h0bWxcIikpO1xuICByZXR1cm4gZ29vZy5odG1sLnRydXN0ZWR0eXBlcy5jYWNoZWRQb2xpY3lfO1xufTtcbmdvb2cuc3RyaW5nLlR5cGVkU3RyaW5nID0gZnVuY3Rpb24oKSB7XG59O1xuZ29vZy5zdHJpbmcuQ29uc3QgPSBmdW5jdGlvbihvcHRfdG9rZW4sIG9wdF9jb250ZW50KSB7XG4gIHRoaXMuc3RyaW5nQ29uc3RWYWx1ZVdpdGhTZWN1cml0eUNvbnRyYWN0X19nb29nU3RyaW5nU2VjdXJpdHlQcml2YXRlXyA9IG9wdF90b2tlbiA9PT0gZ29vZy5zdHJpbmcuQ29uc3QuR09PR19TVFJJTkdfQ09OU1RSVUNUT1JfVE9LRU5fUFJJVkFURV8gJiYgb3B0X2NvbnRlbnQgfHwgXCJcIjtcbiAgdGhpcy5TVFJJTkdfQ09OU1RfVFlQRV9NQVJLRVJfX0dPT0dfU1RSSU5HX1NFQ1VSSVRZX1BSSVZBVEVfID0gZ29vZy5zdHJpbmcuQ29uc3QuVFlQRV9NQVJLRVJfO1xufTtcbmdvb2cuc3RyaW5nLkNvbnN0LnByb3RvdHlwZS5pbXBsZW1lbnRzR29vZ1N0cmluZ1R5cGVkU3RyaW5nID0gITA7XG5nb29nLnN0cmluZy5Db25zdC5wcm90b3R5cGUuZ2V0VHlwZWRTdHJpbmdWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5zdHJpbmdDb25zdFZhbHVlV2l0aFNlY3VyaXR5Q29udHJhY3RfX2dvb2dTdHJpbmdTZWN1cml0eVByaXZhdGVfO1xufTtcbmdvb2cuREVCVUcgJiYgKGdvb2cuc3RyaW5nLkNvbnN0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gXCJDb25zdHtcIiArIHRoaXMuc3RyaW5nQ29uc3RWYWx1ZVdpdGhTZWN1cml0eUNvbnRyYWN0X19nb29nU3RyaW5nU2VjdXJpdHlQcml2YXRlXyArIFwifVwiO1xufSk7XG5nb29nLnN0cmluZy5Db25zdC51bndyYXAgPSBmdW5jdGlvbihzdHJpbmdDb25zdCkge1xuICBpZiAoc3RyaW5nQ29uc3QgaW5zdGFuY2VvZiBnb29nLnN0cmluZy5Db25zdCAmJiBzdHJpbmdDb25zdC5jb25zdHJ1Y3RvciA9PT0gZ29vZy5zdHJpbmcuQ29uc3QgJiYgc3RyaW5nQ29uc3QuU1RSSU5HX0NPTlNUX1RZUEVfTUFSS0VSX19HT09HX1NUUklOR19TRUNVUklUWV9QUklWQVRFXyA9PT0gZ29vZy5zdHJpbmcuQ29uc3QuVFlQRV9NQVJLRVJfKSB7XG4gICAgcmV0dXJuIHN0cmluZ0NvbnN0LnN0cmluZ0NvbnN0VmFsdWVXaXRoU2VjdXJpdHlDb250cmFjdF9fZ29vZ1N0cmluZ1NlY3VyaXR5UHJpdmF0ZV87XG4gIH1cbiAgZ29vZy5hc3NlcnRzLmZhaWwoXCJleHBlY3RlZCBvYmplY3Qgb2YgdHlwZSBDb25zdCwgZ290ICdcIiArIHN0cmluZ0NvbnN0ICsgXCInXCIpO1xuICByZXR1cm4gXCJ0eXBlX2Vycm9yOkNvbnN0XCI7XG59O1xuZ29vZy5zdHJpbmcuQ29uc3QuZnJvbSA9IGZ1bmN0aW9uKHMpIHtcbiAgcmV0dXJuIG5ldyBnb29nLnN0cmluZy5Db25zdChnb29nLnN0cmluZy5Db25zdC5HT09HX1NUUklOR19DT05TVFJVQ1RPUl9UT0tFTl9QUklWQVRFXywgcyk7XG59O1xuZ29vZy5zdHJpbmcuQ29uc3QuVFlQRV9NQVJLRVJfID0ge307XG5nb29nLnN0cmluZy5Db25zdC5HT09HX1NUUklOR19DT05TVFJVQ1RPUl9UT0tFTl9QUklWQVRFXyA9IHt9O1xuZ29vZy5zdHJpbmcuQ29uc3QuRU1QVFkgPSBnb29nLnN0cmluZy5Db25zdC5mcm9tKFwiXCIpO1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVNjcmlwdF9DT05TVFJVQ1RPUl9UT0tFTl9QUklWQVRFID0ge30sIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVNjcmlwdF9TYWZlU2NyaXB0ID0gZnVuY3Rpb24odmFsdWUsIHRva2VuKSB7XG4gIHRoaXMucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlU2FmZVNjcmlwdFdyYXBwZWRWYWx1ZV8gPSB0b2tlbiA9PT0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU2NyaXB0X0NPTlNUUlVDVE9SX1RPS0VOX1BSSVZBVEUgPyB2YWx1ZSA6IFwiXCI7XG4gIHRoaXMuaW1wbGVtZW50c0dvb2dTdHJpbmdUeXBlZFN0cmluZyA9ICEwO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVNjcmlwdF9TYWZlU2NyaXB0LmZyb21Db25zdGFudCA9IGZ1bmN0aW9uKHNjcmlwdCkge1xuICB2YXIgc2NyaXB0U3RyaW5nID0gZ29vZy5zdHJpbmcuQ29uc3QudW53cmFwKHNjcmlwdCk7XG4gIHJldHVybiAwID09PSBzY3JpcHRTdHJpbmcubGVuZ3RoID8gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU2NyaXB0X1NhZmVTY3JpcHQuRU1QVFkgOiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTY3JpcHRfU2FmZVNjcmlwdC5jcmVhdGVTYWZlU2NyaXB0U2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2Uoc2NyaXB0U3RyaW5nKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTY3JpcHRfU2FmZVNjcmlwdC5mcm9tSnNvbiA9IGZ1bmN0aW9uKHZhbCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU2NyaXB0X1NhZmVTY3JpcHQuY3JlYXRlU2FmZVNjcmlwdFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVNjcmlwdF9TYWZlU2NyaXB0LnN0cmluZ2lmeV8odmFsKSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU2NyaXB0X1NhZmVTY3JpcHQucHJvdG90eXBlLmdldFR5cGVkU3RyaW5nVmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlU2FmZVNjcmlwdFdyYXBwZWRWYWx1ZV8udG9TdHJpbmcoKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTY3JpcHRfU2FmZVNjcmlwdC51bndyYXAgPSBmdW5jdGlvbihzYWZlU2NyaXB0KSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTY3JpcHRfU2FmZVNjcmlwdC51bndyYXBUcnVzdGVkU2NyaXB0KHNhZmVTY3JpcHQpLnRvU3RyaW5nKCk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU2NyaXB0X1NhZmVTY3JpcHQudW53cmFwVHJ1c3RlZFNjcmlwdCA9IGZ1bmN0aW9uKHNhZmVTY3JpcHQpIHtcbiAgaWYgKHNhZmVTY3JpcHQgaW5zdGFuY2VvZiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTY3JpcHRfU2FmZVNjcmlwdCAmJiBzYWZlU2NyaXB0LmNvbnN0cnVjdG9yID09PSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTY3JpcHRfU2FmZVNjcmlwdCkge1xuICAgIHJldHVybiBzYWZlU2NyaXB0LnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVNhZmVTY3JpcHRXcmFwcGVkVmFsdWVfO1xuICB9XG4gICgwLGdvb2cuYXNzZXJ0cy5mYWlsKShcImV4cGVjdGVkIG9iamVjdCBvZiB0eXBlIFNhZmVTY3JpcHQsIGdvdCAnXCIgKyBzYWZlU2NyaXB0ICsgXCInIG9mIHR5cGUgXCIgKyBnb29nLnR5cGVPZihzYWZlU2NyaXB0KSk7XG4gIHJldHVybiBcInR5cGVfZXJyb3I6U2FmZVNjcmlwdFwiO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVNjcmlwdF9TYWZlU2NyaXB0LnN0cmluZ2lmeV8gPSBmdW5jdGlvbih2YWwpIHtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbCkucmVwbGFjZSgvPC9nLCBcIlxcXFx4M2NcIik7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU2NyaXB0X1NhZmVTY3JpcHQuY3JlYXRlU2FmZVNjcmlwdFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlID0gZnVuY3Rpb24oc2NyaXB0KSB7XG4gIHZhciBwb2xpY3kgPSBnb29nLmh0bWwudHJ1c3RlZHR5cGVzLmdldFBvbGljeVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZSgpLCB0cnVzdGVkU2NyaXB0ID0gcG9saWN5ID8gcG9saWN5LmNyZWF0ZVNjcmlwdChzY3JpcHQpIDogc2NyaXB0O1xuICByZXR1cm4gbmV3IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVNjcmlwdF9TYWZlU2NyaXB0KHRydXN0ZWRTY3JpcHQsIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVNjcmlwdF9DT05TVFJVQ1RPUl9UT0tFTl9QUklWQVRFKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTY3JpcHRfU2FmZVNjcmlwdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlU2FmZVNjcmlwdFdyYXBwZWRWYWx1ZV8udG9TdHJpbmcoKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTY3JpcHRfU2FmZVNjcmlwdC5FTVBUWSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU2NyaXB0X1NhZmVTY3JpcHQuY3JlYXRlU2FmZVNjcmlwdFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKFwiXCIpO1xufSgpO1xuZ29vZy5odG1sLlNhZmVTY3JpcHQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTY3JpcHRfU2FmZVNjcmlwdDtcbmdvb2cuZnMgPSB7fTtcbmdvb2cuZnMudXJsID0ge307XG5nb29nLmZzLnVybC5jcmVhdGVPYmplY3RVcmwgPSBmdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIGdvb2cuZnMudXJsLmdldFVybE9iamVjdF8oKS5jcmVhdGVPYmplY3RVUkwob2JqKTtcbn07XG5nb29nLmZzLnVybC5yZXZva2VPYmplY3RVcmwgPSBmdW5jdGlvbih1cmwpIHtcbiAgZ29vZy5mcy51cmwuZ2V0VXJsT2JqZWN0XygpLnJldm9rZU9iamVjdFVSTCh1cmwpO1xufTtcbmdvb2cuZnMudXJsLlVybE9iamVjdF8gPSBmdW5jdGlvbigpIHtcbn07XG5nb29nLmZzLnVybC5VcmxPYmplY3RfLnByb3RvdHlwZS5jcmVhdGVPYmplY3RVUkwgPSBmdW5jdGlvbihhcmcpIHtcbn07XG5nb29nLmZzLnVybC5VcmxPYmplY3RfLnByb3RvdHlwZS5yZXZva2VPYmplY3RVUkwgPSBmdW5jdGlvbihzKSB7XG59O1xuZ29vZy5mcy51cmwuZ2V0VXJsT2JqZWN0XyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgdXJsT2JqZWN0ID0gZ29vZy5mcy51cmwuZmluZFVybE9iamVjdF8oKTtcbiAgaWYgKG51bGwgIT0gdXJsT2JqZWN0KSB7XG4gICAgcmV0dXJuIHVybE9iamVjdDtcbiAgfVxuICB0aHJvdyBFcnJvcihcIlRoaXMgYnJvd3NlciBkb2Vzbid0IHNlZW0gdG8gc3VwcG9ydCBibG9iIFVSTHNcIik7XG59O1xuZ29vZy5mcy51cmwuZmluZFVybE9iamVjdF8gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHZvaWQgMCAhPT0gZ29vZy5nbG9iYWwuVVJMICYmIHZvaWQgMCAhPT0gZ29vZy5nbG9iYWwuVVJMLmNyZWF0ZU9iamVjdFVSTCA/IGdvb2cuZ2xvYmFsLlVSTCA6IHZvaWQgMCAhPT0gZ29vZy5nbG9iYWwuY3JlYXRlT2JqZWN0VVJMID8gZ29vZy5nbG9iYWwgOiBudWxsO1xufTtcbmdvb2cuZnMudXJsLmJyb3dzZXJTdXBwb3J0c09iamVjdFVybHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG51bGwgIT0gZ29vZy5mcy51cmwuZmluZFVybE9iamVjdF8oKTtcbn07XG5nb29nLmZzLmJsb2IgPSB7fTtcbmdvb2cuZnMuYmxvYi5nZXRCbG9iID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgdmFyIEJsb2JCdWlsZGVyID0gZ29vZy5nbG9iYWwuQmxvYkJ1aWxkZXIgfHwgZ29vZy5nbG9iYWwuV2ViS2l0QmxvYkJ1aWxkZXI7XG4gIGlmICh2b2lkIDAgIT09IEJsb2JCdWlsZGVyKSB7XG4gICAgZm9yICh2YXIgYmIgPSBuZXcgQmxvYkJ1aWxkZXIoKSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGJiLmFwcGVuZChhcmd1bWVudHNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gYmIuZ2V0QmxvYigpO1xuICB9XG4gIHJldHVybiBnb29nLmZzLmJsb2IuZ2V0QmxvYldpdGhQcm9wZXJ0aWVzKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xufTtcbmdvb2cuZnMuYmxvYi5nZXRCbG9iV2l0aFByb3BlcnRpZXMgPSBmdW5jdGlvbihwYXJ0cywgb3B0X3R5cGUsIG9wdF9lbmRpbmdzKSB7XG4gIHZhciBCbG9iQnVpbGRlciA9IGdvb2cuZ2xvYmFsLkJsb2JCdWlsZGVyIHx8IGdvb2cuZ2xvYmFsLldlYktpdEJsb2JCdWlsZGVyO1xuICBpZiAodm9pZCAwICE9PSBCbG9iQnVpbGRlcikge1xuICAgIGZvciAodmFyIGJiID0gbmV3IEJsb2JCdWlsZGVyKCksIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGJiLmFwcGVuZChwYXJ0c1tpXSwgb3B0X2VuZGluZ3MpO1xuICAgIH1cbiAgICByZXR1cm4gYmIuZ2V0QmxvYihvcHRfdHlwZSk7XG4gIH1cbiAgaWYgKHZvaWQgMCAhPT0gZ29vZy5nbG9iYWwuQmxvYikge1xuICAgIHZhciBwcm9wZXJ0aWVzID0ge307XG4gICAgb3B0X3R5cGUgJiYgKHByb3BlcnRpZXMudHlwZSA9IG9wdF90eXBlKTtcbiAgICBvcHRfZW5kaW5ncyAmJiAocHJvcGVydGllcy5lbmRpbmdzID0gb3B0X2VuZGluZ3MpO1xuICAgIHJldHVybiBuZXcgQmxvYihwYXJ0cywgcHJvcGVydGllcyk7XG4gIH1cbiAgdGhyb3cgRXJyb3IoXCJUaGlzIGJyb3dzZXIgZG9lc24ndCBzZWVtIHRvIHN1cHBvcnQgY3JlYXRpbmcgQmxvYnNcIik7XG59O1xuZ29vZy5pMThuID0ge307XG5nb29nLmkxOG4uYmlkaSA9IHt9O1xuZ29vZy5pMThuLmJpZGkuRk9SQ0VfUlRMID0gITE7XG5nb29nLmkxOG4uYmlkaS5JU19SVEwgPSBnb29nLmkxOG4uYmlkaS5GT1JDRV9SVEwgfHwgKFwiYXJcIiA9PSBnb29nLkxPQ0FMRS5zdWJzdHJpbmcoMCwgMikudG9Mb3dlckNhc2UoKSB8fCBcImZhXCIgPT0gZ29vZy5MT0NBTEUuc3Vic3RyaW5nKDAsIDIpLnRvTG93ZXJDYXNlKCkgfHwgXCJoZVwiID09IGdvb2cuTE9DQUxFLnN1YnN0cmluZygwLCAyKS50b0xvd2VyQ2FzZSgpIHx8IFwiaXdcIiA9PSBnb29nLkxPQ0FMRS5zdWJzdHJpbmcoMCwgMikudG9Mb3dlckNhc2UoKSB8fCBcInBzXCIgPT0gZ29vZy5MT0NBTEUuc3Vic3RyaW5nKDAsIDIpLnRvTG93ZXJDYXNlKCkgfHwgXCJzZFwiID09IGdvb2cuTE9DQUxFLnN1YnN0cmluZygwLCAyKS50b0xvd2VyQ2FzZSgpIHx8IFwidWdcIiA9PSBnb29nLkxPQ0FMRS5zdWJzdHJpbmcoMCwgMikudG9Mb3dlckNhc2UoKSB8fCBcInVyXCIgPT0gZ29vZy5MT0NBTEUuc3Vic3RyaW5nKDAsIDIpLnRvTG93ZXJDYXNlKCkgfHwgXCJ5aVwiID09IGdvb2cuTE9DQUxFLnN1YnN0cmluZygwLCBcbjIpLnRvTG93ZXJDYXNlKCkpICYmICgyID09IGdvb2cuTE9DQUxFLmxlbmd0aCB8fCBcIi1cIiA9PSBnb29nLkxPQ0FMRS5zdWJzdHJpbmcoMiwgMykgfHwgXCJfXCIgPT0gZ29vZy5MT0NBTEUuc3Vic3RyaW5nKDIsIDMpKSB8fCAzIDw9IGdvb2cuTE9DQUxFLmxlbmd0aCAmJiBcImNrYlwiID09IGdvb2cuTE9DQUxFLnN1YnN0cmluZygwLCAzKS50b0xvd2VyQ2FzZSgpICYmICgzID09IGdvb2cuTE9DQUxFLmxlbmd0aCB8fCBcIi1cIiA9PSBnb29nLkxPQ0FMRS5zdWJzdHJpbmcoMywgNCkgfHwgXCJfXCIgPT0gZ29vZy5MT0NBTEUuc3Vic3RyaW5nKDMsIDQpKSB8fCA3IDw9IGdvb2cuTE9DQUxFLmxlbmd0aCAmJiAoXCItXCIgPT0gZ29vZy5MT0NBTEUuc3Vic3RyaW5nKDIsIDMpIHx8IFwiX1wiID09IGdvb2cuTE9DQUxFLnN1YnN0cmluZygyLCAzKSkgJiYgKFwiYWRsbVwiID09IGdvb2cuTE9DQUxFLnN1YnN0cmluZygzLCA3KS50b0xvd2VyQ2FzZSgpIHx8IFwiYXJhYlwiID09IGdvb2cuTE9DQUxFLnN1YnN0cmluZygzLCBcbjcpLnRvTG93ZXJDYXNlKCkgfHwgXCJoZWJyXCIgPT0gZ29vZy5MT0NBTEUuc3Vic3RyaW5nKDMsIDcpLnRvTG93ZXJDYXNlKCkgfHwgXCJua29vXCIgPT0gZ29vZy5MT0NBTEUuc3Vic3RyaW5nKDMsIDcpLnRvTG93ZXJDYXNlKCkgfHwgXCJyb2hnXCIgPT0gZ29vZy5MT0NBTEUuc3Vic3RyaW5nKDMsIDcpLnRvTG93ZXJDYXNlKCkgfHwgXCJ0aGFhXCIgPT0gZ29vZy5MT0NBTEUuc3Vic3RyaW5nKDMsIDcpLnRvTG93ZXJDYXNlKCkpIHx8IDggPD0gZ29vZy5MT0NBTEUubGVuZ3RoICYmIChcIi1cIiA9PSBnb29nLkxPQ0FMRS5zdWJzdHJpbmcoMywgNCkgfHwgXCJfXCIgPT0gZ29vZy5MT0NBTEUuc3Vic3RyaW5nKDMsIDQpKSAmJiAoXCJhZGxtXCIgPT0gZ29vZy5MT0NBTEUuc3Vic3RyaW5nKDQsIDgpLnRvTG93ZXJDYXNlKCkgfHwgXCJhcmFiXCIgPT0gZ29vZy5MT0NBTEUuc3Vic3RyaW5nKDQsIDgpLnRvTG93ZXJDYXNlKCkgfHwgXCJoZWJyXCIgPT0gZ29vZy5MT0NBTEUuc3Vic3RyaW5nKDQsIDgpLnRvTG93ZXJDYXNlKCkgfHwgXG5cIm5rb29cIiA9PSBnb29nLkxPQ0FMRS5zdWJzdHJpbmcoNCwgOCkudG9Mb3dlckNhc2UoKSB8fCBcInJvaGdcIiA9PSBnb29nLkxPQ0FMRS5zdWJzdHJpbmcoNCwgOCkudG9Mb3dlckNhc2UoKSB8fCBcInRoYWFcIiA9PSBnb29nLkxPQ0FMRS5zdWJzdHJpbmcoNCwgOCkudG9Mb3dlckNhc2UoKSk7XG5nb29nLmkxOG4uYmlkaS5Gb3JtYXQgPSB7TFJFOlwiXFx1MjAyYVwiLCBSTEU6XCJcXHUyMDJiXCIsIFBERjpcIlxcdTIwMmNcIiwgTFJNOlwiXFx1MjAwZVwiLCBSTE06XCJcXHUyMDBmXCJ9O1xuZ29vZy5pMThuLmJpZGkuRGlyID0ge0xUUjoxLCBSVEw6LTEsIE5FVVRSQUw6MH07XG5nb29nLmkxOG4uYmlkaS5SSUdIVCA9IFwicmlnaHRcIjtcbmdvb2cuaTE4bi5iaWRpLkxFRlQgPSBcImxlZnRcIjtcbmdvb2cuaTE4bi5iaWRpLkkxOE5fUklHSFQgPSBnb29nLmkxOG4uYmlkaS5JU19SVEwgPyBnb29nLmkxOG4uYmlkaS5MRUZUIDogZ29vZy5pMThuLmJpZGkuUklHSFQ7XG5nb29nLmkxOG4uYmlkaS5JMThOX0xFRlQgPSBnb29nLmkxOG4uYmlkaS5JU19SVEwgPyBnb29nLmkxOG4uYmlkaS5SSUdIVCA6IGdvb2cuaTE4bi5iaWRpLkxFRlQ7XG5nb29nLmkxOG4uYmlkaS50b0RpciA9IGZ1bmN0aW9uKGdpdmVuRGlyLCBvcHRfbm9OZXV0cmFsKSB7XG4gIHJldHVybiBcIm51bWJlclwiID09IHR5cGVvZiBnaXZlbkRpciA/IDAgPCBnaXZlbkRpciA/IGdvb2cuaTE4bi5iaWRpLkRpci5MVFIgOiAwID4gZ2l2ZW5EaXIgPyBnb29nLmkxOG4uYmlkaS5EaXIuUlRMIDogb3B0X25vTmV1dHJhbCA/IG51bGwgOiBnb29nLmkxOG4uYmlkaS5EaXIuTkVVVFJBTCA6IG51bGwgPT0gZ2l2ZW5EaXIgPyBudWxsIDogZ2l2ZW5EaXIgPyBnb29nLmkxOG4uYmlkaS5EaXIuUlRMIDogZ29vZy5pMThuLmJpZGkuRGlyLkxUUjtcbn07XG5nb29nLmkxOG4uYmlkaS5sdHJDaGFyc18gPSBcIkEtWmEtelxcdTAwYzAtXFx1MDBkNlxcdTAwZDgtXFx1MDBmNlxcdTAwZjgtXFx1MDJiOFxcdTAzMDAtXFx1MDU5MFxcdTA5MDAtXFx1MWZmZlxcdTIwMGVcXHUyYzAwLVxcdWQ4MDFcXHVkODA0LVxcdWQ4MzlcXHVkODNjLVxcdWRiZmZcXHVmOTAwLVxcdWZiMWNcXHVmZTAwLVxcdWZlNmZcXHVmZWZkLVxcdWZmZmZcIjtcbmdvb2cuaTE4bi5iaWRpLnJ0bENoYXJzXyA9IFwiXFx1MDU5MS1cXHUwNmVmXFx1MDZmYS1cXHUwOGZmXFx1MjAwZlxcdWQ4MDItXFx1ZDgwM1xcdWQ4M2EtXFx1ZDgzYlxcdWZiMWQtXFx1ZmRmZlxcdWZlNzAtXFx1ZmVmY1wiO1xuZ29vZy5pMThuLmJpZGkuaHRtbFNraXBSZWdfID0gLzxbXj5dKj58JlteO10rOy9nO1xuZ29vZy5pMThuLmJpZGkuc3RyaXBIdG1sSWZOZWVkZWRfID0gZnVuY3Rpb24oc3RyLCBvcHRfaXNTdHJpcE5lZWRlZCkge1xuICByZXR1cm4gb3B0X2lzU3RyaXBOZWVkZWQgPyBzdHIucmVwbGFjZShnb29nLmkxOG4uYmlkaS5odG1sU2tpcFJlZ18sIFwiXCIpIDogc3RyO1xufTtcbmdvb2cuaTE4bi5iaWRpLnJ0bENoYXJSZWdfID0gbmV3IFJlZ0V4cChcIltcIiArIGdvb2cuaTE4bi5iaWRpLnJ0bENoYXJzXyArIFwiXVwiKTtcbmdvb2cuaTE4bi5iaWRpLmx0ckNoYXJSZWdfID0gbmV3IFJlZ0V4cChcIltcIiArIGdvb2cuaTE4bi5iaWRpLmx0ckNoYXJzXyArIFwiXVwiKTtcbmdvb2cuaTE4bi5iaWRpLmhhc0FueVJ0bCA9IGZ1bmN0aW9uKHN0ciwgb3B0X2lzSHRtbCkge1xuICByZXR1cm4gZ29vZy5pMThuLmJpZGkucnRsQ2hhclJlZ18udGVzdChnb29nLmkxOG4uYmlkaS5zdHJpcEh0bWxJZk5lZWRlZF8oc3RyLCBvcHRfaXNIdG1sKSk7XG59O1xuZ29vZy5pMThuLmJpZGkuaGFzUnRsQ2hhciA9IGdvb2cuaTE4bi5iaWRpLmhhc0FueVJ0bDtcbmdvb2cuaTE4bi5iaWRpLmhhc0FueUx0ciA9IGZ1bmN0aW9uKHN0ciwgb3B0X2lzSHRtbCkge1xuICByZXR1cm4gZ29vZy5pMThuLmJpZGkubHRyQ2hhclJlZ18udGVzdChnb29nLmkxOG4uYmlkaS5zdHJpcEh0bWxJZk5lZWRlZF8oc3RyLCBvcHRfaXNIdG1sKSk7XG59O1xuZ29vZy5pMThuLmJpZGkubHRyUmVfID0gbmV3IFJlZ0V4cChcIl5bXCIgKyBnb29nLmkxOG4uYmlkaS5sdHJDaGFyc18gKyBcIl1cIik7XG5nb29nLmkxOG4uYmlkaS5ydGxSZV8gPSBuZXcgUmVnRXhwKFwiXltcIiArIGdvb2cuaTE4bi5iaWRpLnJ0bENoYXJzXyArIFwiXVwiKTtcbmdvb2cuaTE4bi5iaWRpLmlzUnRsQ2hhciA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gZ29vZy5pMThuLmJpZGkucnRsUmVfLnRlc3Qoc3RyKTtcbn07XG5nb29nLmkxOG4uYmlkaS5pc0x0ckNoYXIgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIGdvb2cuaTE4bi5iaWRpLmx0clJlXy50ZXN0KHN0cik7XG59O1xuZ29vZy5pMThuLmJpZGkuaXNOZXV0cmFsQ2hhciA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gIWdvb2cuaTE4bi5iaWRpLmlzTHRyQ2hhcihzdHIpICYmICFnb29nLmkxOG4uYmlkaS5pc1J0bENoYXIoc3RyKTtcbn07XG5nb29nLmkxOG4uYmlkaS5sdHJEaXJDaGVja1JlXyA9IG5ldyBSZWdFeHAoXCJeW15cIiArIGdvb2cuaTE4bi5iaWRpLnJ0bENoYXJzXyArIFwiXSpbXCIgKyBnb29nLmkxOG4uYmlkaS5sdHJDaGFyc18gKyBcIl1cIik7XG5nb29nLmkxOG4uYmlkaS5ydGxEaXJDaGVja1JlXyA9IG5ldyBSZWdFeHAoXCJeW15cIiArIGdvb2cuaTE4bi5iaWRpLmx0ckNoYXJzXyArIFwiXSpbXCIgKyBnb29nLmkxOG4uYmlkaS5ydGxDaGFyc18gKyBcIl1cIik7XG5nb29nLmkxOG4uYmlkaS5zdGFydHNXaXRoUnRsID0gZnVuY3Rpb24oc3RyLCBvcHRfaXNIdG1sKSB7XG4gIHJldHVybiBnb29nLmkxOG4uYmlkaS5ydGxEaXJDaGVja1JlXy50ZXN0KGdvb2cuaTE4bi5iaWRpLnN0cmlwSHRtbElmTmVlZGVkXyhzdHIsIG9wdF9pc0h0bWwpKTtcbn07XG5nb29nLmkxOG4uYmlkaS5pc1J0bFRleHQgPSBnb29nLmkxOG4uYmlkaS5zdGFydHNXaXRoUnRsO1xuZ29vZy5pMThuLmJpZGkuc3RhcnRzV2l0aEx0ciA9IGZ1bmN0aW9uKHN0ciwgb3B0X2lzSHRtbCkge1xuICByZXR1cm4gZ29vZy5pMThuLmJpZGkubHRyRGlyQ2hlY2tSZV8udGVzdChnb29nLmkxOG4uYmlkaS5zdHJpcEh0bWxJZk5lZWRlZF8oc3RyLCBvcHRfaXNIdG1sKSk7XG59O1xuZ29vZy5pMThuLmJpZGkuaXNMdHJUZXh0ID0gZ29vZy5pMThuLmJpZGkuc3RhcnRzV2l0aEx0cjtcbmdvb2cuaTE4bi5iaWRpLmlzUmVxdWlyZWRMdHJSZV8gPSAvXmh0dHA6XFwvXFwvLiovO1xuZ29vZy5pMThuLmJpZGkuaXNOZXV0cmFsVGV4dCA9IGZ1bmN0aW9uKHN0ciwgb3B0X2lzSHRtbCkge1xuICBzdHIgPSBnb29nLmkxOG4uYmlkaS5zdHJpcEh0bWxJZk5lZWRlZF8oc3RyLCBvcHRfaXNIdG1sKTtcbiAgcmV0dXJuIGdvb2cuaTE4bi5iaWRpLmlzUmVxdWlyZWRMdHJSZV8udGVzdChzdHIpIHx8ICFnb29nLmkxOG4uYmlkaS5oYXNBbnlMdHIoc3RyKSAmJiAhZ29vZy5pMThuLmJpZGkuaGFzQW55UnRsKHN0cik7XG59O1xuZ29vZy5pMThuLmJpZGkubHRyRXhpdERpckNoZWNrUmVfID0gbmV3IFJlZ0V4cChcIltcIiArIGdvb2cuaTE4bi5iaWRpLmx0ckNoYXJzXyArIFwiXVteXCIgKyBnb29nLmkxOG4uYmlkaS5ydGxDaGFyc18gKyBcIl0qJFwiKTtcbmdvb2cuaTE4bi5iaWRpLnJ0bEV4aXREaXJDaGVja1JlXyA9IG5ldyBSZWdFeHAoXCJbXCIgKyBnb29nLmkxOG4uYmlkaS5ydGxDaGFyc18gKyBcIl1bXlwiICsgZ29vZy5pMThuLmJpZGkubHRyQ2hhcnNfICsgXCJdKiRcIik7XG5nb29nLmkxOG4uYmlkaS5lbmRzV2l0aEx0ciA9IGZ1bmN0aW9uKHN0ciwgb3B0X2lzSHRtbCkge1xuICByZXR1cm4gZ29vZy5pMThuLmJpZGkubHRyRXhpdERpckNoZWNrUmVfLnRlc3QoZ29vZy5pMThuLmJpZGkuc3RyaXBIdG1sSWZOZWVkZWRfKHN0ciwgb3B0X2lzSHRtbCkpO1xufTtcbmdvb2cuaTE4bi5iaWRpLmlzTHRyRXhpdFRleHQgPSBnb29nLmkxOG4uYmlkaS5lbmRzV2l0aEx0cjtcbmdvb2cuaTE4bi5iaWRpLmVuZHNXaXRoUnRsID0gZnVuY3Rpb24oc3RyLCBvcHRfaXNIdG1sKSB7XG4gIHJldHVybiBnb29nLmkxOG4uYmlkaS5ydGxFeGl0RGlyQ2hlY2tSZV8udGVzdChnb29nLmkxOG4uYmlkaS5zdHJpcEh0bWxJZk5lZWRlZF8oc3RyLCBvcHRfaXNIdG1sKSk7XG59O1xuZ29vZy5pMThuLmJpZGkuaXNSdGxFeGl0VGV4dCA9IGdvb2cuaTE4bi5iaWRpLmVuZHNXaXRoUnRsO1xuZ29vZy5pMThuLmJpZGkucnRsTG9jYWxlc1JlXyA9IFJlZ0V4cChcIl4oYXJ8Y2tifGR2fGhlfGl3fGZhfG5xb3xwc3xzZHx1Z3x1cnx5aXwuKlstX10oQWRsbXxBcmFifEhlYnJ8Tmtvb3xSb2hnfFRoYWEpKSg/IS4qWy1fXShMYXRufEN5cmwpKCR8LXxfKSkoJHwtfF8pXCIsIFwiaVwiKTtcbmdvb2cuaTE4bi5iaWRpLmlzUnRsTGFuZ3VhZ2UgPSBmdW5jdGlvbihsYW5nKSB7XG4gIHJldHVybiBnb29nLmkxOG4uYmlkaS5ydGxMb2NhbGVzUmVfLnRlc3QobGFuZyk7XG59O1xuZ29vZy5pMThuLmJpZGkuYnJhY2tldEd1YXJkVGV4dFJlXyA9IC8oXFwoLio/XFwpKyl8KFxcWy4qP1xcXSspfChcXHsuKj9cXH0rKXwoPC4qPz4rKS9nO1xuZ29vZy5pMThuLmJpZGkuZ3VhcmRCcmFja2V0SW5UZXh0ID0gZnVuY3Rpb24ocywgb3B0X2lzUnRsQ29udGV4dCkge1xuICB2YXIgbWFyayA9ICh2b2lkIDAgPT09IG9wdF9pc1J0bENvbnRleHQgPyBnb29nLmkxOG4uYmlkaS5oYXNBbnlSdGwocykgOiBvcHRfaXNSdGxDb250ZXh0KSA/IGdvb2cuaTE4bi5iaWRpLkZvcm1hdC5STE0gOiBnb29nLmkxOG4uYmlkaS5Gb3JtYXQuTFJNO1xuICByZXR1cm4gcy5yZXBsYWNlKGdvb2cuaTE4bi5iaWRpLmJyYWNrZXRHdWFyZFRleHRSZV8sIG1hcmsgKyBcIiQmXCIgKyBtYXJrKTtcbn07XG5nb29nLmkxOG4uYmlkaS5lbmZvcmNlUnRsSW5IdG1sID0gZnVuY3Rpb24oaHRtbCkge1xuICByZXR1cm4gXCI8XCIgPT0gaHRtbC5jaGFyQXQoMCkgPyBodG1sLnJlcGxhY2UoLzxcXHcrLywgXCIkJiBkaXI9cnRsXCIpIDogXCJcXG48c3BhbiBkaXI9cnRsPlwiICsgaHRtbCArIFwiPC9zcGFuPlwiO1xufTtcbmdvb2cuaTE4bi5iaWRpLmVuZm9yY2VSdGxJblRleHQgPSBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiBnb29nLmkxOG4uYmlkaS5Gb3JtYXQuUkxFICsgdGV4dCArIGdvb2cuaTE4bi5iaWRpLkZvcm1hdC5QREY7XG59O1xuZ29vZy5pMThuLmJpZGkuZW5mb3JjZUx0ckluSHRtbCA9IGZ1bmN0aW9uKGh0bWwpIHtcbiAgcmV0dXJuIFwiPFwiID09IGh0bWwuY2hhckF0KDApID8gaHRtbC5yZXBsYWNlKC88XFx3Ky8sIFwiJCYgZGlyPWx0clwiKSA6IFwiXFxuPHNwYW4gZGlyPWx0cj5cIiArIGh0bWwgKyBcIjwvc3Bhbj5cIjtcbn07XG5nb29nLmkxOG4uYmlkaS5lbmZvcmNlTHRySW5UZXh0ID0gZnVuY3Rpb24odGV4dCkge1xuICByZXR1cm4gZ29vZy5pMThuLmJpZGkuRm9ybWF0LkxSRSArIHRleHQgKyBnb29nLmkxOG4uYmlkaS5Gb3JtYXQuUERGO1xufTtcbmdvb2cuaTE4bi5iaWRpLmRpbWVuc2lvbnNSZV8gPSAvOlxccyooWy5cXGRdWy5cXHddKilcXHMrKFsuXFxkXVsuXFx3XSopXFxzKyhbLlxcZF1bLlxcd10qKVxccysoWy5cXGRdWy5cXHddKikvZztcbmdvb2cuaTE4bi5iaWRpLmxlZnRSZV8gPSAvbGVmdC9naTtcbmdvb2cuaTE4bi5iaWRpLnJpZ2h0UmVfID0gL3JpZ2h0L2dpO1xuZ29vZy5pMThuLmJpZGkudGVtcFJlXyA9IC8lJSUlL2c7XG5nb29nLmkxOG4uYmlkaS5taXJyb3JDU1MgPSBmdW5jdGlvbihjc3NTdHIpIHtcbiAgcmV0dXJuIGNzc1N0ci5yZXBsYWNlKGdvb2cuaTE4bi5iaWRpLmRpbWVuc2lvbnNSZV8sIFwiOiQxICQ0ICQzICQyXCIpLnJlcGxhY2UoZ29vZy5pMThuLmJpZGkubGVmdFJlXywgXCIlJSUlXCIpLnJlcGxhY2UoZ29vZy5pMThuLmJpZGkucmlnaHRSZV8sIGdvb2cuaTE4bi5iaWRpLkxFRlQpLnJlcGxhY2UoZ29vZy5pMThuLmJpZGkudGVtcFJlXywgZ29vZy5pMThuLmJpZGkuUklHSFQpO1xufTtcbmdvb2cuaTE4bi5iaWRpLmRvdWJsZVF1b3RlU3Vic3RpdHV0ZVJlXyA9IC8oW1xcdTA1OTEtXFx1MDVmMl0pXCIvZztcbmdvb2cuaTE4bi5iaWRpLnNpbmdsZVF1b3RlU3Vic3RpdHV0ZVJlXyA9IC8oW1xcdTA1OTEtXFx1MDVmMl0pJy9nO1xuZ29vZy5pMThuLmJpZGkubm9ybWFsaXplSGVicmV3UXVvdGUgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKGdvb2cuaTE4bi5iaWRpLmRvdWJsZVF1b3RlU3Vic3RpdHV0ZVJlXywgXCIkMVxcdTA1ZjRcIikucmVwbGFjZShnb29nLmkxOG4uYmlkaS5zaW5nbGVRdW90ZVN1YnN0aXR1dGVSZV8sIFwiJDFcXHUwNWYzXCIpO1xufTtcbmdvb2cuaTE4bi5iaWRpLndvcmRTZXBhcmF0b3JSZV8gPSAvXFxzKy87XG5nb29nLmkxOG4uYmlkaS5oYXNOdW1lcmFsc1JlXyA9IC9bXFxkXFx1MDZmMC1cXHUwNmY5XS87XG5nb29nLmkxOG4uYmlkaS5ydGxEZXRlY3Rpb25UaHJlc2hvbGRfID0gMC40MDtcbmdvb2cuaTE4bi5iaWRpLmVzdGltYXRlRGlyZWN0aW9uID0gZnVuY3Rpb24oc3RyLCBvcHRfaXNIdG1sKSB7XG4gIGZvciAodmFyIHJ0bENvdW50ID0gMCwgdG90YWxDb3VudCA9IDAsIGhhc1dlYWtseUx0ciA9ICExLCB0b2tlbnMgPSBnb29nLmkxOG4uYmlkaS5zdHJpcEh0bWxJZk5lZWRlZF8oc3RyLCBvcHRfaXNIdG1sKS5zcGxpdChnb29nLmkxOG4uYmlkaS53b3JkU2VwYXJhdG9yUmVfKSwgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdG9rZW4gPSB0b2tlbnNbaV07XG4gICAgZ29vZy5pMThuLmJpZGkuc3RhcnRzV2l0aFJ0bCh0b2tlbikgPyAocnRsQ291bnQrKywgdG90YWxDb3VudCsrKSA6IGdvb2cuaTE4bi5iaWRpLmlzUmVxdWlyZWRMdHJSZV8udGVzdCh0b2tlbikgPyBoYXNXZWFrbHlMdHIgPSAhMCA6IGdvb2cuaTE4bi5iaWRpLmhhc0FueUx0cih0b2tlbikgPyB0b3RhbENvdW50KysgOiBnb29nLmkxOG4uYmlkaS5oYXNOdW1lcmFsc1JlXy50ZXN0KHRva2VuKSAmJiAoaGFzV2Vha2x5THRyID0gITApO1xuICB9XG4gIHJldHVybiAwID09IHRvdGFsQ291bnQgPyBoYXNXZWFrbHlMdHIgPyBnb29nLmkxOG4uYmlkaS5EaXIuTFRSIDogZ29vZy5pMThuLmJpZGkuRGlyLk5FVVRSQUwgOiBydGxDb3VudCAvIHRvdGFsQ291bnQgPiBnb29nLmkxOG4uYmlkaS5ydGxEZXRlY3Rpb25UaHJlc2hvbGRfID8gZ29vZy5pMThuLmJpZGkuRGlyLlJUTCA6IGdvb2cuaTE4bi5iaWRpLkRpci5MVFI7XG59O1xuZ29vZy5pMThuLmJpZGkuZGV0ZWN0UnRsRGlyZWN0aW9uYWxpdHkgPSBmdW5jdGlvbihzdHIsIG9wdF9pc0h0bWwpIHtcbiAgcmV0dXJuIGdvb2cuaTE4bi5iaWRpLmVzdGltYXRlRGlyZWN0aW9uKHN0ciwgb3B0X2lzSHRtbCkgPT0gZ29vZy5pMThuLmJpZGkuRGlyLlJUTDtcbn07XG5nb29nLmkxOG4uYmlkaS5zZXRFbGVtZW50RGlyQW5kQWxpZ24gPSBmdW5jdGlvbihlbGVtZW50LCBkaXIpIHtcbiAgZWxlbWVudCAmJiAoZGlyID0gZ29vZy5pMThuLmJpZGkudG9EaXIoZGlyKSkgJiYgKGVsZW1lbnQuc3R5bGUudGV4dEFsaWduID0gZGlyID09IGdvb2cuaTE4bi5iaWRpLkRpci5SVEwgPyBnb29nLmkxOG4uYmlkaS5SSUdIVCA6IGdvb2cuaTE4bi5iaWRpLkxFRlQsIGVsZW1lbnQuZGlyID0gZGlyID09IGdvb2cuaTE4bi5iaWRpLkRpci5SVEwgPyBcInJ0bFwiIDogXCJsdHJcIik7XG59O1xuZ29vZy5pMThuLmJpZGkuc2V0RWxlbWVudERpckJ5VGV4dERpcmVjdGlvbmFsaXR5ID0gZnVuY3Rpb24oZWxlbWVudCwgdGV4dCkge1xuICBzd2l0Y2goZ29vZy5pMThuLmJpZGkuZXN0aW1hdGVEaXJlY3Rpb24odGV4dCkpIHtcbiAgICBjYXNlIGdvb2cuaTE4bi5iaWRpLkRpci5MVFI6XG4gICAgICBcImx0clwiICE9PSBlbGVtZW50LmRpciAmJiAoZWxlbWVudC5kaXIgPSBcImx0clwiKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgZ29vZy5pMThuLmJpZGkuRGlyLlJUTDpcbiAgICAgIFwicnRsXCIgIT09IGVsZW1lbnQuZGlyICYmIChlbGVtZW50LmRpciA9IFwicnRsXCIpO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwiZGlyXCIpO1xuICB9XG59O1xuZ29vZy5pMThuLmJpZGkuRGlyZWN0aW9uYWxTdHJpbmcgPSBmdW5jdGlvbigpIHtcbn07XG5nb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsID0gZnVuY3Rpb24odmFsdWUsIHRva2VuKSB7XG4gIHRoaXMucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlVHJ1c3RlZFJlc291cmNlVXJsV3JhcHBlZFZhbHVlXyA9IHRva2VuID09PSBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLkNPTlNUUlVDVE9SX1RPS0VOX1BSSVZBVEVfID8gdmFsdWUgOiBcIlwiO1xufTtcbmdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwucHJvdG90eXBlLmltcGxlbWVudHNHb29nU3RyaW5nVHlwZWRTdHJpbmcgPSAhMDtcbmdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwucHJvdG90eXBlLmdldFR5cGVkU3RyaW5nVmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlVHJ1c3RlZFJlc291cmNlVXJsV3JhcHBlZFZhbHVlXy50b1N0cmluZygpO1xufTtcbmdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwucHJvdG90eXBlLmltcGxlbWVudHNHb29nSTE4bkJpZGlEaXJlY3Rpb25hbFN0cmluZyA9ICEwO1xuZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5wcm90b3R5cGUuZ2V0RGlyZWN0aW9uID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBnb29nLmkxOG4uYmlkaS5EaXIuTFRSO1xufTtcbmdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwucHJvdG90eXBlLmNsb25lV2l0aFBhcmFtcyA9IGZ1bmN0aW9uKHNlYXJjaFBhcmFtcywgb3B0X2hhc2hQYXJhbXMpIHtcbiAgdmFyIHVybCA9IGdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwudW53cmFwKHRoaXMpLCBwYXJ0cyA9IGdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwuVVJMX1BBUkFNX1BBUlNFUl8uZXhlYyh1cmwpLCB1cmxIYXNoID0gcGFydHNbM10gfHwgXCJcIjtcbiAgcmV0dXJuIGdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwuY3JlYXRlVHJ1c3RlZFJlc291cmNlVXJsU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UocGFydHNbMV0gKyBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLnN0cmluZ2lmeVBhcmFtc18oXCI/XCIsIHBhcnRzWzJdIHx8IFwiXCIsIHNlYXJjaFBhcmFtcykgKyBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLnN0cmluZ2lmeVBhcmFtc18oXCIjXCIsIHVybEhhc2gsIG9wdF9oYXNoUGFyYW1zKSk7XG59O1xuZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlVHJ1c3RlZFJlc291cmNlVXJsV3JhcHBlZFZhbHVlXyArIFwiXCI7XG59O1xuZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC51bndyYXAgPSBmdW5jdGlvbih0cnVzdGVkUmVzb3VyY2VVcmwpIHtcbiAgcmV0dXJuIGdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwudW53cmFwVHJ1c3RlZFNjcmlwdFVSTCh0cnVzdGVkUmVzb3VyY2VVcmwpLnRvU3RyaW5nKCk7XG59O1xuZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC51bndyYXBUcnVzdGVkU2NyaXB0VVJMID0gZnVuY3Rpb24odHJ1c3RlZFJlc291cmNlVXJsKSB7XG4gIGlmICh0cnVzdGVkUmVzb3VyY2VVcmwgaW5zdGFuY2VvZiBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsICYmIHRydXN0ZWRSZXNvdXJjZVVybC5jb25zdHJ1Y3RvciA9PT0gZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybCkge1xuICAgIHJldHVybiB0cnVzdGVkUmVzb3VyY2VVcmwucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlVHJ1c3RlZFJlc291cmNlVXJsV3JhcHBlZFZhbHVlXztcbiAgfVxuICBnb29nLmFzc2VydHMuZmFpbChcImV4cGVjdGVkIG9iamVjdCBvZiB0eXBlIFRydXN0ZWRSZXNvdXJjZVVybCwgZ290ICdcIiArIHRydXN0ZWRSZXNvdXJjZVVybCArIFwiJyBvZiB0eXBlIFwiICsgZ29vZy50eXBlT2YodHJ1c3RlZFJlc291cmNlVXJsKSk7XG4gIHJldHVybiBcInR5cGVfZXJyb3I6VHJ1c3RlZFJlc291cmNlVXJsXCI7XG59O1xuZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5mb3JtYXQgPSBmdW5jdGlvbihmb3JtYXQsIGFyZ3MpIHtcbiAgdmFyIGZvcm1hdFN0ciA9IGdvb2cuc3RyaW5nLkNvbnN0LnVud3JhcChmb3JtYXQpO1xuICBpZiAoIWdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwuQkFTRV9VUkxfLnRlc3QoZm9ybWF0U3RyKSkge1xuICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBUcnVzdGVkUmVzb3VyY2VVcmwgZm9ybWF0OiBcIiArIGZvcm1hdFN0cik7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IGZvcm1hdFN0ci5yZXBsYWNlKGdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwuRk9STUFUX01BUktFUl8sIGZ1bmN0aW9uKG1hdGNoLCBpZCkge1xuICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFyZ3MsIGlkKSkge1xuICAgICAgdGhyb3cgRXJyb3IoJ0ZvdW5kIG1hcmtlciwgXCInICsgaWQgKyAnXCIsIGluIGZvcm1hdCBzdHJpbmcsIFwiJyArIGZvcm1hdFN0ciArICdcIiwgYnV0IG5vIHZhbGlkIGxhYmVsIG1hcHBpbmcgZm91bmQgaW4gYXJnczogJyArIEpTT04uc3RyaW5naWZ5KGFyZ3MpKTtcbiAgICB9XG4gICAgdmFyIGFyZyA9IGFyZ3NbaWRdO1xuICAgIHJldHVybiBhcmcgaW5zdGFuY2VvZiBnb29nLnN0cmluZy5Db25zdCA/IGdvb2cuc3RyaW5nLkNvbnN0LnVud3JhcChhcmcpIDogZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhhcmcpKTtcbiAgfSk7XG4gIHJldHVybiBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLmNyZWF0ZVRydXN0ZWRSZXNvdXJjZVVybFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKHJlc3VsdCk7XG59O1xuZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5GT1JNQVRfTUFSS0VSXyA9IC8leyhcXHcrKX0vZztcbmdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwuQkFTRV9VUkxfID0gUmVnRXhwKFwiXigoaHR0cHM6KT8vL1swLTlhLXouOltcXFxcXS1dKy98L1teL1xcXFxcXFxcXXxbXjovXFxcXFxcXFwlXSsvfFteOi9cXFxcXFxcXCVdKls/I118YWJvdXQ6YmxhbmsjKVwiLCBcImlcIik7XG5nb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLlVSTF9QQVJBTV9QQVJTRVJfID0gL14oW14/I10qKShcXD9bXiNdKik/KCNbXFxzXFxTXSopPy87XG5nb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLmZvcm1hdFdpdGhQYXJhbXMgPSBmdW5jdGlvbihmb3JtYXQsIGFyZ3MsIHNlYXJjaFBhcmFtcywgb3B0X2hhc2hQYXJhbXMpIHtcbiAgcmV0dXJuIGdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwuZm9ybWF0KGZvcm1hdCwgYXJncykuY2xvbmVXaXRoUGFyYW1zKHNlYXJjaFBhcmFtcywgb3B0X2hhc2hQYXJhbXMpO1xufTtcbmdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwuZnJvbUNvbnN0YW50ID0gZnVuY3Rpb24odXJsKSB7XG4gIHJldHVybiBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLmNyZWF0ZVRydXN0ZWRSZXNvdXJjZVVybFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKGdvb2cuc3RyaW5nLkNvbnN0LnVud3JhcCh1cmwpKTtcbn07XG5nb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLmZyb21Db25zdGFudHMgPSBmdW5jdGlvbihwYXJ0cykge1xuICBmb3IgKHZhciB1bndyYXBwZWQgPSBcIlwiLCBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdW53cmFwcGVkICs9IGdvb2cuc3RyaW5nLkNvbnN0LnVud3JhcChwYXJ0c1tpXSk7XG4gIH1cbiAgcmV0dXJuIGdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwuY3JlYXRlVHJ1c3RlZFJlc291cmNlVXJsU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UodW53cmFwcGVkKTtcbn07XG5nb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLmZyb21TYWZlU2NyaXB0ID0gZnVuY3Rpb24oc2FmZVNjcmlwdCkge1xuICB2YXIgYmxvYiA9IGdvb2cuZnMuYmxvYi5nZXRCbG9iV2l0aFByb3BlcnRpZXMoW21vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVNjcmlwdF9TYWZlU2NyaXB0LnVud3JhcChzYWZlU2NyaXB0KV0sIFwidGV4dC9qYXZhc2NyaXB0XCIpLCB1cmwgPSBnb29nLmZzLnVybC5jcmVhdGVPYmplY3RVcmwoYmxvYik7XG4gIHJldHVybiBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLmNyZWF0ZVRydXN0ZWRSZXNvdXJjZVVybFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKHVybCk7XG59O1xuZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5DT05TVFJVQ1RPUl9UT0tFTl9QUklWQVRFXyA9IHt9O1xuZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5jcmVhdGVUcnVzdGVkUmVzb3VyY2VVcmxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZSA9IGZ1bmN0aW9uKHVybCkge1xuICB2YXIgcG9saWN5ID0gZ29vZy5odG1sLnRydXN0ZWR0eXBlcy5nZXRQb2xpY3lQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UoKSwgdmFsdWUgPSBwb2xpY3kgPyBwb2xpY3kuY3JlYXRlU2NyaXB0VVJMKHVybCkgOiB1cmw7XG4gIHJldHVybiBuZXcgZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybCh2YWx1ZSwgZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5DT05TVFJVQ1RPUl9UT0tFTl9QUklWQVRFXyk7XG59O1xuZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5zdHJpbmdpZnlQYXJhbXNfID0gZnVuY3Rpb24ocHJlZml4LCBjdXJyZW50U3RyaW5nLCBwYXJhbXMpIHtcbiAgaWYgKG51bGwgPT0gcGFyYW1zKSB7XG4gICAgcmV0dXJuIGN1cnJlbnRTdHJpbmc7XG4gIH1cbiAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBwYXJhbXMpIHtcbiAgICByZXR1cm4gcGFyYW1zID8gcHJlZml4ICsgZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtcykgOiBcIlwiO1xuICB9XG4gIGZvciAodmFyIGtleSBpbiBwYXJhbXMpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmFtcywga2V5KSkge1xuICAgICAgZm9yICh2YXIgdmFsdWUgPSBwYXJhbXNba2V5XSwgb3V0cHV0VmFsdWVzID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV0sIGkgPSAwOyBpIDwgb3V0cHV0VmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBvdXRwdXRWYWx1ZSA9IG91dHB1dFZhbHVlc1tpXTtcbiAgICAgICAgbnVsbCAhPSBvdXRwdXRWYWx1ZSAmJiAoY3VycmVudFN0cmluZyB8fCAoY3VycmVudFN0cmluZyA9IHByZWZpeCksIGN1cnJlbnRTdHJpbmcgKz0gKGN1cnJlbnRTdHJpbmcubGVuZ3RoID4gcHJlZml4Lmxlbmd0aCA/IFwiJlwiIDogXCJcIikgKyBlbmNvZGVVUklDb21wb25lbnQoa2V5KSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhvdXRwdXRWYWx1ZSkpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGN1cnJlbnRTdHJpbmc7XG59O1xuZ29vZy5odG1sLlNhZmVVcmwgPSBmdW5jdGlvbih2YWx1ZSwgdG9rZW4pIHtcbiAgdGhpcy5wcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2VTYWZlVXJsV3JhcHBlZFZhbHVlXyA9IHRva2VuID09PSBnb29nLmh0bWwuU2FmZVVybC5DT05TVFJVQ1RPUl9UT0tFTl9QUklWQVRFXyA/IHZhbHVlIDogXCJcIjtcbn07XG5nb29nLmh0bWwuU2FmZVVybC5JTk5PQ1VPVVNfU1RSSU5HID0gXCJhYm91dDppbnZhbGlkI3pDbG9zdXJlelwiO1xuZ29vZy5odG1sLlNhZmVVcmwucHJvdG90eXBlLmltcGxlbWVudHNHb29nU3RyaW5nVHlwZWRTdHJpbmcgPSAhMDtcbmdvb2cuaHRtbC5TYWZlVXJsLnByb3RvdHlwZS5nZXRUeXBlZFN0cmluZ1ZhbHVlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVNhZmVVcmxXcmFwcGVkVmFsdWVfLnRvU3RyaW5nKCk7XG59O1xuZ29vZy5odG1sLlNhZmVVcmwucHJvdG90eXBlLmltcGxlbWVudHNHb29nSTE4bkJpZGlEaXJlY3Rpb25hbFN0cmluZyA9ICEwO1xuZ29vZy5odG1sLlNhZmVVcmwucHJvdG90eXBlLmdldERpcmVjdGlvbiA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5pMThuLmJpZGkuRGlyLkxUUjtcbn07XG5nb29nLmh0bWwuU2FmZVVybC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlU2FmZVVybFdyYXBwZWRWYWx1ZV8udG9TdHJpbmcoKTtcbn07XG5nb29nLmh0bWwuU2FmZVVybC51bndyYXAgPSBmdW5jdGlvbihzYWZlVXJsKSB7XG4gIGlmIChzYWZlVXJsIGluc3RhbmNlb2YgZ29vZy5odG1sLlNhZmVVcmwgJiYgc2FmZVVybC5jb25zdHJ1Y3RvciA9PT0gZ29vZy5odG1sLlNhZmVVcmwpIHtcbiAgICByZXR1cm4gc2FmZVVybC5wcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2VTYWZlVXJsV3JhcHBlZFZhbHVlXztcbiAgfVxuICBnb29nLmFzc2VydHMuZmFpbChcImV4cGVjdGVkIG9iamVjdCBvZiB0eXBlIFNhZmVVcmwsIGdvdCAnXCIgKyBzYWZlVXJsICsgXCInIG9mIHR5cGUgXCIgKyBnb29nLnR5cGVPZihzYWZlVXJsKSk7XG4gIHJldHVybiBcInR5cGVfZXJyb3I6U2FmZVVybFwiO1xufTtcbmdvb2cuaHRtbC5TYWZlVXJsLmZyb21Db25zdGFudCA9IGZ1bmN0aW9uKHVybCkge1xuICByZXR1cm4gZ29vZy5odG1sLlNhZmVVcmwuY3JlYXRlU2FmZVVybFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKGdvb2cuc3RyaW5nLkNvbnN0LnVud3JhcCh1cmwpKTtcbn07XG5nb29nLmh0bWwuU0FGRV9NSU1FX1RZUEVfUEFUVEVSTl8gPSBSZWdFeHAoJ14oPzphdWRpby8oPzozZ3BwMnwzZ3BwfGFhY3xMMTZ8bWlkaXxtcDN8bXA0fG1wZWd8b2dhfG9nZ3xvcHVzfHgtbTRhfHgtbWF0cm9za2F8eC13YXZ8d2F2fHdlYm0pfGZvbnQvXFxcXHcrfGltYWdlLyg/OmJtcHxnaWZ8anBlZ3xqcGd8cG5nfHRpZmZ8d2VicHx4LWljb24pfHZpZGVvLyg/Om1wZWd8bXA0fG9nZ3x3ZWJtfHF1aWNrdGltZXx4LW1hdHJvc2thKSkoPzo7XFxcXHcrPSg/OlxcXFx3K3xcIltcXFxcdzssPSBdK1wiKSkqJCcsIFwiaVwiKTtcbmdvb2cuaHRtbC5TYWZlVXJsLmlzU2FmZU1pbWVUeXBlID0gZnVuY3Rpb24obWltZVR5cGUpIHtcbiAgcmV0dXJuIGdvb2cuaHRtbC5TQUZFX01JTUVfVFlQRV9QQVRURVJOXy50ZXN0KG1pbWVUeXBlKTtcbn07XG5nb29nLmh0bWwuU2FmZVVybC5mcm9tQmxvYiA9IGZ1bmN0aW9uKGJsb2IpIHtcbiAgdmFyIHVybCA9IGdvb2cuaHRtbC5TYWZlVXJsLmlzU2FmZU1pbWVUeXBlKGJsb2IudHlwZSkgPyBnb29nLmZzLnVybC5jcmVhdGVPYmplY3RVcmwoYmxvYikgOiBnb29nLmh0bWwuU2FmZVVybC5JTk5PQ1VPVVNfU1RSSU5HO1xuICByZXR1cm4gZ29vZy5odG1sLlNhZmVVcmwuY3JlYXRlU2FmZVVybFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKHVybCk7XG59O1xuZ29vZy5odG1sLlNhZmVVcmwucmV2b2tlT2JqZWN0VXJsID0gZnVuY3Rpb24oc2FmZVVybCkge1xuICB2YXIgdXJsID0gc2FmZVVybC5nZXRUeXBlZFN0cmluZ1ZhbHVlKCk7XG4gIHVybCAhPT0gZ29vZy5odG1sLlNhZmVVcmwuSU5OT0NVT1VTX1NUUklORyAmJiBnb29nLmZzLnVybC5yZXZva2VPYmplY3RVcmwodXJsKTtcbn07XG5nb29nLmh0bWwuU2FmZVVybC5mcm9tTWVkaWFTb3VyY2UgPSBmdW5jdGlvbihtZWRpYVNvdXJjZSkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KFwiTWVkaWFTb3VyY2VcIiBpbiBnb29nLmdsb2JhbCwgXCJObyBzdXBwb3J0IGZvciBNZWRpYVNvdXJjZVwiKTtcbiAgdmFyIHVybCA9IG1lZGlhU291cmNlIGluc3RhbmNlb2YgTWVkaWFTb3VyY2UgPyBnb29nLmZzLnVybC5jcmVhdGVPYmplY3RVcmwobWVkaWFTb3VyY2UpIDogZ29vZy5odG1sLlNhZmVVcmwuSU5OT0NVT1VTX1NUUklORztcbiAgcmV0dXJuIGdvb2cuaHRtbC5TYWZlVXJsLmNyZWF0ZVNhZmVVcmxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZSh1cmwpO1xufTtcbmdvb2cuaHRtbC5EQVRBX1VSTF9QQVRURVJOXyA9IC9eZGF0YTooLiopO2Jhc2U2NCxbYS16MC05K1xcL10rPSokL2k7XG5nb29nLmh0bWwuU2FmZVVybC50cnlGcm9tRGF0YVVybCA9IGZ1bmN0aW9uKGRhdGFVcmwpIHtcbiAgZGF0YVVybCA9IFN0cmluZyhkYXRhVXJsKTtcbiAgdmFyIGZpbHRlcmVkRGF0YVVybCA9IGRhdGFVcmwucmVwbGFjZSgvKCUwQXwlMEQpL2csIFwiXCIpLCBtYXRjaCA9IGZpbHRlcmVkRGF0YVVybC5tYXRjaChnb29nLmh0bWwuREFUQV9VUkxfUEFUVEVSTl8pO1xuICByZXR1cm4gbWF0Y2ggJiYgZ29vZy5odG1sLlNhZmVVcmwuaXNTYWZlTWltZVR5cGUobWF0Y2hbMV0pID8gZ29vZy5odG1sLlNhZmVVcmwuY3JlYXRlU2FmZVVybFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKGZpbHRlcmVkRGF0YVVybCkgOiBudWxsO1xufTtcbmdvb2cuaHRtbC5TYWZlVXJsLmZyb21EYXRhVXJsID0gZnVuY3Rpb24oZGF0YVVybCkge1xuICByZXR1cm4gZ29vZy5odG1sLlNhZmVVcmwudHJ5RnJvbURhdGFVcmwoZGF0YVVybCkgfHwgZ29vZy5odG1sLlNhZmVVcmwuSU5OT0NVT1VTX1VSTDtcbn07XG5nb29nLmh0bWwuU2FmZVVybC5mcm9tVGVsVXJsID0gZnVuY3Rpb24odGVsVXJsKSB7XG4gIGdvb2cuc3RyaW5nLmludGVybmFsLmNhc2VJbnNlbnNpdGl2ZVN0YXJ0c1dpdGgodGVsVXJsLCBcInRlbDpcIikgfHwgKHRlbFVybCA9IGdvb2cuaHRtbC5TYWZlVXJsLklOTk9DVU9VU19TVFJJTkcpO1xuICByZXR1cm4gZ29vZy5odG1sLlNhZmVVcmwuY3JlYXRlU2FmZVVybFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKHRlbFVybCk7XG59O1xuZ29vZy5odG1sLlNJUF9VUkxfUEFUVEVSTl8gPSBSZWdFeHAoXCJec2lwW3NdPzpbK2EtejAtOV8uISQlJicqXFxcXC89XmB7fH1+LV0rQChbYS16MC05LV0rXFxcXC4pK1thLXowLTldezIsNjN9JFwiLCBcImlcIik7XG5nb29nLmh0bWwuU2FmZVVybC5mcm9tU2lwVXJsID0gZnVuY3Rpb24oc2lwVXJsKSB7XG4gIGdvb2cuaHRtbC5TSVBfVVJMX1BBVFRFUk5fLnRlc3QoZGVjb2RlVVJJQ29tcG9uZW50KHNpcFVybCkpIHx8IChzaXBVcmwgPSBnb29nLmh0bWwuU2FmZVVybC5JTk5PQ1VPVVNfU1RSSU5HKTtcbiAgcmV0dXJuIGdvb2cuaHRtbC5TYWZlVXJsLmNyZWF0ZVNhZmVVcmxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShzaXBVcmwpO1xufTtcbmdvb2cuaHRtbC5TYWZlVXJsLmZyb21GYWNlYm9va01lc3NlbmdlclVybCA9IGZ1bmN0aW9uKGZhY2Vib29rTWVzc2VuZ2VyVXJsKSB7XG4gIGdvb2cuc3RyaW5nLmludGVybmFsLmNhc2VJbnNlbnNpdGl2ZVN0YXJ0c1dpdGgoZmFjZWJvb2tNZXNzZW5nZXJVcmwsIFwiZmItbWVzc2VuZ2VyOi8vc2hhcmVcIikgfHwgKGZhY2Vib29rTWVzc2VuZ2VyVXJsID0gZ29vZy5odG1sLlNhZmVVcmwuSU5OT0NVT1VTX1NUUklORyk7XG4gIHJldHVybiBnb29nLmh0bWwuU2FmZVVybC5jcmVhdGVTYWZlVXJsU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UoZmFjZWJvb2tNZXNzZW5nZXJVcmwpO1xufTtcbmdvb2cuaHRtbC5TYWZlVXJsLmZyb21XaGF0c0FwcFVybCA9IGZ1bmN0aW9uKHdoYXRzQXBwVXJsKSB7XG4gIGdvb2cuc3RyaW5nLmludGVybmFsLmNhc2VJbnNlbnNpdGl2ZVN0YXJ0c1dpdGgod2hhdHNBcHBVcmwsIFwid2hhdHNhcHA6Ly9zZW5kXCIpIHx8ICh3aGF0c0FwcFVybCA9IGdvb2cuaHRtbC5TYWZlVXJsLklOTk9DVU9VU19TVFJJTkcpO1xuICByZXR1cm4gZ29vZy5odG1sLlNhZmVVcmwuY3JlYXRlU2FmZVVybFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKHdoYXRzQXBwVXJsKTtcbn07XG5nb29nLmh0bWwuU2FmZVVybC5mcm9tU21zVXJsID0gZnVuY3Rpb24oc21zVXJsKSB7XG4gIGdvb2cuc3RyaW5nLmludGVybmFsLmNhc2VJbnNlbnNpdGl2ZVN0YXJ0c1dpdGgoc21zVXJsLCBcInNtczpcIikgJiYgZ29vZy5odG1sLlNhZmVVcmwuaXNTbXNVcmxCb2R5VmFsaWRfKHNtc1VybCkgfHwgKHNtc1VybCA9IGdvb2cuaHRtbC5TYWZlVXJsLklOTk9DVU9VU19TVFJJTkcpO1xuICByZXR1cm4gZ29vZy5odG1sLlNhZmVVcmwuY3JlYXRlU2FmZVVybFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKHNtc1VybCk7XG59O1xuZ29vZy5odG1sLlNhZmVVcmwuaXNTbXNVcmxCb2R5VmFsaWRfID0gZnVuY3Rpb24oc21zVXJsKSB7XG4gIHZhciBoYXNoID0gc21zVXJsLmluZGV4T2YoXCIjXCIpO1xuICAwIDwgaGFzaCAmJiAoc21zVXJsID0gc21zVXJsLnN1YnN0cmluZygwLCBoYXNoKSk7XG4gIHZhciBib2R5UGFyYW1zID0gc21zVXJsLm1hdGNoKC9bPyZdYm9keT0vZ2kpO1xuICBpZiAoIWJvZHlQYXJhbXMpIHtcbiAgICByZXR1cm4gITA7XG4gIH1cbiAgaWYgKDEgPCBib2R5UGFyYW1zLmxlbmd0aCkge1xuICAgIHJldHVybiAhMTtcbiAgfVxuICB2YXIgYm9keVZhbHVlID0gc21zVXJsLm1hdGNoKC9bPyZdYm9keT0oW14mXSopLylbMV07XG4gIGlmICghYm9keVZhbHVlKSB7XG4gICAgcmV0dXJuICEwO1xuICB9XG4gIHRyeSB7XG4gICAgZGVjb2RlVVJJQ29tcG9uZW50KGJvZHlWYWx1ZSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuICExO1xuICB9XG4gIHJldHVybiAvXig/OlthLXowLTlcXC1fLn5dfCVbMC05YS1mXXsyfSkrJC9pLnRlc3QoYm9keVZhbHVlKTtcbn07XG5nb29nLmh0bWwuU2FmZVVybC5mcm9tU3NoVXJsID0gZnVuY3Rpb24oc3NoVXJsKSB7XG4gIGdvb2cuc3RyaW5nLmludGVybmFsLmNhc2VJbnNlbnNpdGl2ZVN0YXJ0c1dpdGgoc3NoVXJsLCBcInNzaDovL1wiKSB8fCAoc3NoVXJsID0gZ29vZy5odG1sLlNhZmVVcmwuSU5OT0NVT1VTX1NUUklORyk7XG4gIHJldHVybiBnb29nLmh0bWwuU2FmZVVybC5jcmVhdGVTYWZlVXJsU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2Uoc3NoVXJsKTtcbn07XG5nb29nLmh0bWwuU2FmZVVybC5zYW5pdGl6ZUNocm9tZUV4dGVuc2lvblVybCA9IGZ1bmN0aW9uKHVybCwgZXh0ZW5zaW9uSWQpIHtcbiAgcmV0dXJuIGdvb2cuaHRtbC5TYWZlVXJsLnNhbml0aXplRXh0ZW5zaW9uVXJsXygvXmNocm9tZS1leHRlbnNpb246XFwvXFwvKFteXFwvXSspXFwvLywgdXJsLCBleHRlbnNpb25JZCk7XG59O1xuZ29vZy5odG1sLlNhZmVVcmwuc2FuaXRpemVGaXJlZm94RXh0ZW5zaW9uVXJsID0gZnVuY3Rpb24odXJsLCBleHRlbnNpb25JZCkge1xuICByZXR1cm4gZ29vZy5odG1sLlNhZmVVcmwuc2FuaXRpemVFeHRlbnNpb25VcmxfKC9ebW96LWV4dGVuc2lvbjpcXC9cXC8oW15cXC9dKylcXC8vLCB1cmwsIGV4dGVuc2lvbklkKTtcbn07XG5nb29nLmh0bWwuU2FmZVVybC5zYW5pdGl6ZUVkZ2VFeHRlbnNpb25VcmwgPSBmdW5jdGlvbih1cmwsIGV4dGVuc2lvbklkKSB7XG4gIHJldHVybiBnb29nLmh0bWwuU2FmZVVybC5zYW5pdGl6ZUV4dGVuc2lvblVybF8oL15tcy1icm93c2VyLWV4dGVuc2lvbjpcXC9cXC8oW15cXC9dKylcXC8vLCB1cmwsIGV4dGVuc2lvbklkKTtcbn07XG5nb29nLmh0bWwuU2FmZVVybC5zYW5pdGl6ZUV4dGVuc2lvblVybF8gPSBmdW5jdGlvbihzY2hlbWUsIHVybCwgZXh0ZW5zaW9uSWQpIHtcbiAgdmFyIG1hdGNoZXMgPSBzY2hlbWUuZXhlYyh1cmwpO1xuICBpZiAobWF0Y2hlcykge1xuICAgIHZhciBleHRyYWN0ZWRFeHRlbnNpb25JZCA9IG1hdGNoZXNbMV07XG4gICAgLTEgPT0gKGV4dGVuc2lvbklkIGluc3RhbmNlb2YgZ29vZy5zdHJpbmcuQ29uc3QgPyBbZ29vZy5zdHJpbmcuQ29uc3QudW53cmFwKGV4dGVuc2lvbklkKV0gOiBleHRlbnNpb25JZC5tYXAoZnVuY3Rpb24gdW53cmFwKHgpIHtcbiAgICAgIHJldHVybiBnb29nLnN0cmluZy5Db25zdC51bndyYXAoeCk7XG4gICAgfSkpLmluZGV4T2YoZXh0cmFjdGVkRXh0ZW5zaW9uSWQpICYmICh1cmwgPSBnb29nLmh0bWwuU2FmZVVybC5JTk5PQ1VPVVNfU1RSSU5HKTtcbiAgfSBlbHNlIHtcbiAgICB1cmwgPSBnb29nLmh0bWwuU2FmZVVybC5JTk5PQ1VPVVNfU1RSSU5HO1xuICB9XG4gIHJldHVybiBnb29nLmh0bWwuU2FmZVVybC5jcmVhdGVTYWZlVXJsU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UodXJsKTtcbn07XG5nb29nLmh0bWwuU2FmZVVybC5mcm9tVHJ1c3RlZFJlc291cmNlVXJsID0gZnVuY3Rpb24odHJ1c3RlZFJlc291cmNlVXJsKSB7XG4gIHJldHVybiBnb29nLmh0bWwuU2FmZVVybC5jcmVhdGVTYWZlVXJsU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UoZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC51bndyYXAodHJ1c3RlZFJlc291cmNlVXJsKSk7XG59O1xuZ29vZy5odG1sLlNBRkVfVVJMX1BBVFRFUk5fID0gL14oPzooPzpodHRwcz98bWFpbHRvfGZ0cCk6fFteOi8/I10qKD86Wy8/I118JCkpL2k7XG5nb29nLmh0bWwuU2FmZVVybC5TQUZFX1VSTF9QQVRURVJOID0gZ29vZy5odG1sLlNBRkVfVVJMX1BBVFRFUk5fO1xuZ29vZy5odG1sLlNhZmVVcmwudHJ5U2FuaXRpemUgPSBmdW5jdGlvbih1cmwpIHtcbiAgaWYgKHVybCBpbnN0YW5jZW9mIGdvb2cuaHRtbC5TYWZlVXJsKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuICB1cmwgPSBcIm9iamVjdFwiID09IHR5cGVvZiB1cmwgJiYgdXJsLmltcGxlbWVudHNHb29nU3RyaW5nVHlwZWRTdHJpbmcgPyB1cmwuZ2V0VHlwZWRTdHJpbmdWYWx1ZSgpIDogU3RyaW5nKHVybCk7XG4gIHJldHVybiBnb29nLmh0bWwuU0FGRV9VUkxfUEFUVEVSTl8udGVzdCh1cmwpID8gZ29vZy5odG1sLlNhZmVVcmwuY3JlYXRlU2FmZVVybFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKHVybCkgOiBnb29nLmh0bWwuU2FmZVVybC50cnlGcm9tRGF0YVVybCh1cmwpO1xufTtcbmdvb2cuaHRtbC5TYWZlVXJsLnNhbml0aXplID0gZnVuY3Rpb24odXJsKSB7XG4gIHJldHVybiBnb29nLmh0bWwuU2FmZVVybC50cnlTYW5pdGl6ZSh1cmwpIHx8IGdvb2cuaHRtbC5TYWZlVXJsLklOTk9DVU9VU19VUkw7XG59O1xuZ29vZy5odG1sLlNhZmVVcmwuc2FuaXRpemVBc3NlcnRVbmNoYW5nZWQgPSBmdW5jdGlvbih1cmwsIG9wdF9hbGxvd0RhdGFVcmwpIHtcbiAgaWYgKHVybCBpbnN0YW5jZW9mIGdvb2cuaHRtbC5TYWZlVXJsKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuICB1cmwgPSBcIm9iamVjdFwiID09IHR5cGVvZiB1cmwgJiYgdXJsLmltcGxlbWVudHNHb29nU3RyaW5nVHlwZWRTdHJpbmcgPyB1cmwuZ2V0VHlwZWRTdHJpbmdWYWx1ZSgpIDogU3RyaW5nKHVybCk7XG4gIGlmIChvcHRfYWxsb3dEYXRhVXJsICYmIC9eZGF0YTovaS50ZXN0KHVybCkpIHtcbiAgICB2YXIgc2FmZVVybCA9IGdvb2cuaHRtbC5TYWZlVXJsLmZyb21EYXRhVXJsKHVybCk7XG4gICAgaWYgKHNhZmVVcmwuZ2V0VHlwZWRTdHJpbmdWYWx1ZSgpID09IHVybCkge1xuICAgICAgcmV0dXJuIHNhZmVVcmw7XG4gICAgfVxuICB9XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQoZ29vZy5odG1sLlNBRkVfVVJMX1BBVFRFUk5fLnRlc3QodXJsKSwgXCIlcyBkb2VzIG5vdCBtYXRjaCB0aGUgc2FmZSBVUkwgcGF0dGVyblwiLCB1cmwpIHx8ICh1cmwgPSBnb29nLmh0bWwuU2FmZVVybC5JTk5PQ1VPVVNfU1RSSU5HKTtcbiAgcmV0dXJuIGdvb2cuaHRtbC5TYWZlVXJsLmNyZWF0ZVNhZmVVcmxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZSh1cmwpO1xufTtcbmdvb2cuaHRtbC5TYWZlVXJsLkNPTlNUUlVDVE9SX1RPS0VOX1BSSVZBVEVfID0ge307XG5nb29nLmh0bWwuU2FmZVVybC5jcmVhdGVTYWZlVXJsU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UgPSBmdW5jdGlvbih1cmwpIHtcbiAgcmV0dXJuIG5ldyBnb29nLmh0bWwuU2FmZVVybCh1cmwsIGdvb2cuaHRtbC5TYWZlVXJsLkNPTlNUUlVDVE9SX1RPS0VOX1BSSVZBVEVfKTtcbn07XG5nb29nLmh0bWwuU2FmZVVybC5JTk5PQ1VPVVNfVVJMID0gZ29vZy5odG1sLlNhZmVVcmwuY3JlYXRlU2FmZVVybFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKGdvb2cuaHRtbC5TYWZlVXJsLklOTk9DVU9VU19TVFJJTkcpO1xuZ29vZy5odG1sLlNhZmVVcmwuQUJPVVRfQkxBTksgPSBnb29nLmh0bWwuU2FmZVVybC5jcmVhdGVTYWZlVXJsU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UoXCJhYm91dDpibGFua1wiKTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9DT05TVFJVQ1RPUl9UT0tFTl9QUklWQVRFID0ge30sIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZSA9IGZ1bmN0aW9uKHZhbHVlLCB0b2tlbikge1xuICB0aGlzLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVNhZmVTdHlsZVdyYXBwZWRWYWx1ZV8gPSB0b2tlbiA9PT0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfQ09OU1RSVUNUT1JfVE9LRU5fUFJJVkFURSA/IHZhbHVlIDogXCJcIjtcbiAgdGhpcy5pbXBsZW1lbnRzR29vZ1N0cmluZ1R5cGVkU3RyaW5nID0gITA7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlLmZyb21Db25zdGFudCA9IGZ1bmN0aW9uKHN0eWxlKSB7XG4gIHZhciBzdHlsZVN0cmluZyA9IGdvb2cuc3RyaW5nLkNvbnN0LnVud3JhcChzdHlsZSk7XG4gIGlmICgwID09PSBzdHlsZVN0cmluZy5sZW5ndGgpIHtcbiAgICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlLkVNUFRZO1xuICB9XG4gICgwLGdvb2cuYXNzZXJ0cy5hc3NlcnQpKCgwLGdvb2cuc3RyaW5nLmludGVybmFsLmVuZHNXaXRoKShzdHlsZVN0cmluZywgXCI7XCIpLCBcIkxhc3QgY2hhcmFjdGVyIG9mIHN0eWxlIHN0cmluZyBpcyBub3QgJzsnOiBcIiArIHN0eWxlU3RyaW5nKTtcbiAgKDAsZ29vZy5hc3NlcnRzLmFzc2VydCkoKDAsZ29vZy5zdHJpbmcuaW50ZXJuYWwuY29udGFpbnMpKHN0eWxlU3RyaW5nLCBcIjpcIiksIFwiU3R5bGUgc3RyaW5nIG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgJzonLCB0byBzcGVjaWZ5IGEgXFxcIm5hbWU6IHZhbHVlXFxcIiBwYWlyOiBcIiArIHN0eWxlU3RyaW5nKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS5jcmVhdGVTYWZlU3R5bGVTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShzdHlsZVN0cmluZyk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlLnByb3RvdHlwZS5nZXRUeXBlZFN0cmluZ1ZhbHVlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVNhZmVTdHlsZVdyYXBwZWRWYWx1ZV87XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5wcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2VTYWZlU3R5bGVXcmFwcGVkVmFsdWVfLnRvU3RyaW5nKCk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlLnVud3JhcCA9IGZ1bmN0aW9uKHNhZmVTdHlsZSkge1xuICBpZiAoc2FmZVN0eWxlIGluc3RhbmNlb2YgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlICYmIHNhZmVTdHlsZS5jb25zdHJ1Y3RvciA9PT0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlKSB7XG4gICAgcmV0dXJuIHNhZmVTdHlsZS5wcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2VTYWZlU3R5bGVXcmFwcGVkVmFsdWVfO1xuICB9XG4gICgwLGdvb2cuYXNzZXJ0cy5mYWlsKShcImV4cGVjdGVkIG9iamVjdCBvZiB0eXBlIFNhZmVTdHlsZSwgZ290ICdcIiArIHNhZmVTdHlsZSArIFwiJyBvZiB0eXBlIFwiICsgZ29vZy50eXBlT2Yoc2FmZVN0eWxlKSk7XG4gIHJldHVybiBcInR5cGVfZXJyb3I6U2FmZVN0eWxlXCI7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlLmNyZWF0ZVNhZmVTdHlsZVNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlID0gZnVuY3Rpb24oc3R5bGUpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9TYWZlU3R5bGUoc3R5bGUsIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX0NPTlNUUlVDVE9SX1RPS0VOX1BSSVZBVEUpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS5jcmVhdGUgPSBmdW5jdGlvbihtYXApIHtcbiAgdmFyIHN0eWxlID0gXCJcIiwgbmFtZTtcbiAgZm9yIChuYW1lIGluIG1hcCkge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobWFwLCBuYW1lKSkge1xuICAgICAgaWYgKCEvXlstX2EtekEtWjAtOV0rJC8udGVzdChuYW1lKSkge1xuICAgICAgICB0aHJvdyBFcnJvcihcIk5hbWUgYWxsb3dzIG9ubHkgWy1fYS16QS1aMC05XSwgZ290OiBcIiArIG5hbWUpO1xuICAgICAgfVxuICAgICAgdmFyIHZhbHVlID0gbWFwW25hbWVdO1xuICAgICAgbnVsbCAhPSB2YWx1ZSAmJiAodmFsdWUgPSBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlLm1hcChtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9zYW5pdGl6ZVByb3BlcnR5VmFsdWUpLmpvaW4oXCIgXCIpIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfc2FuaXRpemVQcm9wZXJ0eVZhbHVlKHZhbHVlKSwgc3R5bGUgKz0gbmFtZSArIFwiOlwiICsgdmFsdWUgKyBcIjtcIik7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHlsZSA/IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS5jcmVhdGVTYWZlU3R5bGVTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShzdHlsZSkgOiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9TYWZlU3R5bGUuRU1QVFk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlLmNvbmNhdCA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gIHZhciBzdHlsZSA9IFwiXCIsIGFkZEFyZ3VtZW50ID0gZnVuY3Rpb24oYXJndW1lbnQpIHtcbiAgICBBcnJheS5pc0FycmF5KGFyZ3VtZW50KSA/IGFyZ3VtZW50LmZvckVhY2goYWRkQXJndW1lbnQpIDogc3R5bGUgKz0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlLnVud3JhcChhcmd1bWVudCk7XG4gIH07XG4gIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYXJndW1lbnRzLCBhZGRBcmd1bWVudCk7XG4gIHJldHVybiBzdHlsZSA/IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS5jcmVhdGVTYWZlU3R5bGVTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShzdHlsZSkgOiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9TYWZlU3R5bGUuRU1QVFk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlLkVNUFRZID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlLmNyZWF0ZVNhZmVTdHlsZVNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKFwiXCIpO1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlLklOTk9DVU9VU19TVFJJTkcgPSBcInpDbG9zdXJlelwiO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfc2FuaXRpemVQcm9wZXJ0eVZhbHVlKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIGdvb2cuaHRtbC5TYWZlVXJsKSB7XG4gICAgcmV0dXJuICd1cmwoXCInICsgZ29vZy5odG1sLlNhZmVVcmwudW53cmFwKHZhbHVlKS5yZXBsYWNlKC88L2csIFwiJTNjXCIpLnJlcGxhY2UoL1tcXFxcXCJdL2csIFwiXFxcXCQmXCIpICsgJ1wiKSc7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IHZhbHVlIGluc3RhbmNlb2YgZ29vZy5zdHJpbmcuQ29uc3QgPyBnb29nLnN0cmluZy5Db25zdC51bndyYXAodmFsdWUpIDogbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfc2FuaXRpemVQcm9wZXJ0eVZhbHVlU3RyaW5nKFN0cmluZyh2YWx1ZSkpO1xuICBpZiAoL1t7O31dLy50ZXN0KHJlc3VsdCkpIHtcbiAgICB0aHJvdyBuZXcgZ29vZy5hc3NlcnRzLkFzc2VydGlvbkVycm9yKFwiVmFsdWUgZG9lcyBub3QgYWxsb3cgW3s7fV0sIGdvdDogJXMuXCIsIFtyZXN1bHRdKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfc2FuaXRpemVQcm9wZXJ0eVZhbHVlU3RyaW5nKHZhbHVlKSB7XG4gIHZhciB2YWx1ZVdpdGhvdXRGdW5jdGlvbnMgPSB2YWx1ZS5yZXBsYWNlKG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX0ZVTkNUSU9OU19SRSwgXCIkMVwiKS5yZXBsYWNlKG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX0ZVTkNUSU9OU19SRSwgXCIkMVwiKS5yZXBsYWNlKG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1VSTF9SRSwgXCJ1cmxcIik7XG4gIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9WQUxVRV9SRS50ZXN0KHZhbHVlV2l0aG91dEZ1bmN0aW9ucykpIHtcbiAgICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfQ09NTUVOVF9SRS50ZXN0KHZhbHVlKSkge1xuICAgICAgcmV0dXJuICgwLGdvb2cuYXNzZXJ0cy5mYWlsKShcIlN0cmluZyB2YWx1ZSBkaXNhbGxvd3MgY29tbWVudHMsIGdvdDogXCIgKyB2YWx1ZSksIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS5JTk5PQ1VPVVNfU1RSSU5HO1xuICAgIH1cbiAgICBpZiAoIW1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX2hhc0JhbGFuY2VkUXVvdGVzKHZhbHVlKSkge1xuICAgICAgcmV0dXJuICgwLGdvb2cuYXNzZXJ0cy5mYWlsKShcIlN0cmluZyB2YWx1ZSByZXF1aXJlcyBiYWxhbmNlZCBxdW90ZXMsIGdvdDogXCIgKyB2YWx1ZSksIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS5JTk5PQ1VPVVNfU1RSSU5HO1xuICAgIH1cbiAgICBpZiAoIW1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX2hhc0JhbGFuY2VkU3F1YXJlQnJhY2tldHModmFsdWUpKSB7XG4gICAgICByZXR1cm4gKDAsZ29vZy5hc3NlcnRzLmZhaWwpKFwiU3RyaW5nIHZhbHVlIHJlcXVpcmVzIGJhbGFuY2VkIHNxdWFyZSBicmFja2V0cyBhbmQgb25lIGlkZW50aWZpZXIgcGVyIHBhaXIgb2YgYnJhY2tldHMsIGdvdDogXCIgKyB2YWx1ZSksIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS5JTk5PQ1VPVVNfU1RSSU5HO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKDAsZ29vZy5hc3NlcnRzLmZhaWwpKFwiU3RyaW5nIHZhbHVlIGFsbG93cyBvbmx5IFstLC5cXFwiJyVfISMvIGEtekEtWjAtOVxcXFxbXFxcXF1dIGFuZCBzaW1wbGUgZnVuY3Rpb25zLCBnb3Q6IFwiICsgdmFsdWUpLCBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9TYWZlU3R5bGUuSU5OT0NVT1VTX1NUUklORztcbiAgfVxuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfc2FuaXRpemVVcmwodmFsdWUpO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfaGFzQmFsYW5jZWRRdW90ZXModmFsdWUpIHtcbiAgZm9yICh2YXIgb3V0c2lkZVNpbmdsZSA9ICEwLCBvdXRzaWRlRG91YmxlID0gITAsIGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgYyA9IHZhbHVlLmNoYXJBdChpKTtcbiAgICBcIidcIiA9PSBjICYmIG91dHNpZGVEb3VibGUgPyBvdXRzaWRlU2luZ2xlID0gIW91dHNpZGVTaW5nbGUgOiAnXCInID09IGMgJiYgb3V0c2lkZVNpbmdsZSAmJiAob3V0c2lkZURvdWJsZSA9ICFvdXRzaWRlRG91YmxlKTtcbiAgfVxuICByZXR1cm4gb3V0c2lkZVNpbmdsZSAmJiBvdXRzaWRlRG91YmxlO1xufVxuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfaGFzQmFsYW5jZWRTcXVhcmVCcmFja2V0cyh2YWx1ZSkge1xuICBmb3IgKHZhciBvdXRzaWRlID0gITAsIHRva2VuUmUgPSAvXlstX2EtekEtWjAtOV0kLywgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgIHZhciBjID0gdmFsdWUuY2hhckF0KGkpO1xuICAgIGlmIChcIl1cIiA9PSBjKSB7XG4gICAgICBpZiAob3V0c2lkZSkge1xuICAgICAgICByZXR1cm4gITE7XG4gICAgICB9XG4gICAgICBvdXRzaWRlID0gITA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChcIltcIiA9PSBjKSB7XG4gICAgICAgIGlmICghb3V0c2lkZSkge1xuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgfVxuICAgICAgICBvdXRzaWRlID0gITE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIW91dHNpZGUgJiYgIXRva2VuUmUudGVzdChjKSkge1xuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gb3V0c2lkZTtcbn1cbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9WQUxVRV9SRSA9IFJlZ0V4cChcIl5bLSwuXFxcIiclXyEjLyBhLXpBLVowLTlcXFxcW1xcXFxdXSskXCIpLCBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9VUkxfUkUgPSBSZWdFeHAoXCJcXFxcYih1cmxcXFxcKFsgXFx0XFxuXSopKCdbIC0mKC1cXFxcW1xcXFxdLX5dKid8XFxcIlsgISMtXFxcXFtcXFxcXS1+XSpcXFwifFshIy0mKi1cXFxcW1xcXFxdLX5dKikoWyBcXHRcXG5dKlxcXFwpKVwiLCBcImdcIiksIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX0ZVTkNUSU9OU19SRSA9IFJlZ0V4cChcIlxcXFxiKGNhbGN8Y3ViaWMtYmV6aWVyfGZpdC1jb250ZW50fGhzbHxoc2xhfGxpbmVhci1ncmFkaWVudHxtYXRyaXh8bWlubWF4fHJlcGVhdHxyZ2J8cmdiYXwocm90YXRlfHNjYWxlfHRyYW5zbGF0ZSkoWHxZfFp8M2QpP3x2YXIpXFxcXChbLSsqLzAtOWEtekEtWi4lI1xcXFxbXFxcXF0sIF0rXFxcXClcIiwgXCJnXCIpLCBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9DT01NRU5UX1JFID0gXG4vXFwvXFwqLztcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX3Nhbml0aXplVXJsKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZS5yZXBsYWNlKG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1VSTF9SRSwgZnVuY3Rpb24obWF0Y2gkanNjb21wJDAsIGJlZm9yZSwgdXJsLCBhZnRlcikge1xuICAgIHZhciBxdW90ZSA9IFwiXCI7XG4gICAgdXJsID0gdXJsLnJlcGxhY2UoL14oWydcIl0pKC4qKVxcMSQvLCBmdW5jdGlvbihtYXRjaCwgc3RhcnQsIGluc2lkZSkge1xuICAgICAgcXVvdGUgPSBzdGFydDtcbiAgICAgIHJldHVybiBpbnNpZGU7XG4gICAgfSk7XG4gICAgdmFyIHNhbml0aXplZCA9IGdvb2cuaHRtbC5TYWZlVXJsLnNhbml0aXplKHVybCkuZ2V0VHlwZWRTdHJpbmdWYWx1ZSgpO1xuICAgIHJldHVybiBiZWZvcmUgKyBxdW90ZSArIHNhbml0aXplZCArIHF1b3RlICsgYWZ0ZXI7XG4gIH0pO1xufVxuZ29vZy5odG1sLlNhZmVTdHlsZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZVNoZWV0X0NPTlNUUlVDVE9SX1RPS0VOX1BSSVZBVEUgPSB7fSwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVTaGVldF9TYWZlU3R5bGVTaGVldCA9IGZ1bmN0aW9uKHZhbHVlLCB0b2tlbikge1xuICB0aGlzLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVNhZmVTdHlsZVNoZWV0V3JhcHBlZFZhbHVlXyA9IHRva2VuID09PSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZVNoZWV0X0NPTlNUUlVDVE9SX1RPS0VOX1BSSVZBVEUgPyB2YWx1ZSA6IFwiXCI7XG4gIHRoaXMuaW1wbGVtZW50c0dvb2dTdHJpbmdUeXBlZFN0cmluZyA9ICEwO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQuY3JlYXRlUnVsZSA9IGZ1bmN0aW9uKHNlbGVjdG9yLCBzdHlsZSkge1xuICBpZiAoKDAsZ29vZy5zdHJpbmcuaW50ZXJuYWwuY29udGFpbnMpKHNlbGVjdG9yLCBcIjxcIikpIHtcbiAgICB0aHJvdyBFcnJvcihcIlNlbGVjdG9yIGRvZXMgbm90IGFsbG93ICc8JywgZ290OiBcIiArIHNlbGVjdG9yKTtcbiAgfVxuICB2YXIgc2VsZWN0b3JUb0NoZWNrID0gc2VsZWN0b3IucmVwbGFjZSgvKCd8XCIpKCg/IVxcMSlbXlxcclxcblxcZlxcXFxdfFxcXFxbXFxzXFxTXSkqXFwxL2csIFwiXCIpO1xuICBpZiAoIS9eWy1fYS16QS1aMC05Iy46KiAsPit+W1xcXSgpPV4kfF0rJC8udGVzdChzZWxlY3RvclRvQ2hlY2spKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJTZWxlY3RvciBhbGxvd3Mgb25seSBbLV9hLXpBLVowLTkjLjoqICw+K35bXFxcXF0oKT1eJHxdIGFuZCBzdHJpbmdzLCBnb3Q6IFwiICsgc2VsZWN0b3IpO1xuICB9XG4gIGlmICghbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVTaGVldF9TYWZlU3R5bGVTaGVldC5oYXNCYWxhbmNlZEJyYWNrZXRzXyhzZWxlY3RvclRvQ2hlY2spKSB7XG4gICAgdGhyb3cgRXJyb3IoXCIoKSBhbmQgW10gaW4gc2VsZWN0b3IgbXVzdCBiZSBiYWxhbmNlZCwgZ290OiBcIiArIHNlbGVjdG9yKTtcbiAgfVxuICBzdHlsZSBpbnN0YW5jZW9mIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZSB8fCAoc3R5bGUgPSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9TYWZlU3R5bGUuY3JlYXRlKHN0eWxlKSk7XG4gIHZhciBzdHlsZVNoZWV0ID0gc2VsZWN0b3IgKyBcIntcIiArIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlX1NhZmVTdHlsZS51bndyYXAoc3R5bGUpLnJlcGxhY2UoLzwvZywgXCJcXFxcM0MgXCIpICsgXCJ9XCI7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZVNoZWV0X1NhZmVTdHlsZVNoZWV0LmNyZWF0ZVNhZmVTdHlsZVNoZWV0U2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2Uoc3R5bGVTaGVldCk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVTaGVldF9TYWZlU3R5bGVTaGVldC5oYXNCYWxhbmNlZEJyYWNrZXRzXyA9IGZ1bmN0aW9uKHMpIHtcbiAgZm9yICh2YXIgYnJhY2tldHMgPSB7XCIoXCI6XCIpXCIsIFwiW1wiOlwiXVwifSwgZXhwZWN0ZWRCcmFja2V0cyA9IFtdLCBpID0gMDsgaSA8IHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgY2ggPSBzW2ldO1xuICAgIGlmIChicmFja2V0c1tjaF0pIHtcbiAgICAgIGV4cGVjdGVkQnJhY2tldHMucHVzaChicmFja2V0c1tjaF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2NvbnRhaW5zKGJyYWNrZXRzLCBjaCkgJiYgZXhwZWN0ZWRCcmFja2V0cy5wb3AoKSAhPSBjaCkge1xuICAgICAgICByZXR1cm4gITE7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiAwID09IGV4cGVjdGVkQnJhY2tldHMubGVuZ3RoO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQuY29uY2F0ID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgdmFyIHJlc3VsdCA9IFwiXCIsIGFkZEFyZ3VtZW50ID0gZnVuY3Rpb24oYXJndW1lbnQpIHtcbiAgICBBcnJheS5pc0FycmF5KGFyZ3VtZW50KSA/IGFyZ3VtZW50LmZvckVhY2goYWRkQXJndW1lbnQpIDogcmVzdWx0ICs9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQudW53cmFwKGFyZ3VtZW50KTtcbiAgfTtcbiAgQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhcmd1bWVudHMsIGFkZEFyZ3VtZW50KTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQuY3JlYXRlU2FmZVN0eWxlU2hlZXRTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShyZXN1bHQpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQuZnJvbUNvbnN0YW50ID0gZnVuY3Rpb24oc3R5bGVTaGVldCkge1xuICB2YXIgc3R5bGVTaGVldFN0cmluZyA9IGdvb2cuc3RyaW5nLkNvbnN0LnVud3JhcChzdHlsZVNoZWV0KTtcbiAgaWYgKDAgPT09IHN0eWxlU2hlZXRTdHJpbmcubGVuZ3RoKSB7XG4gICAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQuRU1QVFk7XG4gIH1cbiAgKDAsZ29vZy5hc3NlcnRzLmFzc2VydCkoISgwLGdvb2cuc3RyaW5nLmludGVybmFsLmNvbnRhaW5zKShzdHlsZVNoZWV0U3RyaW5nLCBcIjxcIiksIFwiRm9yYmlkZGVuICc8JyBjaGFyYWN0ZXIgaW4gc3R5bGUgc2hlZXQgc3RyaW5nOiBcIiArIHN0eWxlU2hlZXRTdHJpbmcpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVTaGVldF9TYWZlU3R5bGVTaGVldC5jcmVhdGVTYWZlU3R5bGVTaGVldFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKHN0eWxlU2hlZXRTdHJpbmcpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQucHJvdG90eXBlLmdldFR5cGVkU3RyaW5nVmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlU2FmZVN0eWxlU2hlZXRXcmFwcGVkVmFsdWVfO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQudW53cmFwID0gZnVuY3Rpb24oc2FmZVN0eWxlU2hlZXQpIHtcbiAgaWYgKHNhZmVTdHlsZVNoZWV0IGluc3RhbmNlb2YgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVTaGVldF9TYWZlU3R5bGVTaGVldCAmJiBzYWZlU3R5bGVTaGVldC5jb25zdHJ1Y3RvciA9PT0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVTaGVldF9TYWZlU3R5bGVTaGVldCkge1xuICAgIHJldHVybiBzYWZlU3R5bGVTaGVldC5wcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2VTYWZlU3R5bGVTaGVldFdyYXBwZWRWYWx1ZV87XG4gIH1cbiAgKDAsZ29vZy5hc3NlcnRzLmZhaWwpKFwiZXhwZWN0ZWQgb2JqZWN0IG9mIHR5cGUgU2FmZVN0eWxlU2hlZXQsIGdvdCAnXCIgKyBzYWZlU3R5bGVTaGVldCArIFwiJyBvZiB0eXBlIFwiICsgZ29vZy50eXBlT2Yoc2FmZVN0eWxlU2hlZXQpKTtcbiAgcmV0dXJuIFwidHlwZV9lcnJvcjpTYWZlU3R5bGVTaGVldFwiO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQuY3JlYXRlU2FmZVN0eWxlU2hlZXRTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZSA9IGZ1bmN0aW9uKHN0eWxlU2hlZXQpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZVNoZWV0X1NhZmVTdHlsZVNoZWV0KHN0eWxlU2hlZXQsIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfQ09OU1RSVUNUT1JfVE9LRU5fUFJJVkFURSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVTaGVldF9TYWZlU3R5bGVTaGVldC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlU2FmZVN0eWxlU2hlZXRXcmFwcGVkVmFsdWVfLnRvU3RyaW5nKCk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVTaGVldF9TYWZlU3R5bGVTaGVldC5FTVBUWSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQuY3JlYXRlU2FmZVN0eWxlU2hlZXRTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShcIlwiKTtcbmdvb2cuaHRtbC5TYWZlU3R5bGVTaGVldCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZVN0eWxlU2hlZXRfU2FmZVN0eWxlU2hlZXQ7XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9DT05TVFJVQ1RPUl9UT0tFTl9QUklWQVRFID0ge30sIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwgPSBmdW5jdGlvbih2YWx1ZSwgZGlyLCB0b2tlbikge1xuICB0aGlzLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVNhZmVIdG1sV3JhcHBlZFZhbHVlXyA9IHRva2VuID09PSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX0NPTlNUUlVDVE9SX1RPS0VOX1BSSVZBVEUgPyB2YWx1ZSA6IFwiXCI7XG4gIHRoaXMuZGlyXyA9IGRpcjtcbiAgdGhpcy5pbXBsZW1lbnRzR29vZ1N0cmluZ1R5cGVkU3RyaW5nID0gdGhpcy5pbXBsZW1lbnRzR29vZ0kxOG5CaWRpRGlyZWN0aW9uYWxTdHJpbmcgPSAhMDtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLnByb3RvdHlwZS5nZXREaXJlY3Rpb24gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZGlyXztcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLnByb3RvdHlwZS5nZXRUeXBlZFN0cmluZ1ZhbHVlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVNhZmVIdG1sV3JhcHBlZFZhbHVlXy50b1N0cmluZygpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnByaXZhdGVEb05vdEFjY2Vzc09yRWxzZVNhZmVIdG1sV3JhcHBlZFZhbHVlXy50b1N0cmluZygpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwudW53cmFwID0gZnVuY3Rpb24oc2FmZUh0bWwpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwudW53cmFwVHJ1c3RlZEhUTUwoc2FmZUh0bWwpLnRvU3RyaW5nKCk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC51bndyYXBUcnVzdGVkSFRNTCA9IGZ1bmN0aW9uKHNhZmVIdG1sKSB7XG4gIGlmIChzYWZlSHRtbCBpbnN0YW5jZW9mIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwgJiYgc2FmZUh0bWwuY29uc3RydWN0b3IgPT09IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwpIHtcbiAgICByZXR1cm4gc2FmZUh0bWwucHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlU2FmZUh0bWxXcmFwcGVkVmFsdWVfO1xuICB9XG4gIGdvb2cuYXNzZXJ0cy5mYWlsKFwiZXhwZWN0ZWQgb2JqZWN0IG9mIHR5cGUgU2FmZUh0bWwsIGdvdCAnXCIgKyBzYWZlSHRtbCArIFwiJyBvZiB0eXBlIFwiICsgZ29vZy50eXBlT2Yoc2FmZUh0bWwpKTtcbiAgcmV0dXJuIFwidHlwZV9lcnJvcjpTYWZlSHRtbFwiO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuaHRtbEVzY2FwZSA9IGZ1bmN0aW9uKHRleHRPckh0bWwpIHtcbiAgaWYgKHRleHRPckh0bWwgaW5zdGFuY2VvZiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sKSB7XG4gICAgcmV0dXJuIHRleHRPckh0bWw7XG4gIH1cbiAgdmFyIHRleHRJc09iamVjdCA9IFwib2JqZWN0XCIgPT0gdHlwZW9mIHRleHRPckh0bWwsIGRpciA9IG51bGw7XG4gIHRleHRJc09iamVjdCAmJiB0ZXh0T3JIdG1sLmltcGxlbWVudHNHb29nSTE4bkJpZGlEaXJlY3Rpb25hbFN0cmluZyAmJiAoZGlyID0gdGV4dE9ySHRtbC5nZXREaXJlY3Rpb24oKSk7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNyZWF0ZVNhZmVIdG1sU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UoZ29vZy5zdHJpbmcuaW50ZXJuYWwuaHRtbEVzY2FwZSh0ZXh0SXNPYmplY3QgJiYgdGV4dE9ySHRtbC5pbXBsZW1lbnRzR29vZ1N0cmluZ1R5cGVkU3RyaW5nID8gdGV4dE9ySHRtbC5nZXRUeXBlZFN0cmluZ1ZhbHVlKCkgOiBTdHJpbmcodGV4dE9ySHRtbCkpLCBkaXIpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuaHRtbEVzY2FwZVByZXNlcnZpbmdOZXdsaW5lcyA9IGZ1bmN0aW9uKHRleHRPckh0bWwpIHtcbiAgaWYgKHRleHRPckh0bWwgaW5zdGFuY2VvZiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sKSB7XG4gICAgcmV0dXJuIHRleHRPckh0bWw7XG4gIH1cbiAgdmFyIGh0bWwgPSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmh0bWxFc2NhcGUodGV4dE9ySHRtbCk7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNyZWF0ZVNhZmVIdG1sU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UoZ29vZy5zdHJpbmcuaW50ZXJuYWwubmV3TGluZVRvQnIobW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC51bndyYXAoaHRtbCkpLCBodG1sLmdldERpcmVjdGlvbigpKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmh0bWxFc2NhcGVQcmVzZXJ2aW5nTmV3bGluZXNBbmRTcGFjZXMgPSBmdW5jdGlvbih0ZXh0T3JIdG1sKSB7XG4gIGlmICh0ZXh0T3JIdG1sIGluc3RhbmNlb2YgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbCkge1xuICAgIHJldHVybiB0ZXh0T3JIdG1sO1xuICB9XG4gIHZhciBodG1sID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5odG1sRXNjYXBlKHRleHRPckh0bWwpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVTYWZlSHRtbFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKGdvb2cuc3RyaW5nLmludGVybmFsLndoaXRlc3BhY2VFc2NhcGUobW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC51bndyYXAoaHRtbCkpLCBodG1sLmdldERpcmVjdGlvbigpKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNvbW1lbnQgPSBmdW5jdGlvbih0ZXh0KSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNyZWF0ZVNhZmVIdG1sU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UoXCJcXHgzYyEtLVwiICsgZ29vZy5zdHJpbmcuaW50ZXJuYWwuaHRtbEVzY2FwZSh0ZXh0KSArIFwiLS1cXHgzZVwiLCBudWxsKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNyZWF0ZSA9IGZ1bmN0aW9uKHRhZ05hbWUsIGF0dHJpYnV0ZXMsIGNvbnRlbnQpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC52ZXJpZnlUYWdOYW1lKFN0cmluZyh0YWdOYW1lKSk7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNyZWF0ZVNhZmVIdG1sVGFnU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UoU3RyaW5nKHRhZ05hbWUpLCBhdHRyaWJ1dGVzLCBjb250ZW50KTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLnZlcmlmeVRhZ05hbWUgPSBmdW5jdGlvbih0YWdOYW1lKSB7XG4gIGlmICghbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9WQUxJRF9OQU1FU19JTl9UQUcudGVzdCh0YWdOYW1lKSkge1xuICAgIHRocm93IEVycm9yKG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuRU5BQkxFX0VSUk9SX01FU1NBR0VTID8gXCJJbnZhbGlkIHRhZyBuYW1lIDxcIiArIHRhZ05hbWUgKyBcIj4uXCIgOiBcIlwiKTtcbiAgfVxuICBpZiAodGFnTmFtZS50b1VwcGVyQ2FzZSgpIGluIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfTk9UX0FMTE9XRURfVEFHX05BTUVTKSB7XG4gICAgdGhyb3cgRXJyb3IobW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5FTkFCTEVfRVJST1JfTUVTU0FHRVMgPyBcIlRhZyBuYW1lIDxcIiArIHRhZ05hbWUgKyBcIj4gaXMgbm90IGFsbG93ZWQgZm9yIFNhZmVIdG1sLlwiIDogXCJcIik7XG4gIH1cbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNyZWF0ZUlmcmFtZSA9IGZ1bmN0aW9uKHNyYywgc3JjZG9jLCBhdHRyaWJ1dGVzLCBjb250ZW50KSB7XG4gIHNyYyAmJiBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLnVud3JhcChzcmMpO1xuICB2YXIgZml4ZWRBdHRyaWJ1dGVzID0ge307XG4gIGZpeGVkQXR0cmlidXRlcy5zcmMgPSBzcmMgfHwgbnVsbDtcbiAgZml4ZWRBdHRyaWJ1dGVzLnNyY2RvYyA9IHNyY2RvYyAmJiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLnVud3JhcChzcmNkb2MpO1xuICB2YXIgY29tYmluZWRBdHRycyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY29tYmluZUF0dHJpYnV0ZXMoZml4ZWRBdHRyaWJ1dGVzLCB7c2FuZGJveDpcIlwifSwgYXR0cmlidXRlcyk7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNyZWF0ZVNhZmVIdG1sVGFnU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UoXCJpZnJhbWVcIiwgY29tYmluZWRBdHRycywgY29udGVudCk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVTYW5kYm94SWZyYW1lID0gZnVuY3Rpb24oc3JjLCBzcmNkb2MsIGF0dHJpYnV0ZXMsIGNvbnRlbnQpIHtcbiAgaWYgKCFtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNhblVzZVNhbmRib3hJZnJhbWUoKSkge1xuICAgIHRocm93IEVycm9yKG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuRU5BQkxFX0VSUk9SX01FU1NBR0VTID8gXCJUaGUgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHNhbmRib3hlZCBpZnJhbWVzLlwiIDogXCJcIik7XG4gIH1cbiAgdmFyIGZpeGVkQXR0cmlidXRlcyA9IHt9O1xuICBmaXhlZEF0dHJpYnV0ZXMuc3JjID0gc3JjID8gZ29vZy5odG1sLlNhZmVVcmwudW53cmFwKGdvb2cuaHRtbC5TYWZlVXJsLnNhbml0aXplKHNyYykpIDogbnVsbDtcbiAgZml4ZWRBdHRyaWJ1dGVzLnNyY2RvYyA9IHNyY2RvYyB8fCBudWxsO1xuICBmaXhlZEF0dHJpYnV0ZXMuc2FuZGJveCA9IFwiXCI7XG4gIHZhciBjb21iaW5lZEF0dHJzID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jb21iaW5lQXR0cmlidXRlcyhmaXhlZEF0dHJpYnV0ZXMsIHt9LCBhdHRyaWJ1dGVzKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY3JlYXRlU2FmZUh0bWxUYWdTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShcImlmcmFtZVwiLCBjb21iaW5lZEF0dHJzLCBjb250ZW50KTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNhblVzZVNhbmRib3hJZnJhbWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGdvb2cuZ2xvYmFsLkhUTUxJRnJhbWVFbGVtZW50ICYmIFwic2FuZGJveFwiIGluIGdvb2cuZ2xvYmFsLkhUTUxJRnJhbWVFbGVtZW50LnByb3RvdHlwZTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNyZWF0ZVNjcmlwdFNyYyA9IGZ1bmN0aW9uKHNyYywgYXR0cmlidXRlcykge1xuICBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLnVud3JhcChzcmMpO1xuICB2YXIgY29tYmluZWRBdHRycyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY29tYmluZUF0dHJpYnV0ZXMoe3NyYzpzcmN9LCB7fSwgYXR0cmlidXRlcyk7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNyZWF0ZVNhZmVIdG1sVGFnU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UoXCJzY3JpcHRcIiwgY29tYmluZWRBdHRycyk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVTY3JpcHQgPSBmdW5jdGlvbihzY3JpcHQsIGF0dHJpYnV0ZXMpIHtcbiAgZm9yICh2YXIgYXR0ciBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhdHRyaWJ1dGVzLCBhdHRyKSkge1xuICAgICAgdmFyIGF0dHJMb3dlciA9IGF0dHIudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmIChcImxhbmd1YWdlXCIgPT0gYXR0ckxvd2VyIHx8IFwic3JjXCIgPT0gYXR0ckxvd2VyIHx8IFwidGV4dFwiID09IGF0dHJMb3dlciB8fCBcInR5cGVcIiA9PSBhdHRyTG93ZXIpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IobW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5FTkFCTEVfRVJST1JfTUVTU0FHRVMgPyAnQ2Fubm90IHNldCBcIicgKyBhdHRyTG93ZXIgKyAnXCIgYXR0cmlidXRlJyA6IFwiXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICB2YXIgY29udGVudCA9IFwiXCI7XG4gIHNjcmlwdCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2NvbmNhdChzY3JpcHQpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHNjcmlwdC5sZW5ndGg7IGkrKykge1xuICAgIGNvbnRlbnQgKz0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU2NyaXB0X1NhZmVTY3JpcHQudW53cmFwKHNjcmlwdFtpXSk7XG4gIH1cbiAgdmFyIGh0bWxDb250ZW50ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVTYWZlSHRtbFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKGNvbnRlbnQsIGdvb2cuaTE4bi5iaWRpLkRpci5ORVVUUkFMKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY3JlYXRlU2FmZUh0bWxUYWdTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShcInNjcmlwdFwiLCBhdHRyaWJ1dGVzLCBodG1sQ29udGVudCk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVTdHlsZSA9IGZ1bmN0aW9uKHN0eWxlU2hlZXQsIGF0dHJpYnV0ZXMpIHtcbiAgdmFyIGNvbWJpbmVkQXR0cnMgPSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNvbWJpbmVBdHRyaWJ1dGVzKHt0eXBlOlwidGV4dC9jc3NcIn0sIHt9LCBhdHRyaWJ1dGVzKSwgY29udGVudCA9IFwiXCI7XG4gIHN0eWxlU2hlZXQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb25jYXQoc3R5bGVTaGVldCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVTaGVldC5sZW5ndGg7IGkrKykge1xuICAgIGNvbnRlbnQgKz0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVTaGVldF9TYWZlU3R5bGVTaGVldC51bndyYXAoc3R5bGVTaGVldFtpXSk7XG4gIH1cbiAgdmFyIGh0bWxDb250ZW50ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVTYWZlSHRtbFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKGNvbnRlbnQsIGdvb2cuaTE4bi5iaWRpLkRpci5ORVVUUkFMKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY3JlYXRlU2FmZUh0bWxUYWdTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShcInN0eWxlXCIsIGNvbWJpbmVkQXR0cnMsIGh0bWxDb250ZW50KTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNyZWF0ZU1ldGFSZWZyZXNoID0gZnVuY3Rpb24odXJsLCBzZWNzKSB7XG4gIHZhciB1bndyYXBwZWRVcmwgPSBnb29nLmh0bWwuU2FmZVVybC51bndyYXAoZ29vZy5odG1sLlNhZmVVcmwuc2FuaXRpemUodXJsKSk7XG4gIChtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoSUUoKSB8fCBtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoRWRnZUh0bWwoKSkgJiYgZ29vZy5zdHJpbmcuaW50ZXJuYWwuY29udGFpbnModW53cmFwcGVkVXJsLCBcIjtcIikgJiYgKHVud3JhcHBlZFVybCA9IFwiJ1wiICsgdW53cmFwcGVkVXJsLnJlcGxhY2UoLycvZywgXCIlMjdcIikgKyBcIidcIik7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNyZWF0ZVNhZmVIdG1sVGFnU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UoXCJtZXRhXCIsIHtcImh0dHAtZXF1aXZcIjpcInJlZnJlc2hcIiwgY29udGVudDooc2VjcyB8fCAwKSArIFwiOyB1cmw9XCIgKyB1bndyYXBwZWRVcmwsfSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVXaXRoRGlyID0gZnVuY3Rpb24oZGlyLCB0YWdOYW1lLCBhdHRyaWJ1dGVzLCBjb250ZW50KSB7XG4gIHZhciBodG1sID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGUodGFnTmFtZSwgYXR0cmlidXRlcywgY29udGVudCk7XG4gIGh0bWwuZGlyXyA9IGRpcjtcbiAgcmV0dXJuIGh0bWw7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5qb2luID0gZnVuY3Rpb24oc2VwYXJhdG9yLCBwYXJ0cykge1xuICB2YXIgc2VwYXJhdG9ySHRtbCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuaHRtbEVzY2FwZShzZXBhcmF0b3IpLCBkaXIgPSBzZXBhcmF0b3JIdG1sLmdldERpcmVjdGlvbigpLCBjb250ZW50ID0gW10sIGFkZEFyZ3VtZW50ID0gZnVuY3Rpb24oYXJndW1lbnQpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhcmd1bWVudCkpIHtcbiAgICAgIGFyZ3VtZW50LmZvckVhY2goYWRkQXJndW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaHRtbCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuaHRtbEVzY2FwZShhcmd1bWVudCk7XG4gICAgICBjb250ZW50LnB1c2gobW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC51bndyYXAoaHRtbCkpO1xuICAgICAgdmFyIGh0bWxEaXIgPSBodG1sLmdldERpcmVjdGlvbigpO1xuICAgICAgZGlyID09IGdvb2cuaTE4bi5iaWRpLkRpci5ORVVUUkFMID8gZGlyID0gaHRtbERpciA6IGh0bWxEaXIgIT0gZ29vZy5pMThuLmJpZGkuRGlyLk5FVVRSQUwgJiYgZGlyICE9IGh0bWxEaXIgJiYgKGRpciA9IG51bGwpO1xuICAgIH1cbiAgfTtcbiAgcGFydHMuZm9yRWFjaChhZGRBcmd1bWVudCk7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNyZWF0ZVNhZmVIdG1sU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UoY29udGVudC5qb2luKG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwudW53cmFwKHNlcGFyYXRvckh0bWwpKSwgZGlyKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNvbmNhdCA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmpvaW4obW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5FTVBUWSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jb25jYXRXaXRoRGlyID0gZnVuY3Rpb24oZGlyLCB2YXJfYXJncykge1xuICB2YXIgaHRtbCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICBodG1sLmRpcl8gPSBkaXI7XG4gIHJldHVybiBodG1sO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY3JlYXRlU2FmZUh0bWxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZSA9IGZ1bmN0aW9uKGh0bWwsIGRpcikge1xuICB2YXIgcG9saWN5ID0gZ29vZy5odG1sLnRydXN0ZWR0eXBlcy5nZXRQb2xpY3lQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UoKSwgdHJ1c3RlZEh0bWwgPSBwb2xpY3kgPyBwb2xpY3kuY3JlYXRlSFRNTChodG1sKSA6IGh0bWw7XG4gIHJldHVybiBuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbCh0cnVzdGVkSHRtbCwgZGlyLCBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX0NPTlNUUlVDVE9SX1RPS0VOX1BSSVZBVEUpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY3JlYXRlU2FmZUh0bWxUYWdTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZSA9IGZ1bmN0aW9uKHRhZ05hbWUsIGF0dHJpYnV0ZXMsIGNvbnRlbnQpIHtcbiAgdmFyIGRpciA9IG51bGw7XG4gIHZhciByZXN1bHQgPSBcIjxcIiArIHRhZ05hbWUgKyBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLnN0cmluZ2lmeUF0dHJpYnV0ZXModGFnTmFtZSwgYXR0cmlidXRlcyk7XG4gIG51bGwgPT0gY29udGVudCA/IGNvbnRlbnQgPSBbXSA6IEFycmF5LmlzQXJyYXkoY29udGVudCkgfHwgKGNvbnRlbnQgPSBbY29udGVudF0pO1xuICBpZiAoZ29vZy5kb20udGFncy5pc1ZvaWRUYWcodGFnTmFtZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgIGdvb2cuYXNzZXJ0cy5hc3NlcnQoIWNvbnRlbnQubGVuZ3RoLCBcIlZvaWQgdGFnIDxcIiArIHRhZ05hbWUgKyBcIj4gZG9lcyBub3QgYWxsb3cgY29udGVudC5cIiksIHJlc3VsdCArPSBcIj5cIjtcbiAgfSBlbHNlIHtcbiAgICB2YXIgaHRtbCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY29uY2F0KGNvbnRlbnQpO1xuICAgIHJlc3VsdCArPSBcIj5cIiArIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwudW53cmFwKGh0bWwpICsgXCI8L1wiICsgdGFnTmFtZSArIFwiPlwiO1xuICAgIGRpciA9IGh0bWwuZ2V0RGlyZWN0aW9uKCk7XG4gIH1cbiAgdmFyIGRpckF0dHJpYnV0ZSA9IGF0dHJpYnV0ZXMgJiYgYXR0cmlidXRlcy5kaXI7XG4gIGRpckF0dHJpYnV0ZSAmJiAoZGlyID0gL14obHRyfHJ0bHxhdXRvKSQvaS50ZXN0KGRpckF0dHJpYnV0ZSkgPyBnb29nLmkxOG4uYmlkaS5EaXIuTkVVVFJBTCA6IG51bGwpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVTYWZlSHRtbFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKHJlc3VsdCwgZGlyKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLnN0cmluZ2lmeUF0dHJpYnV0ZXMgPSBmdW5jdGlvbih0YWdOYW1lLCBhdHRyaWJ1dGVzKSB7XG4gIHZhciByZXN1bHQgPSBcIlwiO1xuICBpZiAoYXR0cmlidXRlcykge1xuICAgIGZvciAodmFyIG5hbWUgaW4gYXR0cmlidXRlcykge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhdHRyaWJ1dGVzLCBuYW1lKSkge1xuICAgICAgICBpZiAoIW1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfVkFMSURfTkFNRVNfSU5fVEFHLnRlc3QobmFtZSkpIHtcbiAgICAgICAgICB0aHJvdyBFcnJvcihtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLkVOQUJMRV9FUlJPUl9NRVNTQUdFUyA/ICdJbnZhbGlkIGF0dHJpYnV0ZSBuYW1lIFwiJyArIG5hbWUgKyAnXCIuJyA6IFwiXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YWx1ZSA9IGF0dHJpYnV0ZXNbbmFtZV07XG4gICAgICAgIG51bGwgIT0gdmFsdWUgJiYgKHJlc3VsdCArPSBcIiBcIiArIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfZ2V0QXR0ck5hbWVBbmRWYWx1ZSh0YWdOYW1lLCBuYW1lLCB2YWx1ZSkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY29tYmluZUF0dHJpYnV0ZXMgPSBmdW5jdGlvbihmaXhlZEF0dHJpYnV0ZXMsIGRlZmF1bHRBdHRyaWJ1dGVzLCBhdHRyaWJ1dGVzKSB7XG4gIHZhciBjb21iaW5lZEF0dHJpYnV0ZXMgPSB7fSwgbmFtZTtcbiAgZm9yIChuYW1lIGluIGZpeGVkQXR0cmlidXRlcykge1xuICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChmaXhlZEF0dHJpYnV0ZXMsIG5hbWUpICYmIChnb29nLmFzc2VydHMuYXNzZXJ0KG5hbWUudG9Mb3dlckNhc2UoKSA9PSBuYW1lLCBcIk11c3QgYmUgbG93ZXIgY2FzZVwiKSwgY29tYmluZWRBdHRyaWJ1dGVzW25hbWVdID0gZml4ZWRBdHRyaWJ1dGVzW25hbWVdKTtcbiAgfVxuICBmb3IgKHZhciBuYW1lJDQ4IGluIGRlZmF1bHRBdHRyaWJ1dGVzKSB7XG4gICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRlZmF1bHRBdHRyaWJ1dGVzLCBuYW1lJDQ4KSAmJiAoZ29vZy5hc3NlcnRzLmFzc2VydChuYW1lJDQ4LnRvTG93ZXJDYXNlKCkgPT0gbmFtZSQ0OCwgXCJNdXN0IGJlIGxvd2VyIGNhc2VcIiksIGNvbWJpbmVkQXR0cmlidXRlc1tuYW1lJDQ4XSA9IGRlZmF1bHRBdHRyaWJ1dGVzW25hbWUkNDhdKTtcbiAgfVxuICBpZiAoYXR0cmlidXRlcykge1xuICAgIGZvciAodmFyIG5hbWUkNDkgaW4gYXR0cmlidXRlcykge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhdHRyaWJ1dGVzLCBuYW1lJDQ5KSkge1xuICAgICAgICB2YXIgbmFtZUxvd2VyID0gbmFtZSQ0OS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZiAobmFtZUxvd2VyIGluIGZpeGVkQXR0cmlidXRlcykge1xuICAgICAgICAgIHRocm93IEVycm9yKG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuRU5BQkxFX0VSUk9SX01FU1NBR0VTID8gJ0Nhbm5vdCBvdmVycmlkZSBcIicgKyBuYW1lTG93ZXIgKyAnXCIgYXR0cmlidXRlLCBnb3QgXCInICsgbmFtZSQ0OSArICdcIiB3aXRoIHZhbHVlIFwiJyArIGF0dHJpYnV0ZXNbbmFtZSQ0OV0gKyAnXCInIDogXCJcIik7XG4gICAgICAgIH1cbiAgICAgICAgbmFtZUxvd2VyIGluIGRlZmF1bHRBdHRyaWJ1dGVzICYmIGRlbGV0ZSBjb21iaW5lZEF0dHJpYnV0ZXNbbmFtZUxvd2VyXTtcbiAgICAgICAgY29tYmluZWRBdHRyaWJ1dGVzW25hbWUkNDldID0gYXR0cmlidXRlc1tuYW1lJDQ5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNvbWJpbmVkQXR0cmlidXRlcztcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLkVOQUJMRV9FUlJPUl9NRVNTQUdFUyA9IGdvb2cuREVCVUc7XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLlNVUFBPUlRfU1RZTEVfQVRUUklCVVRFID0gITA7XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmZyb20gPSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmh0bWxFc2NhcGU7XG52YXIgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9WQUxJRF9OQU1FU19JTl9UQUcgPSAvXlthLXpBLVowLTktXSskLywgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9VUkxfQVRUUklCVVRFUyA9IHthY3Rpb246ITAsIGNpdGU6ITAsIGRhdGE6ITAsIGZvcm1hY3Rpb246ITAsIGhyZWY6ITAsIG1hbmlmZXN0OiEwLCBwb3N0ZXI6ITAsIHNyYzohMH0sIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfTk9UX0FMTE9XRURfVEFHX05BTUVTID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2NyZWF0ZVNldChnb29nLmRvbS5UYWdOYW1lLkFQUExFVCwgZ29vZy5kb20uVGFnTmFtZS5CQVNFLCBnb29nLmRvbS5UYWdOYW1lLkVNQkVELCBnb29nLmRvbS5UYWdOYW1lLklGUkFNRSwgZ29vZy5kb20uVGFnTmFtZS5MSU5LLCBnb29nLmRvbS5UYWdOYW1lLk1BVEgsIGdvb2cuZG9tLlRhZ05hbWUuTUVUQSwgZ29vZy5kb20uVGFnTmFtZS5PQkpFQ1QsIFxuZ29vZy5kb20uVGFnTmFtZS5TQ1JJUFQsIGdvb2cuZG9tLlRhZ05hbWUuU1RZTEUsIGdvb2cuZG9tLlRhZ05hbWUuU1ZHLCBnb29nLmRvbS5UYWdOYW1lLlRFTVBMQVRFKTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfZ2V0QXR0ck5hbWVBbmRWYWx1ZSh0YWdOYW1lLCBuYW1lLCB2YWx1ZSkge1xuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBnb29nLnN0cmluZy5Db25zdCkge1xuICAgIHZhbHVlID0gZ29vZy5zdHJpbmcuQ29uc3QudW53cmFwKHZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoXCJzdHlsZVwiID09IG5hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgaWYgKG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuU1VQUE9SVF9TVFlMRV9BVFRSSUJVVEUpIHtcbiAgICAgICAgdmFsdWUgPSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX2dldFN0eWxlVmFsdWUodmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IobW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5FTkFCTEVfRVJST1JfTUVTU0FHRVMgPyAnQXR0cmlidXRlIFwic3R5bGVcIiBub3Qgc3VwcG9ydGVkLicgOiBcIlwiKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKC9eb24vaS50ZXN0KG5hbWUpKSB7XG4gICAgICAgIHRocm93IEVycm9yKG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuRU5BQkxFX0VSUk9SX01FU1NBR0VTID8gJ0F0dHJpYnV0ZSBcIicgKyBuYW1lICsgJ1wiIHJlcXVpcmVzIGdvb2cuc3RyaW5nLkNvbnN0IHZhbHVlLCBcIicgKyB2YWx1ZSArICdcIiBnaXZlbi4nIDogXCJcIik7XG4gICAgICB9XG4gICAgICBpZiAobmFtZS50b0xvd2VyQ2FzZSgpIGluIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfVVJMX0FUVFJJQlVURVMpIHtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybCkge1xuICAgICAgICAgIHZhbHVlID0gZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC51bndyYXAodmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIGdvb2cuaHRtbC5TYWZlVXJsKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGdvb2cuaHRtbC5TYWZlVXJsLnVud3JhcCh2YWx1ZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICAgICAgdmFsdWUgPSBnb29nLmh0bWwuU2FmZVVybC5zYW5pdGl6ZSh2YWx1ZSkuZ2V0VHlwZWRTdHJpbmdWYWx1ZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IobW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5FTkFCTEVfRVJST1JfTUVTU0FHRVMgPyAnQXR0cmlidXRlIFwiJyArIG5hbWUgKyAnXCIgb24gdGFnIFwiJyArIHRhZ05hbWUgKyAnXCIgcmVxdWlyZXMgZ29vZy5odG1sLlNhZmVVcmwsIGdvb2cuc3RyaW5nLkNvbnN0LCBvciBzdHJpbmcsIHZhbHVlIFwiJyArIHZhbHVlICsgJ1wiIGdpdmVuLicgOiBcIlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgdmFsdWUuaW1wbGVtZW50c0dvb2dTdHJpbmdUeXBlZFN0cmluZyAmJiAodmFsdWUgPSB2YWx1ZS5nZXRUeXBlZFN0cmluZ1ZhbHVlKCkpO1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KFwic3RyaW5nXCIgPT09IHR5cGVvZiB2YWx1ZSB8fCBcIm51bWJlclwiID09PSB0eXBlb2YgdmFsdWUsIFwiU3RyaW5nIG9yIG51bWJlciB2YWx1ZSBleHBlY3RlZCwgZ290IFwiICsgdHlwZW9mIHZhbHVlICsgXCIgd2l0aCB2YWx1ZTogXCIgKyB2YWx1ZSk7XG4gIHJldHVybiBuYW1lICsgJz1cIicgKyBnb29nLnN0cmluZy5pbnRlcm5hbC5odG1sRXNjYXBlKFN0cmluZyh2YWx1ZSkpICsgJ1wiJztcbn1cbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfZ2V0U3R5bGVWYWx1ZSh2YWx1ZSkge1xuICBpZiAoIWdvb2cuaXNPYmplY3QodmFsdWUpKSB7XG4gICAgdGhyb3cgRXJyb3IobW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5FTkFCTEVfRVJST1JfTUVTU0FHRVMgPyAnVGhlIFwic3R5bGVcIiBhdHRyaWJ1dGUgcmVxdWlyZXMgZ29vZy5odG1sLlNhZmVTdHlsZSBvciBtYXAgb2Ygc3R5bGUgcHJvcGVydGllcywgJyArIHR5cGVvZiB2YWx1ZSArIFwiIGdpdmVuOiBcIiArIHZhbHVlIDogXCJcIik7XG4gIH1cbiAgdmFsdWUgaW5zdGFuY2VvZiBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZV9TYWZlU3R5bGUgfHwgKHZhbHVlID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlLmNyZWF0ZSh2YWx1ZSkpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlLnVud3JhcCh2YWx1ZSk7XG59XG5tb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLkRPQ1RZUEVfSFRNTCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC5jcmVhdGVTYWZlSHRtbFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKFwiPCFET0NUWVBFIGh0bWw+XCIsIGdvb2cuaTE4bi5iaWRpLkRpci5ORVVUUkFMKTtcbn0oKTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuRU1QVFkgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbChnb29nLmdsb2JhbC50cnVzdGVkVHlwZXMgJiYgZ29vZy5nbG9iYWwudHJ1c3RlZFR5cGVzLmVtcHR5SFRNTCB8fCBcIlwiLCBnb29nLmkxOG4uYmlkaS5EaXIuTkVVVFJBTCwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9DT05TVFJVQ1RPUl9UT0tFTl9QUklWQVRFKTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuQlIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY3JlYXRlU2FmZUh0bWxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShcIjxicj5cIiwgZ29vZy5pMThuLmJpZGkuRGlyLk5FVVRSQUwpO1xufSgpO1xuZ29vZy5odG1sLlNhZmVIdG1sID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbDtcbmdvb2cuaHRtbC51bmNoZWNrZWRjb252ZXJzaW9ucyA9IHt9O1xuZ29vZy5odG1sLnVuY2hlY2tlZGNvbnZlcnNpb25zLnNhZmVIdG1sRnJvbVN0cmluZ0tub3duVG9TYXRpc2Z5VHlwZUNvbnRyYWN0ID0gZnVuY3Rpb24oanVzdGlmaWNhdGlvbiwgaHRtbCwgb3B0X2Rpcikge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0U3RyaW5nKGdvb2cuc3RyaW5nLkNvbnN0LnVud3JhcChqdXN0aWZpY2F0aW9uKSwgXCJtdXN0IHByb3ZpZGUganVzdGlmaWNhdGlvblwiKTtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydCghZ29vZy5zdHJpbmcuaW50ZXJuYWwuaXNFbXB0eU9yV2hpdGVzcGFjZShnb29nLnN0cmluZy5Db25zdC51bndyYXAoanVzdGlmaWNhdGlvbikpLCBcIm11c3QgcHJvdmlkZSBub24tZW1wdHkganVzdGlmaWNhdGlvblwiKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuY3JlYXRlU2FmZUh0bWxTZWN1cml0eVByaXZhdGVEb05vdEFjY2Vzc09yRWxzZShodG1sLCBvcHRfZGlyIHx8IG51bGwpO1xufTtcbmdvb2cuaHRtbC51bmNoZWNrZWRjb252ZXJzaW9ucy5zYWZlU2NyaXB0RnJvbVN0cmluZ0tub3duVG9TYXRpc2Z5VHlwZUNvbnRyYWN0ID0gZnVuY3Rpb24oanVzdGlmaWNhdGlvbiwgc2NyaXB0KSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnRTdHJpbmcoZ29vZy5zdHJpbmcuQ29uc3QudW53cmFwKGp1c3RpZmljYXRpb24pLCBcIm11c3QgcHJvdmlkZSBqdXN0aWZpY2F0aW9uXCIpO1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KCFnb29nLnN0cmluZy5pbnRlcm5hbC5pc0VtcHR5T3JXaGl0ZXNwYWNlKGdvb2cuc3RyaW5nLkNvbnN0LnVud3JhcChqdXN0aWZpY2F0aW9uKSksIFwibXVzdCBwcm92aWRlIG5vbi1lbXB0eSBqdXN0aWZpY2F0aW9uXCIpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU2NyaXB0X1NhZmVTY3JpcHQuY3JlYXRlU2FmZVNjcmlwdFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKHNjcmlwdCk7XG59O1xuZ29vZy5odG1sLnVuY2hlY2tlZGNvbnZlcnNpb25zLnNhZmVTdHlsZUZyb21TdHJpbmdLbm93blRvU2F0aXNmeVR5cGVDb250cmFjdCA9IGZ1bmN0aW9uKGp1c3RpZmljYXRpb24sIHN0eWxlKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnRTdHJpbmcoZ29vZy5zdHJpbmcuQ29uc3QudW53cmFwKGp1c3RpZmljYXRpb24pLCBcIm11c3QgcHJvdmlkZSBqdXN0aWZpY2F0aW9uXCIpO1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KCFnb29nLnN0cmluZy5pbnRlcm5hbC5pc0VtcHR5T3JXaGl0ZXNwYWNlKGdvb2cuc3RyaW5nLkNvbnN0LnVud3JhcChqdXN0aWZpY2F0aW9uKSksIFwibXVzdCBwcm92aWRlIG5vbi1lbXB0eSBqdXN0aWZpY2F0aW9uXCIpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlLmNyZWF0ZVNhZmVTdHlsZVNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKHN0eWxlKTtcbn07XG5nb29nLmh0bWwudW5jaGVja2VkY29udmVyc2lvbnMuc2FmZVN0eWxlU2hlZXRGcm9tU3RyaW5nS25vd25Ub1NhdGlzZnlUeXBlQ29udHJhY3QgPSBmdW5jdGlvbihqdXN0aWZpY2F0aW9uLCBzdHlsZVNoZWV0KSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnRTdHJpbmcoZ29vZy5zdHJpbmcuQ29uc3QudW53cmFwKGp1c3RpZmljYXRpb24pLCBcIm11c3QgcHJvdmlkZSBqdXN0aWZpY2F0aW9uXCIpO1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KCFnb29nLnN0cmluZy5pbnRlcm5hbC5pc0VtcHR5T3JXaGl0ZXNwYWNlKGdvb2cuc3RyaW5nLkNvbnN0LnVud3JhcChqdXN0aWZpY2F0aW9uKSksIFwibXVzdCBwcm92aWRlIG5vbi1lbXB0eSBqdXN0aWZpY2F0aW9uXCIpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVTaGVldF9TYWZlU3R5bGVTaGVldC5jcmVhdGVTYWZlU3R5bGVTaGVldFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKHN0eWxlU2hlZXQpO1xufTtcbmdvb2cuaHRtbC51bmNoZWNrZWRjb252ZXJzaW9ucy5zYWZlVXJsRnJvbVN0cmluZ0tub3duVG9TYXRpc2Z5VHlwZUNvbnRyYWN0ID0gZnVuY3Rpb24oanVzdGlmaWNhdGlvbiwgdXJsKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnRTdHJpbmcoZ29vZy5zdHJpbmcuQ29uc3QudW53cmFwKGp1c3RpZmljYXRpb24pLCBcIm11c3QgcHJvdmlkZSBqdXN0aWZpY2F0aW9uXCIpO1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KCFnb29nLnN0cmluZy5pbnRlcm5hbC5pc0VtcHR5T3JXaGl0ZXNwYWNlKGdvb2cuc3RyaW5nLkNvbnN0LnVud3JhcChqdXN0aWZpY2F0aW9uKSksIFwibXVzdCBwcm92aWRlIG5vbi1lbXB0eSBqdXN0aWZpY2F0aW9uXCIpO1xuICByZXR1cm4gZ29vZy5odG1sLlNhZmVVcmwuY3JlYXRlU2FmZVVybFNlY3VyaXR5UHJpdmF0ZURvTm90QWNjZXNzT3JFbHNlKHVybCk7XG59O1xuZ29vZy5odG1sLnVuY2hlY2tlZGNvbnZlcnNpb25zLnRydXN0ZWRSZXNvdXJjZVVybEZyb21TdHJpbmdLbm93blRvU2F0aXNmeVR5cGVDb250cmFjdCA9IGZ1bmN0aW9uKGp1c3RpZmljYXRpb24sIHVybCkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0U3RyaW5nKGdvb2cuc3RyaW5nLkNvbnN0LnVud3JhcChqdXN0aWZpY2F0aW9uKSwgXCJtdXN0IHByb3ZpZGUganVzdGlmaWNhdGlvblwiKTtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydCghZ29vZy5zdHJpbmcuaW50ZXJuYWwuaXNFbXB0eU9yV2hpdGVzcGFjZShnb29nLnN0cmluZy5Db25zdC51bndyYXAoanVzdGlmaWNhdGlvbikpLCBcIm11c3QgcHJvdmlkZSBub24tZW1wdHkganVzdGlmaWNhdGlvblwiKTtcbiAgcmV0dXJuIGdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwuY3JlYXRlVHJ1c3RlZFJlc291cmNlVXJsU2VjdXJpdHlQcml2YXRlRG9Ob3RBY2Nlc3NPckVsc2UodXJsKTtcbn07XG5nb29nLmRvbS5zYWZlID0ge307XG5nb29nLmRvbS5zYWZlLkluc2VydEFkamFjZW50SHRtbFBvc2l0aW9uID0ge0FGVEVSQkVHSU46XCJhZnRlcmJlZ2luXCIsIEFGVEVSRU5EOlwiYWZ0ZXJlbmRcIiwgQkVGT1JFQkVHSU46XCJiZWZvcmViZWdpblwiLCBCRUZPUkVFTkQ6XCJiZWZvcmVlbmRcIn07XG5nb29nLmRvbS5zYWZlLmluc2VydEFkamFjZW50SHRtbCA9IGZ1bmN0aW9uKG5vZGUsIHBvc2l0aW9uLCBodG1sKSB7XG4gIG5vZGUuaW5zZXJ0QWRqYWNlbnRIVE1MKHBvc2l0aW9uLCBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLnVud3JhcFRydXN0ZWRIVE1MKGh0bWwpKTtcbn07XG5nb29nLmRvbS5zYWZlLlNFVF9JTk5FUl9IVE1MX0RJU0FMTE9XRURfVEFHU18gPSB7TUFUSDohMCwgU0NSSVBUOiEwLCBTVFlMRTohMCwgU1ZHOiEwLCBURU1QTEFURTohMH07XG5nb29nLmRvbS5zYWZlLmlzSW5uZXJIdG1sQ2xlYW51cFJlY3Vyc2l2ZV8gPSBnb29nLmZ1bmN0aW9ucy5jYWNoZVJldHVyblZhbHVlKGZ1bmN0aW9uKCkge1xuICBpZiAoZ29vZy5ERUJVRyAmJiBcInVuZGVmaW5lZFwiID09PSB0eXBlb2YgZG9jdW1lbnQpIHtcbiAgICByZXR1cm4gITE7XG4gIH1cbiAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksIGNoaWxkRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgY2hpbGREaXYuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7XG4gIGRpdi5hcHBlbmRDaGlsZChjaGlsZERpdik7XG4gIGlmIChnb29nLkRFQlVHICYmICFkaXYuZmlyc3RDaGlsZCkge1xuICAgIHJldHVybiAhMTtcbiAgfVxuICB2YXIgaW5uZXJDaGlsZCA9IGRpdi5maXJzdENoaWxkLmZpcnN0Q2hpbGQ7XG4gIGRpdi5pbm5lckhUTUwgPSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLnVud3JhcFRydXN0ZWRIVE1MKG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwuRU1QVFkpO1xuICByZXR1cm4gIWlubmVyQ2hpbGQucGFyZW50RWxlbWVudDtcbn0pO1xuZ29vZy5kb20uc2FmZS51bnNhZmVTZXRJbm5lckh0bWxEb05vdFVzZU9yRWxzZSA9IGZ1bmN0aW9uKGVsZW0sIGh0bWwpIHtcbiAgaWYgKGdvb2cuZG9tLnNhZmUuaXNJbm5lckh0bWxDbGVhbnVwUmVjdXJzaXZlXygpKSB7XG4gICAgZm9yICg7IGVsZW0ubGFzdENoaWxkOykge1xuICAgICAgZWxlbS5yZW1vdmVDaGlsZChlbGVtLmxhc3RDaGlsZCk7XG4gICAgfVxuICB9XG4gIGVsZW0uaW5uZXJIVE1MID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC51bndyYXBUcnVzdGVkSFRNTChodG1sKTtcbn07XG5nb29nLmRvbS5zYWZlLnNldElubmVySHRtbCA9IGZ1bmN0aW9uKGVsZW0sIGh0bWwpIHtcbiAgaWYgKGdvb2cuYXNzZXJ0cy5FTkFCTEVfQVNTRVJUUyAmJiBlbGVtLnRhZ05hbWUgJiYgZ29vZy5kb20uc2FmZS5TRVRfSU5ORVJfSFRNTF9ESVNBTExPV0VEX1RBR1NfW2VsZW0udGFnTmFtZS50b1VwcGVyQ2FzZSgpXSkge1xuICAgIHRocm93IEVycm9yKFwiZ29vZy5kb20uc2FmZS5zZXRJbm5lckh0bWwgY2Fubm90IGJlIHVzZWQgdG8gc2V0IGNvbnRlbnQgb2YgXCIgKyBlbGVtLnRhZ05hbWUgKyBcIi5cIik7XG4gIH1cbiAgZ29vZy5kb20uc2FmZS51bnNhZmVTZXRJbm5lckh0bWxEb05vdFVzZU9yRWxzZShlbGVtLCBodG1sKTtcbn07XG5nb29nLmRvbS5zYWZlLnNldElubmVySHRtbEZyb21Db25zdGFudCA9IGZ1bmN0aW9uKGVsZW1lbnQsIGNvbnN0SHRtbCkge1xuICBnb29nLmRvbS5zYWZlLnNldElubmVySHRtbChlbGVtZW50LCBnb29nLmh0bWwudW5jaGVja2VkY29udmVyc2lvbnMuc2FmZUh0bWxGcm9tU3RyaW5nS25vd25Ub1NhdGlzZnlUeXBlQ29udHJhY3QoZ29vZy5zdHJpbmcuQ29uc3QuZnJvbShcIkNvbnN0YW50IEhUTUwgdG8gYmUgaW1tZWRpYXRlbGx5IHVzZWQuXCIpLCBnb29nLnN0cmluZy5Db25zdC51bndyYXAoY29uc3RIdG1sKSkpO1xufTtcbmdvb2cuZG9tLnNhZmUuc2V0T3V0ZXJIdG1sID0gZnVuY3Rpb24oZWxlbSwgaHRtbCkge1xuICBlbGVtLm91dGVySFRNTCA9IG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwudW53cmFwVHJ1c3RlZEhUTUwoaHRtbCk7XG59O1xuZ29vZy5kb20uc2FmZS5zZXRGb3JtRWxlbWVudEFjdGlvbiA9IGZ1bmN0aW9uKGZvcm0sIHVybCkge1xuICB2YXIgc2FmZVVybCA9IHVybCBpbnN0YW5jZW9mIGdvb2cuaHRtbC5TYWZlVXJsID8gdXJsIDogZ29vZy5odG1sLlNhZmVVcmwuc2FuaXRpemVBc3NlcnRVbmNoYW5nZWQodXJsKTtcbiAgZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0hUTUxGb3JtRWxlbWVudChmb3JtKS5hY3Rpb24gPSBnb29nLmh0bWwuU2FmZVVybC51bndyYXAoc2FmZVVybCk7XG59O1xuZ29vZy5kb20uc2FmZS5zZXRCdXR0b25Gb3JtQWN0aW9uID0gZnVuY3Rpb24oYnV0dG9uLCB1cmwpIHtcbiAgdmFyIHNhZmVVcmwgPSB1cmwgaW5zdGFuY2VvZiBnb29nLmh0bWwuU2FmZVVybCA/IHVybCA6IGdvb2cuaHRtbC5TYWZlVXJsLnNhbml0aXplQXNzZXJ0VW5jaGFuZ2VkKHVybCk7XG4gIGdvb2cuZG9tLmFzc2VydHMuYXNzZXJ0SXNIVE1MQnV0dG9uRWxlbWVudChidXR0b24pLmZvcm1BY3Rpb24gPSBnb29nLmh0bWwuU2FmZVVybC51bndyYXAoc2FmZVVybCk7XG59O1xuZ29vZy5kb20uc2FmZS5zZXRJbnB1dEZvcm1BY3Rpb24gPSBmdW5jdGlvbihpbnB1dCwgdXJsKSB7XG4gIHZhciBzYWZlVXJsID0gdXJsIGluc3RhbmNlb2YgZ29vZy5odG1sLlNhZmVVcmwgPyB1cmwgOiBnb29nLmh0bWwuU2FmZVVybC5zYW5pdGl6ZUFzc2VydFVuY2hhbmdlZCh1cmwpO1xuICBnb29nLmRvbS5hc3NlcnRzLmFzc2VydElzSFRNTElucHV0RWxlbWVudChpbnB1dCkuZm9ybUFjdGlvbiA9IGdvb2cuaHRtbC5TYWZlVXJsLnVud3JhcChzYWZlVXJsKTtcbn07XG5nb29nLmRvbS5zYWZlLnNldFN0eWxlID0gZnVuY3Rpb24oZWxlbSwgc3R5bGUpIHtcbiAgZWxlbS5zdHlsZS5jc3NUZXh0ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU3R5bGVfU2FmZVN0eWxlLnVud3JhcChzdHlsZSk7XG59O1xuZ29vZy5kb20uc2FmZS5kb2N1bWVudFdyaXRlID0gZnVuY3Rpb24oZG9jLCBodG1sKSB7XG4gIGRvYy53cml0ZShtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLnVud3JhcFRydXN0ZWRIVE1MKGh0bWwpKTtcbn07XG5nb29nLmRvbS5zYWZlLnNldEFuY2hvckhyZWYgPSBmdW5jdGlvbihhbmNob3IsIHVybCkge1xuICBnb29nLmRvbS5hc3NlcnRzLmFzc2VydElzSFRNTEFuY2hvckVsZW1lbnQoYW5jaG9yKTtcbiAgdmFyIHNhZmVVcmwgPSB1cmwgaW5zdGFuY2VvZiBnb29nLmh0bWwuU2FmZVVybCA/IHVybCA6IGdvb2cuaHRtbC5TYWZlVXJsLnNhbml0aXplQXNzZXJ0VW5jaGFuZ2VkKHVybCk7XG4gIGFuY2hvci5ocmVmID0gZ29vZy5odG1sLlNhZmVVcmwudW53cmFwKHNhZmVVcmwpO1xufTtcbmdvb2cuZG9tLnNhZmUuc2V0SW1hZ2VTcmMgPSBmdW5jdGlvbihpbWFnZUVsZW1lbnQsIHVybCkge1xuICBnb29nLmRvbS5hc3NlcnRzLmFzc2VydElzSFRNTEltYWdlRWxlbWVudChpbWFnZUVsZW1lbnQpO1xuICB2YXIgc2FmZVVybCA9IHVybCBpbnN0YW5jZW9mIGdvb2cuaHRtbC5TYWZlVXJsID8gdXJsIDogZ29vZy5odG1sLlNhZmVVcmwuc2FuaXRpemVBc3NlcnRVbmNoYW5nZWQodXJsLCAvXmRhdGE6aW1hZ2VcXC8vaS50ZXN0KHVybCkpO1xuICBpbWFnZUVsZW1lbnQuc3JjID0gZ29vZy5odG1sLlNhZmVVcmwudW53cmFwKHNhZmVVcmwpO1xufTtcbmdvb2cuZG9tLnNhZmUuc2V0QXVkaW9TcmMgPSBmdW5jdGlvbihhdWRpb0VsZW1lbnQsIHVybCkge1xuICBnb29nLmRvbS5hc3NlcnRzLmFzc2VydElzSFRNTEF1ZGlvRWxlbWVudChhdWRpb0VsZW1lbnQpO1xuICB2YXIgc2FmZVVybCA9IHVybCBpbnN0YW5jZW9mIGdvb2cuaHRtbC5TYWZlVXJsID8gdXJsIDogZ29vZy5odG1sLlNhZmVVcmwuc2FuaXRpemVBc3NlcnRVbmNoYW5nZWQodXJsLCAvXmRhdGE6YXVkaW9cXC8vaS50ZXN0KHVybCkpO1xuICBhdWRpb0VsZW1lbnQuc3JjID0gZ29vZy5odG1sLlNhZmVVcmwudW53cmFwKHNhZmVVcmwpO1xufTtcbmdvb2cuZG9tLnNhZmUuc2V0VmlkZW9TcmMgPSBmdW5jdGlvbih2aWRlb0VsZW1lbnQsIHVybCkge1xuICBnb29nLmRvbS5hc3NlcnRzLmFzc2VydElzSFRNTFZpZGVvRWxlbWVudCh2aWRlb0VsZW1lbnQpO1xuICB2YXIgc2FmZVVybCA9IHVybCBpbnN0YW5jZW9mIGdvb2cuaHRtbC5TYWZlVXJsID8gdXJsIDogZ29vZy5odG1sLlNhZmVVcmwuc2FuaXRpemVBc3NlcnRVbmNoYW5nZWQodXJsLCAvXmRhdGE6dmlkZW9cXC8vaS50ZXN0KHVybCkpO1xuICB2aWRlb0VsZW1lbnQuc3JjID0gZ29vZy5odG1sLlNhZmVVcmwudW53cmFwKHNhZmVVcmwpO1xufTtcbmdvb2cuZG9tLnNhZmUuc2V0RW1iZWRTcmMgPSBmdW5jdGlvbihlbWJlZCwgdXJsKSB7XG4gIGdvb2cuZG9tLmFzc2VydHMuYXNzZXJ0SXNIVE1MRW1iZWRFbGVtZW50KGVtYmVkKTtcbiAgZW1iZWQuc3JjID0gZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC51bndyYXBUcnVzdGVkU2NyaXB0VVJMKHVybCk7XG59O1xuZ29vZy5kb20uc2FmZS5zZXRGcmFtZVNyYyA9IGZ1bmN0aW9uKGZyYW1lLCB1cmwpIHtcbiAgZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0hUTUxGcmFtZUVsZW1lbnQoZnJhbWUpO1xuICBmcmFtZS5zcmMgPSBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLnVud3JhcCh1cmwpO1xufTtcbmdvb2cuZG9tLnNhZmUuc2V0SWZyYW1lU3JjID0gZnVuY3Rpb24oaWZyYW1lLCB1cmwpIHtcbiAgZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0hUTUxJRnJhbWVFbGVtZW50KGlmcmFtZSk7XG4gIGlmcmFtZS5zcmMgPSBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLnVud3JhcCh1cmwpO1xufTtcbmdvb2cuZG9tLnNhZmUuc2V0SWZyYW1lU3JjZG9jID0gZnVuY3Rpb24oaWZyYW1lLCBodG1sKSB7XG4gIGdvb2cuZG9tLmFzc2VydHMuYXNzZXJ0SXNIVE1MSUZyYW1lRWxlbWVudChpZnJhbWUpO1xuICBpZnJhbWUuc3JjZG9jID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlSHRtbF9TYWZlSHRtbC51bndyYXBUcnVzdGVkSFRNTChodG1sKTtcbn07XG5nb29nLmRvbS5zYWZlLnNldExpbmtIcmVmQW5kUmVsID0gZnVuY3Rpb24obGluaywgdXJsLCByZWwpIHtcbiAgZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0hUTUxMaW5rRWxlbWVudChsaW5rKTtcbiAgbGluay5yZWwgPSByZWw7XG4gIGlmIChnb29nLnN0cmluZy5pbnRlcm5hbC5jYXNlSW5zZW5zaXRpdmVDb250YWlucyhyZWwsIFwic3R5bGVzaGVldFwiKSkge1xuICAgIGdvb2cuYXNzZXJ0cy5hc3NlcnQodXJsIGluc3RhbmNlb2YgZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybCwgJ1VSTCBtdXN0IGJlIFRydXN0ZWRSZXNvdXJjZVVybCBiZWNhdXNlIFwicmVsXCIgY29udGFpbnMgXCJzdHlsZXNoZWV0XCInKTtcbiAgICBsaW5rLmhyZWYgPSBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLnVud3JhcCh1cmwpO1xuICAgIHZhciBub25jZSA9IGdvb2cuZG9tLnNhZmUuZ2V0U3R5bGVOb25jZShsaW5rLm93bmVyRG9jdW1lbnQgJiYgbGluay5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KTtcbiAgICBub25jZSAmJiBsaW5rLnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfSBlbHNlIHtcbiAgICBsaW5rLmhyZWYgPSB1cmwgaW5zdGFuY2VvZiBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsID8gZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC51bndyYXAodXJsKSA6IHVybCBpbnN0YW5jZW9mIGdvb2cuaHRtbC5TYWZlVXJsID8gZ29vZy5odG1sLlNhZmVVcmwudW53cmFwKHVybCkgOiBnb29nLmh0bWwuU2FmZVVybC51bndyYXAoZ29vZy5odG1sLlNhZmVVcmwuc2FuaXRpemVBc3NlcnRVbmNoYW5nZWQodXJsKSk7XG4gIH1cbn07XG5nb29nLmRvbS5zYWZlLnNldE9iamVjdERhdGEgPSBmdW5jdGlvbihvYmplY3QsIHVybCkge1xuICBnb29nLmRvbS5hc3NlcnRzLmFzc2VydElzSFRNTE9iamVjdEVsZW1lbnQob2JqZWN0KTtcbiAgb2JqZWN0LmRhdGEgPSBnb29nLmh0bWwuVHJ1c3RlZFJlc291cmNlVXJsLnVud3JhcFRydXN0ZWRTY3JpcHRVUkwodXJsKTtcbn07XG5nb29nLmRvbS5zYWZlLnNldFNjcmlwdFNyYyA9IGZ1bmN0aW9uKHNjcmlwdCwgdXJsKSB7XG4gIGdvb2cuZG9tLmFzc2VydHMuYXNzZXJ0SXNIVE1MU2NyaXB0RWxlbWVudChzY3JpcHQpO1xuICBzY3JpcHQuc3JjID0gZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC51bndyYXBUcnVzdGVkU2NyaXB0VVJMKHVybCk7XG4gIGdvb2cuZG9tLnNhZmUuc2V0Tm9uY2VGb3JTY3JpcHRFbGVtZW50XyhzY3JpcHQpO1xufTtcbmdvb2cuZG9tLnNhZmUuc2V0U2NyaXB0Q29udGVudCA9IGZ1bmN0aW9uKHNjcmlwdCwgY29udGVudCkge1xuICBnb29nLmRvbS5hc3NlcnRzLmFzc2VydElzSFRNTFNjcmlwdEVsZW1lbnQoc2NyaXB0KTtcbiAgc2NyaXB0LnRleHRDb250ZW50ID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckaHRtbCRTYWZlU2NyaXB0X1NhZmVTY3JpcHQudW53cmFwVHJ1c3RlZFNjcmlwdChjb250ZW50KTtcbiAgZ29vZy5kb20uc2FmZS5zZXROb25jZUZvclNjcmlwdEVsZW1lbnRfKHNjcmlwdCk7XG59O1xuZ29vZy5kb20uc2FmZS5zZXROb25jZUZvclNjcmlwdEVsZW1lbnRfID0gZnVuY3Rpb24oc2NyaXB0KSB7XG4gIHZhciBub25jZSA9IGdvb2cuZG9tLnNhZmUuZ2V0U2NyaXB0Tm9uY2Uoc2NyaXB0Lm93bmVyRG9jdW1lbnQgJiYgc2NyaXB0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpO1xuICBub25jZSAmJiBzY3JpcHQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xufTtcbmdvb2cuZG9tLnNhZmUuc2V0TG9jYXRpb25IcmVmID0gZnVuY3Rpb24obG9jLCB1cmwpIHtcbiAgZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0xvY2F0aW9uKGxvYyk7XG4gIHZhciBzYWZlVXJsID0gdXJsIGluc3RhbmNlb2YgZ29vZy5odG1sLlNhZmVVcmwgPyB1cmwgOiBnb29nLmh0bWwuU2FmZVVybC5zYW5pdGl6ZUFzc2VydFVuY2hhbmdlZCh1cmwpO1xuICBsb2MuaHJlZiA9IGdvb2cuaHRtbC5TYWZlVXJsLnVud3JhcChzYWZlVXJsKTtcbn07XG5nb29nLmRvbS5zYWZlLmFzc2lnbkxvY2F0aW9uID0gZnVuY3Rpb24obG9jLCB1cmwpIHtcbiAgZ29vZy5kb20uYXNzZXJ0cy5hc3NlcnRJc0xvY2F0aW9uKGxvYyk7XG4gIHZhciBzYWZlVXJsID0gdXJsIGluc3RhbmNlb2YgZ29vZy5odG1sLlNhZmVVcmwgPyB1cmwgOiBnb29nLmh0bWwuU2FmZVVybC5zYW5pdGl6ZUFzc2VydFVuY2hhbmdlZCh1cmwpO1xuICBsb2MuYXNzaWduKGdvb2cuaHRtbC5TYWZlVXJsLnVud3JhcChzYWZlVXJsKSk7XG59O1xuZ29vZy5kb20uc2FmZS5yZXBsYWNlTG9jYXRpb24gPSBmdW5jdGlvbihsb2MsIHVybCkge1xuICB2YXIgc2FmZVVybCA9IHVybCBpbnN0YW5jZW9mIGdvb2cuaHRtbC5TYWZlVXJsID8gdXJsIDogZ29vZy5odG1sLlNhZmVVcmwuc2FuaXRpemVBc3NlcnRVbmNoYW5nZWQodXJsKTtcbiAgbG9jLnJlcGxhY2UoZ29vZy5odG1sLlNhZmVVcmwudW53cmFwKHNhZmVVcmwpKTtcbn07XG5nb29nLmRvbS5zYWZlLm9wZW5JbldpbmRvdyA9IGZ1bmN0aW9uKHVybCwgb3B0X29wZW5lcldpbiwgb3B0X25hbWUsIG9wdF9zcGVjcykge1xuICB2YXIgc2FmZVVybCA9IHVybCBpbnN0YW5jZW9mIGdvb2cuaHRtbC5TYWZlVXJsID8gdXJsIDogZ29vZy5odG1sLlNhZmVVcmwuc2FuaXRpemVBc3NlcnRVbmNoYW5nZWQodXJsKTtcbiAgdmFyIHdpbiA9IG9wdF9vcGVuZXJXaW4gfHwgZ29vZy5nbG9iYWwsIG5hbWUgPSBvcHRfbmFtZSBpbnN0YW5jZW9mIGdvb2cuc3RyaW5nLkNvbnN0ID8gZ29vZy5zdHJpbmcuQ29uc3QudW53cmFwKG9wdF9uYW1lKSA6IG9wdF9uYW1lIHx8IFwiXCI7XG4gIHJldHVybiB2b2lkIDAgIT09IG9wdF9zcGVjcyA/IHdpbi5vcGVuKGdvb2cuaHRtbC5TYWZlVXJsLnVud3JhcChzYWZlVXJsKSwgbmFtZSwgb3B0X3NwZWNzKSA6IHdpbi5vcGVuKGdvb2cuaHRtbC5TYWZlVXJsLnVud3JhcChzYWZlVXJsKSwgbmFtZSk7XG59O1xuZ29vZy5kb20uc2FmZS5wYXJzZUZyb21TdHJpbmdIdG1sID0gZnVuY3Rpb24ocGFyc2VyLCBodG1sKSB7XG4gIHJldHVybiBnb29nLmRvbS5zYWZlLnBhcnNlRnJvbVN0cmluZyhwYXJzZXIsIGh0bWwsIFwidGV4dC9odG1sXCIpO1xufTtcbmdvb2cuZG9tLnNhZmUucGFyc2VGcm9tU3RyaW5nID0gZnVuY3Rpb24ocGFyc2VyLCBjb250ZW50LCB0eXBlKSB7XG4gIHJldHVybiBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKG1vZHVsZSRjb250ZW50cyRnb29nJGh0bWwkU2FmZUh0bWxfU2FmZUh0bWwudW53cmFwVHJ1c3RlZEhUTUwoY29udGVudCksIHR5cGUpO1xufTtcbmdvb2cuZG9tLnNhZmUuY3JlYXRlSW1hZ2VGcm9tQmxvYiA9IGZ1bmN0aW9uKGJsb2IpIHtcbiAgaWYgKCEvXmltYWdlXFwvLiovZy50ZXN0KGJsb2IudHlwZSkpIHtcbiAgICB0aHJvdyBFcnJvcihcImdvb2cuZG9tLnNhZmUuY3JlYXRlSW1hZ2VGcm9tQmxvYiBvbmx5IGFjY2VwdHMgTUlNRSB0eXBlIGltYWdlLy4qLlwiKTtcbiAgfVxuICB2YXIgb2JqZWN0VXJsID0gZ29vZy5nbG9iYWwuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKSwgaW1hZ2UgPSBuZXcgZ29vZy5nbG9iYWwuSW1hZ2UoKTtcbiAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgZ29vZy5nbG9iYWwuVVJMLnJldm9rZU9iamVjdFVSTChvYmplY3RVcmwpO1xuICB9O1xuICBnb29nLmRvbS5zYWZlLnNldEltYWdlU3JjKGltYWdlLCBnb29nLmh0bWwudW5jaGVja2VkY29udmVyc2lvbnMuc2FmZVVybEZyb21TdHJpbmdLbm93blRvU2F0aXNmeVR5cGVDb250cmFjdChnb29nLnN0cmluZy5Db25zdC5mcm9tKFwiSW1hZ2UgYmxvYiBVUkwuXCIpLCBvYmplY3RVcmwpKTtcbiAgcmV0dXJuIGltYWdlO1xufTtcbmdvb2cuZG9tLnNhZmUuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50ID0gZnVuY3Rpb24ocmFuZ2UsIGh0bWwpIHtcbiAgcmV0dXJuIHJhbmdlLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudChtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLnVud3JhcFRydXN0ZWRIVE1MKGh0bWwpKTtcbn07XG5nb29nLmRvbS5zYWZlLmdldFNjcmlwdE5vbmNlID0gZnVuY3Rpb24ob3B0X3dpbmRvdykge1xuICByZXR1cm4gZ29vZy5kb20uc2FmZS5nZXROb25jZV8oXCJzY3JpcHRbbm9uY2VdXCIsIG9wdF93aW5kb3cpO1xufTtcbmdvb2cuZG9tLnNhZmUuZ2V0U3R5bGVOb25jZSA9IGZ1bmN0aW9uKG9wdF93aW5kb3cpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLnNhZmUuZ2V0Tm9uY2VfKCdzdHlsZVtub25jZV0sbGlua1tyZWw9XCJzdHlsZXNoZWV0XCJdW25vbmNlXScsIG9wdF93aW5kb3cpO1xufTtcbmdvb2cuZG9tLnNhZmUuTk9OQ0VfUEFUVEVSTl8gPSAvXltcXHcrL18tXStbPV17MCwyfSQvO1xuZ29vZy5kb20uc2FmZS5nZXROb25jZV8gPSBmdW5jdGlvbihzZWxlY3Rvciwgd2luKSB7XG4gIHZhciBkb2MgPSAod2luIHx8IGdvb2cuZ2xvYmFsKS5kb2N1bWVudDtcbiAgaWYgKCFkb2MucXVlcnlTZWxlY3Rvcikge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIHZhciBlbCA9IGRvYy5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgaWYgKGVsKSB7XG4gICAgdmFyIG5vbmNlID0gZWwubm9uY2UgfHwgZWwuZ2V0QXR0cmlidXRlKFwibm9uY2VcIik7XG4gICAgaWYgKG5vbmNlICYmIGdvb2cuZG9tLnNhZmUuTk9OQ0VfUEFUVEVSTl8udGVzdChub25jZSkpIHtcbiAgICAgIHJldHVybiBub25jZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59O1xuZ29vZy5zdHJpbmcuREVURUNUX0RPVUJMRV9FU0NBUElORyA9ICExO1xuZ29vZy5zdHJpbmcuRk9SQ0VfTk9OX0RPTV9IVE1MX1VORVNDQVBJTkcgPSAhMTtcbmdvb2cuc3RyaW5nLlVuaWNvZGUgPSB7TkJTUDpcIlxcdTAwYTBcIn07XG5nb29nLnN0cmluZy5zdGFydHNXaXRoID0gZ29vZy5zdHJpbmcuaW50ZXJuYWwuc3RhcnRzV2l0aDtcbmdvb2cuc3RyaW5nLmVuZHNXaXRoID0gZ29vZy5zdHJpbmcuaW50ZXJuYWwuZW5kc1dpdGg7XG5nb29nLnN0cmluZy5jYXNlSW5zZW5zaXRpdmVTdGFydHNXaXRoID0gZ29vZy5zdHJpbmcuaW50ZXJuYWwuY2FzZUluc2Vuc2l0aXZlU3RhcnRzV2l0aDtcbmdvb2cuc3RyaW5nLmNhc2VJbnNlbnNpdGl2ZUVuZHNXaXRoID0gZ29vZy5zdHJpbmcuaW50ZXJuYWwuY2FzZUluc2Vuc2l0aXZlRW5kc1dpdGg7XG5nb29nLnN0cmluZy5jYXNlSW5zZW5zaXRpdmVFcXVhbHMgPSBnb29nLnN0cmluZy5pbnRlcm5hbC5jYXNlSW5zZW5zaXRpdmVFcXVhbHM7XG5nb29nLnN0cmluZy5zdWJzID0gZnVuY3Rpb24oc3RyLCB2YXJfYXJncykge1xuICBmb3IgKHZhciBzcGxpdFBhcnRzID0gc3RyLnNwbGl0KFwiJXNcIiksIHJldHVyblN0cmluZyA9IFwiXCIsIHN1YnNBcmd1bWVudHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpOyBzdWJzQXJndW1lbnRzLmxlbmd0aCAmJiAxIDwgc3BsaXRQYXJ0cy5sZW5ndGg7KSB7XG4gICAgcmV0dXJuU3RyaW5nICs9IHNwbGl0UGFydHMuc2hpZnQoKSArIHN1YnNBcmd1bWVudHMuc2hpZnQoKTtcbiAgfVxuICByZXR1cm4gcmV0dXJuU3RyaW5nICsgc3BsaXRQYXJ0cy5qb2luKFwiJXNcIik7XG59O1xuZ29vZy5zdHJpbmcuY29sbGFwc2VXaGl0ZXNwYWNlID0gZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvW1xcc1xceGEwXSsvZywgXCIgXCIpLnJlcGxhY2UoL15cXHMrfFxccyskL2csIFwiXCIpO1xufTtcbmdvb2cuc3RyaW5nLmlzRW1wdHlPcldoaXRlc3BhY2UgPSBnb29nLnN0cmluZy5pbnRlcm5hbC5pc0VtcHR5T3JXaGl0ZXNwYWNlO1xuZ29vZy5zdHJpbmcuaXNFbXB0eVN0cmluZyA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gMCA9PSBzdHIubGVuZ3RoO1xufTtcbmdvb2cuc3RyaW5nLmlzRW1wdHkgPSBnb29nLnN0cmluZy5pc0VtcHR5T3JXaGl0ZXNwYWNlO1xuZ29vZy5zdHJpbmcuaXNFbXB0eU9yV2hpdGVzcGFjZVNhZmUgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIGdvb2cuc3RyaW5nLmlzRW1wdHlPcldoaXRlc3BhY2UoZ29vZy5zdHJpbmcubWFrZVNhZmUoc3RyKSk7XG59O1xuZ29vZy5zdHJpbmcuaXNFbXB0eVNhZmUgPSBnb29nLnN0cmluZy5pc0VtcHR5T3JXaGl0ZXNwYWNlU2FmZTtcbmdvb2cuc3RyaW5nLmlzQnJlYWtpbmdXaGl0ZXNwYWNlID0gZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiAhL1teXFx0XFxuXFxyIF0vLnRlc3Qoc3RyKTtcbn07XG5nb29nLnN0cmluZy5pc0FscGhhID0gZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiAhL1teYS16QS1aXS8udGVzdChzdHIpO1xufTtcbmdvb2cuc3RyaW5nLmlzTnVtZXJpYyA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gIS9bXjAtOV0vLnRlc3Qoc3RyKTtcbn07XG5nb29nLnN0cmluZy5pc0FscGhhTnVtZXJpYyA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gIS9bXmEtekEtWjAtOV0vLnRlc3Qoc3RyKTtcbn07XG5nb29nLnN0cmluZy5pc1NwYWNlID0gZnVuY3Rpb24oY2gpIHtcbiAgcmV0dXJuIFwiIFwiID09IGNoO1xufTtcbmdvb2cuc3RyaW5nLmlzVW5pY29kZUNoYXIgPSBmdW5jdGlvbihjaCkge1xuICByZXR1cm4gMSA9PSBjaC5sZW5ndGggJiYgXCIgXCIgPD0gY2ggJiYgXCJ+XCIgPj0gY2ggfHwgXCJcXHUwMDgwXCIgPD0gY2ggJiYgXCJcXHVmZmZkXCIgPj0gY2g7XG59O1xuZ29vZy5zdHJpbmcuc3RyaXBOZXdsaW5lcyA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoLyhcXHJcXG58XFxyfFxcbikrL2csIFwiIFwiKTtcbn07XG5nb29nLnN0cmluZy5jYW5vbmljYWxpemVOZXdsaW5lcyA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoLyhcXHJcXG58XFxyfFxcbikvZywgXCJcXG5cIik7XG59O1xuZ29vZy5zdHJpbmcubm9ybWFsaXplV2hpdGVzcGFjZSA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL1xceGEwfFxccy9nLCBcIiBcIik7XG59O1xuZ29vZy5zdHJpbmcubm9ybWFsaXplU3BhY2VzID0gZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvXFx4YTB8WyBcXHRdKy9nLCBcIiBcIik7XG59O1xuZ29vZy5zdHJpbmcuY29sbGFwc2VCcmVha2luZ1NwYWNlcyA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoL1tcXHRcXHJcXG4gXSsvZywgXCIgXCIpLnJlcGxhY2UoL15bXFx0XFxyXFxuIF0rfFtcXHRcXHJcXG4gXSskL2csIFwiXCIpO1xufTtcbmdvb2cuc3RyaW5nLnRyaW0gPSBnb29nLnN0cmluZy5pbnRlcm5hbC50cmltO1xuZ29vZy5zdHJpbmcudHJpbUxlZnQgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eW1xcc1xceGEwXSsvLCBcIlwiKTtcbn07XG5nb29nLnN0cmluZy50cmltUmlnaHQgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bXFxzXFx4YTBdKyQvLCBcIlwiKTtcbn07XG5nb29nLnN0cmluZy5jYXNlSW5zZW5zaXRpdmVDb21wYXJlID0gZ29vZy5zdHJpbmcuaW50ZXJuYWwuY2FzZUluc2Vuc2l0aXZlQ29tcGFyZTtcbmdvb2cuc3RyaW5nLm51bWJlckF3YXJlQ29tcGFyZV8gPSBmdW5jdGlvbihzdHIxLCBzdHIyLCB0b2tlbml6ZXJSZWdFeHApIHtcbiAgaWYgKHN0cjEgPT0gc3RyMikge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGlmICghc3RyMSkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICBpZiAoIXN0cjIpIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuICBmb3IgKHZhciB0b2tlbnMxID0gc3RyMS50b0xvd2VyQ2FzZSgpLm1hdGNoKHRva2VuaXplclJlZ0V4cCksIHRva2VuczIgPSBzdHIyLnRvTG93ZXJDYXNlKCkubWF0Y2godG9rZW5pemVyUmVnRXhwKSwgY291bnQgPSBNYXRoLm1pbih0b2tlbnMxLmxlbmd0aCwgdG9rZW5zMi5sZW5ndGgpLCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICB2YXIgYSA9IHRva2VuczFbaV0sIGIgPSB0b2tlbnMyW2ldO1xuICAgIGlmIChhICE9IGIpIHtcbiAgICAgIHZhciBudW0xID0gcGFyc2VJbnQoYSwgMTApO1xuICAgICAgaWYgKCFpc05hTihudW0xKSkge1xuICAgICAgICB2YXIgbnVtMiA9IHBhcnNlSW50KGIsIDEwKTtcbiAgICAgICAgaWYgKCFpc05hTihudW0yKSAmJiBudW0xIC0gbnVtMikge1xuICAgICAgICAgIHJldHVybiBudW0xIC0gbnVtMjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGEgPCBiID8gLTEgOiAxO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdG9rZW5zMS5sZW5ndGggIT0gdG9rZW5zMi5sZW5ndGggPyB0b2tlbnMxLmxlbmd0aCAtIHRva2VuczIubGVuZ3RoIDogc3RyMSA8IHN0cjIgPyAtMSA6IDE7XG59O1xuZ29vZy5zdHJpbmcuaW50QXdhcmVDb21wYXJlID0gZnVuY3Rpb24oc3RyMSwgc3RyMikge1xuICByZXR1cm4gZ29vZy5zdHJpbmcubnVtYmVyQXdhcmVDb21wYXJlXyhzdHIxLCBzdHIyLCAvXFxkK3xcXEQrL2cpO1xufTtcbmdvb2cuc3RyaW5nLmZsb2F0QXdhcmVDb21wYXJlID0gZnVuY3Rpb24oc3RyMSwgc3RyMikge1xuICByZXR1cm4gZ29vZy5zdHJpbmcubnVtYmVyQXdhcmVDb21wYXJlXyhzdHIxLCBzdHIyLCAvXFxkK3xcXC5cXGQrfFxcRCsvZyk7XG59O1xuZ29vZy5zdHJpbmcubnVtZXJhdGVDb21wYXJlID0gZ29vZy5zdHJpbmcuZmxvYXRBd2FyZUNvbXBhcmU7XG5nb29nLnN0cmluZy51cmxFbmNvZGUgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoc3RyKSk7XG59O1xuZ29vZy5zdHJpbmcudXJsRGVjb2RlID0gZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoc3RyLnJlcGxhY2UoL1xcKy9nLCBcIiBcIikpO1xufTtcbmdvb2cuc3RyaW5nLm5ld0xpbmVUb0JyID0gZ29vZy5zdHJpbmcuaW50ZXJuYWwubmV3TGluZVRvQnI7XG5nb29nLnN0cmluZy5odG1sRXNjYXBlID0gZnVuY3Rpb24oc3RyLCBvcHRfaXNMaWtlbHlUb0NvbnRhaW5IdG1sQ2hhcnMpIHtcbiAgc3RyID0gZ29vZy5zdHJpbmcuaW50ZXJuYWwuaHRtbEVzY2FwZShzdHIsIG9wdF9pc0xpa2VseVRvQ29udGFpbkh0bWxDaGFycyk7XG4gIGdvb2cuc3RyaW5nLkRFVEVDVF9ET1VCTEVfRVNDQVBJTkcgJiYgKHN0ciA9IHN0ci5yZXBsYWNlKGdvb2cuc3RyaW5nLkVfUkVfLCBcIiYjMTAxO1wiKSk7XG4gIHJldHVybiBzdHI7XG59O1xuZ29vZy5zdHJpbmcuRV9SRV8gPSAvZS9nO1xuZ29vZy5zdHJpbmcudW5lc2NhcGVFbnRpdGllcyA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gZ29vZy5zdHJpbmcuY29udGFpbnMoc3RyLCBcIiZcIikgPyAhZ29vZy5zdHJpbmcuRk9SQ0VfTk9OX0RPTV9IVE1MX1VORVNDQVBJTkcgJiYgXCJkb2N1bWVudFwiIGluIGdvb2cuZ2xvYmFsID8gZ29vZy5zdHJpbmcudW5lc2NhcGVFbnRpdGllc1VzaW5nRG9tXyhzdHIpIDogZ29vZy5zdHJpbmcudW5lc2NhcGVQdXJlWG1sRW50aXRpZXNfKHN0cikgOiBzdHI7XG59O1xuZ29vZy5zdHJpbmcudW5lc2NhcGVFbnRpdGllc1dpdGhEb2N1bWVudCA9IGZ1bmN0aW9uKHN0ciwgZG9jdW1lbnQpIHtcbiAgcmV0dXJuIGdvb2cuc3RyaW5nLmNvbnRhaW5zKHN0ciwgXCImXCIpID8gZ29vZy5zdHJpbmcudW5lc2NhcGVFbnRpdGllc1VzaW5nRG9tXyhzdHIsIGRvY3VtZW50KSA6IHN0cjtcbn07XG5nb29nLnN0cmluZy51bmVzY2FwZUVudGl0aWVzVXNpbmdEb21fID0gZnVuY3Rpb24oc3RyLCBvcHRfZG9jdW1lbnQpIHtcbiAgdmFyIHNlZW4gPSB7XCImYW1wO1wiOlwiJlwiLCBcIiZsdDtcIjpcIjxcIiwgXCImZ3Q7XCI6XCI+XCIsIFwiJnF1b3Q7XCI6J1wiJ307XG4gIHZhciBkaXYgPSBvcHRfZG9jdW1lbnQgPyBvcHRfZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSA6IGdvb2cuZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHJldHVybiBzdHIucmVwbGFjZShnb29nLnN0cmluZy5IVE1MX0VOVElUWV9QQVRURVJOXywgZnVuY3Rpb24ocywgZW50aXR5KSB7XG4gICAgdmFyIHZhbHVlID0gc2VlbltzXTtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgaWYgKFwiI1wiID09IGVudGl0eS5jaGFyQXQoMCkpIHtcbiAgICAgIHZhciBuID0gTnVtYmVyKFwiMFwiICsgZW50aXR5LnN1YnN0cigxKSk7XG4gICAgICBpc05hTihuKSB8fCAodmFsdWUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKG4pKTtcbiAgICB9XG4gICAgdmFsdWUgfHwgKGdvb2cuZG9tLnNhZmUuc2V0SW5uZXJIdG1sKGRpdiwgZ29vZy5odG1sLnVuY2hlY2tlZGNvbnZlcnNpb25zLnNhZmVIdG1sRnJvbVN0cmluZ0tub3duVG9TYXRpc2Z5VHlwZUNvbnRyYWN0KGdvb2cuc3RyaW5nLkNvbnN0LmZyb20oXCJTaW5nbGUgSFRNTCBlbnRpdHkuXCIpLCBzICsgXCIgXCIpKSwgdmFsdWUgPSBkaXYuZmlyc3RDaGlsZC5ub2RlVmFsdWUuc2xpY2UoMCwgLTEpKTtcbiAgICByZXR1cm4gc2VlbltzXSA9IHZhbHVlO1xuICB9KTtcbn07XG5nb29nLnN0cmluZy51bmVzY2FwZVB1cmVYbWxFbnRpdGllc18gPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC8mKFteO10rKTsvZywgZnVuY3Rpb24ocywgZW50aXR5KSB7XG4gICAgc3dpdGNoKGVudGl0eSkge1xuICAgICAgY2FzZSBcImFtcFwiOlxuICAgICAgICByZXR1cm4gXCImXCI7XG4gICAgICBjYXNlIFwibHRcIjpcbiAgICAgICAgcmV0dXJuIFwiPFwiO1xuICAgICAgY2FzZSBcImd0XCI6XG4gICAgICAgIHJldHVybiBcIj5cIjtcbiAgICAgIGNhc2UgXCJxdW90XCI6XG4gICAgICAgIHJldHVybiAnXCInO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKFwiI1wiID09IGVudGl0eS5jaGFyQXQoMCkpIHtcbiAgICAgICAgICB2YXIgbiA9IE51bWJlcihcIjBcIiArIGVudGl0eS5zdWJzdHIoMSkpO1xuICAgICAgICAgIGlmICghaXNOYU4obikpIHtcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKG4pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcztcbiAgICB9XG4gIH0pO1xufTtcbmdvb2cuc3RyaW5nLkhUTUxfRU5USVRZX1BBVFRFUk5fID0gLyYoW147XFxzPCZdKyk7Py9nO1xuZ29vZy5zdHJpbmcud2hpdGVzcGFjZUVzY2FwZSA9IGZ1bmN0aW9uKHN0ciwgb3B0X3htbCkge1xuICByZXR1cm4gZ29vZy5zdHJpbmcubmV3TGluZVRvQnIoc3RyLnJlcGxhY2UoLyAgL2csIFwiICYjMTYwO1wiKSwgb3B0X3htbCk7XG59O1xuZ29vZy5zdHJpbmcucHJlc2VydmVTcGFjZXMgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oXnxbXFxuIF0pIC9nLCBcIiQxXCIgKyBnb29nLnN0cmluZy5Vbmljb2RlLk5CU1ApO1xufTtcbmdvb2cuc3RyaW5nLnN0cmlwUXVvdGVzID0gZnVuY3Rpb24oc3RyLCBxdW90ZUNoYXJzKSB7XG4gIGZvciAodmFyIGxlbmd0aCA9IHF1b3RlQ2hhcnMubGVuZ3RoLCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHF1b3RlQ2hhciA9IDEgPT0gbGVuZ3RoID8gcXVvdGVDaGFycyA6IHF1b3RlQ2hhcnMuY2hhckF0KGkpO1xuICAgIGlmIChzdHIuY2hhckF0KDApID09IHF1b3RlQ2hhciAmJiBzdHIuY2hhckF0KHN0ci5sZW5ndGggLSAxKSA9PSBxdW90ZUNoYXIpIHtcbiAgICAgIHJldHVybiBzdHIuc3Vic3RyaW5nKDEsIHN0ci5sZW5ndGggLSAxKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn07XG5nb29nLnN0cmluZy50cnVuY2F0ZSA9IGZ1bmN0aW9uKHN0ciwgY2hhcnMsIG9wdF9wcm90ZWN0RXNjYXBlZENoYXJhY3RlcnMpIHtcbiAgb3B0X3Byb3RlY3RFc2NhcGVkQ2hhcmFjdGVycyAmJiAoc3RyID0gZ29vZy5zdHJpbmcudW5lc2NhcGVFbnRpdGllcyhzdHIpKTtcbiAgc3RyLmxlbmd0aCA+IGNoYXJzICYmIChzdHIgPSBzdHIuc3Vic3RyaW5nKDAsIGNoYXJzIC0gMykgKyBcIi4uLlwiKTtcbiAgb3B0X3Byb3RlY3RFc2NhcGVkQ2hhcmFjdGVycyAmJiAoc3RyID0gZ29vZy5zdHJpbmcuaHRtbEVzY2FwZShzdHIpKTtcbiAgcmV0dXJuIHN0cjtcbn07XG5nb29nLnN0cmluZy50cnVuY2F0ZU1pZGRsZSA9IGZ1bmN0aW9uKHN0ciwgY2hhcnMsIG9wdF9wcm90ZWN0RXNjYXBlZENoYXJhY3RlcnMsIG9wdF90cmFpbGluZ0NoYXJzKSB7XG4gIG9wdF9wcm90ZWN0RXNjYXBlZENoYXJhY3RlcnMgJiYgKHN0ciA9IGdvb2cuc3RyaW5nLnVuZXNjYXBlRW50aXRpZXMoc3RyKSk7XG4gIGlmIChvcHRfdHJhaWxpbmdDaGFycyAmJiBzdHIubGVuZ3RoID4gY2hhcnMpIHtcbiAgICBvcHRfdHJhaWxpbmdDaGFycyA+IGNoYXJzICYmIChvcHRfdHJhaWxpbmdDaGFycyA9IGNoYXJzKSwgc3RyID0gc3RyLnN1YnN0cmluZygwLCBjaGFycyAtIG9wdF90cmFpbGluZ0NoYXJzKSArIFwiLi4uXCIgKyBzdHIuc3Vic3RyaW5nKHN0ci5sZW5ndGggLSBvcHRfdHJhaWxpbmdDaGFycyk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHN0ci5sZW5ndGggPiBjaGFycykge1xuICAgICAgdmFyIGhhbGYgPSBNYXRoLmZsb29yKGNoYXJzIC8gMik7XG4gICAgICBzdHIgPSBzdHIuc3Vic3RyaW5nKDAsIGhhbGYgKyBjaGFycyAlIDIpICsgXCIuLi5cIiArIHN0ci5zdWJzdHJpbmcoc3RyLmxlbmd0aCAtIGhhbGYpO1xuICAgIH1cbiAgfVxuICBvcHRfcHJvdGVjdEVzY2FwZWRDaGFyYWN0ZXJzICYmIChzdHIgPSBnb29nLnN0cmluZy5odG1sRXNjYXBlKHN0cikpO1xuICByZXR1cm4gc3RyO1xufTtcbmdvb2cuc3RyaW5nLnNwZWNpYWxFc2NhcGVDaGFyc18gPSB7XCJcXHgwMFwiOlwiXFxcXDBcIiwgXCJcXGJcIjpcIlxcXFxiXCIsIFwiXFxmXCI6XCJcXFxcZlwiLCBcIlxcblwiOlwiXFxcXG5cIiwgXCJcXHJcIjpcIlxcXFxyXCIsIFwiXFx0XCI6XCJcXFxcdFwiLCBcIlxceDBCXCI6XCJcXFxceDBCXCIsICdcIic6J1xcXFxcIicsIFwiXFxcXFwiOlwiXFxcXFxcXFxcIiwgXCI8XCI6XCJcXFxcdTAwM0NcIn07XG5nb29nLnN0cmluZy5qc0VzY2FwZUNhY2hlXyA9IHtcIidcIjpcIlxcXFwnXCJ9O1xuZ29vZy5zdHJpbmcucXVvdGUgPSBmdW5jdGlvbihzKSB7XG4gIHMgPSBTdHJpbmcocyk7XG4gIGZvciAodmFyIHNiID0gWydcIiddLCBpID0gMDsgaSA8IHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgY2ggPSBzLmNoYXJBdChpKSwgY2MgPSBjaC5jaGFyQ29kZUF0KDApO1xuICAgIHNiW2kgKyAxXSA9IGdvb2cuc3RyaW5nLnNwZWNpYWxFc2NhcGVDaGFyc19bY2hdIHx8ICgzMSA8IGNjICYmIDEyNyA+IGNjID8gY2ggOiBnb29nLnN0cmluZy5lc2NhcGVDaGFyKGNoKSk7XG4gIH1cbiAgc2IucHVzaCgnXCInKTtcbiAgcmV0dXJuIHNiLmpvaW4oXCJcIik7XG59O1xuZ29vZy5zdHJpbmcuZXNjYXBlU3RyaW5nID0gZnVuY3Rpb24oc3RyKSB7XG4gIGZvciAodmFyIHNiID0gW10sIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgc2JbaV0gPSBnb29nLnN0cmluZy5lc2NhcGVDaGFyKHN0ci5jaGFyQXQoaSkpO1xuICB9XG4gIHJldHVybiBzYi5qb2luKFwiXCIpO1xufTtcbmdvb2cuc3RyaW5nLmVzY2FwZUNoYXIgPSBmdW5jdGlvbihjKSB7XG4gIGlmIChjIGluIGdvb2cuc3RyaW5nLmpzRXNjYXBlQ2FjaGVfKSB7XG4gICAgcmV0dXJuIGdvb2cuc3RyaW5nLmpzRXNjYXBlQ2FjaGVfW2NdO1xuICB9XG4gIGlmIChjIGluIGdvb2cuc3RyaW5nLnNwZWNpYWxFc2NhcGVDaGFyc18pIHtcbiAgICByZXR1cm4gZ29vZy5zdHJpbmcuanNFc2NhcGVDYWNoZV9bY10gPSBnb29nLnN0cmluZy5zcGVjaWFsRXNjYXBlQ2hhcnNfW2NdO1xuICB9XG4gIHZhciBydiA9IGMsIGNjID0gYy5jaGFyQ29kZUF0KDApO1xuICBpZiAoMzEgPCBjYyAmJiAxMjcgPiBjYykge1xuICAgIHJ2ID0gYztcbiAgfSBlbHNlIHtcbiAgICBpZiAoMjU2ID4gY2MpIHtcbiAgICAgIGlmIChydiA9IFwiXFxcXHhcIiwgMTYgPiBjYyB8fCAyNTYgPCBjYykge1xuICAgICAgICBydiArPSBcIjBcIjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcnYgPSBcIlxcXFx1XCIsIDQwOTYgPiBjYyAmJiAocnYgKz0gXCIwXCIpO1xuICAgIH1cbiAgICBydiArPSBjYy50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtcbiAgfVxuICByZXR1cm4gZ29vZy5zdHJpbmcuanNFc2NhcGVDYWNoZV9bY10gPSBydjtcbn07XG5nb29nLnN0cmluZy5jb250YWlucyA9IGdvb2cuc3RyaW5nLmludGVybmFsLmNvbnRhaW5zO1xuZ29vZy5zdHJpbmcuY2FzZUluc2Vuc2l0aXZlQ29udGFpbnMgPSBnb29nLnN0cmluZy5pbnRlcm5hbC5jYXNlSW5zZW5zaXRpdmVDb250YWlucztcbmdvb2cuc3RyaW5nLmNvdW50T2YgPSBmdW5jdGlvbihzLCBzcykge1xuICByZXR1cm4gcyAmJiBzcyA/IHMuc3BsaXQoc3MpLmxlbmd0aCAtIDEgOiAwO1xufTtcbmdvb2cuc3RyaW5nLnJlbW92ZUF0ID0gZnVuY3Rpb24ocywgaW5kZXgsIHN0cmluZ0xlbmd0aCkge1xuICB2YXIgcmVzdWx0U3RyID0gcztcbiAgMCA8PSBpbmRleCAmJiBpbmRleCA8IHMubGVuZ3RoICYmIDAgPCBzdHJpbmdMZW5ndGggJiYgKHJlc3VsdFN0ciA9IHMuc3Vic3RyKDAsIGluZGV4KSArIHMuc3Vic3RyKGluZGV4ICsgc3RyaW5nTGVuZ3RoLCBzLmxlbmd0aCAtIGluZGV4IC0gc3RyaW5nTGVuZ3RoKSk7XG4gIHJldHVybiByZXN1bHRTdHI7XG59O1xuZ29vZy5zdHJpbmcucmVtb3ZlID0gZnVuY3Rpb24oc3RyLCBzdWJzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKHN1YnN0ciwgXCJcIik7XG59O1xuZ29vZy5zdHJpbmcucmVtb3ZlQWxsID0gZnVuY3Rpb24ocywgc3MpIHtcbiAgdmFyIHJlID0gbmV3IFJlZ0V4cChnb29nLnN0cmluZy5yZWdFeHBFc2NhcGUoc3MpLCBcImdcIik7XG4gIHJldHVybiBzLnJlcGxhY2UocmUsIFwiXCIpO1xufTtcbmdvb2cuc3RyaW5nLnJlcGxhY2VBbGwgPSBmdW5jdGlvbihzLCBzcywgcmVwbGFjZW1lbnQpIHtcbiAgdmFyIHJlID0gbmV3IFJlZ0V4cChnb29nLnN0cmluZy5yZWdFeHBFc2NhcGUoc3MpLCBcImdcIik7XG4gIHJldHVybiBzLnJlcGxhY2UocmUsIHJlcGxhY2VtZW50LnJlcGxhY2UoL1xcJC9nLCBcIiQkJCRcIikpO1xufTtcbmdvb2cuc3RyaW5nLnJlZ0V4cEVzY2FwZSA9IGZ1bmN0aW9uKHMpIHtcbiAgcmV0dXJuIFN0cmluZyhzKS5yZXBsYWNlKC8oWy0oKVxcW1xcXXt9Kz8qLiRcXF58LDojPCFcXFxcXSkvZywgXCJcXFxcJDFcIikucmVwbGFjZSgvXFx4MDgvZywgXCJcXFxceDA4XCIpO1xufTtcbmdvb2cuc3RyaW5nLnJlcGVhdCA9IFN0cmluZy5wcm90b3R5cGUucmVwZWF0ID8gZnVuY3Rpb24oc3RyaW5nLCBsZW5ndGgpIHtcbiAgcmV0dXJuIHN0cmluZy5yZXBlYXQobGVuZ3RoKTtcbn0gOiBmdW5jdGlvbihzdHJpbmcsIGxlbmd0aCkge1xuICByZXR1cm4gQXJyYXkobGVuZ3RoICsgMSkuam9pbihzdHJpbmcpO1xufTtcbmdvb2cuc3RyaW5nLnBhZE51bWJlciA9IGZ1bmN0aW9uKG51bSwgbGVuZ3RoLCBvcHRfcHJlY2lzaW9uKSB7XG4gIGlmICghTnVtYmVyLmlzRmluaXRlKG51bSkpIHtcbiAgICByZXR1cm4gU3RyaW5nKG51bSk7XG4gIH1cbiAgdmFyIHMgPSB2b2lkIDAgIT09IG9wdF9wcmVjaXNpb24gPyBudW0udG9GaXhlZChvcHRfcHJlY2lzaW9uKSA6IFN0cmluZyhudW0pLCBpbmRleCA9IHMuaW5kZXhPZihcIi5cIik7XG4gIC0xID09PSBpbmRleCAmJiAoaW5kZXggPSBzLmxlbmd0aCk7XG4gIHZhciBzaWduID0gXCItXCIgPT09IHNbMF0gPyBcIi1cIiA6IFwiXCI7XG4gIHNpZ24gJiYgKHMgPSBzLnN1YnN0cmluZygxKSk7XG4gIHJldHVybiBzaWduICsgZ29vZy5zdHJpbmcucmVwZWF0KFwiMFwiLCBNYXRoLm1heCgwLCBsZW5ndGggLSBpbmRleCkpICsgcztcbn07XG5nb29nLnN0cmluZy5tYWtlU2FmZSA9IGZ1bmN0aW9uKG9iaikge1xuICByZXR1cm4gbnVsbCA9PSBvYmogPyBcIlwiIDogU3RyaW5nKG9iaik7XG59O1xuZ29vZy5zdHJpbmcuYnVpbGRTdHJpbmcgPSBmdW5jdGlvbih2YXJfYXJncykge1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmpvaW4uY2FsbChhcmd1bWVudHMsIFwiXCIpO1xufTtcbmdvb2cuc3RyaW5nLmdldFJhbmRvbVN0cmluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gTWF0aC5mbG9vcigyMTQ3NDgzNjQ4ICogTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoMzYpICsgTWF0aC5hYnMoTWF0aC5mbG9vcigyMTQ3NDgzNjQ4ICogTWF0aC5yYW5kb20oKSkgXiBnb29nLm5vdygpKS50b1N0cmluZygzNik7XG59O1xuZ29vZy5zdHJpbmcuY29tcGFyZVZlcnNpb25zID0gZ29vZy5zdHJpbmcuaW50ZXJuYWwuY29tcGFyZVZlcnNpb25zO1xuZ29vZy5zdHJpbmcuaGFzaENvZGUgPSBmdW5jdGlvbihzdHIpIHtcbiAgZm9yICh2YXIgcmVzdWx0ID0gMCwgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICByZXN1bHQgPSAzMSAqIHJlc3VsdCArIHN0ci5jaGFyQ29kZUF0KGkpID4+PiAwO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuZ29vZy5zdHJpbmcudW5pcXVlU3RyaW5nQ291bnRlcl8gPSAyMTQ3NDgzNjQ4ICogTWF0aC5yYW5kb20oKSB8IDA7XG5nb29nLnN0cmluZy5jcmVhdGVVbmlxdWVTdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFwiZ29vZ19cIiArIGdvb2cuc3RyaW5nLnVuaXF1ZVN0cmluZ0NvdW50ZXJfKys7XG59O1xuZ29vZy5zdHJpbmcudG9OdW1iZXIgPSBmdW5jdGlvbihzdHIpIHtcbiAgdmFyIG51bSA9IE51bWJlcihzdHIpO1xuICByZXR1cm4gMCA9PSBudW0gJiYgZ29vZy5zdHJpbmcuaXNFbXB0eU9yV2hpdGVzcGFjZShzdHIpID8gTmFOIDogbnVtO1xufTtcbmdvb2cuc3RyaW5nLmlzTG93ZXJDYW1lbENhc2UgPSBmdW5jdGlvbihzdHIpIHtcbiAgcmV0dXJuIC9eW2Etel0rKFtBLVpdW2Etel0qKSokLy50ZXN0KHN0cik7XG59O1xuZ29vZy5zdHJpbmcuaXNVcHBlckNhbWVsQ2FzZSA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gL14oW0EtWl1bYS16XSopKyQvLnRlc3Qoc3RyKTtcbn07XG5nb29nLnN0cmluZy50b0NhbWVsQ2FzZSA9IGZ1bmN0aW9uKHN0cikge1xuICByZXR1cm4gU3RyaW5nKHN0cikucmVwbGFjZSgvXFwtKFthLXpdKS9nLCBmdW5jdGlvbihhbGwsIG1hdGNoKSB7XG4gICAgcmV0dXJuIG1hdGNoLnRvVXBwZXJDYXNlKCk7XG4gIH0pO1xufTtcbmdvb2cuc3RyaW5nLnRvU2VsZWN0b3JDYXNlID0gZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiBTdHJpbmcoc3RyKS5yZXBsYWNlKC8oW0EtWl0pL2csIFwiLSQxXCIpLnRvTG93ZXJDYXNlKCk7XG59O1xuZ29vZy5zdHJpbmcudG9UaXRsZUNhc2UgPSBmdW5jdGlvbihzdHIsIG9wdF9kZWxpbWl0ZXJzKSB7XG4gIHZhciBkZWxpbWl0ZXJzID0gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdF9kZWxpbWl0ZXJzID8gZ29vZy5zdHJpbmcucmVnRXhwRXNjYXBlKG9wdF9kZWxpbWl0ZXJzKSA6IFwiXFxcXHNcIjtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKG5ldyBSZWdFeHAoXCIoXlwiICsgKGRlbGltaXRlcnMgPyBcInxbXCIgKyBkZWxpbWl0ZXJzICsgXCJdK1wiIDogXCJcIikgKyBcIikoW2Etel0pXCIsIFwiZ1wiKSwgZnVuY3Rpb24oYWxsLCBwMSwgcDIpIHtcbiAgICByZXR1cm4gcDEgKyBwMi50b1VwcGVyQ2FzZSgpO1xuICB9KTtcbn07XG5nb29nLnN0cmluZy5jYXBpdGFsaXplID0gZnVuY3Rpb24oc3RyKSB7XG4gIHJldHVybiBTdHJpbmcoc3RyLmNoYXJBdCgwKSkudG9VcHBlckNhc2UoKSArIFN0cmluZyhzdHIuc3Vic3RyKDEpKS50b0xvd2VyQ2FzZSgpO1xufTtcbmdvb2cuc3RyaW5nLnBhcnNlSW50ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgaXNGaW5pdGUodmFsdWUpICYmICh2YWx1ZSA9IFN0cmluZyh2YWx1ZSkpO1xuICByZXR1cm4gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHZhbHVlID8gL15cXHMqLT8weC9pLnRlc3QodmFsdWUpID8gcGFyc2VJbnQodmFsdWUsIDE2KSA6IHBhcnNlSW50KHZhbHVlLCAxMCkgOiBOYU47XG59O1xuZ29vZy5zdHJpbmcuc3BsaXRMaW1pdCA9IGZ1bmN0aW9uKHN0ciwgc2VwYXJhdG9yLCBsaW1pdCkge1xuICBmb3IgKHZhciBwYXJ0cyA9IHN0ci5zcGxpdChzZXBhcmF0b3IpLCByZXR1cm5WYWwgPSBbXTsgMCA8IGxpbWl0ICYmIHBhcnRzLmxlbmd0aDspIHtcbiAgICByZXR1cm5WYWwucHVzaChwYXJ0cy5zaGlmdCgpKSwgbGltaXQtLTtcbiAgfVxuICBwYXJ0cy5sZW5ndGggJiYgcmV0dXJuVmFsLnB1c2gocGFydHMuam9pbihzZXBhcmF0b3IpKTtcbiAgcmV0dXJuIHJldHVyblZhbDtcbn07XG5nb29nLnN0cmluZy5sYXN0Q29tcG9uZW50ID0gZnVuY3Rpb24oc3RyLCBzZXBhcmF0b3JzKSB7XG4gIGlmIChzZXBhcmF0b3JzKSB7XG4gICAgXCJzdHJpbmdcIiA9PSB0eXBlb2Ygc2VwYXJhdG9ycyAmJiAoc2VwYXJhdG9ycyA9IFtzZXBhcmF0b3JzXSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuICBmb3IgKHZhciBsYXN0U2VwYXJhdG9ySW5kZXggPSAtMSwgaSA9IDA7IGkgPCBzZXBhcmF0b3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKFwiXCIgIT0gc2VwYXJhdG9yc1tpXSkge1xuICAgICAgdmFyIGN1cnJlbnRTZXBhcmF0b3JJbmRleCA9IHN0ci5sYXN0SW5kZXhPZihzZXBhcmF0b3JzW2ldKTtcbiAgICAgIGN1cnJlbnRTZXBhcmF0b3JJbmRleCA+IGxhc3RTZXBhcmF0b3JJbmRleCAmJiAobGFzdFNlcGFyYXRvckluZGV4ID0gY3VycmVudFNlcGFyYXRvckluZGV4KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xID09IGxhc3RTZXBhcmF0b3JJbmRleCA/IHN0ciA6IHN0ci5zbGljZShsYXN0U2VwYXJhdG9ySW5kZXggKyAxKTtcbn07XG5nb29nLnN0cmluZy5lZGl0RGlzdGFuY2UgPSBmdW5jdGlvbihhLCBiKSB7XG4gIHZhciB2MCA9IFtdLCB2MSA9IFtdO1xuICBpZiAoYSA9PSBiKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgaWYgKCFhLmxlbmd0aCB8fCAhYi5sZW5ndGgpIHtcbiAgICByZXR1cm4gTWF0aC5tYXgoYS5sZW5ndGgsIGIubGVuZ3RoKTtcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGIubGVuZ3RoICsgMTsgaSsrKSB7XG4gICAgdjBbaV0gPSBpO1xuICB9XG4gIGZvciAodmFyIGkkNTAgPSAwOyBpJDUwIDwgYS5sZW5ndGg7IGkkNTArKykge1xuICAgIHYxWzBdID0gaSQ1MCArIDE7XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBiLmxlbmd0aDsgaisrKSB7XG4gICAgICB2MVtqICsgMV0gPSBNYXRoLm1pbih2MVtqXSArIDEsIHYwW2ogKyAxXSArIDEsIHYwW2pdICsgTnVtYmVyKGFbaSQ1MF0gIT0gYltqXSkpO1xuICAgIH1cbiAgICBmb3IgKHZhciBqJDUxID0gMDsgaiQ1MSA8IHYwLmxlbmd0aDsgaiQ1MSsrKSB7XG4gICAgICB2MFtqJDUxXSA9IHYxW2okNTFdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdjFbYi5sZW5ndGhdO1xufTtcbmdvb2cuY29sbGVjdGlvbnMubWFwcyA9IHt9O1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGNvbGxlY3Rpb25zJG1hcHNfTWFwTGlrZSA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGNvbGxlY3Rpb25zJG1hcHNfTWFwTGlrZS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24oa2V5LCB2YWwpIHtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRtYXBzX01hcExpa2UucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKGtleSkge1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGNvbGxlY3Rpb25zJG1hcHNfTWFwTGlrZS5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGNvbGxlY3Rpb25zJG1hcHNfTWFwTGlrZS5wcm90b3R5cGUudmFsdWVzID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckY29sbGVjdGlvbnMkbWFwc19NYXBMaWtlLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihrZXkpIHtcbn07XG5nb29nLmNvbGxlY3Rpb25zLm1hcHMuTWFwTGlrZSA9IG1vZHVsZSRjb250ZW50cyRnb29nJGNvbGxlY3Rpb25zJG1hcHNfTWFwTGlrZTtcbmdvb2cuY29sbGVjdGlvbnMubWFwcy5zZXRBbGwgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRtYXBzX3NldEFsbChtYXAsIGVudHJpZXMpIHtcbiAgaWYgKGVudHJpZXMpIHtcbiAgICBmb3IgKHZhciAkanNjb21wJGl0ZXIkMTAgPSAkanNjb21wLm1ha2VJdGVyYXRvcihlbnRyaWVzKSwgJGpzY29tcCRrZXkkID0gJGpzY29tcCRpdGVyJDEwLm5leHQoKTsgISRqc2NvbXAka2V5JC5kb25lOyAkanNjb21wJGtleSQgPSAkanNjb21wJGl0ZXIkMTAubmV4dCgpKSB7XG4gICAgICB2YXIgJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjEzID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoJGpzY29tcCRrZXkkLnZhbHVlKSwgayA9ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIxMy5uZXh0KCkudmFsdWUsIHYgPSAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMTMubmV4dCgpLnZhbHVlO1xuICAgICAgbWFwLnNldChrLCB2KTtcbiAgICB9XG4gIH1cbn07XG5nb29nLmNvbGxlY3Rpb25zLm1hcHMuaGFzVmFsdWUgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRtYXBzX2hhc1ZhbHVlKG1hcCwgdmFsLCB2YWx1ZUVxdWFsaXR5Rm4pIHtcbiAgdmFsdWVFcXVhbGl0eUZuID0gdm9pZCAwID09PSB2YWx1ZUVxdWFsaXR5Rm4gPyBtb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRtYXBzX2RlZmF1bHRFcXVhbGl0eUZuIDogdmFsdWVFcXVhbGl0eUZuO1xuICBmb3IgKHZhciAkanNjb21wJGl0ZXIkMTEgPSAkanNjb21wLm1ha2VJdGVyYXRvcihtYXAudmFsdWVzKCkpLCAkanNjb21wJGtleSR2ID0gJGpzY29tcCRpdGVyJDExLm5leHQoKTsgISRqc2NvbXAka2V5JHYuZG9uZTsgJGpzY29tcCRrZXkkdiA9ICRqc2NvbXAkaXRlciQxMS5uZXh0KCkpIHtcbiAgICBpZiAodmFsdWVFcXVhbGl0eUZuKCRqc2NvbXAka2V5JHYudmFsdWUsIHZhbCkpIHtcbiAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICExO1xufTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRtYXBzX2RlZmF1bHRFcXVhbGl0eUZuID0gZnVuY3Rpb24oYSwgYikge1xuICByZXR1cm4gYSA9PT0gYjtcbn07XG5nb29nLmNvbGxlY3Rpb25zLm1hcHMuZXF1YWxzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGdvb2ckY29sbGVjdGlvbnMkbWFwc19lcXVhbHMobWFwLCBvdGhlck1hcCwgdmFsdWVFcXVhbGl0eUZuKSB7XG4gIHZhbHVlRXF1YWxpdHlGbiA9IHZvaWQgMCA9PT0gdmFsdWVFcXVhbGl0eUZuID8gbW9kdWxlJGNvbnRlbnRzJGdvb2ckY29sbGVjdGlvbnMkbWFwc19kZWZhdWx0RXF1YWxpdHlGbiA6IHZhbHVlRXF1YWxpdHlGbjtcbiAgaWYgKG1hcCA9PT0gb3RoZXJNYXApIHtcbiAgICByZXR1cm4gITA7XG4gIH1cbiAgaWYgKG1hcC5zaXplICE9PSBvdGhlck1hcC5zaXplKSB7XG4gICAgcmV0dXJuICExO1xuICB9XG4gIGZvciAodmFyICRqc2NvbXAkaXRlciQxMiA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKG1hcC5rZXlzKCkpLCAkanNjb21wJGtleSRrZXkgPSAkanNjb21wJGl0ZXIkMTIubmV4dCgpOyAhJGpzY29tcCRrZXkka2V5LmRvbmU7ICRqc2NvbXAka2V5JGtleSA9ICRqc2NvbXAkaXRlciQxMi5uZXh0KCkpIHtcbiAgICB2YXIga2V5ID0gJGpzY29tcCRrZXkka2V5LnZhbHVlO1xuICAgIGlmICghb3RoZXJNYXAuaGFzKGtleSkgfHwgIXZhbHVlRXF1YWxpdHlGbihtYXAuZ2V0KGtleSksIG90aGVyTWFwLmdldChrZXkpKSkge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgfVxuICByZXR1cm4gITA7XG59O1xuZ29vZy5jb2xsZWN0aW9ucy5tYXBzLnRyYW5zcG9zZSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRnb29nJGNvbGxlY3Rpb25zJG1hcHNfdHJhbnNwb3NlKG1hcCkge1xuICBmb3IgKHZhciB0cmFuc3Bvc2VkID0gbmV3IE1hcCgpLCAkanNjb21wJGl0ZXIkMTMgPSAkanNjb21wLm1ha2VJdGVyYXRvcihtYXAua2V5cygpKSwgJGpzY29tcCRrZXkka2V5ID0gJGpzY29tcCRpdGVyJDEzLm5leHQoKTsgISRqc2NvbXAka2V5JGtleS5kb25lOyAkanNjb21wJGtleSRrZXkgPSAkanNjb21wJGl0ZXIkMTMubmV4dCgpKSB7XG4gICAgdmFyIGtleSA9ICRqc2NvbXAka2V5JGtleS52YWx1ZSwgdmFsID0gbWFwLmdldChrZXkpO1xuICAgIHRyYW5zcG9zZWQuc2V0KHZhbCwga2V5KTtcbiAgfVxuICByZXR1cm4gdHJhbnNwb3NlZDtcbn07XG5nb29nLmNvbGxlY3Rpb25zLm1hcHMudG9PYmplY3QgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRjb2xsZWN0aW9ucyRtYXBzX3RvT2JqZWN0KG1hcCkge1xuICBmb3IgKHZhciBvYmogPSB7fSwgJGpzY29tcCRpdGVyJDE0ID0gJGpzY29tcC5tYWtlSXRlcmF0b3IobWFwLmtleXMoKSksICRqc2NvbXAka2V5JGtleSA9ICRqc2NvbXAkaXRlciQxNC5uZXh0KCk7ICEkanNjb21wJGtleSRrZXkuZG9uZTsgJGpzY29tcCRrZXkka2V5ID0gJGpzY29tcCRpdGVyJDE0Lm5leHQoKSkge1xuICAgIHZhciBrZXkgPSAkanNjb21wJGtleSRrZXkudmFsdWU7XG4gICAgb2JqW2tleV0gPSBtYXAuZ2V0KGtleSk7XG4gIH1cbiAgcmV0dXJuIG9iajtcbn07XG5nb29nLnVyaSA9IHt9O1xuZ29vZy51cmkudXRpbHMgPSB7fTtcbmdvb2cudXJpLnV0aWxzLlF1ZXJ5QXJyYXkgPSB7fTtcbmdvb2cudXJpLnV0aWxzLlF1ZXJ5VmFsdWUgPSB7fTtcbmdvb2cudXJpLnV0aWxzLkNoYXJDb2RlXyA9IHtBTVBFUlNBTkQ6MzgsIEVRVUFMOjYxLCBIQVNIOjM1LCBRVUVTVElPTjo2M307XG5nb29nLnVyaS51dGlscy5idWlsZEZyb21FbmNvZGVkUGFydHMgPSBmdW5jdGlvbihvcHRfc2NoZW1lLCBvcHRfdXNlckluZm8sIG9wdF9kb21haW4sIG9wdF9wb3J0LCBvcHRfcGF0aCwgb3B0X3F1ZXJ5RGF0YSwgb3B0X2ZyYWdtZW50KSB7XG4gIHZhciBvdXQgPSBcIlwiO1xuICBvcHRfc2NoZW1lICYmIChvdXQgKz0gb3B0X3NjaGVtZSArIFwiOlwiKTtcbiAgb3B0X2RvbWFpbiAmJiAob3V0ICs9IFwiLy9cIiwgb3B0X3VzZXJJbmZvICYmIChvdXQgKz0gb3B0X3VzZXJJbmZvICsgXCJAXCIpLCBvdXQgKz0gb3B0X2RvbWFpbiwgb3B0X3BvcnQgJiYgKG91dCArPSBcIjpcIiArIG9wdF9wb3J0KSk7XG4gIG9wdF9wYXRoICYmIChvdXQgKz0gb3B0X3BhdGgpO1xuICBvcHRfcXVlcnlEYXRhICYmIChvdXQgKz0gXCI/XCIgKyBvcHRfcXVlcnlEYXRhKTtcbiAgb3B0X2ZyYWdtZW50ICYmIChvdXQgKz0gXCIjXCIgKyBvcHRfZnJhZ21lbnQpO1xuICByZXR1cm4gb3V0O1xufTtcbmdvb2cudXJpLnV0aWxzLnNwbGl0UmVfID0gUmVnRXhwKFwiXig/OihbXjovPyMuXSspOik/KD86Ly8oPzooW15cXFxcXFxcXC8/I10qKUApPyhbXlxcXFxcXFxcLz8jXSo/KSg/OjooWzAtOV0rKSk/KD89W1xcXFxcXFxcLz8jXXwkKSk/KFtePyNdKyk/KD86XFxcXD8oW14jXSopKT8oPzojKFtcXFxcc1xcXFxTXSopKT8kXCIpO1xuZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXggPSB7U0NIRU1FOjEsIFVTRVJfSU5GTzoyLCBET01BSU46MywgUE9SVDo0LCBQQVRIOjUsIFFVRVJZX0RBVEE6NiwgRlJBR01FTlQ6N307XG5nb29nLnVyaS51dGlscy51cmxQYWNrYWdlU3VwcG9ydExvZ2dpbmdIYW5kbGVyXyA9IG51bGw7XG5nb29nLnVyaS51dGlscy5zZXRVcmxQYWNrYWdlU3VwcG9ydExvZ2dpbmdIYW5kbGVyID0gZnVuY3Rpb24oaGFuZGxlcikge1xuICBnb29nLnVyaS51dGlscy51cmxQYWNrYWdlU3VwcG9ydExvZ2dpbmdIYW5kbGVyXyA9IGhhbmRsZXI7XG59O1xuZ29vZy51cmkudXRpbHMuc3BsaXQgPSBmdW5jdGlvbih1cmkpIHtcbiAgdmFyIHJlc3VsdCA9IHVyaS5tYXRjaChnb29nLnVyaS51dGlscy5zcGxpdFJlXyk7XG4gIGdvb2cudXJpLnV0aWxzLnVybFBhY2thZ2VTdXBwb3J0TG9nZ2luZ0hhbmRsZXJfICYmIDAgPD0gW1wiaHR0cFwiLCBcImh0dHBzXCIsIFwid3NcIiwgXCJ3c3NcIiwgXCJmdHBcIl0uaW5kZXhPZihyZXN1bHRbZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguU0NIRU1FXSkgJiYgZ29vZy51cmkudXRpbHMudXJsUGFja2FnZVN1cHBvcnRMb2dnaW5nSGFuZGxlcl8odXJpKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5nb29nLnVyaS51dGlscy5kZWNvZGVJZlBvc3NpYmxlXyA9IGZ1bmN0aW9uKHVyaSwgb3B0X3ByZXNlcnZlUmVzZXJ2ZWQpIHtcbiAgcmV0dXJuIHVyaSA/IG9wdF9wcmVzZXJ2ZVJlc2VydmVkID8gZGVjb2RlVVJJKHVyaSkgOiBkZWNvZGVVUklDb21wb25lbnQodXJpKSA6IHVyaTtcbn07XG5nb29nLnVyaS51dGlscy5nZXRDb21wb25lbnRCeUluZGV4XyA9IGZ1bmN0aW9uKGNvbXBvbmVudEluZGV4LCB1cmkpIHtcbiAgcmV0dXJuIGdvb2cudXJpLnV0aWxzLnNwbGl0KHVyaSlbY29tcG9uZW50SW5kZXhdIHx8IG51bGw7XG59O1xuZ29vZy51cmkudXRpbHMuZ2V0U2NoZW1lID0gZnVuY3Rpb24odXJpKSB7XG4gIHJldHVybiBnb29nLnVyaS51dGlscy5nZXRDb21wb25lbnRCeUluZGV4Xyhnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5TQ0hFTUUsIHVyaSk7XG59O1xuZ29vZy51cmkudXRpbHMuZ2V0RWZmZWN0aXZlU2NoZW1lID0gZnVuY3Rpb24odXJpKSB7XG4gIHZhciBzY2hlbWUgPSBnb29nLnVyaS51dGlscy5nZXRTY2hlbWUodXJpKTtcbiAgaWYgKCFzY2hlbWUgJiYgZ29vZy5nbG9iYWwuc2VsZiAmJiBnb29nLmdsb2JhbC5zZWxmLmxvY2F0aW9uKSB7XG4gICAgdmFyIHByb3RvY29sID0gZ29vZy5nbG9iYWwuc2VsZi5sb2NhdGlvbi5wcm90b2NvbDtcbiAgICBzY2hlbWUgPSBwcm90b2NvbC5zdWJzdHIoMCwgcHJvdG9jb2wubGVuZ3RoIC0gMSk7XG4gIH1cbiAgcmV0dXJuIHNjaGVtZSA/IHNjaGVtZS50b0xvd2VyQ2FzZSgpIDogXCJcIjtcbn07XG5nb29nLnVyaS51dGlscy5nZXRVc2VySW5mb0VuY29kZWQgPSBmdW5jdGlvbih1cmkpIHtcbiAgcmV0dXJuIGdvb2cudXJpLnV0aWxzLmdldENvbXBvbmVudEJ5SW5kZXhfKGdvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LlVTRVJfSU5GTywgdXJpKTtcbn07XG5nb29nLnVyaS51dGlscy5nZXRVc2VySW5mbyA9IGZ1bmN0aW9uKHVyaSkge1xuICByZXR1cm4gZ29vZy51cmkudXRpbHMuZGVjb2RlSWZQb3NzaWJsZV8oZ29vZy51cmkudXRpbHMuZ2V0VXNlckluZm9FbmNvZGVkKHVyaSkpO1xufTtcbmdvb2cudXJpLnV0aWxzLmdldERvbWFpbkVuY29kZWQgPSBmdW5jdGlvbih1cmkpIHtcbiAgcmV0dXJuIGdvb2cudXJpLnV0aWxzLmdldENvbXBvbmVudEJ5SW5kZXhfKGdvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LkRPTUFJTiwgdXJpKTtcbn07XG5nb29nLnVyaS51dGlscy5nZXREb21haW4gPSBmdW5jdGlvbih1cmkpIHtcbiAgcmV0dXJuIGdvb2cudXJpLnV0aWxzLmRlY29kZUlmUG9zc2libGVfKGdvb2cudXJpLnV0aWxzLmdldERvbWFpbkVuY29kZWQodXJpKSwgITApO1xufTtcbmdvb2cudXJpLnV0aWxzLmdldFBvcnQgPSBmdW5jdGlvbih1cmkpIHtcbiAgcmV0dXJuIE51bWJlcihnb29nLnVyaS51dGlscy5nZXRDb21wb25lbnRCeUluZGV4Xyhnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5QT1JULCB1cmkpKSB8fCBudWxsO1xufTtcbmdvb2cudXJpLnV0aWxzLmdldFBhdGhFbmNvZGVkID0gZnVuY3Rpb24odXJpKSB7XG4gIHJldHVybiBnb29nLnVyaS51dGlscy5nZXRDb21wb25lbnRCeUluZGV4Xyhnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5QQVRILCB1cmkpO1xufTtcbmdvb2cudXJpLnV0aWxzLmdldFBhdGggPSBmdW5jdGlvbih1cmkpIHtcbiAgcmV0dXJuIGdvb2cudXJpLnV0aWxzLmRlY29kZUlmUG9zc2libGVfKGdvb2cudXJpLnV0aWxzLmdldFBhdGhFbmNvZGVkKHVyaSksICEwKTtcbn07XG5nb29nLnVyaS51dGlscy5nZXRRdWVyeURhdGEgPSBmdW5jdGlvbih1cmkpIHtcbiAgcmV0dXJuIGdvb2cudXJpLnV0aWxzLmdldENvbXBvbmVudEJ5SW5kZXhfKGdvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LlFVRVJZX0RBVEEsIHVyaSk7XG59O1xuZ29vZy51cmkudXRpbHMuZ2V0RnJhZ21lbnRFbmNvZGVkID0gZnVuY3Rpb24odXJpKSB7XG4gIHZhciBoYXNoSW5kZXggPSB1cmkuaW5kZXhPZihcIiNcIik7XG4gIHJldHVybiAwID4gaGFzaEluZGV4ID8gbnVsbCA6IHVyaS5zdWJzdHIoaGFzaEluZGV4ICsgMSk7XG59O1xuZ29vZy51cmkudXRpbHMuc2V0RnJhZ21lbnRFbmNvZGVkID0gZnVuY3Rpb24odXJpLCBmcmFnbWVudCkge1xuICByZXR1cm4gZ29vZy51cmkudXRpbHMucmVtb3ZlRnJhZ21lbnQodXJpKSArIChmcmFnbWVudCA/IFwiI1wiICsgZnJhZ21lbnQgOiBcIlwiKTtcbn07XG5nb29nLnVyaS51dGlscy5nZXRGcmFnbWVudCA9IGZ1bmN0aW9uKHVyaSkge1xuICByZXR1cm4gZ29vZy51cmkudXRpbHMuZGVjb2RlSWZQb3NzaWJsZV8oZ29vZy51cmkudXRpbHMuZ2V0RnJhZ21lbnRFbmNvZGVkKHVyaSkpO1xufTtcbmdvb2cudXJpLnV0aWxzLmdldEhvc3QgPSBmdW5jdGlvbih1cmkpIHtcbiAgdmFyIHBpZWNlcyA9IGdvb2cudXJpLnV0aWxzLnNwbGl0KHVyaSk7XG4gIHJldHVybiBnb29nLnVyaS51dGlscy5idWlsZEZyb21FbmNvZGVkUGFydHMocGllY2VzW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LlNDSEVNRV0sIHBpZWNlc1tnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5VU0VSX0lORk9dLCBwaWVjZXNbZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguRE9NQUlOXSwgcGllY2VzW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LlBPUlRdKTtcbn07XG5nb29nLnVyaS51dGlscy5nZXRPcmlnaW4gPSBmdW5jdGlvbih1cmkpIHtcbiAgdmFyIHBpZWNlcyA9IGdvb2cudXJpLnV0aWxzLnNwbGl0KHVyaSk7XG4gIHJldHVybiBnb29nLnVyaS51dGlscy5idWlsZEZyb21FbmNvZGVkUGFydHMocGllY2VzW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LlNDSEVNRV0sIG51bGwsIHBpZWNlc1tnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5ET01BSU5dLCBwaWVjZXNbZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguUE9SVF0pO1xufTtcbmdvb2cudXJpLnV0aWxzLmdldFBhdGhBbmRBZnRlciA9IGZ1bmN0aW9uKHVyaSkge1xuICB2YXIgcGllY2VzID0gZ29vZy51cmkudXRpbHMuc3BsaXQodXJpKTtcbiAgcmV0dXJuIGdvb2cudXJpLnV0aWxzLmJ1aWxkRnJvbUVuY29kZWRQYXJ0cyhudWxsLCBudWxsLCBudWxsLCBudWxsLCBwaWVjZXNbZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguUEFUSF0sIHBpZWNlc1tnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5RVUVSWV9EQVRBXSwgcGllY2VzW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LkZSQUdNRU5UXSk7XG59O1xuZ29vZy51cmkudXRpbHMucmVtb3ZlRnJhZ21lbnQgPSBmdW5jdGlvbih1cmkpIHtcbiAgdmFyIGhhc2hJbmRleCA9IHVyaS5pbmRleE9mKFwiI1wiKTtcbiAgcmV0dXJuIDAgPiBoYXNoSW5kZXggPyB1cmkgOiB1cmkuc3Vic3RyKDAsIGhhc2hJbmRleCk7XG59O1xuZ29vZy51cmkudXRpbHMuaGF2ZVNhbWVEb21haW4gPSBmdW5jdGlvbih1cmkxLCB1cmkyKSB7XG4gIHZhciBwaWVjZXMxID0gZ29vZy51cmkudXRpbHMuc3BsaXQodXJpMSksIHBpZWNlczIgPSBnb29nLnVyaS51dGlscy5zcGxpdCh1cmkyKTtcbiAgcmV0dXJuIHBpZWNlczFbZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguRE9NQUlOXSA9PSBwaWVjZXMyW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LkRPTUFJTl0gJiYgcGllY2VzMVtnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5TQ0hFTUVdID09IHBpZWNlczJbZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguU0NIRU1FXSAmJiBwaWVjZXMxW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LlBPUlRdID09IHBpZWNlczJbZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguUE9SVF07XG59O1xuZ29vZy51cmkudXRpbHMuYXNzZXJ0Tm9GcmFnbWVudHNPclF1ZXJpZXNfID0gZnVuY3Rpb24odXJpKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQoMCA+IHVyaS5pbmRleE9mKFwiI1wiKSAmJiAwID4gdXJpLmluZGV4T2YoXCI/XCIpLCBcImdvb2cudXJpLnV0aWxzOiBGcmFnbWVudCBvciBxdWVyeSBpZGVudGlmaWVycyBhcmUgbm90IHN1cHBvcnRlZDogWyVzXVwiLCB1cmkpO1xufTtcbmdvb2cudXJpLnV0aWxzLnBhcnNlUXVlcnlEYXRhID0gZnVuY3Rpb24oZW5jb2RlZFF1ZXJ5LCBjYWxsYmFjaykge1xuICBpZiAoZW5jb2RlZFF1ZXJ5KSB7XG4gICAgZm9yICh2YXIgcGFpcnMgPSBlbmNvZGVkUXVlcnkuc3BsaXQoXCImXCIpLCBpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaW5kZXhPZkVxdWFscyA9IHBhaXJzW2ldLmluZGV4T2YoXCI9XCIpLCBuYW1lID0gbnVsbCwgdmFsdWUgPSBudWxsO1xuICAgICAgMCA8PSBpbmRleE9mRXF1YWxzID8gKG5hbWUgPSBwYWlyc1tpXS5zdWJzdHJpbmcoMCwgaW5kZXhPZkVxdWFscyksIHZhbHVlID0gcGFpcnNbaV0uc3Vic3RyaW5nKGluZGV4T2ZFcXVhbHMgKyAxKSkgOiBuYW1lID0gcGFpcnNbaV07XG4gICAgICBjYWxsYmFjayhuYW1lLCB2YWx1ZSA/IGdvb2cuc3RyaW5nLnVybERlY29kZSh2YWx1ZSkgOiBcIlwiKTtcbiAgICB9XG4gIH1cbn07XG5nb29nLnVyaS51dGlscy5zcGxpdFF1ZXJ5RGF0YV8gPSBmdW5jdGlvbih1cmkpIHtcbiAgdmFyIGhhc2hJbmRleCA9IHVyaS5pbmRleE9mKFwiI1wiKTtcbiAgMCA+IGhhc2hJbmRleCAmJiAoaGFzaEluZGV4ID0gdXJpLmxlbmd0aCk7XG4gIHZhciBxdWVzdGlvbkluZGV4ID0gdXJpLmluZGV4T2YoXCI/XCIpO1xuICBpZiAoMCA+IHF1ZXN0aW9uSW5kZXggfHwgcXVlc3Rpb25JbmRleCA+IGhhc2hJbmRleCkge1xuICAgIHF1ZXN0aW9uSW5kZXggPSBoYXNoSW5kZXg7XG4gICAgdmFyIHF1ZXJ5RGF0YSA9IFwiXCI7XG4gIH0gZWxzZSB7XG4gICAgcXVlcnlEYXRhID0gdXJpLnN1YnN0cmluZyhxdWVzdGlvbkluZGV4ICsgMSwgaGFzaEluZGV4KTtcbiAgfVxuICByZXR1cm4gW3VyaS5zdWJzdHIoMCwgcXVlc3Rpb25JbmRleCksIHF1ZXJ5RGF0YSwgdXJpLnN1YnN0cihoYXNoSW5kZXgpXTtcbn07XG5nb29nLnVyaS51dGlscy5qb2luUXVlcnlEYXRhXyA9IGZ1bmN0aW9uKHBhcnRzKSB7XG4gIHJldHVybiBwYXJ0c1swXSArIChwYXJ0c1sxXSA/IFwiP1wiICsgcGFydHNbMV0gOiBcIlwiKSArIHBhcnRzWzJdO1xufTtcbmdvb2cudXJpLnV0aWxzLmFwcGVuZFF1ZXJ5RGF0YV8gPSBmdW5jdGlvbihxdWVyeURhdGEsIG5ld0RhdGEpIHtcbiAgcmV0dXJuIG5ld0RhdGEgPyBxdWVyeURhdGEgPyBxdWVyeURhdGEgKyBcIiZcIiArIG5ld0RhdGEgOiBuZXdEYXRhIDogcXVlcnlEYXRhO1xufTtcbmdvb2cudXJpLnV0aWxzLmFwcGVuZFF1ZXJ5RGF0YVRvVXJpXyA9IGZ1bmN0aW9uKHVyaSwgcXVlcnlEYXRhKSB7XG4gIGlmICghcXVlcnlEYXRhKSB7XG4gICAgcmV0dXJuIHVyaTtcbiAgfVxuICB2YXIgcGFydHMgPSBnb29nLnVyaS51dGlscy5zcGxpdFF1ZXJ5RGF0YV8odXJpKTtcbiAgcGFydHNbMV0gPSBnb29nLnVyaS51dGlscy5hcHBlbmRRdWVyeURhdGFfKHBhcnRzWzFdLCBxdWVyeURhdGEpO1xuICByZXR1cm4gZ29vZy51cmkudXRpbHMuam9pblF1ZXJ5RGF0YV8ocGFydHMpO1xufTtcbmdvb2cudXJpLnV0aWxzLmFwcGVuZEtleVZhbHVlUGFpcnNfID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSwgcGFpcnMpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydFN0cmluZyhrZXkpO1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBnb29nLmFzc2VydHMuYXNzZXJ0QXJyYXkodmFsdWUpO1xuICAgIGZvciAodmFyIGogPSAwOyBqIDwgdmFsdWUubGVuZ3RoOyBqKyspIHtcbiAgICAgIGdvb2cudXJpLnV0aWxzLmFwcGVuZEtleVZhbHVlUGFpcnNfKGtleSwgU3RyaW5nKHZhbHVlW2pdKSwgcGFpcnMpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBudWxsICE9IHZhbHVlICYmIHBhaXJzLnB1c2goa2V5ICsgKFwiXCIgPT09IHZhbHVlID8gXCJcIiA6IFwiPVwiICsgZ29vZy5zdHJpbmcudXJsRW5jb2RlKHZhbHVlKSkpO1xuICB9XG59O1xuZ29vZy51cmkudXRpbHMuYnVpbGRRdWVyeURhdGEgPSBmdW5jdGlvbihrZXlzQW5kVmFsdWVzLCBvcHRfc3RhcnRJbmRleCkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KDAgPT0gTWF0aC5tYXgoa2V5c0FuZFZhbHVlcy5sZW5ndGggLSAob3B0X3N0YXJ0SW5kZXggfHwgMCksIDApICUgMiwgXCJnb29nLnVyaS51dGlsczogS2V5L3ZhbHVlIGxpc3RzIG11c3QgYmUgZXZlbiBpbiBsZW5ndGguXCIpO1xuICBmb3IgKHZhciBwYXJhbXMgPSBbXSwgaSA9IG9wdF9zdGFydEluZGV4IHx8IDA7IGkgPCBrZXlzQW5kVmFsdWVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgZ29vZy51cmkudXRpbHMuYXBwZW5kS2V5VmFsdWVQYWlyc18oa2V5c0FuZFZhbHVlc1tpXSwga2V5c0FuZFZhbHVlc1tpICsgMV0sIHBhcmFtcyk7XG4gIH1cbiAgcmV0dXJuIHBhcmFtcy5qb2luKFwiJlwiKTtcbn07XG5nb29nLnVyaS51dGlscy5idWlsZFF1ZXJ5RGF0YUZyb21NYXAgPSBmdW5jdGlvbihtYXApIHtcbiAgdmFyIHBhcmFtcyA9IFtdLCBrZXk7XG4gIGZvciAoa2V5IGluIG1hcCkge1xuICAgIGdvb2cudXJpLnV0aWxzLmFwcGVuZEtleVZhbHVlUGFpcnNfKGtleSwgbWFwW2tleV0sIHBhcmFtcyk7XG4gIH1cbiAgcmV0dXJuIHBhcmFtcy5qb2luKFwiJlwiKTtcbn07XG5nb29nLnVyaS51dGlscy5hcHBlbmRQYXJhbXMgPSBmdW5jdGlvbih1cmksIHZhcl9hcmdzKSB7XG4gIHZhciBxdWVyeURhdGEgPSAyID09IGFyZ3VtZW50cy5sZW5ndGggPyBnb29nLnVyaS51dGlscy5idWlsZFF1ZXJ5RGF0YShhcmd1bWVudHNbMV0sIDApIDogZ29vZy51cmkudXRpbHMuYnVpbGRRdWVyeURhdGEoYXJndW1lbnRzLCAxKTtcbiAgcmV0dXJuIGdvb2cudXJpLnV0aWxzLmFwcGVuZFF1ZXJ5RGF0YVRvVXJpXyh1cmksIHF1ZXJ5RGF0YSk7XG59O1xuZ29vZy51cmkudXRpbHMuYXBwZW5kUGFyYW1zRnJvbU1hcCA9IGZ1bmN0aW9uKHVyaSwgbWFwKSB7XG4gIHZhciBxdWVyeURhdGEgPSBnb29nLnVyaS51dGlscy5idWlsZFF1ZXJ5RGF0YUZyb21NYXAobWFwKTtcbiAgcmV0dXJuIGdvb2cudXJpLnV0aWxzLmFwcGVuZFF1ZXJ5RGF0YVRvVXJpXyh1cmksIHF1ZXJ5RGF0YSk7XG59O1xuZ29vZy51cmkudXRpbHMuYXBwZW5kUGFyYW0gPSBmdW5jdGlvbih1cmksIGtleSwgb3B0X3ZhbHVlKSB7XG4gIHZhciB2YWx1ZSA9IG51bGwgIT0gb3B0X3ZhbHVlID8gXCI9XCIgKyBnb29nLnN0cmluZy51cmxFbmNvZGUob3B0X3ZhbHVlKSA6IFwiXCI7XG4gIHJldHVybiBnb29nLnVyaS51dGlscy5hcHBlbmRRdWVyeURhdGFUb1VyaV8odXJpLCBrZXkgKyB2YWx1ZSk7XG59O1xuZ29vZy51cmkudXRpbHMuZmluZFBhcmFtXyA9IGZ1bmN0aW9uKHVyaSwgc3RhcnRJbmRleCwga2V5RW5jb2RlZCwgaGFzaE9yRW5kSW5kZXgpIHtcbiAgZm9yICh2YXIgaW5kZXggPSBzdGFydEluZGV4LCBrZXlMZW5ndGggPSBrZXlFbmNvZGVkLmxlbmd0aDsgMCA8PSAoaW5kZXggPSB1cmkuaW5kZXhPZihrZXlFbmNvZGVkLCBpbmRleCkpICYmIGluZGV4IDwgaGFzaE9yRW5kSW5kZXg7KSB7XG4gICAgdmFyIHByZWNlZGluZ0NoYXIgPSB1cmkuY2hhckNvZGVBdChpbmRleCAtIDEpO1xuICAgIGlmIChwcmVjZWRpbmdDaGFyID09IGdvb2cudXJpLnV0aWxzLkNoYXJDb2RlXy5BTVBFUlNBTkQgfHwgcHJlY2VkaW5nQ2hhciA9PSBnb29nLnVyaS51dGlscy5DaGFyQ29kZV8uUVVFU1RJT04pIHtcbiAgICAgIHZhciBmb2xsb3dpbmdDaGFyID0gdXJpLmNoYXJDb2RlQXQoaW5kZXggKyBrZXlMZW5ndGgpO1xuICAgICAgaWYgKCFmb2xsb3dpbmdDaGFyIHx8IGZvbGxvd2luZ0NoYXIgPT0gZ29vZy51cmkudXRpbHMuQ2hhckNvZGVfLkVRVUFMIHx8IGZvbGxvd2luZ0NoYXIgPT0gZ29vZy51cmkudXRpbHMuQ2hhckNvZGVfLkFNUEVSU0FORCB8fCBmb2xsb3dpbmdDaGFyID09IGdvb2cudXJpLnV0aWxzLkNoYXJDb2RlXy5IQVNIKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgaW5kZXggKz0ga2V5TGVuZ3RoICsgMTtcbiAgfVxuICByZXR1cm4gLTE7XG59O1xuZ29vZy51cmkudXRpbHMuaGFzaE9yRW5kUmVfID0gLyN8JC87XG5nb29nLnVyaS51dGlscy5oYXNQYXJhbSA9IGZ1bmN0aW9uKHVyaSwga2V5RW5jb2RlZCkge1xuICByZXR1cm4gMCA8PSBnb29nLnVyaS51dGlscy5maW5kUGFyYW1fKHVyaSwgMCwga2V5RW5jb2RlZCwgdXJpLnNlYXJjaChnb29nLnVyaS51dGlscy5oYXNoT3JFbmRSZV8pKTtcbn07XG5nb29nLnVyaS51dGlscy5nZXRQYXJhbVZhbHVlID0gZnVuY3Rpb24odXJpLCBrZXlFbmNvZGVkKSB7XG4gIHZhciBoYXNoT3JFbmRJbmRleCA9IHVyaS5zZWFyY2goZ29vZy51cmkudXRpbHMuaGFzaE9yRW5kUmVfKSwgZm91bmRJbmRleCA9IGdvb2cudXJpLnV0aWxzLmZpbmRQYXJhbV8odXJpLCAwLCBrZXlFbmNvZGVkLCBoYXNoT3JFbmRJbmRleCk7XG4gIGlmICgwID4gZm91bmRJbmRleCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBlbmRQb3NpdGlvbiA9IHVyaS5pbmRleE9mKFwiJlwiLCBmb3VuZEluZGV4KTtcbiAgaWYgKDAgPiBlbmRQb3NpdGlvbiB8fCBlbmRQb3NpdGlvbiA+IGhhc2hPckVuZEluZGV4KSB7XG4gICAgZW5kUG9zaXRpb24gPSBoYXNoT3JFbmRJbmRleDtcbiAgfVxuICBmb3VuZEluZGV4ICs9IGtleUVuY29kZWQubGVuZ3RoICsgMTtcbiAgcmV0dXJuIGdvb2cuc3RyaW5nLnVybERlY29kZSh1cmkuc3Vic3RyKGZvdW5kSW5kZXgsIGVuZFBvc2l0aW9uIC0gZm91bmRJbmRleCkpO1xufTtcbmdvb2cudXJpLnV0aWxzLmdldFBhcmFtVmFsdWVzID0gZnVuY3Rpb24odXJpLCBrZXlFbmNvZGVkKSB7XG4gIGZvciAodmFyIGhhc2hPckVuZEluZGV4ID0gdXJpLnNlYXJjaChnb29nLnVyaS51dGlscy5oYXNoT3JFbmRSZV8pLCBwb3NpdGlvbiA9IDAsIGZvdW5kSW5kZXgsIHJlc3VsdCA9IFtdOyAwIDw9IChmb3VuZEluZGV4ID0gZ29vZy51cmkudXRpbHMuZmluZFBhcmFtXyh1cmksIHBvc2l0aW9uLCBrZXlFbmNvZGVkLCBoYXNoT3JFbmRJbmRleCkpOykge1xuICAgIHBvc2l0aW9uID0gdXJpLmluZGV4T2YoXCImXCIsIGZvdW5kSW5kZXgpO1xuICAgIGlmICgwID4gcG9zaXRpb24gfHwgcG9zaXRpb24gPiBoYXNoT3JFbmRJbmRleCkge1xuICAgICAgcG9zaXRpb24gPSBoYXNoT3JFbmRJbmRleDtcbiAgICB9XG4gICAgZm91bmRJbmRleCArPSBrZXlFbmNvZGVkLmxlbmd0aCArIDE7XG4gICAgcmVzdWx0LnB1c2goZ29vZy5zdHJpbmcudXJsRGVjb2RlKHVyaS5zdWJzdHIoZm91bmRJbmRleCwgcG9zaXRpb24gLSBmb3VuZEluZGV4KSkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuZ29vZy51cmkudXRpbHMudHJhaWxpbmdRdWVyeVB1bmN0dWF0aW9uUmVfID0gL1s/Jl0oJHwjKS87XG5nb29nLnVyaS51dGlscy5yZW1vdmVQYXJhbSA9IGZ1bmN0aW9uKHVyaSwga2V5RW5jb2RlZCkge1xuICBmb3IgKHZhciBoYXNoT3JFbmRJbmRleCA9IHVyaS5zZWFyY2goZ29vZy51cmkudXRpbHMuaGFzaE9yRW5kUmVfKSwgcG9zaXRpb24gPSAwLCBmb3VuZEluZGV4LCBidWZmZXIgPSBbXTsgMCA8PSAoZm91bmRJbmRleCA9IGdvb2cudXJpLnV0aWxzLmZpbmRQYXJhbV8odXJpLCBwb3NpdGlvbiwga2V5RW5jb2RlZCwgaGFzaE9yRW5kSW5kZXgpKTspIHtcbiAgICBidWZmZXIucHVzaCh1cmkuc3Vic3RyaW5nKHBvc2l0aW9uLCBmb3VuZEluZGV4KSksIHBvc2l0aW9uID0gTWF0aC5taW4odXJpLmluZGV4T2YoXCImXCIsIGZvdW5kSW5kZXgpICsgMSB8fCBoYXNoT3JFbmRJbmRleCwgaGFzaE9yRW5kSW5kZXgpO1xuICB9XG4gIGJ1ZmZlci5wdXNoKHVyaS5zdWJzdHIocG9zaXRpb24pKTtcbiAgcmV0dXJuIGJ1ZmZlci5qb2luKFwiXCIpLnJlcGxhY2UoZ29vZy51cmkudXRpbHMudHJhaWxpbmdRdWVyeVB1bmN0dWF0aW9uUmVfLCBcIiQxXCIpO1xufTtcbmdvb2cudXJpLnV0aWxzLnNldFBhcmFtID0gZnVuY3Rpb24odXJpLCBrZXlFbmNvZGVkLCB2YWx1ZSkge1xuICByZXR1cm4gZ29vZy51cmkudXRpbHMuYXBwZW5kUGFyYW0oZ29vZy51cmkudXRpbHMucmVtb3ZlUGFyYW0odXJpLCBrZXlFbmNvZGVkKSwga2V5RW5jb2RlZCwgdmFsdWUpO1xufTtcbmdvb2cudXJpLnV0aWxzLnNldFBhcmFtc0Zyb21NYXAgPSBmdW5jdGlvbih1cmksIHBhcmFtcykge1xuICB2YXIgcGFydHMgPSBnb29nLnVyaS51dGlscy5zcGxpdFF1ZXJ5RGF0YV8odXJpKSwgcXVlcnlEYXRhID0gcGFydHNbMV0sIGJ1ZmZlciA9IFtdO1xuICBxdWVyeURhdGEgJiYgcXVlcnlEYXRhLnNwbGl0KFwiJlwiKS5mb3JFYWNoKGZ1bmN0aW9uKHBhaXIpIHtcbiAgICB2YXIgaW5kZXhPZkVxdWFscyA9IHBhaXIuaW5kZXhPZihcIj1cIik7XG4gICAgcGFyYW1zLmhhc093blByb3BlcnR5KDAgPD0gaW5kZXhPZkVxdWFscyA/IHBhaXIuc3Vic3RyKDAsIGluZGV4T2ZFcXVhbHMpIDogcGFpcikgfHwgYnVmZmVyLnB1c2gocGFpcik7XG4gIH0pO1xuICBwYXJ0c1sxXSA9IGdvb2cudXJpLnV0aWxzLmFwcGVuZFF1ZXJ5RGF0YV8oYnVmZmVyLmpvaW4oXCImXCIpLCBnb29nLnVyaS51dGlscy5idWlsZFF1ZXJ5RGF0YUZyb21NYXAocGFyYW1zKSk7XG4gIHJldHVybiBnb29nLnVyaS51dGlscy5qb2luUXVlcnlEYXRhXyhwYXJ0cyk7XG59O1xuZ29vZy51cmkudXRpbHMuYXBwZW5kUGF0aCA9IGZ1bmN0aW9uKGJhc2VVcmksIHBhdGgpIHtcbiAgZ29vZy51cmkudXRpbHMuYXNzZXJ0Tm9GcmFnbWVudHNPclF1ZXJpZXNfKGJhc2VVcmkpO1xuICBnb29nLnN0cmluZy5lbmRzV2l0aChiYXNlVXJpLCBcIi9cIikgJiYgKGJhc2VVcmkgPSBiYXNlVXJpLnN1YnN0cigwLCBiYXNlVXJpLmxlbmd0aCAtIDEpKTtcbiAgZ29vZy5zdHJpbmcuc3RhcnRzV2l0aChwYXRoLCBcIi9cIikgJiYgKHBhdGggPSBwYXRoLnN1YnN0cigxKSk7XG4gIHJldHVybiBcIlwiICsgYmFzZVVyaSArIFwiL1wiICsgcGF0aDtcbn07XG5nb29nLnVyaS51dGlscy5zZXRQYXRoID0gZnVuY3Rpb24odXJpLCBwYXRoKSB7XG4gIGdvb2cuc3RyaW5nLnN0YXJ0c1dpdGgocGF0aCwgXCIvXCIpIHx8IChwYXRoID0gXCIvXCIgKyBwYXRoKTtcbiAgdmFyIHBhcnRzID0gZ29vZy51cmkudXRpbHMuc3BsaXQodXJpKTtcbiAgcmV0dXJuIGdvb2cudXJpLnV0aWxzLmJ1aWxkRnJvbUVuY29kZWRQYXJ0cyhwYXJ0c1tnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5TQ0hFTUVdLCBwYXJ0c1tnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5VU0VSX0lORk9dLCBwYXJ0c1tnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5ET01BSU5dLCBwYXJ0c1tnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5QT1JUXSwgcGF0aCwgcGFydHNbZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguUVVFUllfREFUQV0sIHBhcnRzW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LkZSQUdNRU5UXSk7XG59O1xuZ29vZy51cmkudXRpbHMuU3RhbmRhcmRRdWVyeVBhcmFtID0ge1JBTkRPTTpcInp4XCJ9O1xuZ29vZy51cmkudXRpbHMubWFrZVVuaXF1ZSA9IGZ1bmN0aW9uKHVyaSkge1xuICByZXR1cm4gZ29vZy51cmkudXRpbHMuc2V0UGFyYW0odXJpLCBnb29nLnVyaS51dGlscy5TdGFuZGFyZFF1ZXJ5UGFyYW0uUkFORE9NLCBnb29nLnN0cmluZy5nZXRSYW5kb21TdHJpbmcoKSk7XG59O1xuZ29vZy5VcmkgPSBmdW5jdGlvbihvcHRfdXJpLCBvcHRfaWdub3JlQ2FzZSkge1xuICB0aGlzLmRvbWFpbl8gPSB0aGlzLnVzZXJJbmZvXyA9IHRoaXMuc2NoZW1lXyA9IFwiXCI7XG4gIHRoaXMucG9ydF8gPSBudWxsO1xuICB0aGlzLmZyYWdtZW50XyA9IHRoaXMucGF0aF8gPSBcIlwiO1xuICB0aGlzLmlnbm9yZUNhc2VfID0gdGhpcy5pc1JlYWRPbmx5XyA9ICExO1xuICB2YXIgbTtcbiAgb3B0X3VyaSBpbnN0YW5jZW9mIGdvb2cuVXJpID8gKHRoaXMuaWdub3JlQ2FzZV8gPSB2b2lkIDAgIT09IG9wdF9pZ25vcmVDYXNlID8gb3B0X2lnbm9yZUNhc2UgOiBvcHRfdXJpLmdldElnbm9yZUNhc2UoKSwgdGhpcy5zZXRTY2hlbWUob3B0X3VyaS5nZXRTY2hlbWUoKSksIHRoaXMuc2V0VXNlckluZm8ob3B0X3VyaS5nZXRVc2VySW5mbygpKSwgdGhpcy5zZXREb21haW4ob3B0X3VyaS5nZXREb21haW4oKSksIHRoaXMuc2V0UG9ydChvcHRfdXJpLmdldFBvcnQoKSksIHRoaXMuc2V0UGF0aChvcHRfdXJpLmdldFBhdGgoKSksIHRoaXMuc2V0UXVlcnlEYXRhKG9wdF91cmkuZ2V0UXVlcnlEYXRhKCkuY2xvbmUoKSksIHRoaXMuc2V0RnJhZ21lbnQob3B0X3VyaS5nZXRGcmFnbWVudCgpKSkgOiBvcHRfdXJpICYmIChtID0gZ29vZy51cmkudXRpbHMuc3BsaXQoU3RyaW5nKG9wdF91cmkpKSkgPyAodGhpcy5pZ25vcmVDYXNlXyA9ICEhb3B0X2lnbm9yZUNhc2UsIHRoaXMuc2V0U2NoZW1lKG1bZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguU0NIRU1FXSB8fCBcbiAgXCJcIiwgITApLCB0aGlzLnNldFVzZXJJbmZvKG1bZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguVVNFUl9JTkZPXSB8fCBcIlwiLCAhMCksIHRoaXMuc2V0RG9tYWluKG1bZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguRE9NQUlOXSB8fCBcIlwiLCAhMCksIHRoaXMuc2V0UG9ydChtW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LlBPUlRdKSwgdGhpcy5zZXRQYXRoKG1bZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguUEFUSF0gfHwgXCJcIiwgITApLCB0aGlzLnNldFF1ZXJ5RGF0YShtW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LlFVRVJZX0RBVEFdIHx8IFwiXCIsICEwKSwgdGhpcy5zZXRGcmFnbWVudChtW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LkZSQUdNRU5UXSB8fCBcIlwiLCAhMCkpIDogKHRoaXMuaWdub3JlQ2FzZV8gPSAhIW9wdF9pZ25vcmVDYXNlLCB0aGlzLnF1ZXJ5RGF0YV8gPSBuZXcgZ29vZy5VcmkuUXVlcnlEYXRhKG51bGwsIHRoaXMuaWdub3JlQ2FzZV8pKTtcbn07XG5nb29nLlVyaS5SQU5ET01fUEFSQU0gPSBnb29nLnVyaS51dGlscy5TdGFuZGFyZFF1ZXJ5UGFyYW0uUkFORE9NO1xuZ29vZy5VcmkucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIHZhciBvdXQgPSBbXSwgc2NoZW1lID0gdGhpcy5nZXRTY2hlbWUoKTtcbiAgc2NoZW1lICYmIG91dC5wdXNoKGdvb2cuVXJpLmVuY29kZVNwZWNpYWxDaGFyc18oc2NoZW1lLCBnb29nLlVyaS5yZURpc2FsbG93ZWRJblNjaGVtZU9yVXNlckluZm9fLCAhMCksIFwiOlwiKTtcbiAgdmFyIGRvbWFpbiA9IHRoaXMuZ2V0RG9tYWluKCk7XG4gIGlmIChkb21haW4gfHwgXCJmaWxlXCIgPT0gc2NoZW1lKSB7XG4gICAgb3V0LnB1c2goXCIvL1wiKTtcbiAgICB2YXIgdXNlckluZm8gPSB0aGlzLmdldFVzZXJJbmZvKCk7XG4gICAgdXNlckluZm8gJiYgb3V0LnB1c2goZ29vZy5VcmkuZW5jb2RlU3BlY2lhbENoYXJzXyh1c2VySW5mbywgZ29vZy5VcmkucmVEaXNhbGxvd2VkSW5TY2hlbWVPclVzZXJJbmZvXywgITApLCBcIkBcIik7XG4gICAgb3V0LnB1c2goZ29vZy5VcmkucmVtb3ZlRG91YmxlRW5jb2RpbmdfKGdvb2cuc3RyaW5nLnVybEVuY29kZShkb21haW4pKSk7XG4gICAgdmFyIHBvcnQgPSB0aGlzLmdldFBvcnQoKTtcbiAgICBudWxsICE9IHBvcnQgJiYgb3V0LnB1c2goXCI6XCIsIFN0cmluZyhwb3J0KSk7XG4gIH1cbiAgdmFyIHBhdGggPSB0aGlzLmdldFBhdGgoKTtcbiAgcGF0aCAmJiAodGhpcy5oYXNEb21haW4oKSAmJiBcIi9cIiAhPSBwYXRoLmNoYXJBdCgwKSAmJiBvdXQucHVzaChcIi9cIiksIG91dC5wdXNoKGdvb2cuVXJpLmVuY29kZVNwZWNpYWxDaGFyc18ocGF0aCwgXCIvXCIgPT0gcGF0aC5jaGFyQXQoMCkgPyBnb29nLlVyaS5yZURpc2FsbG93ZWRJbkFic29sdXRlUGF0aF8gOiBnb29nLlVyaS5yZURpc2FsbG93ZWRJblJlbGF0aXZlUGF0aF8sICEwKSkpO1xuICB2YXIgcXVlcnkgPSB0aGlzLmdldEVuY29kZWRRdWVyeSgpO1xuICBxdWVyeSAmJiBvdXQucHVzaChcIj9cIiwgcXVlcnkpO1xuICB2YXIgZnJhZ21lbnQgPSB0aGlzLmdldEZyYWdtZW50KCk7XG4gIGZyYWdtZW50ICYmIG91dC5wdXNoKFwiI1wiLCBnb29nLlVyaS5lbmNvZGVTcGVjaWFsQ2hhcnNfKGZyYWdtZW50LCBnb29nLlVyaS5yZURpc2FsbG93ZWRJbkZyYWdtZW50XykpO1xuICByZXR1cm4gb3V0LmpvaW4oXCJcIik7XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLnJlc29sdmUgPSBmdW5jdGlvbihyZWxhdGl2ZVVyaSkge1xuICB2YXIgYWJzb2x1dGVVcmkgPSB0aGlzLmNsb25lKCksIG92ZXJyaWRkZW4gPSByZWxhdGl2ZVVyaS5oYXNTY2hlbWUoKTtcbiAgb3ZlcnJpZGRlbiA/IGFic29sdXRlVXJpLnNldFNjaGVtZShyZWxhdGl2ZVVyaS5nZXRTY2hlbWUoKSkgOiBvdmVycmlkZGVuID0gcmVsYXRpdmVVcmkuaGFzVXNlckluZm8oKTtcbiAgb3ZlcnJpZGRlbiA/IGFic29sdXRlVXJpLnNldFVzZXJJbmZvKHJlbGF0aXZlVXJpLmdldFVzZXJJbmZvKCkpIDogb3ZlcnJpZGRlbiA9IHJlbGF0aXZlVXJpLmhhc0RvbWFpbigpO1xuICBvdmVycmlkZGVuID8gYWJzb2x1dGVVcmkuc2V0RG9tYWluKHJlbGF0aXZlVXJpLmdldERvbWFpbigpKSA6IG92ZXJyaWRkZW4gPSByZWxhdGl2ZVVyaS5oYXNQb3J0KCk7XG4gIHZhciBwYXRoID0gcmVsYXRpdmVVcmkuZ2V0UGF0aCgpO1xuICBpZiAob3ZlcnJpZGRlbikge1xuICAgIGFic29sdXRlVXJpLnNldFBvcnQocmVsYXRpdmVVcmkuZ2V0UG9ydCgpKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAob3ZlcnJpZGRlbiA9IHJlbGF0aXZlVXJpLmhhc1BhdGgoKSkge1xuICAgICAgaWYgKFwiL1wiICE9IHBhdGguY2hhckF0KDApKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc0RvbWFpbigpICYmICF0aGlzLmhhc1BhdGgoKSkge1xuICAgICAgICAgIHBhdGggPSBcIi9cIiArIHBhdGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGxhc3RTbGFzaEluZGV4ID0gYWJzb2x1dGVVcmkuZ2V0UGF0aCgpLmxhc3RJbmRleE9mKFwiL1wiKTtcbiAgICAgICAgICAtMSAhPSBsYXN0U2xhc2hJbmRleCAmJiAocGF0aCA9IGFic29sdXRlVXJpLmdldFBhdGgoKS5zdWJzdHIoMCwgbGFzdFNsYXNoSW5kZXggKyAxKSArIHBhdGgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwYXRoID0gZ29vZy5VcmkucmVtb3ZlRG90U2VnbWVudHMocGF0aCk7XG4gICAgfVxuICB9XG4gIG92ZXJyaWRkZW4gPyBhYnNvbHV0ZVVyaS5zZXRQYXRoKHBhdGgpIDogb3ZlcnJpZGRlbiA9IHJlbGF0aXZlVXJpLmhhc1F1ZXJ5KCk7XG4gIG92ZXJyaWRkZW4gPyBhYnNvbHV0ZVVyaS5zZXRRdWVyeURhdGEocmVsYXRpdmVVcmkuZ2V0UXVlcnlEYXRhKCkuY2xvbmUoKSkgOiBvdmVycmlkZGVuID0gcmVsYXRpdmVVcmkuaGFzRnJhZ21lbnQoKTtcbiAgb3ZlcnJpZGRlbiAmJiBhYnNvbHV0ZVVyaS5zZXRGcmFnbWVudChyZWxhdGl2ZVVyaS5nZXRGcmFnbWVudCgpKTtcbiAgcmV0dXJuIGFic29sdXRlVXJpO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IGdvb2cuVXJpKHRoaXMpO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5nZXRTY2hlbWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuc2NoZW1lXztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuc2V0U2NoZW1lID0gZnVuY3Rpb24obmV3U2NoZW1lLCBvcHRfZGVjb2RlKSB7XG4gIHRoaXMuZW5mb3JjZVJlYWRPbmx5KCk7XG4gIGlmICh0aGlzLnNjaGVtZV8gPSBvcHRfZGVjb2RlID8gZ29vZy5VcmkuZGVjb2RlT3JFbXB0eV8obmV3U2NoZW1lLCAhMCkgOiBuZXdTY2hlbWUpIHtcbiAgICB0aGlzLnNjaGVtZV8gPSB0aGlzLnNjaGVtZV8ucmVwbGFjZSgvOiQvLCBcIlwiKTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuaGFzU2NoZW1lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAhIXRoaXMuc2NoZW1lXztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuZ2V0VXNlckluZm8gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMudXNlckluZm9fO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5zZXRVc2VySW5mbyA9IGZ1bmN0aW9uKG5ld1VzZXJJbmZvLCBvcHRfZGVjb2RlKSB7XG4gIHRoaXMuZW5mb3JjZVJlYWRPbmx5KCk7XG4gIHRoaXMudXNlckluZm9fID0gb3B0X2RlY29kZSA/IGdvb2cuVXJpLmRlY29kZU9yRW1wdHlfKG5ld1VzZXJJbmZvKSA6IG5ld1VzZXJJbmZvO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuaGFzVXNlckluZm8gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICEhdGhpcy51c2VySW5mb187XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLmdldERvbWFpbiA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5kb21haW5fO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5zZXREb21haW4gPSBmdW5jdGlvbihuZXdEb21haW4sIG9wdF9kZWNvZGUpIHtcbiAgdGhpcy5lbmZvcmNlUmVhZE9ubHkoKTtcbiAgdGhpcy5kb21haW5fID0gb3B0X2RlY29kZSA/IGdvb2cuVXJpLmRlY29kZU9yRW1wdHlfKG5ld0RvbWFpbiwgITApIDogbmV3RG9tYWluO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuaGFzRG9tYWluID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAhIXRoaXMuZG9tYWluXztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuZ2V0UG9ydCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5wb3J0Xztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuc2V0UG9ydCA9IGZ1bmN0aW9uKG5ld1BvcnQpIHtcbiAgdGhpcy5lbmZvcmNlUmVhZE9ubHkoKTtcbiAgaWYgKG5ld1BvcnQpIHtcbiAgICBuZXdQb3J0ID0gTnVtYmVyKG5ld1BvcnQpO1xuICAgIGlmIChpc05hTihuZXdQb3J0KSB8fCAwID4gbmV3UG9ydCkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJCYWQgcG9ydCBudW1iZXIgXCIgKyBuZXdQb3J0KTtcbiAgICB9XG4gICAgdGhpcy5wb3J0XyA9IG5ld1BvcnQ7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5wb3J0XyA9IG51bGw7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLmhhc1BvcnQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG51bGwgIT0gdGhpcy5wb3J0Xztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuZ2V0UGF0aCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5wYXRoXztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuc2V0UGF0aCA9IGZ1bmN0aW9uKG5ld1BhdGgsIG9wdF9kZWNvZGUpIHtcbiAgdGhpcy5lbmZvcmNlUmVhZE9ubHkoKTtcbiAgdGhpcy5wYXRoXyA9IG9wdF9kZWNvZGUgPyBnb29nLlVyaS5kZWNvZGVPckVtcHR5XyhuZXdQYXRoLCAhMCkgOiBuZXdQYXRoO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuaGFzUGF0aCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gISF0aGlzLnBhdGhfO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5oYXNRdWVyeSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gXCJcIiAhPT0gdGhpcy5xdWVyeURhdGFfLnRvU3RyaW5nKCk7XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLnNldFF1ZXJ5RGF0YSA9IGZ1bmN0aW9uKHF1ZXJ5RGF0YSwgb3B0X2RlY29kZSkge1xuICB0aGlzLmVuZm9yY2VSZWFkT25seSgpO1xuICBxdWVyeURhdGEgaW5zdGFuY2VvZiBnb29nLlVyaS5RdWVyeURhdGEgPyAodGhpcy5xdWVyeURhdGFfID0gcXVlcnlEYXRhLCB0aGlzLnF1ZXJ5RGF0YV8uc2V0SWdub3JlQ2FzZSh0aGlzLmlnbm9yZUNhc2VfKSkgOiAob3B0X2RlY29kZSB8fCAocXVlcnlEYXRhID0gZ29vZy5VcmkuZW5jb2RlU3BlY2lhbENoYXJzXyhxdWVyeURhdGEsIGdvb2cuVXJpLnJlRGlzYWxsb3dlZEluUXVlcnlfKSksIHRoaXMucXVlcnlEYXRhXyA9IG5ldyBnb29nLlVyaS5RdWVyeURhdGEocXVlcnlEYXRhLCB0aGlzLmlnbm9yZUNhc2VfKSk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5zZXRRdWVyeSA9IGZ1bmN0aW9uKG5ld1F1ZXJ5LCBvcHRfZGVjb2RlKSB7XG4gIHJldHVybiB0aGlzLnNldFF1ZXJ5RGF0YShuZXdRdWVyeSwgb3B0X2RlY29kZSk7XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLmdldEVuY29kZWRRdWVyeSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5xdWVyeURhdGFfLnRvU3RyaW5nKCk7XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLmdldERlY29kZWRRdWVyeSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5xdWVyeURhdGFfLnRvRGVjb2RlZFN0cmluZygpO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5nZXRRdWVyeURhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucXVlcnlEYXRhXztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuZ2V0UXVlcnkgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZ2V0RW5jb2RlZFF1ZXJ5KCk7XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLnNldFBhcmFtZXRlclZhbHVlID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICB0aGlzLmVuZm9yY2VSZWFkT25seSgpO1xuICB0aGlzLnF1ZXJ5RGF0YV8uc2V0KGtleSwgdmFsdWUpO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuc2V0UGFyYW1ldGVyVmFsdWVzID0gZnVuY3Rpb24oa2V5LCB2YWx1ZXMpIHtcbiAgdGhpcy5lbmZvcmNlUmVhZE9ubHkoKTtcbiAgQXJyYXkuaXNBcnJheSh2YWx1ZXMpIHx8ICh2YWx1ZXMgPSBbU3RyaW5nKHZhbHVlcyldKTtcbiAgdGhpcy5xdWVyeURhdGFfLnNldFZhbHVlcyhrZXksIHZhbHVlcyk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5nZXRQYXJhbWV0ZXJWYWx1ZXMgPSBmdW5jdGlvbihuYW1lKSB7XG4gIHJldHVybiB0aGlzLnF1ZXJ5RGF0YV8uZ2V0VmFsdWVzKG5hbWUpO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5nZXRQYXJhbWV0ZXJWYWx1ZSA9IGZ1bmN0aW9uKHBhcmFtTmFtZSkge1xuICByZXR1cm4gdGhpcy5xdWVyeURhdGFfLmdldChwYXJhbU5hbWUpO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5nZXRGcmFnbWVudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5mcmFnbWVudF87XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLnNldEZyYWdtZW50ID0gZnVuY3Rpb24obmV3RnJhZ21lbnQsIG9wdF9kZWNvZGUpIHtcbiAgdGhpcy5lbmZvcmNlUmVhZE9ubHkoKTtcbiAgdGhpcy5mcmFnbWVudF8gPSBvcHRfZGVjb2RlID8gZ29vZy5VcmkuZGVjb2RlT3JFbXB0eV8obmV3RnJhZ21lbnQpIDogbmV3RnJhZ21lbnQ7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5oYXNGcmFnbWVudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gISF0aGlzLmZyYWdtZW50Xztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuaGFzU2FtZURvbWFpbkFzID0gZnVuY3Rpb24odXJpMikge1xuICByZXR1cm4gKCF0aGlzLmhhc0RvbWFpbigpICYmICF1cmkyLmhhc0RvbWFpbigpIHx8IHRoaXMuZ2V0RG9tYWluKCkgPT0gdXJpMi5nZXREb21haW4oKSkgJiYgKCF0aGlzLmhhc1BvcnQoKSAmJiAhdXJpMi5oYXNQb3J0KCkgfHwgdGhpcy5nZXRQb3J0KCkgPT0gdXJpMi5nZXRQb3J0KCkpO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5tYWtlVW5pcXVlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZW5mb3JjZVJlYWRPbmx5KCk7XG4gIHRoaXMuc2V0UGFyYW1ldGVyVmFsdWUoZ29vZy5VcmkuUkFORE9NX1BBUkFNLCBnb29nLnN0cmluZy5nZXRSYW5kb21TdHJpbmcoKSk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5yZW1vdmVQYXJhbWV0ZXIgPSBmdW5jdGlvbihrZXkpIHtcbiAgdGhpcy5lbmZvcmNlUmVhZE9ubHkoKTtcbiAgdGhpcy5xdWVyeURhdGFfLnJlbW92ZShrZXkpO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuc2V0UmVhZE9ubHkgPSBmdW5jdGlvbihpc1JlYWRPbmx5KSB7XG4gIHRoaXMuaXNSZWFkT25seV8gPSBpc1JlYWRPbmx5O1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuaXNSZWFkT25seSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5pc1JlYWRPbmx5Xztcbn07XG5nb29nLlVyaS5wcm90b3R5cGUuZW5mb3JjZVJlYWRPbmx5ID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLmlzUmVhZE9ubHlfKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJUcmllZCB0byBtb2RpZnkgYSByZWFkLW9ubHkgVXJpXCIpO1xuICB9XG59O1xuZ29vZy5VcmkucHJvdG90eXBlLnNldElnbm9yZUNhc2UgPSBmdW5jdGlvbihpZ25vcmVDYXNlKSB7XG4gIHRoaXMuaWdub3JlQ2FzZV8gPSBpZ25vcmVDYXNlO1xuICB0aGlzLnF1ZXJ5RGF0YV8gJiYgdGhpcy5xdWVyeURhdGFfLnNldElnbm9yZUNhc2UoaWdub3JlQ2FzZSk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cuVXJpLnByb3RvdHlwZS5nZXRJZ25vcmVDYXNlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmlnbm9yZUNhc2VfO1xufTtcbmdvb2cuVXJpLnBhcnNlID0gZnVuY3Rpb24odXJpLCBvcHRfaWdub3JlQ2FzZSkge1xuICByZXR1cm4gdXJpIGluc3RhbmNlb2YgZ29vZy5VcmkgPyB1cmkuY2xvbmUoKSA6IG5ldyBnb29nLlVyaSh1cmksIG9wdF9pZ25vcmVDYXNlKTtcbn07XG5nb29nLlVyaS5jcmVhdGUgPSBmdW5jdGlvbihvcHRfc2NoZW1lLCBvcHRfdXNlckluZm8sIG9wdF9kb21haW4sIG9wdF9wb3J0LCBvcHRfcGF0aCwgb3B0X3F1ZXJ5LCBvcHRfZnJhZ21lbnQsIG9wdF9pZ25vcmVDYXNlKSB7XG4gIHZhciB1cmkgPSBuZXcgZ29vZy5VcmkobnVsbCwgb3B0X2lnbm9yZUNhc2UpO1xuICBvcHRfc2NoZW1lICYmIHVyaS5zZXRTY2hlbWUob3B0X3NjaGVtZSk7XG4gIG9wdF91c2VySW5mbyAmJiB1cmkuc2V0VXNlckluZm8ob3B0X3VzZXJJbmZvKTtcbiAgb3B0X2RvbWFpbiAmJiB1cmkuc2V0RG9tYWluKG9wdF9kb21haW4pO1xuICBvcHRfcG9ydCAmJiB1cmkuc2V0UG9ydChvcHRfcG9ydCk7XG4gIG9wdF9wYXRoICYmIHVyaS5zZXRQYXRoKG9wdF9wYXRoKTtcbiAgb3B0X3F1ZXJ5ICYmIHVyaS5zZXRRdWVyeURhdGEob3B0X3F1ZXJ5KTtcbiAgb3B0X2ZyYWdtZW50ICYmIHVyaS5zZXRGcmFnbWVudChvcHRfZnJhZ21lbnQpO1xuICByZXR1cm4gdXJpO1xufTtcbmdvb2cuVXJpLnJlc29sdmUgPSBmdW5jdGlvbihiYXNlLCByZWwpIHtcbiAgYmFzZSBpbnN0YW5jZW9mIGdvb2cuVXJpIHx8IChiYXNlID0gZ29vZy5VcmkucGFyc2UoYmFzZSkpO1xuICByZWwgaW5zdGFuY2VvZiBnb29nLlVyaSB8fCAocmVsID0gZ29vZy5VcmkucGFyc2UocmVsKSk7XG4gIHJldHVybiBiYXNlLnJlc29sdmUocmVsKTtcbn07XG5nb29nLlVyaS5yZW1vdmVEb3RTZWdtZW50cyA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgaWYgKFwiLi5cIiA9PSBwYXRoIHx8IFwiLlwiID09IHBhdGgpIHtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuICBpZiAoZ29vZy5zdHJpbmcuY29udGFpbnMocGF0aCwgXCIuL1wiKSB8fCBnb29nLnN0cmluZy5jb250YWlucyhwYXRoLCBcIi8uXCIpKSB7XG4gICAgZm9yICh2YXIgbGVhZGluZ1NsYXNoID0gZ29vZy5zdHJpbmcuc3RhcnRzV2l0aChwYXRoLCBcIi9cIiksIHNlZ21lbnRzID0gcGF0aC5zcGxpdChcIi9cIiksIG91dCA9IFtdLCBwb3MgPSAwOyBwb3MgPCBzZWdtZW50cy5sZW5ndGg7KSB7XG4gICAgICB2YXIgc2VnbWVudCA9IHNlZ21lbnRzW3BvcysrXTtcbiAgICAgIFwiLlwiID09IHNlZ21lbnQgPyBsZWFkaW5nU2xhc2ggJiYgcG9zID09IHNlZ21lbnRzLmxlbmd0aCAmJiBvdXQucHVzaChcIlwiKSA6IFwiLi5cIiA9PSBzZWdtZW50ID8gKCgxIDwgb3V0Lmxlbmd0aCB8fCAxID09IG91dC5sZW5ndGggJiYgXCJcIiAhPSBvdXRbMF0pICYmIG91dC5wb3AoKSwgbGVhZGluZ1NsYXNoICYmIHBvcyA9PSBzZWdtZW50cy5sZW5ndGggJiYgb3V0LnB1c2goXCJcIikpIDogKG91dC5wdXNoKHNlZ21lbnQpLCBsZWFkaW5nU2xhc2ggPSAhMCk7XG4gICAgfVxuICAgIHJldHVybiBvdXQuam9pbihcIi9cIik7XG4gIH1cbiAgcmV0dXJuIHBhdGg7XG59O1xuZ29vZy5VcmkuZGVjb2RlT3JFbXB0eV8gPSBmdW5jdGlvbih2YWwsIG9wdF9wcmVzZXJ2ZVJlc2VydmVkKSB7XG4gIHJldHVybiB2YWwgPyBvcHRfcHJlc2VydmVSZXNlcnZlZCA/IGRlY29kZVVSSSh2YWwucmVwbGFjZSgvJTI1L2csIFwiJTI1MjVcIikpIDogZGVjb2RlVVJJQ29tcG9uZW50KHZhbCkgOiBcIlwiO1xufTtcbmdvb2cuVXJpLmVuY29kZVNwZWNpYWxDaGFyc18gPSBmdW5jdGlvbih1bmVzY2FwZWRQYXJ0LCBleHRyYSwgb3B0X3JlbW92ZURvdWJsZUVuY29kaW5nKSB7XG4gIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdW5lc2NhcGVkUGFydCkge1xuICAgIHZhciBlbmNvZGVkID0gZW5jb2RlVVJJKHVuZXNjYXBlZFBhcnQpLnJlcGxhY2UoZXh0cmEsIGdvb2cuVXJpLmVuY29kZUNoYXJfKTtcbiAgICBvcHRfcmVtb3ZlRG91YmxlRW5jb2RpbmcgJiYgKGVuY29kZWQgPSBnb29nLlVyaS5yZW1vdmVEb3VibGVFbmNvZGluZ18oZW5jb2RlZCkpO1xuICAgIHJldHVybiBlbmNvZGVkO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcbmdvb2cuVXJpLmVuY29kZUNoYXJfID0gZnVuY3Rpb24oY2gpIHtcbiAgdmFyIG4gPSBjaC5jaGFyQ29kZUF0KDApO1xuICByZXR1cm4gXCIlXCIgKyAobiA+PiA0ICYgMTUpLnRvU3RyaW5nKDE2KSArIChuICYgMTUpLnRvU3RyaW5nKDE2KTtcbn07XG5nb29nLlVyaS5yZW1vdmVEb3VibGVFbmNvZGluZ18gPSBmdW5jdGlvbihkb3VibGVFbmNvZGVkU3RyaW5nKSB7XG4gIHJldHVybiBkb3VibGVFbmNvZGVkU3RyaW5nLnJlcGxhY2UoLyUyNShbMC05YS1mQS1GXXsyfSkvZywgXCIlJDFcIik7XG59O1xuZ29vZy5VcmkucmVEaXNhbGxvd2VkSW5TY2hlbWVPclVzZXJJbmZvXyA9IC9bI1xcL1xcP0BdL2c7XG5nb29nLlVyaS5yZURpc2FsbG93ZWRJblJlbGF0aXZlUGF0aF8gPSAvWyNcXD86XS9nO1xuZ29vZy5VcmkucmVEaXNhbGxvd2VkSW5BYnNvbHV0ZVBhdGhfID0gL1sjXFw/XS9nO1xuZ29vZy5VcmkucmVEaXNhbGxvd2VkSW5RdWVyeV8gPSAvWyNcXD9AXS9nO1xuZ29vZy5VcmkucmVEaXNhbGxvd2VkSW5GcmFnbWVudF8gPSAvIy9nO1xuZ29vZy5VcmkuaGF2ZVNhbWVEb21haW4gPSBmdW5jdGlvbih1cmkxU3RyaW5nLCB1cmkyU3RyaW5nKSB7XG4gIHZhciBwaWVjZXMxID0gZ29vZy51cmkudXRpbHMuc3BsaXQodXJpMVN0cmluZyksIHBpZWNlczIgPSBnb29nLnVyaS51dGlscy5zcGxpdCh1cmkyU3RyaW5nKTtcbiAgcmV0dXJuIHBpZWNlczFbZ29vZy51cmkudXRpbHMuQ29tcG9uZW50SW5kZXguRE9NQUlOXSA9PSBwaWVjZXMyW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LkRPTUFJTl0gJiYgcGllY2VzMVtnb29nLnVyaS51dGlscy5Db21wb25lbnRJbmRleC5QT1JUXSA9PSBwaWVjZXMyW2dvb2cudXJpLnV0aWxzLkNvbXBvbmVudEluZGV4LlBPUlRdO1xufTtcbmdvb2cuVXJpLlF1ZXJ5RGF0YSA9IGZ1bmN0aW9uKG9wdF9xdWVyeSwgb3B0X2lnbm9yZUNhc2UpIHtcbiAgdGhpcy5jb3VudF8gPSB0aGlzLmtleU1hcF8gPSBudWxsO1xuICB0aGlzLmVuY29kZWRRdWVyeV8gPSBvcHRfcXVlcnkgfHwgbnVsbDtcbiAgdGhpcy5pZ25vcmVDYXNlXyA9ICEhb3B0X2lnbm9yZUNhc2U7XG59O1xuZ29vZy5VcmkuUXVlcnlEYXRhLnByb3RvdHlwZS5lbnN1cmVLZXlNYXBJbml0aWFsaXplZF8gPSBmdW5jdGlvbigpIHtcbiAgaWYgKCF0aGlzLmtleU1hcF8gJiYgKHRoaXMua2V5TWFwXyA9IG5ldyBNYXAoKSwgdGhpcy5jb3VudF8gPSAwLCB0aGlzLmVuY29kZWRRdWVyeV8pKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGdvb2cudXJpLnV0aWxzLnBhcnNlUXVlcnlEYXRhKHRoaXMuZW5jb2RlZFF1ZXJ5XywgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgIHNlbGYuYWRkKGdvb2cuc3RyaW5nLnVybERlY29kZShuYW1lKSwgdmFsdWUpO1xuICAgIH0pO1xuICB9XG59O1xuZ29vZy5VcmkuUXVlcnlEYXRhLmNyZWF0ZUZyb21NYXAgPSBmdW5jdGlvbihtYXAsIG9wdF9pZ25vcmVDYXNlKSB7XG4gIHZhciBrZXlzID0gZ29vZy5zdHJ1Y3RzLmdldEtleXMobWFwKTtcbiAgaWYgKFwidW5kZWZpbmVkXCIgPT0gdHlwZW9mIGtleXMpIHtcbiAgICB0aHJvdyBFcnJvcihcIktleXMgYXJlIHVuZGVmaW5lZFwiKTtcbiAgfVxuICBmb3IgKHZhciBxdWVyeURhdGEgPSBuZXcgZ29vZy5VcmkuUXVlcnlEYXRhKG51bGwsIG9wdF9pZ25vcmVDYXNlKSwgdmFsdWVzID0gZ29vZy5zdHJ1Y3RzLmdldFZhbHVlcyhtYXApLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXSwgdmFsdWUgPSB2YWx1ZXNbaV07XG4gICAgQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyBxdWVyeURhdGEuc2V0VmFsdWVzKGtleSwgdmFsdWUpIDogcXVlcnlEYXRhLmFkZChrZXksIHZhbHVlKTtcbiAgfVxuICByZXR1cm4gcXVlcnlEYXRhO1xufTtcbmdvb2cuVXJpLlF1ZXJ5RGF0YS5jcmVhdGVGcm9tS2V5c1ZhbHVlcyA9IGZ1bmN0aW9uKGtleXMsIHZhbHVlcywgb3B0X2lnbm9yZUNhc2UpIHtcbiAgaWYgKGtleXMubGVuZ3RoICE9IHZhbHVlcy5sZW5ndGgpIHtcbiAgICB0aHJvdyBFcnJvcihcIk1pc21hdGNoZWQgbGVuZ3RocyBmb3Iga2V5cy92YWx1ZXNcIik7XG4gIH1cbiAgZm9yICh2YXIgcXVlcnlEYXRhID0gbmV3IGdvb2cuVXJpLlF1ZXJ5RGF0YShudWxsLCBvcHRfaWdub3JlQ2FzZSksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIHF1ZXJ5RGF0YS5hZGQoa2V5c1tpXSwgdmFsdWVzW2ldKTtcbiAgfVxuICByZXR1cm4gcXVlcnlEYXRhO1xufTtcbmdvb2cuVXJpLlF1ZXJ5RGF0YS5wcm90b3R5cGUuZ2V0Q291bnQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5lbnN1cmVLZXlNYXBJbml0aWFsaXplZF8oKTtcbiAgcmV0dXJuIHRoaXMuY291bnRfO1xufTtcbmdvb2cuVXJpLlF1ZXJ5RGF0YS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICB0aGlzLmVuc3VyZUtleU1hcEluaXRpYWxpemVkXygpO1xuICB0aGlzLmludmFsaWRhdGVDYWNoZV8oKTtcbiAga2V5ID0gdGhpcy5nZXRLZXlOYW1lXyhrZXkpO1xuICB2YXIgdmFsdWVzID0gdGhpcy5rZXlNYXBfLmdldChrZXkpO1xuICB2YWx1ZXMgfHwgdGhpcy5rZXlNYXBfLnNldChrZXksIHZhbHVlcyA9IFtdKTtcbiAgdmFsdWVzLnB1c2godmFsdWUpO1xuICB0aGlzLmNvdW50XyA9IGdvb2cuYXNzZXJ0cy5hc3NlcnROdW1iZXIodGhpcy5jb3VudF8pICsgMTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5VcmkuUXVlcnlEYXRhLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihrZXkpIHtcbiAgdGhpcy5lbnN1cmVLZXlNYXBJbml0aWFsaXplZF8oKTtcbiAga2V5ID0gdGhpcy5nZXRLZXlOYW1lXyhrZXkpO1xuICByZXR1cm4gdGhpcy5rZXlNYXBfLmhhcyhrZXkpID8gKHRoaXMuaW52YWxpZGF0ZUNhY2hlXygpLCB0aGlzLmNvdW50XyA9IGdvb2cuYXNzZXJ0cy5hc3NlcnROdW1iZXIodGhpcy5jb3VudF8pIC0gdGhpcy5rZXlNYXBfLmdldChrZXkpLmxlbmd0aCwgdGhpcy5rZXlNYXBfLmRlbGV0ZShrZXkpKSA6ICExO1xufTtcbmdvb2cuVXJpLlF1ZXJ5RGF0YS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5pbnZhbGlkYXRlQ2FjaGVfKCk7XG4gIHRoaXMua2V5TWFwXyA9IG51bGw7XG4gIHRoaXMuY291bnRfID0gMDtcbn07XG5nb29nLlVyaS5RdWVyeURhdGEucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5lbnN1cmVLZXlNYXBJbml0aWFsaXplZF8oKTtcbiAgcmV0dXJuIDAgPT0gdGhpcy5jb3VudF87XG59O1xuZ29vZy5VcmkuUXVlcnlEYXRhLnByb3RvdHlwZS5jb250YWluc0tleSA9IGZ1bmN0aW9uKGtleSkge1xuICB0aGlzLmVuc3VyZUtleU1hcEluaXRpYWxpemVkXygpO1xuICBrZXkgPSB0aGlzLmdldEtleU5hbWVfKGtleSk7XG4gIHJldHVybiB0aGlzLmtleU1hcF8uaGFzKGtleSk7XG59O1xuZ29vZy5VcmkuUXVlcnlEYXRhLnByb3RvdHlwZS5jb250YWluc1ZhbHVlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgdmFyIHZhbHMgPSB0aGlzLmdldFZhbHVlcygpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY29udGFpbnModmFscywgdmFsdWUpO1xufTtcbmdvb2cuVXJpLlF1ZXJ5RGF0YS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uKGYsIG9wdF9zY29wZSkge1xuICB0aGlzLmVuc3VyZUtleU1hcEluaXRpYWxpemVkXygpO1xuICB0aGlzLmtleU1hcF8uZm9yRWFjaChmdW5jdGlvbih2YWx1ZXMsIGtleSkge1xuICAgIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBmLmNhbGwob3B0X3Njb3BlLCB2YWx1ZSwga2V5LCB0aGlzKTtcbiAgICB9LCB0aGlzKTtcbiAgfSwgdGhpcyk7XG59O1xuZ29vZy5VcmkuUXVlcnlEYXRhLnByb3RvdHlwZS5nZXRLZXlzID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZW5zdXJlS2V5TWFwSW5pdGlhbGl6ZWRfKCk7XG4gIGZvciAodmFyIHZhbHMgPSBBcnJheS5mcm9tKHRoaXMua2V5TWFwXy52YWx1ZXMoKSksIGtleXMgPSBBcnJheS5mcm9tKHRoaXMua2V5TWFwXy5rZXlzKCkpLCBydiA9IFtdLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBmb3IgKHZhciB2YWwgPSB2YWxzW2ldLCBqID0gMDsgaiA8IHZhbC5sZW5ndGg7IGorKykge1xuICAgICAgcnYucHVzaChrZXlzW2ldKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJ2O1xufTtcbmdvb2cuVXJpLlF1ZXJ5RGF0YS5wcm90b3R5cGUuZ2V0VmFsdWVzID0gZnVuY3Rpb24ob3B0X2tleSkge1xuICB0aGlzLmVuc3VyZUtleU1hcEluaXRpYWxpemVkXygpO1xuICB2YXIgcnYgPSBbXTtcbiAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRfa2V5KSB7XG4gICAgdGhpcy5jb250YWluc0tleShvcHRfa2V5KSAmJiAocnYgPSBydi5jb25jYXQodGhpcy5rZXlNYXBfLmdldCh0aGlzLmdldEtleU5hbWVfKG9wdF9rZXkpKSkpO1xuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIHZhbHVlcyA9IEFycmF5LmZyb20odGhpcy5rZXlNYXBfLnZhbHVlcygpKSwgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJ2ID0gcnYuY29uY2F0KHZhbHVlc1tpXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBydjtcbn07XG5nb29nLlVyaS5RdWVyeURhdGEucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgdGhpcy5lbnN1cmVLZXlNYXBJbml0aWFsaXplZF8oKTtcbiAgdGhpcy5pbnZhbGlkYXRlQ2FjaGVfKCk7XG4gIGtleSA9IHRoaXMuZ2V0S2V5TmFtZV8oa2V5KTtcbiAgdGhpcy5jb250YWluc0tleShrZXkpICYmICh0aGlzLmNvdW50XyA9IGdvb2cuYXNzZXJ0cy5hc3NlcnROdW1iZXIodGhpcy5jb3VudF8pIC0gdGhpcy5rZXlNYXBfLmdldChrZXkpLmxlbmd0aCk7XG4gIHRoaXMua2V5TWFwXy5zZXQoa2V5LCBbdmFsdWVdKTtcbiAgdGhpcy5jb3VudF8gPSBnb29nLmFzc2VydHMuYXNzZXJ0TnVtYmVyKHRoaXMuY291bnRfKSArIDE7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cuVXJpLlF1ZXJ5RGF0YS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24oa2V5LCBvcHRfZGVmYXVsdCkge1xuICBpZiAoIWtleSkge1xuICAgIHJldHVybiBvcHRfZGVmYXVsdDtcbiAgfVxuICB2YXIgdmFsdWVzID0gdGhpcy5nZXRWYWx1ZXMoa2V5KTtcbiAgcmV0dXJuIDAgPCB2YWx1ZXMubGVuZ3RoID8gU3RyaW5nKHZhbHVlc1swXSkgOiBvcHRfZGVmYXVsdDtcbn07XG5nb29nLlVyaS5RdWVyeURhdGEucHJvdG90eXBlLnNldFZhbHVlcyA9IGZ1bmN0aW9uKGtleSwgdmFsdWVzKSB7XG4gIHRoaXMucmVtb3ZlKGtleSk7XG4gIDAgPCB2YWx1ZXMubGVuZ3RoICYmICh0aGlzLmludmFsaWRhdGVDYWNoZV8oKSwgdGhpcy5rZXlNYXBfLnNldCh0aGlzLmdldEtleU5hbWVfKGtleSksIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3RvQXJyYXkodmFsdWVzKSksIHRoaXMuY291bnRfID0gZ29vZy5hc3NlcnRzLmFzc2VydE51bWJlcih0aGlzLmNvdW50XykgKyB2YWx1ZXMubGVuZ3RoKTtcbn07XG5nb29nLlVyaS5RdWVyeURhdGEucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLmVuY29kZWRRdWVyeV8pIHtcbiAgICByZXR1cm4gdGhpcy5lbmNvZGVkUXVlcnlfO1xuICB9XG4gIGlmICghdGhpcy5rZXlNYXBfKSB7XG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cbiAgZm9yICh2YXIgc2IgPSBbXSwga2V5cyA9IEFycmF5LmZyb20odGhpcy5rZXlNYXBfLmtleXMoKSksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGZvciAodmFyIGtleSA9IGtleXNbaV0sIGVuY29kZWRLZXkgPSBnb29nLnN0cmluZy51cmxFbmNvZGUoa2V5KSwgdmFsID0gdGhpcy5nZXRWYWx1ZXMoa2V5KSwgaiA9IDA7IGogPCB2YWwubGVuZ3RoOyBqKyspIHtcbiAgICAgIHZhciBwYXJhbSA9IGVuY29kZWRLZXk7XG4gICAgICBcIlwiICE9PSB2YWxbal0gJiYgKHBhcmFtICs9IFwiPVwiICsgZ29vZy5zdHJpbmcudXJsRW5jb2RlKHZhbFtqXSkpO1xuICAgICAgc2IucHVzaChwYXJhbSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0aGlzLmVuY29kZWRRdWVyeV8gPSBzYi5qb2luKFwiJlwiKTtcbn07XG5nb29nLlVyaS5RdWVyeURhdGEucHJvdG90eXBlLnRvRGVjb2RlZFN0cmluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5VcmkuZGVjb2RlT3JFbXB0eV8odGhpcy50b1N0cmluZygpKTtcbn07XG5nb29nLlVyaS5RdWVyeURhdGEucHJvdG90eXBlLmludmFsaWRhdGVDYWNoZV8gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5lbmNvZGVkUXVlcnlfID0gbnVsbDtcbn07XG5nb29nLlVyaS5RdWVyeURhdGEucHJvdG90eXBlLmZpbHRlcktleXMgPSBmdW5jdGlvbihrZXlzKSB7XG4gIHRoaXMuZW5zdXJlS2V5TWFwSW5pdGlhbGl6ZWRfKCk7XG4gIHRoaXMua2V5TWFwXy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb250YWlucyhrZXlzLCBrZXkpIHx8IHRoaXMucmVtb3ZlKGtleSk7XG4gIH0sIHRoaXMpO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLlVyaS5RdWVyeURhdGEucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gIHZhciBydiA9IG5ldyBnb29nLlVyaS5RdWVyeURhdGEoKTtcbiAgcnYuZW5jb2RlZFF1ZXJ5XyA9IHRoaXMuZW5jb2RlZFF1ZXJ5XztcbiAgdGhpcy5rZXlNYXBfICYmIChydi5rZXlNYXBfID0gbmV3IE1hcCh0aGlzLmtleU1hcF8pLCBydi5jb3VudF8gPSB0aGlzLmNvdW50Xyk7XG4gIHJldHVybiBydjtcbn07XG5nb29nLlVyaS5RdWVyeURhdGEucHJvdG90eXBlLmdldEtleU5hbWVfID0gZnVuY3Rpb24oYXJnKSB7XG4gIHZhciBrZXlOYW1lID0gU3RyaW5nKGFyZyk7XG4gIHRoaXMuaWdub3JlQ2FzZV8gJiYgKGtleU5hbWUgPSBrZXlOYW1lLnRvTG93ZXJDYXNlKCkpO1xuICByZXR1cm4ga2V5TmFtZTtcbn07XG5nb29nLlVyaS5RdWVyeURhdGEucHJvdG90eXBlLnNldElnbm9yZUNhc2UgPSBmdW5jdGlvbihpZ25vcmVDYXNlKSB7XG4gIGlnbm9yZUNhc2UgJiYgIXRoaXMuaWdub3JlQ2FzZV8gJiYgKHRoaXMuZW5zdXJlS2V5TWFwSW5pdGlhbGl6ZWRfKCksIHRoaXMuaW52YWxpZGF0ZUNhY2hlXygpLCB0aGlzLmtleU1hcF8uZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgdmFyIGxvd2VyQ2FzZSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuICAgIGtleSAhPSBsb3dlckNhc2UgJiYgKHRoaXMucmVtb3ZlKGtleSksIHRoaXMuc2V0VmFsdWVzKGxvd2VyQ2FzZSwgdmFsdWUpKTtcbiAgfSwgdGhpcykpO1xuICB0aGlzLmlnbm9yZUNhc2VfID0gaWdub3JlQ2FzZTtcbn07XG5nb29nLlVyaS5RdWVyeURhdGEucHJvdG90eXBlLmV4dGVuZCA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgZ29vZy5zdHJ1Y3RzLmZvckVhY2goYXJndW1lbnRzW2ldLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICB0aGlzLmFkZChrZXksIHZhbHVlKTtcbiAgICB9LCB0aGlzKTtcbiAgfVxufTtcbnZhciBtb2R1bGUkZXhwb3J0cyRnb29nJG5ldCRycGMkSHR0cENvcnMgPSB7SFRUUF9IRUFERVJTX1BBUkFNX05BTUU6XCIkaHR0cEhlYWRlcnNcIiwgSFRUUF9NRVRIT0RfUEFSQU1fTkFNRTpcIiRodHRwTWV0aG9kXCIsIGdlbmVyYXRlSHR0cEhlYWRlcnNPdmVyd3JpdGVQYXJhbTpmdW5jdGlvbihoZWFkZXJzKSB7XG4gIHZhciByZXN1bHQgPSBcIlwiO1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgcmVzdWx0ICs9IGtleTtcbiAgICByZXN1bHQgKz0gXCI6XCI7XG4gICAgcmVzdWx0ICs9IHZhbHVlO1xuICAgIHJlc3VsdCArPSBcIlxcclxcblwiO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn0sIGdlbmVyYXRlRW5jb2RlZEh0dHBIZWFkZXJzT3ZlcndyaXRlUGFyYW06ZnVuY3Rpb24oaGVhZGVycykge1xuICByZXR1cm4gZ29vZy5zdHJpbmcudXJsRW5jb2RlKG1vZHVsZSRleHBvcnRzJGdvb2ckbmV0JHJwYyRIdHRwQ29ycy5nZW5lcmF0ZUh0dHBIZWFkZXJzT3ZlcndyaXRlUGFyYW0oaGVhZGVycykpO1xufSwgc2V0SHR0cEhlYWRlcnNXaXRoT3ZlcndyaXRlUGFyYW06ZnVuY3Rpb24odXJsLCB1cmxQYXJhbSwgZXh0cmFIZWFkZXJzKSB7XG4gIGlmIChtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfaXNFbXB0eShleHRyYUhlYWRlcnMpKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuICB2YXIgaHR0cEhlYWRlcnMgPSBtb2R1bGUkZXhwb3J0cyRnb29nJG5ldCRycGMkSHR0cENvcnMuZ2VuZXJhdGVIdHRwSGVhZGVyc092ZXJ3cml0ZVBhcmFtKGV4dHJhSGVhZGVycyk7XG4gIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdXJsKSB7XG4gICAgcmV0dXJuIGdvb2cudXJpLnV0aWxzLmFwcGVuZFBhcmFtKHVybCwgZ29vZy5zdHJpbmcudXJsRW5jb2RlKHVybFBhcmFtKSwgaHR0cEhlYWRlcnMpO1xuICB9XG4gIHVybC5zZXRQYXJhbWV0ZXJWYWx1ZSh1cmxQYXJhbSwgaHR0cEhlYWRlcnMpO1xuICByZXR1cm4gdXJsO1xufX07XG52YXIgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXMgPSB7fSwgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX21vZHVsZSA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19tb2R1bGUgfHwge2lkOlwiamF2YXNjcmlwdC90eXBlc2NyaXB0L2NvbnRyaWIvYXBpY2xpZW50L2NvcmUvcmVxdWVzdF9wYXJhbXMuY2xvc3VyZS5qc1wifTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zLkh0dHBNZXRob2RFbnVtID0ge0dFVDpcIkdFVFwiLCBQT1NUOlwiUE9TVFwiLCBQVVQ6XCJQVVRcIiwgUEFUQ0g6XCJQQVRDSFwiLCBERUxFVEU6XCJERUxFVEVcIix9O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXMuQXV0aFR5cGUgPSB7QVVUTzpcImF1dG9cIiwgTk9ORTpcIm5vbmVcIiwgT0FVVEgyOlwib2F1dGgyXCIsIEZJUlNUX1BBUlRZOlwiMXBcIix9O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXMuU3RyZWFtaW5nVHlwZSA9IHtOT05FOlwiTk9ORVwiLCBDTElFTlRfU0lERTpcIkNMSUVOVF9TSURFXCIsIFNFUlZFUl9TSURFOlwiU0VSVkVSX1NJREVcIiwgQklESVJFQ1RPTkFMOlwiQklESVJFQ1RPTkFMXCIsfTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19NYWtlUmVxdWVzdFBhcmFtcygpIHtcbn1cbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zLk1ha2VSZXF1ZXN0UGFyYW1zID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX01ha2VSZXF1ZXN0UGFyYW1zO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX3Byb2Nlc3NQYXJhbXMocGFyYW1zKSB7XG4gIGlmIChudWxsICE9IHBhcmFtcy5xdWVyeVBhcmFtcykge1xuICAgIHZhciBmaWx0ZXJlZFF1ZXJ5UGFyYW1zID0ge30sIGtleTtcbiAgICBmb3IgKGtleSBpbiBwYXJhbXMucXVlcnlQYXJhbXMpIHtcbiAgICAgIHZvaWQgMCAhPT0gcGFyYW1zLnF1ZXJ5UGFyYW1zW2tleV0gJiYgKGZpbHRlcmVkUXVlcnlQYXJhbXNba2V5XSA9IHBhcmFtcy5xdWVyeVBhcmFtc1trZXldKTtcbiAgICB9XG4gICAgcGFyYW1zLnF1ZXJ5UGFyYW1zID0gZmlsdGVyZWRRdWVyeVBhcmFtcztcbiAgfVxufVxubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXMucHJvY2Vzc1BhcmFtcyA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19wcm9jZXNzUGFyYW1zO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMocGFyYW1zLCBtYXBwaW5nLCBwYXNzdGhyb3VnaFBhcmFtcykge1xuICBmb3IgKHZhciB1cmxRdWVyeVBhcmFtcyA9IHBhc3N0aHJvdWdoUGFyYW1zID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaFBhcmFtcyA/IHt9IDogcGFzc3Rocm91Z2hQYXJhbXMsICRqc2NvbXAkaXRlciQxNSA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKE9iamVjdC5lbnRyaWVzKG1hcHBpbmcpKSwgJGpzY29tcCRrZXkkID0gJGpzY29tcCRpdGVyJDE1Lm5leHQoKTsgISRqc2NvbXAka2V5JC5kb25lOyAkanNjb21wJGtleSQgPSAkanNjb21wJGl0ZXIkMTUubmV4dCgpKSB7XG4gICAgdmFyICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIxNSA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKCRqc2NvbXAka2V5JC52YWx1ZSksIGpzTmFtZV9fdHNpY2tsZV9kZXN0cnVjdHVyZWRfMSA9ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIxNS5uZXh0KCkudmFsdWUsIHVybFF1ZXJ5UGFyYW1OYW1lX190c2lja2xlX2Rlc3RydWN0dXJlZF8yID0gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjE1Lm5leHQoKS52YWx1ZSwganNOYW1lID0ganNOYW1lX190c2lja2xlX2Rlc3RydWN0dXJlZF8xLCB1cmxRdWVyeVBhcmFtTmFtZSA9IHVybFF1ZXJ5UGFyYW1OYW1lX190c2lja2xlX2Rlc3RydWN0dXJlZF8yO1xuICAgIGpzTmFtZSBpbiBwYXJhbXMgJiYgKHVybFF1ZXJ5UGFyYW1zW3VybFF1ZXJ5UGFyYW1OYW1lXSA9IHBhcmFtc1tqc05hbWVdKTtcbiAgfVxuICByZXR1cm4gdXJsUXVlcnlQYXJhbXM7XG59XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtcy5idWlsZFF1ZXJ5UGFyYW1zID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXM7XG52YXIgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX3NpbXBsZUNvcnNBbGxvd2VkSGVhZGVycyA9IFtcImFjY2VwdFwiLCBcImFjY2VwdC1sYW5ndWFnZVwiLCBcImNvbnRlbnQtbGFuZ3VhZ2VcIl0sIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19zaW1wbGVDb3JzQWxsb3dlZE1ldGhvZHMgPSBbXCJHRVRcIiwgXCJIRUFEXCIsIFwiUE9TVFwiXTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zLmJ5cGFzc0NvcnNQcmVmbGlnaHQgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnlwYXNzQ29yc1ByZWZsaWdodChwYXJhbXMpIHtcbiAgdmFyIHNhZmVIZWFkZXJzID0ge30sIHVuc2FmZUhlYWRlcnMgPSB7fSwgaGFzVW5zYWZlSGVhZGVycyA9ICExLCBoYXNTYWZlSGVhZGVycyA9ICExLCBoYXNDb250ZW50VHlwZSA9ICExO1xuICBpZiAocGFyYW1zLmhlYWRlcnMpIHtcbiAgICBoYXNDb250ZW50VHlwZSA9IG51bGwgIT0gcGFyYW1zLmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl07XG4gICAgZm9yICh2YXIgJGpzY29tcCRpdGVyJDE2ID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoT2JqZWN0LmVudHJpZXMocGFyYW1zLmhlYWRlcnMpKSwgJGpzY29tcCRrZXkkID0gJGpzY29tcCRpdGVyJDE2Lm5leHQoKTsgISRqc2NvbXAka2V5JC5kb25lOyAkanNjb21wJGtleSQgPSAkanNjb21wJGl0ZXIkMTYubmV4dCgpKSB7XG4gICAgICB2YXIgJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjE3ID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoJGpzY29tcCRrZXkkLnZhbHVlKSwga2V5X190c2lja2xlX2Rlc3RydWN0dXJlZF8zID0gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjE3Lm5leHQoKS52YWx1ZSwgdmFsdWVfX3RzaWNrbGVfZGVzdHJ1Y3R1cmVkXzQgPSAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMTcubmV4dCgpLnZhbHVlLCBrZXkgPSBrZXlfX3RzaWNrbGVfZGVzdHJ1Y3R1cmVkXzMsIHZhbHVlID0gdmFsdWVfX3RzaWNrbGVfZGVzdHJ1Y3R1cmVkXzQ7XG4gICAgICBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfc2ltcGxlQ29yc0FsbG93ZWRIZWFkZXJzLmluY2x1ZGVzKGtleSkgPyAoc2FmZUhlYWRlcnNba2V5XSA9IHZhbHVlLCBoYXNTYWZlSGVhZGVycyA9ICEwKSA6ICh1bnNhZmVIZWFkZXJzW2tleV0gPSB2YWx1ZSwgaGFzVW5zYWZlSGVhZGVycyA9ICEwKTtcbiAgICB9XG4gIH1cbiAgaWYgKG51bGwgIT0gcGFyYW1zLmJvZHkgfHwgXCJQVVRcIiA9PT0gcGFyYW1zLmh0dHBNZXRob2QgfHwgXCJQT1NUXCIgPT09IHBhcmFtcy5odHRwTWV0aG9kKSB7XG4gICAgaGFzQ29udGVudFR5cGUgfHwgKHVuc2FmZUhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl0gPSBcImFwcGxpY2F0aW9uL2pzb25cIiwgaGFzVW5zYWZlSGVhZGVycyA9ICEwKSwgc2FmZUhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl0gPSBcInRleHQvcGxhaW5cIiwgaGFzU2FmZUhlYWRlcnMgPSAhMDtcbiAgfVxuICBpZiAoaGFzVW5zYWZlSGVhZGVycykge1xuICAgIHZhciBmaW5hbFBhcmFtID0gKDAsbW9kdWxlJGV4cG9ydHMkZ29vZyRuZXQkcnBjJEh0dHBDb3JzLmdlbmVyYXRlRW5jb2RlZEh0dHBIZWFkZXJzT3ZlcndyaXRlUGFyYW0pKHVuc2FmZUhlYWRlcnMpO1xuICAgIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19hZGRRdWVyeVBhcmFtZXRlcihwYXJhbXMsIG1vZHVsZSRleHBvcnRzJGdvb2ckbmV0JHJwYyRIdHRwQ29ycy5IVFRQX0hFQURFUlNfUEFSQU1fTkFNRSwgZmluYWxQYXJhbSk7XG4gIH1cbiAgaGFzU2FmZUhlYWRlcnMgJiYgKHBhcmFtcy5oZWFkZXJzID0gc2FmZUhlYWRlcnMpO1xuICBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfc2ltcGxlQ29yc0FsbG93ZWRNZXRob2RzLmluY2x1ZGVzKHBhcmFtcy5odHRwTWV0aG9kKSB8fCAobW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2FkZFF1ZXJ5UGFyYW1ldGVyKHBhcmFtcywgbW9kdWxlJGV4cG9ydHMkZ29vZyRuZXQkcnBjJEh0dHBDb3JzLkhUVFBfTUVUSE9EX1BBUkFNX05BTUUsIHBhcmFtcy5odHRwTWV0aG9kKSwgcGFyYW1zLmh0dHBNZXRob2QgPSBcIlBPU1RcIik7XG59O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2FkZFF1ZXJ5UGFyYW1ldGVyKHBhcmFtcywga2V5LCB2YWx1ZSkge1xuICBpZiAocGFyYW1zLnF1ZXJ5UGFyYW1zKSB7XG4gICAgcGFyYW1zLnF1ZXJ5UGFyYW1zW2tleV0gPSB2YWx1ZTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgJGpzY29tcCRjb21wcHJvcDAgPSB7fTtcbiAgICBwYXJhbXMucXVlcnlQYXJhbXMgPSAoJGpzY29tcCRjb21wcHJvcDBba2V5XSA9IHZhbHVlLCAkanNjb21wJGNvbXBwcm9wMCk7XG4gIH1cbn1cbjt2YXIgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkbXVsdGlwYXJ0X3JlcXVlc3QgPSB7fSwgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JG11bHRpcGFydF9yZXF1ZXN0X21vZHVsZSA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRtdWx0aXBhcnRfcmVxdWVzdF9tb2R1bGUgfHwge2lkOlwiamF2YXNjcmlwdC90eXBlc2NyaXB0L2NvbnRyaWIvYXBpY2xpZW50L2NvcmUvbXVsdGlwYXJ0X3JlcXVlc3QuY2xvc3VyZS5qc1wifTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JG11bHRpcGFydF9yZXF1ZXN0Lk11bHRpcGFydFJlcXVlc3QgPSBmdW5jdGlvbihmaWxlcywgX21ldGFkYXRhKSB7XG4gIHRoaXMuZmlsZXMgPSBmaWxlcztcbiAgdGhpcy5fbWV0YWRhdGEgPSBfbWV0YWRhdGE7XG4gIHRoaXMuX21ldGFkYXRhUGF5bG9hZCA9IFwiXCI7XG4gIHRoaXMuX2JvdW5kYXJ5ID0gRGF0ZS5ub3coKS50b1N0cmluZygpO1xuICBfbWV0YWRhdGEgJiYgdGhpcy5hZGRNZXRhZGF0YShfbWV0YWRhdGEpO1xuICB0aGlzLl9wYXlsb2FkUHJvbWlzZSA9IHRoaXMuYnVpbGQoKTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRtdWx0aXBhcnRfcmVxdWVzdC5NdWx0aXBhcnRSZXF1ZXN0LnByb3RvdHlwZS5ib3VuZGFyeSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fYm91bmRhcnk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkbXVsdGlwYXJ0X3JlcXVlc3QuTXVsdGlwYXJ0UmVxdWVzdC5wcm90b3R5cGUubWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX21ldGFkYXRhO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JG11bHRpcGFydF9yZXF1ZXN0Lk11bHRpcGFydFJlcXVlc3QucHJvdG90eXBlLnBheWxvYWRQcm9taXNlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl9wYXlsb2FkUHJvbWlzZTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRtdWx0aXBhcnRfcmVxdWVzdC5NdWx0aXBhcnRSZXF1ZXN0LnByb3RvdHlwZS5hZGRNZXRhZGF0YSA9IGZ1bmN0aW9uKG1ldGFkYXRhKSB7XG4gIHZhciBqc29uID0gbWV0YWRhdGEgaW5zdGFuY2VvZiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSA/IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X3NlcmlhbGl6ZShtZXRhZGF0YSkgOiBtZXRhZGF0YTtcbiAgdGhpcy5fbWV0YWRhdGFQYXlsb2FkICs9IFwiQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XFxyXFxuXFxyXFxuXCIgKyBKU09OLnN0cmluZ2lmeShqc29uKSArIChcIlxcclxcbi0tXCIgKyB0aGlzLl9ib3VuZGFyeSArIFwiXFxyXFxuXCIpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JG11bHRpcGFydF9yZXF1ZXN0Lk11bHRpcGFydFJlcXVlc3QucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24oKSB7XG4gIHZhciAkanNjb21wJHRoaXMgPSB0aGlzLCBwYXlsb2FkID0gXCItLVwiICsgdGhpcy5fYm91bmRhcnkgKyBcIlxcclxcblwiO1xuICBwYXlsb2FkICs9IHRoaXMuX21ldGFkYXRhUGF5bG9hZDtcbiAgcmV0dXJuIFByb21pc2UuYWxsKHRoaXMuZmlsZXMubWFwKGZ1bmN0aW9uKGYpIHtcbiAgICByZXR1cm4gJGpzY29tcCR0aGlzLmVuY29kZUZpbGUoZik7XG4gIH0pKS50aGVuKGZ1bmN0aW9uKGZpbGVQYXlsb2Fkcykge1xuICAgIGZvciAodmFyICRqc2NvbXAkaXRlciQxNyA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKGZpbGVQYXlsb2FkcyksICRqc2NvbXAka2V5JGZpbGVQYXlsb2FkID0gJGpzY29tcCRpdGVyJDE3Lm5leHQoKTsgISRqc2NvbXAka2V5JGZpbGVQYXlsb2FkLmRvbmU7ICRqc2NvbXAka2V5JGZpbGVQYXlsb2FkID0gJGpzY29tcCRpdGVyJDE3Lm5leHQoKSkge1xuICAgICAgcGF5bG9hZCArPSAkanNjb21wJGtleSRmaWxlUGF5bG9hZC52YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHBheWxvYWQgKz0gXCJcXHJcXG4tLVwiICsgJGpzY29tcCR0aGlzLl9ib3VuZGFyeSArIFwiLS1cIjtcbiAgfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkbXVsdGlwYXJ0X3JlcXVlc3QuTXVsdGlwYXJ0UmVxdWVzdC5wcm90b3R5cGUuZW5jb2RlRmlsZSA9IGZ1bmN0aW9uKGZpbGUpIHtcbiAgcmV0dXJuIHRoaXMuYmFzZTY0RW5jb2RlRmlsZShmaWxlKS50aGVuKGZ1bmN0aW9uKGJhc2U2NFN0cikge1xuICAgIHJldHVybiBcIkNvbnRlbnQtVHlwZTogXCIgKyBmaWxlLnR5cGUgKyAnXFxyXFxuQ29udGVudC1EaXNwb3NpdGlvbjogZm9ybS1kYXRhOyBuYW1lPVwiZmlsZVwiOyBmaWxlbmFtZT1cIicgKyAoZW5jb2RlVVJJQ29tcG9uZW50KGZpbGUubmFtZSkgKyAnXCJcXHJcXG5Db250ZW50LVRyYW5zZmVyLUVuY29kaW5nOiBiYXNlNjRcXHJcXG5cXHJcXG4nKSArIGJhc2U2NFN0cjtcbiAgfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkbXVsdGlwYXJ0X3JlcXVlc3QuTXVsdGlwYXJ0UmVxdWVzdC5wcm90b3R5cGUuYmFzZTY0RW5jb2RlRmlsZSA9IGZ1bmN0aW9uKGZpbGUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihldikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIGZpbGUkNTIgPSBldi50YXJnZXQucmVzdWx0LCB0b1Jlc29sdmUgPSBmaWxlJDUyLnN1YnN0cihmaWxlJDUyLmluZGV4T2YoXCIsXCIpICsgMSk7XG4gICAgICAgIHJlc29sdmUodG9SZXNvbHZlKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfVxuICAgIH07XG4gICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gIH0pO1xufTtcbnZhciBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRhcGlfY2xpZW50ID0ge30sIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRhcGlfY2xpZW50X21vZHVsZSA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRhcGlfY2xpZW50X21vZHVsZSB8fCB7aWQ6XCJqYXZhc2NyaXB0L3R5cGVzY3JpcHQvY29udHJpYi9hcGljbGllbnQvY29yZS9hcGlfY2xpZW50LmNsb3N1cmUuanNcIn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRhcGlfY2xpZW50LkFwaUNsaWVudCA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGFwaV9jbGllbnQuQXBpQ2xpZW50LnByb3RvdHlwZS4kdmFsaWRhdGVQYXJhbWV0ZXIgPSBmdW5jdGlvbihwYXJhbSwgcGF0dGVybikge1xuICB2YXIgcGFyYW1TdHIgPSBTdHJpbmcocGFyYW0pO1xuICBpZiAoIXBhdHRlcm4udGVzdChwYXJhbVN0cikpIHtcbiAgICB0aHJvdyBFcnJvcihcInBhcmFtZXRlciBbXCIgKyBwYXJhbVN0ciArIFwiXSBkb2VzIG5vdCBtYXRjaCBwYXR0ZXJuIFtcIiArIHBhdHRlcm4udG9TdHJpbmcoKSArIFwiXVwiKTtcbiAgfVxufTtcbmZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRhcGlfY2xpZW50X3RvTWFrZVJlcXVlc3RQYXJhbXMocmVxdWVzdFBhcmFtcykge1xuICB2YXIgYm9keSA9IHJlcXVlc3RQYXJhbXMuYm9keSBpbnN0YW5jZW9mIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlID8gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3Rfc2VyaWFsaXplKHJlcXVlc3RQYXJhbXMuYm9keSkgOiByZXF1ZXN0UGFyYW1zLmJvZHk7XG4gIHJldHVybiB7cGF0aDpyZXF1ZXN0UGFyYW1zLnBhdGgsIGh0dHBNZXRob2Q6cmVxdWVzdFBhcmFtcy5odHRwTWV0aG9kLCBtZXRob2RJZDpyZXF1ZXN0UGFyYW1zLm1ldGhvZElkLCBib2R5OmJvZHksIHF1ZXJ5UGFyYW1zOnJlcXVlc3RQYXJhbXMucXVlcnlQYXJhbXMsIHN0cmVhbWluZ1R5cGU6cmVxdWVzdFBhcmFtcy5zdHJlYW1pbmdUeXBlICYmIHJlcXVlc3RQYXJhbXMuc3RyZWFtaW5nVHlwZX07XG59XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRhcGlfY2xpZW50LnRvTWFrZVJlcXVlc3RQYXJhbXMgPSBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkYXBpX2NsaWVudF90b01ha2VSZXF1ZXN0UGFyYW1zO1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGFwaV9jbGllbnRfdG9NdWx0aXBhcnRNYWtlUmVxdWVzdFBhcmFtcyhyZXF1ZXN0UGFyYW1zKSB7XG4gIGlmICghKHJlcXVlc3RQYXJhbXMuYm9keSBpbnN0YW5jZW9mIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JG11bHRpcGFydF9yZXF1ZXN0Lk11bHRpcGFydFJlcXVlc3QpKSB7XG4gICAgdGhyb3cgRXJyb3IocmVxdWVzdFBhcmFtcy5wYXRoICsgXCIgcmVxdWVzdCBtdXN0IGJlIGEgTXVsdGlwYXJ0UmVxdWVzdFwiKTtcbiAgfVxuICB2YXIgbXVsdGlwYXJ0UmVxdWVzdCA9IHJlcXVlc3RQYXJhbXMuYm9keTtcbiAgcmV0dXJuIG11bHRpcGFydFJlcXVlc3QucGF5bG9hZFByb21pc2UoKS50aGVuKGZ1bmN0aW9uKGJvZHkpIHtcbiAgICB2YXIgX2EsIHF1ZXJ5UGFyYW1zID0gbnVsbCAhPT0gKF9hID0gcmVxdWVzdFBhcmFtcy5xdWVyeVBhcmFtcykgJiYgdm9pZCAwICE9PSBfYSA/IF9hIDoge307XG4gICAgcmV0dXJuIHtwYXRoOnJlcXVlc3RQYXJhbXMucGF0aCwgaHR0cE1ldGhvZDpyZXF1ZXN0UGFyYW1zLmh0dHBNZXRob2QsIG1ldGhvZElkOnJlcXVlc3RQYXJhbXMubWV0aG9kSWQsIHF1ZXJ5UGFyYW1zOk9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcXVlcnlQYXJhbXMpLCB7dXBsb2FkVHlwZTpcIm11bHRpcGFydFwifSksIGhlYWRlcnM6e1wiWC1Hb29nLVVwbG9hZC1Qcm90b2NvbFwiOlwibXVsdGlwYXJ0XCIsIFwiQ29udGVudC1UeXBlXCI6XCJtdWx0aXBhcnQvcmVsYXRlZDsgYm91bmRhcnk9XCIgKyBtdWx0aXBhcnRSZXF1ZXN0LmJvdW5kYXJ5KCl9LCBib2R5OmJvZHksfTtcbiAgfSk7XG59XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRhcGlfY2xpZW50LnRvTXVsdGlwYXJ0TWFrZVJlcXVlc3RQYXJhbXMgPSBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkYXBpX2NsaWVudF90b011bHRpcGFydE1ha2VSZXF1ZXN0UGFyYW1zO1xudmFyIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGFwaV9yZXF1ZXN0X2hvb2sgPSB7fSwgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGFwaV9yZXF1ZXN0X2hvb2tfbW9kdWxlID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGFwaV9yZXF1ZXN0X2hvb2tfbW9kdWxlIHx8IHtpZDpcImphdmFzY3JpcHQvdHlwZXNjcmlwdC9jb250cmliL2FwaWNsaWVudC9jb3JlL2FwaV9yZXF1ZXN0X2hvb2suY2xvc3VyZS5qc1wifTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGFwaV9yZXF1ZXN0X2hvb2suQXBpQ2xpZW50UmVxdWVzdEhvb2sgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkYXBpX3JlcXVlc3RfaG9va19BcGlDbGllbnRSZXF1ZXN0SG9vaygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRhcGlfcmVxdWVzdF9ob29rLkFwaUNsaWVudEhvb2tGYWN0b3J5ID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkYXBpX3JlcXVlc3RfaG9vay5BcGlDbGllbnRIb29rRmFjdG9yeUN0b3IgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkYXBpX3JlcXVlc3RfaG9va19BcGlDbGllbnRIb29rRmFjdG9yeUN0b3IoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkYXBpX3JlcXVlc3RfaG9vay5EZWZhdWx0QXBpQ2xpZW50SG9va0ZhY3RvcnkgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRhcGlfcmVxdWVzdF9ob29rLkRlZmF1bHRBcGlDbGllbnRIb29rRmFjdG9yeS5wcm90b3R5cGUuZ2V0UmVxdWVzdEhvb2sgPSBmdW5jdGlvbihyZXF1ZXN0UGFyYW1zKSB7XG4gIHJldHVybiB7b25CZWZvcmVTZW5kOmZ1bmN0aW9uKCkge1xuICB9LCBvblN1Y2Nlc3M6ZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgfSwgb25FcnJvcjpmdW5jdGlvbihlcnJvcikge1xuICB9LH07XG59O1xuZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGFwaV9yZXF1ZXN0X2hvb2tfZ2V0UmVxdWVzdEhvb2soZmFjdG9yeSwgcmVxdWVzdFBhcmFtcykge1xuICBpZiAobnVsbCA9PSBmYWN0b3J5KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIGhvb2sgPSBmYWN0b3J5LmdldFJlcXVlc3RIb29rKHJlcXVlc3RQYXJhbXMpO1xuICByZXR1cm4gbnVsbCA9PSBob29rID8gbnVsbCA6IGhvb2s7XG59XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRhcGlfcmVxdWVzdF9ob29rLmdldFJlcXVlc3RIb29rID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGFwaV9yZXF1ZXN0X2hvb2tfZ2V0UmVxdWVzdEhvb2s7XG52YXIgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50ID0ge30sIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnRfbW9kdWxlID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudF9tb2R1bGUgfHwge2lkOlwiamF2YXNjcmlwdC90eXBlc2NyaXB0L2NvbnRyaWIvYXBpY2xpZW50L3JlcXVlc3Rfc2VydmljZS9wcm9taXNlX2FwaV9jbGllbnQuY2xvc3VyZS5qc1wifTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50ID0gZnVuY3Rpb24ocmVxdWVzdFNlcnZpY2UsIGhvb2tGYWN0b3J5KSB7XG4gIHRoaXMucmVxdWVzdFNlcnZpY2UgPSByZXF1ZXN0U2VydmljZTtcbiAgdGhpcy5ob29rRmFjdG9yeSA9IHZvaWQgMCA9PT0gaG9va0ZhY3RvcnkgPyBudWxsIDogaG9va0ZhY3Rvcnk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkYXBpX2NsaWVudC5BcGlDbGllbnQpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50LlByb21pc2VBcGlDbGllbnQucHJvdG90eXBlLiRhZGRIb29rc1RvUmVxdWVzdCA9IGZ1bmN0aW9uKHJlcXVlc3RQYXJhbXMsIHByb21pc2UpIHtcbiAgcmV0dXJuIG51bGwgPT0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGFwaV9yZXF1ZXN0X2hvb2tfZ2V0UmVxdWVzdEhvb2sodGhpcy5ob29rRmFjdG9yeSwgcmVxdWVzdFBhcmFtcykgPyBwcm9taXNlIDogcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgIHRocm93IGVycm9yO1xuICB9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudC5wcm90b3R5cGUuJHJlcXVlc3QgPSBmdW5jdGlvbihyZXF1ZXN0UGFyYW1zKSB7XG4gIHZhciByZXNwb25zZUN0b3IgPSByZXF1ZXN0UGFyYW1zLnJlc3BvbnNlQ3RvciB8fCB2b2lkIDA7XG4gIHJldHVybiB0aGlzLiRhZGRIb29rc1RvUmVxdWVzdChyZXF1ZXN0UGFyYW1zLCB0aGlzLnJlcXVlc3RTZXJ2aWNlLnNlbmQobW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGFwaV9jbGllbnRfdG9NYWtlUmVxdWVzdFBhcmFtcyhyZXF1ZXN0UGFyYW1zKSwgcmVzcG9uc2VDdG9yKSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50LlByb21pc2VBcGlDbGllbnQucHJvdG90eXBlLiR1cGxvYWRSZXF1ZXN0ID0gZnVuY3Rpb24ocmVxdWVzdFBhcmFtcykge1xuICB2YXIgJGpzY29tcCR0aGlzID0gdGhpcywgcmVzcG9uc2VDdG9yID0gcmVxdWVzdFBhcmFtcy5yZXNwb25zZUN0b3IgfHwgdm9pZCAwO1xuICByZXR1cm4gdGhpcy4kYWRkSG9va3NUb1JlcXVlc3QocmVxdWVzdFBhcmFtcywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGFwaV9jbGllbnRfdG9NdWx0aXBhcnRNYWtlUmVxdWVzdFBhcmFtcyhyZXF1ZXN0UGFyYW1zKS50aGVuKGZ1bmN0aW9uKHBhcmFtcykge1xuICAgIHJldHVybiAkanNjb21wJHRoaXMucmVxdWVzdFNlcnZpY2Uuc2VuZChwYXJhbXMsIHJlc3BvbnNlQ3Rvcik7XG4gIH0pKTtcbn07XG52YXIgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudCA9IHt9LCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9tb2R1bGUgPSBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9tb2R1bGUgfHwge2lkOlwiZ2VvL2dlc3RhbHQvY2xpZW50L2phdmFzY3JpcHQvdjFhbHBoYS9lZV9hcGlfY2xpZW50LmNsb3N1cmUuanNcIn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklBdWRpdExvZ0NvbmZpZ0xvZ1R5cGVFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSUF1ZGl0TG9nQ29uZmlnTG9nVHlwZUVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdWRpdExvZ0NvbmZpZ0xvZ1R5cGVFbnVtID0ge0FETUlOX1JFQUQ6XCJBRE1JTl9SRUFEXCIsIERBVEFfUkVBRDpcIkRBVEFfUkVBRFwiLCBEQVRBX1dSSVRFOlwiREFUQV9XUklURVwiLCBMT0dfVFlQRV9VTlNQRUNJRklFRDpcIkxPR19UWVBFX1VOU1BFQ0lGSUVEXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1ZGl0TG9nQ29uZmlnTG9nVHlwZUVudW0uTE9HX1RZUEVfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXVkaXRMb2dDb25maWdMb2dUeXBlRW51bS5BRE1JTl9SRUFELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1ZGl0TG9nQ29uZmlnTG9nVHlwZUVudW0uREFUQV9XUklURSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdWRpdExvZ0NvbmZpZ0xvZ1R5cGVFbnVtLkRBVEFfUkVBRF07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSUF1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9uc1Blcm1pc3Npb25UeXBlRW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lBdXRob3JpemF0aW9uTG9nZ2luZ09wdGlvbnNQZXJtaXNzaW9uVHlwZUVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdXRob3JpemF0aW9uTG9nZ2luZ09wdGlvbnNQZXJtaXNzaW9uVHlwZUVudW0gPSB7QURNSU5fUkVBRDpcIkFETUlOX1JFQURcIiwgQURNSU5fV1JJVEU6XCJBRE1JTl9XUklURVwiLCBEQVRBX1JFQUQ6XCJEQVRBX1JFQURcIiwgREFUQV9XUklURTpcIkRBVEFfV1JJVEVcIiwgUEVSTUlTU0lPTl9UWVBFX1VOU1BFQ0lGSUVEOlwiUEVSTUlTU0lPTl9UWVBFX1VOU1BFQ0lGSUVEXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9uc1Blcm1pc3Npb25UeXBlRW51bS5QRVJNSVNTSU9OX1RZUEVfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXV0aG9yaXphdGlvbkxvZ2dpbmdPcHRpb25zUGVybWlzc2lvblR5cGVFbnVtLkFETUlOX1JFQUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXV0aG9yaXphdGlvbkxvZ2dpbmdPcHRpb25zUGVybWlzc2lvblR5cGVFbnVtLkFETUlOX1dSSVRFLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9uc1Blcm1pc3Npb25UeXBlRW51bS5EQVRBX1JFQUQsIFxuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9uc1Blcm1pc3Npb25UeXBlRW51bS5EQVRBX1dSSVRFXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JQ2FwYWJpbGl0aWVzQ2FwYWJpbGl0aWVzRW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lDYXBhYmlsaXRpZXNDYXBhYmlsaXRpZXNFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FwYWJpbGl0aWVzQ2FwYWJpbGl0aWVzRW51bSA9IHtDQVBBQklMSVRZX0dST1VQX1VOU1BFQ0lGSUVEOlwiQ0FQQUJJTElUWV9HUk9VUF9VTlNQRUNJRklFRFwiLCBDTE9VRF9BTFBIQTpcIkNMT1VEX0FMUEhBXCIsIEVYVEVSTkFMOlwiRVhURVJOQUxcIiwgSU5URVJOQUw6XCJJTlRFUk5BTFwiLCBMSU1JVEVEOlwiTElNSVRFRFwiLCBQUkVBVVRIT1JJWkVEOlwiUFJFQVVUSE9SSVpFRFwiLCBQUkVWSUVXOlwiUFJFVklFV1wiLCBQVUJMSUM6XCJQVUJMSUNcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FwYWJpbGl0aWVzQ2FwYWJpbGl0aWVzRW51bS5DQVBBQklMSVRZX0dST1VQX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNhcGFiaWxpdGllc0NhcGFiaWxpdGllc0VudW0uUFVCTElDLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNhcGFiaWxpdGllc0NhcGFiaWxpdGllc0VudW0uSU5URVJOQUwsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FwYWJpbGl0aWVzQ2FwYWJpbGl0aWVzRW51bS5FWFRFUk5BTCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DYXBhYmlsaXRpZXNDYXBhYmlsaXRpZXNFbnVtLkxJTUlURUQsIFxuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNhcGFiaWxpdGllc0NhcGFiaWxpdGllc0VudW0uUFJFQVVUSE9SSVpFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DYXBhYmlsaXRpZXNDYXBhYmlsaXRpZXNFbnVtLlBSRVZJRVcsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FwYWJpbGl0aWVzQ2FwYWJpbGl0aWVzRW51bS5DTE9VRF9BTFBIQV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSUNsb3VkQXVkaXRPcHRpb25zTG9nTmFtZUVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JQ2xvdWRBdWRpdE9wdGlvbnNMb2dOYW1lRW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsb3VkQXVkaXRPcHRpb25zTG9nTmFtZUVudW0gPSB7QURNSU5fQUNUSVZJVFk6XCJBRE1JTl9BQ1RJVklUWVwiLCBEQVRBX0FDQ0VTUzpcIkRBVEFfQUNDRVNTXCIsIFVOU1BFQ0lGSUVEX0xPR19OQU1FOlwiVU5TUEVDSUZJRURfTE9HX05BTUVcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRBdWRpdE9wdGlvbnNMb2dOYW1lRW51bS5VTlNQRUNJRklFRF9MT0dfTkFNRSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZEF1ZGl0T3B0aW9uc0xvZ05hbWVFbnVtLkFETUlOX0FDVElWSVRZLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsb3VkQXVkaXRPcHRpb25zTG9nTmFtZUVudW0uREFUQV9BQ0NFU1NdO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklDbG91ZFN0b3JhZ2VEZXN0aW5hdGlvblBlcm1pc3Npb25zRW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lDbG91ZFN0b3JhZ2VEZXN0aW5hdGlvblBlcm1pc3Npb25zRW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsb3VkU3RvcmFnZURlc3RpbmF0aW9uUGVybWlzc2lvbnNFbnVtID0ge0RFRkFVTFRfT0JKRUNUX0FDTDpcIkRFRkFVTFRfT0JKRUNUX0FDTFwiLCBQVUJMSUM6XCJQVUJMSUNcIiwgVElMRV9QRVJNSVNTSU9OU19VTlNQRUNJRklFRDpcIlRJTEVfUEVSTUlTU0lPTlNfVU5TUEVDSUZJRURcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRTdG9yYWdlRGVzdGluYXRpb25QZXJtaXNzaW9uc0VudW0uVElMRV9QRVJNSVNTSU9OU19VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VEZXN0aW5hdGlvblBlcm1pc3Npb25zRW51bS5QVUJMSUMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRTdG9yYWdlRGVzdGluYXRpb25QZXJtaXNzaW9uc0VudW0uREVGQVVMVF9PQkpFQ1RfQUNMXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JQ29tcHV0ZVBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lDb21wdXRlUGl4ZWxzUmVxdWVzdEZpbGVGb3JtYXRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bSA9IHtBVVRPX0pQRUdfUE5HOlwiQVVUT19KUEVHX1BOR1wiLCBHRU9fVElGRjpcIkdFT19USUZGXCIsIElNQUdFX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVEOlwiSU1BR0VfRklMRV9GT1JNQVRfVU5TUEVDSUZJRURcIiwgSlBFRzpcIkpQRUdcIiwgTVVMVElfQkFORF9JTUFHRV9USUxFOlwiTVVMVElfQkFORF9JTUFHRV9USUxFXCIsIE5QWTpcIk5QWVwiLCBQTkc6XCJQTkdcIiwgVEZfUkVDT1JEX0lNQUdFOlwiVEZfUkVDT1JEX0lNQUdFXCIsIFpJUFBFRF9HRU9fVElGRjpcIlpJUFBFRF9HRU9fVElGRlwiLCBaSVBQRURfR0VPX1RJRkZfUEVSX0JBTkQ6XCJaSVBQRURfR0VPX1RJRkZfUEVSX0JBTkRcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bS5JTUFHRV9GSUxFX0ZPUk1BVF9VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlUGl4ZWxzUmVxdWVzdEZpbGVGb3JtYXRFbnVtLkpQRUcsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bS5QTkcsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bS5BVVRPX0pQRUdfUE5HLCBcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlUGl4ZWxzUmVxdWVzdEZpbGVGb3JtYXRFbnVtLk5QWSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlUGl4ZWxzUmVxdWVzdEZpbGVGb3JtYXRFbnVtLkdFT19USUZGLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW0uVEZfUkVDT1JEX0lNQUdFLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW0uTVVMVElfQkFORF9JTUFHRV9USUxFLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW0uWklQUEVEX0dFT19USUZGLCBcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlUGl4ZWxzUmVxdWVzdEZpbGVGb3JtYXRFbnVtLlpJUFBFRF9HRU9fVElGRl9QRVJfQkFORF07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSUNvbmRpdGlvbklhbUVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JQ29uZGl0aW9uSWFtRW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvbklhbUVudW0gPSB7QVBQUk9WRVI6XCJBUFBST1ZFUlwiLCBBVFRSSUJVVElPTjpcIkFUVFJJQlVUSU9OXCIsIEFVVEhPUklUWTpcIkFVVEhPUklUWVwiLCBDUkVERU5USUFMU19UWVBFOlwiQ1JFREVOVElBTFNfVFlQRVwiLCBDUkVEU19BU1NFUlRJT046XCJDUkVEU19BU1NFUlRJT05cIiwgSlVTVElGSUNBVElPTl9UWVBFOlwiSlVTVElGSUNBVElPTl9UWVBFXCIsIE5PX0FUVFI6XCJOT19BVFRSXCIsIFNFQ1VSSVRZX1JFQUxNOlwiU0VDVVJJVFlfUkVBTE1cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29uZGl0aW9uSWFtRW51bS5OT19BVFRSLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvbklhbUVudW0uQVVUSE9SSVRZLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvbklhbUVudW0uQVRUUklCVVRJT04sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29uZGl0aW9uSWFtRW51bS5TRUNVUklUWV9SRUFMTSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25JYW1FbnVtLkFQUFJPVkVSLCBcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25JYW1FbnVtLkpVU1RJRklDQVRJT05fVFlQRSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25JYW1FbnVtLkNSRURFTlRJQUxTX1RZUEUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29uZGl0aW9uSWFtRW51bS5DUkVEU19BU1NFUlRJT05dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklDb25kaXRpb25PcEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JQ29uZGl0aW9uT3BFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29uZGl0aW9uT3BFbnVtID0ge0RJU0NIQVJHRUQ6XCJESVNDSEFSR0VEXCIsIEVRVUFMUzpcIkVRVUFMU1wiLCBJTjpcIklOXCIsIE5PVF9FUVVBTFM6XCJOT1RfRVFVQUxTXCIsIE5PVF9JTjpcIk5PVF9JTlwiLCBOT19PUDpcIk5PX09QXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvbk9wRW51bS5OT19PUCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25PcEVudW0uRVFVQUxTLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvbk9wRW51bS5OT1RfRVFVQUxTLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvbk9wRW51bS5JTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25PcEVudW0uTk9UX0lOLCBcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25PcEVudW0uRElTQ0hBUkdFRF07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSUNvbmRpdGlvblN5c0VudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JQ29uZGl0aW9uU3lzRW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvblN5c0VudW0gPSB7SVA6XCJJUFwiLCBOQU1FOlwiTkFNRVwiLCBOT19BVFRSOlwiTk9fQVRUUlwiLCBSRUdJT046XCJSRUdJT05cIiwgU0VSVklDRTpcIlNFUlZJQ0VcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29uZGl0aW9uU3lzRW51bS5OT19BVFRSLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvblN5c0VudW0uUkVHSU9OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvblN5c0VudW0uU0VSVklDRSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25TeXNFbnVtLk5BTUUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29uZGl0aW9uU3lzRW51bS5JUF07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSURhdGFBY2Nlc3NPcHRpb25zTG9nTW9kZUVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JRGF0YUFjY2Vzc09wdGlvbnNMb2dNb2RlRW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRhdGFBY2Nlc3NPcHRpb25zTG9nTW9kZUVudW0gPSB7TE9HX0ZBSUxfQ0xPU0VEOlwiTE9HX0ZBSUxfQ0xPU0VEXCIsIExPR19NT0RFX1VOU1BFQ0lGSUVEOlwiTE9HX01PREVfVU5TUEVDSUZJRURcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRGF0YUFjY2Vzc09wdGlvbnNMb2dNb2RlRW51bS5MT0dfTU9ERV9VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EYXRhQWNjZXNzT3B0aW9uc0xvZ01vZGVFbnVtLkxPR19GQUlMX0NMT1NFRF07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSURtc0F0dHJpYnV0ZVR5cGVFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSURtc0F0dHJpYnV0ZVR5cGVFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zQXR0cmlidXRlVHlwZUVudW0gPSB7Qk9PTEVBTjpcIkJPT0xFQU5cIiwgREFURV9USU1FOlwiREFURV9USU1FXCIsIERPVUJMRTpcIkRPVUJMRVwiLCBJTlRFR0VSOlwiSU5URUdFUlwiLCBTVFJJTkc6XCJTVFJJTkdcIiwgVFlQRV9VTlNQRUNJRklFRDpcIlRZUEVfVU5TUEVDSUZJRURcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zQXR0cmlidXRlVHlwZUVudW0uVFlQRV9VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNBdHRyaWJ1dGVUeXBlRW51bS5JTlRFR0VSLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0F0dHJpYnV0ZVR5cGVFbnVtLkJPT0xFQU4sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zQXR0cmlidXRlVHlwZUVudW0uRE9VQkxFLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0F0dHJpYnV0ZVR5cGVFbnVtLlNUUklORywgXG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zQXR0cmlidXRlVHlwZUVudW0uREFURV9USU1FXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JRWFydGhFbmdpbmVBc3NldFR5cGVFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSUVhcnRoRW5naW5lQXNzZXRUeXBlRW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXRUeXBlRW51bSA9IHtDTEFTU0lGSUVSOlwiQ0xBU1NJRklFUlwiLCBEQVRBX01BUFBJTkdfU0VSVklDRTpcIkRBVEFfTUFQUElOR19TRVJWSUNFXCIsIEZPTERFUjpcIkZPTERFUlwiLCBJTUFHRTpcIklNQUdFXCIsIElNQUdFX0NPTExFQ1RJT046XCJJTUFHRV9DT0xMRUNUSU9OXCIsIFRBQkxFOlwiVEFCTEVcIiwgVFlQRV9VTlNQRUNJRklFRDpcIlRZUEVfVU5TUEVDSUZJRURcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldFR5cGVFbnVtLlRZUEVfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldFR5cGVFbnVtLklNQUdFLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXRUeXBlRW51bS5JTUFHRV9DT0xMRUNUSU9OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXRUeXBlRW51bS5UQUJMRSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZUFzc2V0VHlwZUVudW0uRk9MREVSLCBcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZUFzc2V0VHlwZUVudW0uQ0xBU1NJRklFUiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZUFzc2V0VHlwZUVudW0uREFUQV9NQVBQSU5HX1NFUlZJQ0VdO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklFYXJ0aEVuZ2luZU1hcEZpbGVGb3JtYXRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSUVhcnRoRW5naW5lTWFwRmlsZUZvcm1hdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZU1hcEZpbGVGb3JtYXRFbnVtID0ge0FVVE9fSlBFR19QTkc6XCJBVVRPX0pQRUdfUE5HXCIsIEdFT19USUZGOlwiR0VPX1RJRkZcIiwgSU1BR0VfRklMRV9GT1JNQVRfVU5TUEVDSUZJRUQ6XCJJTUFHRV9GSUxFX0ZPUk1BVF9VTlNQRUNJRklFRFwiLCBKUEVHOlwiSlBFR1wiLCBNVUxUSV9CQU5EX0lNQUdFX1RJTEU6XCJNVUxUSV9CQU5EX0lNQUdFX1RJTEVcIiwgTlBZOlwiTlBZXCIsIFBORzpcIlBOR1wiLCBURl9SRUNPUkRfSU1BR0U6XCJURl9SRUNPUkRfSU1BR0VcIiwgWklQUEVEX0dFT19USUZGOlwiWklQUEVEX0dFT19USUZGXCIsIFpJUFBFRF9HRU9fVElGRl9QRVJfQkFORDpcIlpJUFBFRF9HRU9fVElGRl9QRVJfQkFORFwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZU1hcEZpbGVGb3JtYXRFbnVtLklNQUdFX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lTWFwRmlsZUZvcm1hdEVudW0uSlBFRywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZU1hcEZpbGVGb3JtYXRFbnVtLlBORywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZU1hcEZpbGVGb3JtYXRFbnVtLkFVVE9fSlBFR19QTkcsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVNYXBGaWxlRm9ybWF0RW51bS5OUFksIFxuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lTWFwRmlsZUZvcm1hdEVudW0uR0VPX1RJRkYsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVNYXBGaWxlRm9ybWF0RW51bS5URl9SRUNPUkRfSU1BR0UsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVNYXBGaWxlRm9ybWF0RW51bS5NVUxUSV9CQU5EX0lNQUdFX1RJTEUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVNYXBGaWxlRm9ybWF0RW51bS5aSVBQRURfR0VPX1RJRkYsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVNYXBGaWxlRm9ybWF0RW51bS5aSVBQRURfR0VPX1RJRkZfUEVSX0JBTkRdO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklFeHBvcnRWaWRlb01hcFJlcXVlc3RWZXJzaW9uRW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lFeHBvcnRWaWRlb01hcFJlcXVlc3RWZXJzaW9uRW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydFZpZGVvTWFwUmVxdWVzdFZlcnNpb25FbnVtID0ge1YxOlwiVjFcIiwgVjI6XCJWMlwiLCBWRVJTSU9OX1VOU1BFQ0lGSUVEOlwiVkVSU0lPTl9VTlNQRUNJRklFRFwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRWaWRlb01hcFJlcXVlc3RWZXJzaW9uRW51bS5WRVJTSU9OX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydFZpZGVvTWFwUmVxdWVzdFZlcnNpb25FbnVtLlYxLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydFZpZGVvTWFwUmVxdWVzdFZlcnNpb25FbnVtLlYyXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JRmVhdHVyZVZpZXdBdHRyaWJ1dGVUeXBlRW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lGZWF0dXJlVmlld0F0dHJpYnV0ZVR5cGVFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdBdHRyaWJ1dGVUeXBlRW51bSA9IHtCT09MRUFOOlwiQk9PTEVBTlwiLCBEQVRFX1RJTUU6XCJEQVRFX1RJTUVcIiwgRE9VQkxFOlwiRE9VQkxFXCIsIElOVEVHRVI6XCJJTlRFR0VSXCIsIFNUUklORzpcIlNUUklOR1wiLCBUWVBFX1VOU1BFQ0lGSUVEOlwiVFlQRV9VTlNQRUNJRklFRFwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0F0dHJpYnV0ZVR5cGVFbnVtLlRZUEVfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdBdHRyaWJ1dGVUeXBlRW51bS5JTlRFR0VSLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3QXR0cmlidXRlVHlwZUVudW0uQk9PTEVBTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0F0dHJpYnV0ZVR5cGVFbnVtLkRPVUJMRSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0F0dHJpYnV0ZVR5cGVFbnVtLlNUUklORywgXG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdBdHRyaWJ1dGVUeXBlRW51bS5EQVRFX1RJTUVdO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklGaWxtc3RyaXBUaHVtYm5haWxGaWxlRm9ybWF0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lGaWxtc3RyaXBUaHVtYm5haWxGaWxlRm9ybWF0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbEZpbGVGb3JtYXRFbnVtID0ge0FVVE9fSlBFR19QTkc6XCJBVVRPX0pQRUdfUE5HXCIsIEdFT19USUZGOlwiR0VPX1RJRkZcIiwgSU1BR0VfRklMRV9GT1JNQVRfVU5TUEVDSUZJRUQ6XCJJTUFHRV9GSUxFX0ZPUk1BVF9VTlNQRUNJRklFRFwiLCBKUEVHOlwiSlBFR1wiLCBNVUxUSV9CQU5EX0lNQUdFX1RJTEU6XCJNVUxUSV9CQU5EX0lNQUdFX1RJTEVcIiwgTlBZOlwiTlBZXCIsIFBORzpcIlBOR1wiLCBURl9SRUNPUkRfSU1BR0U6XCJURl9SRUNPUkRfSU1BR0VcIiwgWklQUEVEX0dFT19USUZGOlwiWklQUEVEX0dFT19USUZGXCIsIFpJUFBFRF9HRU9fVElGRl9QRVJfQkFORDpcIlpJUFBFRF9HRU9fVElGRl9QRVJfQkFORFwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWxGaWxlRm9ybWF0RW51bS5JTUFHRV9GSUxFX0ZPUk1BVF9VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWxGaWxlRm9ybWF0RW51bS5KUEVHLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbEZpbGVGb3JtYXRFbnVtLlBORywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWxGaWxlRm9ybWF0RW51bS5BVVRPX0pQRUdfUE5HLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbEZpbGVGb3JtYXRFbnVtLk5QWSwgXG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmlsbXN0cmlwVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0uR0VPX1RJRkYsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmlsbXN0cmlwVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0uVEZfUkVDT1JEX0lNQUdFLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbEZpbGVGb3JtYXRFbnVtLk1VTFRJX0JBTkRfSU1BR0VfVElMRSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWxGaWxlRm9ybWF0RW51bS5aSVBQRURfR0VPX1RJRkYsIFxuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbEZpbGVGb3JtYXRFbnVtLlpJUFBFRF9HRU9fVElGRl9QRVJfQkFORF07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSUZpbG1zdHJpcFRodW1ibmFpbE9yaWVudGF0aW9uRW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lGaWxtc3RyaXBUaHVtYm5haWxPcmllbnRhdGlvbkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWxPcmllbnRhdGlvbkVudW0gPSB7SE9SSVpPTlRBTDpcIkhPUklaT05UQUxcIiwgT1JJRU5UQVRJT05fVU5TUEVDSUZJRUQ6XCJPUklFTlRBVElPTl9VTlNQRUNJRklFRFwiLCBWRVJUSUNBTDpcIlZFUlRJQ0FMXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbE9yaWVudGF0aW9uRW51bS5PUklFTlRBVElPTl9VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWxPcmllbnRhdGlvbkVudW0uSE9SSVpPTlRBTCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWxPcmllbnRhdGlvbkVudW0uVkVSVElDQUxdO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklHY3NEZXN0aW5hdGlvblBlcm1pc3Npb25zRW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lHY3NEZXN0aW5hdGlvblBlcm1pc3Npb25zRW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdjc0Rlc3RpbmF0aW9uUGVybWlzc2lvbnNFbnVtID0ge0RFRkFVTFRfT0JKRUNUX0FDTDpcIkRFRkFVTFRfT0JKRUNUX0FDTFwiLCBQVUJMSUM6XCJQVUJMSUNcIiwgVElMRV9QRVJNSVNTSU9OU19VTlNQRUNJRklFRDpcIlRJTEVfUEVSTUlTU0lPTlNfVU5TUEVDSUZJRURcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzRGVzdGluYXRpb25QZXJtaXNzaW9uc0VudW0uVElMRV9QRVJNSVNTSU9OU19VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HY3NEZXN0aW5hdGlvblBlcm1pc3Npb25zRW51bS5QVUJMSUMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzRGVzdGluYXRpb25QZXJtaXNzaW9uc0VudW0uREVGQVVMVF9PQkpFQ1RfQUNMXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JR2V0UGl4ZWxzUmVxdWVzdEZpbGVGb3JtYXRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSUdldFBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bSA9IHtBVVRPX0pQRUdfUE5HOlwiQVVUT19KUEVHX1BOR1wiLCBHRU9fVElGRjpcIkdFT19USUZGXCIsIElNQUdFX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVEOlwiSU1BR0VfRklMRV9GT1JNQVRfVU5TUEVDSUZJRURcIiwgSlBFRzpcIkpQRUdcIiwgTVVMVElfQkFORF9JTUFHRV9USUxFOlwiTVVMVElfQkFORF9JTUFHRV9USUxFXCIsIE5QWTpcIk5QWVwiLCBQTkc6XCJQTkdcIiwgVEZfUkVDT1JEX0lNQUdFOlwiVEZfUkVDT1JEX0lNQUdFXCIsIFpJUFBFRF9HRU9fVElGRjpcIlpJUFBFRF9HRU9fVElGRlwiLCBaSVBQRURfR0VPX1RJRkZfUEVSX0JBTkQ6XCJaSVBQRURfR0VPX1RJRkZfUEVSX0JBTkRcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0UGl4ZWxzUmVxdWVzdEZpbGVGb3JtYXRFbnVtLklNQUdFX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bS5KUEVHLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bS5QTkcsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0UGl4ZWxzUmVxdWVzdEZpbGVGb3JtYXRFbnVtLkFVVE9fSlBFR19QTkcsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0UGl4ZWxzUmVxdWVzdEZpbGVGb3JtYXRFbnVtLk5QWSwgXG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0UGl4ZWxzUmVxdWVzdEZpbGVGb3JtYXRFbnVtLkdFT19USUZGLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bS5URl9SRUNPUkRfSU1BR0UsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0UGl4ZWxzUmVxdWVzdEZpbGVGb3JtYXRFbnVtLk1VTFRJX0JBTkRfSU1BR0VfVElMRSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW0uWklQUEVEX0dFT19USUZGLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bS5aSVBQRURfR0VPX1RJRkZfUEVSX0JBTkRdO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklJbWFnZUFzc2V0RXhwb3J0T3B0aW9uc1B5cmFtaWRpbmdQb2xpY3lFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSUltYWdlQXNzZXRFeHBvcnRPcHRpb25zUHlyYW1pZGluZ1BvbGljeUVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUFzc2V0RXhwb3J0T3B0aW9uc1B5cmFtaWRpbmdQb2xpY3lFbnVtID0ge01BWDpcIk1BWFwiLCBNRUFOOlwiTUVBTlwiLCBNRURJQU46XCJNRURJQU5cIiwgTUlOOlwiTUlOXCIsIE1PREU6XCJNT0RFXCIsIFBZUkFNSURJTkdfUE9MSUNZX1VOU1BFQ0lGSUVEOlwiUFlSQU1JRElOR19QT0xJQ1lfVU5TUEVDSUZJRURcIiwgU0FNUExFOlwiU0FNUExFXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zUHlyYW1pZGluZ1BvbGljeUVudW0uUFlSQU1JRElOR19QT0xJQ1lfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VBc3NldEV4cG9ydE9wdGlvbnNQeXJhbWlkaW5nUG9saWN5RW51bS5NRUFOLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zUHlyYW1pZGluZ1BvbGljeUVudW0uU0FNUExFLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zUHlyYW1pZGluZ1BvbGljeUVudW0uTUlOLCBcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUFzc2V0RXhwb3J0T3B0aW9uc1B5cmFtaWRpbmdQb2xpY3lFbnVtLk1BWCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUFzc2V0RXhwb3J0T3B0aW9uc1B5cmFtaWRpbmdQb2xpY3lFbnVtLk1PREUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VBc3NldEV4cG9ydE9wdGlvbnNQeXJhbWlkaW5nUG9saWN5RW51bS5NRURJQU5dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklJbWFnZUFzc2V0RXhwb3J0T3B0aW9uc1B5cmFtaWRpbmdQb2xpY3lPdmVycmlkZXNFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSUltYWdlQXNzZXRFeHBvcnRPcHRpb25zUHlyYW1pZGluZ1BvbGljeU92ZXJyaWRlc0VudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUFzc2V0RXhwb3J0T3B0aW9uc1B5cmFtaWRpbmdQb2xpY3lPdmVycmlkZXNFbnVtID0ge01BWDpcIk1BWFwiLCBNRUFOOlwiTUVBTlwiLCBNRURJQU46XCJNRURJQU5cIiwgTUlOOlwiTUlOXCIsIE1PREU6XCJNT0RFXCIsIFBZUkFNSURJTkdfUE9MSUNZX1VOU1BFQ0lGSUVEOlwiUFlSQU1JRElOR19QT0xJQ1lfVU5TUEVDSUZJRURcIiwgU0FNUExFOlwiU0FNUExFXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zUHlyYW1pZGluZ1BvbGljeU92ZXJyaWRlc0VudW0uUFlSQU1JRElOR19QT0xJQ1lfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VBc3NldEV4cG9ydE9wdGlvbnNQeXJhbWlkaW5nUG9saWN5T3ZlcnJpZGVzRW51bS5NRUFOLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zUHlyYW1pZGluZ1BvbGljeU92ZXJyaWRlc0VudW0uU0FNUExFLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zUHlyYW1pZGluZ1BvbGljeU92ZXJyaWRlc0VudW0uTUlOLCBcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUFzc2V0RXhwb3J0T3B0aW9uc1B5cmFtaWRpbmdQb2xpY3lPdmVycmlkZXNFbnVtLk1BWCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUFzc2V0RXhwb3J0T3B0aW9uc1B5cmFtaWRpbmdQb2xpY3lPdmVycmlkZXNFbnVtLk1PREUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VBc3NldEV4cG9ydE9wdGlvbnNQeXJhbWlkaW5nUG9saWN5T3ZlcnJpZGVzRW51bS5NRURJQU5dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklJbWFnZUJhbmRQeXJhbWlkaW5nUG9saWN5RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lJbWFnZUJhbmRQeXJhbWlkaW5nUG9saWN5RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQmFuZFB5cmFtaWRpbmdQb2xpY3lFbnVtID0ge01BWDpcIk1BWFwiLCBNRUFOOlwiTUVBTlwiLCBNRURJQU46XCJNRURJQU5cIiwgTUlOOlwiTUlOXCIsIE1PREU6XCJNT0RFXCIsIFBZUkFNSURJTkdfUE9MSUNZX1VOU1BFQ0lGSUVEOlwiUFlSQU1JRElOR19QT0xJQ1lfVU5TUEVDSUZJRURcIiwgU0FNUExFOlwiU0FNUExFXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQmFuZFB5cmFtaWRpbmdQb2xpY3lFbnVtLlBZUkFNSURJTkdfUE9MSUNZX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQmFuZFB5cmFtaWRpbmdQb2xpY3lFbnVtLk1FQU4sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VCYW5kUHlyYW1pZGluZ1BvbGljeUVudW0uU0FNUExFLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQmFuZFB5cmFtaWRpbmdQb2xpY3lFbnVtLk1JTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUJhbmRQeXJhbWlkaW5nUG9saWN5RW51bS5NQVgsIFxuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQmFuZFB5cmFtaWRpbmdQb2xpY3lFbnVtLk1PREUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VCYW5kUHlyYW1pZGluZ1BvbGljeUVudW0uTUVESUFOXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JSW1hZ2VGaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSUltYWdlRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bSA9IHtBVVRPX0pQRUdfUE5HOlwiQVVUT19KUEVHX1BOR1wiLCBHRU9fVElGRjpcIkdFT19USUZGXCIsIElNQUdFX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVEOlwiSU1BR0VfRklMRV9GT1JNQVRfVU5TUEVDSUZJRURcIiwgSlBFRzpcIkpQRUdcIiwgTVVMVElfQkFORF9JTUFHRV9USUxFOlwiTVVMVElfQkFORF9JTUFHRV9USUxFXCIsIE5QWTpcIk5QWVwiLCBQTkc6XCJQTkdcIiwgVEZfUkVDT1JEX0lNQUdFOlwiVEZfUkVDT1JEX0lNQUdFXCIsIFpJUFBFRF9HRU9fVElGRjpcIlpJUFBFRF9HRU9fVElGRlwiLCBaSVBQRURfR0VPX1RJRkZfUEVSX0JBTkQ6XCJaSVBQRURfR0VPX1RJRkZfUEVSX0JBTkRcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VGaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtLklNQUdFX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bS5KUEVHLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bS5QTkcsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VGaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtLkFVVE9fSlBFR19QTkcsIFxuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bS5OUFksIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VGaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtLkdFT19USUZGLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bS5URl9SRUNPUkRfSU1BR0UsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VGaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtLk1VTFRJX0JBTkRfSU1BR0VfVElMRSwgXG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VGaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtLlpJUFBFRF9HRU9fVElGRiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW0uWklQUEVEX0dFT19USUZGX1BFUl9CQU5EXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JSW1hZ2VNYW5pZmVzdFB5cmFtaWRpbmdQb2xpY3lFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSUltYWdlTWFuaWZlc3RQeXJhbWlkaW5nUG9saWN5RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlTWFuaWZlc3RQeXJhbWlkaW5nUG9saWN5RW51bSA9IHtNQVg6XCJNQVhcIiwgTUVBTjpcIk1FQU5cIiwgTUVESUFOOlwiTUVESUFOXCIsIE1JTjpcIk1JTlwiLCBNT0RFOlwiTU9ERVwiLCBQWVJBTUlESU5HX1BPTElDWV9VTlNQRUNJRklFRDpcIlBZUkFNSURJTkdfUE9MSUNZX1VOU1BFQ0lGSUVEXCIsIFNBTVBMRTpcIlNBTVBMRVwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZU1hbmlmZXN0UHlyYW1pZGluZ1BvbGljeUVudW0uUFlSQU1JRElOR19QT0xJQ1lfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VNYW5pZmVzdFB5cmFtaWRpbmdQb2xpY3lFbnVtLk1FQU4sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VNYW5pZmVzdFB5cmFtaWRpbmdQb2xpY3lFbnVtLlNBTVBMRSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZU1hbmlmZXN0UHlyYW1pZGluZ1BvbGljeUVudW0uTUlOLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlTWFuaWZlc3RQeXJhbWlkaW5nUG9saWN5RW51bS5NQVgsIFxuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlTWFuaWZlc3RQeXJhbWlkaW5nUG9saWN5RW51bS5NT0RFLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlTWFuaWZlc3RQeXJhbWlkaW5nUG9saWN5RW51bS5NRURJQU5dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklPcGVyYXRpb25NZXRhZGF0YVN0YXRlRW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lPcGVyYXRpb25NZXRhZGF0YVN0YXRlRW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbk1ldGFkYXRhU3RhdGVFbnVtID0ge0NBTkNFTExFRDpcIkNBTkNFTExFRFwiLCBDQU5DRUxMSU5HOlwiQ0FOQ0VMTElOR1wiLCBGQUlMRUQ6XCJGQUlMRURcIiwgUEVORElORzpcIlBFTkRJTkdcIiwgUlVOTklORzpcIlJVTk5JTkdcIiwgU1RBVEVfVU5TUEVDSUZJRUQ6XCJTVEFURV9VTlNQRUNJRklFRFwiLCBTVUNDRUVERUQ6XCJTVUNDRUVERURcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uTWV0YWRhdGFTdGF0ZUVudW0uU1RBVEVfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uTWV0YWRhdGFTdGF0ZUVudW0uUEVORElORywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25NZXRhZGF0YVN0YXRlRW51bS5SVU5OSU5HLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbk1ldGFkYXRhU3RhdGVFbnVtLkNBTkNFTExJTkcsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uTWV0YWRhdGFTdGF0ZUVudW0uU1VDQ0VFREVELCBcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25NZXRhZGF0YVN0YXRlRW51bS5DQU5DRUxMRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uTWV0YWRhdGFTdGF0ZUVudW0uRkFJTEVEXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUGl4ZWxEYXRhVHlwZVByZWNpc2lvbkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUGl4ZWxEYXRhVHlwZVByZWNpc2lvbkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbERhdGFUeXBlUHJlY2lzaW9uRW51bSA9IHtET1VCTEU6XCJET1VCTEVcIiwgRkxPQVQ6XCJGTE9BVFwiLCBJTlQ6XCJJTlRcIiwgUFJFQ0lTSU9OX1VOU1BFQ0lGSUVEOlwiUFJFQ0lTSU9OX1VOU1BFQ0lGSUVEXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsRGF0YVR5cGVQcmVjaXNpb25FbnVtLlBSRUNJU0lPTl9VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbERhdGFUeXBlUHJlY2lzaW9uRW51bS5JTlQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxEYXRhVHlwZVByZWNpc2lvbkVudW0uRkxPQVQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxEYXRhVHlwZVByZWNpc2lvbkVudW0uRE9VQkxFXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUmFua0J5T25lVGhpbmdSdWxlRGlyZWN0aW9uRW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lSYW5rQnlPbmVUaGluZ1J1bGVEaXJlY3Rpb25FbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5T25lVGhpbmdSdWxlRGlyZWN0aW9uRW51bSA9IHtBU0NFTkRJTkc6XCJBU0NFTkRJTkdcIiwgREVTQ0VORElORzpcIkRFU0NFTkRJTkdcIiwgRElSRUNUSU9OX1VOU1BFQ0lGSUVEOlwiRElSRUNUSU9OX1VOU1BFQ0lGSUVEXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeU9uZVRoaW5nUnVsZURpcmVjdGlvbkVudW0uRElSRUNUSU9OX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeU9uZVRoaW5nUnVsZURpcmVjdGlvbkVudW0uQVNDRU5ESU5HLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeU9uZVRoaW5nUnVsZURpcmVjdGlvbkVudW0uREVTQ0VORElOR107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVJ1bGVBY3Rpb25FbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVJ1bGVBY3Rpb25FbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUnVsZUFjdGlvbkVudW0gPSB7QUxMT1c6XCJBTExPV1wiLCBBTExPV19XSVRIX0xPRzpcIkFMTE9XX1dJVEhfTE9HXCIsIERFTlk6XCJERU5ZXCIsIERFTllfV0lUSF9MT0c6XCJERU5ZX1dJVEhfTE9HXCIsIExPRzpcIkxPR1wiLCBOT19BQ1RJT046XCJOT19BQ1RJT05cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUnVsZUFjdGlvbkVudW0uTk9fQUNUSU9OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJ1bGVBY3Rpb25FbnVtLkFMTE9XLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJ1bGVBY3Rpb25FbnVtLkFMTE9XX1dJVEhfTE9HLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJ1bGVBY3Rpb25FbnVtLkRFTlksIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUnVsZUFjdGlvbkVudW0uREVOWV9XSVRIX0xPRywgXG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUnVsZUFjdGlvbkVudW0uTE9HXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JVGFibGVGaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVRhYmxlRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bSA9IHtDU1Y6XCJDU1ZcIiwgR0VPX0pTT046XCJHRU9fSlNPTlwiLCBLTUw6XCJLTUxcIiwgS01aOlwiS01aXCIsIFNIUDpcIlNIUFwiLCBUQUJMRV9GSUxFX0ZPUk1BVF9VTlNQRUNJRklFRDpcIlRBQkxFX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVEXCIsIFRGX1JFQ09SRF9UQUJMRTpcIlRGX1JFQ09SRF9UQUJMRVwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW0uVEFCTEVfRklMRV9GT1JNQVRfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtLkNTViwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW0uR0VPX0pTT04sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtLktNTCwgXG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtLktNWiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW0uU0hQLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bS5URl9SRUNPUkRfVEFCTEVdO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklUYWJsZUZpbGVGb3JtYXRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVRhYmxlRmlsZUZvcm1hdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUZpbGVGb3JtYXRFbnVtID0ge0NTVjpcIkNTVlwiLCBHRU9fSlNPTjpcIkdFT19KU09OXCIsIEtNTDpcIktNTFwiLCBLTVo6XCJLTVpcIiwgU0hQOlwiU0hQXCIsIFRBQkxFX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVEOlwiVEFCTEVfRklMRV9GT1JNQVRfVU5TUEVDSUZJRURcIiwgVEZfUkVDT1JEX1RBQkxFOlwiVEZfUkVDT1JEX1RBQkxFXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUZvcm1hdEVudW0uVEFCTEVfRklMRV9GT1JNQVRfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRm9ybWF0RW51bS5DU1YsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRm9ybWF0RW51bS5HRU9fSlNPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUZpbGVGb3JtYXRFbnVtLktNTCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUZpbGVGb3JtYXRFbnVtLktNWiwgXG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRm9ybWF0RW51bS5TSFAsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRm9ybWF0RW51bS5URl9SRUNPUkRfVEFCTEVdO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklUYWJsZVNvdXJjZUNzdkNvbHVtbkRhdGFUeXBlT3ZlcnJpZGVzRW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lUYWJsZVNvdXJjZUNzdkNvbHVtbkRhdGFUeXBlT3ZlcnJpZGVzRW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlU291cmNlQ3N2Q29sdW1uRGF0YVR5cGVPdmVycmlkZXNFbnVtID0ge0NTVl9DT0xVTU5fREFUQV9UWVBFX05VTUVSSUM6XCJDU1ZfQ09MVU1OX0RBVEFfVFlQRV9OVU1FUklDXCIsIENTVl9DT0xVTU5fREFUQV9UWVBFX1NUUklORzpcIkNTVl9DT0xVTU5fREFUQV9UWVBFX1NUUklOR1wiLCBDU1ZfQ09MVU1OX0RBVEFfVFlQRV9VTlNQRUNJRklFRDpcIkNTVl9DT0xVTU5fREFUQV9UWVBFX1VOU1BFQ0lGSUVEXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlU291cmNlQ3N2Q29sdW1uRGF0YVR5cGVPdmVycmlkZXNFbnVtLkNTVl9DT0xVTU5fREFUQV9UWVBFX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlU291cmNlQ3N2Q29sdW1uRGF0YVR5cGVPdmVycmlkZXNFbnVtLkNTVl9DT0xVTU5fREFUQV9UWVBFX1NUUklORywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZVNvdXJjZUNzdkNvbHVtbkRhdGFUeXBlT3ZlcnJpZGVzRW51bS5DU1ZfQ09MVU1OX0RBVEFfVFlQRV9OVU1FUklDXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JVGhpbm5pbmdPcHRpb25zVGhpbm5pbmdTdHJhdGVneUVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JVGhpbm5pbmdPcHRpb25zVGhpbm5pbmdTdHJhdGVneUVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaGlubmluZ09wdGlvbnNUaGlubmluZ1N0cmF0ZWd5RW51bSA9IHtHTE9CQUxMWV9DT05TSVNURU5UOlwiR0xPQkFMTFlfQ09OU0lTVEVOVFwiLCBISUdIRVJfREVOU0lUWTpcIkhJR0hFUl9ERU5TSVRZXCIsIFVOS05PV05fVEhJTk5JTkdfU1RSQVRFR1k6XCJVTktOT1dOX1RISU5OSU5HX1NUUkFURUdZXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRoaW5uaW5nT3B0aW9uc1RoaW5uaW5nU3RyYXRlZ3lFbnVtLlVOS05PV05fVEhJTk5JTkdfU1RSQVRFR1ksIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGhpbm5pbmdPcHRpb25zVGhpbm5pbmdTdHJhdGVneUVudW0uR0xPQkFMTFlfQ09OU0lTVEVOVCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaGlubmluZ09wdGlvbnNUaGlubmluZ1N0cmF0ZWd5RW51bS5ISUdIRVJfREVOU0lUWV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVRodW1ibmFpbEZpbGVGb3JtYXRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVRodW1ibmFpbEZpbGVGb3JtYXRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0gPSB7QVVUT19KUEVHX1BORzpcIkFVVE9fSlBFR19QTkdcIiwgR0VPX1RJRkY6XCJHRU9fVElGRlwiLCBJTUFHRV9GSUxFX0ZPUk1BVF9VTlNQRUNJRklFRDpcIklNQUdFX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVEXCIsIEpQRUc6XCJKUEVHXCIsIE1VTFRJX0JBTkRfSU1BR0VfVElMRTpcIk1VTFRJX0JBTkRfSU1BR0VfVElMRVwiLCBOUFk6XCJOUFlcIiwgUE5HOlwiUE5HXCIsIFRGX1JFQ09SRF9JTUFHRTpcIlRGX1JFQ09SRF9JTUFHRVwiLCBaSVBQRURfR0VPX1RJRkY6XCJaSVBQRURfR0VPX1RJRkZcIiwgWklQUEVEX0dFT19USUZGX1BFUl9CQU5EOlwiWklQUEVEX0dFT19USUZGX1BFUl9CQU5EXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRodW1ibmFpbEZpbGVGb3JtYXRFbnVtLklNQUdFX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRodW1ibmFpbEZpbGVGb3JtYXRFbnVtLkpQRUcsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0uUE5HLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRodW1ibmFpbEZpbGVGb3JtYXRFbnVtLkFVVE9fSlBFR19QTkcsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0uTlBZLCBcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaHVtYm5haWxGaWxlRm9ybWF0RW51bS5HRU9fVElGRiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaHVtYm5haWxGaWxlRm9ybWF0RW51bS5URl9SRUNPUkRfSU1BR0UsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0uTVVMVElfQkFORF9JTUFHRV9USUxFLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRodW1ibmFpbEZpbGVGb3JtYXRFbnVtLlpJUFBFRF9HRU9fVElGRiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaHVtYm5haWxGaWxlRm9ybWF0RW51bS5aSVBQRURfR0VPX1RJRkZfUEVSX0JBTkRdO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklUaWxlc2V0QmFuZFB5cmFtaWRpbmdQb2xpY3lFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVRpbGVzZXRCYW5kUHlyYW1pZGluZ1BvbGljeUVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0QmFuZFB5cmFtaWRpbmdQb2xpY3lFbnVtID0ge01BWDpcIk1BWFwiLCBNRUFOOlwiTUVBTlwiLCBNRURJQU46XCJNRURJQU5cIiwgTUlOOlwiTUlOXCIsIE1PREU6XCJNT0RFXCIsIFBZUkFNSURJTkdfUE9MSUNZX1VOU1BFQ0lGSUVEOlwiUFlSQU1JRElOR19QT0xJQ1lfVU5TUEVDSUZJRURcIiwgU0FNUExFOlwiU0FNUExFXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRCYW5kUHlyYW1pZGluZ1BvbGljeUVudW0uUFlSQU1JRElOR19QT0xJQ1lfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldEJhbmRQeXJhbWlkaW5nUG9saWN5RW51bS5NRUFOLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRCYW5kUHlyYW1pZGluZ1BvbGljeUVudW0uU0FNUExFLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRCYW5kUHlyYW1pZGluZ1BvbGljeUVudW0uTUlOLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRCYW5kUHlyYW1pZGluZ1BvbGljeUVudW0uTUFYLCBcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0QmFuZFB5cmFtaWRpbmdQb2xpY3lFbnVtLk1PREUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldEJhbmRQeXJhbWlkaW5nUG9saWN5RW51bS5NRURJQU5dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklUaWxlc2V0RGF0YVR5cGVFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVRpbGVzZXREYXRhVHlwZUVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0RGF0YVR5cGVFbnVtID0ge0RBVEFfVFlQRV9VTlNQRUNJRklFRDpcIkRBVEFfVFlQRV9VTlNQRUNJRklFRFwiLCBET1VCTEU6XCJET1VCTEVcIiwgRkxPQVQ6XCJGTE9BVFwiLCBJTlQxNjpcIklOVDE2XCIsIElOVDMyOlwiSU5UMzJcIiwgSU5UODpcIklOVDhcIiwgVUlOVDE2OlwiVUlOVDE2XCIsIFVJTlQzMjpcIlVJTlQzMlwiLCBVSU5UODpcIlVJTlQ4XCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXREYXRhVHlwZUVudW0uREFUQV9UWVBFX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXREYXRhVHlwZUVudW0uSU5UOCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0RGF0YVR5cGVFbnVtLlVJTlQ4LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXREYXRhVHlwZUVudW0uSU5UMTYsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldERhdGFUeXBlRW51bS5VSU5UMTYsIFxuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXREYXRhVHlwZUVudW0uSU5UMzIsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldERhdGFUeXBlRW51bS5VSU5UMzIsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldERhdGFUeXBlRW51bS5GTE9BVCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0RGF0YVR5cGVFbnVtLkRPVUJMRV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVZpZGVvRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lWaWRlb0ZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb0ZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW0gPSB7R0lGOlwiR0lGXCIsIE1QNDpcIk1QNFwiLCBWSURFT19GSUxFX0ZPUk1BVF9VTlNQRUNJRklFRDpcIlZJREVPX0ZJTEVfRk9STUFUX1VOU1BFQ0lGSUVEXCIsIFZQOTpcIlZQOVwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb0ZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW0uVklERU9fRklMRV9GT1JNQVRfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9GaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtLk1QNCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb0ZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW0uR0lGLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bS5WUDldO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklWaWRlb1RodW1ibmFpbEZpbGVGb3JtYXRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVZpZGVvVGh1bWJuYWlsRmlsZUZvcm1hdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb1RodW1ibmFpbEZpbGVGb3JtYXRFbnVtID0ge0dJRjpcIkdJRlwiLCBNUDQ6XCJNUDRcIiwgVklERU9fRklMRV9GT1JNQVRfVU5TUEVDSUZJRUQ6XCJWSURFT19GSUxFX0ZPUk1BVF9VTlNQRUNJRklFRFwiLCBWUDk6XCJWUDlcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9UaHVtYm5haWxGaWxlRm9ybWF0RW51bS5WSURFT19GSUxFX0ZPUk1BVF9VTlNQRUNJRklFRCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb1RodW1ibmFpbEZpbGVGb3JtYXRFbnVtLk1QNCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb1RodW1ibmFpbEZpbGVGb3JtYXRFbnVtLkdJRiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb1RodW1ibmFpbEZpbGVGb3JtYXRFbnVtLlZQOV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQWZmaW5lVHJhbnNmb3JtUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0FmZmluZVRyYW5zZm9ybVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BZmZpbmVUcmFuc2Zvcm0gPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNjYWxlWFwiLCBudWxsID09IHBhcmFtZXRlcnMuc2NhbGVYID8gbnVsbCA6IHBhcmFtZXRlcnMuc2NhbGVYKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2hlYXJYXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zaGVhclggPyBudWxsIDogcGFyYW1ldGVycy5zaGVhclgpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0cmFuc2xhdGVYXCIsIG51bGwgPT0gcGFyYW1ldGVycy50cmFuc2xhdGVYID8gbnVsbCA6IHBhcmFtZXRlcnMudHJhbnNsYXRlWCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNoZWFyWVwiLCBudWxsID09IHBhcmFtZXRlcnMuc2hlYXJZID8gbnVsbCA6IHBhcmFtZXRlcnMuc2hlYXJZKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2NhbGVZXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zY2FsZVkgPyBudWxsIDogcGFyYW1ldGVycy5zY2FsZVkpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0cmFuc2xhdGVZXCIsIG51bGwgPT0gcGFyYW1ldGVycy50cmFuc2xhdGVZID8gbnVsbCA6IHBhcmFtZXRlcnMudHJhbnNsYXRlWSk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFmZmluZVRyYW5zZm9ybSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BZmZpbmVUcmFuc2Zvcm0ucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFmZmluZVRyYW5zZm9ybTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFmZmluZVRyYW5zZm9ybS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOlwic2NhbGVYIHNjYWxlWSBzaGVhclggc2hlYXJZIHRyYW5zbGF0ZVggdHJhbnNsYXRlWVwiLnNwbGl0KFwiIFwiKX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BZmZpbmVUcmFuc2Zvcm0ucHJvdG90eXBlLCB7c2NhbGVYOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInNjYWxlWFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInNjYWxlWFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2NhbGVYXCIsIHZhbHVlKTtcbn19LCBzY2FsZVk6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic2NhbGVZXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic2NhbGVZXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzY2FsZVlcIiwgdmFsdWUpO1xufX0sIHNoZWFyWDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzaGVhclhcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzaGVhclhcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNoZWFyWFwiLCB2YWx1ZSk7XG59fSwgc2hlYXJZOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInNoZWFyWVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInNoZWFyWVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2hlYXJZXCIsIHZhbHVlKTtcbn19LCB0cmFuc2xhdGVYOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRyYW5zbGF0ZVhcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0cmFuc2xhdGVYXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0cmFuc2xhdGVYXCIsIHZhbHVlKTtcbn19LCB0cmFuc2xhdGVZOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRyYW5zbGF0ZVlcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0cmFuc2xhdGVZXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0cmFuc2xhdGVZXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFsZ29yaXRobVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9BbGdvcml0aG1QYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQWxnb3JpdGhtID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuYW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5uYW1lID8gbnVsbCA6IHBhcmFtZXRlcnMubmFtZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kZXNjcmlwdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmV0dXJuVHlwZVwiLCBudWxsID09IHBhcmFtZXRlcnMucmV0dXJuVHlwZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnJldHVyblR5cGUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhcmd1bWVudHNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmFyZ3VtZW50cyA/IG51bGwgOiBwYXJhbWV0ZXJzLmFyZ3VtZW50cyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlcHJlY2F0ZWRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRlcHJlY2F0ZWQgPyBudWxsIDogcGFyYW1ldGVycy5kZXByZWNhdGVkKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVwcmVjYXRpb25SZWFzb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRlcHJlY2F0aW9uUmVhc29uID8gbnVsbCA6IHBhcmFtZXRlcnMuZGVwcmVjYXRpb25SZWFzb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJoaWRkZW5cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmhpZGRlbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmhpZGRlbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInByZXZpZXdcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnByZXZpZXcgPyBudWxsIDogcGFyYW1ldGVycy5wcmV2aWV3KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic291cmNlQ29kZVVyaVwiLCBudWxsID09IHBhcmFtZXRlcnMuc291cmNlQ29kZVVyaSA/IG51bGwgOiBwYXJhbWV0ZXJzLnNvdXJjZUNvZGVVcmkpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BbGdvcml0aG0sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQWxnb3JpdGhtLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BbGdvcml0aG07XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BbGdvcml0aG0ucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7YXJyYXlzOnthcmd1bWVudHM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BbGdvcml0aG1Bcmd1bWVudH0sIGtleXM6XCJhcmd1bWVudHMgZGVwcmVjYXRlZCBkZXByZWNhdGlvblJlYXNvbiBkZXNjcmlwdGlvbiBoaWRkZW4gbmFtZSBwcmV2aWV3IHJldHVyblR5cGUgc291cmNlQ29kZVVyaVwiLnNwbGl0KFwiIFwiKX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BbGdvcml0aG0ucHJvdG90eXBlLCB7YXJndW1lbnRzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImFyZ3VtZW50c1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImFyZ3VtZW50c1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXJndW1lbnRzXCIsIHZhbHVlKTtcbn19LCBkZXByZWNhdGVkOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRlcHJlY2F0ZWRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkZXByZWNhdGVkXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXByZWNhdGVkXCIsIHZhbHVlKTtcbn19LCBkZXByZWNhdGlvblJlYXNvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkZXByZWNhdGlvblJlYXNvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRlcHJlY2F0aW9uUmVhc29uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXByZWNhdGlvblJlYXNvblwiLCB2YWx1ZSk7XG59fSwgZGVzY3JpcHRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGVzY3JpcHRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkZXNjcmlwdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgdmFsdWUpO1xufX0sIGhpZGRlbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJoaWRkZW5cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJoaWRkZW5cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImhpZGRlblwiLCB2YWx1ZSk7XG59fSwgbmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJuYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibmFtZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCB2YWx1ZSk7XG59fSwgcHJldmlldzp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwcmV2aWV3XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicHJldmlld1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHJldmlld1wiLCB2YWx1ZSk7XG59fSwgcmV0dXJuVHlwZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyZXR1cm5UeXBlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicmV0dXJuVHlwZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmV0dXJuVHlwZVwiLCB2YWx1ZSk7XG59fSwgc291cmNlQ29kZVVyaTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzb3VyY2VDb2RlVXJpXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic291cmNlQ29kZVVyaVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic291cmNlQ29kZVVyaVwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BbGdvcml0aG1Bcmd1bWVudFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9BbGdvcml0aG1Bcmd1bWVudFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BbGdvcml0aG1Bcmd1bWVudCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXJndW1lbnROYW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5hcmd1bWVudE5hbWUgPyBudWxsIDogcGFyYW1ldGVycy5hcmd1bWVudE5hbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0eXBlXCIsIG51bGwgPT0gcGFyYW1ldGVycy50eXBlID8gbnVsbCA6IHBhcmFtZXRlcnMudHlwZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kZXNjcmlwdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwib3B0aW9uYWxcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm9wdGlvbmFsID8gbnVsbCA6IHBhcmFtZXRlcnMub3B0aW9uYWwpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZWZhdWx0VmFsdWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRlZmF1bHRWYWx1ZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmRlZmF1bHRWYWx1ZSk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFsZ29yaXRobUFyZ3VtZW50LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFsZ29yaXRobUFyZ3VtZW50LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BbGdvcml0aG1Bcmd1bWVudDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFsZ29yaXRobUFyZ3VtZW50LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiYXJndW1lbnROYW1lXCIsIFwiZGVmYXVsdFZhbHVlXCIsIFwiZGVzY3JpcHRpb25cIiwgXCJvcHRpb25hbFwiLCBcInR5cGVcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQWxnb3JpdGhtQXJndW1lbnQucHJvdG90eXBlLCB7YXJndW1lbnROYW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImFyZ3VtZW50TmFtZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImFyZ3VtZW50TmFtZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXJndW1lbnROYW1lXCIsIHZhbHVlKTtcbn19LCBkZWZhdWx0VmFsdWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGVmYXVsdFZhbHVlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGVmYXVsdFZhbHVlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZWZhdWx0VmFsdWVcIiwgdmFsdWUpO1xufX0sIGRlc2NyaXB0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRlc2NyaXB0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGVzY3JpcHRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIHZhbHVlKTtcbn19LCBvcHRpb25hbDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJvcHRpb25hbFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm9wdGlvbmFsXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJvcHRpb25hbFwiLCB2YWx1ZSk7XG59fSwgdHlwZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0eXBlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidHlwZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidHlwZVwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BcnJheVZhbHVlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0FycmF5VmFsdWVQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXJyYXlWYWx1ZSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmFsdWVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy52YWx1ZXMgPyBudWxsIDogcGFyYW1ldGVycy52YWx1ZXMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BcnJheVZhbHVlLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFycmF5VmFsdWUucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkFycmF5VmFsdWU7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BcnJheVZhbHVlLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2FycmF5czp7dmFsdWVzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmFsdWVOb2RlfSwga2V5czpbXCJ2YWx1ZXNcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXJyYXlWYWx1ZS5wcm90b3R5cGUsIHt2YWx1ZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidmFsdWVzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidmFsdWVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ2YWx1ZXNcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXVkaXRDb25maWdQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfQXVkaXRDb25maWdQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXVkaXRDb25maWcgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNlcnZpY2VcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnNlcnZpY2UgPyBudWxsIDogcGFyYW1ldGVycy5zZXJ2aWNlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhlbXB0ZWRNZW1iZXJzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5leGVtcHRlZE1lbWJlcnMgPyBudWxsIDogcGFyYW1ldGVycy5leGVtcHRlZE1lbWJlcnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhdWRpdExvZ0NvbmZpZ3NcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmF1ZGl0TG9nQ29uZmlncyA/IG51bGwgOiBwYXJhbWV0ZXJzLmF1ZGl0TG9nQ29uZmlncyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1ZGl0Q29uZmlnLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1ZGl0Q29uZmlnLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdWRpdENvbmZpZztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1ZGl0Q29uZmlnLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2FycmF5czp7YXVkaXRMb2dDb25maWdzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXVkaXRMb2dDb25maWd9LCBrZXlzOltcImF1ZGl0TG9nQ29uZmlnc1wiLCBcImV4ZW1wdGVkTWVtYmVyc1wiLCBcInNlcnZpY2VcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXVkaXRDb25maWcucHJvdG90eXBlLCB7YXVkaXRMb2dDb25maWdzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImF1ZGl0TG9nQ29uZmlnc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImF1ZGl0TG9nQ29uZmlnc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXVkaXRMb2dDb25maWdzXCIsIHZhbHVlKTtcbn19LCBleGVtcHRlZE1lbWJlcnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZXhlbXB0ZWRNZW1iZXJzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZXhlbXB0ZWRNZW1iZXJzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleGVtcHRlZE1lbWJlcnNcIiwgdmFsdWUpO1xufX0sIHNlcnZpY2U6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic2VydmljZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInNlcnZpY2VcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNlcnZpY2VcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXVkaXRMb2dDb25maWdQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfQXVkaXRMb2dDb25maWdQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXVkaXRMb2dDb25maWcgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImxvZ1R5cGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmxvZ1R5cGUgPyBudWxsIDogcGFyYW1ldGVycy5sb2dUeXBlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhlbXB0ZWRNZW1iZXJzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5leGVtcHRlZE1lbWJlcnMgPyBudWxsIDogcGFyYW1ldGVycy5leGVtcHRlZE1lbWJlcnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJpZ25vcmVDaGlsZEV4ZW1wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmlnbm9yZUNoaWxkRXhlbXB0aW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLmlnbm9yZUNoaWxkRXhlbXB0aW9ucyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1ZGl0TG9nQ29uZmlnLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1ZGl0TG9nQ29uZmlnLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdWRpdExvZ0NvbmZpZztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1ZGl0TG9nQ29uZmlnLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2VudW1zOntsb2dUeXBlOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXVkaXRMb2dDb25maWdMb2dUeXBlRW51bX0sIGtleXM6W1wiZXhlbXB0ZWRNZW1iZXJzXCIsIFwiaWdub3JlQ2hpbGRFeGVtcHRpb25zXCIsIFwibG9nVHlwZVwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdWRpdExvZ0NvbmZpZy5wcm90b3R5cGUsIHtleGVtcHRlZE1lbWJlcnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZXhlbXB0ZWRNZW1iZXJzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZXhlbXB0ZWRNZW1iZXJzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleGVtcHRlZE1lbWJlcnNcIiwgdmFsdWUpO1xufX0sIGlnbm9yZUNoaWxkRXhlbXB0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJpZ25vcmVDaGlsZEV4ZW1wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJpZ25vcmVDaGlsZEV4ZW1wdGlvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImlnbm9yZUNoaWxkRXhlbXB0aW9uc1wiLCB2YWx1ZSk7XG59fSwgbG9nVHlwZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJsb2dUeXBlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibG9nVHlwZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibG9nVHlwZVwiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdWRpdExvZ0NvbmZpZywge0xvZ1R5cGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdWRpdExvZ0NvbmZpZ0xvZ1R5cGVFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXV0aG9yaXphdGlvbkxvZ2dpbmdPcHRpb25zUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0F1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9uc1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BdXRob3JpemF0aW9uTG9nZ2luZ09wdGlvbnMgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBlcm1pc3Npb25UeXBlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5wZXJtaXNzaW9uVHlwZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnBlcm1pc3Npb25UeXBlKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXV0aG9yaXphdGlvbkxvZ2dpbmdPcHRpb25zLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9ucy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXV0aG9yaXphdGlvbkxvZ2dpbmdPcHRpb25zO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXV0aG9yaXphdGlvbkxvZ2dpbmdPcHRpb25zLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2VudW1zOntwZXJtaXNzaW9uVHlwZTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9uc1Blcm1pc3Npb25UeXBlRW51bX0sIGtleXM6W1wicGVybWlzc2lvblR5cGVcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXV0aG9yaXphdGlvbkxvZ2dpbmdPcHRpb25zLnByb3RvdHlwZSwge3Blcm1pc3Npb25UeXBlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInBlcm1pc3Npb25UeXBlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicGVybWlzc2lvblR5cGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBlcm1pc3Npb25UeXBlXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9ucywge1Blcm1pc3Npb25UeXBlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXV0aG9yaXphdGlvbkxvZ2dpbmdPcHRpb25zUGVybWlzc2lvblR5cGVFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQmluZGluZ1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9CaW5kaW5nUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkJpbmRpbmcgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJvbGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnJvbGUgPyBudWxsIDogcGFyYW1ldGVycy5yb2xlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWVtYmVyc1wiLCBudWxsID09IHBhcmFtZXRlcnMubWVtYmVycyA/IG51bGwgOiBwYXJhbWV0ZXJzLm1lbWJlcnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjb25kaXRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNvbmRpdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmNvbmRpdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJpbmRpbmdJZFwiLCBudWxsID09IHBhcmFtZXRlcnMuYmluZGluZ0lkID8gbnVsbCA6IHBhcmFtZXRlcnMuYmluZGluZ0lkKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQmluZGluZywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5CaW5kaW5nLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5CaW5kaW5nO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQmluZGluZy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImJpbmRpbmdJZFwiLCBcImNvbmRpdGlvblwiLCBcIm1lbWJlcnNcIiwgXCJyb2xlXCJdLCBvYmplY3RzOntjb25kaXRpb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHByfX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5CaW5kaW5nLnByb3RvdHlwZSwge2JpbmRpbmdJZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJiaW5kaW5nSWRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJiaW5kaW5nSWRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJpbmRpbmdJZFwiLCB2YWx1ZSk7XG59fSwgY29uZGl0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImNvbmRpdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImNvbmRpdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY29uZGl0aW9uXCIsIHZhbHVlKTtcbn19LCBtZW1iZXJzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1lbWJlcnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtZW1iZXJzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtZW1iZXJzXCIsIHZhbHVlKTtcbn19LCByb2xlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInJvbGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJyb2xlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyb2xlXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNhbmNlbE9wZXJhdGlvblJlcXVlc3RQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfQ2FuY2VsT3BlcmF0aW9uUmVxdWVzdFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DYW5jZWxPcGVyYXRpb25SZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DYW5jZWxPcGVyYXRpb25SZXF1ZXN0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNhbmNlbE9wZXJhdGlvblJlcXVlc3QucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNhbmNlbE9wZXJhdGlvblJlcXVlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DYW5jZWxPcGVyYXRpb25SZXF1ZXN0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W119O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FwYWJpbGl0aWVzUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0NhcGFiaWxpdGllc1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DYXBhYmlsaXRpZXMgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNhcGFiaWxpdGllc1wiLCBudWxsID09IHBhcmFtZXRlcnMuY2FwYWJpbGl0aWVzID8gbnVsbCA6IHBhcmFtZXRlcnMuY2FwYWJpbGl0aWVzKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FwYWJpbGl0aWVzLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNhcGFiaWxpdGllcy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FwYWJpbGl0aWVzO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FwYWJpbGl0aWVzLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2VudW1zOntjYXBhYmlsaXRpZXM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DYXBhYmlsaXRpZXNDYXBhYmlsaXRpZXNFbnVtfSwga2V5czpbXCJjYXBhYmlsaXRpZXNcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FwYWJpbGl0aWVzLnByb3RvdHlwZSwge2NhcGFiaWxpdGllczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJjYXBhYmlsaXRpZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJjYXBhYmlsaXRpZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNhcGFiaWxpdGllc1wiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DYXBhYmlsaXRpZXMsIHtDYXBhYmlsaXRpZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DYXBhYmlsaXRpZXNDYXBhYmlsaXRpZXNFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xhc3NpZmllckFzc2V0RXhwb3J0T3B0aW9uc1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9DbGFzc2lmaWVyQXNzZXRFeHBvcnRPcHRpb25zUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsYXNzaWZpZXJBc3NldEV4cG9ydE9wdGlvbnMgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImVhcnRoRW5naW5lRGVzdGluYXRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmVhcnRoRW5naW5lRGVzdGluYXRpb24gPyBudWxsIDogcGFyYW1ldGVycy5lYXJ0aEVuZ2luZURlc3RpbmF0aW9uKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xhc3NpZmllckFzc2V0RXhwb3J0T3B0aW9ucywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbGFzc2lmaWVyQXNzZXRFeHBvcnRPcHRpb25zLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbGFzc2lmaWVyQXNzZXRFeHBvcnRPcHRpb25zO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xhc3NpZmllckFzc2V0RXhwb3J0T3B0aW9ucy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImVhcnRoRW5naW5lRGVzdGluYXRpb25cIl0sIG9iamVjdHM6e2VhcnRoRW5naW5lRGVzdGluYXRpb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZURlc3RpbmF0aW9ufX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbGFzc2lmaWVyQXNzZXRFeHBvcnRPcHRpb25zLnByb3RvdHlwZSwge2VhcnRoRW5naW5lRGVzdGluYXRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZWFydGhFbmdpbmVEZXN0aW5hdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImVhcnRoRW5naW5lRGVzdGluYXRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImVhcnRoRW5naW5lRGVzdGluYXRpb25cIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRBdWRpdE9wdGlvbnNQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfQ2xvdWRBdWRpdE9wdGlvbnNQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRBdWRpdE9wdGlvbnMgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImxvZ05hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmxvZ05hbWUgPyBudWxsIDogcGFyYW1ldGVycy5sb2dOYW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXV0aG9yaXphdGlvbkxvZ2dpbmdPcHRpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy5hdXRob3JpemF0aW9uTG9nZ2luZ09wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy5hdXRob3JpemF0aW9uTG9nZ2luZ09wdGlvbnMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZEF1ZGl0T3B0aW9ucywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZEF1ZGl0T3B0aW9ucy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRBdWRpdE9wdGlvbnM7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZEF1ZGl0T3B0aW9ucy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7bG9nTmFtZTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsb3VkQXVkaXRPcHRpb25zTG9nTmFtZUVudW19LCBrZXlzOltcImF1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9uc1wiLCBcImxvZ05hbWVcIl0sIG9iamVjdHM6e2F1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9uc319O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRBdWRpdE9wdGlvbnMucHJvdG90eXBlLCB7YXV0aG9yaXphdGlvbkxvZ2dpbmdPcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImF1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImF1dGhvcml6YXRpb25Mb2dnaW5nT3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXV0aG9yaXphdGlvbkxvZ2dpbmdPcHRpb25zXCIsIHZhbHVlKTtcbn19LCBsb2dOYW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImxvZ05hbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJsb2dOYW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJsb2dOYW1lXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsb3VkQXVkaXRPcHRpb25zLCB7TG9nTmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsb3VkQXVkaXRPcHRpb25zTG9nTmFtZUVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VEZXN0aW5hdGlvblBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9DbG91ZFN0b3JhZ2VEZXN0aW5hdGlvblBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VEZXN0aW5hdGlvbiA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYnVja2V0XCIsIG51bGwgPT0gcGFyYW1ldGVycy5idWNrZXQgPyBudWxsIDogcGFyYW1ldGVycy5idWNrZXQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlbmFtZVByZWZpeFwiLCBudWxsID09IHBhcmFtZXRlcnMuZmlsZW5hbWVQcmVmaXggPyBudWxsIDogcGFyYW1ldGVycy5maWxlbmFtZVByZWZpeCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBlcm1pc3Npb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy5wZXJtaXNzaW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLnBlcm1pc3Npb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYnVja2V0Q29yc1VyaXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmJ1Y2tldENvcnNVcmlzID8gbnVsbCA6IHBhcmFtZXRlcnMuYnVja2V0Q29yc1VyaXMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VEZXN0aW5hdGlvbiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VEZXN0aW5hdGlvbi5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRTdG9yYWdlRGVzdGluYXRpb247XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VEZXN0aW5hdGlvbi5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7cGVybWlzc2lvbnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VEZXN0aW5hdGlvblBlcm1pc3Npb25zRW51bX0sIGtleXM6W1wiYnVja2V0XCIsIFwiYnVja2V0Q29yc1VyaXNcIiwgXCJmaWxlbmFtZVByZWZpeFwiLCBcInBlcm1pc3Npb25zXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsb3VkU3RvcmFnZURlc3RpbmF0aW9uLnByb3RvdHlwZSwge2J1Y2tldDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJidWNrZXRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJidWNrZXRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJ1Y2tldFwiLCB2YWx1ZSk7XG59fSwgYnVja2V0Q29yc1VyaXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYnVja2V0Q29yc1VyaXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJidWNrZXRDb3JzVXJpc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYnVja2V0Q29yc1VyaXNcIiwgdmFsdWUpO1xufX0sIGZpbGVuYW1lUHJlZml4Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImZpbGVuYW1lUHJlZml4XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZmlsZW5hbWVQcmVmaXhcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVuYW1lUHJlZml4XCIsIHZhbHVlKTtcbn19LCBwZXJtaXNzaW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwZXJtaXNzaW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInBlcm1pc3Npb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwZXJtaXNzaW9uc1wiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VEZXN0aW5hdGlvbiwge1Blcm1pc3Npb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRTdG9yYWdlRGVzdGluYXRpb25QZXJtaXNzaW9uc0VudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VMb2NhdGlvblBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9DbG91ZFN0b3JhZ2VMb2NhdGlvblBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VMb2NhdGlvbiA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidXJpc1wiLCBudWxsID09IHBhcmFtZXRlcnMudXJpcyA/IG51bGwgOiBwYXJhbWV0ZXJzLnVyaXMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VMb2NhdGlvbiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VMb2NhdGlvbi5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRTdG9yYWdlTG9jYXRpb247XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VMb2NhdGlvbi5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcInVyaXNcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2xvdWRTdG9yYWdlTG9jYXRpb24ucHJvdG90eXBlLCB7dXJpczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ1cmlzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidXJpc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidXJpc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlRmVhdHVyZXNSZXF1ZXN0UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0NvbXB1dGVGZWF0dXJlc1JlcXVlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZUZlYXR1cmVzUmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZXhwcmVzc2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmV4cHJlc3Npb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwYWdlU2l6ZVwiLCBudWxsID09IHBhcmFtZXRlcnMucGFnZVNpemUgPyBudWxsIDogcGFyYW1ldGVycy5wYWdlU2l6ZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBhZ2VUb2tlblwiLCBudWxsID09IHBhcmFtZXRlcnMucGFnZVRva2VuID8gbnVsbCA6IHBhcmFtZXRlcnMucGFnZVRva2VuKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZUZlYXR1cmVzUmVxdWVzdCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlRmVhdHVyZXNSZXF1ZXN0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlRmVhdHVyZXNSZXF1ZXN0O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZUZlYXR1cmVzUmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImV4cHJlc3Npb25cIiwgXCJwYWdlU2l6ZVwiLCBcInBhZ2VUb2tlblwiXSwgb2JqZWN0czp7ZXhwcmVzc2lvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHJlc3Npb259fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVGZWF0dXJlc1JlcXVlc3QucHJvdG90eXBlLCB7ZXhwcmVzc2lvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJleHByZXNzaW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZXhwcmVzc2lvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCB2YWx1ZSk7XG59fSwgcGFnZVNpemU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicGFnZVNpemVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJwYWdlU2l6ZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicGFnZVNpemVcIiwgdmFsdWUpO1xufX0sIHBhZ2VUb2tlbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwYWdlVG9rZW5cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJwYWdlVG9rZW5cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBhZ2VUb2tlblwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlRmVhdHVyZXNSZXNwb25zZVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9Db21wdXRlRmVhdHVyZXNSZXNwb25zZVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlRmVhdHVyZXNSZXNwb25zZSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidHlwZVwiLCBudWxsID09IHBhcmFtZXRlcnMudHlwZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnR5cGUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmZWF0dXJlc1wiLCBudWxsID09IHBhcmFtZXRlcnMuZmVhdHVyZXMgPyBudWxsIDogcGFyYW1ldGVycy5mZWF0dXJlcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5leHRQYWdlVG9rZW5cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm5leHRQYWdlVG9rZW4gPyBudWxsIDogcGFyYW1ldGVycy5uZXh0UGFnZVRva2VuKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZUZlYXR1cmVzUmVzcG9uc2UsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZUZlYXR1cmVzUmVzcG9uc2UucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVGZWF0dXJlc1Jlc3BvbnNlO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZUZlYXR1cmVzUmVzcG9uc2UucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7YXJyYXlzOntmZWF0dXJlczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmV9LCBrZXlzOltcImZlYXR1cmVzXCIsIFwibmV4dFBhZ2VUb2tlblwiLCBcInR5cGVcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZUZlYXR1cmVzUmVzcG9uc2UucHJvdG90eXBlLCB7ZmVhdHVyZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZmVhdHVyZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJmZWF0dXJlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmVhdHVyZXNcIiwgdmFsdWUpO1xufX0sIG5leHRQYWdlVG9rZW46e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibmV4dFBhZ2VUb2tlblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm5leHRQYWdlVG9rZW5cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5leHRQYWdlVG9rZW5cIiwgdmFsdWUpO1xufX0sIHR5cGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidHlwZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInR5cGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInR5cGVcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZUltYWdlc1JlcXVlc3RQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfQ29tcHV0ZUltYWdlc1JlcXVlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZUltYWdlc1JlcXVlc3QgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4cHJlc3Npb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmV4cHJlc3Npb24gPyBudWxsIDogcGFyYW1ldGVycy5leHByZXNzaW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicGFnZVNpemVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnBhZ2VTaXplID8gbnVsbCA6IHBhcmFtZXRlcnMucGFnZVNpemUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwYWdlVG9rZW5cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnBhZ2VUb2tlbiA/IG51bGwgOiBwYXJhbWV0ZXJzLnBhZ2VUb2tlbik7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVJbWFnZXNSZXF1ZXN0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVJbWFnZXNSZXF1ZXN0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlSW1hZ2VzUmVxdWVzdDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVJbWFnZXNSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiZXhwcmVzc2lvblwiLCBcInBhZ2VTaXplXCIsIFwicGFnZVRva2VuXCJdLCBvYmplY3RzOntleHByZXNzaW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcmVzc2lvbn19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZUltYWdlc1JlcXVlc3QucHJvdG90eXBlLCB7ZXhwcmVzc2lvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJleHByZXNzaW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZXhwcmVzc2lvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCB2YWx1ZSk7XG59fSwgcGFnZVNpemU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicGFnZVNpemVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJwYWdlU2l6ZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicGFnZVNpemVcIiwgdmFsdWUpO1xufX0sIHBhZ2VUb2tlbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwYWdlVG9rZW5cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJwYWdlVG9rZW5cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBhZ2VUb2tlblwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlSW1hZ2VzUmVzcG9uc2VQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfQ29tcHV0ZUltYWdlc1Jlc3BvbnNlUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVJbWFnZXNSZXNwb25zZSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaW1hZ2VzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5pbWFnZXMgPyBudWxsIDogcGFyYW1ldGVycy5pbWFnZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuZXh0UGFnZVRva2VuXCIsIG51bGwgPT0gcGFyYW1ldGVycy5uZXh0UGFnZVRva2VuID8gbnVsbCA6IHBhcmFtZXRlcnMubmV4dFBhZ2VUb2tlbik7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVJbWFnZXNSZXNwb25zZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlSW1hZ2VzUmVzcG9uc2UucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVJbWFnZXNSZXNwb25zZTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVJbWFnZXNSZXNwb25zZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e2ltYWdlczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXR9LCBrZXlzOltcImltYWdlc1wiLCBcIm5leHRQYWdlVG9rZW5cIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZUltYWdlc1Jlc3BvbnNlLnByb3RvdHlwZSwge2ltYWdlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJpbWFnZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJpbWFnZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImltYWdlc1wiLCB2YWx1ZSk7XG59fSwgbmV4dFBhZ2VUb2tlbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJuZXh0UGFnZVRva2VuXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibmV4dFBhZ2VUb2tlblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmV4dFBhZ2VUb2tlblwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlUGl4ZWxzUmVxdWVzdFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9Db21wdXRlUGl4ZWxzUmVxdWVzdFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlUGl4ZWxzUmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZXhwcmVzc2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmV4cHJlc3Npb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlRm9ybWF0XCIsIG51bGwgPT0gcGFyYW1ldGVycy5maWxlRm9ybWF0ID8gbnVsbCA6IHBhcmFtZXRlcnMuZmlsZUZvcm1hdCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdyaWRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmdyaWQgPyBudWxsIDogcGFyYW1ldGVycy5ncmlkKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYmFuZElkc1wiLCBudWxsID09IHBhcmFtZXRlcnMuYmFuZElkcyA/IG51bGwgOiBwYXJhbWV0ZXJzLmJhbmRJZHMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ2aXN1YWxpemF0aW9uT3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMudmlzdWFsaXphdGlvbk9wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy52aXN1YWxpemF0aW9uT3B0aW9ucyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVQaXhlbHNSZXF1ZXN0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVQaXhlbHNSZXF1ZXN0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlUGl4ZWxzUmVxdWVzdDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVQaXhlbHNSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2VudW1zOntmaWxlRm9ybWF0Om1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bX0sIGtleXM6W1wiYmFuZElkc1wiLCBcImV4cHJlc3Npb25cIiwgXCJmaWxlRm9ybWF0XCIsIFwiZ3JpZFwiLCBcInZpc3VhbGl6YXRpb25PcHRpb25zXCJdLCBvYmplY3RzOntleHByZXNzaW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcmVzc2lvbiwgZ3JpZDptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsR3JpZCwgdmlzdWFsaXphdGlvbk9wdGlvbnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaXN1YWxpemF0aW9uT3B0aW9uc319O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVBpeGVsc1JlcXVlc3QucHJvdG90eXBlLCB7YmFuZElkczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJiYW5kSWRzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYmFuZElkc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYmFuZElkc1wiLCB2YWx1ZSk7XG59fSwgZXhwcmVzc2lvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJleHByZXNzaW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZXhwcmVzc2lvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCB2YWx1ZSk7XG59fSwgZmlsZUZvcm1hdDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmaWxlRm9ybWF0XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZmlsZUZvcm1hdFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZUZvcm1hdFwiLCB2YWx1ZSk7XG59fSwgZ3JpZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJncmlkXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZ3JpZFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ3JpZFwiLCB2YWx1ZSk7XG59fSwgdmlzdWFsaXphdGlvbk9wdGlvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidmlzdWFsaXphdGlvbk9wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ2aXN1YWxpemF0aW9uT3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmlzdWFsaXphdGlvbk9wdGlvbnNcIiwgdmFsdWUpO1xufX19KTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVBpeGVsc1JlcXVlc3QsIHtGaWxlRm9ybWF0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVWYWx1ZVJlcXVlc3RQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfQ29tcHV0ZVZhbHVlUmVxdWVzdFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlVmFsdWVSZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5leHByZXNzaW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZXhwcmVzc2lvbik7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVWYWx1ZVJlcXVlc3QsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVZhbHVlUmVxdWVzdC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVZhbHVlUmVxdWVzdDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVWYWx1ZVJlcXVlc3QucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJleHByZXNzaW9uXCJdLCBvYmplY3RzOntleHByZXNzaW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcmVzc2lvbn19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVZhbHVlUmVxdWVzdC5wcm90b3R5cGUsIHtleHByZXNzaW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImV4cHJlc3Npb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJleHByZXNzaW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVWYWx1ZVJlc3BvbnNlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0NvbXB1dGVWYWx1ZVJlc3BvbnNlUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVWYWx1ZVJlc3BvbnNlID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyZXN1bHRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnJlc3VsdCA/IG51bGwgOiBwYXJhbWV0ZXJzLnJlc3VsdCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVWYWx1ZVJlc3BvbnNlLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVWYWx1ZVJlc3BvbnNlLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db21wdXRlVmFsdWVSZXNwb25zZTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVWYWx1ZVJlc3BvbnNlLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wicmVzdWx0XCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbXB1dGVWYWx1ZVJlc3BvbnNlLnByb3RvdHlwZSwge3Jlc3VsdDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyZXN1bHRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJyZXN1bHRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJlc3VsdFwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25QYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfQ29uZGl0aW9uUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvbiA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaWFtXCIsIG51bGwgPT0gcGFyYW1ldGVycy5pYW0gPyBudWxsIDogcGFyYW1ldGVycy5pYW0pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzeXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnN5cyA/IG51bGwgOiBwYXJhbWV0ZXJzLnN5cyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN2Y1wiLCBudWxsID09IHBhcmFtZXRlcnMuc3ZjID8gbnVsbCA6IHBhcmFtZXRlcnMuc3ZjKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwib3BcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm9wID8gbnVsbCA6IHBhcmFtZXRlcnMub3ApO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ2YWx1ZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnZhbHVlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLnZhbHVlcyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvbiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb24ucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvbjtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvbi5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7aWFtOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29uZGl0aW9uSWFtRW51bSwgb3A6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25PcEVudW0sIHN5czptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvblN5c0VudW19LCBrZXlzOltcImlhbVwiLCBcIm9wXCIsIFwic3ZjXCIsIFwic3lzXCIsIFwidmFsdWVzXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvbi5wcm90b3R5cGUsIHtpYW06e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiaWFtXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiaWFtXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJpYW1cIiwgdmFsdWUpO1xufX0sIG9wOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm9wXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwib3BcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm9wXCIsIHZhbHVlKTtcbn19LCBzdmM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic3ZjXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic3ZjXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdmNcIiwgdmFsdWUpO1xufX0sIHN5czp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzeXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzeXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN5c1wiLCB2YWx1ZSk7XG59fSwgdmFsdWVzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInZhbHVlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInZhbHVlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmFsdWVzXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvbiwge0lhbTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvbmRpdGlvbklhbUVudW07XG59fSwgT3A6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db25kaXRpb25PcEVudW07XG59fSwgU3lzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29uZGl0aW9uU3lzRW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvcHlBc3NldFJlcXVlc3RQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfQ29weUFzc2V0UmVxdWVzdFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db3B5QXNzZXRSZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXN0aW5hdGlvbk5hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRlc3RpbmF0aW9uTmFtZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmRlc3RpbmF0aW9uTmFtZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm92ZXJ3cml0ZVwiLCBudWxsID09IHBhcmFtZXRlcnMub3ZlcndyaXRlID8gbnVsbCA6IHBhcmFtZXRlcnMub3ZlcndyaXRlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYmFuZElkc1wiLCBudWxsID09IHBhcmFtZXRlcnMuYmFuZElkcyA/IG51bGwgOiBwYXJhbWV0ZXJzLmJhbmRJZHMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db3B5QXNzZXRSZXF1ZXN0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvcHlBc3NldFJlcXVlc3QucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvcHlBc3NldFJlcXVlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db3B5QXNzZXRSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiYmFuZElkc1wiLCBcImRlc3RpbmF0aW9uTmFtZVwiLCBcIm92ZXJ3cml0ZVwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db3B5QXNzZXRSZXF1ZXN0LnByb3RvdHlwZSwge2JhbmRJZHM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYmFuZElkc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImJhbmRJZHNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJhbmRJZHNcIiwgdmFsdWUpO1xufX0sIGRlc3RpbmF0aW9uTmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkZXN0aW5hdGlvbk5hbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkZXN0aW5hdGlvbk5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc3RpbmF0aW9uTmFtZVwiLCB2YWx1ZSk7XG59fSwgb3ZlcndyaXRlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm92ZXJ3cml0ZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm92ZXJ3cml0ZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwib3ZlcndyaXRlXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvdW50ZXJPcHRpb25zUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0NvdW50ZXJPcHRpb25zUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvdW50ZXJPcHRpb25zID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtZXRyaWNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1ldHJpYyA/IG51bGwgOiBwYXJhbWV0ZXJzLm1ldHJpYyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpZWxkXCIsIG51bGwgPT0gcGFyYW1ldGVycy5maWVsZCA/IG51bGwgOiBwYXJhbWV0ZXJzLmZpZWxkKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY3VzdG9tRmllbGRzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5jdXN0b21GaWVsZHMgPyBudWxsIDogcGFyYW1ldGVycy5jdXN0b21GaWVsZHMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db3VudGVyT3B0aW9ucywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db3VudGVyT3B0aW9ucy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ291bnRlck9wdGlvbnM7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db3VudGVyT3B0aW9ucy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e2N1c3RvbUZpZWxkczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkN1c3RvbUZpZWxkfSwga2V5czpbXCJjdXN0b21GaWVsZHNcIiwgXCJmaWVsZFwiLCBcIm1ldHJpY1wiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Db3VudGVyT3B0aW9ucy5wcm90b3R5cGUsIHtjdXN0b21GaWVsZHM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiY3VzdG9tRmllbGRzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY3VzdG9tRmllbGRzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjdXN0b21GaWVsZHNcIiwgdmFsdWUpO1xufX0sIGZpZWxkOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImZpZWxkXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZmllbGRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpZWxkXCIsIHZhbHVlKTtcbn19LCBtZXRyaWM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWV0cmljXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWV0cmljXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtZXRyaWNcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ3VzdG9tRmllbGRQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfQ3VzdG9tRmllbGRQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ3VzdG9tRmllbGQgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm5hbWUgPyBudWxsIDogcGFyYW1ldGVycy5uYW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmFsdWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnZhbHVlID8gbnVsbCA6IHBhcmFtZXRlcnMudmFsdWUpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DdXN0b21GaWVsZCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DdXN0b21GaWVsZC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ3VzdG9tRmllbGQ7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DdXN0b21GaWVsZC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcIm5hbWVcIiwgXCJ2YWx1ZVwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DdXN0b21GaWVsZC5wcm90b3R5cGUsIHtuYW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm5hbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJuYW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuYW1lXCIsIHZhbHVlKTtcbn19LCB2YWx1ZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ2YWx1ZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInZhbHVlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ2YWx1ZVwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5ETVNNYXBQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfRE1TTWFwUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRNU01hcCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXNzZXRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmFzc2V0ID8gbnVsbCA6IHBhcmFtZXRlcnMuYXNzZXQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkbXNOYW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kbXNOYW1lID8gbnVsbCA6IHBhcmFtZXRlcnMuZG1zTmFtZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm5hbWUgPyBudWxsIDogcGFyYW1ldGVycy5uYW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmlzdWFsaXphdGlvbk9wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnZpc3VhbGl6YXRpb25PcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMudmlzdWFsaXphdGlvbk9wdGlvbnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ2aXN1YWxpemF0aW9uRXhwcmVzc2lvblwiLCBudWxsID09IHBhcmFtZXRlcnMudmlzdWFsaXphdGlvbkV4cHJlc3Npb24gPyBudWxsIDogcGFyYW1ldGVycy52aXN1YWxpemF0aW9uRXhwcmVzc2lvbik7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRNU01hcCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5ETVNNYXAucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRNU01hcDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRNU01hcC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImFzc2V0XCIsIFwiZG1zTmFtZVwiLCBcIm5hbWVcIiwgXCJ2aXN1YWxpemF0aW9uRXhwcmVzc2lvblwiLCBcInZpc3VhbGl6YXRpb25PcHRpb25zXCJdLCBvYmplY3RzOnt2aXN1YWxpemF0aW9uRXhwcmVzc2lvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHJlc3Npb259fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRNU01hcC5wcm90b3R5cGUsIHthc3NldDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJhc3NldFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImFzc2V0XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhc3NldFwiLCB2YWx1ZSk7XG59fSwgZG1zTmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkbXNOYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZG1zTmFtZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZG1zTmFtZVwiLCB2YWx1ZSk7XG59fSwgbmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJuYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibmFtZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCB2YWx1ZSk7XG59fSwgdmlzdWFsaXphdGlvbkV4cHJlc3Npb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidmlzdWFsaXphdGlvbkV4cHJlc3Npb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ2aXN1YWxpemF0aW9uRXhwcmVzc2lvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmlzdWFsaXphdGlvbkV4cHJlc3Npb25cIiwgdmFsdWUpO1xufX0sIHZpc3VhbGl6YXRpb25PcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInZpc3VhbGl6YXRpb25PcHRpb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidmlzdWFsaXphdGlvbk9wdGlvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZpc3VhbGl6YXRpb25PcHRpb25zXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRhdGFBY2Nlc3NPcHRpb25zUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0RhdGFBY2Nlc3NPcHRpb25zUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRhdGFBY2Nlc3NPcHRpb25zID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJsb2dNb2RlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5sb2dNb2RlID8gbnVsbCA6IHBhcmFtZXRlcnMubG9nTW9kZSk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRhdGFBY2Nlc3NPcHRpb25zLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRhdGFBY2Nlc3NPcHRpb25zLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EYXRhQWNjZXNzT3B0aW9ucztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRhdGFBY2Nlc3NPcHRpb25zLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2VudW1zOntsb2dNb2RlOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRGF0YUFjY2Vzc09wdGlvbnNMb2dNb2RlRW51bX0sIGtleXM6W1wibG9nTW9kZVwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EYXRhQWNjZXNzT3B0aW9ucy5wcm90b3R5cGUsIHtsb2dNb2RlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImxvZ01vZGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJsb2dNb2RlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJsb2dNb2RlXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRhdGFBY2Nlc3NPcHRpb25zLCB7TG9nTW9kZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRhdGFBY2Nlc3NPcHRpb25zTG9nTW9kZUVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EaWN0aW9uYXJ5VmFsdWVQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfRGljdGlvbmFyeVZhbHVlUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRpY3Rpb25hcnlWYWx1ZSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmFsdWVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy52YWx1ZXMgPyBudWxsIDogcGFyYW1ldGVycy52YWx1ZXMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EaWN0aW9uYXJ5VmFsdWUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRGljdGlvbmFyeVZhbHVlLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EaWN0aW9uYXJ5VmFsdWU7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EaWN0aW9uYXJ5VmFsdWUucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJ2YWx1ZXNcIl0sIG9iamVjdE1hcHM6e3ZhbHVlczp7Y3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZhbHVlTm9kZSwgaXNQcm9wZXJ0eUFycmF5OiExLCBpc1NlcmlhbGl6YWJsZTohMCwgaXNWYWx1ZUFycmF5OiExfX19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRGljdGlvbmFyeVZhbHVlLnByb3RvdHlwZSwge3ZhbHVlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ2YWx1ZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ2YWx1ZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZhbHVlc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNBc3NldEV4cG9ydE9wdGlvbnNQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfRG1zQXNzZXRFeHBvcnRPcHRpb25zUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0Fzc2V0RXhwb3J0T3B0aW9ucyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZG1zRGVzdGluYXRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRtc0Rlc3RpbmF0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZG1zRGVzdGluYXRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJpbmdlc3Rpb25UaW1lUGFyYW1ldGVyc1wiLCBudWxsID09IHBhcmFtZXRlcnMuaW5nZXN0aW9uVGltZVBhcmFtZXRlcnMgPyBudWxsIDogcGFyYW1ldGVycy5pbmdlc3Rpb25UaW1lUGFyYW1ldGVycyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0Fzc2V0RXhwb3J0T3B0aW9ucywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNBc3NldEV4cG9ydE9wdGlvbnMucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0Fzc2V0RXhwb3J0T3B0aW9ucztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0Fzc2V0RXhwb3J0T3B0aW9ucy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImRtc0Rlc3RpbmF0aW9uXCIsIFwiaW5nZXN0aW9uVGltZVBhcmFtZXRlcnNcIl0sIG9iamVjdHM6e2Rtc0Rlc3RpbmF0aW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zRGVzdGluYXRpb24sIGluZ2VzdGlvblRpbWVQYXJhbWV0ZXJzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zSW5nZXN0aW9uVGltZVBhcmFtZXRlcnN9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0Fzc2V0RXhwb3J0T3B0aW9ucy5wcm90b3R5cGUsIHtkbXNEZXN0aW5hdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkbXNEZXN0aW5hdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRtc0Rlc3RpbmF0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkbXNEZXN0aW5hdGlvblwiLCB2YWx1ZSk7XG59fSwgaW5nZXN0aW9uVGltZVBhcmFtZXRlcnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiaW5nZXN0aW9uVGltZVBhcmFtZXRlcnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJpbmdlc3Rpb25UaW1lUGFyYW1ldGVyc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaW5nZXN0aW9uVGltZVBhcmFtZXRlcnNcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zQXR0cmlidXRlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0Rtc0F0dHJpYnV0ZVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNBdHRyaWJ1dGUgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm5hbWUgPyBudWxsIDogcGFyYW1ldGVycy5uYW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidHlwZVwiLCBudWxsID09IHBhcmFtZXRlcnMudHlwZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnR5cGUpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNBdHRyaWJ1dGUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zQXR0cmlidXRlLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNBdHRyaWJ1dGU7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNBdHRyaWJ1dGUucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7ZW51bXM6e3R5cGU6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNBdHRyaWJ1dGVUeXBlRW51bX0sIGtleXM6W1wibmFtZVwiLCBcInR5cGVcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zQXR0cmlidXRlLnByb3RvdHlwZSwge25hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibmFtZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgdmFsdWUpO1xufX0sIHR5cGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidHlwZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInR5cGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInR5cGVcIiwgdmFsdWUpO1xufX19KTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zQXR0cmlidXRlLCB7VHlwZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0F0dHJpYnV0ZVR5cGVFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zRGVzdGluYXRpb25QYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfRG1zRGVzdGluYXRpb25QYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zRGVzdGluYXRpb24gPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRtc05hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRtc05hbWUgPyBudWxsIDogcGFyYW1ldGVycy5kbXNOYW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXNzZXRWZXJzaW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5hc3NldFZlcnNpb24gPyBudWxsIDogcGFyYW1ldGVycy5hc3NldFZlcnNpb24pO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNEZXN0aW5hdGlvbiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNEZXN0aW5hdGlvbi5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zRGVzdGluYXRpb247XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNEZXN0aW5hdGlvbi5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImFzc2V0VmVyc2lvblwiLCBcImRtc05hbWVcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zRGVzdGluYXRpb24ucHJvdG90eXBlLCB7YXNzZXRWZXJzaW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImFzc2V0VmVyc2lvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImFzc2V0VmVyc2lvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXNzZXRWZXJzaW9uXCIsIHZhbHVlKTtcbn19LCBkbXNOYW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRtc05hbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkbXNOYW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkbXNOYW1lXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0luZ2VzdGlvblRpbWVQYXJhbWV0ZXJzUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0Rtc0luZ2VzdGlvblRpbWVQYXJhbWV0ZXJzUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0luZ2VzdGlvblRpbWVQYXJhbWV0ZXJzID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aGlubmluZ09wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnRoaW5uaW5nT3B0aW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLnRoaW5uaW5nT3B0aW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJhbmtpbmdPcHRpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy5yYW5raW5nT3B0aW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLnJhbmtpbmdPcHRpb25zKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zSW5nZXN0aW9uVGltZVBhcmFtZXRlcnMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zSW5nZXN0aW9uVGltZVBhcmFtZXRlcnMucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0luZ2VzdGlvblRpbWVQYXJhbWV0ZXJzO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zSW5nZXN0aW9uVGltZVBhcmFtZXRlcnMucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJyYW5raW5nT3B0aW9uc1wiLCBcInRoaW5uaW5nT3B0aW9uc1wiXSwgb2JqZWN0czp7cmFua2luZ09wdGlvbnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5raW5nT3B0aW9ucywgdGhpbm5pbmdPcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGhpbm5pbmdPcHRpb25zfX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNJbmdlc3Rpb25UaW1lUGFyYW1ldGVycy5wcm90b3R5cGUsIHtyYW5raW5nT3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyYW5raW5nT3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInJhbmtpbmdPcHRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyYW5raW5nT3B0aW9uc1wiLCB2YWx1ZSk7XG59fSwgdGhpbm5pbmdPcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRoaW5uaW5nT3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRoaW5uaW5nT3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGhpbm5pbmdPcHRpb25zXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0xvY2F0aW9uUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0Rtc0xvY2F0aW9uUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0xvY2F0aW9uID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJsb2NhdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMubG9jYXRpb24gPyBudWxsIDogcGFyYW1ldGVycy5sb2NhdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRtc0Fzc2V0T3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMuZG1zQXNzZXRPcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMuZG1zQXNzZXRPcHRpb25zKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zTG9jYXRpb24sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zTG9jYXRpb24ucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0xvY2F0aW9uO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zTG9jYXRpb24ucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJkbXNBc3NldE9wdGlvbnNcIiwgXCJsb2NhdGlvblwiXSwgb2JqZWN0czp7ZG1zQXNzZXRPcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zT3B0aW9uc319O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zTG9jYXRpb24ucHJvdG90eXBlLCB7ZG1zQXNzZXRPcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRtc0Fzc2V0T3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRtc0Fzc2V0T3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZG1zQXNzZXRPcHRpb25zXCIsIHZhbHVlKTtcbn19LCBsb2NhdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJsb2NhdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImxvY2F0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJsb2NhdGlvblwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNPcHRpb25zUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0Rtc09wdGlvbnNQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zT3B0aW9ucyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXR0cmlidXRlc1wiLCBudWxsID09IHBhcmFtZXRlcnMuYXR0cmlidXRlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLmF0dHJpYnV0ZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkbXNBdHRyaWJ1dGVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kbXNBdHRyaWJ1dGVzID8gbnVsbCA6IHBhcmFtZXRlcnMuZG1zQXR0cmlidXRlcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImluZ2VzdGlvblRpbWVQYXJhbWV0ZXJzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5pbmdlc3Rpb25UaW1lUGFyYW1ldGVycyA/IG51bGwgOiBwYXJhbWV0ZXJzLmluZ2VzdGlvblRpbWVQYXJhbWV0ZXJzKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zT3B0aW9ucywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNPcHRpb25zLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNPcHRpb25zO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zT3B0aW9ucy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e2Rtc0F0dHJpYnV0ZXM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNBdHRyaWJ1dGV9LCBrZXlzOltcImF0dHJpYnV0ZXNcIiwgXCJkbXNBdHRyaWJ1dGVzXCIsIFwiaW5nZXN0aW9uVGltZVBhcmFtZXRlcnNcIl0sIG9iamVjdHM6e2luZ2VzdGlvblRpbWVQYXJhbWV0ZXJzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zSW5nZXN0aW9uVGltZVBhcmFtZXRlcnN9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc09wdGlvbnMucHJvdG90eXBlLCB7YXR0cmlidXRlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJhdHRyaWJ1dGVzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYXR0cmlidXRlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXR0cmlidXRlc1wiLCB2YWx1ZSk7XG59fSwgZG1zQXR0cmlidXRlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkbXNBdHRyaWJ1dGVzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZG1zQXR0cmlidXRlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZG1zQXR0cmlidXRlc1wiLCB2YWx1ZSk7XG59fSwgaW5nZXN0aW9uVGltZVBhcmFtZXRlcnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiaW5nZXN0aW9uVGltZVBhcmFtZXRlcnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJpbmdlc3Rpb25UaW1lUGFyYW1ldGVyc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaW5nZXN0aW9uVGltZVBhcmFtZXRlcnNcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG91YmxlUmFuZ2VQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfRG91YmxlUmFuZ2VQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG91YmxlUmFuZ2UgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1pblwiLCBudWxsID09IHBhcmFtZXRlcnMubWluID8gbnVsbCA6IHBhcmFtZXRlcnMubWluKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4XCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXggPyBudWxsIDogcGFyYW1ldGVycy5tYXgpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Eb3VibGVSYW5nZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Eb3VibGVSYW5nZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG91YmxlUmFuZ2U7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Eb3VibGVSYW5nZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcIm1heFwiLCBcIm1pblwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Eb3VibGVSYW5nZS5wcm90b3R5cGUsIHttYXg6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWF4XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhcIiwgdmFsdWUpO1xufX0sIG1pbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtaW5cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtaW5cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1pblwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Ecml2ZURlc3RpbmF0aW9uUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0RyaXZlRGVzdGluYXRpb25QYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRHJpdmVEZXN0aW5hdGlvbiA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZm9sZGVyXCIsIG51bGwgPT0gcGFyYW1ldGVycy5mb2xkZXIgPyBudWxsIDogcGFyYW1ldGVycy5mb2xkZXIpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlbmFtZVByZWZpeFwiLCBudWxsID09IHBhcmFtZXRlcnMuZmlsZW5hbWVQcmVmaXggPyBudWxsIDogcGFyYW1ldGVycy5maWxlbmFtZVByZWZpeCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRyaXZlRGVzdGluYXRpb24sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRHJpdmVEZXN0aW5hdGlvbi5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRHJpdmVEZXN0aW5hdGlvbjtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRyaXZlRGVzdGluYXRpb24ucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJmaWxlbmFtZVByZWZpeFwiLCBcImZvbGRlclwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Ecml2ZURlc3RpbmF0aW9uLnByb3RvdHlwZSwge2ZpbGVuYW1lUHJlZml4Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImZpbGVuYW1lUHJlZml4XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZmlsZW5hbWVQcmVmaXhcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVuYW1lUHJlZml4XCIsIHZhbHVlKTtcbn19LCBmb2xkZXI6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZm9sZGVyXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZm9sZGVyXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmb2xkZXJcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9FYXJ0aEVuZ2luZUFzc2V0UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXQgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVzdG9yZUxvY2F0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy50aWxlc3RvcmVMb2NhdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLnRpbGVzdG9yZUxvY2F0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY2xvdWRTdG9yYWdlTG9jYXRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNsb3VkU3RvcmFnZUxvY2F0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuY2xvdWRTdG9yYWdlTG9jYXRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlc3RvcmVFbnRyeVwiLCBudWxsID09IHBhcmFtZXRlcnMudGlsZXN0b3JlRW50cnkgPyBudWxsIDogcGFyYW1ldGVycy50aWxlc3RvcmVFbnRyeSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdjc0xvY2F0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5nY3NMb2NhdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmdjc0xvY2F0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmVhdHVyZVZpZXdBc3NldExvY2F0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5mZWF0dXJlVmlld0Fzc2V0TG9jYXRpb24gPyBudWxsIDogcGFyYW1ldGVycy5mZWF0dXJlVmlld0Fzc2V0TG9jYXRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0eXBlXCIsIG51bGwgPT0gcGFyYW1ldGVycy50eXBlID8gbnVsbCA6IHBhcmFtZXRlcnMudHlwZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm5hbWUgPyBudWxsIDogcGFyYW1ldGVycy5uYW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaWRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmlkID8gbnVsbCA6IHBhcmFtZXRlcnMuaWQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ1cGRhdGVUaW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy51cGRhdGVUaW1lID8gbnVsbCA6IHBhcmFtZXRlcnMudXBkYXRlVGltZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpdGxlXCIsIG51bGwgPT0gcGFyYW1ldGVycy50aXRsZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnRpdGxlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZGVzY3JpcHRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwcm9wZXJ0aWVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5wcm9wZXJ0aWVzID8gbnVsbCA6IHBhcmFtZXRlcnMucHJvcGVydGllcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN0YXJ0VGltZVwiLCBudWxsID09IHBhcmFtZXRlcnMuc3RhcnRUaW1lID8gbnVsbCA6IHBhcmFtZXRlcnMuc3RhcnRUaW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZW5kVGltZVwiLCBudWxsID09IHBhcmFtZXRlcnMuZW5kVGltZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmVuZFRpbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJnZW9tZXRyeVwiLCBudWxsID09IHBhcmFtZXRlcnMuZ2VvbWV0cnkgPyBudWxsIDogcGFyYW1ldGVycy5nZW9tZXRyeSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJhbmRzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5iYW5kcyA/IG51bGwgOiBwYXJhbWV0ZXJzLmJhbmRzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2l6ZUJ5dGVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zaXplQnl0ZXMgPyBudWxsIDogcGFyYW1ldGVycy5zaXplQnl0ZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmZWF0dXJlQ291bnRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZlYXR1cmVDb3VudCA/IG51bGwgOiBwYXJhbWV0ZXJzLmZlYXR1cmVDb3VudCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInF1b3RhXCIsIG51bGwgPT0gcGFyYW1ldGVycy5xdW90YSA/IG51bGwgOiBwYXJhbWV0ZXJzLnF1b3RhKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZG1zQXNzZXRMb2NhdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZG1zQXNzZXRMb2NhdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmRtc0Fzc2V0TG9jYXRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5leHByZXNzaW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZXhwcmVzc2lvbik7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXQucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7YXJyYXlzOntiYW5kczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQmFuZH0sIGVudW1zOnt0eXBlOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldFR5cGVFbnVtfSwga2V5czpcImJhbmRzIGNsb3VkU3RvcmFnZUxvY2F0aW9uIGRlc2NyaXB0aW9uIGRtc0Fzc2V0TG9jYXRpb24gZW5kVGltZSBleHByZXNzaW9uIGZlYXR1cmVDb3VudCBmZWF0dXJlVmlld0Fzc2V0TG9jYXRpb24gZ2NzTG9jYXRpb24gZ2VvbWV0cnkgaWQgbmFtZSBwcm9wZXJ0aWVzIHF1b3RhIHNpemVCeXRlcyBzdGFydFRpbWUgdGlsZXN0b3JlRW50cnkgdGlsZXN0b3JlTG9jYXRpb24gdGl0bGUgdHlwZSB1cGRhdGVUaW1lXCIuc3BsaXQoXCIgXCIpLCBvYmplY3RNYXBzOntnZW9tZXRyeTp7Y3RvcjpudWxsLCBcbiAgaXNQcm9wZXJ0eUFycmF5OiExLCBpc1NlcmlhbGl6YWJsZTohMSwgaXNWYWx1ZUFycmF5OiExfSwgcHJvcGVydGllczp7Y3RvcjpudWxsLCBpc1Byb3BlcnR5QXJyYXk6ITEsIGlzU2VyaWFsaXphYmxlOiExLCBpc1ZhbHVlQXJyYXk6ITF9fSwgb2JqZWN0czp7Y2xvdWRTdG9yYWdlTG9jYXRpb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VMb2NhdGlvbiwgZG1zQXNzZXRMb2NhdGlvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0xvY2F0aW9uLCBleHByZXNzaW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcmVzc2lvbiwgZmVhdHVyZVZpZXdBc3NldExvY2F0aW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdMb2NhdGlvbiwgXG4gIGdjc0xvY2F0aW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzTG9jYXRpb24sIHF1b3RhOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRm9sZGVyUXVvdGEsIHRpbGVzdG9yZUVudHJ5Om1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXN0b3JlRW50cnksIHRpbGVzdG9yZUxvY2F0aW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXN0b3JlTG9jYXRpb259fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXQucHJvdG90eXBlLCB7YmFuZHM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYmFuZHNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJiYW5kc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYmFuZHNcIiwgdmFsdWUpO1xufX0sIGNsb3VkU3RvcmFnZUxvY2F0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImNsb3VkU3RvcmFnZUxvY2F0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY2xvdWRTdG9yYWdlTG9jYXRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNsb3VkU3RvcmFnZUxvY2F0aW9uXCIsIHZhbHVlKTtcbn19LCBkZXNjcmlwdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkZXNjcmlwdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRlc2NyaXB0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXNjcmlwdGlvblwiLCB2YWx1ZSk7XG59fSwgZG1zQXNzZXRMb2NhdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkbXNBc3NldExvY2F0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZG1zQXNzZXRMb2NhdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZG1zQXNzZXRMb2NhdGlvblwiLCB2YWx1ZSk7XG59fSwgZW5kVGltZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJlbmRUaW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZW5kVGltZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZW5kVGltZVwiLCB2YWx1ZSk7XG59fSwgZXhwcmVzc2lvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJleHByZXNzaW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZXhwcmVzc2lvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCB2YWx1ZSk7XG59fSwgZmVhdHVyZUNvdW50Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImZlYXR1cmVDb3VudFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZlYXR1cmVDb3VudFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmVhdHVyZUNvdW50XCIsIHZhbHVlKTtcbn19LCBmZWF0dXJlVmlld0Fzc2V0TG9jYXRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZmVhdHVyZVZpZXdBc3NldExvY2F0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZmVhdHVyZVZpZXdBc3NldExvY2F0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmZWF0dXJlVmlld0Fzc2V0TG9jYXRpb25cIiwgdmFsdWUpO1xufX0sIGdjc0xvY2F0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImdjc0xvY2F0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZ2NzTG9jYXRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdjc0xvY2F0aW9uXCIsIHZhbHVlKTtcbn19LCBnZW9tZXRyeTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJnZW9tZXRyeVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImdlb21ldHJ5XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJnZW9tZXRyeVwiLCB2YWx1ZSk7XG59fSwgaWQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiaWRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJpZFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaWRcIiwgdmFsdWUpO1xufX0sIG5hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibmFtZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgdmFsdWUpO1xufX0sIHByb3BlcnRpZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicHJvcGVydGllc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInByb3BlcnRpZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInByb3BlcnRpZXNcIiwgdmFsdWUpO1xufX0sIHF1b3RhOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInF1b3RhXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicXVvdGFcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInF1b3RhXCIsIHZhbHVlKTtcbn19LCBzaXplQnl0ZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic2l6ZUJ5dGVzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic2l6ZUJ5dGVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzaXplQnl0ZXNcIiwgdmFsdWUpO1xufX0sIHN0YXJ0VGltZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzdGFydFRpbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzdGFydFRpbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN0YXJ0VGltZVwiLCB2YWx1ZSk7XG59fSwgdGlsZXN0b3JlRW50cnk6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidGlsZXN0b3JlRW50cnlcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0aWxlc3RvcmVFbnRyeVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZXN0b3JlRW50cnlcIiwgdmFsdWUpO1xufX0sIHRpbGVzdG9yZUxvY2F0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRpbGVzdG9yZUxvY2F0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidGlsZXN0b3JlTG9jYXRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVzdG9yZUxvY2F0aW9uXCIsIHZhbHVlKTtcbn19LCB0aXRsZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0aXRsZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRpdGxlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aXRsZVwiLCB2YWx1ZSk7XG59fSwgdHlwZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0eXBlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidHlwZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidHlwZVwiLCB2YWx1ZSk7XG59fSwgdXBkYXRlVGltZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ1cGRhdGVUaW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidXBkYXRlVGltZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidXBkYXRlVGltZVwiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZUFzc2V0LCB7VHlwZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXRUeXBlRW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lRGVzdGluYXRpb25QYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfRWFydGhFbmdpbmVEZXN0aW5hdGlvblBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZURlc3RpbmF0aW9uID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuYW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5uYW1lID8gbnVsbCA6IHBhcmFtZXRlcnMubmFtZSk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lRGVzdGluYXRpb24sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVEZXN0aW5hdGlvbi5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVEZXN0aW5hdGlvbjtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lRGVzdGluYXRpb24ucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJuYW1lXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lRGVzdGluYXRpb24ucHJvdG90eXBlLCB7bmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJuYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibmFtZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZU1hcFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9FYXJ0aEVuZ2luZU1hcFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZU1hcCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCBudWxsID09IHBhcmFtZXRlcnMubmFtZSA/IG51bGwgOiBwYXJhbWV0ZXJzLm5hbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5leHByZXNzaW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZXhwcmVzc2lvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVGb3JtYXRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZpbGVGb3JtYXQgPyBudWxsIDogcGFyYW1ldGVycy5maWxlRm9ybWF0KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYmFuZElkc1wiLCBudWxsID09IHBhcmFtZXRlcnMuYmFuZElkcyA/IG51bGwgOiBwYXJhbWV0ZXJzLmJhbmRJZHMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ2aXN1YWxpemF0aW9uT3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMudmlzdWFsaXphdGlvbk9wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy52aXN1YWxpemF0aW9uT3B0aW9ucyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lTWFwLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lTWFwLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZU1hcDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lTWFwLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2VudW1zOntmaWxlRm9ybWF0Om1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVNYXBGaWxlRm9ybWF0RW51bX0sIGtleXM6W1wiYmFuZElkc1wiLCBcImV4cHJlc3Npb25cIiwgXCJmaWxlRm9ybWF0XCIsIFwibmFtZVwiLCBcInZpc3VhbGl6YXRpb25PcHRpb25zXCJdLCBvYmplY3RzOntleHByZXNzaW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcmVzc2lvbiwgdmlzdWFsaXphdGlvbk9wdGlvbnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaXN1YWxpemF0aW9uT3B0aW9uc319O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVNYXAucHJvdG90eXBlLCB7YmFuZElkczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJiYW5kSWRzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYmFuZElkc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYmFuZElkc1wiLCB2YWx1ZSk7XG59fSwgZXhwcmVzc2lvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJleHByZXNzaW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZXhwcmVzc2lvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCB2YWx1ZSk7XG59fSwgZmlsZUZvcm1hdDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmaWxlRm9ybWF0XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZmlsZUZvcm1hdFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZUZvcm1hdFwiLCB2YWx1ZSk7XG59fSwgbmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJuYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibmFtZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCB2YWx1ZSk7XG59fSwgdmlzdWFsaXphdGlvbk9wdGlvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidmlzdWFsaXphdGlvbk9wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ2aXN1YWxpemF0aW9uT3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmlzdWFsaXphdGlvbk9wdGlvbnNcIiwgdmFsdWUpO1xufX19KTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVNYXAsIHtGaWxlRm9ybWF0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVNYXBGaWxlRm9ybWF0RW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVtcHR5UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0VtcHR5UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVtcHR5ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FbXB0eSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FbXB0eS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRW1wdHk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FbXB0eS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltdfTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydENsYXNzaWZpZXJSZXF1ZXN0UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0V4cG9ydENsYXNzaWZpZXJSZXF1ZXN0UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydENsYXNzaWZpZXJSZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5leHByZXNzaW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZXhwcmVzc2lvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kZXNjcmlwdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmVxdWVzdElkXCIsIG51bGwgPT0gcGFyYW1ldGVycy5yZXF1ZXN0SWQgPyBudWxsIDogcGFyYW1ldGVycy5yZXF1ZXN0SWQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhc3NldEV4cG9ydE9wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmFzc2V0RXhwb3J0T3B0aW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLmFzc2V0RXhwb3J0T3B0aW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFdvcmtlcnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heFdvcmtlcnMgPyBudWxsIDogcGFyYW1ldGVycy5tYXhXb3JrZXJzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4V29ya2VyQ291bnRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heFdvcmtlckNvdW50ID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4V29ya2VyQ291bnQpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRDbGFzc2lmaWVyUmVxdWVzdCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRDbGFzc2lmaWVyUmVxdWVzdC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0Q2xhc3NpZmllclJlcXVlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRDbGFzc2lmaWVyUmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOlwiYXNzZXRFeHBvcnRPcHRpb25zIGRlc2NyaXB0aW9uIGV4cHJlc3Npb24gbWF4V29ya2VyQ291bnQgbWF4V29ya2VycyByZXF1ZXN0SWRcIi5zcGxpdChcIiBcIiksIG9iamVjdHM6e2Fzc2V0RXhwb3J0T3B0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsYXNzaWZpZXJBc3NldEV4cG9ydE9wdGlvbnMsIGV4cHJlc3Npb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHByZXNzaW9ufX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRDbGFzc2lmaWVyUmVxdWVzdC5wcm90b3R5cGUsIHthc3NldEV4cG9ydE9wdGlvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYXNzZXRFeHBvcnRPcHRpb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYXNzZXRFeHBvcnRPcHRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhc3NldEV4cG9ydE9wdGlvbnNcIiwgdmFsdWUpO1xufX0sIGRlc2NyaXB0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRlc2NyaXB0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGVzY3JpcHRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIHZhbHVlKTtcbn19LCBleHByZXNzaW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImV4cHJlc3Npb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJleHByZXNzaW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIHZhbHVlKTtcbn19LCBtYXhXb3JrZXJDb3VudDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtYXhXb3JrZXJDb3VudFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1heFdvcmtlckNvdW50XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhXb3JrZXJDb3VudFwiLCB2YWx1ZSk7XG59fSwgbWF4V29ya2Vyczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtYXhXb3JrZXJzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4V29ya2Vyc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4V29ya2Vyc1wiLCB2YWx1ZSk7XG59fSwgcmVxdWVzdElkOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInJlcXVlc3RJZFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInJlcXVlc3RJZFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmVxdWVzdElkXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydEltYWdlUmVxdWVzdFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9FeHBvcnRJbWFnZVJlcXVlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0SW1hZ2VSZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlRXhwb3J0T3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMuZmlsZUV4cG9ydE9wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy5maWxlRXhwb3J0T3B0aW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFzc2V0RXhwb3J0T3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMuYXNzZXRFeHBvcnRPcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMuYXNzZXRFeHBvcnRPcHRpb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZXhwcmVzc2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmV4cHJlc3Npb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXNjcmlwdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZGVzY3JpcHRpb24gPyBudWxsIDogcGFyYW1ldGVycy5kZXNjcmlwdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFBpeGVsc1wiLCBudWxsID09IHBhcmFtZXRlcnMubWF4UGl4ZWxzID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4UGl4ZWxzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ3JpZFwiLCBudWxsID09IHBhcmFtZXRlcnMuZ3JpZCA/IG51bGwgOiBwYXJhbWV0ZXJzLmdyaWQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyZXF1ZXN0SWRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnJlcXVlc3RJZCA/IG51bGwgOiBwYXJhbWV0ZXJzLnJlcXVlc3RJZCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFdvcmtlcnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heFdvcmtlcnMgPyBudWxsIDogcGFyYW1ldGVycy5tYXhXb3JrZXJzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4V29ya2VyQ291bnRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heFdvcmtlckNvdW50ID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4V29ya2VyQ291bnQpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRJbWFnZVJlcXVlc3QsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0SW1hZ2VSZXF1ZXN0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRJbWFnZVJlcXVlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRJbWFnZVJlcXVlc3QucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpcImFzc2V0RXhwb3J0T3B0aW9ucyBkZXNjcmlwdGlvbiBleHByZXNzaW9uIGZpbGVFeHBvcnRPcHRpb25zIGdyaWQgbWF4UGl4ZWxzIG1heFdvcmtlckNvdW50IG1heFdvcmtlcnMgcmVxdWVzdElkXCIuc3BsaXQoXCIgXCIpLCBvYmplY3RzOnthc3NldEV4cG9ydE9wdGlvbnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUFzc2V0RXhwb3J0T3B0aW9ucywgZXhwcmVzc2lvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHJlc3Npb24sIGZpbGVFeHBvcnRPcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VGaWxlRXhwb3J0T3B0aW9ucywgZ3JpZDptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsR3JpZH19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0SW1hZ2VSZXF1ZXN0LnByb3RvdHlwZSwge2Fzc2V0RXhwb3J0T3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJhc3NldEV4cG9ydE9wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJhc3NldEV4cG9ydE9wdGlvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFzc2V0RXhwb3J0T3B0aW9uc1wiLCB2YWx1ZSk7XG59fSwgZGVzY3JpcHRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGVzY3JpcHRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkZXNjcmlwdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgdmFsdWUpO1xufX0sIGV4cHJlc3Npb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZXhwcmVzc2lvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImV4cHJlc3Npb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4cHJlc3Npb25cIiwgdmFsdWUpO1xufX0sIGZpbGVFeHBvcnRPcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImZpbGVFeHBvcnRPcHRpb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZmlsZUV4cG9ydE9wdGlvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVFeHBvcnRPcHRpb25zXCIsIHZhbHVlKTtcbn19LCBncmlkOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImdyaWRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJncmlkXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJncmlkXCIsIHZhbHVlKTtcbn19LCBtYXhQaXhlbHM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWF4UGl4ZWxzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4UGl4ZWxzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhQaXhlbHNcIiwgdmFsdWUpO1xufX0sIG1heFdvcmtlckNvdW50Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heFdvcmtlckNvdW50XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4V29ya2VyQ291bnRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFdvcmtlckNvdW50XCIsIHZhbHVlKTtcbn19LCBtYXhXb3JrZXJzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heFdvcmtlcnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtYXhXb3JrZXJzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhXb3JrZXJzXCIsIHZhbHVlKTtcbn19LCByZXF1ZXN0SWQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicmVxdWVzdElkXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicmVxdWVzdElkXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyZXF1ZXN0SWRcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0TWFwUmVxdWVzdFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9FeHBvcnRNYXBSZXF1ZXN0UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydE1hcFJlcXVlc3QgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4cHJlc3Npb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmV4cHJlc3Npb24gPyBudWxsIDogcGFyYW1ldGVycy5leHByZXNzaW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZGVzY3JpcHRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlT3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMudGlsZU9wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy50aWxlT3B0aW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVFeHBvcnRPcHRpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy50aWxlRXhwb3J0T3B0aW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLnRpbGVFeHBvcnRPcHRpb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmVxdWVzdElkXCIsIG51bGwgPT0gcGFyYW1ldGVycy5yZXF1ZXN0SWQgPyBudWxsIDogcGFyYW1ldGVycy5yZXF1ZXN0SWQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhXb3JrZXJzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXhXb3JrZXJzID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4V29ya2Vycyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFdvcmtlckNvdW50XCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXhXb3JrZXJDb3VudCA/IG51bGwgOiBwYXJhbWV0ZXJzLm1heFdvcmtlckNvdW50KTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0TWFwUmVxdWVzdCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRNYXBSZXF1ZXN0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRNYXBSZXF1ZXN0O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0TWFwUmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOlwiZGVzY3JpcHRpb24gZXhwcmVzc2lvbiBtYXhXb3JrZXJDb3VudCBtYXhXb3JrZXJzIHJlcXVlc3RJZCB0aWxlRXhwb3J0T3B0aW9ucyB0aWxlT3B0aW9uc1wiLnNwbGl0KFwiIFwiKSwgb2JqZWN0czp7ZXhwcmVzc2lvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHJlc3Npb24sIHRpbGVFeHBvcnRPcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VGaWxlRXhwb3J0T3B0aW9ucywgdGlsZU9wdGlvbnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlT3B0aW9uc319O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0TWFwUmVxdWVzdC5wcm90b3R5cGUsIHtkZXNjcmlwdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkZXNjcmlwdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRlc2NyaXB0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXNjcmlwdGlvblwiLCB2YWx1ZSk7XG59fSwgZXhwcmVzc2lvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJleHByZXNzaW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZXhwcmVzc2lvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCB2YWx1ZSk7XG59fSwgbWF4V29ya2VyQ291bnQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWF4V29ya2VyQ291bnRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtYXhXb3JrZXJDb3VudFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4V29ya2VyQ291bnRcIiwgdmFsdWUpO1xufX0sIG1heFdvcmtlcnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWF4V29ya2Vyc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1heFdvcmtlcnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFdvcmtlcnNcIiwgdmFsdWUpO1xufX0sIHJlcXVlc3RJZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyZXF1ZXN0SWRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJyZXF1ZXN0SWRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJlcXVlc3RJZFwiLCB2YWx1ZSk7XG59fSwgdGlsZUV4cG9ydE9wdGlvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidGlsZUV4cG9ydE9wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0aWxlRXhwb3J0T3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZUV4cG9ydE9wdGlvbnNcIiwgdmFsdWUpO1xufX0sIHRpbGVPcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRpbGVPcHRpb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidGlsZU9wdGlvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVPcHRpb25zXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydFRhYmxlUmVxdWVzdFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9FeHBvcnRUYWJsZVJlcXVlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0VGFibGVSZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlRXhwb3J0T3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMuZmlsZUV4cG9ydE9wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy5maWxlRXhwb3J0T3B0aW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFzc2V0RXhwb3J0T3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMuYXNzZXRFeHBvcnRPcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMuYXNzZXRFeHBvcnRPcHRpb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZG1zRXhwb3J0T3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMuZG1zRXhwb3J0T3B0aW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLmRtc0V4cG9ydE9wdGlvbnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmZWF0dXJlVmlld0V4cG9ydE9wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZlYXR1cmVWaWV3RXhwb3J0T3B0aW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLmZlYXR1cmVWaWV3RXhwb3J0T3B0aW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4cHJlc3Npb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmV4cHJlc3Npb24gPyBudWxsIDogcGFyYW1ldGVycy5leHByZXNzaW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZGVzY3JpcHRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzZWxlY3RvcnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnNlbGVjdG9ycyA/IG51bGwgOiBwYXJhbWV0ZXJzLnNlbGVjdG9ycyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJlcXVlc3RJZFwiLCBudWxsID09IHBhcmFtZXRlcnMucmVxdWVzdElkID8gbnVsbCA6IHBhcmFtZXRlcnMucmVxdWVzdElkKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4RXJyb3JNZXRlcnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heEVycm9yTWV0ZXJzID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4RXJyb3JNZXRlcnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhXb3JrZXJzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXhXb3JrZXJzID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4V29ya2Vycyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFdvcmtlckNvdW50XCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXhXb3JrZXJDb3VudCA/IG51bGwgOiBwYXJhbWV0ZXJzLm1heFdvcmtlckNvdW50KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4VmVydGljZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heFZlcnRpY2VzID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4VmVydGljZXMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRUYWJsZVJlcXVlc3QsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0VGFibGVSZXF1ZXN0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRUYWJsZVJlcXVlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRUYWJsZVJlcXVlc3QucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpcImFzc2V0RXhwb3J0T3B0aW9ucyBkZXNjcmlwdGlvbiBkbXNFeHBvcnRPcHRpb25zIGV4cHJlc3Npb24gZmVhdHVyZVZpZXdFeHBvcnRPcHRpb25zIGZpbGVFeHBvcnRPcHRpb25zIG1heEVycm9yTWV0ZXJzIG1heFZlcnRpY2VzIG1heFdvcmtlckNvdW50IG1heFdvcmtlcnMgcmVxdWVzdElkIHNlbGVjdG9yc1wiLnNwbGl0KFwiIFwiKSwgb2JqZWN0czp7YXNzZXRFeHBvcnRPcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVBc3NldEV4cG9ydE9wdGlvbnMsIGRtc0V4cG9ydE9wdGlvbnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNBc3NldEV4cG9ydE9wdGlvbnMsIGV4cHJlc3Npb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHByZXNzaW9uLCBcbiAgZmVhdHVyZVZpZXdFeHBvcnRPcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdBc3NldEV4cG9ydE9wdGlvbnMsIGZpbGVFeHBvcnRPcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRXhwb3J0T3B0aW9uc319O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0VGFibGVSZXF1ZXN0LnByb3RvdHlwZSwge2Fzc2V0RXhwb3J0T3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJhc3NldEV4cG9ydE9wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJhc3NldEV4cG9ydE9wdGlvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFzc2V0RXhwb3J0T3B0aW9uc1wiLCB2YWx1ZSk7XG59fSwgZGVzY3JpcHRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGVzY3JpcHRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkZXNjcmlwdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgdmFsdWUpO1xufX0sIGRtc0V4cG9ydE9wdGlvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZG1zRXhwb3J0T3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRtc0V4cG9ydE9wdGlvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRtc0V4cG9ydE9wdGlvbnNcIiwgdmFsdWUpO1xufX0sIGV4cHJlc3Npb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZXhwcmVzc2lvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImV4cHJlc3Npb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4cHJlc3Npb25cIiwgdmFsdWUpO1xufX0sIGZlYXR1cmVWaWV3RXhwb3J0T3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmZWF0dXJlVmlld0V4cG9ydE9wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJmZWF0dXJlVmlld0V4cG9ydE9wdGlvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZlYXR1cmVWaWV3RXhwb3J0T3B0aW9uc1wiLCB2YWx1ZSk7XG59fSwgZmlsZUV4cG9ydE9wdGlvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZmlsZUV4cG9ydE9wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJmaWxlRXhwb3J0T3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZUV4cG9ydE9wdGlvbnNcIiwgdmFsdWUpO1xufX0sIG1heEVycm9yTWV0ZXJzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heEVycm9yTWV0ZXJzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4RXJyb3JNZXRlcnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heEVycm9yTWV0ZXJzXCIsIHZhbHVlKTtcbn19LCBtYXhWZXJ0aWNlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtYXhWZXJ0aWNlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1heFZlcnRpY2VzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhWZXJ0aWNlc1wiLCB2YWx1ZSk7XG59fSwgbWF4V29ya2VyQ291bnQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWF4V29ya2VyQ291bnRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtYXhXb3JrZXJDb3VudFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4V29ya2VyQ291bnRcIiwgdmFsdWUpO1xufX0sIG1heFdvcmtlcnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWF4V29ya2Vyc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1heFdvcmtlcnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFdvcmtlcnNcIiwgdmFsdWUpO1xufX0sIHJlcXVlc3RJZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyZXF1ZXN0SWRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJyZXF1ZXN0SWRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJlcXVlc3RJZFwiLCB2YWx1ZSk7XG59fSwgc2VsZWN0b3JzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInNlbGVjdG9yc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInNlbGVjdG9yc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2VsZWN0b3JzXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydFZpZGVvTWFwUmVxdWVzdFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9FeHBvcnRWaWRlb01hcFJlcXVlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0VmlkZW9NYXBSZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5leHByZXNzaW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZXhwcmVzc2lvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kZXNjcmlwdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmlkZW9PcHRpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy52aWRlb09wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy52aWRlb09wdGlvbnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlT3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMudGlsZU9wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy50aWxlT3B0aW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVFeHBvcnRPcHRpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy50aWxlRXhwb3J0T3B0aW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLnRpbGVFeHBvcnRPcHRpb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmVxdWVzdElkXCIsIG51bGwgPT0gcGFyYW1ldGVycy5yZXF1ZXN0SWQgPyBudWxsIDogcGFyYW1ldGVycy5yZXF1ZXN0SWQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ2ZXJzaW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy52ZXJzaW9uID8gbnVsbCA6IHBhcmFtZXRlcnMudmVyc2lvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFdvcmtlcnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heFdvcmtlcnMgPyBudWxsIDogcGFyYW1ldGVycy5tYXhXb3JrZXJzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4V29ya2VyQ291bnRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heFdvcmtlckNvdW50ID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4V29ya2VyQ291bnQpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRWaWRlb01hcFJlcXVlc3QsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0VmlkZW9NYXBSZXF1ZXN0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRWaWRlb01hcFJlcXVlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRWaWRlb01hcFJlcXVlc3QucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7ZW51bXM6e3ZlcnNpb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRWaWRlb01hcFJlcXVlc3RWZXJzaW9uRW51bX0sIGtleXM6XCJkZXNjcmlwdGlvbiBleHByZXNzaW9uIG1heFdvcmtlckNvdW50IG1heFdvcmtlcnMgcmVxdWVzdElkIHRpbGVFeHBvcnRPcHRpb25zIHRpbGVPcHRpb25zIHZlcnNpb24gdmlkZW9PcHRpb25zXCIuc3BsaXQoXCIgXCIpLCBvYmplY3RzOntleHByZXNzaW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcmVzc2lvbiwgdGlsZUV4cG9ydE9wdGlvbnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb0ZpbGVFeHBvcnRPcHRpb25zLCB0aWxlT3B0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVPcHRpb25zLCBcbiAgdmlkZW9PcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9PcHRpb25zfX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRWaWRlb01hcFJlcXVlc3QucHJvdG90eXBlLCB7ZGVzY3JpcHRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGVzY3JpcHRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkZXNjcmlwdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgdmFsdWUpO1xufX0sIGV4cHJlc3Npb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZXhwcmVzc2lvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImV4cHJlc3Npb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4cHJlc3Npb25cIiwgdmFsdWUpO1xufX0sIG1heFdvcmtlckNvdW50Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heFdvcmtlckNvdW50XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4V29ya2VyQ291bnRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFdvcmtlckNvdW50XCIsIHZhbHVlKTtcbn19LCBtYXhXb3JrZXJzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heFdvcmtlcnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtYXhXb3JrZXJzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhXb3JrZXJzXCIsIHZhbHVlKTtcbn19LCByZXF1ZXN0SWQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicmVxdWVzdElkXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicmVxdWVzdElkXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyZXF1ZXN0SWRcIiwgdmFsdWUpO1xufX0sIHRpbGVFeHBvcnRPcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRpbGVFeHBvcnRPcHRpb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidGlsZUV4cG9ydE9wdGlvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVFeHBvcnRPcHRpb25zXCIsIHZhbHVlKTtcbn19LCB0aWxlT3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0aWxlT3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRpbGVPcHRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlT3B0aW9uc1wiLCB2YWx1ZSk7XG59fSwgdmVyc2lvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ2ZXJzaW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidmVyc2lvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmVyc2lvblwiLCB2YWx1ZSk7XG59fSwgdmlkZW9PcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInZpZGVvT3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInZpZGVvT3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmlkZW9PcHRpb25zXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydFZpZGVvTWFwUmVxdWVzdCwge1ZlcnNpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRWaWRlb01hcFJlcXVlc3RWZXJzaW9uRW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydFZpZGVvUmVxdWVzdFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9FeHBvcnRWaWRlb1JlcXVlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0VmlkZW9SZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5leHByZXNzaW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZXhwcmVzc2lvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kZXNjcmlwdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmlkZW9PcHRpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy52aWRlb09wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy52aWRlb09wdGlvbnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlRXhwb3J0T3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMuZmlsZUV4cG9ydE9wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy5maWxlRXhwb3J0T3B0aW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJlcXVlc3RJZFwiLCBudWxsID09IHBhcmFtZXRlcnMucmVxdWVzdElkID8gbnVsbCA6IHBhcmFtZXRlcnMucmVxdWVzdElkKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4V29ya2Vyc1wiLCBudWxsID09IHBhcmFtZXRlcnMubWF4V29ya2VycyA/IG51bGwgOiBwYXJhbWV0ZXJzLm1heFdvcmtlcnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhXb3JrZXJDb3VudFwiLCBudWxsID09IHBhcmFtZXRlcnMubWF4V29ya2VyQ291bnQgPyBudWxsIDogcGFyYW1ldGVycy5tYXhXb3JrZXJDb3VudCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydFZpZGVvUmVxdWVzdCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRWaWRlb1JlcXVlc3QucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydFZpZGVvUmVxdWVzdDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydFZpZGVvUmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOlwiZGVzY3JpcHRpb24gZXhwcmVzc2lvbiBmaWxlRXhwb3J0T3B0aW9ucyBtYXhXb3JrZXJDb3VudCBtYXhXb3JrZXJzIHJlcXVlc3RJZCB2aWRlb09wdGlvbnNcIi5zcGxpdChcIiBcIiksIG9iamVjdHM6e2V4cHJlc3Npb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHByZXNzaW9uLCBmaWxlRXhwb3J0T3B0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvRmlsZUV4cG9ydE9wdGlvbnMsIHZpZGVvT3B0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvT3B0aW9uc319O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0VmlkZW9SZXF1ZXN0LnByb3RvdHlwZSwge2Rlc2NyaXB0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRlc2NyaXB0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGVzY3JpcHRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIHZhbHVlKTtcbn19LCBleHByZXNzaW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImV4cHJlc3Npb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJleHByZXNzaW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIHZhbHVlKTtcbn19LCBmaWxlRXhwb3J0T3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmaWxlRXhwb3J0T3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZpbGVFeHBvcnRPcHRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlRXhwb3J0T3B0aW9uc1wiLCB2YWx1ZSk7XG59fSwgbWF4V29ya2VyQ291bnQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWF4V29ya2VyQ291bnRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtYXhXb3JrZXJDb3VudFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4V29ya2VyQ291bnRcIiwgdmFsdWUpO1xufX0sIG1heFdvcmtlcnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWF4V29ya2Vyc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1heFdvcmtlcnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFdvcmtlcnNcIiwgdmFsdWUpO1xufX0sIHJlcXVlc3RJZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyZXF1ZXN0SWRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJyZXF1ZXN0SWRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJlcXVlc3RJZFwiLCB2YWx1ZSk7XG59fSwgdmlkZW9PcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInZpZGVvT3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInZpZGVvT3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmlkZW9PcHRpb25zXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHJQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfRXhwclBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHByID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5leHByZXNzaW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZXhwcmVzc2lvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpdGxlXCIsIG51bGwgPT0gcGFyYW1ldGVycy50aXRsZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnRpdGxlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZGVzY3JpcHRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJsb2NhdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMubG9jYXRpb24gPyBudWxsIDogcGFyYW1ldGVycy5sb2NhdGlvbik7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHIsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwci5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcjtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHIucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJkZXNjcmlwdGlvblwiLCBcImV4cHJlc3Npb25cIiwgXCJsb2NhdGlvblwiLCBcInRpdGxlXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHIucHJvdG90eXBlLCB7ZGVzY3JpcHRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGVzY3JpcHRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkZXNjcmlwdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgdmFsdWUpO1xufX0sIGV4cHJlc3Npb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZXhwcmVzc2lvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImV4cHJlc3Npb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4cHJlc3Npb25cIiwgdmFsdWUpO1xufX0sIGxvY2F0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImxvY2F0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibG9jYXRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImxvY2F0aW9uXCIsIHZhbHVlKTtcbn19LCB0aXRsZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0aXRsZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRpdGxlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aXRsZVwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHByZXNzaW9uUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0V4cHJlc3Npb25QYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcmVzc2lvbiA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmFsdWVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy52YWx1ZXMgPyBudWxsIDogcGFyYW1ldGVycy52YWx1ZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyZXN1bHRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnJlc3VsdCA/IG51bGwgOiBwYXJhbWV0ZXJzLnJlc3VsdCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHJlc3Npb24sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcmVzc2lvbi5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcmVzc2lvbjtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cHJlc3Npb24ucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJyZXN1bHRcIiwgXCJ2YWx1ZXNcIl0sIG9iamVjdE1hcHM6e3ZhbHVlczp7Y3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZhbHVlTm9kZSwgaXNQcm9wZXJ0eUFycmF5OiExLCBpc1NlcmlhbGl6YWJsZTohMCwgaXNWYWx1ZUFycmF5OiExfX19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcmVzc2lvbi5wcm90b3R5cGUsIHtyZXN1bHQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicmVzdWx0XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicmVzdWx0XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyZXN1bHRcIiwgdmFsdWUpO1xufX0sIHZhbHVlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ2YWx1ZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ2YWx1ZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZhbHVlc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0ZlYXR1cmVQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidHlwZVwiLCBudWxsID09IHBhcmFtZXRlcnMudHlwZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnR5cGUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJnZW9tZXRyeVwiLCBudWxsID09IHBhcmFtZXRlcnMuZ2VvbWV0cnkgPyBudWxsIDogcGFyYW1ldGVycy5nZW9tZXRyeSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInByb3BlcnRpZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnByb3BlcnRpZXMgPyBudWxsIDogcGFyYW1ldGVycy5wcm9wZXJ0aWVzKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImdlb21ldHJ5XCIsIFwicHJvcGVydGllc1wiLCBcInR5cGVcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZS5wcm90b3R5cGUsIHtnZW9tZXRyeTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJnZW9tZXRyeVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImdlb21ldHJ5XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJnZW9tZXRyeVwiLCB2YWx1ZSk7XG59fSwgcHJvcGVydGllczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwcm9wZXJ0aWVzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicHJvcGVydGllc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHJvcGVydGllc1wiLCB2YWx1ZSk7XG59fSwgdHlwZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0eXBlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidHlwZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidHlwZVwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9GZWF0dXJlVmlld1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlldyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXNzZXRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmFzc2V0ID8gbnVsbCA6IHBhcmFtZXRlcnMuYXNzZXQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXBOYW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXBOYW1lID8gbnVsbCA6IHBhcmFtZXRlcnMubWFwTmFtZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm5hbWUgPyBudWxsIDogcGFyYW1ldGVycy5uYW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmlzdWFsaXphdGlvbkV4cHJlc3Npb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnZpc3VhbGl6YXRpb25FeHByZXNzaW9uID8gbnVsbCA6IHBhcmFtZXRlcnMudmlzdWFsaXphdGlvbkV4cHJlc3Npb24pO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlldywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlldy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXc7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlldy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImFzc2V0XCIsIFwibWFwTmFtZVwiLCBcIm5hbWVcIiwgXCJ2aXN1YWxpemF0aW9uRXhwcmVzc2lvblwiXSwgb2JqZWN0czp7dmlzdWFsaXphdGlvbkV4cHJlc3Npb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHByZXNzaW9ufX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlldy5wcm90b3R5cGUsIHthc3NldDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJhc3NldFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImFzc2V0XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhc3NldFwiLCB2YWx1ZSk7XG59fSwgbWFwTmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtYXBOYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWFwTmFtZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWFwTmFtZVwiLCB2YWx1ZSk7XG59fSwgbmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJuYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibmFtZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCB2YWx1ZSk7XG59fSwgdmlzdWFsaXphdGlvbkV4cHJlc3Npb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidmlzdWFsaXphdGlvbkV4cHJlc3Npb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ2aXN1YWxpemF0aW9uRXhwcmVzc2lvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmlzdWFsaXphdGlvbkV4cHJlc3Npb25cIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdBc3NldEV4cG9ydE9wdGlvbnNQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfRmVhdHVyZVZpZXdBc3NldEV4cG9ydE9wdGlvbnNQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdBc3NldEV4cG9ydE9wdGlvbnMgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZlYXR1cmVWaWV3RGVzdGluYXRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZlYXR1cmVWaWV3RGVzdGluYXRpb24gPyBudWxsIDogcGFyYW1ldGVycy5mZWF0dXJlVmlld0Rlc3RpbmF0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaW5nZXN0aW9uVGltZVBhcmFtZXRlcnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmluZ2VzdGlvblRpbWVQYXJhbWV0ZXJzID8gbnVsbCA6IHBhcmFtZXRlcnMuaW5nZXN0aW9uVGltZVBhcmFtZXRlcnMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0Fzc2V0RXhwb3J0T3B0aW9ucywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0Fzc2V0RXhwb3J0T3B0aW9ucy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdBc3NldEV4cG9ydE9wdGlvbnM7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0Fzc2V0RXhwb3J0T3B0aW9ucy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImZlYXR1cmVWaWV3RGVzdGluYXRpb25cIiwgXCJpbmdlc3Rpb25UaW1lUGFyYW1ldGVyc1wiXSwgb2JqZWN0czp7ZmVhdHVyZVZpZXdEZXN0aW5hdGlvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3RGVzdGluYXRpb24sIGluZ2VzdGlvblRpbWVQYXJhbWV0ZXJzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdJbmdlc3Rpb25UaW1lUGFyYW1ldGVyc319O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdBc3NldEV4cG9ydE9wdGlvbnMucHJvdG90eXBlLCB7ZmVhdHVyZVZpZXdEZXN0aW5hdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmZWF0dXJlVmlld0Rlc3RpbmF0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZmVhdHVyZVZpZXdEZXN0aW5hdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmVhdHVyZVZpZXdEZXN0aW5hdGlvblwiLCB2YWx1ZSk7XG59fSwgaW5nZXN0aW9uVGltZVBhcmFtZXRlcnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiaW5nZXN0aW9uVGltZVBhcmFtZXRlcnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJpbmdlc3Rpb25UaW1lUGFyYW1ldGVyc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaW5nZXN0aW9uVGltZVBhcmFtZXRlcnNcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdBdHRyaWJ1dGVQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfRmVhdHVyZVZpZXdBdHRyaWJ1dGVQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdBdHRyaWJ1dGUgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm5hbWUgPyBudWxsIDogcGFyYW1ldGVycy5uYW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidHlwZVwiLCBudWxsID09IHBhcmFtZXRlcnMudHlwZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnR5cGUpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0F0dHJpYnV0ZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0F0dHJpYnV0ZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdBdHRyaWJ1dGU7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0F0dHJpYnV0ZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7dHlwZTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3QXR0cmlidXRlVHlwZUVudW19LCBrZXlzOltcIm5hbWVcIiwgXCJ0eXBlXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3QXR0cmlidXRlLnByb3RvdHlwZSwge25hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibmFtZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgdmFsdWUpO1xufX0sIHR5cGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidHlwZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInR5cGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInR5cGVcIiwgdmFsdWUpO1xufX19KTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdBdHRyaWJ1dGUsIHtUeXBlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdBdHRyaWJ1dGVUeXBlRW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3RGVzdGluYXRpb25QYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfRmVhdHVyZVZpZXdEZXN0aW5hdGlvblBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0Rlc3RpbmF0aW9uID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuYW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5uYW1lID8gbnVsbCA6IHBhcmFtZXRlcnMubmFtZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFzc2V0VmVyc2lvblwiLCBudWxsID09IHBhcmFtZXRlcnMuYXNzZXRWZXJzaW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuYXNzZXRWZXJzaW9uKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdEZXN0aW5hdGlvbiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0Rlc3RpbmF0aW9uLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0Rlc3RpbmF0aW9uO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdEZXN0aW5hdGlvbi5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImFzc2V0VmVyc2lvblwiLCBcIm5hbWVcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdEZXN0aW5hdGlvbi5wcm90b3R5cGUsIHthc3NldFZlcnNpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYXNzZXRWZXJzaW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYXNzZXRWZXJzaW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhc3NldFZlcnNpb25cIiwgdmFsdWUpO1xufX0sIG5hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibmFtZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdJbmdlc3Rpb25UaW1lUGFyYW1ldGVyc1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9GZWF0dXJlVmlld0luZ2VzdGlvblRpbWVQYXJhbWV0ZXJzUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3SW5nZXN0aW9uVGltZVBhcmFtZXRlcnMgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRoaW5uaW5nT3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMudGhpbm5pbmdPcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMudGhpbm5pbmdPcHRpb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmFua2luZ09wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnJhbmtpbmdPcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMucmFua2luZ09wdGlvbnMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0luZ2VzdGlvblRpbWVQYXJhbWV0ZXJzLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3SW5nZXN0aW9uVGltZVBhcmFtZXRlcnMucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3SW5nZXN0aW9uVGltZVBhcmFtZXRlcnM7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0luZ2VzdGlvblRpbWVQYXJhbWV0ZXJzLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wicmFua2luZ09wdGlvbnNcIiwgXCJ0aGlubmluZ09wdGlvbnNcIl0sIG9iamVjdHM6e3JhbmtpbmdPcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua2luZ09wdGlvbnMsIHRoaW5uaW5nT3B0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRoaW5uaW5nT3B0aW9uc319O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdJbmdlc3Rpb25UaW1lUGFyYW1ldGVycy5wcm90b3R5cGUsIHtyYW5raW5nT3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyYW5raW5nT3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInJhbmtpbmdPcHRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyYW5raW5nT3B0aW9uc1wiLCB2YWx1ZSk7XG59fSwgdGhpbm5pbmdPcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRoaW5uaW5nT3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRoaW5uaW5nT3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGhpbm5pbmdPcHRpb25zXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3TG9jYXRpb25QYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfRmVhdHVyZVZpZXdMb2NhdGlvblBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0xvY2F0aW9uID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJsb2NhdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMubG9jYXRpb24gPyBudWxsIDogcGFyYW1ldGVycy5sb2NhdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFzc2V0T3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMuYXNzZXRPcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMuYXNzZXRPcHRpb25zKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdMb2NhdGlvbiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0xvY2F0aW9uLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0xvY2F0aW9uO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZVZpZXdMb2NhdGlvbi5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImFzc2V0T3B0aW9uc1wiLCBcImxvY2F0aW9uXCJdLCBvYmplY3RzOnthc3NldE9wdGlvbnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld09wdGlvbnN9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3TG9jYXRpb24ucHJvdG90eXBlLCB7YXNzZXRPcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImFzc2V0T3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImFzc2V0T3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXNzZXRPcHRpb25zXCIsIHZhbHVlKTtcbn19LCBsb2NhdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJsb2NhdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImxvY2F0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJsb2NhdGlvblwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld09wdGlvbnNQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfRmVhdHVyZVZpZXdPcHRpb25zUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3T3B0aW9ucyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmVhdHVyZVZpZXdBdHRyaWJ1dGVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5mZWF0dXJlVmlld0F0dHJpYnV0ZXMgPyBudWxsIDogcGFyYW1ldGVycy5mZWF0dXJlVmlld0F0dHJpYnV0ZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJpbmdlc3Rpb25UaW1lUGFyYW1ldGVyc1wiLCBudWxsID09IHBhcmFtZXRlcnMuaW5nZXN0aW9uVGltZVBhcmFtZXRlcnMgPyBudWxsIDogcGFyYW1ldGVycy5pbmdlc3Rpb25UaW1lUGFyYW1ldGVycyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3T3B0aW9ucywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld09wdGlvbnMucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3T3B0aW9ucztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3T3B0aW9ucy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e2ZlYXR1cmVWaWV3QXR0cmlidXRlczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3QXR0cmlidXRlfSwga2V5czpbXCJmZWF0dXJlVmlld0F0dHJpYnV0ZXNcIiwgXCJpbmdlc3Rpb25UaW1lUGFyYW1ldGVyc1wiXSwgb2JqZWN0czp7aW5nZXN0aW9uVGltZVBhcmFtZXRlcnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld0luZ2VzdGlvblRpbWVQYXJhbWV0ZXJzfX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GZWF0dXJlVmlld09wdGlvbnMucHJvdG90eXBlLCB7ZmVhdHVyZVZpZXdBdHRyaWJ1dGVzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImZlYXR1cmVWaWV3QXR0cmlidXRlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZlYXR1cmVWaWV3QXR0cmlidXRlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmVhdHVyZVZpZXdBdHRyaWJ1dGVzXCIsIHZhbHVlKTtcbn19LCBpbmdlc3Rpb25UaW1lUGFyYW1ldGVyczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJpbmdlc3Rpb25UaW1lUGFyYW1ldGVyc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImluZ2VzdGlvblRpbWVQYXJhbWV0ZXJzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJpbmdlc3Rpb25UaW1lUGFyYW1ldGVyc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWxQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfRmlsbXN0cmlwVGh1bWJuYWlsUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCBudWxsID09IHBhcmFtZXRlcnMubmFtZSA/IG51bGwgOiBwYXJhbWV0ZXJzLm5hbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5leHByZXNzaW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZXhwcmVzc2lvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm9yaWVudGF0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5vcmllbnRhdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLm9yaWVudGF0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZUZvcm1hdFwiLCBudWxsID09IHBhcmFtZXRlcnMuZmlsZUZvcm1hdCA/IG51bGwgOiBwYXJhbWV0ZXJzLmZpbGVGb3JtYXQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJncmlkXCIsIG51bGwgPT0gcGFyYW1ldGVycy5ncmlkID8gbnVsbCA6IHBhcmFtZXRlcnMuZ3JpZCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWwucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7ZmlsZUZvcm1hdDptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbEZpbGVGb3JtYXRFbnVtLCBvcmllbnRhdGlvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbE9yaWVudGF0aW9uRW51bX0sIGtleXM6W1wiZXhwcmVzc2lvblwiLCBcImZpbGVGb3JtYXRcIiwgXCJncmlkXCIsIFwibmFtZVwiLCBcIm9yaWVudGF0aW9uXCJdLCBvYmplY3RzOntleHByZXNzaW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcmVzc2lvbiwgZ3JpZDptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsR3JpZH19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmlsbXN0cmlwVGh1bWJuYWlsLnByb3RvdHlwZSwge2V4cHJlc3Npb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZXhwcmVzc2lvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImV4cHJlc3Npb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4cHJlc3Npb25cIiwgdmFsdWUpO1xufX0sIGZpbGVGb3JtYXQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZmlsZUZvcm1hdFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZpbGVGb3JtYXRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVGb3JtYXRcIiwgdmFsdWUpO1xufX0sIGdyaWQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZ3JpZFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImdyaWRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdyaWRcIiwgdmFsdWUpO1xufX0sIG5hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibmFtZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgdmFsdWUpO1xufX0sIG9yaWVudGF0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm9yaWVudGF0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwib3JpZW50YXRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm9yaWVudGF0aW9uXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbCwge0ZpbGVGb3JtYXQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWxGaWxlRm9ybWF0RW51bTtcbn19LCBPcmllbnRhdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZpbG1zdHJpcFRodW1ibmFpbE9yaWVudGF0aW9uRW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZvbGRlclF1b3RhUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0ZvbGRlclF1b3RhUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZvbGRlclF1b3RhID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzaXplQnl0ZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnNpemVCeXRlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLnNpemVCeXRlcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFNpemVCeXRlc1wiLCBudWxsID09IHBhcmFtZXRlcnMubWF4U2l6ZUJ5dGVzID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4U2l6ZUJ5dGVzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXNzZXRDb3VudFwiLCBudWxsID09IHBhcmFtZXRlcnMuYXNzZXRDb3VudCA/IG51bGwgOiBwYXJhbWV0ZXJzLmFzc2V0Q291bnQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhBc3NldHNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heEFzc2V0cyA/IG51bGwgOiBwYXJhbWV0ZXJzLm1heEFzc2V0cyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heEFzc2V0Q291bnRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heEFzc2V0Q291bnQgPyBudWxsIDogcGFyYW1ldGVycy5tYXhBc3NldENvdW50KTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRm9sZGVyUXVvdGEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRm9sZGVyUXVvdGEucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZvbGRlclF1b3RhO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRm9sZGVyUXVvdGEucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJhc3NldENvdW50XCIsIFwibWF4QXNzZXRDb3VudFwiLCBcIm1heEFzc2V0c1wiLCBcIm1heFNpemVCeXRlc1wiLCBcInNpemVCeXRlc1wiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Gb2xkZXJRdW90YS5wcm90b3R5cGUsIHthc3NldENvdW50Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImFzc2V0Q291bnRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJhc3NldENvdW50XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhc3NldENvdW50XCIsIHZhbHVlKTtcbn19LCBtYXhBc3NldENvdW50Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heEFzc2V0Q291bnRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtYXhBc3NldENvdW50XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhBc3NldENvdW50XCIsIHZhbHVlKTtcbn19LCBtYXhBc3NldHM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWF4QXNzZXRzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4QXNzZXRzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhBc3NldHNcIiwgdmFsdWUpO1xufX0sIG1heFNpemVCeXRlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtYXhTaXplQnl0ZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtYXhTaXplQnl0ZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFNpemVCeXRlc1wiLCB2YWx1ZSk7XG59fSwgc2l6ZUJ5dGVzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInNpemVCeXRlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInNpemVCeXRlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2l6ZUJ5dGVzXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZ1bmN0aW9uRGVmaW5pdGlvblBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9GdW5jdGlvbkRlZmluaXRpb25QYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRnVuY3Rpb25EZWZpbml0aW9uID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhcmd1bWVudE5hbWVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5hcmd1bWVudE5hbWVzID8gbnVsbCA6IHBhcmFtZXRlcnMuYXJndW1lbnROYW1lcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJvZHlcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmJvZHkgPyBudWxsIDogcGFyYW1ldGVycy5ib2R5KTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRnVuY3Rpb25EZWZpbml0aW9uLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZ1bmN0aW9uRGVmaW5pdGlvbi5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRnVuY3Rpb25EZWZpbml0aW9uO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRnVuY3Rpb25EZWZpbml0aW9uLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiYXJndW1lbnROYW1lc1wiLCBcImJvZHlcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRnVuY3Rpb25EZWZpbml0aW9uLnByb3RvdHlwZSwge2FyZ3VtZW50TmFtZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYXJndW1lbnROYW1lc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImFyZ3VtZW50TmFtZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFyZ3VtZW50TmFtZXNcIiwgdmFsdWUpO1xufX0sIGJvZHk6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYm9keVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImJvZHlcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJvZHlcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRnVuY3Rpb25JbnZvY2F0aW9uUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0Z1bmN0aW9uSW52b2NhdGlvblBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GdW5jdGlvbkludm9jYXRpb24gPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZ1bmN0aW9uTmFtZVwiLCBudWxsID09IHBhcmFtZXRlcnMuZnVuY3Rpb25OYW1lID8gbnVsbCA6IHBhcmFtZXRlcnMuZnVuY3Rpb25OYW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZnVuY3Rpb25SZWZlcmVuY2VcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZ1bmN0aW9uUmVmZXJlbmNlID8gbnVsbCA6IHBhcmFtZXRlcnMuZnVuY3Rpb25SZWZlcmVuY2UpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhcmd1bWVudHNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmFyZ3VtZW50cyA/IG51bGwgOiBwYXJhbWV0ZXJzLmFyZ3VtZW50cyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZ1bmN0aW9uSW52b2NhdGlvbiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GdW5jdGlvbkludm9jYXRpb24ucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZ1bmN0aW9uSW52b2NhdGlvbjtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZ1bmN0aW9uSW52b2NhdGlvbi5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImFyZ3VtZW50c1wiLCBcImZ1bmN0aW9uTmFtZVwiLCBcImZ1bmN0aW9uUmVmZXJlbmNlXCJdLCBvYmplY3RNYXBzOnthcmd1bWVudHM6e2N0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WYWx1ZU5vZGUsIGlzUHJvcGVydHlBcnJheTohMSwgaXNTZXJpYWxpemFibGU6ITAsIGlzVmFsdWVBcnJheTohMX19fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZ1bmN0aW9uSW52b2NhdGlvbi5wcm90b3R5cGUsIHthcmd1bWVudHM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYXJndW1lbnRzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYXJndW1lbnRzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhcmd1bWVudHNcIiwgdmFsdWUpO1xufX0sIGZ1bmN0aW9uTmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmdW5jdGlvbk5hbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJmdW5jdGlvbk5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZ1bmN0aW9uTmFtZVwiLCB2YWx1ZSk7XG59fSwgZnVuY3Rpb25SZWZlcmVuY2U6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZnVuY3Rpb25SZWZlcmVuY2VcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJmdW5jdGlvblJlZmVyZW5jZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZnVuY3Rpb25SZWZlcmVuY2VcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzRGVzdGluYXRpb25QYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfR2NzRGVzdGluYXRpb25QYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzRGVzdGluYXRpb24gPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJ1Y2tldFwiLCBudWxsID09IHBhcmFtZXRlcnMuYnVja2V0ID8gbnVsbCA6IHBhcmFtZXRlcnMuYnVja2V0KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZW5hbWVQcmVmaXhcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZpbGVuYW1lUHJlZml4ID8gbnVsbCA6IHBhcmFtZXRlcnMuZmlsZW5hbWVQcmVmaXgpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwZXJtaXNzaW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMucGVybWlzc2lvbnMgPyBudWxsIDogcGFyYW1ldGVycy5wZXJtaXNzaW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJ1Y2tldENvcnNVcmlzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5idWNrZXRDb3JzVXJpcyA/IG51bGwgOiBwYXJhbWV0ZXJzLmJ1Y2tldENvcnNVcmlzKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzRGVzdGluYXRpb24sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzRGVzdGluYXRpb24ucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdjc0Rlc3RpbmF0aW9uO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzRGVzdGluYXRpb24ucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7ZW51bXM6e3Blcm1pc3Npb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzRGVzdGluYXRpb25QZXJtaXNzaW9uc0VudW19LCBrZXlzOltcImJ1Y2tldFwiLCBcImJ1Y2tldENvcnNVcmlzXCIsIFwiZmlsZW5hbWVQcmVmaXhcIiwgXCJwZXJtaXNzaW9uc1wiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HY3NEZXN0aW5hdGlvbi5wcm90b3R5cGUsIHtidWNrZXQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYnVja2V0XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYnVja2V0XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJidWNrZXRcIiwgdmFsdWUpO1xufX0sIGJ1Y2tldENvcnNVcmlzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImJ1Y2tldENvcnNVcmlzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYnVja2V0Q29yc1VyaXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJ1Y2tldENvcnNVcmlzXCIsIHZhbHVlKTtcbn19LCBmaWxlbmFtZVByZWZpeDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmaWxlbmFtZVByZWZpeFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZpbGVuYW1lUHJlZml4XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlbmFtZVByZWZpeFwiLCB2YWx1ZSk7XG59fSwgcGVybWlzc2lvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicGVybWlzc2lvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJwZXJtaXNzaW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicGVybWlzc2lvbnNcIiwgdmFsdWUpO1xufX19KTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzRGVzdGluYXRpb24sIHtQZXJtaXNzaW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdjc0Rlc3RpbmF0aW9uUGVybWlzc2lvbnNFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzTG9jYXRpb25QYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfR2NzTG9jYXRpb25QYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzTG9jYXRpb24gPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInVyaXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnVyaXMgPyBudWxsIDogcGFyYW1ldGVycy51cmlzKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzTG9jYXRpb24sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzTG9jYXRpb24ucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdjc0xvY2F0aW9uO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzTG9jYXRpb24ucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJ1cmlzXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdjc0xvY2F0aW9uLnByb3RvdHlwZSwge3VyaXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidXJpc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInVyaXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInVyaXNcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2VvVGlmZkltYWdlRXhwb3J0T3B0aW9uc1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9HZW9UaWZmSW1hZ2VFeHBvcnRPcHRpb25zUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdlb1RpZmZJbWFnZUV4cG9ydE9wdGlvbnMgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNsb3VkT3B0aW1pemVkXCIsIG51bGwgPT0gcGFyYW1ldGVycy5jbG91ZE9wdGltaXplZCA/IG51bGwgOiBwYXJhbWV0ZXJzLmNsb3VkT3B0aW1pemVkKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZURpbWVuc2lvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnRpbGVEaW1lbnNpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMudGlsZURpbWVuc2lvbnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJza2lwRW1wdHlGaWxlc1wiLCBudWxsID09IHBhcmFtZXRlcnMuc2tpcEVtcHR5RmlsZXMgPyBudWxsIDogcGFyYW1ldGVycy5za2lwRW1wdHlGaWxlcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVTaXplXCIsIG51bGwgPT0gcGFyYW1ldGVycy50aWxlU2l6ZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnRpbGVTaXplKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2VvVGlmZkltYWdlRXhwb3J0T3B0aW9ucywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZW9UaWZmSW1hZ2VFeHBvcnRPcHRpb25zLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZW9UaWZmSW1hZ2VFeHBvcnRPcHRpb25zO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2VvVGlmZkltYWdlRXhwb3J0T3B0aW9ucy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImNsb3VkT3B0aW1pemVkXCIsIFwic2tpcEVtcHR5RmlsZXNcIiwgXCJ0aWxlRGltZW5zaW9uc1wiLCBcInRpbGVTaXplXCJdLCBvYmplY3RzOnt0aWxlRGltZW5zaW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdyaWREaW1lbnNpb25zfX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZW9UaWZmSW1hZ2VFeHBvcnRPcHRpb25zLnByb3RvdHlwZSwge2Nsb3VkT3B0aW1pemVkOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImNsb3VkT3B0aW1pemVkXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY2xvdWRPcHRpbWl6ZWRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNsb3VkT3B0aW1pemVkXCIsIHZhbHVlKTtcbn19LCBza2lwRW1wdHlGaWxlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJza2lwRW1wdHlGaWxlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInNraXBFbXB0eUZpbGVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJza2lwRW1wdHlGaWxlc1wiLCB2YWx1ZSk7XG59fSwgdGlsZURpbWVuc2lvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidGlsZURpbWVuc2lvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0aWxlRGltZW5zaW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZURpbWVuc2lvbnNcIiwgdmFsdWUpO1xufX0sIHRpbGVTaXplOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRpbGVTaXplXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidGlsZVNpemVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVTaXplXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldElhbVBvbGljeVJlcXVlc3RQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfR2V0SWFtUG9saWN5UmVxdWVzdFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRJYW1Qb2xpY3lSZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJvcHRpb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy5vcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMub3B0aW9ucyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldElhbVBvbGljeVJlcXVlc3QsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0SWFtUG9saWN5UmVxdWVzdC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0SWFtUG9saWN5UmVxdWVzdDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldElhbVBvbGljeVJlcXVlc3QucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJvcHRpb25zXCJdLCBvYmplY3RzOntvcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0UG9saWN5T3B0aW9uc319O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0SWFtUG9saWN5UmVxdWVzdC5wcm90b3R5cGUsIHtvcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm9wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJvcHRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJvcHRpb25zXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldExpbmtlZEFzc2V0UmVxdWVzdFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9HZXRMaW5rZWRBc3NldFJlcXVlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0TGlua2VkQXNzZXRSZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRMaW5rZWRBc3NldFJlcXVlc3QsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0TGlua2VkQXNzZXRSZXF1ZXN0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRMaW5rZWRBc3NldFJlcXVlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRMaW5rZWRBc3NldFJlcXVlc3QucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXX07XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRQaXhlbHNSZXF1ZXN0UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0dldFBpeGVsc1JlcXVlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0UGl4ZWxzUmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZUZvcm1hdFwiLCBudWxsID09IHBhcmFtZXRlcnMuZmlsZUZvcm1hdCA/IG51bGwgOiBwYXJhbWV0ZXJzLmZpbGVGb3JtYXQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJncmlkXCIsIG51bGwgPT0gcGFyYW1ldGVycy5ncmlkID8gbnVsbCA6IHBhcmFtZXRlcnMuZ3JpZCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJlZ2lvblwiLCBudWxsID09IHBhcmFtZXRlcnMucmVnaW9uID8gbnVsbCA6IHBhcmFtZXRlcnMucmVnaW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYmFuZElkc1wiLCBudWxsID09IHBhcmFtZXRlcnMuYmFuZElkcyA/IG51bGwgOiBwYXJhbWV0ZXJzLmJhbmRJZHMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ2aXN1YWxpemF0aW9uT3B0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMudmlzdWFsaXphdGlvbk9wdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy52aXN1YWxpemF0aW9uT3B0aW9ucyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBpeGVsc1JlcXVlc3QsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0UGl4ZWxzUmVxdWVzdC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0UGl4ZWxzUmVxdWVzdDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBpeGVsc1JlcXVlc3QucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7ZW51bXM6e2ZpbGVGb3JtYXQ6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRQaXhlbHNSZXF1ZXN0RmlsZUZvcm1hdEVudW19LCBrZXlzOltcImJhbmRJZHNcIiwgXCJmaWxlRm9ybWF0XCIsIFwiZ3JpZFwiLCBcInJlZ2lvblwiLCBcInZpc3VhbGl6YXRpb25PcHRpb25zXCJdLCBvYmplY3RNYXBzOntyZWdpb246e2N0b3I6bnVsbCwgaXNQcm9wZXJ0eUFycmF5OiExLCBpc1NlcmlhbGl6YWJsZTohMSwgaXNWYWx1ZUFycmF5OiExfX0sIG9iamVjdHM6e2dyaWQ6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbEdyaWQsIHZpc3VhbGl6YXRpb25PcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlzdWFsaXphdGlvbk9wdGlvbnN9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBpeGVsc1JlcXVlc3QucHJvdG90eXBlLCB7YmFuZElkczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJiYW5kSWRzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYmFuZElkc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYmFuZElkc1wiLCB2YWx1ZSk7XG59fSwgZmlsZUZvcm1hdDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmaWxlRm9ybWF0XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZmlsZUZvcm1hdFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZmlsZUZvcm1hdFwiLCB2YWx1ZSk7XG59fSwgZ3JpZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJncmlkXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZ3JpZFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ3JpZFwiLCB2YWx1ZSk7XG59fSwgcmVnaW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInJlZ2lvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInJlZ2lvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmVnaW9uXCIsIHZhbHVlKTtcbn19LCB2aXN1YWxpemF0aW9uT3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ2aXN1YWxpemF0aW9uT3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInZpc3VhbGl6YXRpb25PcHRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ2aXN1YWxpemF0aW9uT3B0aW9uc1wiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRQaXhlbHNSZXF1ZXN0LCB7RmlsZUZvcm1hdDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBpeGVsc1JlcXVlc3RGaWxlRm9ybWF0RW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBvbGljeU9wdGlvbnNQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfR2V0UG9saWN5T3B0aW9uc1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRQb2xpY3lPcHRpb25zID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyZXF1ZXN0ZWRQb2xpY3lWZXJzaW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5yZXF1ZXN0ZWRQb2xpY3lWZXJzaW9uID8gbnVsbCA6IHBhcmFtZXRlcnMucmVxdWVzdGVkUG9saWN5VmVyc2lvbik7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBvbGljeU9wdGlvbnMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0UG9saWN5T3B0aW9ucy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0UG9saWN5T3B0aW9ucztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBvbGljeU9wdGlvbnMucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJyZXF1ZXN0ZWRQb2xpY3lWZXJzaW9uXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdldFBvbGljeU9wdGlvbnMucHJvdG90eXBlLCB7cmVxdWVzdGVkUG9saWN5VmVyc2lvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyZXF1ZXN0ZWRQb2xpY3lWZXJzaW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicmVxdWVzdGVkUG9saWN5VmVyc2lvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmVxdWVzdGVkUG9saWN5VmVyc2lvblwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HcmlkRGltZW5zaW9uc1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9HcmlkRGltZW5zaW9uc1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HcmlkRGltZW5zaW9ucyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwid2lkdGhcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLndpZHRoID8gbnVsbCA6IHBhcmFtZXRlcnMud2lkdGgpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJoZWlnaHRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmhlaWdodCA/IG51bGwgOiBwYXJhbWV0ZXJzLmhlaWdodCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdyaWREaW1lbnNpb25zLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdyaWREaW1lbnNpb25zLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HcmlkRGltZW5zaW9ucztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdyaWREaW1lbnNpb25zLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiaGVpZ2h0XCIsIFwid2lkdGhcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR3JpZERpbWVuc2lvbnMucHJvdG90eXBlLCB7aGVpZ2h0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImhlaWdodFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImhlaWdodFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaGVpZ2h0XCIsIHZhbHVlKTtcbn19LCB3aWR0aDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ3aWR0aFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIndpZHRoXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ3aWR0aFwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HcmlkUG9pbnRQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfR3JpZFBvaW50UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdyaWRQb2ludCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwieFwiLCBudWxsID09IHBhcmFtZXRlcnMueCA/IG51bGwgOiBwYXJhbWV0ZXJzLngpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ5XCIsIG51bGwgPT0gcGFyYW1ldGVycy55ID8gbnVsbCA6IHBhcmFtZXRlcnMueSk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdyaWRQb2ludCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HcmlkUG9pbnQucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdyaWRQb2ludDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdyaWRQb2ludC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcInhcIiwgXCJ5XCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdyaWRQb2ludC5wcm90b3R5cGUsIHt4Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInhcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ4XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ4XCIsIHZhbHVlKTtcbn19LCB5Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInlcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ5XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ5XCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkh0dHBCb2R5UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0h0dHBCb2R5UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkh0dHBCb2R5ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjb250ZW50VHlwZVwiLCBudWxsID09IHBhcmFtZXRlcnMuY29udGVudFR5cGUgPyBudWxsIDogcGFyYW1ldGVycy5jb250ZW50VHlwZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRhdGFcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRhdGEgPyBudWxsIDogcGFyYW1ldGVycy5kYXRhKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXh0ZW5zaW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMuZXh0ZW5zaW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLmV4dGVuc2lvbnMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5IdHRwQm9keSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5IdHRwQm9keS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSHR0cEJvZHk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5IdHRwQm9keS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImNvbnRlbnRUeXBlXCIsIFwiZGF0YVwiLCBcImV4dGVuc2lvbnNcIl0sIG9iamVjdE1hcHM6e2V4dGVuc2lvbnM6e2N0b3I6bnVsbCwgaXNQcm9wZXJ0eUFycmF5OiEwLCBpc1NlcmlhbGl6YWJsZTohMSwgaXNWYWx1ZUFycmF5OiExfX19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSHR0cEJvZHkucHJvdG90eXBlLCB7Y29udGVudFR5cGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiY29udGVudFR5cGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJjb250ZW50VHlwZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY29udGVudFR5cGVcIiwgdmFsdWUpO1xufX0sIGRhdGE6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGF0YVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRhdGFcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRhdGFcIiwgdmFsdWUpO1xufX0sIGV4dGVuc2lvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZXh0ZW5zaW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImV4dGVuc2lvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4dGVuc2lvbnNcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSW1hZ2VQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2UgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm5hbWUgPyBudWxsIDogcGFyYW1ldGVycy5uYW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaWRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmlkID8gbnVsbCA6IHBhcmFtZXRlcnMuaWQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ1cGRhdGVUaW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy51cGRhdGVUaW1lID8gbnVsbCA6IHBhcmFtZXRlcnMudXBkYXRlVGltZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpdGxlXCIsIG51bGwgPT0gcGFyYW1ldGVycy50aXRsZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnRpdGxlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZGVzY3JpcHRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwcm9wZXJ0aWVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5wcm9wZXJ0aWVzID8gbnVsbCA6IHBhcmFtZXRlcnMucHJvcGVydGllcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN0YXJ0VGltZVwiLCBudWxsID09IHBhcmFtZXRlcnMuc3RhcnRUaW1lID8gbnVsbCA6IHBhcmFtZXRlcnMuc3RhcnRUaW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZW5kVGltZVwiLCBudWxsID09IHBhcmFtZXRlcnMuZW5kVGltZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmVuZFRpbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJnZW9tZXRyeVwiLCBudWxsID09IHBhcmFtZXRlcnMuZ2VvbWV0cnkgPyBudWxsIDogcGFyYW1ldGVycy5nZW9tZXRyeSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJhbmRzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5iYW5kcyA/IG51bGwgOiBwYXJhbWV0ZXJzLmJhbmRzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2l6ZUJ5dGVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zaXplQnl0ZXMgPyBudWxsIDogcGFyYW1ldGVycy5zaXplQnl0ZXMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2U7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e2JhbmRzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VCYW5kfSwga2V5czpcImJhbmRzIGRlc2NyaXB0aW9uIGVuZFRpbWUgZ2VvbWV0cnkgaWQgbmFtZSBwcm9wZXJ0aWVzIHNpemVCeXRlcyBzdGFydFRpbWUgdGl0bGUgdXBkYXRlVGltZVwiLnNwbGl0KFwiIFwiKSwgb2JqZWN0TWFwczp7Z2VvbWV0cnk6e2N0b3I6bnVsbCwgaXNQcm9wZXJ0eUFycmF5OiExLCBpc1NlcmlhbGl6YWJsZTohMSwgaXNWYWx1ZUFycmF5OiExfSwgcHJvcGVydGllczp7Y3RvcjpudWxsLCBpc1Byb3BlcnR5QXJyYXk6ITEsIGlzU2VyaWFsaXphYmxlOiExLCBpc1ZhbHVlQXJyYXk6ITF9fX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZS5wcm90b3R5cGUsIHtiYW5kczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJiYW5kc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImJhbmRzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJiYW5kc1wiLCB2YWx1ZSk7XG59fSwgZGVzY3JpcHRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGVzY3JpcHRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkZXNjcmlwdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgdmFsdWUpO1xufX0sIGVuZFRpbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZW5kVGltZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImVuZFRpbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImVuZFRpbWVcIiwgdmFsdWUpO1xufX0sIGdlb21ldHJ5Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImdlb21ldHJ5XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZ2VvbWV0cnlcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdlb21ldHJ5XCIsIHZhbHVlKTtcbn19LCBpZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJpZFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImlkXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJpZFwiLCB2YWx1ZSk7XG59fSwgbmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJuYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibmFtZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCB2YWx1ZSk7XG59fSwgcHJvcGVydGllczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwcm9wZXJ0aWVzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicHJvcGVydGllc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHJvcGVydGllc1wiLCB2YWx1ZSk7XG59fSwgc2l6ZUJ5dGVzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInNpemVCeXRlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInNpemVCeXRlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2l6ZUJ5dGVzXCIsIHZhbHVlKTtcbn19LCBzdGFydFRpbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic3RhcnRUaW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic3RhcnRUaW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdGFydFRpbWVcIiwgdmFsdWUpO1xufX0sIHRpdGxlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRpdGxlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidGl0bGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpdGxlXCIsIHZhbHVlKTtcbn19LCB1cGRhdGVUaW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInVwZGF0ZVRpbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ1cGRhdGVUaW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ1cGRhdGVUaW1lXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0ltYWdlQXNzZXRFeHBvcnRPcHRpb25zUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJlYXJ0aEVuZ2luZURlc3RpbmF0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5lYXJ0aEVuZ2luZURlc3RpbmF0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZWFydGhFbmdpbmVEZXN0aW5hdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInB5cmFtaWRpbmdQb2xpY3lcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnB5cmFtaWRpbmdQb2xpY3kgPyBudWxsIDogcGFyYW1ldGVycy5weXJhbWlkaW5nUG9saWN5KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHlyYW1pZGluZ1BvbGljeU92ZXJyaWRlc1wiLCBudWxsID09IHBhcmFtZXRlcnMucHlyYW1pZGluZ1BvbGljeU92ZXJyaWRlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLnB5cmFtaWRpbmdQb2xpY3lPdmVycmlkZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlU2l6ZVwiLCBudWxsID09IHBhcmFtZXRlcnMudGlsZVNpemUgPyBudWxsIDogcGFyYW1ldGVycy50aWxlU2l6ZSk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUFzc2V0RXhwb3J0T3B0aW9ucztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2VudW1zOntweXJhbWlkaW5nUG9saWN5Om1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VBc3NldEV4cG9ydE9wdGlvbnNQeXJhbWlkaW5nUG9saWN5RW51bSwgcHlyYW1pZGluZ1BvbGljeU92ZXJyaWRlczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zUHlyYW1pZGluZ1BvbGljeU92ZXJyaWRlc0VudW19LCBrZXlzOltcImVhcnRoRW5naW5lRGVzdGluYXRpb25cIiwgXCJweXJhbWlkaW5nUG9saWN5XCIsIFwicHlyYW1pZGluZ1BvbGljeU92ZXJyaWRlc1wiLCBcInRpbGVTaXplXCJdLCBvYmplY3RNYXBzOntweXJhbWlkaW5nUG9saWN5T3ZlcnJpZGVzOntjdG9yOm51bGwsIGlzUHJvcGVydHlBcnJheTohMSwgaXNTZXJpYWxpemFibGU6ITEsIGlzVmFsdWVBcnJheTohMX19LCBcbiAgb2JqZWN0czp7ZWFydGhFbmdpbmVEZXN0aW5hdGlvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lRGVzdGluYXRpb259fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zLnByb3RvdHlwZSwge2VhcnRoRW5naW5lRGVzdGluYXRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZWFydGhFbmdpbmVEZXN0aW5hdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImVhcnRoRW5naW5lRGVzdGluYXRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImVhcnRoRW5naW5lRGVzdGluYXRpb25cIiwgdmFsdWUpO1xufX0sIHB5cmFtaWRpbmdQb2xpY3k6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicHlyYW1pZGluZ1BvbGljeVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInB5cmFtaWRpbmdQb2xpY3lcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInB5cmFtaWRpbmdQb2xpY3lcIiwgdmFsdWUpO1xufX0sIHB5cmFtaWRpbmdQb2xpY3lPdmVycmlkZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicHlyYW1pZGluZ1BvbGljeU92ZXJyaWRlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInB5cmFtaWRpbmdQb2xpY3lPdmVycmlkZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInB5cmFtaWRpbmdQb2xpY3lPdmVycmlkZXNcIiwgdmFsdWUpO1xufX0sIHRpbGVTaXplOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRpbGVTaXplXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidGlsZVNpemVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVTaXplXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zLCB7UHlyYW1pZGluZ1BvbGljeTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zUHlyYW1pZGluZ1BvbGljeUVudW07XG59fSwgUHlyYW1pZGluZ1BvbGljeU92ZXJyaWRlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQXNzZXRFeHBvcnRPcHRpb25zUHlyYW1pZGluZ1BvbGljeU92ZXJyaWRlc0VudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUJhbmRQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSW1hZ2VCYW5kUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQmFuZCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaWRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmlkID8gbnVsbCA6IHBhcmFtZXRlcnMuaWQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkYXRhVHlwZVwiLCBudWxsID09IHBhcmFtZXRlcnMuZGF0YVR5cGUgPyBudWxsIDogcGFyYW1ldGVycy5kYXRhVHlwZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdyaWRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmdyaWQgPyBudWxsIDogcGFyYW1ldGVycy5ncmlkKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHlyYW1pZGluZ1BvbGljeVwiLCBudWxsID09IHBhcmFtZXRlcnMucHlyYW1pZGluZ1BvbGljeSA/IG51bGwgOiBwYXJhbWV0ZXJzLnB5cmFtaWRpbmdQb2xpY3kpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlc2V0c1wiLCBudWxsID09IHBhcmFtZXRlcnMudGlsZXNldHMgPyBudWxsIDogcGFyYW1ldGVycy50aWxlc2V0cyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1pc3NpbmdEYXRhXCIsIG51bGwgPT0gcGFyYW1ldGVycy5taXNzaW5nRGF0YSA/IG51bGwgOiBwYXJhbWV0ZXJzLm1pc3NpbmdEYXRhKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VCYW5kLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQmFuZC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VCYW5kO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VCYW5kLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2FycmF5czp7dGlsZXNldHM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVUaWxlc2V0fSwgZW51bXM6e3B5cmFtaWRpbmdQb2xpY3k6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUJhbmRQeXJhbWlkaW5nUG9saWN5RW51bX0sIGtleXM6XCJkYXRhVHlwZSBncmlkIGlkIG1pc3NpbmdEYXRhIHB5cmFtaWRpbmdQb2xpY3kgdGlsZXNldHNcIi5zcGxpdChcIiBcIiksIG9iamVjdHM6e2RhdGFUeXBlOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxEYXRhVHlwZSwgZ3JpZDptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsR3JpZCwgXG4gIG1pc3NpbmdEYXRhOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTWlzc2luZ0RhdGF9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlQmFuZC5wcm90b3R5cGUsIHtkYXRhVHlwZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkYXRhVHlwZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRhdGFUeXBlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkYXRhVHlwZVwiLCB2YWx1ZSk7XG59fSwgZ3JpZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJncmlkXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZ3JpZFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ3JpZFwiLCB2YWx1ZSk7XG59fSwgaWQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiaWRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJpZFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaWRcIiwgdmFsdWUpO1xufX0sIG1pc3NpbmdEYXRhOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1pc3NpbmdEYXRhXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWlzc2luZ0RhdGFcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1pc3NpbmdEYXRhXCIsIHZhbHVlKTtcbn19LCBweXJhbWlkaW5nUG9saWN5Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInB5cmFtaWRpbmdQb2xpY3lcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJweXJhbWlkaW5nUG9saWN5XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJweXJhbWlkaW5nUG9saWN5XCIsIHZhbHVlKTtcbn19LCB0aWxlc2V0czp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0aWxlc2V0c1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRpbGVzZXRzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlc2V0c1wiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUJhbmQsIHtQeXJhbWlkaW5nUG9saWN5Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VCYW5kUHlyYW1pZGluZ1BvbGljeUVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUZpbGVFeHBvcnRPcHRpb25zUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0ltYWdlRmlsZUV4cG9ydE9wdGlvbnNQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VGaWxlRXhwb3J0T3B0aW9ucyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZHJpdmVEZXN0aW5hdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZHJpdmVEZXN0aW5hdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmRyaXZlRGVzdGluYXRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjbG91ZFN0b3JhZ2VEZXN0aW5hdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuY2xvdWRTdG9yYWdlRGVzdGluYXRpb24gPyBudWxsIDogcGFyYW1ldGVycy5jbG91ZFN0b3JhZ2VEZXN0aW5hdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdjc0Rlc3RpbmF0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5nY3NEZXN0aW5hdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmdjc0Rlc3RpbmF0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ2VvVGlmZk9wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmdlb1RpZmZPcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMuZ2VvVGlmZk9wdGlvbnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0ZlJlY29yZE9wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnRmUmVjb3JkT3B0aW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLnRmUmVjb3JkT3B0aW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVGb3JtYXRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZpbGVGb3JtYXQgPyBudWxsIDogcGFyYW1ldGVycy5maWxlRm9ybWF0KTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VGaWxlRXhwb3J0T3B0aW9ucywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUZpbGVFeHBvcnRPcHRpb25zLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZUZpbGVFeHBvcnRPcHRpb25zO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VGaWxlRXhwb3J0T3B0aW9ucy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7ZmlsZUZvcm1hdDptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlRmlsZUV4cG9ydE9wdGlvbnNGaWxlRm9ybWF0RW51bX0sIGtleXM6XCJjbG91ZFN0b3JhZ2VEZXN0aW5hdGlvbiBkcml2ZURlc3RpbmF0aW9uIGZpbGVGb3JtYXQgZ2NzRGVzdGluYXRpb24gZ2VvVGlmZk9wdGlvbnMgdGZSZWNvcmRPcHRpb25zXCIuc3BsaXQoXCIgXCIpLCBvYmplY3RzOntjbG91ZFN0b3JhZ2VEZXN0aW5hdGlvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNsb3VkU3RvcmFnZURlc3RpbmF0aW9uLCBkcml2ZURlc3RpbmF0aW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRHJpdmVEZXN0aW5hdGlvbiwgXG4gIGdjc0Rlc3RpbmF0aW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzRGVzdGluYXRpb24sIGdlb1RpZmZPcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2VvVGlmZkltYWdlRXhwb3J0T3B0aW9ucywgdGZSZWNvcmRPcHRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGZSZWNvcmRJbWFnZUV4cG9ydE9wdGlvbnN9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlRmlsZUV4cG9ydE9wdGlvbnMucHJvdG90eXBlLCB7Y2xvdWRTdG9yYWdlRGVzdGluYXRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiY2xvdWRTdG9yYWdlRGVzdGluYXRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJjbG91ZFN0b3JhZ2VEZXN0aW5hdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY2xvdWRTdG9yYWdlRGVzdGluYXRpb25cIiwgdmFsdWUpO1xufX0sIGRyaXZlRGVzdGluYXRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZHJpdmVEZXN0aW5hdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRyaXZlRGVzdGluYXRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRyaXZlRGVzdGluYXRpb25cIiwgdmFsdWUpO1xufX0sIGZpbGVGb3JtYXQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZmlsZUZvcm1hdFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZpbGVGb3JtYXRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVGb3JtYXRcIiwgdmFsdWUpO1xufX0sIGdjc0Rlc3RpbmF0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImdjc0Rlc3RpbmF0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZ2NzRGVzdGluYXRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdjc0Rlc3RpbmF0aW9uXCIsIHZhbHVlKTtcbn19LCBnZW9UaWZmT3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJnZW9UaWZmT3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImdlb1RpZmZPcHRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJnZW9UaWZmT3B0aW9uc1wiLCB2YWx1ZSk7XG59fSwgdGZSZWNvcmRPcHRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRmUmVjb3JkT3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRmUmVjb3JkT3B0aW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGZSZWNvcmRPcHRpb25zXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlRmlsZUV4cG9ydE9wdGlvbnMsIHtGaWxlRm9ybWF0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VGaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VNYW5pZmVzdFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JbWFnZU1hbmlmZXN0UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlTWFuaWZlc3QgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm5hbWUgPyBudWxsIDogcGFyYW1ldGVycy5uYW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHJvcGVydGllc1wiLCBudWxsID09IHBhcmFtZXRlcnMucHJvcGVydGllcyA/IG51bGwgOiBwYXJhbWV0ZXJzLnByb3BlcnRpZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ1cmlQcmVmaXhcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnVyaVByZWZpeCA/IG51bGwgOiBwYXJhbWV0ZXJzLnVyaVByZWZpeCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVzZXRzXCIsIG51bGwgPT0gcGFyYW1ldGVycy50aWxlc2V0cyA/IG51bGwgOiBwYXJhbWV0ZXJzLnRpbGVzZXRzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYmFuZHNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmJhbmRzID8gbnVsbCA6IHBhcmFtZXRlcnMuYmFuZHMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXNrQmFuZHNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1hc2tCYW5kcyA/IG51bGwgOiBwYXJhbWV0ZXJzLm1hc2tCYW5kcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZvb3RwcmludFwiLCBudWxsID09IHBhcmFtZXRlcnMuZm9vdHByaW50ID8gbnVsbCA6IHBhcmFtZXRlcnMuZm9vdHByaW50KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWlzc2luZ0RhdGFcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1pc3NpbmdEYXRhID8gbnVsbCA6IHBhcmFtZXRlcnMubWlzc2luZ0RhdGEpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJweXJhbWlkaW5nUG9saWN5XCIsIG51bGwgPT0gcGFyYW1ldGVycy5weXJhbWlkaW5nUG9saWN5ID8gbnVsbCA6IHBhcmFtZXRlcnMucHlyYW1pZGluZ1BvbGljeSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN0YXJ0VGltZVwiLCBudWxsID09IHBhcmFtZXRlcnMuc3RhcnRUaW1lID8gbnVsbCA6IHBhcmFtZXRlcnMuc3RhcnRUaW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZW5kVGltZVwiLCBudWxsID09IHBhcmFtZXRlcnMuZW5kVGltZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmVuZFRpbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtaW5UaWxlQXJlYVJhdGlvXCIsIG51bGwgPT0gcGFyYW1ldGVycy5taW5UaWxlQXJlYVJhdGlvID8gbnVsbCA6IHBhcmFtZXRlcnMubWluVGlsZUFyZWFSYXRpbyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlTWFuaWZlc3QsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VNYW5pZmVzdC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VNYW5pZmVzdDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlTWFuaWZlc3QucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7YXJyYXlzOntiYW5kczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRCYW5kLCBtYXNrQmFuZHM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0TWFza0JhbmQsIHRpbGVzZXRzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldH0sIGVudW1zOntweXJhbWlkaW5nUG9saWN5Om1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VNYW5pZmVzdFB5cmFtaWRpbmdQb2xpY3lFbnVtfSwga2V5czpcImJhbmRzIGVuZFRpbWUgZm9vdHByaW50IG1hc2tCYW5kcyBtaW5UaWxlQXJlYVJhdGlvIG1pc3NpbmdEYXRhIG5hbWUgcHJvcGVydGllcyBweXJhbWlkaW5nUG9saWN5IHN0YXJ0VGltZSB0aWxlc2V0cyB1cmlQcmVmaXhcIi5zcGxpdChcIiBcIiksIFxuICBvYmplY3RNYXBzOntwcm9wZXJ0aWVzOntjdG9yOm51bGwsIGlzUHJvcGVydHlBcnJheTohMSwgaXNTZXJpYWxpemFibGU6ITEsIGlzVmFsdWVBcnJheTohMX19LCBvYmplY3RzOntmb290cHJpbnQ6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbEZvb3RwcmludCwgbWlzc2luZ0RhdGE6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5NaXNzaW5nRGF0YX19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VNYW5pZmVzdC5wcm90b3R5cGUsIHtiYW5kczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJiYW5kc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImJhbmRzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJiYW5kc1wiLCB2YWx1ZSk7XG59fSwgZW5kVGltZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJlbmRUaW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZW5kVGltZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZW5kVGltZVwiLCB2YWx1ZSk7XG59fSwgZm9vdHByaW50Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImZvb3RwcmludFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZvb3RwcmludFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZm9vdHByaW50XCIsIHZhbHVlKTtcbn19LCBtYXNrQmFuZHM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWFza0JhbmRzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWFza0JhbmRzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXNrQmFuZHNcIiwgdmFsdWUpO1xufX0sIG1pblRpbGVBcmVhUmF0aW86e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWluVGlsZUFyZWFSYXRpb1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1pblRpbGVBcmVhUmF0aW9cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1pblRpbGVBcmVhUmF0aW9cIiwgdmFsdWUpO1xufX0sIG1pc3NpbmdEYXRhOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1pc3NpbmdEYXRhXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWlzc2luZ0RhdGFcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1pc3NpbmdEYXRhXCIsIHZhbHVlKTtcbn19LCBuYW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm5hbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJuYW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuYW1lXCIsIHZhbHVlKTtcbn19LCBwcm9wZXJ0aWVzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInByb3BlcnRpZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJwcm9wZXJ0aWVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwcm9wZXJ0aWVzXCIsIHZhbHVlKTtcbn19LCBweXJhbWlkaW5nUG9saWN5Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInB5cmFtaWRpbmdQb2xpY3lcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJweXJhbWlkaW5nUG9saWN5XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJweXJhbWlkaW5nUG9saWN5XCIsIHZhbHVlKTtcbn19LCBzdGFydFRpbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic3RhcnRUaW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic3RhcnRUaW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdGFydFRpbWVcIiwgdmFsdWUpO1xufX0sIHRpbGVzZXRzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRpbGVzZXRzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidGlsZXNldHNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVzZXRzXCIsIHZhbHVlKTtcbn19LCB1cmlQcmVmaXg6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidXJpUHJlZml4XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidXJpUHJlZml4XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ1cmlQcmVmaXhcIiwgdmFsdWUpO1xufX19KTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VNYW5pZmVzdCwge1B5cmFtaWRpbmdQb2xpY3k6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZU1hbmlmZXN0UHlyYW1pZGluZ1BvbGljeUVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZVNvdXJjZVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JbWFnZVNvdXJjZVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZVNvdXJjZSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidXJpc1wiLCBudWxsID09IHBhcmFtZXRlcnMudXJpcyA/IG51bGwgOiBwYXJhbWV0ZXJzLnVyaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhZmZpbmVUcmFuc2Zvcm1cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmFmZmluZVRyYW5zZm9ybSA/IG51bGwgOiBwYXJhbWV0ZXJzLmFmZmluZVRyYW5zZm9ybSk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlU291cmNlLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlU291cmNlLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZVNvdXJjZTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlU291cmNlLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiYWZmaW5lVHJhbnNmb3JtXCIsIFwidXJpc1wiXSwgb2JqZWN0czp7YWZmaW5lVHJhbnNmb3JtOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQWZmaW5lVHJhbnNmb3JtfX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZVNvdXJjZS5wcm90b3R5cGUsIHthZmZpbmVUcmFuc2Zvcm06e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYWZmaW5lVHJhbnNmb3JtXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYWZmaW5lVHJhbnNmb3JtXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhZmZpbmVUcmFuc2Zvcm1cIiwgdmFsdWUpO1xufX0sIHVyaXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidXJpc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInVyaXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInVyaXNcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1wb3J0SW1hZ2VSZXF1ZXN0UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0ltcG9ydEltYWdlUmVxdWVzdFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbXBvcnRJbWFnZVJlcXVlc3QgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImltYWdlTWFuaWZlc3RcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmltYWdlTWFuaWZlc3QgPyBudWxsIDogcGFyYW1ldGVycy5pbWFnZU1hbmlmZXN0KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZGVzY3JpcHRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJvdmVyd3JpdGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm92ZXJ3cml0ZSA/IG51bGwgOiBwYXJhbWV0ZXJzLm92ZXJ3cml0ZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJlcXVlc3RJZFwiLCBudWxsID09IHBhcmFtZXRlcnMucmVxdWVzdElkID8gbnVsbCA6IHBhcmFtZXRlcnMucmVxdWVzdElkKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1wb3J0SW1hZ2VSZXF1ZXN0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltcG9ydEltYWdlUmVxdWVzdC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1wb3J0SW1hZ2VSZXF1ZXN0O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1wb3J0SW1hZ2VSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiZGVzY3JpcHRpb25cIiwgXCJpbWFnZU1hbmlmZXN0XCIsIFwib3ZlcndyaXRlXCIsIFwicmVxdWVzdElkXCJdLCBvYmplY3RzOntpbWFnZU1hbmlmZXN0Om1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VNYW5pZmVzdH19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1wb3J0SW1hZ2VSZXF1ZXN0LnByb3RvdHlwZSwge2Rlc2NyaXB0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRlc2NyaXB0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGVzY3JpcHRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc2NyaXB0aW9uXCIsIHZhbHVlKTtcbn19LCBpbWFnZU1hbmlmZXN0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImltYWdlTWFuaWZlc3RcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJpbWFnZU1hbmlmZXN0XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJpbWFnZU1hbmlmZXN0XCIsIHZhbHVlKTtcbn19LCBvdmVyd3JpdGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwib3ZlcndyaXRlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwib3ZlcndyaXRlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJvdmVyd3JpdGVcIiwgdmFsdWUpO1xufX0sIHJlcXVlc3RJZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyZXF1ZXN0SWRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJyZXF1ZXN0SWRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJlcXVlc3RJZFwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbXBvcnRUYWJsZVJlcXVlc3RQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSW1wb3J0VGFibGVSZXF1ZXN0UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltcG9ydFRhYmxlUmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGFibGVNYW5pZmVzdFwiLCBudWxsID09IHBhcmFtZXRlcnMudGFibGVNYW5pZmVzdCA/IG51bGwgOiBwYXJhbWV0ZXJzLnRhYmxlTWFuaWZlc3QpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXNjcmlwdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZGVzY3JpcHRpb24gPyBudWxsIDogcGFyYW1ldGVycy5kZXNjcmlwdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm92ZXJ3cml0ZVwiLCBudWxsID09IHBhcmFtZXRlcnMub3ZlcndyaXRlID8gbnVsbCA6IHBhcmFtZXRlcnMub3ZlcndyaXRlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmVxdWVzdElkXCIsIG51bGwgPT0gcGFyYW1ldGVycy5yZXF1ZXN0SWQgPyBudWxsIDogcGFyYW1ldGVycy5yZXF1ZXN0SWQpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbXBvcnRUYWJsZVJlcXVlc3QsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1wb3J0VGFibGVSZXF1ZXN0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbXBvcnRUYWJsZVJlcXVlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbXBvcnRUYWJsZVJlcXVlc3QucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJkZXNjcmlwdGlvblwiLCBcIm92ZXJ3cml0ZVwiLCBcInJlcXVlc3RJZFwiLCBcInRhYmxlTWFuaWZlc3RcIl0sIG9iamVjdHM6e3RhYmxlTWFuaWZlc3Q6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZU1hbmlmZXN0fX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbXBvcnRUYWJsZVJlcXVlc3QucHJvdG90eXBlLCB7ZGVzY3JpcHRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGVzY3JpcHRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkZXNjcmlwdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgdmFsdWUpO1xufX0sIG92ZXJ3cml0ZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJvdmVyd3JpdGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJvdmVyd3JpdGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm92ZXJ3cml0ZVwiLCB2YWx1ZSk7XG59fSwgcmVxdWVzdElkOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInJlcXVlc3RJZFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInJlcXVlc3RJZFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmVxdWVzdElkXCIsIHZhbHVlKTtcbn19LCB0YWJsZU1hbmlmZXN0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRhYmxlTWFuaWZlc3RcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0YWJsZU1hbmlmZXN0XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0YWJsZU1hbmlmZXN0XCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkxpbmtBc3NldFJlcXVlc3RQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfTGlua0Fzc2V0UmVxdWVzdFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaW5rQXNzZXRSZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXN0aW5hdGlvbk5hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRlc3RpbmF0aW9uTmFtZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmRlc3RpbmF0aW9uTmFtZSk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkxpbmtBc3NldFJlcXVlc3QsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlua0Fzc2V0UmVxdWVzdC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlua0Fzc2V0UmVxdWVzdDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkxpbmtBc3NldFJlcXVlc3QucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJkZXN0aW5hdGlvbk5hbWVcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlua0Fzc2V0UmVxdWVzdC5wcm90b3R5cGUsIHtkZXN0aW5hdGlvbk5hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGVzdGluYXRpb25OYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGVzdGluYXRpb25OYW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXN0aW5hdGlvbk5hbWVcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEFsZ29yaXRobXNSZXNwb25zZVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9MaXN0QWxnb3JpdGhtc1Jlc3BvbnNlUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RBbGdvcml0aG1zUmVzcG9uc2UgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFsZ29yaXRobXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmFsZ29yaXRobXMgPyBudWxsIDogcGFyYW1ldGVycy5hbGdvcml0aG1zKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEFsZ29yaXRobXNSZXNwb25zZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0QWxnb3JpdGhtc1Jlc3BvbnNlLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0QWxnb3JpdGhtc1Jlc3BvbnNlO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEFsZ29yaXRobXNSZXNwb25zZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e2FsZ29yaXRobXM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BbGdvcml0aG19LCBrZXlzOltcImFsZ29yaXRobXNcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEFsZ29yaXRobXNSZXNwb25zZS5wcm90b3R5cGUsIHthbGdvcml0aG1zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImFsZ29yaXRobXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJhbGdvcml0aG1zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhbGdvcml0aG1zXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RBc3NldHNSZXNwb25zZVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9MaXN0QXNzZXRzUmVzcG9uc2VQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEFzc2V0c1Jlc3BvbnNlID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhc3NldHNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmFzc2V0cyA/IG51bGwgOiBwYXJhbWV0ZXJzLmFzc2V0cyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5leHRQYWdlVG9rZW5cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm5leHRQYWdlVG9rZW4gPyBudWxsIDogcGFyYW1ldGVycy5uZXh0UGFnZVRva2VuKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEFzc2V0c1Jlc3BvbnNlLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RBc3NldHNSZXNwb25zZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEFzc2V0c1Jlc3BvbnNlO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEFzc2V0c1Jlc3BvbnNlLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2FycmF5czp7YXNzZXRzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldH0sIGtleXM6W1wiYXNzZXRzXCIsIFwibmV4dFBhZ2VUb2tlblwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0QXNzZXRzUmVzcG9uc2UucHJvdG90eXBlLCB7YXNzZXRzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImFzc2V0c1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImFzc2V0c1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXNzZXRzXCIsIHZhbHVlKTtcbn19LCBuZXh0UGFnZVRva2VuOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm5leHRQYWdlVG9rZW5cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJuZXh0UGFnZVRva2VuXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuZXh0UGFnZVRva2VuXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RGZWF0dXJlc1Jlc3BvbnNlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0xpc3RGZWF0dXJlc1Jlc3BvbnNlUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RGZWF0dXJlc1Jlc3BvbnNlID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0eXBlXCIsIG51bGwgPT0gcGFyYW1ldGVycy50eXBlID8gbnVsbCA6IHBhcmFtZXRlcnMudHlwZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZlYXR1cmVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5mZWF0dXJlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLmZlYXR1cmVzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmV4dFBhZ2VUb2tlblwiLCBudWxsID09IHBhcmFtZXRlcnMubmV4dFBhZ2VUb2tlbiA/IG51bGwgOiBwYXJhbWV0ZXJzLm5leHRQYWdlVG9rZW4pO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0RmVhdHVyZXNSZXNwb25zZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0RmVhdHVyZXNSZXNwb25zZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEZlYXR1cmVzUmVzcG9uc2U7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0RmVhdHVyZXNSZXNwb25zZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e2ZlYXR1cmVzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRmVhdHVyZX0sIGtleXM6W1wiZmVhdHVyZXNcIiwgXCJuZXh0UGFnZVRva2VuXCIsIFwidHlwZVwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0RmVhdHVyZXNSZXNwb25zZS5wcm90b3R5cGUsIHtmZWF0dXJlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmZWF0dXJlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZlYXR1cmVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmZWF0dXJlc1wiLCB2YWx1ZSk7XG59fSwgbmV4dFBhZ2VUb2tlbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJuZXh0UGFnZVRva2VuXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibmV4dFBhZ2VUb2tlblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmV4dFBhZ2VUb2tlblwiLCB2YWx1ZSk7XG59fSwgdHlwZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0eXBlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidHlwZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidHlwZVwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0SW1hZ2VzUmVzcG9uc2VQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfTGlzdEltYWdlc1Jlc3BvbnNlUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RJbWFnZXNSZXNwb25zZSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaW1hZ2VzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5pbWFnZXMgPyBudWxsIDogcGFyYW1ldGVycy5pbWFnZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuZXh0UGFnZVRva2VuXCIsIG51bGwgPT0gcGFyYW1ldGVycy5uZXh0UGFnZVRva2VuID8gbnVsbCA6IHBhcmFtZXRlcnMubmV4dFBhZ2VUb2tlbik7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RJbWFnZXNSZXNwb25zZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0SW1hZ2VzUmVzcG9uc2UucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RJbWFnZXNSZXNwb25zZTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RJbWFnZXNSZXNwb25zZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e2ltYWdlczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlfSwga2V5czpbXCJpbWFnZXNcIiwgXCJuZXh0UGFnZVRva2VuXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RJbWFnZXNSZXNwb25zZS5wcm90b3R5cGUsIHtpbWFnZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiaW1hZ2VzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiaW1hZ2VzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJpbWFnZXNcIiwgdmFsdWUpO1xufX0sIG5leHRQYWdlVG9rZW46e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibmV4dFBhZ2VUb2tlblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm5leHRQYWdlVG9rZW5cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5leHRQYWdlVG9rZW5cIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdE9wZXJhdGlvbnNSZXNwb25zZVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9MaXN0T3BlcmF0aW9uc1Jlc3BvbnNlUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RPcGVyYXRpb25zUmVzcG9uc2UgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm9wZXJhdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm9wZXJhdGlvbnMgPyBudWxsIDogcGFyYW1ldGVycy5vcGVyYXRpb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmV4dFBhZ2VUb2tlblwiLCBudWxsID09IHBhcmFtZXRlcnMubmV4dFBhZ2VUb2tlbiA/IG51bGwgOiBwYXJhbWV0ZXJzLm5leHRQYWdlVG9rZW4pO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0T3BlcmF0aW9uc1Jlc3BvbnNlLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RPcGVyYXRpb25zUmVzcG9uc2UucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RPcGVyYXRpb25zUmVzcG9uc2U7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0T3BlcmF0aW9uc1Jlc3BvbnNlLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2FycmF5czp7b3BlcmF0aW9uczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbn0sIGtleXM6W1wibmV4dFBhZ2VUb2tlblwiLCBcIm9wZXJhdGlvbnNcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdE9wZXJhdGlvbnNSZXNwb25zZS5wcm90b3R5cGUsIHtuZXh0UGFnZVRva2VuOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm5leHRQYWdlVG9rZW5cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJuZXh0UGFnZVRva2VuXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuZXh0UGFnZVRva2VuXCIsIHZhbHVlKTtcbn19LCBvcGVyYXRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm9wZXJhdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJvcGVyYXRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJvcGVyYXRpb25zXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkxvZ0NvbmZpZ1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9Mb2dDb25maWdQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTG9nQ29uZmlnID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjb3VudGVyXCIsIG51bGwgPT0gcGFyYW1ldGVycy5jb3VudGVyID8gbnVsbCA6IHBhcmFtZXRlcnMuY291bnRlcik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRhdGFBY2Nlc3NcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRhdGFBY2Nlc3MgPyBudWxsIDogcGFyYW1ldGVycy5kYXRhQWNjZXNzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY2xvdWRBdWRpdFwiLCBudWxsID09IHBhcmFtZXRlcnMuY2xvdWRBdWRpdCA/IG51bGwgOiBwYXJhbWV0ZXJzLmNsb3VkQXVkaXQpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Mb2dDb25maWcsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTG9nQ29uZmlnLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Mb2dDb25maWc7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Mb2dDb25maWcucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJjbG91ZEF1ZGl0XCIsIFwiY291bnRlclwiLCBcImRhdGFBY2Nlc3NcIl0sIG9iamVjdHM6e2Nsb3VkQXVkaXQ6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZEF1ZGl0T3B0aW9ucywgY291bnRlcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkNvdW50ZXJPcHRpb25zLCBkYXRhQWNjZXNzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRGF0YUFjY2Vzc09wdGlvbnN9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkxvZ0NvbmZpZy5wcm90b3R5cGUsIHtjbG91ZEF1ZGl0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImNsb3VkQXVkaXRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJjbG91ZEF1ZGl0XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjbG91ZEF1ZGl0XCIsIHZhbHVlKTtcbn19LCBjb3VudGVyOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImNvdW50ZXJcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJjb3VudGVyXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjb3VudGVyXCIsIHZhbHVlKTtcbn19LCBkYXRhQWNjZXNzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRhdGFBY2Nlc3NcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkYXRhQWNjZXNzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkYXRhQWNjZXNzXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk1pc3NpbmdEYXRhUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X01pc3NpbmdEYXRhUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk1pc3NpbmdEYXRhID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ2YWx1ZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnZhbHVlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLnZhbHVlcyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk1pc3NpbmdEYXRhLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk1pc3NpbmdEYXRhLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5NaXNzaW5nRGF0YTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk1pc3NpbmdEYXRhLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1widmFsdWVzXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk1pc3NpbmdEYXRhLnByb3RvdHlwZSwge3ZhbHVlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ2YWx1ZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ2YWx1ZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZhbHVlc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Nb3ZlQXNzZXRSZXF1ZXN0UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X01vdmVBc3NldFJlcXVlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTW92ZUFzc2V0UmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzdGluYXRpb25OYW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kZXN0aW5hdGlvbk5hbWUgPyBudWxsIDogcGFyYW1ldGVycy5kZXN0aW5hdGlvbk5hbWUpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Nb3ZlQXNzZXRSZXF1ZXN0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk1vdmVBc3NldFJlcXVlc3QucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk1vdmVBc3NldFJlcXVlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Nb3ZlQXNzZXRSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiZGVzdGluYXRpb25OYW1lXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk1vdmVBc3NldFJlcXVlc3QucHJvdG90eXBlLCB7ZGVzdGluYXRpb25OYW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRlc3RpbmF0aW9uTmFtZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRlc3RpbmF0aW9uTmFtZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzdGluYXRpb25OYW1lXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvblBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9PcGVyYXRpb25QYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuYW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5uYW1lID8gbnVsbCA6IHBhcmFtZXRlcnMubmFtZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1ldGFkYXRhXCIsIG51bGwgPT0gcGFyYW1ldGVycy5tZXRhZGF0YSA/IG51bGwgOiBwYXJhbWV0ZXJzLm1ldGFkYXRhKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZG9uZVwiLCBudWxsID09IHBhcmFtZXRlcnMuZG9uZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmRvbmUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJlcnJvclwiLCBudWxsID09IHBhcmFtZXRlcnMuZXJyb3IgPyBudWxsIDogcGFyYW1ldGVycy5lcnJvcik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJlc3BvbnNlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5yZXNwb25zZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnJlc3BvbnNlKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbi5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiZG9uZVwiLCBcImVycm9yXCIsIFwibWV0YWRhdGFcIiwgXCJuYW1lXCIsIFwicmVzcG9uc2VcIl0sIG9iamVjdE1hcHM6e21ldGFkYXRhOntjdG9yOm51bGwsIGlzUHJvcGVydHlBcnJheTohMSwgaXNTZXJpYWxpemFibGU6ITEsIGlzVmFsdWVBcnJheTohMX0sIHJlc3BvbnNlOntjdG9yOm51bGwsIGlzUHJvcGVydHlBcnJheTohMSwgaXNTZXJpYWxpemFibGU6ITEsIGlzVmFsdWVBcnJheTohMX19LCBvYmplY3RzOntlcnJvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlN0YXR1c319O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uLnByb3RvdHlwZSwge2RvbmU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZG9uZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRvbmVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRvbmVcIiwgdmFsdWUpO1xufX0sIGVycm9yOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImVycm9yXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZXJyb3JcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImVycm9yXCIsIHZhbHVlKTtcbn19LCBtZXRhZGF0YTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtZXRhZGF0YVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1ldGFkYXRhXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtZXRhZGF0YVwiLCB2YWx1ZSk7XG59fSwgbmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJuYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibmFtZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCB2YWx1ZSk7XG59fSwgcmVzcG9uc2U6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicmVzcG9uc2VcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJyZXNwb25zZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmVzcG9uc2VcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uTWV0YWRhdGFQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfT3BlcmF0aW9uTWV0YWRhdGFQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uTWV0YWRhdGEgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN0YXRlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zdGF0ZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnN0YXRlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZGVzY3JpcHRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0eXBlXCIsIG51bGwgPT0gcGFyYW1ldGVycy50eXBlID8gbnVsbCA6IHBhcmFtZXRlcnMudHlwZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInByaW9yaXR5XCIsIG51bGwgPT0gcGFyYW1ldGVycy5wcmlvcml0eSA/IG51bGwgOiBwYXJhbWV0ZXJzLnByaW9yaXR5KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY3JlYXRlVGltZVwiLCBudWxsID09IHBhcmFtZXRlcnMuY3JlYXRlVGltZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmNyZWF0ZVRpbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ1cGRhdGVUaW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy51cGRhdGVUaW1lID8gbnVsbCA6IHBhcmFtZXRlcnMudXBkYXRlVGltZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN0YXJ0VGltZVwiLCBudWxsID09IHBhcmFtZXRlcnMuc3RhcnRUaW1lID8gbnVsbCA6IHBhcmFtZXRlcnMuc3RhcnRUaW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZW5kVGltZVwiLCBudWxsID09IHBhcmFtZXRlcnMuZW5kVGltZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmVuZFRpbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwcm9ncmVzc1wiLCBudWxsID09IHBhcmFtZXRlcnMucHJvZ3Jlc3MgPyBudWxsIDogcGFyYW1ldGVycy5wcm9ncmVzcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN0YWdlc1wiLCBudWxsID09IHBhcmFtZXRlcnMuc3RhZ2VzID8gbnVsbCA6IHBhcmFtZXRlcnMuc3RhZ2VzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXR0ZW1wdFwiLCBudWxsID09IHBhcmFtZXRlcnMuYXR0ZW1wdCA/IG51bGwgOiBwYXJhbWV0ZXJzLmF0dGVtcHQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzY3JpcHRVcmlcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnNjcmlwdFVyaSA/IG51bGwgOiBwYXJhbWV0ZXJzLnNjcmlwdFVyaSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc3RpbmF0aW9uVXJpc1wiLCBudWxsID09IHBhcmFtZXRlcnMuZGVzdGluYXRpb25VcmlzID8gbnVsbCA6IHBhcmFtZXRlcnMuZGVzdGluYXRpb25VcmlzKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uTWV0YWRhdGEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uTWV0YWRhdGEucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbk1ldGFkYXRhO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uTWV0YWRhdGEucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7YXJyYXlzOntzdGFnZXM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25TdGFnZX0sIGVudW1zOntzdGF0ZTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbk1ldGFkYXRhU3RhdGVFbnVtfSwga2V5czpcImF0dGVtcHQgY3JlYXRlVGltZSBkZXNjcmlwdGlvbiBkZXN0aW5hdGlvblVyaXMgZW5kVGltZSBwcmlvcml0eSBwcm9ncmVzcyBzY3JpcHRVcmkgc3RhZ2VzIHN0YXJ0VGltZSBzdGF0ZSB0eXBlIHVwZGF0ZVRpbWVcIi5zcGxpdChcIiBcIil9O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uTWV0YWRhdGEucHJvdG90eXBlLCB7YXR0ZW1wdDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJhdHRlbXB0XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYXR0ZW1wdFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXR0ZW1wdFwiLCB2YWx1ZSk7XG59fSwgY3JlYXRlVGltZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJjcmVhdGVUaW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY3JlYXRlVGltZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY3JlYXRlVGltZVwiLCB2YWx1ZSk7XG59fSwgZGVzY3JpcHRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGVzY3JpcHRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkZXNjcmlwdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgdmFsdWUpO1xufX0sIGRlc3RpbmF0aW9uVXJpczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkZXN0aW5hdGlvblVyaXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkZXN0aW5hdGlvblVyaXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlc3RpbmF0aW9uVXJpc1wiLCB2YWx1ZSk7XG59fSwgZW5kVGltZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJlbmRUaW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZW5kVGltZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZW5kVGltZVwiLCB2YWx1ZSk7XG59fSwgcHJpb3JpdHk6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicHJpb3JpdHlcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJwcmlvcml0eVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHJpb3JpdHlcIiwgdmFsdWUpO1xufX0sIHByb2dyZXNzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInByb2dyZXNzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicHJvZ3Jlc3NcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInByb2dyZXNzXCIsIHZhbHVlKTtcbn19LCBzY3JpcHRVcmk6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic2NyaXB0VXJpXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic2NyaXB0VXJpXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzY3JpcHRVcmlcIiwgdmFsdWUpO1xufX0sIHN0YWdlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzdGFnZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzdGFnZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN0YWdlc1wiLCB2YWx1ZSk7XG59fSwgc3RhcnRUaW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInN0YXJ0VGltZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInN0YXJ0VGltZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic3RhcnRUaW1lXCIsIHZhbHVlKTtcbn19LCBzdGF0ZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzdGF0ZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInN0YXRlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdGF0ZVwiLCB2YWx1ZSk7XG59fSwgdHlwZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0eXBlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidHlwZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidHlwZVwiLCB2YWx1ZSk7XG59fSwgdXBkYXRlVGltZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ1cGRhdGVUaW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidXBkYXRlVGltZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidXBkYXRlVGltZVwiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25NZXRhZGF0YSwge1N0YXRlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uTWV0YWRhdGFTdGF0ZUVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25TdGFnZVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9PcGVyYXRpb25TdGFnZVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25TdGFnZSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGlzcGxheU5hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRpc3BsYXlOYW1lID8gbnVsbCA6IHBhcmFtZXRlcnMuZGlzcGxheU5hbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjb21wbGV0ZVdvcmtVbml0c1wiLCBudWxsID09IHBhcmFtZXRlcnMuY29tcGxldGVXb3JrVW5pdHMgPyBudWxsIDogcGFyYW1ldGVycy5jb21wbGV0ZVdvcmtVbml0cyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRvdGFsV29ya1VuaXRzXCIsIG51bGwgPT0gcGFyYW1ldGVycy50b3RhbFdvcmtVbml0cyA/IG51bGwgOiBwYXJhbWV0ZXJzLnRvdGFsV29ya1VuaXRzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGVzY3JpcHRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRlc2NyaXB0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZGVzY3JpcHRpb24pO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25TdGFnZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25TdGFnZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9uU3RhZ2U7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25TdGFnZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImNvbXBsZXRlV29ya1VuaXRzXCIsIFwiZGVzY3JpcHRpb25cIiwgXCJkaXNwbGF5TmFtZVwiLCBcInRvdGFsV29ya1VuaXRzXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvblN0YWdlLnByb3RvdHlwZSwge2NvbXBsZXRlV29ya1VuaXRzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImNvbXBsZXRlV29ya1VuaXRzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY29tcGxldGVXb3JrVW5pdHNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNvbXBsZXRlV29ya1VuaXRzXCIsIHZhbHVlKTtcbn19LCBkZXNjcmlwdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkZXNjcmlwdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRlc2NyaXB0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXNjcmlwdGlvblwiLCB2YWx1ZSk7XG59fSwgZGlzcGxheU5hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGlzcGxheU5hbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkaXNwbGF5TmFtZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGlzcGxheU5hbWVcIiwgdmFsdWUpO1xufX0sIHRvdGFsV29ya1VuaXRzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRvdGFsV29ya1VuaXRzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidG90YWxXb3JrVW5pdHNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRvdGFsV29ya1VuaXRzXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsRGF0YVR5cGVQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUGl4ZWxEYXRhVHlwZVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbERhdGFUeXBlID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwcmVjaXNpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnByZWNpc2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLnByZWNpc2lvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJhbmdlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5yYW5nZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnJhbmdlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGltZW5zaW9uc0NvdW50XCIsIG51bGwgPT0gcGFyYW1ldGVycy5kaW1lbnNpb25zQ291bnQgPyBudWxsIDogcGFyYW1ldGVycy5kaW1lbnNpb25zQ291bnQpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbERhdGFUeXBlLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsRGF0YVR5cGUucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsRGF0YVR5cGU7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbERhdGFUeXBlLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2VudW1zOntwcmVjaXNpb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbERhdGFUeXBlUHJlY2lzaW9uRW51bX0sIGtleXM6W1wiZGltZW5zaW9uc0NvdW50XCIsIFwicHJlY2lzaW9uXCIsIFwicmFuZ2VcIl0sIG9iamVjdHM6e3JhbmdlOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG91YmxlUmFuZ2V9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsRGF0YVR5cGUucHJvdG90eXBlLCB7ZGltZW5zaW9uc0NvdW50Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRpbWVuc2lvbnNDb3VudFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRpbWVuc2lvbnNDb3VudFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGltZW5zaW9uc0NvdW50XCIsIHZhbHVlKTtcbn19LCBwcmVjaXNpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicHJlY2lzaW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicHJlY2lzaW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwcmVjaXNpb25cIiwgdmFsdWUpO1xufX0sIHJhbmdlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInJhbmdlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicmFuZ2VcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJhbmdlXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsRGF0YVR5cGUsIHtQcmVjaXNpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbERhdGFUeXBlUHJlY2lzaW9uRW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsRm9vdHByaW50UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BpeGVsRm9vdHByaW50UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsRm9vdHByaW50ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwb2ludHNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnBvaW50cyA/IG51bGwgOiBwYXJhbWV0ZXJzLnBvaW50cyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJhbmRJZFwiLCBudWxsID09IHBhcmFtZXRlcnMuYmFuZElkID8gbnVsbCA6IHBhcmFtZXRlcnMuYmFuZElkKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxGb290cHJpbnQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxGb290cHJpbnQucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsRm9vdHByaW50O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxGb290cHJpbnQucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7YXJyYXlzOntwb2ludHM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HcmlkUG9pbnR9LCBrZXlzOltcImJhbmRJZFwiLCBcInBvaW50c1wiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbEZvb3RwcmludC5wcm90b3R5cGUsIHtiYW5kSWQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYmFuZElkXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYmFuZElkXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJiYW5kSWRcIiwgdmFsdWUpO1xufX0sIHBvaW50czp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwb2ludHNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJwb2ludHNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBvaW50c1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbEdyaWRQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUGl4ZWxHcmlkUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsR3JpZCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY3JzQ29kZVwiLCBudWxsID09IHBhcmFtZXRlcnMuY3JzQ29kZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmNyc0NvZGUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjcnNXa3RcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNyc1drdCA/IG51bGwgOiBwYXJhbWV0ZXJzLmNyc1drdCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRpbWVuc2lvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRpbWVuc2lvbnMgPyBudWxsIDogcGFyYW1ldGVycy5kaW1lbnNpb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYWZmaW5lVHJhbnNmb3JtXCIsIG51bGwgPT0gcGFyYW1ldGVycy5hZmZpbmVUcmFuc2Zvcm0gPyBudWxsIDogcGFyYW1ldGVycy5hZmZpbmVUcmFuc2Zvcm0pO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbEdyaWQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxHcmlkLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbEdyaWQ7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5QaXhlbEdyaWQucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJhZmZpbmVUcmFuc2Zvcm1cIiwgXCJjcnNDb2RlXCIsIFwiY3JzV2t0XCIsIFwiZGltZW5zaW9uc1wiXSwgb2JqZWN0czp7YWZmaW5lVHJhbnNmb3JtOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQWZmaW5lVHJhbnNmb3JtLCBkaW1lbnNpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR3JpZERpbWVuc2lvbnN9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsR3JpZC5wcm90b3R5cGUsIHthZmZpbmVUcmFuc2Zvcm06e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYWZmaW5lVHJhbnNmb3JtXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYWZmaW5lVHJhbnNmb3JtXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhZmZpbmVUcmFuc2Zvcm1cIiwgdmFsdWUpO1xufX0sIGNyc0NvZGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiY3JzQ29kZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImNyc0NvZGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNyc0NvZGVcIiwgdmFsdWUpO1xufX0sIGNyc1drdDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJjcnNXa3RcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJjcnNXa3RcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNyc1drdFwiLCB2YWx1ZSk7XG59fSwgZGltZW5zaW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkaW1lbnNpb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGltZW5zaW9uc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGltZW5zaW9uc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qb2xpY3lQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUG9saWN5UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBvbGljeSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmVyc2lvblwiLCBudWxsID09IHBhcmFtZXRlcnMudmVyc2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLnZlcnNpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJiaW5kaW5nc1wiLCBudWxsID09IHBhcmFtZXRlcnMuYmluZGluZ3MgPyBudWxsIDogcGFyYW1ldGVycy5iaW5kaW5ncyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImF1ZGl0Q29uZmlnc1wiLCBudWxsID09IHBhcmFtZXRlcnMuYXVkaXRDb25maWdzID8gbnVsbCA6IHBhcmFtZXRlcnMuYXVkaXRDb25maWdzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicnVsZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnJ1bGVzID8gbnVsbCA6IHBhcmFtZXRlcnMucnVsZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJldGFnXCIsIG51bGwgPT0gcGFyYW1ldGVycy5ldGFnID8gbnVsbCA6IHBhcmFtZXRlcnMuZXRhZyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBvbGljeSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qb2xpY3kucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBvbGljeTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBvbGljeS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHthcnJheXM6e2F1ZGl0Q29uZmlnczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkF1ZGl0Q29uZmlnLCBiaW5kaW5nczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkJpbmRpbmcsIHJ1bGVzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUnVsZX0sIGtleXM6W1wiYXVkaXRDb25maWdzXCIsIFwiYmluZGluZ3NcIiwgXCJldGFnXCIsIFwicnVsZXNcIiwgXCJ2ZXJzaW9uXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBvbGljeS5wcm90b3R5cGUsIHthdWRpdENvbmZpZ3M6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYXVkaXRDb25maWdzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYXVkaXRDb25maWdzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhdWRpdENvbmZpZ3NcIiwgdmFsdWUpO1xufX0sIGJpbmRpbmdzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImJpbmRpbmdzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYmluZGluZ3NcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJpbmRpbmdzXCIsIHZhbHVlKTtcbn19LCBldGFnOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImV0YWdcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJldGFnXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJldGFnXCIsIHZhbHVlKTtcbn19LCBydWxlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJydWxlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInJ1bGVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJydWxlc1wiLCB2YWx1ZSk7XG59fSwgdmVyc2lvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ2ZXJzaW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidmVyc2lvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmVyc2lvblwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlBdHRyaWJ1dGVSdWxlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1JhbmtCeUF0dHJpYnV0ZVJ1bGVQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5QXR0cmlidXRlUnVsZSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXR0cmlidXRlTmFtZVwiLCBudWxsID09IHBhcmFtZXRlcnMuYXR0cmlidXRlTmFtZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmF0dHJpYnV0ZU5hbWUpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlBdHRyaWJ1dGVSdWxlLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeUF0dHJpYnV0ZVJ1bGUucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeUF0dHJpYnV0ZVJ1bGU7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlBdHRyaWJ1dGVSdWxlLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiYXR0cmlidXRlTmFtZVwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlBdHRyaWJ1dGVSdWxlLnByb3RvdHlwZSwge2F0dHJpYnV0ZU5hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYXR0cmlidXRlTmFtZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImF0dHJpYnV0ZU5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImF0dHJpYnV0ZU5hbWVcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5R2VvbWV0cnlUeXBlUnVsZVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9SYW5rQnlHZW9tZXRyeVR5cGVSdWxlUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeUdlb21ldHJ5VHlwZVJ1bGUgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeUdlb21ldHJ5VHlwZVJ1bGUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5R2VvbWV0cnlUeXBlUnVsZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5R2VvbWV0cnlUeXBlUnVsZTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeUdlb21ldHJ5VHlwZVJ1bGUucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXX07XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlNaW5WaXNpYmxlTG9kUnVsZVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9SYW5rQnlNaW5WaXNpYmxlTG9kUnVsZVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlNaW5WaXNpYmxlTG9kUnVsZSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5TWluVmlzaWJsZUxvZFJ1bGUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5TWluVmlzaWJsZUxvZFJ1bGUucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeU1pblZpc2libGVMb2RSdWxlO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5TWluVmlzaWJsZUxvZFJ1bGUucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXX07XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlOYXR1cmFsT3JkZXJQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUmFua0J5TmF0dXJhbE9yZGVyUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeU5hdHVyYWxPcmRlciA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5TmF0dXJhbE9yZGVyLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeU5hdHVyYWxPcmRlci5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5TmF0dXJhbE9yZGVyO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5TmF0dXJhbE9yZGVyLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W119O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5T25lVGhpbmdSdWxlUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1JhbmtCeU9uZVRoaW5nUnVsZVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlPbmVUaGluZ1J1bGUgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJhbmtCeUF0dHJpYnV0ZVJ1bGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnJhbmtCeUF0dHJpYnV0ZVJ1bGUgPyBudWxsIDogcGFyYW1ldGVycy5yYW5rQnlBdHRyaWJ1dGVSdWxlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmFua0J5TWluVmlzaWJsZUxvZFJ1bGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnJhbmtCeU1pblZpc2libGVMb2RSdWxlID8gbnVsbCA6IHBhcmFtZXRlcnMucmFua0J5TWluVmlzaWJsZUxvZFJ1bGUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyYW5rQnlHZW9tZXRyeVR5cGVSdWxlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5yYW5rQnlHZW9tZXRyeVR5cGVSdWxlID8gbnVsbCA6IHBhcmFtZXRlcnMucmFua0J5R2VvbWV0cnlUeXBlUnVsZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJhbmtCeU5hdHVyYWxPcmRlclJ1bGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnJhbmtCeU5hdHVyYWxPcmRlclJ1bGUgPyBudWxsIDogcGFyYW1ldGVycy5yYW5rQnlOYXR1cmFsT3JkZXJSdWxlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGlyZWN0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kaXJlY3Rpb24gPyBudWxsIDogcGFyYW1ldGVycy5kaXJlY3Rpb24pO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlPbmVUaGluZ1J1bGUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5T25lVGhpbmdSdWxlLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlPbmVUaGluZ1J1bGU7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlPbmVUaGluZ1J1bGUucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7ZW51bXM6e2RpcmVjdGlvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeU9uZVRoaW5nUnVsZURpcmVjdGlvbkVudW19LCBrZXlzOltcImRpcmVjdGlvblwiLCBcInJhbmtCeUF0dHJpYnV0ZVJ1bGVcIiwgXCJyYW5rQnlHZW9tZXRyeVR5cGVSdWxlXCIsIFwicmFua0J5TWluVmlzaWJsZUxvZFJ1bGVcIiwgXCJyYW5rQnlOYXR1cmFsT3JkZXJSdWxlXCJdLCBvYmplY3RzOntyYW5rQnlBdHRyaWJ1dGVSdWxlOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5QXR0cmlidXRlUnVsZSwgcmFua0J5R2VvbWV0cnlUeXBlUnVsZTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeUdlb21ldHJ5VHlwZVJ1bGUsIFxuICByYW5rQnlNaW5WaXNpYmxlTG9kUnVsZTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeU1pblZpc2libGVMb2RSdWxlLCByYW5rQnlOYXR1cmFsT3JkZXJSdWxlOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5TmF0dXJhbE9yZGVyfX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlPbmVUaGluZ1J1bGUucHJvdG90eXBlLCB7ZGlyZWN0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRpcmVjdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRpcmVjdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGlyZWN0aW9uXCIsIHZhbHVlKTtcbn19LCByYW5rQnlBdHRyaWJ1dGVSdWxlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInJhbmtCeUF0dHJpYnV0ZVJ1bGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJyYW5rQnlBdHRyaWJ1dGVSdWxlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyYW5rQnlBdHRyaWJ1dGVSdWxlXCIsIHZhbHVlKTtcbn19LCByYW5rQnlHZW9tZXRyeVR5cGVSdWxlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInJhbmtCeUdlb21ldHJ5VHlwZVJ1bGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJyYW5rQnlHZW9tZXRyeVR5cGVSdWxlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyYW5rQnlHZW9tZXRyeVR5cGVSdWxlXCIsIHZhbHVlKTtcbn19LCByYW5rQnlNaW5WaXNpYmxlTG9kUnVsZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyYW5rQnlNaW5WaXNpYmxlTG9kUnVsZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInJhbmtCeU1pblZpc2libGVMb2RSdWxlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJyYW5rQnlNaW5WaXNpYmxlTG9kUnVsZVwiLCB2YWx1ZSk7XG59fSwgcmFua0J5TmF0dXJhbE9yZGVyUnVsZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJyYW5rQnlOYXR1cmFsT3JkZXJSdWxlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicmFua0J5TmF0dXJhbE9yZGVyUnVsZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmFua0J5TmF0dXJhbE9yZGVyUnVsZVwiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlPbmVUaGluZ1J1bGUsIHtEaXJlY3Rpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5rQnlPbmVUaGluZ1J1bGVEaXJlY3Rpb25FbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua2luZ09wdGlvbnNQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUmFua2luZ09wdGlvbnNQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua2luZ09wdGlvbnMgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInpPcmRlclJhbmtpbmdSdWxlXCIsIG51bGwgPT0gcGFyYW1ldGVycy56T3JkZXJSYW5raW5nUnVsZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnpPcmRlclJhbmtpbmdSdWxlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGhpbm5pbmdSYW5raW5nUnVsZVwiLCBudWxsID09IHBhcmFtZXRlcnMudGhpbm5pbmdSYW5raW5nUnVsZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnRoaW5uaW5nUmFua2luZ1J1bGUpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5raW5nT3B0aW9ucywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5raW5nT3B0aW9ucy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua2luZ09wdGlvbnM7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5raW5nT3B0aW9ucy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcInRoaW5uaW5nUmFua2luZ1J1bGVcIiwgXCJ6T3JkZXJSYW5raW5nUnVsZVwiXSwgb2JqZWN0czp7dGhpbm5pbmdSYW5raW5nUnVsZTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtpbmdSdWxlLCB6T3JkZXJSYW5raW5nUnVsZTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtpbmdSdWxlfX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5raW5nT3B0aW9ucy5wcm90b3R5cGUsIHt0aGlubmluZ1JhbmtpbmdSdWxlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRoaW5uaW5nUmFua2luZ1J1bGVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0aGlubmluZ1JhbmtpbmdSdWxlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aGlubmluZ1JhbmtpbmdSdWxlXCIsIHZhbHVlKTtcbn19LCB6T3JkZXJSYW5raW5nUnVsZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ6T3JkZXJSYW5raW5nUnVsZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInpPcmRlclJhbmtpbmdSdWxlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ6T3JkZXJSYW5raW5nUnVsZVwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5raW5nUnVsZVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9SYW5raW5nUnVsZVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5raW5nUnVsZSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmFua0J5T25lVGhpbmdSdWxlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5yYW5rQnlPbmVUaGluZ1J1bGUgPyBudWxsIDogcGFyYW1ldGVycy5yYW5rQnlPbmVUaGluZ1J1bGUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwc2V1ZG9SYW5kb21UaWVicmVha2luZ1wiLCBudWxsID09IHBhcmFtZXRlcnMucHNldWRvUmFuZG9tVGllYnJlYWtpbmcgPyBudWxsIDogcGFyYW1ldGVycy5wc2V1ZG9SYW5kb21UaWVicmVha2luZyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtpbmdSdWxlLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtpbmdSdWxlLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5raW5nUnVsZTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtpbmdSdWxlLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2FycmF5czp7cmFua0J5T25lVGhpbmdSdWxlOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5T25lVGhpbmdSdWxlfSwga2V5czpbXCJwc2V1ZG9SYW5kb21UaWVicmVha2luZ1wiLCBcInJhbmtCeU9uZVRoaW5nUnVsZVwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5raW5nUnVsZS5wcm90b3R5cGUsIHtwc2V1ZG9SYW5kb21UaWVicmVha2luZzp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwc2V1ZG9SYW5kb21UaWVicmVha2luZ1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInBzZXVkb1JhbmRvbVRpZWJyZWFraW5nXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwc2V1ZG9SYW5kb21UaWVicmVha2luZ1wiLCB2YWx1ZSk7XG59fSwgcmFua0J5T25lVGhpbmdSdWxlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInJhbmtCeU9uZVRoaW5nUnVsZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInJhbmtCeU9uZVRoaW5nUnVsZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmFua0J5T25lVGhpbmdSdWxlXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJ1bGVQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUnVsZVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SdWxlID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXNjcmlwdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZGVzY3JpcHRpb24gPyBudWxsIDogcGFyYW1ldGVycy5kZXNjcmlwdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBlcm1pc3Npb25zXCIsIG51bGwgPT0gcGFyYW1ldGVycy5wZXJtaXNzaW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLnBlcm1pc3Npb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYWN0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5hY3Rpb24gPyBudWxsIDogcGFyYW1ldGVycy5hY3Rpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJpblwiLCBudWxsID09IHBhcmFtZXRlcnMuaW4gPyBudWxsIDogcGFyYW1ldGVycy5pbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5vdEluXCIsIG51bGwgPT0gcGFyYW1ldGVycy5ub3RJbiA/IG51bGwgOiBwYXJhbWV0ZXJzLm5vdEluKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY29uZGl0aW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMuY29uZGl0aW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLmNvbmRpdGlvbnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJsb2dDb25maWdcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmxvZ0NvbmZpZyA/IG51bGwgOiBwYXJhbWV0ZXJzLmxvZ0NvbmZpZyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJ1bGUsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUnVsZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUnVsZTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJ1bGUucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7YXJyYXlzOntjb25kaXRpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29uZGl0aW9uLCBsb2dDb25maWc6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Mb2dDb25maWd9LCBlbnVtczp7YWN0aW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUnVsZUFjdGlvbkVudW19LCBrZXlzOlwiYWN0aW9uIGNvbmRpdGlvbnMgZGVzY3JpcHRpb24gaW4gbG9nQ29uZmlnIG5vdEluIHBlcm1pc3Npb25zXCIuc3BsaXQoXCIgXCIpfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJ1bGUucHJvdG90eXBlLCB7YWN0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImFjdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImFjdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYWN0aW9uXCIsIHZhbHVlKTtcbn19LCBjb25kaXRpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImNvbmRpdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJjb25kaXRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjb25kaXRpb25zXCIsIHZhbHVlKTtcbn19LCBkZXNjcmlwdGlvbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkZXNjcmlwdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRlc2NyaXB0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXNjcmlwdGlvblwiLCB2YWx1ZSk7XG59fSwgaW46e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiaW5cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJpblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaW5cIiwgdmFsdWUpO1xufX0sIGxvZ0NvbmZpZzp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJsb2dDb25maWdcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJsb2dDb25maWdcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImxvZ0NvbmZpZ1wiLCB2YWx1ZSk7XG59fSwgbm90SW46e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibm90SW5cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJub3RJblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibm90SW5cIiwgdmFsdWUpO1xufX0sIHBlcm1pc3Npb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInBlcm1pc3Npb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicGVybWlzc2lvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBlcm1pc3Npb25zXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJ1bGUsIHtBY3Rpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SdWxlQWN0aW9uRW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlNldElhbVBvbGljeVJlcXVlc3RQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfU2V0SWFtUG9saWN5UmVxdWVzdFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TZXRJYW1Qb2xpY3lSZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwb2xpY3lcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnBvbGljeSA/IG51bGwgOiBwYXJhbWV0ZXJzLnBvbGljeSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInVwZGF0ZU1hc2tcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnVwZGF0ZU1hc2sgPyBudWxsIDogcGFyYW1ldGVycy51cGRhdGVNYXNrKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU2V0SWFtUG9saWN5UmVxdWVzdCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TZXRJYW1Qb2xpY3lSZXF1ZXN0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TZXRJYW1Qb2xpY3lSZXF1ZXN0O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU2V0SWFtUG9saWN5UmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcInBvbGljeVwiLCBcInVwZGF0ZU1hc2tcIl0sIG9iamVjdHM6e3BvbGljeTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBvbGljeX19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU2V0SWFtUG9saWN5UmVxdWVzdC5wcm90b3R5cGUsIHtwb2xpY3k6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwicG9saWN5XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicG9saWN5XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwb2xpY3lcIiwgdmFsdWUpO1xufX0sIHVwZGF0ZU1hc2s6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidXBkYXRlTWFza1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInVwZGF0ZU1hc2tcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInVwZGF0ZU1hc2tcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU3RhdHVzUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1N0YXR1c1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TdGF0dXMgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNvZGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNvZGUgPyBudWxsIDogcGFyYW1ldGVycy5jb2RlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWVzc2FnZVwiLCBudWxsID09IHBhcmFtZXRlcnMubWVzc2FnZSA/IG51bGwgOiBwYXJhbWV0ZXJzLm1lc3NhZ2UpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZXRhaWxzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kZXRhaWxzID8gbnVsbCA6IHBhcmFtZXRlcnMuZGV0YWlscyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlN0YXR1cywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TdGF0dXMucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlN0YXR1cztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlN0YXR1cy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImNvZGVcIiwgXCJkZXRhaWxzXCIsIFwibWVzc2FnZVwiXSwgb2JqZWN0TWFwczp7ZGV0YWlsczp7Y3RvcjpudWxsLCBpc1Byb3BlcnR5QXJyYXk6ITAsIGlzU2VyaWFsaXphYmxlOiExLCBpc1ZhbHVlQXJyYXk6ITF9fX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5TdGF0dXMucHJvdG90eXBlLCB7Y29kZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJjb2RlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY29kZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY29kZVwiLCB2YWx1ZSk7XG59fSwgZGV0YWlsczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkZXRhaWxzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGV0YWlsc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGV0YWlsc1wiLCB2YWx1ZSk7XG59fSwgbWVzc2FnZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtZXNzYWdlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWVzc2FnZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWVzc2FnZVwiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9UYWJsZVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCBudWxsID09IHBhcmFtZXRlcnMubmFtZSA/IG51bGwgOiBwYXJhbWV0ZXJzLm5hbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5leHByZXNzaW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZXhwcmVzc2lvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVGb3JtYXRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZpbGVGb3JtYXQgPyBudWxsIDogcGFyYW1ldGVycy5maWxlRm9ybWF0KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2VsZWN0b3JzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zZWxlY3RvcnMgPyBudWxsIDogcGFyYW1ldGVycy5zZWxlY3RvcnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlbmFtZVwiLCBudWxsID09IHBhcmFtZXRlcnMuZmlsZW5hbWUgPyBudWxsIDogcGFyYW1ldGVycy5maWxlbmFtZSk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlLnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2VudW1zOntmaWxlRm9ybWF0Om1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRm9ybWF0RW51bX0sIGtleXM6W1wiZXhwcmVzc2lvblwiLCBcImZpbGVGb3JtYXRcIiwgXCJmaWxlbmFtZVwiLCBcIm5hbWVcIiwgXCJzZWxlY3RvcnNcIl0sIG9iamVjdHM6e2V4cHJlc3Npb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHByZXNzaW9ufX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZS5wcm90b3R5cGUsIHtleHByZXNzaW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImV4cHJlc3Npb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJleHByZXNzaW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJleHByZXNzaW9uXCIsIHZhbHVlKTtcbn19LCBmaWxlRm9ybWF0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImZpbGVGb3JtYXRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJmaWxlRm9ybWF0XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlRm9ybWF0XCIsIHZhbHVlKTtcbn19LCBmaWxlbmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmaWxlbmFtZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZpbGVuYW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlbmFtZVwiLCB2YWx1ZSk7XG59fSwgbmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJuYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibmFtZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCB2YWx1ZSk7XG59fSwgc2VsZWN0b3JzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInNlbGVjdG9yc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInNlbGVjdG9yc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2VsZWN0b3JzXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlLCB7RmlsZUZvcm1hdDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUZvcm1hdEVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUFzc2V0RXhwb3J0T3B0aW9uc1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9UYWJsZUFzc2V0RXhwb3J0T3B0aW9uc1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUFzc2V0RXhwb3J0T3B0aW9ucyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZWFydGhFbmdpbmVEZXN0aW5hdGlvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZWFydGhFbmdpbmVEZXN0aW5hdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmVhcnRoRW5naW5lRGVzdGluYXRpb24pO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUFzc2V0RXhwb3J0T3B0aW9ucywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUFzc2V0RXhwb3J0T3B0aW9ucy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVBc3NldEV4cG9ydE9wdGlvbnM7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUFzc2V0RXhwb3J0T3B0aW9ucy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImVhcnRoRW5naW5lRGVzdGluYXRpb25cIl0sIG9iamVjdHM6e2VhcnRoRW5naW5lRGVzdGluYXRpb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZURlc3RpbmF0aW9ufX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUFzc2V0RXhwb3J0T3B0aW9ucy5wcm90b3R5cGUsIHtlYXJ0aEVuZ2luZURlc3RpbmF0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImVhcnRoRW5naW5lRGVzdGluYXRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJlYXJ0aEVuZ2luZURlc3RpbmF0aW9uXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJlYXJ0aEVuZ2luZURlc3RpbmF0aW9uXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUV4cG9ydE9wdGlvbnNQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfVGFibGVGaWxlRXhwb3J0T3B0aW9uc1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUZpbGVFeHBvcnRPcHRpb25zID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkcml2ZURlc3RpbmF0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kcml2ZURlc3RpbmF0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZHJpdmVEZXN0aW5hdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNsb3VkU3RvcmFnZURlc3RpbmF0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5jbG91ZFN0b3JhZ2VEZXN0aW5hdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmNsb3VkU3RvcmFnZURlc3RpbmF0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ2NzRGVzdGluYXRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmdjc0Rlc3RpbmF0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZ2NzRGVzdGluYXRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlRm9ybWF0XCIsIG51bGwgPT0gcGFyYW1ldGVycy5maWxlRm9ybWF0ID8gbnVsbCA6IHBhcmFtZXRlcnMuZmlsZUZvcm1hdCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUV4cG9ydE9wdGlvbnMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRXhwb3J0T3B0aW9ucy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRXhwb3J0T3B0aW9ucztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUV4cG9ydE9wdGlvbnMucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7ZW51bXM6e2ZpbGVGb3JtYXQ6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZUZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW19LCBrZXlzOltcImNsb3VkU3RvcmFnZURlc3RpbmF0aW9uXCIsIFwiZHJpdmVEZXN0aW5hdGlvblwiLCBcImZpbGVGb3JtYXRcIiwgXCJnY3NEZXN0aW5hdGlvblwiXSwgb2JqZWN0czp7Y2xvdWRTdG9yYWdlRGVzdGluYXRpb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VEZXN0aW5hdGlvbiwgZHJpdmVEZXN0aW5hdGlvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRyaXZlRGVzdGluYXRpb24sIGdjc0Rlc3RpbmF0aW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzRGVzdGluYXRpb259fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUV4cG9ydE9wdGlvbnMucHJvdG90eXBlLCB7Y2xvdWRTdG9yYWdlRGVzdGluYXRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiY2xvdWRTdG9yYWdlRGVzdGluYXRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJjbG91ZFN0b3JhZ2VEZXN0aW5hdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY2xvdWRTdG9yYWdlRGVzdGluYXRpb25cIiwgdmFsdWUpO1xufX0sIGRyaXZlRGVzdGluYXRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZHJpdmVEZXN0aW5hdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRyaXZlRGVzdGluYXRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRyaXZlRGVzdGluYXRpb25cIiwgdmFsdWUpO1xufX0sIGZpbGVGb3JtYXQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZmlsZUZvcm1hdFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZpbGVGb3JtYXRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVGb3JtYXRcIiwgdmFsdWUpO1xufX0sIGdjc0Rlc3RpbmF0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImdjc0Rlc3RpbmF0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZ2NzRGVzdGluYXRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdjc0Rlc3RpbmF0aW9uXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlRmlsZUV4cG9ydE9wdGlvbnMsIHtGaWxlRm9ybWF0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVNYW5pZmVzdFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9UYWJsZU1hbmlmZXN0UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlTWFuaWZlc3QgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm5hbWUgPyBudWxsIDogcGFyYW1ldGVycy5uYW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHJvcGVydGllc1wiLCBudWxsID09IHBhcmFtZXRlcnMucHJvcGVydGllcyA/IG51bGwgOiBwYXJhbWV0ZXJzLnByb3BlcnRpZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ1cmlQcmVmaXhcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnVyaVByZWZpeCA/IG51bGwgOiBwYXJhbWV0ZXJzLnVyaVByZWZpeCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNvdXJjZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnNvdXJjZXMgPyBudWxsIDogcGFyYW1ldGVycy5zb3VyY2VzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic3RhcnRUaW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zdGFydFRpbWUgPyBudWxsIDogcGFyYW1ldGVycy5zdGFydFRpbWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJlbmRUaW1lXCIsIG51bGwgPT0gcGFyYW1ldGVycy5lbmRUaW1lID8gbnVsbCA6IHBhcmFtZXRlcnMuZW5kVGltZSk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlTWFuaWZlc3QsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVNYW5pZmVzdC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVNYW5pZmVzdDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlTWFuaWZlc3QucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7YXJyYXlzOntzb3VyY2VzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVTb3VyY2V9LCBrZXlzOlwiZW5kVGltZSBuYW1lIHByb3BlcnRpZXMgc291cmNlcyBzdGFydFRpbWUgdXJpUHJlZml4XCIuc3BsaXQoXCIgXCIpLCBvYmplY3RNYXBzOntwcm9wZXJ0aWVzOntjdG9yOm51bGwsIGlzUHJvcGVydHlBcnJheTohMSwgaXNTZXJpYWxpemFibGU6ITEsIGlzVmFsdWVBcnJheTohMX19fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlTWFuaWZlc3QucHJvdG90eXBlLCB7ZW5kVGltZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJlbmRUaW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZW5kVGltZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZW5kVGltZVwiLCB2YWx1ZSk7XG59fSwgbmFtZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJuYW1lXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibmFtZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibmFtZVwiLCB2YWx1ZSk7XG59fSwgcHJvcGVydGllczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwcm9wZXJ0aWVzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicHJvcGVydGllc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHJvcGVydGllc1wiLCB2YWx1ZSk7XG59fSwgc291cmNlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzb3VyY2VzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic291cmNlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic291cmNlc1wiLCB2YWx1ZSk7XG59fSwgc3RhcnRUaW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInN0YXJ0VGltZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInN0YXJ0VGltZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic3RhcnRUaW1lXCIsIHZhbHVlKTtcbn19LCB1cmlQcmVmaXg6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidXJpUHJlZml4XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidXJpUHJlZml4XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ1cmlQcmVmaXhcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVTb3VyY2VQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfVGFibGVTb3VyY2VQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVTb3VyY2UgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInVyaXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnVyaXMgPyBudWxsIDogcGFyYW1ldGVycy51cmlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY2hhcnNldFwiLCBudWxsID09IHBhcmFtZXRlcnMuY2hhcnNldCA/IG51bGwgOiBwYXJhbWV0ZXJzLmNoYXJzZXQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhFcnJvck1ldGVyc1wiLCBudWxsID09IHBhcmFtZXRlcnMubWF4RXJyb3JNZXRlcnMgPyBudWxsIDogcGFyYW1ldGVycy5tYXhFcnJvck1ldGVycyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heFZlcnRpY2VzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXhWZXJ0aWNlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLm1heFZlcnRpY2VzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY3JzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5jcnMgPyBudWxsIDogcGFyYW1ldGVycy5jcnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJnZW9kZXNpY1wiLCBudWxsID09IHBhcmFtZXRlcnMuZ2VvZGVzaWMgPyBudWxsIDogcGFyYW1ldGVycy5nZW9kZXNpYyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInByaW1hcnlHZW9tZXRyeUNvbHVtblwiLCBudWxsID09IHBhcmFtZXRlcnMucHJpbWFyeUdlb21ldHJ5Q29sdW1uID8gbnVsbCA6IHBhcmFtZXRlcnMucHJpbWFyeUdlb21ldHJ5Q29sdW1uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwieENvbHVtblwiLCBudWxsID09IHBhcmFtZXRlcnMueENvbHVtbiA/IG51bGwgOiBwYXJhbWV0ZXJzLnhDb2x1bW4pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ5Q29sdW1uXCIsIG51bGwgPT0gcGFyYW1ldGVycy55Q29sdW1uID8gbnVsbCA6IHBhcmFtZXRlcnMueUNvbHVtbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRhdGVGb3JtYXRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRhdGVGb3JtYXQgPyBudWxsIDogcGFyYW1ldGVycy5kYXRlRm9ybWF0KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY3N2RGVsaW1pdGVyXCIsIG51bGwgPT0gcGFyYW1ldGVycy5jc3ZEZWxpbWl0ZXIgPyBudWxsIDogcGFyYW1ldGVycy5jc3ZEZWxpbWl0ZXIpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjc3ZRdWFsaWZpZXJcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNzdlF1YWxpZmllciA/IG51bGwgOiBwYXJhbWV0ZXJzLmNzdlF1YWxpZmllcik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNzdkNvbHVtbkRhdGFUeXBlT3ZlcnJpZGVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5jc3ZDb2x1bW5EYXRhVHlwZU92ZXJyaWRlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLmNzdkNvbHVtbkRhdGFUeXBlT3ZlcnJpZGVzKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVTb3VyY2UsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVTb3VyY2UucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlU291cmNlO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVTb3VyY2UucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7ZW51bXM6e2NzdkNvbHVtbkRhdGFUeXBlT3ZlcnJpZGVzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVTb3VyY2VDc3ZDb2x1bW5EYXRhVHlwZU92ZXJyaWRlc0VudW19LCBrZXlzOlwiY2hhcnNldCBjcnMgY3N2Q29sdW1uRGF0YVR5cGVPdmVycmlkZXMgY3N2RGVsaW1pdGVyIGNzdlF1YWxpZmllciBkYXRlRm9ybWF0IGdlb2Rlc2ljIG1heEVycm9yTWV0ZXJzIG1heFZlcnRpY2VzIHByaW1hcnlHZW9tZXRyeUNvbHVtbiB1cmlzIHhDb2x1bW4geUNvbHVtblwiLnNwbGl0KFwiIFwiKSwgb2JqZWN0TWFwczp7Y3N2Q29sdW1uRGF0YVR5cGVPdmVycmlkZXM6e2N0b3I6bnVsbCwgaXNQcm9wZXJ0eUFycmF5OiExLCBpc1NlcmlhbGl6YWJsZTohMSwgaXNWYWx1ZUFycmF5OiExfX19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVTb3VyY2UucHJvdG90eXBlLCB7Y2hhcnNldDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJjaGFyc2V0XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY2hhcnNldFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY2hhcnNldFwiLCB2YWx1ZSk7XG59fSwgY3JzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImNyc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImNyc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY3JzXCIsIHZhbHVlKTtcbn19LCBjc3ZDb2x1bW5EYXRhVHlwZU92ZXJyaWRlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJjc3ZDb2x1bW5EYXRhVHlwZU92ZXJyaWRlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImNzdkNvbHVtbkRhdGFUeXBlT3ZlcnJpZGVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjc3ZDb2x1bW5EYXRhVHlwZU92ZXJyaWRlc1wiLCB2YWx1ZSk7XG59fSwgY3N2RGVsaW1pdGVyOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImNzdkRlbGltaXRlclwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImNzdkRlbGltaXRlclwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY3N2RGVsaW1pdGVyXCIsIHZhbHVlKTtcbn19LCBjc3ZRdWFsaWZpZXI6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiY3N2UXVhbGlmaWVyXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY3N2UXVhbGlmaWVyXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjc3ZRdWFsaWZpZXJcIiwgdmFsdWUpO1xufX0sIGRhdGVGb3JtYXQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGF0ZUZvcm1hdFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRhdGVGb3JtYXRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRhdGVGb3JtYXRcIiwgdmFsdWUpO1xufX0sIGdlb2Rlc2ljOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImdlb2Rlc2ljXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZ2VvZGVzaWNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdlb2Rlc2ljXCIsIHZhbHVlKTtcbn19LCBtYXhFcnJvck1ldGVyczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtYXhFcnJvck1ldGVyc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1heEVycm9yTWV0ZXJzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhFcnJvck1ldGVyc1wiLCB2YWx1ZSk7XG59fSwgbWF4VmVydGljZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWF4VmVydGljZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtYXhWZXJ0aWNlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4VmVydGljZXNcIiwgdmFsdWUpO1xufX0sIHByaW1hcnlHZW9tZXRyeUNvbHVtbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwcmltYXJ5R2VvbWV0cnlDb2x1bW5cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJwcmltYXJ5R2VvbWV0cnlDb2x1bW5cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInByaW1hcnlHZW9tZXRyeUNvbHVtblwiLCB2YWx1ZSk7XG59fSwgdXJpczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ1cmlzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidXJpc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidXJpc1wiLCB2YWx1ZSk7XG59fSwgeENvbHVtbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ4Q29sdW1uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwieENvbHVtblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwieENvbHVtblwiLCB2YWx1ZSk7XG59fSwgeUNvbHVtbjp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ5Q29sdW1uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwieUNvbHVtblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwieUNvbHVtblwiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZVNvdXJjZSwge0NzdkNvbHVtbkRhdGFUeXBlT3ZlcnJpZGVzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVTb3VyY2VDc3ZDb2x1bW5EYXRhVHlwZU92ZXJyaWRlc0VudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZXN0SWFtUGVybWlzc2lvbnNSZXF1ZXN0UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1Rlc3RJYW1QZXJtaXNzaW9uc1JlcXVlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGVzdElhbVBlcm1pc3Npb25zUmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicGVybWlzc2lvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnBlcm1pc3Npb25zID8gbnVsbCA6IHBhcmFtZXRlcnMucGVybWlzc2lvbnMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZXN0SWFtUGVybWlzc2lvbnNSZXF1ZXN0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRlc3RJYW1QZXJtaXNzaW9uc1JlcXVlc3QucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRlc3RJYW1QZXJtaXNzaW9uc1JlcXVlc3Q7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZXN0SWFtUGVybWlzc2lvbnNSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wicGVybWlzc2lvbnNcIl19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGVzdElhbVBlcm1pc3Npb25zUmVxdWVzdC5wcm90b3R5cGUsIHtwZXJtaXNzaW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwZXJtaXNzaW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInBlcm1pc3Npb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwZXJtaXNzaW9uc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZXN0SWFtUGVybWlzc2lvbnNSZXNwb25zZVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9UZXN0SWFtUGVybWlzc2lvbnNSZXNwb25zZVBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZXN0SWFtUGVybWlzc2lvbnNSZXNwb25zZSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicGVybWlzc2lvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnBlcm1pc3Npb25zID8gbnVsbCA6IHBhcmFtZXRlcnMucGVybWlzc2lvbnMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZXN0SWFtUGVybWlzc2lvbnNSZXNwb25zZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZXN0SWFtUGVybWlzc2lvbnNSZXNwb25zZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGVzdElhbVBlcm1pc3Npb25zUmVzcG9uc2U7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZXN0SWFtUGVybWlzc2lvbnNSZXNwb25zZS5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcInBlcm1pc3Npb25zXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRlc3RJYW1QZXJtaXNzaW9uc1Jlc3BvbnNlLnByb3RvdHlwZSwge3Blcm1pc3Npb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInBlcm1pc3Npb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicGVybWlzc2lvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBlcm1pc3Npb25zXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRmUmVjb3JkSW1hZ2VFeHBvcnRPcHRpb25zUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1RmUmVjb3JkSW1hZ2VFeHBvcnRPcHRpb25zUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRmUmVjb3JkSW1hZ2VFeHBvcnRPcHRpb25zID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlRGltZW5zaW9uc1wiLCBudWxsID09IHBhcmFtZXRlcnMudGlsZURpbWVuc2lvbnMgPyBudWxsIDogcGFyYW1ldGVycy50aWxlRGltZW5zaW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1hcmdpbkRpbWVuc2lvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1hcmdpbkRpbWVuc2lvbnMgPyBudWxsIDogcGFyYW1ldGVycy5tYXJnaW5EaW1lbnNpb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY29tcHJlc3NcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNvbXByZXNzID8gbnVsbCA6IHBhcmFtZXRlcnMuY29tcHJlc3MpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhTaXplQnl0ZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heFNpemVCeXRlcyA/IG51bGwgOiBwYXJhbWV0ZXJzLm1heFNpemVCeXRlcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRlZmF1bHRWYWx1ZVwiLCBudWxsID09IHBhcmFtZXRlcnMuZGVmYXVsdFZhbHVlID8gbnVsbCA6IHBhcmFtZXRlcnMuZGVmYXVsdFZhbHVlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGVuc29yRGVwdGhzXCIsIG51bGwgPT0gcGFyYW1ldGVycy50ZW5zb3JEZXB0aHMgPyBudWxsIDogcGFyYW1ldGVycy50ZW5zb3JEZXB0aHMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzZXF1ZW5jZURhdGFcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnNlcXVlbmNlRGF0YSA/IG51bGwgOiBwYXJhbWV0ZXJzLnNlcXVlbmNlRGF0YSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNvbGxhcHNlQmFuZHNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNvbGxhcHNlQmFuZHMgPyBudWxsIDogcGFyYW1ldGVycy5jb2xsYXBzZUJhbmRzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4TWFza2VkUmF0aW9cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heE1hc2tlZFJhdGlvID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4TWFza2VkUmF0aW8pO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZlJlY29yZEltYWdlRXhwb3J0T3B0aW9ucywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZlJlY29yZEltYWdlRXhwb3J0T3B0aW9ucy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGZSZWNvcmRJbWFnZUV4cG9ydE9wdGlvbnM7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZlJlY29yZEltYWdlRXhwb3J0T3B0aW9ucy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOlwiY29sbGFwc2VCYW5kcyBjb21wcmVzcyBkZWZhdWx0VmFsdWUgbWFyZ2luRGltZW5zaW9ucyBtYXhNYXNrZWRSYXRpbyBtYXhTaXplQnl0ZXMgc2VxdWVuY2VEYXRhIHRlbnNvckRlcHRocyB0aWxlRGltZW5zaW9uc1wiLnNwbGl0KFwiIFwiKSwgb2JqZWN0TWFwczp7dGVuc29yRGVwdGhzOntjdG9yOm51bGwsIGlzUHJvcGVydHlBcnJheTohMSwgaXNTZXJpYWxpemFibGU6ITEsIGlzVmFsdWVBcnJheTohMX19LCBvYmplY3RzOnttYXJnaW5EaW1lbnNpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR3JpZERpbWVuc2lvbnMsIHRpbGVEaW1lbnNpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR3JpZERpbWVuc2lvbnN9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRmUmVjb3JkSW1hZ2VFeHBvcnRPcHRpb25zLnByb3RvdHlwZSwge2NvbGxhcHNlQmFuZHM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiY29sbGFwc2VCYW5kc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImNvbGxhcHNlQmFuZHNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNvbGxhcHNlQmFuZHNcIiwgdmFsdWUpO1xufX0sIGNvbXByZXNzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImNvbXByZXNzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY29tcHJlc3NcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNvbXByZXNzXCIsIHZhbHVlKTtcbn19LCBkZWZhdWx0VmFsdWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZGVmYXVsdFZhbHVlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGVmYXVsdFZhbHVlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkZWZhdWx0VmFsdWVcIiwgdmFsdWUpO1xufX0sIG1hcmdpbkRpbWVuc2lvbnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWFyZ2luRGltZW5zaW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1hcmdpbkRpbWVuc2lvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1hcmdpbkRpbWVuc2lvbnNcIiwgdmFsdWUpO1xufX0sIG1heE1hc2tlZFJhdGlvOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heE1hc2tlZFJhdGlvXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4TWFza2VkUmF0aW9cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heE1hc2tlZFJhdGlvXCIsIHZhbHVlKTtcbn19LCBtYXhTaXplQnl0ZXM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWF4U2l6ZUJ5dGVzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4U2l6ZUJ5dGVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhTaXplQnl0ZXNcIiwgdmFsdWUpO1xufX0sIHNlcXVlbmNlRGF0YTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzZXF1ZW5jZURhdGFcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzZXF1ZW5jZURhdGFcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNlcXVlbmNlRGF0YVwiLCB2YWx1ZSk7XG59fSwgdGVuc29yRGVwdGhzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRlbnNvckRlcHRoc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRlbnNvckRlcHRoc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGVuc29yRGVwdGhzXCIsIHZhbHVlKTtcbn19LCB0aWxlRGltZW5zaW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ0aWxlRGltZW5zaW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRpbGVEaW1lbnNpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlRGltZW5zaW9uc1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaGlubmluZ09wdGlvbnNQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfVGhpbm5pbmdPcHRpb25zUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRoaW5uaW5nT3B0aW9ucyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4RmVhdHVyZXNQZXJUaWxlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXhGZWF0dXJlc1BlclRpbGUgPyBudWxsIDogcGFyYW1ldGVycy5tYXhGZWF0dXJlc1BlclRpbGUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aGlubmluZ1N0cmF0ZWd5XCIsIG51bGwgPT0gcGFyYW1ldGVycy50aGlubmluZ1N0cmF0ZWd5ID8gbnVsbCA6IHBhcmFtZXRlcnMudGhpbm5pbmdTdHJhdGVneSk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRoaW5uaW5nT3B0aW9ucywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaGlubmluZ09wdGlvbnMucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRoaW5uaW5nT3B0aW9ucztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRoaW5uaW5nT3B0aW9ucy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7dGhpbm5pbmdTdHJhdGVneTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRoaW5uaW5nT3B0aW9uc1RoaW5uaW5nU3RyYXRlZ3lFbnVtfSwga2V5czpbXCJtYXhGZWF0dXJlc1BlclRpbGVcIiwgXCJ0aGlubmluZ1N0cmF0ZWd5XCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRoaW5uaW5nT3B0aW9ucy5wcm90b3R5cGUsIHttYXhGZWF0dXJlc1BlclRpbGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWF4RmVhdHVyZXNQZXJUaWxlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWF4RmVhdHVyZXNQZXJUaWxlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhGZWF0dXJlc1BlclRpbGVcIiwgdmFsdWUpO1xufX0sIHRoaW5uaW5nU3RyYXRlZ3k6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidGhpbm5pbmdTdHJhdGVneVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRoaW5uaW5nU3RyYXRlZ3lcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRoaW5uaW5nU3RyYXRlZ3lcIiwgdmFsdWUpO1xufX19KTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGhpbm5pbmdPcHRpb25zLCB7VGhpbm5pbmdTdHJhdGVneTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRoaW5uaW5nT3B0aW9uc1RoaW5uaW5nU3RyYXRlZ3lFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1RodW1ibmFpbFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaHVtYm5haWwgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm5hbWUgPyBudWxsIDogcGFyYW1ldGVycy5uYW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZXhwcmVzc2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmV4cHJlc3Npb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlRm9ybWF0XCIsIG51bGwgPT0gcGFyYW1ldGVycy5maWxlRm9ybWF0ID8gbnVsbCA6IHBhcmFtZXRlcnMuZmlsZUZvcm1hdCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJhbmRJZHNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmJhbmRJZHMgPyBudWxsIDogcGFyYW1ldGVycy5iYW5kSWRzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidmlzdWFsaXphdGlvbk9wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnZpc3VhbGl6YXRpb25PcHRpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMudmlzdWFsaXphdGlvbk9wdGlvbnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJncmlkXCIsIG51bGwgPT0gcGFyYW1ldGVycy5ncmlkID8gbnVsbCA6IHBhcmFtZXRlcnMuZ3JpZCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVuYW1lUHJlZml4XCIsIG51bGwgPT0gcGFyYW1ldGVycy5maWxlbmFtZVByZWZpeCA/IG51bGwgOiBwYXJhbWV0ZXJzLmZpbGVuYW1lUHJlZml4KTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRodW1ibmFpbC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2VudW1zOntmaWxlRm9ybWF0Om1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsRmlsZUZvcm1hdEVudW19LCBrZXlzOlwiYmFuZElkcyBleHByZXNzaW9uIGZpbGVGb3JtYXQgZmlsZW5hbWVQcmVmaXggZ3JpZCBuYW1lIHZpc3VhbGl6YXRpb25PcHRpb25zXCIuc3BsaXQoXCIgXCIpLCBvYmplY3RzOntleHByZXNzaW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcmVzc2lvbiwgZ3JpZDptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBpeGVsR3JpZCwgdmlzdWFsaXphdGlvbk9wdGlvbnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaXN1YWxpemF0aW9uT3B0aW9uc319O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsLnByb3RvdHlwZSwge2JhbmRJZHM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYmFuZElkc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImJhbmRJZHNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJhbmRJZHNcIiwgdmFsdWUpO1xufX0sIGV4cHJlc3Npb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZXhwcmVzc2lvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImV4cHJlc3Npb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4cHJlc3Npb25cIiwgdmFsdWUpO1xufX0sIGZpbGVGb3JtYXQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZmlsZUZvcm1hdFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZpbGVGb3JtYXRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVGb3JtYXRcIiwgdmFsdWUpO1xufX0sIGZpbGVuYW1lUHJlZml4Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImZpbGVuYW1lUHJlZml4XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZmlsZW5hbWVQcmVmaXhcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVuYW1lUHJlZml4XCIsIHZhbHVlKTtcbn19LCBncmlkOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImdyaWRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJncmlkXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJncmlkXCIsIHZhbHVlKTtcbn19LCBuYW1lOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm5hbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJuYW1lXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJuYW1lXCIsIHZhbHVlKTtcbn19LCB2aXN1YWxpemF0aW9uT3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ2aXN1YWxpemF0aW9uT3B0aW9uc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInZpc3VhbGl6YXRpb25PcHRpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ2aXN1YWxpemF0aW9uT3B0aW9uc1wiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaHVtYm5haWwsIHtGaWxlRm9ybWF0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsRmlsZUZvcm1hdEVudW07XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlT3B0aW9uc1BhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9UaWxlT3B0aW9uc1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlT3B0aW9ucyA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZW5kWm9vbVwiLCBudWxsID09IHBhcmFtZXRlcnMuZW5kWm9vbSA/IG51bGwgOiBwYXJhbWV0ZXJzLmVuZFpvb20pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhab29tXCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXhab29tID8gbnVsbCA6IHBhcmFtZXRlcnMubWF4Wm9vbSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNjYWxlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zY2FsZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnNjYWxlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic3RhcnRab29tXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zdGFydFpvb20gPyBudWxsIDogcGFyYW1ldGVycy5zdGFydFpvb20pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtaW5ab29tXCIsIG51bGwgPT0gcGFyYW1ldGVycy5taW5ab29tID8gbnVsbCA6IHBhcmFtZXRlcnMubWluWm9vbSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNraXBFbXB0eVwiLCBudWxsID09IHBhcmFtZXRlcnMuc2tpcEVtcHR5ID8gbnVsbCA6IHBhcmFtZXRlcnMuc2tpcEVtcHR5KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2tpcEVtcHR5VGlsZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnNraXBFbXB0eVRpbGVzID8gbnVsbCA6IHBhcmFtZXRlcnMuc2tpcEVtcHR5VGlsZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXBzQXBpS2V5XCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXBzQXBpS2V5ID8gbnVsbCA6IHBhcmFtZXRlcnMubWFwc0FwaUtleSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRpbWVuc2lvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRpbWVuc2lvbnMgPyBudWxsIDogcGFyYW1ldGVycy5kaW1lbnNpb25zKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZURpbWVuc2lvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnRpbGVEaW1lbnNpb25zID8gbnVsbCA6IHBhcmFtZXRlcnMudGlsZURpbWVuc2lvbnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdHJpZGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnN0cmlkZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnN0cmlkZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInpvb21TdWJzZXRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnpvb21TdWJzZXQgPyBudWxsIDogcGFyYW1ldGVycy56b29tU3Vic2V0KTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZU9wdGlvbnMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZU9wdGlvbnMucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVPcHRpb25zO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZU9wdGlvbnMucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpcImRpbWVuc2lvbnMgZW5kWm9vbSBtYXBzQXBpS2V5IG1heFpvb20gbWluWm9vbSBzY2FsZSBza2lwRW1wdHkgc2tpcEVtcHR5VGlsZXMgc3RhcnRab29tIHN0cmlkZSB0aWxlRGltZW5zaW9ucyB6b29tU3Vic2V0XCIuc3BsaXQoXCIgXCIpLCBvYmplY3RzOntkaW1lbnNpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR3JpZERpbWVuc2lvbnMsIHRpbGVEaW1lbnNpb25zOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR3JpZERpbWVuc2lvbnMsIHpvb21TdWJzZXQ6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5ab29tU3Vic2V0fX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlT3B0aW9ucy5wcm90b3R5cGUsIHtkaW1lbnNpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRpbWVuc2lvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkaW1lbnNpb25zXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkaW1lbnNpb25zXCIsIHZhbHVlKTtcbn19LCBlbmRab29tOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImVuZFpvb21cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJlbmRab29tXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJlbmRab29tXCIsIHZhbHVlKTtcbn19LCBtYXBzQXBpS2V5Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1hcHNBcGlLZXlcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtYXBzQXBpS2V5XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXBzQXBpS2V5XCIsIHZhbHVlKTtcbn19LCBtYXhab29tOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heFpvb21cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtYXhab29tXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhab29tXCIsIHZhbHVlKTtcbn19LCBtaW5ab29tOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1pblpvb21cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtaW5ab29tXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtaW5ab29tXCIsIHZhbHVlKTtcbn19LCBzY2FsZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzY2FsZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInNjYWxlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzY2FsZVwiLCB2YWx1ZSk7XG59fSwgc2tpcEVtcHR5Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInNraXBFbXB0eVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInNraXBFbXB0eVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic2tpcEVtcHR5XCIsIHZhbHVlKTtcbn19LCBza2lwRW1wdHlUaWxlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJza2lwRW1wdHlUaWxlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInNraXBFbXB0eVRpbGVzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJza2lwRW1wdHlUaWxlc1wiLCB2YWx1ZSk7XG59fSwgc3RhcnRab29tOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInN0YXJ0Wm9vbVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInN0YXJ0Wm9vbVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic3RhcnRab29tXCIsIHZhbHVlKTtcbn19LCBzdHJpZGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwic3RyaWRlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic3RyaWRlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdHJpZGVcIiwgdmFsdWUpO1xufX0sIHRpbGVEaW1lbnNpb25zOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRpbGVEaW1lbnNpb25zXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidGlsZURpbWVuc2lvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInRpbGVEaW1lbnNpb25zXCIsIHZhbHVlKTtcbn19LCB6b29tU3Vic2V0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInpvb21TdWJzZXRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ6b29tU3Vic2V0XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ6b29tU3Vic2V0XCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfVGlsZXNldFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJpZFwiLCBudWxsID09IHBhcmFtZXRlcnMuaWQgPyBudWxsIDogcGFyYW1ldGVycy5pZCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInNvdXJjZXNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnNvdXJjZXMgPyBudWxsIDogcGFyYW1ldGVycy5zb3VyY2VzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZGF0YVR5cGVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRhdGFUeXBlID8gbnVsbCA6IHBhcmFtZXRlcnMuZGF0YVR5cGUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjcnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmNycyA/IG51bGwgOiBwYXJhbWV0ZXJzLmNycyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN1YmRhdGFzZXRQcmVmaXhcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnN1YmRhdGFzZXRQcmVmaXggPyBudWxsIDogcGFyYW1ldGVycy5zdWJkYXRhc2V0UHJlZml4KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic3ViZGF0YXNldFN1ZmZpeFwiLCBudWxsID09IHBhcmFtZXRlcnMuc3ViZGF0YXNldFN1ZmZpeCA/IG51bGwgOiBwYXJhbWV0ZXJzLnN1YmRhdGFzZXRTdWZmaXgpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXQucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXQ7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2FycmF5czp7c291cmNlczptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlU291cmNlfSwgZW51bXM6e2RhdGFUeXBlOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldERhdGFUeXBlRW51bX0sIGtleXM6XCJjcnMgZGF0YVR5cGUgaWQgc291cmNlcyBzdWJkYXRhc2V0UHJlZml4IHN1YmRhdGFzZXRTdWZmaXhcIi5zcGxpdChcIiBcIil9O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldC5wcm90b3R5cGUsIHtjcnM6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiY3JzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiY3JzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJjcnNcIiwgdmFsdWUpO1xufX0sIGRhdGFUeXBlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImRhdGFUeXBlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZGF0YVR5cGVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRhdGFUeXBlXCIsIHZhbHVlKTtcbn19LCBpZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJpZFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImlkXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJpZFwiLCB2YWx1ZSk7XG59fSwgc291cmNlczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzb3VyY2VzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic291cmNlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic291cmNlc1wiLCB2YWx1ZSk7XG59fSwgc3ViZGF0YXNldFByZWZpeDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzdWJkYXRhc2V0UHJlZml4XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic3ViZGF0YXNldFByZWZpeFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic3ViZGF0YXNldFByZWZpeFwiLCB2YWx1ZSk7XG59fSwgc3ViZGF0YXNldFN1ZmZpeDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJzdWJkYXRhc2V0U3VmZml4XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic3ViZGF0YXNldFN1ZmZpeFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwic3ViZGF0YXNldFN1ZmZpeFwiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0LCB7RGF0YVR5cGU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0RGF0YVR5cGVFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldEJhbmRQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfVGlsZXNldEJhbmRQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldEJhbmQgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImlkXCIsIG51bGwgPT0gcGFyYW1ldGVycy5pZCA/IG51bGwgOiBwYXJhbWV0ZXJzLmlkKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZXNldElkXCIsIG51bGwgPT0gcGFyYW1ldGVycy50aWxlc2V0SWQgPyBudWxsIDogcGFyYW1ldGVycy50aWxlc2V0SWQpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlc2V0QmFuZEluZGV4XCIsIG51bGwgPT0gcGFyYW1ldGVycy50aWxlc2V0QmFuZEluZGV4ID8gbnVsbCA6IHBhcmFtZXRlcnMudGlsZXNldEJhbmRJbmRleCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1pc3NpbmdEYXRhXCIsIG51bGwgPT0gcGFyYW1ldGVycy5taXNzaW5nRGF0YSA/IG51bGwgOiBwYXJhbWV0ZXJzLm1pc3NpbmdEYXRhKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicHlyYW1pZGluZ1BvbGljeVwiLCBudWxsID09IHBhcmFtZXRlcnMucHlyYW1pZGluZ1BvbGljeSA/IG51bGwgOiBwYXJhbWV0ZXJzLnB5cmFtaWRpbmdQb2xpY3kpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0QmFuZCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0QmFuZC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldEJhbmQ7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0QmFuZC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7cHlyYW1pZGluZ1BvbGljeTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRCYW5kUHlyYW1pZGluZ1BvbGljeUVudW19LCBrZXlzOltcImlkXCIsIFwibWlzc2luZ0RhdGFcIiwgXCJweXJhbWlkaW5nUG9saWN5XCIsIFwidGlsZXNldEJhbmRJbmRleFwiLCBcInRpbGVzZXRJZFwiXSwgb2JqZWN0czp7bWlzc2luZ0RhdGE6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5NaXNzaW5nRGF0YX19O1xufTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldEJhbmQucHJvdG90eXBlLCB7aWQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiaWRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJpZFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaWRcIiwgdmFsdWUpO1xufX0sIG1pc3NpbmdEYXRhOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1pc3NpbmdEYXRhXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWlzc2luZ0RhdGFcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1pc3NpbmdEYXRhXCIsIHZhbHVlKTtcbn19LCBweXJhbWlkaW5nUG9saWN5Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInB5cmFtaWRpbmdQb2xpY3lcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJweXJhbWlkaW5nUG9saWN5XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJweXJhbWlkaW5nUG9saWN5XCIsIHZhbHVlKTtcbn19LCB0aWxlc2V0QmFuZEluZGV4Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRpbGVzZXRCYW5kSW5kZXhcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0aWxlc2V0QmFuZEluZGV4XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlc2V0QmFuZEluZGV4XCIsIHZhbHVlKTtcbn19LCB0aWxlc2V0SWQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwidGlsZXNldElkXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidGlsZXNldElkXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlc2V0SWRcIiwgdmFsdWUpO1xufX19KTtcbiRqc2NvbXAuZ2xvYmFsLk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldEJhbmQsIHtQeXJhbWlkaW5nUG9saWN5Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldEJhbmRQeXJhbWlkaW5nUG9saWN5RW51bTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRNYXNrQmFuZFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9UaWxlc2V0TWFza0JhbmRQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldE1hc2tCYW5kID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aWxlc2V0SWRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnRpbGVzZXRJZCA/IG51bGwgOiBwYXJhbWV0ZXJzLnRpbGVzZXRJZCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJhbmRJZHNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmJhbmRJZHMgPyBudWxsIDogcGFyYW1ldGVycy5iYW5kSWRzKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldE1hc2tCYW5kLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRNYXNrQmFuZC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldE1hc2tCYW5kO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldE1hc2tCYW5kLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiYmFuZElkc1wiLCBcInRpbGVzZXRJZFwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc2V0TWFza0JhbmQucHJvdG90eXBlLCB7YmFuZElkczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJiYW5kSWRzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiYmFuZElkc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYmFuZElkc1wiLCB2YWx1ZSk7XG59fSwgdGlsZXNldElkOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRpbGVzZXRJZFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRpbGVzZXRJZFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZXNldElkXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZUVudHJ5UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1RpbGVzdG9yZUVudHJ5UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZUVudHJ5ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzb3VyY2VzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zb3VyY2VzID8gbnVsbCA6IHBhcmFtZXRlcnMuc291cmNlcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBhdGhQcmVmaXhcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnBhdGhQcmVmaXggPyBudWxsIDogcGFyYW1ldGVycy5wYXRoUHJlZml4KTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXN0b3JlRW50cnksIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXN0b3JlRW50cnkucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZUVudHJ5O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXN0b3JlRW50cnkucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7YXJyYXlzOntzb3VyY2VzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXN0b3JlU291cmNlfSwga2V5czpbXCJwYXRoUHJlZml4XCIsIFwic291cmNlc1wiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVFbnRyeS5wcm90b3R5cGUsIHtwYXRoUHJlZml4Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInBhdGhQcmVmaXhcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJwYXRoUHJlZml4XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwYXRoUHJlZml4XCIsIHZhbHVlKTtcbn19LCBzb3VyY2VzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInNvdXJjZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzb3VyY2VzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzb3VyY2VzXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZUxvY2F0aW9uUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1RpbGVzdG9yZUxvY2F0aW9uUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZUxvY2F0aW9uID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzb3VyY2VzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5zb3VyY2VzID8gbnVsbCA6IHBhcmFtZXRlcnMuc291cmNlcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInBhdGhQcmVmaXhcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnBhdGhQcmVmaXggPyBudWxsIDogcGFyYW1ldGVycy5wYXRoUHJlZml4KTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXN0b3JlTG9jYXRpb24sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXN0b3JlTG9jYXRpb24ucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZUxvY2F0aW9uO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXN0b3JlTG9jYXRpb24ucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7YXJyYXlzOntzb3VyY2VzOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXN0b3JlU291cmNlfSwga2V5czpbXCJwYXRoUHJlZml4XCIsIFwic291cmNlc1wiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVMb2NhdGlvbi5wcm90b3R5cGUsIHtwYXRoUHJlZml4Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInBhdGhQcmVmaXhcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJwYXRoUHJlZml4XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwYXRoUHJlZml4XCIsIHZhbHVlKTtcbn19LCBzb3VyY2VzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInNvdXJjZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJzb3VyY2VzXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzb3VyY2VzXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZVNvdXJjZVBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9UaWxlc3RvcmVTb3VyY2VQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXN0b3JlU291cmNlID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwYXRoU3VmZml4XCIsIG51bGwgPT0gcGFyYW1ldGVycy5wYXRoU3VmZml4ID8gbnVsbCA6IHBhcmFtZXRlcnMucGF0aFN1ZmZpeCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImhlYWRlclNpemVCeXRlc1wiLCBudWxsID09IHBhcmFtZXRlcnMuaGVhZGVyU2l6ZUJ5dGVzID8gbnVsbCA6IHBhcmFtZXRlcnMuaGVhZGVyU2l6ZUJ5dGVzKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXN0b3JlU291cmNlLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZVNvdXJjZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXN0b3JlU291cmNlO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXN0b3JlU291cmNlLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiaGVhZGVyU2l6ZUJ5dGVzXCIsIFwicGF0aFN1ZmZpeFwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVTb3VyY2UucHJvdG90eXBlLCB7aGVhZGVyU2l6ZUJ5dGVzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImhlYWRlclNpemVCeXRlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImhlYWRlclNpemVCeXRlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiaGVhZGVyU2l6ZUJ5dGVzXCIsIHZhbHVlKTtcbn19LCBwYXRoU3VmZml4Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInBhdGhTdWZmaXhcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJwYXRoU3VmZml4XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJwYXRoU3VmZml4XCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZVRpbGVzZXRQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfVGlsZXN0b3JlVGlsZXNldFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVUaWxlc2V0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlSW5kZXhlc1wiLCBudWxsID09IHBhcmFtZXRlcnMuZmlsZUluZGV4ZXMgPyBudWxsIDogcGFyYW1ldGVycy5maWxlSW5kZXhlcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpcnN0VGlsZUluZGV4XCIsIG51bGwgPT0gcGFyYW1ldGVycy5maXJzdFRpbGVJbmRleCA/IG51bGwgOiBwYXJhbWV0ZXJzLmZpcnN0VGlsZUluZGV4KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZXNQZXJGaWxlXCIsIG51bGwgPT0gcGFyYW1ldGVycy50aWxlc1BlckZpbGUgPyBudWxsIDogcGFyYW1ldGVycy50aWxlc1BlckZpbGUpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVUaWxlc2V0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZVRpbGVzZXQucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzdG9yZVRpbGVzZXQ7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVUaWxlc2V0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiZmlsZUluZGV4ZXNcIiwgXCJmaXJzdFRpbGVJbmRleFwiLCBcInRpbGVzUGVyRmlsZVwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlc3RvcmVUaWxlc2V0LnByb3RvdHlwZSwge2ZpbGVJbmRleGVzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImZpbGVJbmRleGVzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZmlsZUluZGV4ZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVJbmRleGVzXCIsIHZhbHVlKTtcbn19LCBmaXJzdFRpbGVJbmRleDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJmaXJzdFRpbGVJbmRleFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZpcnN0VGlsZUluZGV4XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaXJzdFRpbGVJbmRleFwiLCB2YWx1ZSk7XG59fSwgdGlsZXNQZXJGaWxlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRpbGVzUGVyRmlsZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInRpbGVzUGVyRmlsZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidGlsZXNQZXJGaWxlXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlVwZGF0ZUFzc2V0UmVxdWVzdFBhcmFtZXRlcnMgPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9VcGRhdGVBc3NldFJlcXVlc3RQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVXBkYXRlQXNzZXRSZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhc3NldFwiLCBudWxsID09IHBhcmFtZXRlcnMuYXNzZXQgPyBudWxsIDogcGFyYW1ldGVycy5hc3NldCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInVwZGF0ZU1hc2tcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnVwZGF0ZU1hc2sgPyBudWxsIDogcGFyYW1ldGVycy51cGRhdGVNYXNrKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVXBkYXRlQXNzZXRSZXF1ZXN0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlVwZGF0ZUFzc2V0UmVxdWVzdC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVXBkYXRlQXNzZXRSZXF1ZXN0O1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVXBkYXRlQXNzZXRSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1wiYXNzZXRcIiwgXCJ1cGRhdGVNYXNrXCJdLCBvYmplY3RzOnthc3NldDptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXR9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlVwZGF0ZUFzc2V0UmVxdWVzdC5wcm90b3R5cGUsIHthc3NldDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJhc3NldFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImFzc2V0XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhc3NldFwiLCB2YWx1ZSk7XG59fSwgdXBkYXRlTWFzazp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ1cGRhdGVNYXNrXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidXBkYXRlTWFza1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwidXBkYXRlTWFza1wiLCB2YWx1ZSk7XG59fX0pO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WYWx1ZU5vZGVQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfVmFsdWVOb2RlUGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZhbHVlTm9kZSA9IGZ1bmN0aW9uKHBhcmFtZXRlcnMpIHtcbiAgcGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFyYW1ldGVycyA/IHt9IDogcGFyYW1ldGVycztcbiAgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY29uc3RhbnRWYWx1ZVwiLCBudWxsID09IHBhcmFtZXRlcnMuY29uc3RhbnRWYWx1ZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmNvbnN0YW50VmFsdWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJpbnRlZ2VyVmFsdWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmludGVnZXJWYWx1ZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmludGVnZXJWYWx1ZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJ5dGVzVmFsdWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmJ5dGVzVmFsdWUgPyBudWxsIDogcGFyYW1ldGVycy5ieXRlc1ZhbHVlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXJyYXlWYWx1ZVwiLCBudWxsID09IHBhcmFtZXRlcnMuYXJyYXlWYWx1ZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmFycmF5VmFsdWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkaWN0aW9uYXJ5VmFsdWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmRpY3Rpb25hcnlWYWx1ZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmRpY3Rpb25hcnlWYWx1ZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZ1bmN0aW9uRGVmaW5pdGlvblZhbHVlXCIsIG51bGwgPT0gcGFyYW1ldGVycy5mdW5jdGlvbkRlZmluaXRpb25WYWx1ZSA/IG51bGwgOiBwYXJhbWV0ZXJzLmZ1bmN0aW9uRGVmaW5pdGlvblZhbHVlKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZnVuY3Rpb25JbnZvY2F0aW9uVmFsdWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZ1bmN0aW9uSW52b2NhdGlvblZhbHVlID8gbnVsbCA6IHBhcmFtZXRlcnMuZnVuY3Rpb25JbnZvY2F0aW9uVmFsdWUpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJhcmd1bWVudFJlZmVyZW5jZVwiLCBudWxsID09IHBhcmFtZXRlcnMuYXJndW1lbnRSZWZlcmVuY2UgPyBudWxsIDogcGFyYW1ldGVycy5hcmd1bWVudFJlZmVyZW5jZSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZhbHVlUmVmZXJlbmNlXCIsIG51bGwgPT0gcGFyYW1ldGVycy52YWx1ZVJlZmVyZW5jZSA/IG51bGwgOiBwYXJhbWV0ZXJzLnZhbHVlUmVmZXJlbmNlKTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmFsdWVOb2RlLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZhbHVlTm9kZS5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmFsdWVOb2RlO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmFsdWVOb2RlLnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6XCJhcmd1bWVudFJlZmVyZW5jZSBhcnJheVZhbHVlIGJ5dGVzVmFsdWUgY29uc3RhbnRWYWx1ZSBkaWN0aW9uYXJ5VmFsdWUgZnVuY3Rpb25EZWZpbml0aW9uVmFsdWUgZnVuY3Rpb25JbnZvY2F0aW9uVmFsdWUgaW50ZWdlclZhbHVlIHZhbHVlUmVmZXJlbmNlXCIuc3BsaXQoXCIgXCIpLCBvYmplY3RzOnthcnJheVZhbHVlOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQXJyYXlWYWx1ZSwgZGljdGlvbmFyeVZhbHVlOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRGljdGlvbmFyeVZhbHVlLCBmdW5jdGlvbkRlZmluaXRpb25WYWx1ZTptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZ1bmN0aW9uRGVmaW5pdGlvbiwgXG4gIGZ1bmN0aW9uSW52b2NhdGlvblZhbHVlOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRnVuY3Rpb25JbnZvY2F0aW9ufX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WYWx1ZU5vZGUucHJvdG90eXBlLCB7YXJndW1lbnRSZWZlcmVuY2U6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYXJndW1lbnRSZWZlcmVuY2VcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJhcmd1bWVudFJlZmVyZW5jZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiYXJndW1lbnRSZWZlcmVuY2VcIiwgdmFsdWUpO1xufX0sIGFycmF5VmFsdWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYXJyYXlWYWx1ZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImFycmF5VmFsdWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImFycmF5VmFsdWVcIiwgdmFsdWUpO1xufX0sIGJ5dGVzVmFsdWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiYnl0ZXNWYWx1ZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImJ5dGVzVmFsdWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImJ5dGVzVmFsdWVcIiwgdmFsdWUpO1xufX0sIGNvbnN0YW50VmFsdWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiY29uc3RhbnRWYWx1ZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImNvbnN0YW50VmFsdWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNvbnN0YW50VmFsdWVcIiwgdmFsdWUpO1xufX0sIGRpY3Rpb25hcnlWYWx1ZTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJkaWN0aW9uYXJ5VmFsdWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJkaWN0aW9uYXJ5VmFsdWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRpY3Rpb25hcnlWYWx1ZVwiLCB2YWx1ZSk7XG59fSwgZnVuY3Rpb25EZWZpbml0aW9uVmFsdWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZnVuY3Rpb25EZWZpbml0aW9uVmFsdWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJmdW5jdGlvbkRlZmluaXRpb25WYWx1ZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZnVuY3Rpb25EZWZpbml0aW9uVmFsdWVcIiwgdmFsdWUpO1xufX0sIGZ1bmN0aW9uSW52b2NhdGlvblZhbHVlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImZ1bmN0aW9uSW52b2NhdGlvblZhbHVlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZnVuY3Rpb25JbnZvY2F0aW9uVmFsdWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZ1bmN0aW9uSW52b2NhdGlvblZhbHVlXCIsIHZhbHVlKTtcbn19LCBpbnRlZ2VyVmFsdWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiaW50ZWdlclZhbHVlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiaW50ZWdlclZhbHVlXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJpbnRlZ2VyVmFsdWVcIiwgdmFsdWUpO1xufX0sIHZhbHVlUmVmZXJlbmNlOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInZhbHVlUmVmZXJlbmNlXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwidmFsdWVSZWZlcmVuY2VcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZhbHVlUmVmZXJlbmNlXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvRmlsZUV4cG9ydE9wdGlvbnNQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfVmlkZW9GaWxlRXhwb3J0T3B0aW9uc1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb0ZpbGVFeHBvcnRPcHRpb25zID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJkcml2ZURlc3RpbmF0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5kcml2ZURlc3RpbmF0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZHJpdmVEZXN0aW5hdGlvbik7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImNsb3VkU3RvcmFnZURlc3RpbmF0aW9uXCIsIG51bGwgPT0gcGFyYW1ldGVycy5jbG91ZFN0b3JhZ2VEZXN0aW5hdGlvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmNsb3VkU3RvcmFnZURlc3RpbmF0aW9uKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ2NzRGVzdGluYXRpb25cIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmdjc0Rlc3RpbmF0aW9uID8gbnVsbCA6IHBhcmFtZXRlcnMuZ2NzRGVzdGluYXRpb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmaWxlRm9ybWF0XCIsIG51bGwgPT0gcGFyYW1ldGVycy5maWxlRm9ybWF0ID8gbnVsbCA6IHBhcmFtZXRlcnMuZmlsZUZvcm1hdCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvRmlsZUV4cG9ydE9wdGlvbnMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9GaWxlRXhwb3J0T3B0aW9ucy5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9GaWxlRXhwb3J0T3B0aW9ucztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvRmlsZUV4cG9ydE9wdGlvbnMucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7ZW51bXM6e2ZpbGVGb3JtYXQ6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb0ZpbGVFeHBvcnRPcHRpb25zRmlsZUZvcm1hdEVudW19LCBrZXlzOltcImNsb3VkU3RvcmFnZURlc3RpbmF0aW9uXCIsIFwiZHJpdmVEZXN0aW5hdGlvblwiLCBcImZpbGVGb3JtYXRcIiwgXCJnY3NEZXN0aW5hdGlvblwiXSwgb2JqZWN0czp7Y2xvdWRTdG9yYWdlRGVzdGluYXRpb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbG91ZFN0b3JhZ2VEZXN0aW5hdGlvbiwgZHJpdmVEZXN0aW5hdGlvbjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRyaXZlRGVzdGluYXRpb24sIGdjc0Rlc3RpbmF0aW9uOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2NzRGVzdGluYXRpb259fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvRmlsZUV4cG9ydE9wdGlvbnMucHJvdG90eXBlLCB7Y2xvdWRTdG9yYWdlRGVzdGluYXRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiY2xvdWRTdG9yYWdlRGVzdGluYXRpb25cIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJjbG91ZFN0b3JhZ2VEZXN0aW5hdGlvblwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiY2xvdWRTdG9yYWdlRGVzdGluYXRpb25cIiwgdmFsdWUpO1xufX0sIGRyaXZlRGVzdGluYXRpb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZHJpdmVEZXN0aW5hdGlvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImRyaXZlRGVzdGluYXRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImRyaXZlRGVzdGluYXRpb25cIiwgdmFsdWUpO1xufX0sIGZpbGVGb3JtYXQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZmlsZUZvcm1hdFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZpbGVGb3JtYXRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVGb3JtYXRcIiwgdmFsdWUpO1xufX0sIGdjc0Rlc3RpbmF0aW9uOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcImdjc0Rlc3RpbmF0aW9uXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZ2NzRGVzdGluYXRpb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdjc0Rlc3RpbmF0aW9uXCIsIHZhbHVlKTtcbn19fSk7XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvRmlsZUV4cG9ydE9wdGlvbnMsIHtGaWxlRm9ybWF0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9GaWxlRXhwb3J0T3B0aW9uc0ZpbGVGb3JtYXRFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9PcHRpb25zUGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1ZpZGVvT3B0aW9uc1BhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb09wdGlvbnMgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZyYW1lc1BlclNlY29uZFwiLCBudWxsID09IHBhcmFtZXRlcnMuZnJhbWVzUGVyU2Vjb25kID8gbnVsbCA6IHBhcmFtZXRlcnMuZnJhbWVzUGVyU2Vjb25kKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4RnJhbWVzXCIsIG51bGwgPT0gcGFyYW1ldGVycy5tYXhGcmFtZXMgPyBudWxsIDogcGFyYW1ldGVycy5tYXhGcmFtZXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhQaXhlbHNQZXJGcmFtZVwiLCBudWxsID09IHBhcmFtZXRlcnMubWF4UGl4ZWxzUGVyRnJhbWUgPyBudWxsIDogcGFyYW1ldGVycy5tYXhQaXhlbHNQZXJGcmFtZSk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvT3B0aW9ucywgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb09wdGlvbnMucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvT3B0aW9ucztcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvT3B0aW9ucy5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtrZXlzOltcImZyYW1lc1BlclNlY29uZFwiLCBcIm1heEZyYW1lc1wiLCBcIm1heFBpeGVsc1BlckZyYW1lXCJdfTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvT3B0aW9ucy5wcm90b3R5cGUsIHtmcmFtZXNQZXJTZWNvbmQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZnJhbWVzUGVyU2Vjb25kXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwiZnJhbWVzUGVyU2Vjb25kXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJmcmFtZXNQZXJTZWNvbmRcIiwgdmFsdWUpO1xufX0sIG1heEZyYW1lczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJtYXhGcmFtZXNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtYXhGcmFtZXNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm1heEZyYW1lc1wiLCB2YWx1ZSk7XG59fSwgbWF4UGl4ZWxzUGVyRnJhbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWF4UGl4ZWxzUGVyRnJhbWVcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJtYXhQaXhlbHNQZXJGcmFtZVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4UGl4ZWxzUGVyRnJhbWVcIiwgdmFsdWUpO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9UaHVtYm5haWxQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfVmlkZW9UaHVtYm5haWxQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9UaHVtYm5haWwgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm5hbWUgPyBudWxsIDogcGFyYW1ldGVycy5uYW1lKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZXhwcmVzc2lvblwiLCBudWxsID09IHBhcmFtZXRlcnMuZXhwcmVzc2lvbiA/IG51bGwgOiBwYXJhbWV0ZXJzLmV4cHJlc3Npb24pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ2aWRlb09wdGlvbnNcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLnZpZGVvT3B0aW9ucyA/IG51bGwgOiBwYXJhbWV0ZXJzLnZpZGVvT3B0aW9ucyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVGb3JtYXRcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLmZpbGVGb3JtYXQgPyBudWxsIDogcGFyYW1ldGVycy5maWxlRm9ybWF0KTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwiZ3JpZFwiLCBudWxsID09IHBhcmFtZXRlcnMuZ3JpZCA/IG51bGwgOiBwYXJhbWV0ZXJzLmdyaWQpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb1RodW1ibmFpbCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5TZXJpYWxpemFibGUpO1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb1RodW1ibmFpbC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9UaHVtYm5haWw7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb1RodW1ibmFpbC5wcm90b3R5cGUuZ2V0UGFydGlhbENsYXNzTWV0YWRhdGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtlbnVtczp7ZmlsZUZvcm1hdDptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvVGh1bWJuYWlsRmlsZUZvcm1hdEVudW19LCBrZXlzOltcImV4cHJlc3Npb25cIiwgXCJmaWxlRm9ybWF0XCIsIFwiZ3JpZFwiLCBcIm5hbWVcIiwgXCJ2aWRlb09wdGlvbnNcIl0sIG9iamVjdHM6e2V4cHJlc3Npb246bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHByZXNzaW9uLCBncmlkOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUGl4ZWxHcmlkLCB2aWRlb09wdGlvbnM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb09wdGlvbnN9fTtcbn07XG4kanNjb21wLmdsb2JhbC5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvVGh1bWJuYWlsLnByb3RvdHlwZSwge2V4cHJlc3Npb246e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZXhwcmVzc2lvblwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImV4cHJlc3Npb25cIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImV4cHJlc3Npb25cIiwgdmFsdWUpO1xufX0sIGZpbGVGb3JtYXQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZmlsZUZvcm1hdFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImZpbGVGb3JtYXRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImZpbGVGb3JtYXRcIiwgdmFsdWUpO1xufX0sIGdyaWQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwiZ3JpZFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImdyaWRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImdyaWRcIiwgdmFsdWUpO1xufX0sIG5hbWU6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibmFtZVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm5hbWVcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm5hbWVcIiwgdmFsdWUpO1xufX0sIHZpZGVvT3B0aW9uczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJ2aWRlb09wdGlvbnNcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ2aWRlb09wdGlvbnNcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInZpZGVvT3B0aW9uc1wiLCB2YWx1ZSk7XG59fX0pO1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb1RodW1ibmFpbCwge0ZpbGVGb3JtYXQ6e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb1RodW1ibmFpbEZpbGVGb3JtYXRFbnVtO1xufX19KTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlzdWFsaXphdGlvbk9wdGlvbnNQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfVmlzdWFsaXphdGlvbk9wdGlvbnNQYXJhbWV0ZXJzKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlzdWFsaXphdGlvbk9wdGlvbnMgPSBmdW5jdGlvbihwYXJhbWV0ZXJzKSB7XG4gIHBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhcmFtZXRlcnMgPyB7fSA6IHBhcmFtZXRlcnM7XG4gIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInJhbmdlc1wiLCBudWxsID09IHBhcmFtZXRlcnMucmFuZ2VzID8gbnVsbCA6IHBhcmFtZXRlcnMucmFuZ2VzKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicGFsZXR0ZUNvbG9yc1wiLCBudWxsID09IHBhcmFtZXRlcnMucGFsZXR0ZUNvbG9ycyA/IG51bGwgOiBwYXJhbWV0ZXJzLnBhbGV0dGVDb2xvcnMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJnYW1tYVwiLCBudWxsID09IHBhcmFtZXRlcnMuZ2FtbWEgPyBudWxsIDogcGFyYW1ldGVycy5nYW1tYSk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcIm9wYWNpdHlcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm9wYWNpdHkgPyBudWxsIDogcGFyYW1ldGVycy5vcGFjaXR5KTtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlzdWFsaXphdGlvbk9wdGlvbnMsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlzdWFsaXphdGlvbk9wdGlvbnMucHJvdG90eXBlLmdldENvbnN0cnVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpc3VhbGl6YXRpb25PcHRpb25zO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlzdWFsaXphdGlvbk9wdGlvbnMucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7YXJyYXlzOntyYW5nZXM6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Eb3VibGVSYW5nZX0sIGtleXM6W1wiZ2FtbWFcIiwgXCJvcGFjaXR5XCIsIFwicGFsZXR0ZUNvbG9yc1wiLCBcInJhbmdlc1wiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaXN1YWxpemF0aW9uT3B0aW9ucy5wcm90b3R5cGUsIHtnYW1tYTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJnYW1tYVwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcImdhbW1hXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJnYW1tYVwiLCB2YWx1ZSk7XG59fSwgb3BhY2l0eTp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJvcGFjaXR5XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwib3BhY2l0eVwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwib3BhY2l0eVwiLCB2YWx1ZSk7XG59fSwgcGFsZXR0ZUNvbG9yczp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJwYWxldHRlQ29sb3JzXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwicGFsZXR0ZUNvbG9yc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicGFsZXR0ZUNvbG9yc1wiLCB2YWx1ZSk7XG59fSwgcmFuZ2VzOntjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInJhbmdlc1wiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcInJhbmdlc1wiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwicmFuZ2VzXCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LldhaXRPcGVyYXRpb25SZXF1ZXN0UGFyYW1ldGVycyA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1dhaXRPcGVyYXRpb25SZXF1ZXN0UGFyYW1ldGVycygpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LldhaXRPcGVyYXRpb25SZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aW1lb3V0XCIsIG51bGwgPT0gcGFyYW1ldGVycy50aW1lb3V0ID8gbnVsbCA6IHBhcmFtZXRlcnMudGltZW91dCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LldhaXRPcGVyYXRpb25SZXF1ZXN0LCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LldhaXRPcGVyYXRpb25SZXF1ZXN0LnByb3RvdHlwZS5nZXRDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5XYWl0T3BlcmF0aW9uUmVxdWVzdDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LldhaXRPcGVyYXRpb25SZXF1ZXN0LnByb3RvdHlwZS5nZXRQYXJ0aWFsQ2xhc3NNZXRhZGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge2tleXM6W1widGltZW91dFwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5XYWl0T3BlcmF0aW9uUmVxdWVzdC5wcm90b3R5cGUsIHt0aW1lb3V0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInRpbWVvdXRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJ0aW1lb3V0XCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJ0aW1lb3V0XCIsIHZhbHVlKTtcbn19fSk7XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Llpvb21TdWJzZXRQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfWm9vbVN1YnNldFBhcmFtZXRlcnMoKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5ab29tU3Vic2V0ID0gZnVuY3Rpb24ocGFyYW1ldGVycykge1xuICBwYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXJhbWV0ZXJzID8ge30gOiBwYXJhbWV0ZXJzO1xuICBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0LlNlcmlhbGl6YWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJzdGFydFwiLCBudWxsID09IHBhcmFtZXRlcnMuc3RhcnQgPyBudWxsIDogcGFyYW1ldGVycy5zdGFydCk7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImVuZFwiLCBudWxsID09IHBhcmFtZXRlcnMuZW5kID8gbnVsbCA6IHBhcmFtZXRlcnMuZW5kKTtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWluXCIsIG51bGwgPT0gcGFyYW1ldGVycy5taW4gPyBudWxsIDogcGFyYW1ldGVycy5taW4pO1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtYXhcIiwgbnVsbCA9PSBwYXJhbWV0ZXJzLm1heCA/IG51bGwgOiBwYXJhbWV0ZXJzLm1heCk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Llpvb21TdWJzZXQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuU2VyaWFsaXphYmxlKTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuWm9vbVN1YnNldC5wcm90b3R5cGUuZ2V0Q29uc3RydWN0b3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuWm9vbVN1YnNldDtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Llpvb21TdWJzZXQucHJvdG90eXBlLmdldFBhcnRpYWxDbGFzc01ldGFkYXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7a2V5czpbXCJlbmRcIiwgXCJtYXhcIiwgXCJtaW5cIiwgXCJzdGFydFwiXX07XG59O1xuJGpzY29tcC5nbG9iYWwuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5ab29tU3Vic2V0LnByb3RvdHlwZSwge2VuZDp7Y29uZmlndXJhYmxlOiEwLCBlbnVtZXJhYmxlOiEwLCBnZXQ6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLlNlcmlhbGl6YWJsZSRoYXMoXCJlbmRcIikgPyB0aGlzLlNlcmlhbGl6YWJsZSRnZXQoXCJlbmRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcImVuZFwiLCB2YWx1ZSk7XG59fSwgbWF4Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcIm1heFwiKSA/IHRoaXMuU2VyaWFsaXphYmxlJGdldChcIm1heFwiKSA6IG51bGw7XG59LCBzZXQ6ZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5TZXJpYWxpemFibGUkc2V0KFwibWF4XCIsIHZhbHVlKTtcbn19LCBtaW46e2NvbmZpZ3VyYWJsZTohMCwgZW51bWVyYWJsZTohMCwgZ2V0OmZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5TZXJpYWxpemFibGUkaGFzKFwibWluXCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwibWluXCIpIDogbnVsbDtcbn0sIHNldDpmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLlNlcmlhbGl6YWJsZSRzZXQoXCJtaW5cIiwgdmFsdWUpO1xufX0sIHN0YXJ0Ontjb25maWd1cmFibGU6ITAsIGVudW1lcmFibGU6ITAsIGdldDpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuU2VyaWFsaXphYmxlJGhhcyhcInN0YXJ0XCIpID8gdGhpcy5TZXJpYWxpemFibGUkZ2V0KFwic3RhcnRcIikgOiBudWxsO1xufSwgc2V0OmZ1bmN0aW9uKHZhbHVlKSB7XG4gIHRoaXMuU2VyaWFsaXphYmxlJHNldChcInN0YXJ0XCIsIHZhbHVlKTtcbn19fSk7XG52YXIgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAgPSB7JFhnYWZ2OlwiJC54Z2FmdlwiLCBhY2Nlc3NfdG9rZW46XCJhY2Nlc3NfdG9rZW5cIiwgYWx0OlwiYWx0XCIsIGFzc2V0SWQ6XCJhc3NldElkXCIsIGNhbGxiYWNrOlwiY2FsbGJhY2tcIiwgZW5kVGltZTpcImVuZFRpbWVcIiwgZmllbGRzOlwiZmllbGRzXCIsIGZpbHRlcjpcImZpbHRlclwiLCBrZXk6XCJrZXlcIiwgb2F1dGhfdG9rZW46XCJvYXV0aF90b2tlblwiLCBvdmVyd3JpdGU6XCJvdmVyd3JpdGVcIiwgcGFnZVNpemU6XCJwYWdlU2l6ZVwiLCBwYWdlVG9rZW46XCJwYWdlVG9rZW5cIiwgcHJldHR5UHJpbnQ6XCJwcmV0dHlQcmludFwiLCBxdW90YVVzZXI6XCJxdW90YVVzZXJcIiwgcmVnaW9uOlwicmVnaW9uXCIsIHN0YXJ0VGltZTpcInN0YXJ0VGltZVwiLCB1cGxvYWRUeXBlOlwidXBsb2FkVHlwZVwiLCB1cGxvYWRfcHJvdG9jb2w6XCJ1cGxvYWRfcHJvdG9jb2xcIiwgXG52aWV3Olwidmlld1wifTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzQWxnb3JpdGhtc0FwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNBbGdvcml0aG1zQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQWxnb3JpdGhtc0FwaUNsaWVudCRYZ2FmdkVudW0gPSB7MTpcIjFcIiwgMjpcIjJcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBbGdvcml0aG1zQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0FsZ29yaXRobXNBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNBbGdvcml0aG1zQXBpQ2xpZW50QWx0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0FsZ29yaXRobXNBcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBbGdvcml0aG1zQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBbGdvcml0aG1zQXBpQ2xpZW50QWx0RW51bS5KU09OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQWxnb3JpdGhtc0FwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBbGdvcml0aG1zQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBbGdvcml0aG1zQXBpQ2xpZW50SW1wbCA9IGZ1bmN0aW9uKGdhcGlWZXJzaW9uLCBnYXBpUmVxdWVzdFNlcnZpY2UsIGFwaUNsaWVudEhvb2tGYWN0b3J5KSB7XG4gIHRoaXMuZ2FwaVZlcnNpb24gPSBnYXBpVmVyc2lvbjtcbiAgdGhpcy4kYXBpQ2xpZW50ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50KGdhcGlSZXF1ZXN0U2VydmljZSwgdm9pZCAwID09PSBhcGlDbGllbnRIb29rRmFjdG9yeSA/IG51bGwgOiBhcGlDbGllbnRIb29rRmFjdG9yeSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0FsZ29yaXRobXNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5saXN0ID0gZnVuY3Rpb24ocGFyZW50LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocGFyZW50LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTpudWxsLCBodHRwTWV0aG9kOlwiR0VUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMuYWxnb3JpdGhtcy5saXN0XCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwYXJlbnQgKyBcIi9hbGdvcml0aG1zXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEFsZ29yaXRobXNSZXNwb25zZX0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBbGdvcml0aG1zQXBpQ2xpZW50ID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNBcGlDbGllbnQkWGdhZnZFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXBpQ2xpZW50JFhnYWZ2RW51bSA9IHsxOlwiMVwiLCAyOlwiMlwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0FwaUNsaWVudCRYZ2FmdkVudW1bMV0sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNBcGlDbGllbnRBbHRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzQXBpQ2xpZW50QWx0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBcGlDbGllbnRBbHRFbnVtLkpTT04sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBcGlDbGllbnRBbHRFbnVtLk1FRElBLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzQXBpQ2xpZW50Vmlld0VudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNBcGlDbGllbnRWaWV3RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXBpQ2xpZW50Vmlld0VudW0gPSB7QkFTSUM6XCJCQVNJQ1wiLCBFQVJUSF9FTkdJTkVfQVNTRVRfVklFV19VTlNQRUNJRklFRDpcIkVBUlRIX0VOR0lORV9BU1NFVF9WSUVXX1VOU1BFQ0lGSUVEXCIsIEZVTEw6XCJGVUxMXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXBpQ2xpZW50Vmlld0VudW0uRUFSVEhfRU5HSU5FX0FTU0VUX1ZJRVdfVU5TUEVDSUZJRUQsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBcGlDbGllbnRWaWV3RW51bS5GVUxMLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXBpQ2xpZW50Vmlld0VudW0uQkFTSUNdO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXBpQ2xpZW50SW1wbCA9IGZ1bmN0aW9uKGdhcGlWZXJzaW9uLCBnYXBpUmVxdWVzdFNlcnZpY2UsIGFwaUNsaWVudEhvb2tGYWN0b3J5KSB7XG4gIHRoaXMuZ2FwaVZlcnNpb24gPSBnYXBpVmVyc2lvbjtcbiAgdGhpcy4kYXBpQ2xpZW50ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50KGdhcGlSZXF1ZXN0U2VydmljZSwgdm9pZCAwID09PSBhcGlDbGllbnRIb29rRmFjdG9yeSA/IG51bGwgOiBhcGlDbGllbnRIb29rRmFjdG9yeSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0FwaUNsaWVudEltcGwucHJvdG90eXBlLmdldENhcGFiaWxpdGllcyA9IGZ1bmN0aW9uKHBhcmVudCwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHBhcmVudCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6bnVsbCwgaHR0cE1ldGhvZDpcIkdFVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmdldENhcGFiaWxpdGllc1wiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgcGFyZW50ICsgXCIvY2FwYWJpbGl0aWVzXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ2FwYWJpbGl0aWVzfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0FwaUNsaWVudEltcGwucHJvdG90eXBlLmxpc3RBc3NldHMgPSBmdW5jdGlvbihwYXJlbnQsIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihwYXJlbnQsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5Om51bGwsIGh0dHBNZXRob2Q6XCJHRVRcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5saXN0QXNzZXRzXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwYXJlbnQgKyBcIjpsaXN0QXNzZXRzXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTGlzdEFzc2V0c1Jlc3BvbnNlfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0FwaUNsaWVudCA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzQXNzZXRzQXBpQ2xpZW50JFhnYWZ2RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0Fzc2V0c0FwaUNsaWVudCRYZ2FmdkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Fzc2V0c0FwaUNsaWVudCRYZ2FmdkVudW0gPSB7MTpcIjFcIiwgMjpcIjJcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBc3NldHNBcGlDbGllbnQkWGdhZnZFbnVtWzFdLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXNzZXRzQXBpQ2xpZW50JFhnYWZ2RW51bVsyXV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzQXNzZXRzQXBpQ2xpZW50QWx0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0Fzc2V0c0FwaUNsaWVudEFsdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Fzc2V0c0FwaUNsaWVudEFsdEVudW0gPSB7SlNPTjpcImpzb25cIiwgTUVESUE6XCJtZWRpYVwiLCBQUk9UTzpcInByb3RvXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXNzZXRzQXBpQ2xpZW50QWx0RW51bS5KU09OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXNzZXRzQXBpQ2xpZW50QWx0RW51bS5NRURJQSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Fzc2V0c0FwaUNsaWVudEFsdEVudW0uUFJPVE9dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c0Fzc2V0c0FwaUNsaWVudFZpZXdFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzQXNzZXRzQXBpQ2xpZW50Vmlld0VudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Fzc2V0c0FwaUNsaWVudFZpZXdFbnVtID0ge0JBU0lDOlwiQkFTSUNcIiwgRUFSVEhfRU5HSU5FX0FTU0VUX1ZJRVdfVU5TUEVDSUZJRUQ6XCJFQVJUSF9FTkdJTkVfQVNTRVRfVklFV19VTlNQRUNJRklFRFwiLCBGVUxMOlwiRlVMTFwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Fzc2V0c0FwaUNsaWVudFZpZXdFbnVtLkVBUlRIX0VOR0lORV9BU1NFVF9WSUVXX1VOU1BFQ0lGSUVELCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXNzZXRzQXBpQ2xpZW50Vmlld0VudW0uRlVMTCwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Fzc2V0c0FwaUNsaWVudFZpZXdFbnVtLkJBU0lDXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Fzc2V0c0FwaUNsaWVudEltcGwgPSBmdW5jdGlvbihnYXBpVmVyc2lvbiwgZ2FwaVJlcXVlc3RTZXJ2aWNlLCBhcGlDbGllbnRIb29rRmFjdG9yeSkge1xuICB0aGlzLmdhcGlWZXJzaW9uID0gZ2FwaVZlcnNpb247XG4gIHRoaXMuJGFwaUNsaWVudCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudChnYXBpUmVxdWVzdFNlcnZpY2UsIHZvaWQgMCA9PT0gYXBpQ2xpZW50SG9va0ZhY3RvcnkgPyBudWxsIDogYXBpQ2xpZW50SG9va0ZhY3RvcnkpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBc3NldHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24oc291cmNlTmFtZSwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIoc291cmNlTmFtZSwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL2Fzc2V0cy8uKiRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5hc3NldHMuY29weVwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgc291cmNlTmFtZSArIFwiOmNvcHlcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZUFzc2V0fSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Fzc2V0c0FwaUNsaWVudEltcGwucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKHBhcmVudCwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocGFyZW50LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMuYXNzZXRzLmNyZWF0ZVwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgcGFyZW50ICsgXCIvYXNzZXRzXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldH0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBc3NldHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbihuYW1lLCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIobmFtZSwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL2Fzc2V0cy8uKiRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5Om51bGwsIGh0dHBNZXRob2Q6XCJERUxFVEVcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5hc3NldHMuZGVsZXRlXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBuYW1lLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVtcHR5fSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Fzc2V0c0FwaUNsaWVudEltcGwucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKG5hbWUsIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihuYW1lLCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSsvYXNzZXRzLy4qJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6bnVsbCwgaHR0cE1ldGhvZDpcIkdFVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmFzc2V0cy5nZXRcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIG5hbWUsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldH0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBc3NldHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5nZXRJYW1Qb2xpY3kgPSBmdW5jdGlvbihyZXNvdXJjZSwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocmVzb3VyY2UsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKy9hc3NldHMvLiokXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMuYXNzZXRzLmdldElhbVBvbGljeVwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgcmVzb3VyY2UgKyBcIjpnZXRJYW1Qb2xpY3lcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qb2xpY3l9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXNzZXRzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuZ2V0TGlua2VkID0gZnVuY3Rpb24obmFtZSwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIobmFtZSwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL2Fzc2V0cy8uKiRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5hc3NldHMuZ2V0TGlua2VkXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBuYW1lICsgXCI6Z2V0TGlua2VkXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldH0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBc3NldHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5nZXRQaXhlbHMgPSBmdW5jdGlvbihuYW1lLCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihuYW1lLCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSsvYXNzZXRzLy4qJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmFzc2V0cy5nZXRQaXhlbHNcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIG5hbWUgKyBcIjpnZXRQaXhlbHNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5IdHRwQm9keX0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBc3NldHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5saW5rID0gZnVuY3Rpb24oc291cmNlTmFtZSwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIoc291cmNlTmFtZSwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL2Fzc2V0cy8uKiRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5hc3NldHMubGlua1wiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgc291cmNlTmFtZSArIFwiOmxpbmtcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZUFzc2V0fSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Fzc2V0c0FwaUNsaWVudEltcGwucHJvdG90eXBlLmxpc3RBc3NldHMgPSBmdW5jdGlvbihwYXJlbnQsIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihwYXJlbnQsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKy9hc3NldHMvLiokXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTpudWxsLCBodHRwTWV0aG9kOlwiR0VUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMuYXNzZXRzLmxpc3RBc3NldHNcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHBhcmVudCArIFwiOmxpc3RBc3NldHNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0QXNzZXRzUmVzcG9uc2V9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXNzZXRzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUubGlzdEZlYXR1cmVzID0gZnVuY3Rpb24oYXNzZXQsIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihhc3NldCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL2Fzc2V0cy8uKiRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5Om51bGwsIGh0dHBNZXRob2Q6XCJHRVRcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5hc3NldHMubGlzdEZlYXR1cmVzXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBhc3NldCArIFwiOmxpc3RGZWF0dXJlc1wiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RGZWF0dXJlc1Jlc3BvbnNlfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Fzc2V0c0FwaUNsaWVudEltcGwucHJvdG90eXBlLmxpc3RJbWFnZXMgPSBmdW5jdGlvbihwYXJlbnQsIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihwYXJlbnQsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKy9hc3NldHMvLiokXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTpudWxsLCBodHRwTWV0aG9kOlwiR0VUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMuYXNzZXRzLmxpc3RJbWFnZXNcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHBhcmVudCArIFwiOmxpc3RJbWFnZXNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0SW1hZ2VzUmVzcG9uc2V9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXNzZXRzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUubW92ZSA9IGZ1bmN0aW9uKHNvdXJjZU5hbWUsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHNvdXJjZU5hbWUsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKy9hc3NldHMvLiokXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMuYXNzZXRzLm1vdmVcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHNvdXJjZU5hbWUgKyBcIjptb3ZlXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldH0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBc3NldHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5wYXRjaCA9IGZ1bmN0aW9uKG5hbWUsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKG5hbWUsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKy9hc3NldHMvLiokXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQQVRDSFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmFzc2V0cy5wYXRjaFwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgbmFtZSwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZUFzc2V0fSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Fzc2V0c0FwaUNsaWVudEltcGwucHJvdG90eXBlLnNldElhbVBvbGljeSA9IGZ1bmN0aW9uKHJlc291cmNlLCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihyZXNvdXJjZSwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL2Fzc2V0cy8uKiRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5hc3NldHMuc2V0SWFtUG9saWN5XCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyByZXNvdXJjZSArIFwiOnNldElhbVBvbGljeVwiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlBvbGljeX0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBc3NldHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS50ZXN0SWFtUGVybWlzc2lvbnMgPSBmdW5jdGlvbihyZXNvdXJjZSwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocmVzb3VyY2UsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKy9hc3NldHMvLiokXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMuYXNzZXRzLnRlc3RJYW1QZXJtaXNzaW9uc1wiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgcmVzb3VyY2UgKyBcIjp0ZXN0SWFtUGVybWlzc2lvbnNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UZXN0SWFtUGVybWlzc2lvbnNSZXNwb25zZX0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBc3NldHNBcGlDbGllbnQgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c0NsYXNzaWZpZXJBcGlDbGllbnQkWGdhZnZFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzQ2xhc3NpZmllckFwaUNsaWVudCRYZ2FmdkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0NsYXNzaWZpZXJBcGlDbGllbnQkWGdhZnZFbnVtID0gezE6XCIxXCIsIDI6XCIyXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQ2xhc3NpZmllckFwaUNsaWVudCRYZ2FmdkVudW1bMV0sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNDbGFzc2lmaWVyQXBpQ2xpZW50JFhnYWZ2RW51bVsyXV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzQ2xhc3NpZmllckFwaUNsaWVudEFsdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNDbGFzc2lmaWVyQXBpQ2xpZW50QWx0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQ2xhc3NpZmllckFwaUNsaWVudEFsdEVudW0gPSB7SlNPTjpcImpzb25cIiwgTUVESUE6XCJtZWRpYVwiLCBQUk9UTzpcInByb3RvXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQ2xhc3NpZmllckFwaUNsaWVudEFsdEVudW0uSlNPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0NsYXNzaWZpZXJBcGlDbGllbnRBbHRFbnVtLk1FRElBLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQ2xhc3NpZmllckFwaUNsaWVudEFsdEVudW0uUFJPVE9dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQ2xhc3NpZmllckFwaUNsaWVudEltcGwgPSBmdW5jdGlvbihnYXBpVmVyc2lvbiwgZ2FwaVJlcXVlc3RTZXJ2aWNlLCBhcGlDbGllbnRIb29rRmFjdG9yeSkge1xuICB0aGlzLmdhcGlWZXJzaW9uID0gZ2FwaVZlcnNpb247XG4gIHRoaXMuJGFwaUNsaWVudCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudChnYXBpUmVxdWVzdFNlcnZpY2UsIHZvaWQgMCA9PT0gYXBpQ2xpZW50SG9va0ZhY3RvcnkgPyBudWxsIDogYXBpQ2xpZW50SG9va0ZhY3RvcnkpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNDbGFzc2lmaWVyQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuZXhwb3J0ID0gZnVuY3Rpb24ocHJvamVjdCwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocHJvamVjdCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmNsYXNzaWZpZXIuZXhwb3J0XCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwcm9qZWN0ICsgXCIvY2xhc3NpZmllcjpleHBvcnRcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb259KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQ2xhc3NpZmllckFwaUNsaWVudCA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzRG1zTWFwc0FwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNEbXNNYXBzQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRG1zTWFwc0FwaUNsaWVudCRYZ2FmdkVudW0gPSB7MTpcIjFcIiwgMjpcIjJcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNEbXNNYXBzQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Rtc01hcHNBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNEbXNNYXBzQXBpQ2xpZW50QWx0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0Rtc01hcHNBcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNEbXNNYXBzQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNEbXNNYXBzQXBpQ2xpZW50QWx0RW51bS5KU09OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRG1zTWFwc0FwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNEbXNNYXBzQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNEbXNNYXBzQXBpQ2xpZW50SW1wbCA9IGZ1bmN0aW9uKGdhcGlWZXJzaW9uLCBnYXBpUmVxdWVzdFNlcnZpY2UsIGFwaUNsaWVudEhvb2tGYWN0b3J5KSB7XG4gIHRoaXMuZ2FwaVZlcnNpb24gPSBnYXBpVmVyc2lvbjtcbiAgdGhpcy4kYXBpQ2xpZW50ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50KGdhcGlSZXF1ZXN0U2VydmljZSwgdm9pZCAwID09PSBhcGlDbGllbnRIb29rRmFjdG9yeSA/IG51bGwgOiBhcGlDbGllbnRIb29rRmFjdG9yeSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Rtc01hcHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihwYXJlbnQsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHBhcmVudCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmRtc01hcHMuY3JlYXRlXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwYXJlbnQgKyBcIi9kbXNNYXBzXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRE1TTWFwfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Rtc01hcHNBcGlDbGllbnQgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c0ZlYXR1cmVWaWV3QXBpQ2xpZW50JFhnYWZ2RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0ZlYXR1cmVWaWV3QXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRmVhdHVyZVZpZXdBcGlDbGllbnQkWGdhZnZFbnVtID0gezE6XCIxXCIsIDI6XCIyXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRmVhdHVyZVZpZXdBcGlDbGllbnQkWGdhZnZFbnVtWzFdLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRmVhdHVyZVZpZXdBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNGZWF0dXJlVmlld0FwaUNsaWVudEFsdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNGZWF0dXJlVmlld0FwaUNsaWVudEFsdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ZlYXR1cmVWaWV3QXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNGZWF0dXJlVmlld0FwaUNsaWVudEFsdEVudW0uSlNPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ZlYXR1cmVWaWV3QXBpQ2xpZW50QWx0RW51bS5NRURJQSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ZlYXR1cmVWaWV3QXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNGZWF0dXJlVmlld0FwaUNsaWVudEltcGwgPSBmdW5jdGlvbihnYXBpVmVyc2lvbiwgZ2FwaVJlcXVlc3RTZXJ2aWNlLCBhcGlDbGllbnRIb29rRmFjdG9yeSkge1xuICB0aGlzLmdhcGlWZXJzaW9uID0gZ2FwaVZlcnNpb247XG4gIHRoaXMuJGFwaUNsaWVudCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudChnYXBpUmVxdWVzdFNlcnZpY2UsIHZvaWQgMCA9PT0gYXBpQ2xpZW50SG9va0ZhY3RvcnkgPyBudWxsIDogYXBpQ2xpZW50SG9va0ZhY3RvcnkpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNGZWF0dXJlVmlld0FwaUNsaWVudEltcGwucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKHBhcmVudCwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocGFyZW50LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMuZmVhdHVyZVZpZXcuY3JlYXRlXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwYXJlbnQgKyBcIi9mZWF0dXJlVmlld1wiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkZlYXR1cmVWaWV3fSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ZlYXR1cmVWaWV3QXBpQ2xpZW50ID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50JFhnYWZ2RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0ZpbG1zdHJpcFRodW1ibmFpbHNBcGlDbGllbnQkWGdhZnZFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50JFhnYWZ2RW51bSA9IHsxOlwiMVwiLCAyOlwiMlwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ZpbG1zdHJpcFRodW1ibmFpbHNBcGlDbGllbnQkWGdhZnZFbnVtWzFdLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRmlsbXN0cmlwVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW1bMl1dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c0ZpbG1zdHJpcFRodW1ibmFpbHNBcGlDbGllbnRBbHRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzRmlsbXN0cmlwVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ZpbG1zdHJpcFRodW1ibmFpbHNBcGlDbGllbnRBbHRFbnVtID0ge0pTT046XCJqc29uXCIsIE1FRElBOlwibWVkaWFcIiwgUFJPVE86XCJwcm90b1wiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ZpbG1zdHJpcFRodW1ibmFpbHNBcGlDbGllbnRBbHRFbnVtLkpTT04sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bS5NRURJQSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ZpbG1zdHJpcFRodW1ibmFpbHNBcGlDbGllbnRBbHRFbnVtLlBST1RPXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ZpbG1zdHJpcFRodW1ibmFpbHNBcGlDbGllbnRJbXBsID0gZnVuY3Rpb24oZ2FwaVZlcnNpb24sIGdhcGlSZXF1ZXN0U2VydmljZSwgYXBpQ2xpZW50SG9va0ZhY3RvcnkpIHtcbiAgdGhpcy5nYXBpVmVyc2lvbiA9IGdhcGlWZXJzaW9uO1xuICB0aGlzLiRhcGlDbGllbnQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50LlByb21pc2VBcGlDbGllbnQoZ2FwaVJlcXVlc3RTZXJ2aWNlLCB2b2lkIDAgPT09IGFwaUNsaWVudEhvb2tGYWN0b3J5ID8gbnVsbCA6IGFwaUNsaWVudEhvb2tGYWN0b3J5KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRmlsbXN0cmlwVGh1bWJuYWlsc0FwaUNsaWVudEltcGwucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKHBhcmVudCwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocGFyZW50LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMuZmlsbXN0cmlwVGh1bWJuYWlscy5jcmVhdGVcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHBhcmVudCArIFwiL2ZpbG1zdHJpcFRodW1ibmFpbHNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWx9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRmlsbXN0cmlwVGh1bWJuYWlsc0FwaUNsaWVudEltcGwucHJvdG90eXBlLmdldFBpeGVscyA9IGZ1bmN0aW9uKG5hbWUsIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihuYW1lLCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSsvZmlsbXN0cmlwVGh1bWJuYWlscy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5Om51bGwsIGh0dHBNZXRob2Q6XCJHRVRcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5maWxtc3RyaXBUaHVtYm5haWxzLmdldFBpeGVsc1wiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgbmFtZSArIFwiOmdldFBpeGVsc1wiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkh0dHBCb2R5fSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ZpbG1zdHJpcFRodW1ibmFpbHNBcGlDbGllbnQgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c0ltYWdlQXBpQ2xpZW50JFhnYWZ2RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0ltYWdlQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzSW1hZ2VBcGlDbGllbnQkWGdhZnZFbnVtID0gezE6XCIxXCIsIDI6XCIyXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzSW1hZ2VBcGlDbGllbnQkWGdhZnZFbnVtWzFdLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzSW1hZ2VBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNJbWFnZUFwaUNsaWVudEFsdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNJbWFnZUFwaUNsaWVudEFsdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ltYWdlQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNJbWFnZUFwaUNsaWVudEFsdEVudW0uSlNPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ltYWdlQXBpQ2xpZW50QWx0RW51bS5NRURJQSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ltYWdlQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNJbWFnZUFwaUNsaWVudEltcGwgPSBmdW5jdGlvbihnYXBpVmVyc2lvbiwgZ2FwaVJlcXVlc3RTZXJ2aWNlLCBhcGlDbGllbnRIb29rRmFjdG9yeSkge1xuICB0aGlzLmdhcGlWZXJzaW9uID0gZ2FwaVZlcnNpb247XG4gIHRoaXMuJGFwaUNsaWVudCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudChnYXBpUmVxdWVzdFNlcnZpY2UsIHZvaWQgMCA9PT0gYXBpQ2xpZW50SG9va0ZhY3RvcnkgPyBudWxsIDogYXBpQ2xpZW50SG9va0ZhY3RvcnkpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNJbWFnZUFwaUNsaWVudEltcGwucHJvdG90eXBlLmNvbXB1dGVQaXhlbHMgPSBmdW5jdGlvbihwcm9qZWN0LCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihwcm9qZWN0LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMuaW1hZ2UuY29tcHV0ZVBpeGVsc1wiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgcHJvamVjdCArIFwiL2ltYWdlOmNvbXB1dGVQaXhlbHNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5IdHRwQm9keX0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNJbWFnZUFwaUNsaWVudEltcGwucHJvdG90eXBlLmV4cG9ydCA9IGZ1bmN0aW9uKHByb2plY3QsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHByb2plY3QsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5pbWFnZS5leHBvcnRcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHByb2plY3QgKyBcIi9pbWFnZTpleHBvcnRcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb259KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzSW1hZ2VBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5pbXBvcnQgPSBmdW5jdGlvbihwcm9qZWN0LCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihwcm9qZWN0LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMuaW1hZ2UuaW1wb3J0XCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwcm9qZWN0ICsgXCIvaW1hZ2U6aW1wb3J0XCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9ufSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ltYWdlQXBpQ2xpZW50ID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNJbWFnZUNvbGxlY3Rpb25BcGlDbGllbnQkWGdhZnZFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzSW1hZ2VDb2xsZWN0aW9uQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzSW1hZ2VDb2xsZWN0aW9uQXBpQ2xpZW50JFhnYWZ2RW51bSA9IHsxOlwiMVwiLCAyOlwiMlwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ltYWdlQ29sbGVjdGlvbkFwaUNsaWVudCRYZ2FmdkVudW1bMV0sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNJbWFnZUNvbGxlY3Rpb25BcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNJbWFnZUNvbGxlY3Rpb25BcGlDbGllbnRBbHRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzSW1hZ2VDb2xsZWN0aW9uQXBpQ2xpZW50QWx0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzSW1hZ2VDb2xsZWN0aW9uQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNJbWFnZUNvbGxlY3Rpb25BcGlDbGllbnRBbHRFbnVtLkpTT04sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNJbWFnZUNvbGxlY3Rpb25BcGlDbGllbnRBbHRFbnVtLk1FRElBLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzSW1hZ2VDb2xsZWN0aW9uQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNJbWFnZUNvbGxlY3Rpb25BcGlDbGllbnRJbXBsID0gZnVuY3Rpb24oZ2FwaVZlcnNpb24sIGdhcGlSZXF1ZXN0U2VydmljZSwgYXBpQ2xpZW50SG9va0ZhY3RvcnkpIHtcbiAgdGhpcy5nYXBpVmVyc2lvbiA9IGdhcGlWZXJzaW9uO1xuICB0aGlzLiRhcGlDbGllbnQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50LlByb21pc2VBcGlDbGllbnQoZ2FwaVJlcXVlc3RTZXJ2aWNlLCB2b2lkIDAgPT09IGFwaUNsaWVudEhvb2tGYWN0b3J5ID8gbnVsbCA6IGFwaUNsaWVudEhvb2tGYWN0b3J5KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzSW1hZ2VDb2xsZWN0aW9uQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuY29tcHV0ZUltYWdlcyA9IGZ1bmN0aW9uKHByb2plY3QsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHByb2plY3QsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5pbWFnZUNvbGxlY3Rpb24uY29tcHV0ZUltYWdlc1wiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgcHJvamVjdCArIFwiL2ltYWdlQ29sbGVjdGlvbjpjb21wdXRlSW1hZ2VzXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZUltYWdlc1Jlc3BvbnNlfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ltYWdlQ29sbGVjdGlvbkFwaUNsaWVudCA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzTG9jYXRpb25zQXNzZXRzQXBpQ2xpZW50JFhnYWZ2RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0xvY2F0aW9uc0Fzc2V0c0FwaUNsaWVudCRYZ2FmdkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc0Fzc2V0c0FwaUNsaWVudCRYZ2FmdkVudW0gPSB7MTpcIjFcIiwgMjpcIjJcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNBc3NldHNBcGlDbGllbnQkWGdhZnZFbnVtWzFdLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zQXNzZXRzQXBpQ2xpZW50JFhnYWZ2RW51bVsyXV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzTG9jYXRpb25zQXNzZXRzQXBpQ2xpZW50QWx0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0xvY2F0aW9uc0Fzc2V0c0FwaUNsaWVudEFsdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc0Fzc2V0c0FwaUNsaWVudEFsdEVudW0gPSB7SlNPTjpcImpzb25cIiwgTUVESUE6XCJtZWRpYVwiLCBQUk9UTzpcInByb3RvXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zQXNzZXRzQXBpQ2xpZW50QWx0RW51bS5KU09OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zQXNzZXRzQXBpQ2xpZW50QWx0RW51bS5NRURJQSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc0Fzc2V0c0FwaUNsaWVudEFsdEVudW0uUFJPVE9dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zQXNzZXRzQXBpQ2xpZW50SW1wbCA9IGZ1bmN0aW9uKGdhcGlWZXJzaW9uLCBnYXBpUmVxdWVzdFNlcnZpY2UsIGFwaUNsaWVudEhvb2tGYWN0b3J5KSB7XG4gIHRoaXMuZ2FwaVZlcnNpb24gPSBnYXBpVmVyc2lvbjtcbiAgdGhpcy4kYXBpQ2xpZW50ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50KGdhcGlSZXF1ZXN0U2VydmljZSwgdm9pZCAwID09PSBhcGlDbGllbnRIb29rRmFjdG9yeSA/IG51bGwgOiBhcGlDbGllbnRIb29rRmFjdG9yeSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc0Fzc2V0c0FwaUNsaWVudEltcGwucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKHBhcmVudCwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocGFyZW50LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSsvbG9jYXRpb25zL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmxvY2F0aW9ucy5hc3NldHMuY3JlYXRlXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwYXJlbnQgKyBcIi9hc3NldHNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZUFzc2V0fSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc0Fzc2V0c0FwaUNsaWVudCA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzTG9jYXRpb25zRmlsbXN0cmlwVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNMb2NhdGlvbnNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zRmlsbXN0cmlwVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW0gPSB7MTpcIjFcIiwgMjpcIjJcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc0ZpbG1zdHJpcFRodW1ibmFpbHNBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNMb2NhdGlvbnNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0xvY2F0aW9uc0ZpbG1zdHJpcFRodW1ibmFpbHNBcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bS5KU09OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zRmlsbXN0cmlwVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNGaWxtc3RyaXBUaHVtYm5haWxzQXBpQ2xpZW50SW1wbCA9IGZ1bmN0aW9uKGdhcGlWZXJzaW9uLCBnYXBpUmVxdWVzdFNlcnZpY2UsIGFwaUNsaWVudEhvb2tGYWN0b3J5KSB7XG4gIHRoaXMuZ2FwaVZlcnNpb24gPSBnYXBpVmVyc2lvbjtcbiAgdGhpcy4kYXBpQ2xpZW50ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50KGdhcGlSZXF1ZXN0U2VydmljZSwgdm9pZCAwID09PSBhcGlDbGllbnRIb29rRmFjdG9yeSA/IG51bGwgOiBhcGlDbGllbnRIb29rRmFjdG9yeSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc0ZpbG1zdHJpcFRodW1ibmFpbHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihwYXJlbnQsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHBhcmVudCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL2xvY2F0aW9ucy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5sb2NhdGlvbnMuZmlsbXN0cmlwVGh1bWJuYWlscy5jcmVhdGVcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHBhcmVudCArIFwiL2ZpbG1zdHJpcFRodW1ibmFpbHNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWx9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zRmlsbXN0cmlwVGh1bWJuYWlsc0FwaUNsaWVudCA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzTG9jYXRpb25zTWFwc0FwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNMb2NhdGlvbnNNYXBzQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zTWFwc0FwaUNsaWVudCRYZ2FmdkVudW0gPSB7MTpcIjFcIiwgMjpcIjJcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNNYXBzQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc01hcHNBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNMb2NhdGlvbnNNYXBzQXBpQ2xpZW50QWx0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0xvY2F0aW9uc01hcHNBcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNNYXBzQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNNYXBzQXBpQ2xpZW50QWx0RW51bS5KU09OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zTWFwc0FwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNNYXBzQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNNYXBzQXBpQ2xpZW50SW1wbCA9IGZ1bmN0aW9uKGdhcGlWZXJzaW9uLCBnYXBpUmVxdWVzdFNlcnZpY2UsIGFwaUNsaWVudEhvb2tGYWN0b3J5KSB7XG4gIHRoaXMuZ2FwaVZlcnNpb24gPSBnYXBpVmVyc2lvbjtcbiAgdGhpcy4kYXBpQ2xpZW50ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50KGdhcGlSZXF1ZXN0U2VydmljZSwgdm9pZCAwID09PSBhcGlDbGllbnRIb29rRmFjdG9yeSA/IG51bGwgOiBhcGlDbGllbnRIb29rRmFjdG9yeSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc01hcHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihwYXJlbnQsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHBhcmVudCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL2xvY2F0aW9ucy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5sb2NhdGlvbnMubWFwcy5jcmVhdGVcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHBhcmVudCArIFwiL21hcHNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZU1hcH0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNNYXBzQXBpQ2xpZW50ID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNMb2NhdGlvbnNUYWJsZXNBcGlDbGllbnQkWGdhZnZFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzTG9jYXRpb25zVGFibGVzQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVGFibGVzQXBpQ2xpZW50JFhnYWZ2RW51bSA9IHsxOlwiMVwiLCAyOlwiMlwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc1RhYmxlc0FwaUNsaWVudCRYZ2FmdkVudW1bMV0sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNUYWJsZXNBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNMb2NhdGlvbnNUYWJsZXNBcGlDbGllbnRBbHRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzTG9jYXRpb25zVGFibGVzQXBpQ2xpZW50QWx0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVGFibGVzQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNUYWJsZXNBcGlDbGllbnRBbHRFbnVtLkpTT04sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNUYWJsZXNBcGlDbGllbnRBbHRFbnVtLk1FRElBLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVGFibGVzQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNUYWJsZXNBcGlDbGllbnRJbXBsID0gZnVuY3Rpb24oZ2FwaVZlcnNpb24sIGdhcGlSZXF1ZXN0U2VydmljZSwgYXBpQ2xpZW50SG9va0ZhY3RvcnkpIHtcbiAgdGhpcy5nYXBpVmVyc2lvbiA9IGdhcGlWZXJzaW9uO1xuICB0aGlzLiRhcGlDbGllbnQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50LlByb21pc2VBcGlDbGllbnQoZ2FwaVJlcXVlc3RTZXJ2aWNlLCB2b2lkIDAgPT09IGFwaUNsaWVudEhvb2tGYWN0b3J5ID8gbnVsbCA6IGFwaUNsaWVudEhvb2tGYWN0b3J5KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVGFibGVzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuY3JlYXRlID0gZnVuY3Rpb24ocGFyZW50LCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihwYXJlbnQsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKy9sb2NhdGlvbnMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMubG9jYXRpb25zLnRhYmxlcy5jcmVhdGVcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHBhcmVudCArIFwiL3RhYmxlc1wiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc1RhYmxlc0FwaUNsaWVudCA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzTG9jYXRpb25zVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNMb2NhdGlvbnNUaHVtYm5haWxzQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW0gPSB7MTpcIjFcIiwgMjpcIjJcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNUaHVtYm5haWxzQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc1RodW1ibmFpbHNBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNMb2NhdGlvbnNUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0xvY2F0aW9uc1RodW1ibmFpbHNBcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bS5KU09OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNUaHVtYm5haWxzQXBpQ2xpZW50SW1wbCA9IGZ1bmN0aW9uKGdhcGlWZXJzaW9uLCBnYXBpUmVxdWVzdFNlcnZpY2UsIGFwaUNsaWVudEhvb2tGYWN0b3J5KSB7XG4gIHRoaXMuZ2FwaVZlcnNpb24gPSBnYXBpVmVyc2lvbjtcbiAgdGhpcy4kYXBpQ2xpZW50ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50KGdhcGlSZXF1ZXN0U2VydmljZSwgdm9pZCAwID09PSBhcGlDbGllbnRIb29rRmFjdG9yeSA/IG51bGwgOiBhcGlDbGllbnRIb29rRmFjdG9yeSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc1RodW1ibmFpbHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihwYXJlbnQsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHBhcmVudCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL2xvY2F0aW9ucy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5sb2NhdGlvbnMudGh1bWJuYWlscy5jcmVhdGVcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHBhcmVudCArIFwiL3RodW1ibmFpbHNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaHVtYm5haWx9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVGh1bWJuYWlsc0FwaUNsaWVudCA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzTG9jYXRpb25zVmlkZW9UaHVtYm5haWxzQXBpQ2xpZW50JFhnYWZ2RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0xvY2F0aW9uc1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW0gPSB7MTpcIjFcIiwgMjpcIjJcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnQkWGdhZnZFbnVtWzFdLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVmlkZW9UaHVtYm5haWxzQXBpQ2xpZW50JFhnYWZ2RW51bVsyXV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzTG9jYXRpb25zVmlkZW9UaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c0xvY2F0aW9uc1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0gPSB7SlNPTjpcImpzb25cIiwgTUVESUE6XCJtZWRpYVwiLCBQUk9UTzpcInByb3RvXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVmlkZW9UaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bS5KU09OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVmlkZW9UaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bS5NRURJQSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0uUFJPVE9dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTG9jYXRpb25zVmlkZW9UaHVtYm5haWxzQXBpQ2xpZW50SW1wbCA9IGZ1bmN0aW9uKGdhcGlWZXJzaW9uLCBnYXBpUmVxdWVzdFNlcnZpY2UsIGFwaUNsaWVudEhvb2tGYWN0b3J5KSB7XG4gIHRoaXMuZ2FwaVZlcnNpb24gPSBnYXBpVmVyc2lvbjtcbiAgdGhpcy4kYXBpQ2xpZW50ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50KGdhcGlSZXF1ZXN0U2VydmljZSwgdm9pZCAwID09PSBhcGlDbGllbnRIb29rRmFjdG9yeSA/IG51bGwgOiBhcGlDbGllbnRIb29rRmFjdG9yeSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0xvY2F0aW9uc1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudEltcGwucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKHBhcmVudCwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocGFyZW50LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSsvbG9jYXRpb25zL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLmxvY2F0aW9ucy52aWRlb1RodW1ibmFpbHMuY3JlYXRlXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwYXJlbnQgKyBcIi92aWRlb1RodW1ibmFpbHNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb1RodW1ibmFpbH0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNMb2NhdGlvbnNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnQgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c01hcEFwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNNYXBBcGlDbGllbnQkWGdhZnZFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBBcGlDbGllbnQkWGdhZnZFbnVtID0gezE6XCIxXCIsIDI6XCIyXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTWFwQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c01hcEFwaUNsaWVudCRYZ2FmdkVudW1bMl1dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c01hcEFwaUNsaWVudEFsdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNNYXBBcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBBcGlDbGllbnRBbHRFbnVtID0ge0pTT046XCJqc29uXCIsIE1FRElBOlwibWVkaWFcIiwgUFJPVE86XCJwcm90b1wiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c01hcEFwaUNsaWVudEFsdEVudW0uSlNPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c01hcEFwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBBcGlDbGllbnRBbHRFbnVtLlBST1RPXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c01hcEFwaUNsaWVudEltcGwgPSBmdW5jdGlvbihnYXBpVmVyc2lvbiwgZ2FwaVJlcXVlc3RTZXJ2aWNlLCBhcGlDbGllbnRIb29rRmFjdG9yeSkge1xuICB0aGlzLmdhcGlWZXJzaW9uID0gZ2FwaVZlcnNpb247XG4gIHRoaXMuJGFwaUNsaWVudCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudChnYXBpUmVxdWVzdFNlcnZpY2UsIHZvaWQgMCA9PT0gYXBpQ2xpZW50SG9va0ZhY3RvcnkgPyBudWxsIDogYXBpQ2xpZW50SG9va0ZhY3RvcnkpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5leHBvcnQgPSBmdW5jdGlvbihwcm9qZWN0LCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihwcm9qZWN0LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMubWFwLmV4cG9ydFwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgcHJvamVjdCArIFwiL21hcDpleHBvcnRcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb259KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTWFwQXBpQ2xpZW50ID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNNYXBzQXBpQ2xpZW50JFhnYWZ2RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c01hcHNBcGlDbGllbnQkWGdhZnZFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBzQXBpQ2xpZW50JFhnYWZ2RW51bSA9IHsxOlwiMVwiLCAyOlwiMlwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c01hcHNBcGlDbGllbnQkWGdhZnZFbnVtWzFdLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTWFwc0FwaUNsaWVudCRYZ2FmdkVudW1bMl1dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c01hcHNBcGlDbGllbnRBbHRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzTWFwc0FwaUNsaWVudEFsdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c01hcHNBcGlDbGllbnRBbHRFbnVtID0ge0pTT046XCJqc29uXCIsIE1FRElBOlwibWVkaWFcIiwgUFJPVE86XCJwcm90b1wiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c01hcHNBcGlDbGllbnRBbHRFbnVtLkpTT04sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBzQXBpQ2xpZW50QWx0RW51bS5NRURJQSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c01hcHNBcGlDbGllbnRBbHRFbnVtLlBST1RPXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c01hcHNBcGlDbGllbnRJbXBsID0gZnVuY3Rpb24oZ2FwaVZlcnNpb24sIGdhcGlSZXF1ZXN0U2VydmljZSwgYXBpQ2xpZW50SG9va0ZhY3RvcnkpIHtcbiAgdGhpcy5nYXBpVmVyc2lvbiA9IGdhcGlWZXJzaW9uO1xuICB0aGlzLiRhcGlDbGllbnQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50LlByb21pc2VBcGlDbGllbnQoZ2FwaVJlcXVlc3RTZXJ2aWNlLCB2b2lkIDAgPT09IGFwaUNsaWVudEhvb2tGYWN0b3J5ID8gbnVsbCA6IGFwaUNsaWVudEhvb2tGYWN0b3J5KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTWFwc0FwaUNsaWVudEltcGwucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKHBhcmVudCwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocGFyZW50LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMubWFwcy5jcmVhdGVcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHBhcmVudCArIFwiL21hcHNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZU1hcH0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBzQXBpQ2xpZW50ID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNNYXBzVGlsZXNBcGlDbGllbnQkWGdhZnZFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzTWFwc1RpbGVzQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTWFwc1RpbGVzQXBpQ2xpZW50JFhnYWZ2RW51bSA9IHsxOlwiMVwiLCAyOlwiMlwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c01hcHNUaWxlc0FwaUNsaWVudCRYZ2FmdkVudW1bMV0sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBzVGlsZXNBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNNYXBzVGlsZXNBcGlDbGllbnRBbHRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzTWFwc1RpbGVzQXBpQ2xpZW50QWx0RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTWFwc1RpbGVzQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBzVGlsZXNBcGlDbGllbnRBbHRFbnVtLkpTT04sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBzVGlsZXNBcGlDbGllbnRBbHRFbnVtLk1FRElBLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTWFwc1RpbGVzQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBzVGlsZXNBcGlDbGllbnRJbXBsID0gZnVuY3Rpb24oZ2FwaVZlcnNpb24sIGdhcGlSZXF1ZXN0U2VydmljZSwgYXBpQ2xpZW50SG9va0ZhY3RvcnkpIHtcbiAgdGhpcy5nYXBpVmVyc2lvbiA9IGdhcGlWZXJzaW9uO1xuICB0aGlzLiRhcGlDbGllbnQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50LlByb21pc2VBcGlDbGllbnQoZ2FwaVJlcXVlc3RTZXJ2aWNlLCB2b2lkIDAgPT09IGFwaUNsaWVudEhvb2tGYWN0b3J5ID8gbnVsbCA6IGFwaUNsaWVudEhvb2tGYWN0b3J5KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzTWFwc1RpbGVzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24ocGFyZW50LCB6b29tLCB4LCB5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocGFyZW50LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSsvbWFwcy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5Om51bGwsIGh0dHBNZXRob2Q6XCJHRVRcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5tYXBzLnRpbGVzLmdldFwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgcGFyZW50ICsgXCIvdGlsZXMvXCIgKyB6b29tICsgXCIvXCIgKyB4ICsgXCIvXCIgKyB5LCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkh0dHBCb2R5fSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c01hcHNUaWxlc0FwaUNsaWVudCA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzT3BlcmF0aW9uc0FwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNPcGVyYXRpb25zQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzT3BlcmF0aW9uc0FwaUNsaWVudCRYZ2FmdkVudW0gPSB7MTpcIjFcIiwgMjpcIjJcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNPcGVyYXRpb25zQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c09wZXJhdGlvbnNBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNPcGVyYXRpb25zQXBpQ2xpZW50QWx0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c09wZXJhdGlvbnNBcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNPcGVyYXRpb25zQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNPcGVyYXRpb25zQXBpQ2xpZW50QWx0RW51bS5KU09OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzT3BlcmF0aW9uc0FwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNPcGVyYXRpb25zQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNPcGVyYXRpb25zQXBpQ2xpZW50SW1wbCA9IGZ1bmN0aW9uKGdhcGlWZXJzaW9uLCBnYXBpUmVxdWVzdFNlcnZpY2UsIGFwaUNsaWVudEhvb2tGYWN0b3J5KSB7XG4gIHRoaXMuZ2FwaVZlcnNpb24gPSBnYXBpVmVyc2lvbjtcbiAgdGhpcy4kYXBpQ2xpZW50ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50KGdhcGlSZXF1ZXN0U2VydmljZSwgdm9pZCAwID09PSBhcGlDbGllbnRIb29rRmFjdG9yeSA/IG51bGwgOiBhcGlDbGllbnRIb29rRmFjdG9yeSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c09wZXJhdGlvbnNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbihuYW1lLCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihuYW1lLCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSsvb3BlcmF0aW9ucy8uKiRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5vcGVyYXRpb25zLmNhbmNlbFwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgbmFtZSArIFwiOmNhbmNlbFwiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVtcHR5fSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c09wZXJhdGlvbnNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbihuYW1lLCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIobmFtZSwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL29wZXJhdGlvbnMvLiokXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTpudWxsLCBodHRwTWV0aG9kOlwiREVMRVRFXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMub3BlcmF0aW9ucy5kZWxldGVcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIG5hbWUsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRW1wdHl9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzT3BlcmF0aW9uc0FwaUNsaWVudEltcGwucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKG5hbWUsIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihuYW1lLCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSsvb3BlcmF0aW9ucy8uKiRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5Om51bGwsIGh0dHBNZXRob2Q6XCJHRVRcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy5vcGVyYXRpb25zLmdldFwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgbmFtZSwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb259KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzT3BlcmF0aW9uc0FwaUNsaWVudEltcGwucHJvdG90eXBlLmxpc3QgPSBmdW5jdGlvbihuYW1lLCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIobmFtZSwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6bnVsbCwgaHR0cE1ldGhvZDpcIkdFVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLm9wZXJhdGlvbnMubGlzdFwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgbmFtZSArIFwiL29wZXJhdGlvbnNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0T3BlcmF0aW9uc1Jlc3BvbnNlfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c09wZXJhdGlvbnNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS53YWl0ID0gZnVuY3Rpb24obmFtZSwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIobmFtZSwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL29wZXJhdGlvbnMvLiokXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMub3BlcmF0aW9ucy53YWl0XCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBuYW1lICsgXCI6d2FpdFwiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbn0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNPcGVyYXRpb25zQXBpQ2xpZW50ID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNUYWJsZUFwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNUYWJsZUFwaUNsaWVudCRYZ2FmdkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RhYmxlQXBpQ2xpZW50JFhnYWZ2RW51bSA9IHsxOlwiMVwiLCAyOlwiMlwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RhYmxlQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RhYmxlQXBpQ2xpZW50JFhnYWZ2RW51bVsyXV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzVGFibGVBcGlDbGllbnRBbHRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzVGFibGVBcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUYWJsZUFwaUNsaWVudEFsdEVudW0gPSB7SlNPTjpcImpzb25cIiwgTUVESUE6XCJtZWRpYVwiLCBQUk9UTzpcInByb3RvXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGFibGVBcGlDbGllbnRBbHRFbnVtLkpTT04sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUYWJsZUFwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUYWJsZUFwaUNsaWVudEFsdEVudW0uUFJPVE9dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGFibGVBcGlDbGllbnRJbXBsID0gZnVuY3Rpb24oZ2FwaVZlcnNpb24sIGdhcGlSZXF1ZXN0U2VydmljZSwgYXBpQ2xpZW50SG9va0ZhY3RvcnkpIHtcbiAgdGhpcy5nYXBpVmVyc2lvbiA9IGdhcGlWZXJzaW9uO1xuICB0aGlzLiRhcGlDbGllbnQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50LlByb21pc2VBcGlDbGllbnQoZ2FwaVJlcXVlc3RTZXJ2aWNlLCB2b2lkIDAgPT09IGFwaUNsaWVudEhvb2tGYWN0b3J5ID8gbnVsbCA6IGFwaUNsaWVudEhvb2tGYWN0b3J5KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGFibGVBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5jb21wdXRlRmVhdHVyZXMgPSBmdW5jdGlvbihwcm9qZWN0LCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihwcm9qZWN0LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMudGFibGUuY29tcHV0ZUZlYXR1cmVzXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwcm9qZWN0ICsgXCIvdGFibGU6Y29tcHV0ZUZlYXR1cmVzXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZUZlYXR1cmVzUmVzcG9uc2V9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGFibGVBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5leHBvcnQgPSBmdW5jdGlvbihwcm9qZWN0LCAkcmVxdWVzdEJvZHksIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihwcm9qZWN0LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMudGFibGUuZXhwb3J0XCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwcm9qZWN0ICsgXCIvdGFibGU6ZXhwb3J0XCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuT3BlcmF0aW9ufSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RhYmxlQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuaW1wb3J0ID0gZnVuY3Rpb24ocHJvamVjdCwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocHJvamVjdCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLnRhYmxlLmltcG9ydFwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgcHJvamVjdCArIFwiL3RhYmxlOmltcG9ydFwiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk9wZXJhdGlvbn0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUYWJsZUFwaUNsaWVudCA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzVGFibGVzQXBpQ2xpZW50JFhnYWZ2RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c1RhYmxlc0FwaUNsaWVudCRYZ2FmdkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RhYmxlc0FwaUNsaWVudCRYZ2FmdkVudW0gPSB7MTpcIjFcIiwgMjpcIjJcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUYWJsZXNBcGlDbGllbnQkWGdhZnZFbnVtWzFdLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGFibGVzQXBpQ2xpZW50JFhnYWZ2RW51bVsyXV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzVGFibGVzQXBpQ2xpZW50QWx0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c1RhYmxlc0FwaUNsaWVudEFsdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RhYmxlc0FwaUNsaWVudEFsdEVudW0gPSB7SlNPTjpcImpzb25cIiwgTUVESUE6XCJtZWRpYVwiLCBQUk9UTzpcInByb3RvXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGFibGVzQXBpQ2xpZW50QWx0RW51bS5KU09OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGFibGVzQXBpQ2xpZW50QWx0RW51bS5NRURJQSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RhYmxlc0FwaUNsaWVudEFsdEVudW0uUFJPVE9dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGFibGVzQXBpQ2xpZW50SW1wbCA9IGZ1bmN0aW9uKGdhcGlWZXJzaW9uLCBnYXBpUmVxdWVzdFNlcnZpY2UsIGFwaUNsaWVudEhvb2tGYWN0b3J5KSB7XG4gIHRoaXMuZ2FwaVZlcnNpb24gPSBnYXBpVmVyc2lvbjtcbiAgdGhpcy4kYXBpQ2xpZW50ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50KGdhcGlSZXF1ZXN0U2VydmljZSwgdm9pZCAwID09PSBhcGlDbGllbnRIb29rRmFjdG9yeSA/IG51bGwgOiBhcGlDbGllbnRIb29rRmFjdG9yeSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RhYmxlc0FwaUNsaWVudEltcGwucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uKHBhcmVudCwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocGFyZW50LCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTokcmVxdWVzdEJvZHksIGh0dHBNZXRob2Q6XCJQT1NUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMudGFibGVzLmNyZWF0ZVwiLCBwYXRoOlwiL1wiICsgdGhpcy5nYXBpVmVyc2lvbiArIFwiL1wiICsgcGFyZW50ICsgXCIvdGFibGVzXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGV9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGFibGVzQXBpQ2xpZW50SW1wbC5wcm90b3R5cGUuZ2V0RmVhdHVyZXMgPSBmdW5jdGlvbihuYW1lLCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIobmFtZSwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL3RhYmxlcy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5Om51bGwsIGh0dHBNZXRob2Q6XCJHRVRcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy50YWJsZXMuZ2V0RmVhdHVyZXNcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIG5hbWUgKyBcIjpnZXRGZWF0dXJlc1wiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkh0dHBCb2R5fSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RhYmxlc0FwaUNsaWVudCA9IGZ1bmN0aW9uKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNUaHVtYm5haWxzQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW0gPSB7MTpcIjFcIiwgMjpcIjJcIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUaHVtYm5haWxzQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RodW1ibmFpbHNBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c1RodW1ibmFpbHNBcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bS5KU09OLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUaHVtYm5haWxzQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUaHVtYm5haWxzQXBpQ2xpZW50SW1wbCA9IGZ1bmN0aW9uKGdhcGlWZXJzaW9uLCBnYXBpUmVxdWVzdFNlcnZpY2UsIGFwaUNsaWVudEhvb2tGYWN0b3J5KSB7XG4gIHRoaXMuZ2FwaVZlcnNpb24gPSBnYXBpVmVyc2lvbjtcbiAgdGhpcy4kYXBpQ2xpZW50ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JHByb21pc2VfYXBpX2NsaWVudC5Qcm9taXNlQXBpQ2xpZW50KGdhcGlSZXF1ZXN0U2VydmljZSwgdm9pZCAwID09PSBhcGlDbGllbnRIb29rRmFjdG9yeSA/IG51bGwgOiBhcGlDbGllbnRIb29rRmFjdG9yeSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RodW1ibmFpbHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihwYXJlbnQsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHBhcmVudCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLnRodW1ibmFpbHMuY3JlYXRlXCIsIHBhdGg6XCIvXCIgKyB0aGlzLmdhcGlWZXJzaW9uICsgXCIvXCIgKyBwYXJlbnQgKyBcIi90aHVtYm5haWxzXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGh1bWJuYWlsfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1RodW1ibmFpbHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5nZXRQaXhlbHMgPSBmdW5jdGlvbihuYW1lLCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIobmFtZSwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rL3RodW1ibmFpbHMvW14vXSskXCIpKTtcbiAgcmV0dXJuIHRoaXMuJGFwaUNsaWVudC4kcmVxdWVzdCh7Ym9keTpudWxsLCBodHRwTWV0aG9kOlwiR0VUXCIsIG1ldGhvZElkOlwiZWFydGhlbmdpbmUucHJvamVjdHMudGh1bWJuYWlscy5nZXRQaXhlbHNcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIG5hbWUgKyBcIjpnZXRQaXhlbHNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5IdHRwQm9keX0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNUaHVtYm5haWxzQXBpQ2xpZW50ID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNWYWx1ZUFwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNWYWx1ZUFwaUNsaWVudCRYZ2FmdkVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZhbHVlQXBpQ2xpZW50JFhnYWZ2RW51bSA9IHsxOlwiMVwiLCAyOlwiMlwiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZhbHVlQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZhbHVlQXBpQ2xpZW50JFhnYWZ2RW51bVsyXV07XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSVByb2plY3RzVmFsdWVBcGlDbGllbnRBbHRFbnVtID0gZnVuY3Rpb24gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfSVByb2plY3RzVmFsdWVBcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWYWx1ZUFwaUNsaWVudEFsdEVudW0gPSB7SlNPTjpcImpzb25cIiwgTUVESUE6XCJtZWRpYVwiLCBQUk9UTzpcInByb3RvXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmFsdWVBcGlDbGllbnRBbHRFbnVtLkpTT04sIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWYWx1ZUFwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWYWx1ZUFwaUNsaWVudEFsdEVudW0uUFJPVE9dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmFsdWVBcGlDbGllbnRJbXBsID0gZnVuY3Rpb24oZ2FwaVZlcnNpb24sIGdhcGlSZXF1ZXN0U2VydmljZSwgYXBpQ2xpZW50SG9va0ZhY3RvcnkpIHtcbiAgdGhpcy5nYXBpVmVyc2lvbiA9IGdhcGlWZXJzaW9uO1xuICB0aGlzLiRhcGlDbGllbnQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9hcGlfY2xpZW50LlByb21pc2VBcGlDbGllbnQoZ2FwaVJlcXVlc3RTZXJ2aWNlLCB2b2lkIDAgPT09IGFwaUNsaWVudEhvb2tGYWN0b3J5ID8gbnVsbCA6IGFwaUNsaWVudEhvb2tGYWN0b3J5KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmFsdWVBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5jb21wdXRlID0gZnVuY3Rpb24ocHJvamVjdCwgJHJlcXVlc3RCb2R5LCBuYW1lZFBhcmFtZXRlcnMsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSB7XG4gIG5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gbmFtZWRQYXJhbWV0ZXJzID8ge30gOiBuYW1lZFBhcmFtZXRlcnM7XG4gIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA/IHt9IDogcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnM7XG4gIHRoaXMuJGFwaUNsaWVudC4kdmFsaWRhdGVQYXJhbWV0ZXIocHJvamVjdCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLnZhbHVlLmNvbXB1dGVcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHByb2plY3QgKyBcIi92YWx1ZTpjb21wdXRlXCIsIHF1ZXJ5UGFyYW1zOm1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRyZXF1ZXN0X3BhcmFtc19idWlsZFF1ZXJ5UGFyYW1zKG5hbWVkUGFyYW1ldGVycywgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnRfUEFSQU1fTUFQXzAsIHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzKSwgcmVzcG9uc2VDdG9yOm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVZhbHVlUmVzcG9uc2V9KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmFsdWVBcGlDbGllbnQgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c1ZpZGVvQXBpQ2xpZW50JFhnYWZ2RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c1ZpZGVvQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9BcGlDbGllbnQkWGdhZnZFbnVtID0gezE6XCIxXCIsIDI6XCIyXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9BcGlDbGllbnQkWGdhZnZFbnVtWzFdLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9BcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNWaWRlb0FwaUNsaWVudEFsdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNWaWRlb0FwaUNsaWVudEFsdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb0FwaUNsaWVudEFsdEVudW0uSlNPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvQXBpQ2xpZW50QWx0RW51bS5NRURJQSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb0FwaUNsaWVudEltcGwgPSBmdW5jdGlvbihnYXBpVmVyc2lvbiwgZ2FwaVJlcXVlc3RTZXJ2aWNlLCBhcGlDbGllbnRIb29rRmFjdG9yeSkge1xuICB0aGlzLmdhcGlWZXJzaW9uID0gZ2FwaVZlcnNpb247XG4gIHRoaXMuJGFwaUNsaWVudCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudChnYXBpUmVxdWVzdFNlcnZpY2UsIHZvaWQgMCA9PT0gYXBpQ2xpZW50SG9va0ZhY3RvcnkgPyBudWxsIDogYXBpQ2xpZW50SG9va0ZhY3RvcnkpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb0FwaUNsaWVudEltcGwucHJvdG90eXBlLmV4cG9ydCA9IGZ1bmN0aW9uKHByb2plY3QsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHByb2plY3QsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy52aWRlby5leHBvcnRcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHByb2plY3QgKyBcIi92aWRlbzpleHBvcnRcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb259KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9BcGlDbGllbnQgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c1ZpZGVvTWFwQXBpQ2xpZW50JFhnYWZ2RW51bSA9IGZ1bmN0aW9uIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X0lQcm9qZWN0c1ZpZGVvTWFwQXBpQ2xpZW50JFhnYWZ2RW51bSgpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9NYXBBcGlDbGllbnQkWGdhZnZFbnVtID0gezE6XCIxXCIsIDI6XCIyXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9NYXBBcGlDbGllbnQkWGdhZnZFbnVtWzFdLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9NYXBBcGlDbGllbnQkWGdhZnZFbnVtWzJdXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JUHJvamVjdHNWaWRlb01hcEFwaUNsaWVudEFsdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNWaWRlb01hcEFwaUNsaWVudEFsdEVudW0oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvTWFwQXBpQ2xpZW50QWx0RW51bSA9IHtKU09OOlwianNvblwiLCBNRURJQTpcIm1lZGlhXCIsIFBST1RPOlwicHJvdG9cIiwgdmFsdWVzOmZ1bmN0aW9uKCkge1xuICByZXR1cm4gW21vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb01hcEFwaUNsaWVudEFsdEVudW0uSlNPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvTWFwQXBpQ2xpZW50QWx0RW51bS5NRURJQSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvTWFwQXBpQ2xpZW50QWx0RW51bS5QUk9UT107XG59fTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb01hcEFwaUNsaWVudEltcGwgPSBmdW5jdGlvbihnYXBpVmVyc2lvbiwgZ2FwaVJlcXVlc3RTZXJ2aWNlLCBhcGlDbGllbnRIb29rRmFjdG9yeSkge1xuICB0aGlzLmdhcGlWZXJzaW9uID0gZ2FwaVZlcnNpb247XG4gIHRoaXMuJGFwaUNsaWVudCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudChnYXBpUmVxdWVzdFNlcnZpY2UsIHZvaWQgMCA9PT0gYXBpQ2xpZW50SG9va0ZhY3RvcnkgPyBudWxsIDogYXBpQ2xpZW50SG9va0ZhY3RvcnkpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb01hcEFwaUNsaWVudEltcGwucHJvdG90eXBlLmV4cG9ydCA9IGZ1bmN0aW9uKHByb2plY3QsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHByb2plY3QsIFJlZ0V4cChcIl5wcm9qZWN0cy9bXi9dKyRcIikpO1xuICByZXR1cm4gdGhpcy4kYXBpQ2xpZW50LiRyZXF1ZXN0KHtib2R5OiRyZXF1ZXN0Qm9keSwgaHR0cE1ldGhvZDpcIlBPU1RcIiwgbWV0aG9kSWQ6XCJlYXJ0aGVuZ2luZS5wcm9qZWN0cy52aWRlb01hcC5leHBvcnRcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHByb2plY3QgKyBcIi92aWRlb01hcDpleHBvcnRcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb259KTtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9NYXBBcGlDbGllbnQgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnQkWGdhZnZFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnQkWGdhZnZFbnVtID0gezE6XCIxXCIsIDI6XCIyXCIsIHZhbHVlczpmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFttb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9UaHVtYm5haWxzQXBpQ2xpZW50JFhnYWZ2RW51bVsxXSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudCRYZ2FmdkVudW1bMl1dO1xufX07XG5tb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LklQcm9qZWN0c1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0gPSBmdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9JUHJvamVjdHNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnRBbHRFbnVtKCkge1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnRBbHRFbnVtID0ge0pTT046XCJqc29uXCIsIE1FRElBOlwibWVkaWFcIiwgUFJPVE86XCJwcm90b1wiLCB2YWx1ZXM6ZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0uSlNPTiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudEFsdEVudW0uTUVESUEsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnRBbHRFbnVtLlBST1RPXTtcbn19O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudEltcGwgPSBmdW5jdGlvbihnYXBpVmVyc2lvbiwgZ2FwaVJlcXVlc3RTZXJ2aWNlLCBhcGlDbGllbnRIb29rRmFjdG9yeSkge1xuICB0aGlzLmdhcGlWZXJzaW9uID0gZ2FwaVZlcnNpb247XG4gIHRoaXMuJGFwaUNsaWVudCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX2FwaV9jbGllbnQuUHJvbWlzZUFwaUNsaWVudChnYXBpUmVxdWVzdFNlcnZpY2UsIHZvaWQgMCA9PT0gYXBpQ2xpZW50SG9va0ZhY3RvcnkgPyBudWxsIDogYXBpQ2xpZW50SG9va0ZhY3RvcnkpO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnRJbXBsLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbihwYXJlbnQsICRyZXF1ZXN0Qm9keSwgbmFtZWRQYXJhbWV0ZXJzLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycykge1xuICBuYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IG5hbWVkUGFyYW1ldGVycyA/IHt9IDogbmFtZWRQYXJhbWV0ZXJzO1xuICBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyA9IHZvaWQgMCA9PT0gcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPyB7fSA6IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzO1xuICB0aGlzLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyKHBhcmVudCwgUmVnRXhwKFwiXnByb2plY3RzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6JHJlcXVlc3RCb2R5LCBodHRwTWV0aG9kOlwiUE9TVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLnZpZGVvVGh1bWJuYWlscy5jcmVhdGVcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIHBhcmVudCArIFwiL3ZpZGVvVGh1bWJuYWlsc1wiLCBxdWVyeVBhcmFtczptb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfYnVpbGRRdWVyeVBhcmFtcyhuYW1lZFBhcmFtZXRlcnMsIG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50X1BBUkFNX01BUF8wLCBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycyksIHJlc3BvbnNlQ3Rvcjptb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvVGh1bWJuYWlsfSk7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZpZGVvVGh1bWJuYWlsc0FwaUNsaWVudEltcGwucHJvdG90eXBlLmdldFBpeGVscyA9IGZ1bmN0aW9uKG5hbWUsIG5hbWVkUGFyYW1ldGVycywgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpIHtcbiAgbmFtZWRQYXJhbWV0ZXJzID0gdm9pZCAwID09PSBuYW1lZFBhcmFtZXRlcnMgPyB7fSA6IG5hbWVkUGFyYW1ldGVycztcbiAgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMgPSB2b2lkIDAgPT09IHBhc3N0aHJvdWdoTmFtZWRQYXJhbWV0ZXJzID8ge30gOiBwYXNzdGhyb3VnaE5hbWVkUGFyYW1ldGVycztcbiAgdGhpcy4kYXBpQ2xpZW50LiR2YWxpZGF0ZVBhcmFtZXRlcihuYW1lLCBSZWdFeHAoXCJecHJvamVjdHMvW14vXSsvdmlkZW9UaHVtYm5haWxzL1teL10rJFwiKSk7XG4gIHJldHVybiB0aGlzLiRhcGlDbGllbnQuJHJlcXVlc3Qoe2JvZHk6bnVsbCwgaHR0cE1ldGhvZDpcIkdFVFwiLCBtZXRob2RJZDpcImVhcnRoZW5naW5lLnByb2plY3RzLnZpZGVvVGh1bWJuYWlscy5nZXRQaXhlbHNcIiwgcGF0aDpcIi9cIiArIHRoaXMuZ2FwaVZlcnNpb24gKyBcIi9cIiArIG5hbWUgKyBcIjpnZXRQaXhlbHNcIiwgcXVlcnlQYXJhbXM6bW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX2J1aWxkUXVlcnlQYXJhbXMobmFtZWRQYXJhbWV0ZXJzLCBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudF9QQVJBTV9NQVBfMCwgcGFzc3Rocm91Z2hOYW1lZFBhcmFtZXRlcnMpLCByZXNwb25zZUN0b3I6bW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5IdHRwQm9keX0pO1xufTtcbm1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnQgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5hcGkgPSBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50O1xudmFyIG1vZHVsZSRleHBvcnRzJGVlJGFwaVZlcnNpb24gPSB7VjFBTFBIQTpcInYxYWxwaGFcIn07XG5tb2R1bGUkZXhwb3J0cyRlZSRhcGlWZXJzaW9uLlZFUlNJT04gPSBtb2R1bGUkZXhwb3J0cyRlZSRhcGlWZXJzaW9uLlYxQUxQSEE7XG52YXIgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9yZXF1ZXN0X3NlcnZpY2UgPSB7fSwgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHByb21pc2VfcmVxdWVzdF9zZXJ2aWNlX21vZHVsZSA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRwcm9taXNlX3JlcXVlc3Rfc2VydmljZV9tb2R1bGUgfHwge2lkOlwiamF2YXNjcmlwdC90eXBlc2NyaXB0L2NvbnRyaWIvYXBpY2xpZW50L3JlcXVlc3Rfc2VydmljZS9wcm9taXNlX3JlcXVlc3Rfc2VydmljZS5jbG9zdXJlLmpzXCJ9O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9yZXF1ZXN0X3NlcnZpY2UuUHJvbWlzZVJlcXVlc3RTZXJ2aWNlID0gZnVuY3Rpb24oKSB7XG59O1xubW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9yZXF1ZXN0X3NlcnZpY2UuUHJvbWlzZVJlcXVlc3RTZXJ2aWNlLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24ocGFyYW1zLCByZXNwb25zZUN0b3IpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX3Byb2Nlc3NQYXJhbXMocGFyYW1zKTtcbiAgcmV0dXJuIHRoaXMubWFrZVJlcXVlc3QocGFyYW1zKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIHJlc3BvbnNlQ3RvciA/IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2Rlc2VyaWFsaXplKHJlc3BvbnNlQ3RvciwgcmVzcG9uc2UpIDogcmVzcG9uc2U7XG4gIH0pO1xufTtcbmdvb2cuYXN5bmMgPSB7fTtcbmdvb2cuYXN5bmMuRnJlZUxpc3QgPSBmdW5jdGlvbihjcmVhdGUsIHJlc2V0LCBsaW1pdCkge1xuICB0aGlzLmxpbWl0XyA9IGxpbWl0O1xuICB0aGlzLmNyZWF0ZV8gPSBjcmVhdGU7XG4gIHRoaXMucmVzZXRfID0gcmVzZXQ7XG4gIHRoaXMub2NjdXBhbnRzXyA9IDA7XG4gIHRoaXMuaGVhZF8gPSBudWxsO1xufTtcbmdvb2cuYXN5bmMuRnJlZUxpc3QucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKCkge1xuICBpZiAoMCA8IHRoaXMub2NjdXBhbnRzXykge1xuICAgIHRoaXMub2NjdXBhbnRzXy0tO1xuICAgIHZhciBpdGVtID0gdGhpcy5oZWFkXztcbiAgICB0aGlzLmhlYWRfID0gaXRlbS5uZXh0O1xuICAgIGl0ZW0ubmV4dCA9IG51bGw7XG4gIH0gZWxzZSB7XG4gICAgaXRlbSA9IHRoaXMuY3JlYXRlXygpO1xuICB9XG4gIHJldHVybiBpdGVtO1xufTtcbmdvb2cuYXN5bmMuRnJlZUxpc3QucHJvdG90eXBlLnB1dCA9IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgdGhpcy5yZXNldF8oaXRlbSk7XG4gIHRoaXMub2NjdXBhbnRzXyA8IHRoaXMubGltaXRfICYmICh0aGlzLm9jY3VwYW50c18rKywgaXRlbS5uZXh0ID0gdGhpcy5oZWFkXywgdGhpcy5oZWFkXyA9IGl0ZW0pO1xufTtcbmdvb2cuYXN5bmMuRnJlZUxpc3QucHJvdG90eXBlLm9jY3VwYW50cyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5vY2N1cGFudHNfO1xufTtcbmdvb2cuZG9tLkJyb3dzZXJGZWF0dXJlID0ge307XG5nb29nLmRvbS5Ccm93c2VyRmVhdHVyZS5BU1NVTUVfTk9fT0ZGU0NSRUVOX0NBTlZBUyA9ICExO1xuZ29vZy5kb20uQnJvd3NlckZlYXR1cmUuQVNTVU1FX09GRlNDUkVFTl9DQU5WQVMgPSAhMTtcbmdvb2cuZG9tLkJyb3dzZXJGZWF0dXJlLmRldGVjdE9mZnNjcmVlbkNhbnZhc18gPSBmdW5jdGlvbihjb250ZXh0TmFtZSkge1xuICB0cnkge1xuICAgIHJldHVybiAhIShuZXcgc2VsZi5PZmZzY3JlZW5DYW52YXMoMCwgMCkpLmdldENvbnRleHQoY29udGV4dE5hbWUpO1xuICB9IGNhdGNoIChleCkge1xuICB9XG4gIHJldHVybiAhMTtcbn07XG5nb29nLmRvbS5Ccm93c2VyRmVhdHVyZS5PRkZTQ1JFRU5fQ0FOVkFTXzJEID0gIWdvb2cuZG9tLkJyb3dzZXJGZWF0dXJlLkFTU1VNRV9OT19PRkZTQ1JFRU5fQ0FOVkFTICYmIChnb29nLmRvbS5Ccm93c2VyRmVhdHVyZS5BU1NVTUVfT0ZGU0NSRUVOX0NBTlZBUyB8fCBnb29nLmRvbS5Ccm93c2VyRmVhdHVyZS5kZXRlY3RPZmZzY3JlZW5DYW52YXNfKFwiMmRcIikpO1xuZ29vZy5kb20uQnJvd3NlckZlYXR1cmUuQ0FOX0FERF9OQU1FX09SX1RZUEVfQVRUUklCVVRFUyA9ICEwO1xuZ29vZy5kb20uQnJvd3NlckZlYXR1cmUuQ0FOX1VTRV9DSElMRFJFTl9BVFRSSUJVVEUgPSAhMDtcbmdvb2cuZG9tLkJyb3dzZXJGZWF0dXJlLkNBTl9VU0VfSU5ORVJfVEVYVCA9ICExO1xuZ29vZy5kb20uQnJvd3NlckZlYXR1cmUuQ0FOX1VTRV9QQVJFTlRfRUxFTUVOVF9QUk9QRVJUWSA9IGdvb2cudXNlckFnZW50LklFIHx8IGdvb2cudXNlckFnZW50LldFQktJVDtcbmdvb2cuZG9tLkJyb3dzZXJGZWF0dXJlLklOTkVSX0hUTUxfTkVFRFNfU0NPUEVEX0VMRU1FTlQgPSBnb29nLnVzZXJBZ2VudC5JRTtcbmdvb2cubWF0aC5Db29yZGluYXRlID0gZnVuY3Rpb24ob3B0X3gsIG9wdF95KSB7XG4gIHRoaXMueCA9IHZvaWQgMCAhPT0gb3B0X3ggPyBvcHRfeCA6IDA7XG4gIHRoaXMueSA9IHZvaWQgMCAhPT0gb3B0X3kgPyBvcHRfeSA6IDA7XG59O1xuZ29vZy5tYXRoLkNvb3JkaW5hdGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLkNvb3JkaW5hdGUodGhpcy54LCB0aGlzLnkpO1xufTtcbmdvb2cuREVCVUcgJiYgKGdvb2cubWF0aC5Db29yZGluYXRlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gXCIoXCIgKyB0aGlzLnggKyBcIiwgXCIgKyB0aGlzLnkgKyBcIilcIjtcbn0pO1xuZ29vZy5tYXRoLkNvb3JkaW5hdGUucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uKG90aGVyKSB7XG4gIHJldHVybiBvdGhlciBpbnN0YW5jZW9mIGdvb2cubWF0aC5Db29yZGluYXRlICYmIGdvb2cubWF0aC5Db29yZGluYXRlLmVxdWFscyh0aGlzLCBvdGhlcik7XG59O1xuZ29vZy5tYXRoLkNvb3JkaW5hdGUuZXF1YWxzID0gZnVuY3Rpb24oYSwgYikge1xuICByZXR1cm4gYSA9PSBiID8gITAgOiBhICYmIGIgPyBhLnggPT0gYi54ICYmIGEueSA9PSBiLnkgOiAhMTtcbn07XG5nb29nLm1hdGguQ29vcmRpbmF0ZS5kaXN0YW5jZSA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgdmFyIGR4ID0gYS54IC0gYi54LCBkeSA9IGEueSAtIGIueTtcbiAgcmV0dXJuIE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG59O1xuZ29vZy5tYXRoLkNvb3JkaW5hdGUubWFnbml0dWRlID0gZnVuY3Rpb24oYSkge1xuICByZXR1cm4gTWF0aC5zcXJ0KGEueCAqIGEueCArIGEueSAqIGEueSk7XG59O1xuZ29vZy5tYXRoLkNvb3JkaW5hdGUuYXppbXV0aCA9IGZ1bmN0aW9uKGEpIHtcbiAgcmV0dXJuIGdvb2cubWF0aC5hbmdsZSgwLCAwLCBhLngsIGEueSk7XG59O1xuZ29vZy5tYXRoLkNvb3JkaW5hdGUuc3F1YXJlZERpc3RhbmNlID0gZnVuY3Rpb24oYSwgYikge1xuICB2YXIgZHggPSBhLnggLSBiLngsIGR5ID0gYS55IC0gYi55O1xuICByZXR1cm4gZHggKiBkeCArIGR5ICogZHk7XG59O1xuZ29vZy5tYXRoLkNvb3JkaW5hdGUuZGlmZmVyZW5jZSA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIG5ldyBnb29nLm1hdGguQ29vcmRpbmF0ZShhLnggLSBiLngsIGEueSAtIGIueSk7XG59O1xuZ29vZy5tYXRoLkNvb3JkaW5hdGUuc3VtID0gZnVuY3Rpb24oYSwgYikge1xuICByZXR1cm4gbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKGEueCArIGIueCwgYS55ICsgYi55KTtcbn07XG5nb29nLm1hdGguQ29vcmRpbmF0ZS5wcm90b3R5cGUuY2VpbCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnggPSBNYXRoLmNlaWwodGhpcy54KTtcbiAgdGhpcy55ID0gTWF0aC5jZWlsKHRoaXMueSk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cubWF0aC5Db29yZGluYXRlLnByb3RvdHlwZS5mbG9vciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnggPSBNYXRoLmZsb29yKHRoaXMueCk7XG4gIHRoaXMueSA9IE1hdGguZmxvb3IodGhpcy55KTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5tYXRoLkNvb3JkaW5hdGUucHJvdG90eXBlLnJvdW5kID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMueCA9IE1hdGgucm91bmQodGhpcy54KTtcbiAgdGhpcy55ID0gTWF0aC5yb3VuZCh0aGlzLnkpO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLm1hdGguQ29vcmRpbmF0ZS5wcm90b3R5cGUudHJhbnNsYXRlID0gZnVuY3Rpb24odHgsIG9wdF90eSkge1xuICB0eCBpbnN0YW5jZW9mIGdvb2cubWF0aC5Db29yZGluYXRlID8gKHRoaXMueCArPSB0eC54LCB0aGlzLnkgKz0gdHgueSkgOiAodGhpcy54ICs9IE51bWJlcih0eCksIFwibnVtYmVyXCIgPT09IHR5cGVvZiBvcHRfdHkgJiYgKHRoaXMueSArPSBvcHRfdHkpKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5tYXRoLkNvb3JkaW5hdGUucHJvdG90eXBlLnNjYWxlID0gZnVuY3Rpb24oc3gsIG9wdF9zeSkge1xuICB2YXIgc3k7XG4gIHRoaXMueCAqPSBzeDtcbiAgdGhpcy55ICo9IFwibnVtYmVyXCIgPT09IHR5cGVvZiBvcHRfc3kgPyBvcHRfc3kgOiBzeDtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5tYXRoLkNvb3JkaW5hdGUucHJvdG90eXBlLnJvdGF0ZVJhZGlhbnMgPSBmdW5jdGlvbihyYWRpYW5zLCBvcHRfY2VudGVyKSB7XG4gIHZhciBjZW50ZXIgPSBvcHRfY2VudGVyIHx8IG5ldyBnb29nLm1hdGguQ29vcmRpbmF0ZSgwLCAwKSwgeCA9IHRoaXMueCwgeSA9IHRoaXMueSwgY29zID0gTWF0aC5jb3MocmFkaWFucyksIHNpbiA9IE1hdGguc2luKHJhZGlhbnMpO1xuICB0aGlzLnggPSAoeCAtIGNlbnRlci54KSAqIGNvcyAtICh5IC0gY2VudGVyLnkpICogc2luICsgY2VudGVyLng7XG4gIHRoaXMueSA9ICh4IC0gY2VudGVyLngpICogc2luICsgKHkgLSBjZW50ZXIueSkgKiBjb3MgKyBjZW50ZXIueTtcbn07XG5nb29nLm1hdGguQ29vcmRpbmF0ZS5wcm90b3R5cGUucm90YXRlRGVncmVlcyA9IGZ1bmN0aW9uKGRlZ3JlZXMsIG9wdF9jZW50ZXIpIHtcbiAgdGhpcy5yb3RhdGVSYWRpYW5zKGdvb2cubWF0aC50b1JhZGlhbnMoZGVncmVlcyksIG9wdF9jZW50ZXIpO1xufTtcbmdvb2cubWF0aC5TaXplID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xuICB0aGlzLndpZHRoID0gd2lkdGg7XG4gIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xufTtcbmdvb2cubWF0aC5TaXplLmVxdWFscyA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGEgPT0gYiA/ICEwIDogYSAmJiBiID8gYS53aWR0aCA9PSBiLndpZHRoICYmIGEuaGVpZ2h0ID09IGIuaGVpZ2h0IDogITE7XG59O1xuZ29vZy5tYXRoLlNpemUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLlNpemUodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xufTtcbmdvb2cuREVCVUcgJiYgKGdvb2cubWF0aC5TaXplLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gXCIoXCIgKyB0aGlzLndpZHRoICsgXCIgeCBcIiArIHRoaXMuaGVpZ2h0ICsgXCIpXCI7XG59KTtcbmdvb2cubWF0aC5TaXplLnByb3RvdHlwZS5nZXRMb25nZXN0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBNYXRoLm1heCh0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG59O1xuZ29vZy5tYXRoLlNpemUucHJvdG90eXBlLmdldFNob3J0ZXN0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBNYXRoLm1pbih0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG59O1xuZ29vZy5tYXRoLlNpemUucHJvdG90eXBlLmFyZWEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMud2lkdGggKiB0aGlzLmhlaWdodDtcbn07XG5nb29nLm1hdGguU2l6ZS5wcm90b3R5cGUucGVyaW1ldGVyID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAyICogKHRoaXMud2lkdGggKyB0aGlzLmhlaWdodCk7XG59O1xuZ29vZy5tYXRoLlNpemUucHJvdG90eXBlLmFzcGVjdFJhdGlvID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLndpZHRoIC8gdGhpcy5oZWlnaHQ7XG59O1xuZ29vZy5tYXRoLlNpemUucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICF0aGlzLmFyZWEoKTtcbn07XG5nb29nLm1hdGguU2l6ZS5wcm90b3R5cGUuY2VpbCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLndpZHRoID0gTWF0aC5jZWlsKHRoaXMud2lkdGgpO1xuICB0aGlzLmhlaWdodCA9IE1hdGguY2VpbCh0aGlzLmhlaWdodCk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cubWF0aC5TaXplLnByb3RvdHlwZS5maXRzSW5zaWRlID0gZnVuY3Rpb24odGFyZ2V0KSB7XG4gIHJldHVybiB0aGlzLndpZHRoIDw9IHRhcmdldC53aWR0aCAmJiB0aGlzLmhlaWdodCA8PSB0YXJnZXQuaGVpZ2h0O1xufTtcbmdvb2cubWF0aC5TaXplLnByb3RvdHlwZS5mbG9vciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLndpZHRoID0gTWF0aC5mbG9vcih0aGlzLndpZHRoKTtcbiAgdGhpcy5oZWlnaHQgPSBNYXRoLmZsb29yKHRoaXMuaGVpZ2h0KTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5tYXRoLlNpemUucHJvdG90eXBlLnJvdW5kID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMud2lkdGggPSBNYXRoLnJvdW5kKHRoaXMud2lkdGgpO1xuICB0aGlzLmhlaWdodCA9IE1hdGgucm91bmQodGhpcy5oZWlnaHQpO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLm1hdGguU2l6ZS5wcm90b3R5cGUuc2NhbGUgPSBmdW5jdGlvbihzeCwgb3B0X3N5KSB7XG4gIHZhciBzeTtcbiAgdGhpcy53aWR0aCAqPSBzeDtcbiAgdGhpcy5oZWlnaHQgKj0gXCJudW1iZXJcIiA9PT0gdHlwZW9mIG9wdF9zeSA/IG9wdF9zeSA6IHN4O1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLm1hdGguU2l6ZS5wcm90b3R5cGUuc2NhbGVUb0NvdmVyID0gZnVuY3Rpb24odGFyZ2V0KSB7XG4gIHZhciBzID0gdGhpcy5hc3BlY3RSYXRpbygpIDw9IHRhcmdldC5hc3BlY3RSYXRpbygpID8gdGFyZ2V0LndpZHRoIC8gdGhpcy53aWR0aCA6IHRhcmdldC5oZWlnaHQgLyB0aGlzLmhlaWdodDtcbiAgcmV0dXJuIHRoaXMuc2NhbGUocyk7XG59O1xuZ29vZy5tYXRoLlNpemUucHJvdG90eXBlLnNjYWxlVG9GaXQgPSBmdW5jdGlvbih0YXJnZXQpIHtcbiAgdmFyIHMgPSB0aGlzLmFzcGVjdFJhdGlvKCkgPiB0YXJnZXQuYXNwZWN0UmF0aW8oKSA/IHRhcmdldC53aWR0aCAvIHRoaXMud2lkdGggOiB0YXJnZXQuaGVpZ2h0IC8gdGhpcy5oZWlnaHQ7XG4gIHJldHVybiB0aGlzLnNjYWxlKHMpO1xufTtcbmdvb2cuZG9tLkFwcGVuZGFibGUgPSB7fTtcbmdvb2cuZG9tLkFTU1VNRV9RVUlSS1NfTU9ERSA9ICExO1xuZ29vZy5kb20uQVNTVU1FX1NUQU5EQVJEU19NT0RFID0gITE7XG5nb29nLmRvbS5DT01QQVRfTU9ERV9LTk9XTl8gPSBnb29nLmRvbS5BU1NVTUVfUVVJUktTX01PREUgfHwgZ29vZy5kb20uQVNTVU1FX1NUQU5EQVJEU19NT0RFO1xuZ29vZy5kb20uZ2V0RG9tSGVscGVyID0gZnVuY3Rpb24ob3B0X2VsZW1lbnQpIHtcbiAgcmV0dXJuIG9wdF9lbGVtZW50ID8gbmV3IGdvb2cuZG9tLkRvbUhlbHBlcihnb29nLmRvbS5nZXRPd25lckRvY3VtZW50KG9wdF9lbGVtZW50KSkgOiBnb29nLmRvbS5kZWZhdWx0RG9tSGVscGVyXyB8fCAoZ29vZy5kb20uZGVmYXVsdERvbUhlbHBlcl8gPSBuZXcgZ29vZy5kb20uRG9tSGVscGVyKCkpO1xufTtcbmdvb2cuZG9tLmdldERvY3VtZW50ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBkb2N1bWVudDtcbn07XG5nb29nLmRvbS5nZXRFbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gZ29vZy5kb20uZ2V0RWxlbWVudEhlbHBlcl8oZG9jdW1lbnQsIGVsZW1lbnQpO1xufTtcbmdvb2cuZG9tLmdldEhUTUxFbGVtZW50ID0gZnVuY3Rpb24oaWQpIHtcbiAgdmFyIGVsZW1lbnQgPSBnb29nLmRvbS5nZXRFbGVtZW50KGlkKTtcbiAgcmV0dXJuIGVsZW1lbnQgPyBnb29nLmFzc2VydHMuYXNzZXJ0SW5zdGFuY2VvZihlbGVtZW50LCBIVE1MRWxlbWVudCkgOiBudWxsO1xufTtcbmdvb2cuZG9tLmdldEVsZW1lbnRIZWxwZXJfID0gZnVuY3Rpb24oZG9jLCBlbGVtZW50KSB7XG4gIHJldHVybiBcInN0cmluZ1wiID09PSB0eXBlb2YgZWxlbWVudCA/IGRvYy5nZXRFbGVtZW50QnlJZChlbGVtZW50KSA6IGVsZW1lbnQ7XG59O1xuZ29vZy5kb20uZ2V0UmVxdWlyZWRFbGVtZW50ID0gZnVuY3Rpb24oaWQpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmdldFJlcXVpcmVkRWxlbWVudEhlbHBlcl8oZG9jdW1lbnQsIGlkKTtcbn07XG5nb29nLmRvbS5nZXRSZXF1aXJlZEhUTUxFbGVtZW50ID0gZnVuY3Rpb24oaWQpIHtcbiAgcmV0dXJuIGdvb2cuYXNzZXJ0cy5hc3NlcnRJbnN0YW5jZW9mKGdvb2cuZG9tLmdldFJlcXVpcmVkRWxlbWVudEhlbHBlcl8oZG9jdW1lbnQsIGlkKSwgSFRNTEVsZW1lbnQpO1xufTtcbmdvb2cuZG9tLmdldFJlcXVpcmVkRWxlbWVudEhlbHBlcl8gPSBmdW5jdGlvbihkb2MsIGlkKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnRTdHJpbmcoaWQpO1xuICB2YXIgZWxlbWVudCA9IGdvb2cuZG9tLmdldEVsZW1lbnRIZWxwZXJfKGRvYywgaWQpO1xuICByZXR1cm4gZWxlbWVudCA9IGdvb2cuYXNzZXJ0cy5hc3NlcnRFbGVtZW50KGVsZW1lbnQsIFwiTm8gZWxlbWVudCBmb3VuZCB3aXRoIGlkOiBcIiArIGlkKTtcbn07XG5nb29nLmRvbS4kID0gZ29vZy5kb20uZ2V0RWxlbWVudDtcbmdvb2cuZG9tLmdldEVsZW1lbnRzQnlUYWdOYW1lID0gZnVuY3Rpb24odGFnTmFtZSwgb3B0X3BhcmVudCkge1xuICByZXR1cm4gKG9wdF9wYXJlbnQgfHwgZG9jdW1lbnQpLmdldEVsZW1lbnRzQnlUYWdOYW1lKFN0cmluZyh0YWdOYW1lKSk7XG59O1xuZ29vZy5kb20uZ2V0RWxlbWVudHNCeVRhZ05hbWVBbmRDbGFzcyA9IGZ1bmN0aW9uKG9wdF90YWcsIG9wdF9jbGFzcywgb3B0X2VsKSB7XG4gIHJldHVybiBnb29nLmRvbS5nZXRFbGVtZW50c0J5VGFnTmFtZUFuZENsYXNzXyhkb2N1bWVudCwgb3B0X3RhZywgb3B0X2NsYXNzLCBvcHRfZWwpO1xufTtcbmdvb2cuZG9tLmdldEVsZW1lbnRCeVRhZ05hbWVBbmRDbGFzcyA9IGZ1bmN0aW9uKG9wdF90YWcsIG9wdF9jbGFzcywgb3B0X2VsKSB7XG4gIHJldHVybiBnb29nLmRvbS5nZXRFbGVtZW50QnlUYWdOYW1lQW5kQ2xhc3NfKGRvY3VtZW50LCBvcHRfdGFnLCBvcHRfY2xhc3MsIG9wdF9lbCk7XG59O1xuZ29vZy5kb20uZ2V0RWxlbWVudHNCeUNsYXNzID0gZnVuY3Rpb24oY2xhc3NOYW1lLCBvcHRfZWwpIHtcbiAgdmFyIHBhcmVudCA9IG9wdF9lbCB8fCBkb2N1bWVudDtcbiAgcmV0dXJuIGdvb2cuZG9tLmNhblVzZVF1ZXJ5U2VsZWN0b3JfKHBhcmVudCkgPyBwYXJlbnQucXVlcnlTZWxlY3RvckFsbChcIi5cIiArIGNsYXNzTmFtZSkgOiBnb29nLmRvbS5nZXRFbGVtZW50c0J5VGFnTmFtZUFuZENsYXNzXyhkb2N1bWVudCwgXCIqXCIsIGNsYXNzTmFtZSwgb3B0X2VsKTtcbn07XG5nb29nLmRvbS5nZXRFbGVtZW50QnlDbGFzcyA9IGZ1bmN0aW9uKGNsYXNzTmFtZSwgb3B0X2VsKSB7XG4gIHZhciBwYXJlbnQgPSBvcHRfZWwgfHwgZG9jdW1lbnQsIHJldFZhbCA9IG51bGw7XG4gIHJldHVybiAocmV0VmFsID0gcGFyZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgPyBwYXJlbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShjbGFzc05hbWUpWzBdIDogZ29vZy5kb20uZ2V0RWxlbWVudEJ5VGFnTmFtZUFuZENsYXNzXyhkb2N1bWVudCwgXCIqXCIsIGNsYXNzTmFtZSwgb3B0X2VsKSkgfHwgbnVsbDtcbn07XG5nb29nLmRvbS5nZXRIVE1MRWxlbWVudEJ5Q2xhc3MgPSBmdW5jdGlvbihjbGFzc05hbWUsIG9wdF9wYXJlbnQpIHtcbiAgdmFyIGVsZW1lbnQgPSBnb29nLmRvbS5nZXRFbGVtZW50QnlDbGFzcyhjbGFzc05hbWUsIG9wdF9wYXJlbnQpO1xuICByZXR1cm4gZWxlbWVudCA/IGdvb2cuYXNzZXJ0cy5hc3NlcnRJbnN0YW5jZW9mKGVsZW1lbnQsIEhUTUxFbGVtZW50KSA6IG51bGw7XG59O1xuZ29vZy5kb20uZ2V0UmVxdWlyZWRFbGVtZW50QnlDbGFzcyA9IGZ1bmN0aW9uKGNsYXNzTmFtZSwgb3B0X3Jvb3QpIHtcbiAgdmFyIHJldFZhbHVlID0gZ29vZy5kb20uZ2V0RWxlbWVudEJ5Q2xhc3MoY2xhc3NOYW1lLCBvcHRfcm9vdCk7XG4gIHJldHVybiBnb29nLmFzc2VydHMuYXNzZXJ0KHJldFZhbHVlLCBcIk5vIGVsZW1lbnQgZm91bmQgd2l0aCBjbGFzc05hbWU6IFwiICsgY2xhc3NOYW1lKTtcbn07XG5nb29nLmRvbS5nZXRSZXF1aXJlZEhUTUxFbGVtZW50QnlDbGFzcyA9IGZ1bmN0aW9uKGNsYXNzTmFtZSwgb3B0X3BhcmVudCkge1xuICB2YXIgcmV0VmFsdWUgPSBnb29nLmRvbS5nZXRFbGVtZW50QnlDbGFzcyhjbGFzc05hbWUsIG9wdF9wYXJlbnQpO1xuICByZXR1cm4gZ29vZy5hc3NlcnRzLmFzc2VydEluc3RhbmNlb2YocmV0VmFsdWUsIEhUTUxFbGVtZW50LCBcIk5vIEhUTUxFbGVtZW50IGZvdW5kIHdpdGggY2xhc3NOYW1lOiBcIiArIGNsYXNzTmFtZSk7XG59O1xuZ29vZy5kb20uY2FuVXNlUXVlcnlTZWxlY3Rvcl8gPSBmdW5jdGlvbihwYXJlbnQpIHtcbiAgcmV0dXJuICEoIXBhcmVudC5xdWVyeVNlbGVjdG9yQWxsIHx8ICFwYXJlbnQucXVlcnlTZWxlY3Rvcik7XG59O1xuZ29vZy5kb20uZ2V0RWxlbWVudHNCeVRhZ05hbWVBbmRDbGFzc18gPSBmdW5jdGlvbihkb2MsIG9wdF90YWcsIG9wdF9jbGFzcywgb3B0X2VsKSB7XG4gIHZhciBwYXJlbnQgPSBvcHRfZWwgfHwgZG9jLCB0YWdOYW1lID0gb3B0X3RhZyAmJiBcIipcIiAhPSBvcHRfdGFnID8gU3RyaW5nKG9wdF90YWcpLnRvVXBwZXJDYXNlKCkgOiBcIlwiO1xuICBpZiAoZ29vZy5kb20uY2FuVXNlUXVlcnlTZWxlY3Rvcl8ocGFyZW50KSAmJiAodGFnTmFtZSB8fCBvcHRfY2xhc3MpKSB7XG4gICAgcmV0dXJuIHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKHRhZ05hbWUgKyAob3B0X2NsYXNzID8gXCIuXCIgKyBvcHRfY2xhc3MgOiBcIlwiKSk7XG4gIH1cbiAgaWYgKG9wdF9jbGFzcyAmJiBwYXJlbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSkge1xuICAgIHZhciBlbHMgPSBwYXJlbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShvcHRfY2xhc3MpO1xuICAgIGlmICh0YWdOYW1lKSB7XG4gICAgICBmb3IgKHZhciBhcnJheUxpa2UgPSB7fSwgbGVuID0gMCwgaSA9IDAsIGVsOyBlbCA9IGVsc1tpXTsgaSsrKSB7XG4gICAgICAgIHRhZ05hbWUgPT0gZWwubm9kZU5hbWUgJiYgKGFycmF5TGlrZVtsZW4rK10gPSBlbCk7XG4gICAgICB9XG4gICAgICBhcnJheUxpa2UubGVuZ3RoID0gbGVuO1xuICAgICAgcmV0dXJuIGFycmF5TGlrZTtcbiAgICB9XG4gICAgcmV0dXJuIGVscztcbiAgfVxuICBlbHMgPSBwYXJlbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFnTmFtZSB8fCBcIipcIik7XG4gIGlmIChvcHRfY2xhc3MpIHtcbiAgICBhcnJheUxpa2UgPSB7fTtcbiAgICBmb3IgKGkgPSBsZW4gPSAwOyBlbCA9IGVsc1tpXTsgaSsrKSB7XG4gICAgICB2YXIgY2xhc3NOYW1lID0gZWwuY2xhc3NOYW1lO1xuICAgICAgXCJmdW5jdGlvblwiID09IHR5cGVvZiBjbGFzc05hbWUuc3BsaXQgJiYgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY29udGFpbnMoY2xhc3NOYW1lLnNwbGl0KC9cXHMrLyksIG9wdF9jbGFzcykgJiYgKGFycmF5TGlrZVtsZW4rK10gPSBlbCk7XG4gICAgfVxuICAgIGFycmF5TGlrZS5sZW5ndGggPSBsZW47XG4gICAgcmV0dXJuIGFycmF5TGlrZTtcbiAgfVxuICByZXR1cm4gZWxzO1xufTtcbmdvb2cuZG9tLmdldEVsZW1lbnRCeVRhZ05hbWVBbmRDbGFzc18gPSBmdW5jdGlvbihkb2MsIG9wdF90YWcsIG9wdF9jbGFzcywgb3B0X2VsKSB7XG4gIHZhciBwYXJlbnQgPSBvcHRfZWwgfHwgZG9jLCB0YWcgPSBvcHRfdGFnICYmIFwiKlwiICE9IG9wdF90YWcgPyBTdHJpbmcob3B0X3RhZykudG9VcHBlckNhc2UoKSA6IFwiXCI7XG4gIHJldHVybiBnb29nLmRvbS5jYW5Vc2VRdWVyeVNlbGVjdG9yXyhwYXJlbnQpICYmICh0YWcgfHwgb3B0X2NsYXNzKSA/IHBhcmVudC5xdWVyeVNlbGVjdG9yKHRhZyArIChvcHRfY2xhc3MgPyBcIi5cIiArIG9wdF9jbGFzcyA6IFwiXCIpKSA6IGdvb2cuZG9tLmdldEVsZW1lbnRzQnlUYWdOYW1lQW5kQ2xhc3NfKGRvYywgb3B0X3RhZywgb3B0X2NsYXNzLCBvcHRfZWwpWzBdIHx8IG51bGw7XG59O1xuZ29vZy5kb20uJCQgPSBnb29nLmRvbS5nZXRFbGVtZW50c0J5VGFnTmFtZUFuZENsYXNzO1xuZ29vZy5kb20uc2V0UHJvcGVydGllcyA9IGZ1bmN0aW9uKGVsZW1lbnQsIHByb3BlcnRpZXMpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2ZvckVhY2gocHJvcGVydGllcywgZnVuY3Rpb24odmFsLCBrZXkpIHtcbiAgICB2YWwgJiYgXCJvYmplY3RcIiA9PSB0eXBlb2YgdmFsICYmIHZhbC5pbXBsZW1lbnRzR29vZ1N0cmluZ1R5cGVkU3RyaW5nICYmICh2YWwgPSB2YWwuZ2V0VHlwZWRTdHJpbmdWYWx1ZSgpKTtcbiAgICBcInN0eWxlXCIgPT0ga2V5ID8gZWxlbWVudC5zdHlsZS5jc3NUZXh0ID0gdmFsIDogXCJjbGFzc1wiID09IGtleSA/IGVsZW1lbnQuY2xhc3NOYW1lID0gdmFsIDogXCJmb3JcIiA9PSBrZXkgPyBlbGVtZW50Lmh0bWxGb3IgPSB2YWwgOiBnb29nLmRvbS5ESVJFQ1RfQVRUUklCVVRFX01BUF8uaGFzT3duUHJvcGVydHkoa2V5KSA/IGVsZW1lbnQuc2V0QXR0cmlidXRlKGdvb2cuZG9tLkRJUkVDVF9BVFRSSUJVVEVfTUFQX1trZXldLCB2YWwpIDogZ29vZy5zdHJpbmcuc3RhcnRzV2l0aChrZXksIFwiYXJpYS1cIikgfHwgZ29vZy5zdHJpbmcuc3RhcnRzV2l0aChrZXksIFwiZGF0YS1cIikgPyBlbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIHZhbCkgOiBlbGVtZW50W2tleV0gPSB2YWw7XG4gIH0pO1xufTtcbmdvb2cuZG9tLkRJUkVDVF9BVFRSSUJVVEVfTUFQXyA9IHtjZWxscGFkZGluZzpcImNlbGxQYWRkaW5nXCIsIGNlbGxzcGFjaW5nOlwiY2VsbFNwYWNpbmdcIiwgY29sc3BhbjpcImNvbFNwYW5cIiwgZnJhbWVib3JkZXI6XCJmcmFtZUJvcmRlclwiLCBoZWlnaHQ6XCJoZWlnaHRcIiwgbWF4bGVuZ3RoOlwibWF4TGVuZ3RoXCIsIG5vbmNlOlwibm9uY2VcIiwgcm9sZTpcInJvbGVcIiwgcm93c3BhbjpcInJvd1NwYW5cIiwgdHlwZTpcInR5cGVcIiwgdXNlbWFwOlwidXNlTWFwXCIsIHZhbGlnbjpcInZBbGlnblwiLCB3aWR0aDpcIndpZHRoXCJ9O1xuZ29vZy5kb20uZ2V0Vmlld3BvcnRTaXplID0gZnVuY3Rpb24ob3B0X3dpbmRvdykge1xuICByZXR1cm4gZ29vZy5kb20uZ2V0Vmlld3BvcnRTaXplXyhvcHRfd2luZG93IHx8IHdpbmRvdyk7XG59O1xuZ29vZy5kb20uZ2V0Vmlld3BvcnRTaXplXyA9IGZ1bmN0aW9uKHdpbikge1xuICB2YXIgZG9jID0gd2luLmRvY3VtZW50LCBlbCA9IGdvb2cuZG9tLmlzQ3NzMUNvbXBhdE1vZGVfKGRvYykgPyBkb2MuZG9jdW1lbnRFbGVtZW50IDogZG9jLmJvZHk7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLlNpemUoZWwuY2xpZW50V2lkdGgsIGVsLmNsaWVudEhlaWdodCk7XG59O1xuZ29vZy5kb20uZ2V0RG9jdW1lbnRIZWlnaHQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmdldERvY3VtZW50SGVpZ2h0Xyh3aW5kb3cpO1xufTtcbmdvb2cuZG9tLmdldERvY3VtZW50SGVpZ2h0Rm9yV2luZG93ID0gZnVuY3Rpb24od2luKSB7XG4gIHJldHVybiBnb29nLmRvbS5nZXREb2N1bWVudEhlaWdodF8od2luKTtcbn07XG5nb29nLmRvbS5nZXREb2N1bWVudEhlaWdodF8gPSBmdW5jdGlvbih3aW4pIHtcbiAgdmFyIGRvYyA9IHdpbi5kb2N1bWVudCwgaGVpZ2h0ID0gMDtcbiAgaWYgKGRvYykge1xuICAgIHZhciBib2R5ID0gZG9jLmJvZHksIGRvY0VsID0gZG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICBpZiAoIWRvY0VsIHx8ICFib2R5KSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgdmFyIHZoID0gZ29vZy5kb20uZ2V0Vmlld3BvcnRTaXplXyh3aW4pLmhlaWdodDtcbiAgICBpZiAoZ29vZy5kb20uaXNDc3MxQ29tcGF0TW9kZV8oZG9jKSAmJiBkb2NFbC5zY3JvbGxIZWlnaHQpIHtcbiAgICAgIGhlaWdodCA9IGRvY0VsLnNjcm9sbEhlaWdodCAhPSB2aCA/IGRvY0VsLnNjcm9sbEhlaWdodCA6IGRvY0VsLm9mZnNldEhlaWdodDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHNoID0gZG9jRWwuc2Nyb2xsSGVpZ2h0LCBvaCA9IGRvY0VsLm9mZnNldEhlaWdodDtcbiAgICAgIGRvY0VsLmNsaWVudEhlaWdodCAhPSBvaCAmJiAoc2ggPSBib2R5LnNjcm9sbEhlaWdodCwgb2ggPSBib2R5Lm9mZnNldEhlaWdodCk7XG4gICAgICBoZWlnaHQgPSBzaCA+IHZoID8gc2ggPiBvaCA/IHNoIDogb2ggOiBzaCA8IG9oID8gc2ggOiBvaDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGhlaWdodDtcbn07XG5nb29nLmRvbS5nZXRQYWdlU2Nyb2xsID0gZnVuY3Rpb24ob3B0X3dpbmRvdykge1xuICByZXR1cm4gZ29vZy5kb20uZ2V0RG9tSGVscGVyKChvcHRfd2luZG93IHx8IGdvb2cuZ2xvYmFsIHx8IHdpbmRvdykuZG9jdW1lbnQpLmdldERvY3VtZW50U2Nyb2xsKCk7XG59O1xuZ29vZy5kb20uZ2V0RG9jdW1lbnRTY3JvbGwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmdldERvY3VtZW50U2Nyb2xsXyhkb2N1bWVudCk7XG59O1xuZ29vZy5kb20uZ2V0RG9jdW1lbnRTY3JvbGxfID0gZnVuY3Rpb24oZG9jKSB7XG4gIHZhciBlbCA9IGdvb2cuZG9tLmdldERvY3VtZW50U2Nyb2xsRWxlbWVudF8oZG9jKSwgd2luID0gZ29vZy5kb20uZ2V0V2luZG93Xyhkb2MpO1xuICByZXR1cm4gZ29vZy51c2VyQWdlbnQuSUUgJiYgZ29vZy51c2VyQWdlbnQuaXNWZXJzaW9uT3JIaWdoZXIoXCIxMFwiKSAmJiB3aW4ucGFnZVlPZmZzZXQgIT0gZWwuc2Nyb2xsVG9wID8gbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKGVsLnNjcm9sbExlZnQsIGVsLnNjcm9sbFRvcCkgOiBuZXcgZ29vZy5tYXRoLkNvb3JkaW5hdGUod2luLnBhZ2VYT2Zmc2V0IHx8IGVsLnNjcm9sbExlZnQsIHdpbi5wYWdlWU9mZnNldCB8fCBlbC5zY3JvbGxUb3ApO1xufTtcbmdvb2cuZG9tLmdldERvY3VtZW50U2Nyb2xsRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5kb20uZ2V0RG9jdW1lbnRTY3JvbGxFbGVtZW50Xyhkb2N1bWVudCk7XG59O1xuZ29vZy5kb20uZ2V0RG9jdW1lbnRTY3JvbGxFbGVtZW50XyA9IGZ1bmN0aW9uKGRvYykge1xuICByZXR1cm4gZG9jLnNjcm9sbGluZ0VsZW1lbnQgPyBkb2Muc2Nyb2xsaW5nRWxlbWVudCA6ICFnb29nLnVzZXJBZ2VudC5XRUJLSVQgJiYgZ29vZy5kb20uaXNDc3MxQ29tcGF0TW9kZV8oZG9jKSA/IGRvYy5kb2N1bWVudEVsZW1lbnQgOiBkb2MuYm9keSB8fCBkb2MuZG9jdW1lbnRFbGVtZW50O1xufTtcbmdvb2cuZG9tLmdldFdpbmRvdyA9IGZ1bmN0aW9uKG9wdF9kb2MpIHtcbiAgcmV0dXJuIG9wdF9kb2MgPyBnb29nLmRvbS5nZXRXaW5kb3dfKG9wdF9kb2MpIDogd2luZG93O1xufTtcbmdvb2cuZG9tLmdldFdpbmRvd18gPSBmdW5jdGlvbihkb2MpIHtcbiAgcmV0dXJuIGRvYy5wYXJlbnRXaW5kb3cgfHwgZG9jLmRlZmF1bHRWaWV3O1xufTtcbmdvb2cuZG9tLmNyZWF0ZURvbSA9IGZ1bmN0aW9uKHRhZ05hbWUsIG9wdF9hdHRyaWJ1dGVzLCB2YXJfYXJncykge1xuICByZXR1cm4gZ29vZy5kb20uY3JlYXRlRG9tXyhkb2N1bWVudCwgYXJndW1lbnRzKTtcbn07XG5nb29nLmRvbS5jcmVhdGVEb21fID0gZnVuY3Rpb24oZG9jLCBhcmdzKSB7XG4gIHZhciBhdHRyaWJ1dGVzID0gYXJnc1sxXSwgZWxlbWVudCA9IGdvb2cuZG9tLmNyZWF0ZUVsZW1lbnRfKGRvYywgU3RyaW5nKGFyZ3NbMF0pKTtcbiAgYXR0cmlidXRlcyAmJiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGF0dHJpYnV0ZXMgPyBlbGVtZW50LmNsYXNzTmFtZSA9IGF0dHJpYnV0ZXMgOiBBcnJheS5pc0FycmF5KGF0dHJpYnV0ZXMpID8gZWxlbWVudC5jbGFzc05hbWUgPSBhdHRyaWJ1dGVzLmpvaW4oXCIgXCIpIDogZ29vZy5kb20uc2V0UHJvcGVydGllcyhlbGVtZW50LCBhdHRyaWJ1dGVzKSk7XG4gIDIgPCBhcmdzLmxlbmd0aCAmJiBnb29nLmRvbS5hcHBlbmRfKGRvYywgZWxlbWVudCwgYXJncywgMik7XG4gIHJldHVybiBlbGVtZW50O1xufTtcbmdvb2cuZG9tLmFwcGVuZF8gPSBmdW5jdGlvbihkb2MsIHBhcmVudCwgYXJncywgc3RhcnRJbmRleCkge1xuICBmdW5jdGlvbiBjaGlsZEhhbmRsZXIoY2hpbGQpIHtcbiAgICBjaGlsZCAmJiBwYXJlbnQuYXBwZW5kQ2hpbGQoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGNoaWxkID8gZG9jLmNyZWF0ZVRleHROb2RlKGNoaWxkKSA6IGNoaWxkKTtcbiAgfVxuICBmb3IgKHZhciBpID0gc3RhcnRJbmRleDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgYXJnID0gYXJnc1tpXTtcbiAgICBnb29nLmlzQXJyYXlMaWtlKGFyZykgJiYgIWdvb2cuZG9tLmlzTm9kZUxpa2UoYXJnKSA/IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2ZvckVhY2goZ29vZy5kb20uaXNOb2RlTGlzdChhcmcpID8gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfdG9BcnJheShhcmcpIDogYXJnLCBjaGlsZEhhbmRsZXIpIDogY2hpbGRIYW5kbGVyKGFyZyk7XG4gIH1cbn07XG5nb29nLmRvbS4kZG9tID0gZ29vZy5kb20uY3JlYXRlRG9tO1xuZ29vZy5kb20uY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmNyZWF0ZUVsZW1lbnRfKGRvY3VtZW50LCBuYW1lKTtcbn07XG5nb29nLmRvbS5jcmVhdGVFbGVtZW50XyA9IGZ1bmN0aW9uKGRvYywgbmFtZSkge1xuICBuYW1lID0gU3RyaW5nKG5hbWUpO1xuICBcImFwcGxpY2F0aW9uL3hodG1sK3htbFwiID09PSBkb2MuY29udGVudFR5cGUgJiYgKG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCkpO1xuICByZXR1cm4gZG9jLmNyZWF0ZUVsZW1lbnQobmFtZSk7XG59O1xuZ29vZy5kb20uY3JlYXRlVGV4dE5vZGUgPSBmdW5jdGlvbihjb250ZW50KSB7XG4gIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShTdHJpbmcoY29udGVudCkpO1xufTtcbmdvb2cuZG9tLmNyZWF0ZVRhYmxlID0gZnVuY3Rpb24ocm93cywgY29sdW1ucywgb3B0X2ZpbGxXaXRoTmJzcCkge1xuICByZXR1cm4gZ29vZy5kb20uY3JlYXRlVGFibGVfKGRvY3VtZW50LCByb3dzLCBjb2x1bW5zLCAhIW9wdF9maWxsV2l0aE5ic3ApO1xufTtcbmdvb2cuZG9tLmNyZWF0ZVRhYmxlXyA9IGZ1bmN0aW9uKGRvYywgcm93cywgY29sdW1ucywgZmlsbFdpdGhOYnNwKSB7XG4gIGZvciAodmFyIHRhYmxlID0gZ29vZy5kb20uY3JlYXRlRWxlbWVudF8oZG9jLCBnb29nLmRvbS5UYWdOYW1lLlRBQkxFKSwgdGJvZHkgPSB0YWJsZS5hcHBlbmRDaGlsZChnb29nLmRvbS5jcmVhdGVFbGVtZW50Xyhkb2MsIGdvb2cuZG9tLlRhZ05hbWUuVEJPRFkpKSwgaSA9IDA7IGkgPCByb3dzOyBpKyspIHtcbiAgICBmb3IgKHZhciB0ciA9IGdvb2cuZG9tLmNyZWF0ZUVsZW1lbnRfKGRvYywgZ29vZy5kb20uVGFnTmFtZS5UUiksIGogPSAwOyBqIDwgY29sdW1uczsgaisrKSB7XG4gICAgICB2YXIgdGQgPSBnb29nLmRvbS5jcmVhdGVFbGVtZW50Xyhkb2MsIGdvb2cuZG9tLlRhZ05hbWUuVEQpO1xuICAgICAgZmlsbFdpdGhOYnNwICYmIGdvb2cuZG9tLnNldFRleHRDb250ZW50KHRkLCBnb29nLnN0cmluZy5Vbmljb2RlLk5CU1ApO1xuICAgICAgdHIuYXBwZW5kQ2hpbGQodGQpO1xuICAgIH1cbiAgICB0Ym9keS5hcHBlbmRDaGlsZCh0cik7XG4gIH1cbiAgcmV0dXJuIHRhYmxlO1xufTtcbmdvb2cuZG9tLmNvbnN0SHRtbFRvTm9kZSA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gIHZhciBzdHJpbmdBcnJheSA9IEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChhcmd1bWVudHMsIGdvb2cuc3RyaW5nLkNvbnN0LnVud3JhcCksIHNhZmVIdG1sID0gZ29vZy5odG1sLnVuY2hlY2tlZGNvbnZlcnNpb25zLnNhZmVIdG1sRnJvbVN0cmluZ0tub3duVG9TYXRpc2Z5VHlwZUNvbnRyYWN0KGdvb2cuc3RyaW5nLkNvbnN0LmZyb20oXCJDb25zdGFudCBIVE1MIHN0cmluZywgdGhhdCBnZXRzIHR1cm5lZCBpbnRvIGEgTm9kZSBsYXRlciwgc28gaXQgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGJhbGFuY2VkLlwiKSwgc3RyaW5nQXJyYXkuam9pbihcIlwiKSk7XG4gIHJldHVybiBnb29nLmRvbS5zYWZlSHRtbFRvTm9kZShzYWZlSHRtbCk7XG59O1xuZ29vZy5kb20uc2FmZUh0bWxUb05vZGUgPSBmdW5jdGlvbihodG1sKSB7XG4gIHJldHVybiBnb29nLmRvbS5zYWZlSHRtbFRvTm9kZV8oZG9jdW1lbnQsIGh0bWwpO1xufTtcbmdvb2cuZG9tLnNhZmVIdG1sVG9Ob2RlXyA9IGZ1bmN0aW9uKGRvYywgaHRtbCkge1xuICB2YXIgdGVtcERpdiA9IGdvb2cuZG9tLmNyZWF0ZUVsZW1lbnRfKGRvYywgZ29vZy5kb20uVGFnTmFtZS5ESVYpO1xuICBnb29nLnVzZXJBZ2VudC5JRSA/IChnb29nLmRvbS5zYWZlLnNldElubmVySHRtbCh0ZW1wRGl2LCBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLmNvbmNhdChtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVIdG1sX1NhZmVIdG1sLkJSLCBodG1sKSksIHRlbXBEaXYucmVtb3ZlQ2hpbGQoZ29vZy5hc3NlcnRzLmFzc2VydCh0ZW1wRGl2LmZpcnN0Q2hpbGQpKSkgOiBnb29nLmRvbS5zYWZlLnNldElubmVySHRtbCh0ZW1wRGl2LCBodG1sKTtcbiAgcmV0dXJuIGdvb2cuZG9tLmNoaWxkcmVuVG9Ob2RlXyhkb2MsIHRlbXBEaXYpO1xufTtcbmdvb2cuZG9tLmNoaWxkcmVuVG9Ob2RlXyA9IGZ1bmN0aW9uKGRvYywgdGVtcERpdikge1xuICBpZiAoMSA9PSB0ZW1wRGl2LmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHRlbXBEaXYucmVtb3ZlQ2hpbGQoZ29vZy5hc3NlcnRzLmFzc2VydCh0ZW1wRGl2LmZpcnN0Q2hpbGQpKTtcbiAgfVxuICBmb3IgKHZhciBmcmFnbWVudCA9IGRvYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7IHRlbXBEaXYuZmlyc3RDaGlsZDspIHtcbiAgICBmcmFnbWVudC5hcHBlbmRDaGlsZCh0ZW1wRGl2LmZpcnN0Q2hpbGQpO1xuICB9XG4gIHJldHVybiBmcmFnbWVudDtcbn07XG5nb29nLmRvbS5pc0NzczFDb21wYXRNb2RlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBnb29nLmRvbS5pc0NzczFDb21wYXRNb2RlXyhkb2N1bWVudCk7XG59O1xuZ29vZy5kb20uaXNDc3MxQ29tcGF0TW9kZV8gPSBmdW5jdGlvbihkb2MpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLkNPTVBBVF9NT0RFX0tOT1dOXyA/IGdvb2cuZG9tLkFTU1VNRV9TVEFOREFSRFNfTU9ERSA6IFwiQ1NTMUNvbXBhdFwiID09IGRvYy5jb21wYXRNb2RlO1xufTtcbmdvb2cuZG9tLmNhbkhhdmVDaGlsZHJlbiA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgaWYgKG5vZGUubm9kZVR5cGUgIT0gZ29vZy5kb20uTm9kZVR5cGUuRUxFTUVOVCkge1xuICAgIHJldHVybiAhMTtcbiAgfVxuICBzd2l0Y2gobm9kZS50YWdOYW1lKSB7XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5BUFBMRVQpOlxuICAgIGNhc2UgU3RyaW5nKGdvb2cuZG9tLlRhZ05hbWUuQVJFQSk6XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5CQVNFKTpcbiAgICBjYXNlIFN0cmluZyhnb29nLmRvbS5UYWdOYW1lLkJSKTpcbiAgICBjYXNlIFN0cmluZyhnb29nLmRvbS5UYWdOYW1lLkNPTCk6XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5DT01NQU5EKTpcbiAgICBjYXNlIFN0cmluZyhnb29nLmRvbS5UYWdOYW1lLkVNQkVEKTpcbiAgICBjYXNlIFN0cmluZyhnb29nLmRvbS5UYWdOYW1lLkZSQU1FKTpcbiAgICBjYXNlIFN0cmluZyhnb29nLmRvbS5UYWdOYW1lLkhSKTpcbiAgICBjYXNlIFN0cmluZyhnb29nLmRvbS5UYWdOYW1lLklNRyk6XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5JTlBVVCk6XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5JRlJBTUUpOlxuICAgIGNhc2UgU3RyaW5nKGdvb2cuZG9tLlRhZ05hbWUuSVNJTkRFWCk6XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5LRVlHRU4pOlxuICAgIGNhc2UgU3RyaW5nKGdvb2cuZG9tLlRhZ05hbWUuTElOSyk6XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5OT0ZSQU1FUyk6XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5OT1NDUklQVCk6XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5NRVRBKTpcbiAgICBjYXNlIFN0cmluZyhnb29nLmRvbS5UYWdOYW1lLk9CSkVDVCk6XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5QQVJBTSk6XG4gICAgY2FzZSBTdHJpbmcoZ29vZy5kb20uVGFnTmFtZS5TQ1JJUFQpOlxuICAgIGNhc2UgU3RyaW5nKGdvb2cuZG9tLlRhZ05hbWUuU09VUkNFKTpcbiAgICBjYXNlIFN0cmluZyhnb29nLmRvbS5UYWdOYW1lLlNUWUxFKTpcbiAgICBjYXNlIFN0cmluZyhnb29nLmRvbS5UYWdOYW1lLlRSQUNLKTpcbiAgICBjYXNlIFN0cmluZyhnb29nLmRvbS5UYWdOYW1lLldCUik6XG4gICAgICByZXR1cm4gITE7XG4gIH1cbiAgcmV0dXJuICEwO1xufTtcbmdvb2cuZG9tLmFwcGVuZENoaWxkID0gZnVuY3Rpb24ocGFyZW50LCBjaGlsZCkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwgIT0gcGFyZW50ICYmIG51bGwgIT0gY2hpbGQsIFwiZ29vZy5kb20uYXBwZW5kQ2hpbGQgZXhwZWN0cyBub24tbnVsbCBhcmd1bWVudHNcIik7XG4gIHBhcmVudC5hcHBlbmRDaGlsZChjaGlsZCk7XG59O1xuZ29vZy5kb20uYXBwZW5kID0gZnVuY3Rpb24ocGFyZW50LCB2YXJfYXJncykge1xuICBnb29nLmRvbS5hcHBlbmRfKGdvb2cuZG9tLmdldE93bmVyRG9jdW1lbnQocGFyZW50KSwgcGFyZW50LCBhcmd1bWVudHMsIDEpO1xufTtcbmdvb2cuZG9tLnJlbW92ZUNoaWxkcmVuID0gZnVuY3Rpb24obm9kZSkge1xuICBmb3IgKHZhciBjaGlsZDsgY2hpbGQgPSBub2RlLmZpcnN0Q2hpbGQ7KSB7XG4gICAgbm9kZS5yZW1vdmVDaGlsZChjaGlsZCk7XG4gIH1cbn07XG5nb29nLmRvbS5pbnNlcnRTaWJsaW5nQmVmb3JlID0gZnVuY3Rpb24obmV3Tm9kZSwgcmVmTm9kZSkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwgIT0gbmV3Tm9kZSAmJiBudWxsICE9IHJlZk5vZGUsIFwiZ29vZy5kb20uaW5zZXJ0U2libGluZ0JlZm9yZSBleHBlY3RzIG5vbi1udWxsIGFyZ3VtZW50c1wiKTtcbiAgcmVmTm9kZS5wYXJlbnROb2RlICYmIHJlZk5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3Tm9kZSwgcmVmTm9kZSk7XG59O1xuZ29vZy5kb20uaW5zZXJ0U2libGluZ0FmdGVyID0gZnVuY3Rpb24obmV3Tm9kZSwgcmVmTm9kZSkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwgIT0gbmV3Tm9kZSAmJiBudWxsICE9IHJlZk5vZGUsIFwiZ29vZy5kb20uaW5zZXJ0U2libGluZ0FmdGVyIGV4cGVjdHMgbm9uLW51bGwgYXJndW1lbnRzXCIpO1xuICByZWZOb2RlLnBhcmVudE5vZGUgJiYgcmVmTm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdOb2RlLCByZWZOb2RlLm5leHRTaWJsaW5nKTtcbn07XG5nb29nLmRvbS5pbnNlcnRDaGlsZEF0ID0gZnVuY3Rpb24ocGFyZW50LCBjaGlsZCwgaW5kZXgpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChudWxsICE9IHBhcmVudCwgXCJnb29nLmRvbS5pbnNlcnRDaGlsZEF0IGV4cGVjdHMgYSBub24tbnVsbCBwYXJlbnRcIik7XG4gIHBhcmVudC5pbnNlcnRCZWZvcmUoY2hpbGQsIHBhcmVudC5jaGlsZE5vZGVzW2luZGV4XSB8fCBudWxsKTtcbn07XG5nb29nLmRvbS5yZW1vdmVOb2RlID0gZnVuY3Rpb24obm9kZSkge1xuICByZXR1cm4gbm9kZSAmJiBub2RlLnBhcmVudE5vZGUgPyBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSkgOiBudWxsO1xufTtcbmdvb2cuZG9tLnJlcGxhY2VOb2RlID0gZnVuY3Rpb24obmV3Tm9kZSwgb2xkTm9kZSkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwgIT0gbmV3Tm9kZSAmJiBudWxsICE9IG9sZE5vZGUsIFwiZ29vZy5kb20ucmVwbGFjZU5vZGUgZXhwZWN0cyBub24tbnVsbCBhcmd1bWVudHNcIik7XG4gIHZhciBwYXJlbnQgPSBvbGROb2RlLnBhcmVudE5vZGU7XG4gIHBhcmVudCAmJiBwYXJlbnQucmVwbGFjZUNoaWxkKG5ld05vZGUsIG9sZE5vZGUpO1xufTtcbmdvb2cuZG9tLmNvcHlDb250ZW50cyA9IGZ1bmN0aW9uKHRhcmdldCwgc291cmNlKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQobnVsbCAhPSB0YXJnZXQgJiYgbnVsbCAhPSBzb3VyY2UsIFwiZ29vZy5kb20uY29weUNvbnRlbnRzIGV4cGVjdHMgbm9uLW51bGwgYXJndW1lbnRzXCIpO1xuICB2YXIgY2hpbGROb2RlcyA9IHNvdXJjZS5jbG9uZU5vZGUoITApLmNoaWxkTm9kZXM7XG4gIGZvciAoZ29vZy5kb20ucmVtb3ZlQ2hpbGRyZW4odGFyZ2V0KTsgY2hpbGROb2Rlcy5sZW5ndGg7KSB7XG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKGNoaWxkTm9kZXNbMF0pO1xuICB9XG59O1xuZ29vZy5kb20uZmxhdHRlbkVsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHZhciBjaGlsZCwgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICBpZiAocGFyZW50ICYmIHBhcmVudC5ub2RlVHlwZSAhPSBnb29nLmRvbS5Ob2RlVHlwZS5ET0NVTUVOVF9GUkFHTUVOVCkge1xuICAgIGlmIChlbGVtZW50LnJlbW92ZU5vZGUpIHtcbiAgICAgIHJldHVybiBlbGVtZW50LnJlbW92ZU5vZGUoITEpO1xuICAgIH1cbiAgICBmb3IgKDsgY2hpbGQgPSBlbGVtZW50LmZpcnN0Q2hpbGQ7KSB7XG4gICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCBlbGVtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIGdvb2cuZG9tLnJlbW92ZU5vZGUoZWxlbWVudCk7XG4gIH1cbn07XG5nb29nLmRvbS5nZXRDaGlsZHJlbiA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIHZvaWQgMCAhPSBlbGVtZW50LmNoaWxkcmVuID8gZWxlbWVudC5jaGlsZHJlbiA6IEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChlbGVtZW50LmNoaWxkTm9kZXMsIGZ1bmN0aW9uKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS5ub2RlVHlwZSA9PSBnb29nLmRvbS5Ob2RlVHlwZS5FTEVNRU5UO1xuICB9KTtcbn07XG5nb29nLmRvbS5nZXRGaXJzdEVsZW1lbnRDaGlsZCA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgcmV0dXJuIHZvaWQgMCAhPT0gbm9kZS5maXJzdEVsZW1lbnRDaGlsZCA/IG5vZGUuZmlyc3RFbGVtZW50Q2hpbGQgOiBnb29nLmRvbS5nZXROZXh0RWxlbWVudE5vZGVfKG5vZGUuZmlyc3RDaGlsZCwgITApO1xufTtcbmdvb2cuZG9tLmdldExhc3RFbGVtZW50Q2hpbGQgPSBmdW5jdGlvbihub2RlKSB7XG4gIHJldHVybiB2b2lkIDAgIT09IG5vZGUubGFzdEVsZW1lbnRDaGlsZCA/IG5vZGUubGFzdEVsZW1lbnRDaGlsZCA6IGdvb2cuZG9tLmdldE5leHRFbGVtZW50Tm9kZV8obm9kZS5sYXN0Q2hpbGQsICExKTtcbn07XG5nb29nLmRvbS5nZXROZXh0RWxlbWVudFNpYmxpbmcgPSBmdW5jdGlvbihub2RlKSB7XG4gIHJldHVybiB2b2lkIDAgIT09IG5vZGUubmV4dEVsZW1lbnRTaWJsaW5nID8gbm9kZS5uZXh0RWxlbWVudFNpYmxpbmcgOiBnb29nLmRvbS5nZXROZXh0RWxlbWVudE5vZGVfKG5vZGUubmV4dFNpYmxpbmcsICEwKTtcbn07XG5nb29nLmRvbS5nZXRQcmV2aW91c0VsZW1lbnRTaWJsaW5nID0gZnVuY3Rpb24obm9kZSkge1xuICByZXR1cm4gdm9pZCAwICE9PSBub2RlLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgPyBub2RlLnByZXZpb3VzRWxlbWVudFNpYmxpbmcgOiBnb29nLmRvbS5nZXROZXh0RWxlbWVudE5vZGVfKG5vZGUucHJldmlvdXNTaWJsaW5nLCAhMSk7XG59O1xuZ29vZy5kb20uZ2V0TmV4dEVsZW1lbnROb2RlXyA9IGZ1bmN0aW9uKG5vZGUsIGZvcndhcmQpIHtcbiAgZm9yICg7IG5vZGUgJiYgbm9kZS5ub2RlVHlwZSAhPSBnb29nLmRvbS5Ob2RlVHlwZS5FTEVNRU5UOykge1xuICAgIG5vZGUgPSBmb3J3YXJkID8gbm9kZS5uZXh0U2libGluZyA6IG5vZGUucHJldmlvdXNTaWJsaW5nO1xuICB9XG4gIHJldHVybiBub2RlO1xufTtcbmdvb2cuZG9tLmdldE5leHROb2RlID0gZnVuY3Rpb24obm9kZSkge1xuICBpZiAoIW5vZGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAobm9kZS5maXJzdENoaWxkKSB7XG4gICAgcmV0dXJuIG5vZGUuZmlyc3RDaGlsZDtcbiAgfVxuICBmb3IgKDsgbm9kZSAmJiAhbm9kZS5uZXh0U2libGluZzspIHtcbiAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICB9XG4gIHJldHVybiBub2RlID8gbm9kZS5uZXh0U2libGluZyA6IG51bGw7XG59O1xuZ29vZy5kb20uZ2V0UHJldmlvdXNOb2RlID0gZnVuY3Rpb24obm9kZSkge1xuICBpZiAoIW5vZGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoIW5vZGUucHJldmlvdXNTaWJsaW5nKSB7XG4gICAgcmV0dXJuIG5vZGUucGFyZW50Tm9kZTtcbiAgfVxuICBmb3IgKG5vZGUgPSBub2RlLnByZXZpb3VzU2libGluZzsgbm9kZSAmJiBub2RlLmxhc3RDaGlsZDspIHtcbiAgICBub2RlID0gbm9kZS5sYXN0Q2hpbGQ7XG4gIH1cbiAgcmV0dXJuIG5vZGU7XG59O1xuZ29vZy5kb20uaXNOb2RlTGlrZSA9IGZ1bmN0aW9uKG9iaikge1xuICByZXR1cm4gZ29vZy5pc09iamVjdChvYmopICYmIDAgPCBvYmoubm9kZVR5cGU7XG59O1xuZ29vZy5kb20uaXNFbGVtZW50ID0gZnVuY3Rpb24ob2JqKSB7XG4gIHJldHVybiBnb29nLmlzT2JqZWN0KG9iaikgJiYgb2JqLm5vZGVUeXBlID09IGdvb2cuZG9tLk5vZGVUeXBlLkVMRU1FTlQ7XG59O1xuZ29vZy5kb20uaXNXaW5kb3cgPSBmdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIGdvb2cuaXNPYmplY3Qob2JqKSAmJiBvYmoud2luZG93ID09IG9iajtcbn07XG5nb29nLmRvbS5nZXRQYXJlbnRFbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICB2YXIgcGFyZW50O1xuICBpZiAoZ29vZy5kb20uQnJvd3NlckZlYXR1cmUuQ0FOX1VTRV9QQVJFTlRfRUxFTUVOVF9QUk9QRVJUWSAmJiAhKGdvb2cudXNlckFnZW50LklFICYmIGdvb2cudXNlckFnZW50LmlzVmVyc2lvbk9ySGlnaGVyKFwiOVwiKSAmJiAhZ29vZy51c2VyQWdlbnQuaXNWZXJzaW9uT3JIaWdoZXIoXCIxMFwiKSAmJiBnb29nLmdsb2JhbC5TVkdFbGVtZW50ICYmIGVsZW1lbnQgaW5zdGFuY2VvZiBnb29nLmdsb2JhbC5TVkdFbGVtZW50KSAmJiAocGFyZW50ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50KSkge1xuICAgIHJldHVybiBwYXJlbnQ7XG4gIH1cbiAgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICByZXR1cm4gZ29vZy5kb20uaXNFbGVtZW50KHBhcmVudCkgPyBwYXJlbnQgOiBudWxsO1xufTtcbmdvb2cuZG9tLmNvbnRhaW5zID0gZnVuY3Rpb24ocGFyZW50LCBkZXNjZW5kYW50KSB7XG4gIGlmICghcGFyZW50IHx8ICFkZXNjZW5kYW50KSB7XG4gICAgcmV0dXJuICExO1xuICB9XG4gIGlmIChwYXJlbnQuY29udGFpbnMgJiYgZGVzY2VuZGFudC5ub2RlVHlwZSA9PSBnb29nLmRvbS5Ob2RlVHlwZS5FTEVNRU5UKSB7XG4gICAgcmV0dXJuIHBhcmVudCA9PSBkZXNjZW5kYW50IHx8IHBhcmVudC5jb250YWlucyhkZXNjZW5kYW50KTtcbiAgfVxuICBpZiAoXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgcGFyZW50LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSB7XG4gICAgcmV0dXJuIHBhcmVudCA9PSBkZXNjZW5kYW50IHx8ICEhKHBhcmVudC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihkZXNjZW5kYW50KSAmIDE2KTtcbiAgfVxuICBmb3IgKDsgZGVzY2VuZGFudCAmJiBwYXJlbnQgIT0gZGVzY2VuZGFudDspIHtcbiAgICBkZXNjZW5kYW50ID0gZGVzY2VuZGFudC5wYXJlbnROb2RlO1xuICB9XG4gIHJldHVybiBkZXNjZW5kYW50ID09IHBhcmVudDtcbn07XG5nb29nLmRvbS5jb21wYXJlTm9kZU9yZGVyID0gZnVuY3Rpb24obm9kZTEsIG5vZGUyKSB7XG4gIGlmIChub2RlMSA9PSBub2RlMikge1xuICAgIHJldHVybiAwO1xuICB9XG4gIGlmIChub2RlMS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbikge1xuICAgIHJldHVybiBub2RlMS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihub2RlMikgJiAyID8gMSA6IC0xO1xuICB9XG4gIGlmIChnb29nLnVzZXJBZ2VudC5JRSAmJiAhZ29vZy51c2VyQWdlbnQuaXNEb2N1bWVudE1vZGVPckhpZ2hlcig5KSkge1xuICAgIGlmIChub2RlMS5ub2RlVHlwZSA9PSBnb29nLmRvbS5Ob2RlVHlwZS5ET0NVTUVOVCkge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBpZiAobm9kZTIubm9kZVR5cGUgPT0gZ29vZy5kb20uTm9kZVR5cGUuRE9DVU1FTlQpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgfVxuICBpZiAoXCJzb3VyY2VJbmRleFwiIGluIG5vZGUxIHx8IG5vZGUxLnBhcmVudE5vZGUgJiYgXCJzb3VyY2VJbmRleFwiIGluIG5vZGUxLnBhcmVudE5vZGUpIHtcbiAgICB2YXIgaXNFbGVtZW50MSA9IG5vZGUxLm5vZGVUeXBlID09IGdvb2cuZG9tLk5vZGVUeXBlLkVMRU1FTlQsIGlzRWxlbWVudDIgPSBub2RlMi5ub2RlVHlwZSA9PSBnb29nLmRvbS5Ob2RlVHlwZS5FTEVNRU5UO1xuICAgIGlmIChpc0VsZW1lbnQxICYmIGlzRWxlbWVudDIpIHtcbiAgICAgIHJldHVybiBub2RlMS5zb3VyY2VJbmRleCAtIG5vZGUyLnNvdXJjZUluZGV4O1xuICAgIH1cbiAgICB2YXIgcGFyZW50MSA9IG5vZGUxLnBhcmVudE5vZGUsIHBhcmVudDIgPSBub2RlMi5wYXJlbnROb2RlO1xuICAgIHJldHVybiBwYXJlbnQxID09IHBhcmVudDIgPyBnb29nLmRvbS5jb21wYXJlU2libGluZ09yZGVyXyhub2RlMSwgbm9kZTIpIDogIWlzRWxlbWVudDEgJiYgZ29vZy5kb20uY29udGFpbnMocGFyZW50MSwgbm9kZTIpID8gLTEgKiBnb29nLmRvbS5jb21wYXJlUGFyZW50c0Rlc2NlbmRhbnROb2RlSWVfKG5vZGUxLCBub2RlMikgOiAhaXNFbGVtZW50MiAmJiBnb29nLmRvbS5jb250YWlucyhwYXJlbnQyLCBub2RlMSkgPyBnb29nLmRvbS5jb21wYXJlUGFyZW50c0Rlc2NlbmRhbnROb2RlSWVfKG5vZGUyLCBub2RlMSkgOiAoaXNFbGVtZW50MSA/IG5vZGUxLnNvdXJjZUluZGV4IDogcGFyZW50MS5zb3VyY2VJbmRleCkgLSAoaXNFbGVtZW50MiA/IG5vZGUyLnNvdXJjZUluZGV4IDogcGFyZW50Mi5zb3VyY2VJbmRleCk7XG4gIH1cbiAgdmFyIGRvYyA9IGdvb2cuZG9tLmdldE93bmVyRG9jdW1lbnQobm9kZTEpO1xuICB2YXIgcmFuZ2UxID0gZG9jLmNyZWF0ZVJhbmdlKCk7XG4gIHJhbmdlMS5zZWxlY3ROb2RlKG5vZGUxKTtcbiAgcmFuZ2UxLmNvbGxhcHNlKCEwKTtcbiAgdmFyIHJhbmdlMiA9IGRvYy5jcmVhdGVSYW5nZSgpO1xuICByYW5nZTIuc2VsZWN0Tm9kZShub2RlMik7XG4gIHJhbmdlMi5jb2xsYXBzZSghMCk7XG4gIHJldHVybiByYW5nZTEuY29tcGFyZUJvdW5kYXJ5UG9pbnRzKGdvb2cuZ2xvYmFsLlJhbmdlLlNUQVJUX1RPX0VORCwgcmFuZ2UyKTtcbn07XG5nb29nLmRvbS5jb21wYXJlUGFyZW50c0Rlc2NlbmRhbnROb2RlSWVfID0gZnVuY3Rpb24odGV4dE5vZGUsIG5vZGUpIHtcbiAgdmFyIHBhcmVudCA9IHRleHROb2RlLnBhcmVudE5vZGU7XG4gIGlmIChwYXJlbnQgPT0gbm9kZSkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICBmb3IgKHZhciBzaWJsaW5nID0gbm9kZTsgc2libGluZy5wYXJlbnROb2RlICE9IHBhcmVudDspIHtcbiAgICBzaWJsaW5nID0gc2libGluZy5wYXJlbnROb2RlO1xuICB9XG4gIHJldHVybiBnb29nLmRvbS5jb21wYXJlU2libGluZ09yZGVyXyhzaWJsaW5nLCB0ZXh0Tm9kZSk7XG59O1xuZ29vZy5kb20uY29tcGFyZVNpYmxpbmdPcmRlcl8gPSBmdW5jdGlvbihub2RlMSwgbm9kZTIpIHtcbiAgZm9yICh2YXIgcyA9IG5vZGUyOyBzID0gcy5wcmV2aW91c1NpYmxpbmc7KSB7XG4gICAgaWYgKHMgPT0gbm9kZTEpIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIDE7XG59O1xuZ29vZy5kb20uZmluZENvbW1vbkFuY2VzdG9yID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgdmFyIGksIGNvdW50ID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgaWYgKCFjb3VudCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmICgxID09IGNvdW50KSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50c1swXTtcbiAgfVxuICB2YXIgcGF0aHMgPSBbXSwgbWluTGVuZ3RoID0gSW5maW5pdHk7XG4gIGZvciAoaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgZm9yICh2YXIgYW5jZXN0b3JzID0gW10sIG5vZGUgPSBhcmd1bWVudHNbaV07IG5vZGU7KSB7XG4gICAgICBhbmNlc3RvcnMudW5zaGlmdChub2RlKSwgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgcGF0aHMucHVzaChhbmNlc3RvcnMpO1xuICAgIG1pbkxlbmd0aCA9IE1hdGgubWluKG1pbkxlbmd0aCwgYW5jZXN0b3JzLmxlbmd0aCk7XG4gIH1cbiAgdmFyIG91dHB1dCA9IG51bGw7XG4gIGZvciAoaSA9IDA7IGkgPCBtaW5MZW5ndGg7IGkrKykge1xuICAgIGZvciAodmFyIGZpcnN0ID0gcGF0aHNbMF1baV0sIGogPSAxOyBqIDwgY291bnQ7IGorKykge1xuICAgICAgaWYgKGZpcnN0ICE9IHBhdGhzW2pdW2ldKSB7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgICB9XG4gICAgfVxuICAgIG91dHB1dCA9IGZpcnN0O1xuICB9XG4gIHJldHVybiBvdXRwdXQ7XG59O1xuZ29vZy5kb20uaXNJbkRvY3VtZW50ID0gZnVuY3Rpb24obm9kZSkge1xuICByZXR1cm4gMTYgPT0gKG5vZGUub3duZXJEb2N1bWVudC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihub2RlKSAmIDE2KTtcbn07XG5nb29nLmRvbS5nZXRPd25lckRvY3VtZW50ID0gZnVuY3Rpb24obm9kZSkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG5vZGUsIFwiTm9kZSBjYW5ub3QgYmUgbnVsbCBvciB1bmRlZmluZWQuXCIpO1xuICByZXR1cm4gbm9kZS5ub2RlVHlwZSA9PSBnb29nLmRvbS5Ob2RlVHlwZS5ET0NVTUVOVCA/IG5vZGUgOiBub2RlLm93bmVyRG9jdW1lbnQgfHwgbm9kZS5kb2N1bWVudDtcbn07XG5nb29nLmRvbS5nZXRGcmFtZUNvbnRlbnREb2N1bWVudCA9IGZ1bmN0aW9uKGZyYW1lKSB7XG4gIHJldHVybiBmcmFtZS5jb250ZW50RG9jdW1lbnQgfHwgZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcbn07XG5nb29nLmRvbS5nZXRGcmFtZUNvbnRlbnRXaW5kb3cgPSBmdW5jdGlvbihmcmFtZSkge1xuICB0cnkge1xuICAgIHJldHVybiBmcmFtZS5jb250ZW50V2luZG93IHx8IChmcmFtZS5jb250ZW50RG9jdW1lbnQgPyBnb29nLmRvbS5nZXRXaW5kb3coZnJhbWUuY29udGVudERvY3VtZW50KSA6IG51bGwpO1xuICB9IGNhdGNoIChlKSB7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuZ29vZy5kb20uc2V0VGV4dENvbnRlbnQgPSBmdW5jdGlvbihub2RlLCB0ZXh0KSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQobnVsbCAhPSBub2RlLCBcImdvb2cuZG9tLnNldFRleHRDb250ZW50IGV4cGVjdHMgYSBub24tbnVsbCB2YWx1ZSBmb3Igbm9kZVwiKTtcbiAgaWYgKFwidGV4dENvbnRlbnRcIiBpbiBub2RlKSB7XG4gICAgbm9kZS50ZXh0Q29udGVudCA9IHRleHQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gZ29vZy5kb20uTm9kZVR5cGUuVEVYVCkge1xuICAgICAgbm9kZS5kYXRhID0gU3RyaW5nKHRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobm9kZS5maXJzdENoaWxkICYmIG5vZGUuZmlyc3RDaGlsZC5ub2RlVHlwZSA9PSBnb29nLmRvbS5Ob2RlVHlwZS5URVhUKSB7XG4gICAgICAgIGZvciAoOyBub2RlLmxhc3RDaGlsZCAhPSBub2RlLmZpcnN0Q2hpbGQ7KSB7XG4gICAgICAgICAgbm9kZS5yZW1vdmVDaGlsZChnb29nLmFzc2VydHMuYXNzZXJ0KG5vZGUubGFzdENoaWxkKSk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5maXJzdENoaWxkLmRhdGEgPSBTdHJpbmcodGV4dCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnb29nLmRvbS5yZW1vdmVDaGlsZHJlbihub2RlKTtcbiAgICAgICAgdmFyIGRvYyA9IGdvb2cuZG9tLmdldE93bmVyRG9jdW1lbnQobm9kZSk7XG4gICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZVRleHROb2RlKFN0cmluZyh0ZXh0KSkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbmdvb2cuZG9tLmdldE91dGVySHRtbCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChudWxsICE9PSBlbGVtZW50LCBcImdvb2cuZG9tLmdldE91dGVySHRtbCBleHBlY3RzIGEgbm9uLW51bGwgdmFsdWUgZm9yIGVsZW1lbnRcIik7XG4gIGlmIChcIm91dGVySFRNTFwiIGluIGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWxlbWVudC5vdXRlckhUTUw7XG4gIH1cbiAgdmFyIGRvYyA9IGdvb2cuZG9tLmdldE93bmVyRG9jdW1lbnQoZWxlbWVudCksIGRpdiA9IGdvb2cuZG9tLmNyZWF0ZUVsZW1lbnRfKGRvYywgZ29vZy5kb20uVGFnTmFtZS5ESVYpO1xuICBkaXYuYXBwZW5kQ2hpbGQoZWxlbWVudC5jbG9uZU5vZGUoITApKTtcbiAgcmV0dXJuIGRpdi5pbm5lckhUTUw7XG59O1xuZ29vZy5kb20uZmluZE5vZGUgPSBmdW5jdGlvbihyb290LCBwKSB7XG4gIHZhciBydiA9IFtdO1xuICByZXR1cm4gZ29vZy5kb20uZmluZE5vZGVzXyhyb290LCBwLCBydiwgITApID8gcnZbMF0gOiB2b2lkIDA7XG59O1xuZ29vZy5kb20uZmluZE5vZGVzID0gZnVuY3Rpb24ocm9vdCwgcCkge1xuICB2YXIgcnYgPSBbXTtcbiAgZ29vZy5kb20uZmluZE5vZGVzXyhyb290LCBwLCBydiwgITEpO1xuICByZXR1cm4gcnY7XG59O1xuZ29vZy5kb20uZmluZE5vZGVzXyA9IGZ1bmN0aW9uKHJvb3QsIHAsIHJ2LCBmaW5kT25lKSB7XG4gIGlmIChudWxsICE9IHJvb3QpIHtcbiAgICBmb3IgKHZhciBjaGlsZCA9IHJvb3QuZmlyc3RDaGlsZDsgY2hpbGQ7KSB7XG4gICAgICBpZiAocChjaGlsZCkgJiYgKHJ2LnB1c2goY2hpbGQpLCBmaW5kT25lKSB8fCBnb29nLmRvbS5maW5kTm9kZXNfKGNoaWxkLCBwLCBydiwgZmluZE9uZSkpIHtcbiAgICAgICAgcmV0dXJuICEwO1xuICAgICAgfVxuICAgICAgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZztcbiAgICB9XG4gIH1cbiAgcmV0dXJuICExO1xufTtcbmdvb2cuZG9tLmZpbmRFbGVtZW50ID0gZnVuY3Rpb24ocm9vdCwgcHJlZCkge1xuICBmb3IgKHZhciBzdGFjayA9IGdvb2cuZG9tLmdldENoaWxkcmVuUmV2ZXJzZV8ocm9vdCk7IDAgPCBzdGFjay5sZW5ndGg7KSB7XG4gICAgdmFyIG5leHQgPSBzdGFjay5wb3AoKTtcbiAgICBpZiAocHJlZChuZXh0KSkge1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfVxuICAgIGZvciAodmFyIGMgPSBuZXh0Lmxhc3RFbGVtZW50Q2hpbGQ7IGM7IGMgPSBjLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpIHtcbiAgICAgIHN0YWNrLnB1c2goYyk7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufTtcbmdvb2cuZG9tLmZpbmRFbGVtZW50cyA9IGZ1bmN0aW9uKHJvb3QsIHByZWQpIHtcbiAgZm9yICh2YXIgcmVzdWx0ID0gW10sIHN0YWNrID0gZ29vZy5kb20uZ2V0Q2hpbGRyZW5SZXZlcnNlXyhyb290KTsgMCA8IHN0YWNrLmxlbmd0aDspIHtcbiAgICB2YXIgbmV4dCA9IHN0YWNrLnBvcCgpO1xuICAgIHByZWQobmV4dCkgJiYgcmVzdWx0LnB1c2gobmV4dCk7XG4gICAgZm9yICh2YXIgYyA9IG5leHQubGFzdEVsZW1lbnRDaGlsZDsgYzsgYyA9IGMucHJldmlvdXNFbGVtZW50U2libGluZykge1xuICAgICAgc3RhY2sucHVzaChjKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5nb29nLmRvbS5nZXRDaGlsZHJlblJldmVyc2VfID0gZnVuY3Rpb24obm9kZSkge1xuICBpZiAobm9kZS5ub2RlVHlwZSA9PSBnb29nLmRvbS5Ob2RlVHlwZS5ET0NVTUVOVCkge1xuICAgIHJldHVybiBbbm9kZS5kb2N1bWVudEVsZW1lbnRdO1xuICB9XG4gIGZvciAodmFyIGNoaWxkcmVuID0gW10sIGMgPSBub2RlLmxhc3RFbGVtZW50Q2hpbGQ7IGM7IGMgPSBjLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpIHtcbiAgICBjaGlsZHJlbi5wdXNoKGMpO1xuICB9XG4gIHJldHVybiBjaGlsZHJlbjtcbn07XG5nb29nLmRvbS5UQUdTX1RPX0lHTk9SRV8gPSB7U0NSSVBUOjEsIFNUWUxFOjEsIEhFQUQ6MSwgSUZSQU1FOjEsIE9CSkVDVDoxfTtcbmdvb2cuZG9tLlBSRURFRklORURfVEFHX1ZBTFVFU18gPSB7SU1HOlwiIFwiLCBCUjpcIlxcblwifTtcbmdvb2cuZG9tLmlzRm9jdXNhYmxlVGFiSW5kZXggPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiBnb29nLmRvbS5oYXNTcGVjaWZpZWRUYWJJbmRleF8oZWxlbWVudCkgJiYgZ29vZy5kb20uaXNUYWJJbmRleEZvY3VzYWJsZV8oZWxlbWVudCk7XG59O1xuZ29vZy5kb20uc2V0Rm9jdXNhYmxlVGFiSW5kZXggPSBmdW5jdGlvbihlbGVtZW50LCBlbmFibGUpIHtcbiAgZW5hYmxlID8gZWxlbWVudC50YWJJbmRleCA9IDAgOiAoZWxlbWVudC50YWJJbmRleCA9IC0xLCBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcInRhYkluZGV4XCIpKTtcbn07XG5nb29nLmRvbS5pc0ZvY3VzYWJsZSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgdmFyIGZvY3VzYWJsZTtcbiAgcmV0dXJuIChmb2N1c2FibGUgPSBnb29nLmRvbS5uYXRpdmVseVN1cHBvcnRzRm9jdXNfKGVsZW1lbnQpID8gIWVsZW1lbnQuZGlzYWJsZWQgJiYgKCFnb29nLmRvbS5oYXNTcGVjaWZpZWRUYWJJbmRleF8oZWxlbWVudCkgfHwgZ29vZy5kb20uaXNUYWJJbmRleEZvY3VzYWJsZV8oZWxlbWVudCkpIDogZ29vZy5kb20uaXNGb2N1c2FibGVUYWJJbmRleChlbGVtZW50KSkgJiYgZ29vZy51c2VyQWdlbnQuSUUgPyBnb29nLmRvbS5oYXNOb25aZXJvQm91bmRpbmdSZWN0XyhlbGVtZW50KSA6IGZvY3VzYWJsZTtcbn07XG5nb29nLmRvbS5oYXNTcGVjaWZpZWRUYWJJbmRleF8gPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiBlbGVtZW50Lmhhc0F0dHJpYnV0ZShcInRhYmluZGV4XCIpO1xufTtcbmdvb2cuZG9tLmlzVGFiSW5kZXhGb2N1c2FibGVfID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICB2YXIgaW5kZXggPSBlbGVtZW50LnRhYkluZGV4O1xuICByZXR1cm4gXCJudW1iZXJcIiA9PT0gdHlwZW9mIGluZGV4ICYmIDAgPD0gaW5kZXggJiYgMzI3NjggPiBpbmRleDtcbn07XG5nb29nLmRvbS5uYXRpdmVseVN1cHBvcnRzRm9jdXNfID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gZWxlbWVudC50YWdOYW1lID09IGdvb2cuZG9tLlRhZ05hbWUuQSAmJiBlbGVtZW50Lmhhc0F0dHJpYnV0ZShcImhyZWZcIikgfHwgZWxlbWVudC50YWdOYW1lID09IGdvb2cuZG9tLlRhZ05hbWUuSU5QVVQgfHwgZWxlbWVudC50YWdOYW1lID09IGdvb2cuZG9tLlRhZ05hbWUuVEVYVEFSRUEgfHwgZWxlbWVudC50YWdOYW1lID09IGdvb2cuZG9tLlRhZ05hbWUuU0VMRUNUIHx8IGVsZW1lbnQudGFnTmFtZSA9PSBnb29nLmRvbS5UYWdOYW1lLkJVVFRPTjtcbn07XG5nb29nLmRvbS5oYXNOb25aZXJvQm91bmRpbmdSZWN0XyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgdmFyIHJlY3QgPSBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCB8fCBnb29nLnVzZXJBZ2VudC5JRSAmJiBudWxsID09IGVsZW1lbnQucGFyZW50RWxlbWVudCA/IHtoZWlnaHQ6ZWxlbWVudC5vZmZzZXRIZWlnaHQsIHdpZHRoOmVsZW1lbnQub2Zmc2V0V2lkdGh9IDogZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgcmV0dXJuIG51bGwgIT0gcmVjdCAmJiAwIDwgcmVjdC5oZWlnaHQgJiYgMCA8IHJlY3Qud2lkdGg7XG59O1xuZ29vZy5kb20uZ2V0VGV4dENvbnRlbnQgPSBmdW5jdGlvbihub2RlKSB7XG4gIHZhciBidWYgPSBbXTtcbiAgZ29vZy5kb20uZ2V0VGV4dENvbnRlbnRfKG5vZGUsIGJ1ZiwgITApO1xuICB2YXIgdGV4dENvbnRlbnQgPSBidWYuam9pbihcIlwiKTtcbiAgdGV4dENvbnRlbnQgPSB0ZXh0Q29udGVudC5yZXBsYWNlKC8gXFx4QUQgL2csIFwiIFwiKS5yZXBsYWNlKC9cXHhBRC9nLCBcIlwiKTtcbiAgdGV4dENvbnRlbnQgPSB0ZXh0Q29udGVudC5yZXBsYWNlKC9cXHUyMDBCL2csIFwiXCIpO1xuICB0ZXh0Q29udGVudCA9IHRleHRDb250ZW50LnJlcGxhY2UoLyArL2csIFwiIFwiKTtcbiAgXCIgXCIgIT0gdGV4dENvbnRlbnQgJiYgKHRleHRDb250ZW50ID0gdGV4dENvbnRlbnQucmVwbGFjZSgvXlxccyovLCBcIlwiKSk7XG4gIHJldHVybiB0ZXh0Q29udGVudDtcbn07XG5nb29nLmRvbS5nZXRSYXdUZXh0Q29udGVudCA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgdmFyIGJ1ZiA9IFtdO1xuICBnb29nLmRvbS5nZXRUZXh0Q29udGVudF8obm9kZSwgYnVmLCAhMSk7XG4gIHJldHVybiBidWYuam9pbihcIlwiKTtcbn07XG5nb29nLmRvbS5nZXRUZXh0Q29udGVudF8gPSBmdW5jdGlvbihub2RlLCBidWYsIG5vcm1hbGl6ZVdoaXRlc3BhY2UpIHtcbiAgaWYgKCEobm9kZS5ub2RlTmFtZSBpbiBnb29nLmRvbS5UQUdTX1RPX0lHTk9SRV8pKSB7XG4gICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gZ29vZy5kb20uTm9kZVR5cGUuVEVYVCkge1xuICAgICAgbm9ybWFsaXplV2hpdGVzcGFjZSA/IGJ1Zi5wdXNoKFN0cmluZyhub2RlLm5vZGVWYWx1ZSkucmVwbGFjZSgvKFxcclxcbnxcXHJ8XFxuKS9nLCBcIlwiKSkgOiBidWYucHVzaChub2RlLm5vZGVWYWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChub2RlLm5vZGVOYW1lIGluIGdvb2cuZG9tLlBSRURFRklORURfVEFHX1ZBTFVFU18pIHtcbiAgICAgICAgYnVmLnB1c2goZ29vZy5kb20uUFJFREVGSU5FRF9UQUdfVkFMVUVTX1tub2RlLm5vZGVOYW1lXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBjaGlsZCA9IG5vZGUuZmlyc3RDaGlsZDsgY2hpbGQ7KSB7XG4gICAgICAgICAgZ29vZy5kb20uZ2V0VGV4dENvbnRlbnRfKGNoaWxkLCBidWYsIG5vcm1hbGl6ZVdoaXRlc3BhY2UpLCBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuZ29vZy5kb20uZ2V0Tm9kZVRleHRMZW5ndGggPSBmdW5jdGlvbihub2RlKSB7XG4gIHJldHVybiBnb29nLmRvbS5nZXRUZXh0Q29udGVudChub2RlKS5sZW5ndGg7XG59O1xuZ29vZy5kb20uZ2V0Tm9kZVRleHRPZmZzZXQgPSBmdW5jdGlvbihub2RlLCBvcHRfb2Zmc2V0UGFyZW50KSB7XG4gIGZvciAodmFyIHJvb3QgPSBvcHRfb2Zmc2V0UGFyZW50IHx8IGdvb2cuZG9tLmdldE93bmVyRG9jdW1lbnQobm9kZSkuYm9keSwgYnVmID0gW107IG5vZGUgJiYgbm9kZSAhPSByb290Oykge1xuICAgIGZvciAodmFyIGN1ciA9IG5vZGU7IGN1ciA9IGN1ci5wcmV2aW91c1NpYmxpbmc7KSB7XG4gICAgICBidWYudW5zaGlmdChnb29nLmRvbS5nZXRUZXh0Q29udGVudChjdXIpKTtcbiAgICB9XG4gICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgfVxuICByZXR1cm4gZ29vZy5zdHJpbmcudHJpbUxlZnQoYnVmLmpvaW4oXCJcIikpLnJlcGxhY2UoLyArL2csIFwiIFwiKS5sZW5ndGg7XG59O1xuZ29vZy5kb20uZ2V0Tm9kZUF0T2Zmc2V0ID0gZnVuY3Rpb24ocGFyZW50LCBvZmZzZXQsIG9wdF9yZXN1bHQpIHtcbiAgZm9yICh2YXIgc3RhY2sgPSBbcGFyZW50XSwgcG9zID0gMCwgY3VyID0gbnVsbDsgMCA8IHN0YWNrLmxlbmd0aCAmJiBwb3MgPCBvZmZzZXQ7KSB7XG4gICAgaWYgKGN1ciA9IHN0YWNrLnBvcCgpLCAhKGN1ci5ub2RlTmFtZSBpbiBnb29nLmRvbS5UQUdTX1RPX0lHTk9SRV8pKSB7XG4gICAgICBpZiAoY3VyLm5vZGVUeXBlID09IGdvb2cuZG9tLk5vZGVUeXBlLlRFWFQpIHtcbiAgICAgICAgdmFyIHRleHQgPSBjdXIubm9kZVZhbHVlLnJlcGxhY2UoLyhcXHJcXG58XFxyfFxcbikvZywgXCJcIikucmVwbGFjZSgvICsvZywgXCIgXCIpO1xuICAgICAgICBwb3MgKz0gdGV4dC5sZW5ndGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoY3VyLm5vZGVOYW1lIGluIGdvb2cuZG9tLlBSRURFRklORURfVEFHX1ZBTFVFU18pIHtcbiAgICAgICAgICBwb3MgKz0gZ29vZy5kb20uUFJFREVGSU5FRF9UQUdfVkFMVUVTX1tjdXIubm9kZU5hbWVdLmxlbmd0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gY3VyLmNoaWxkTm9kZXMubGVuZ3RoIC0gMTsgMCA8PSBpOyBpLS0pIHtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goY3VyLmNoaWxkTm9kZXNbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBnb29nLmlzT2JqZWN0KG9wdF9yZXN1bHQpICYmIChvcHRfcmVzdWx0LnJlbWFpbmRlciA9IGN1ciA/IGN1ci5ub2RlVmFsdWUubGVuZ3RoICsgb2Zmc2V0IC0gcG9zIC0gMSA6IDAsIG9wdF9yZXN1bHQubm9kZSA9IGN1cik7XG4gIHJldHVybiBjdXI7XG59O1xuZ29vZy5kb20uaXNOb2RlTGlzdCA9IGZ1bmN0aW9uKHZhbCkge1xuICBpZiAodmFsICYmIFwibnVtYmVyXCIgPT0gdHlwZW9mIHZhbC5sZW5ndGgpIHtcbiAgICBpZiAoZ29vZy5pc09iamVjdCh2YWwpKSB7XG4gICAgICByZXR1cm4gXCJmdW5jdGlvblwiID09IHR5cGVvZiB2YWwuaXRlbSB8fCBcInN0cmluZ1wiID09IHR5cGVvZiB2YWwuaXRlbTtcbiAgICB9XG4gICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHZhbCkge1xuICAgICAgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdmFsLml0ZW07XG4gICAgfVxuICB9XG4gIHJldHVybiAhMTtcbn07XG5nb29nLmRvbS5nZXRBbmNlc3RvckJ5VGFnTmFtZUFuZENsYXNzID0gZnVuY3Rpb24oZWxlbWVudCwgb3B0X3RhZywgb3B0X2NsYXNzLCBvcHRfbWF4U2VhcmNoU3RlcHMpIHtcbiAgaWYgKCFvcHRfdGFnICYmICFvcHRfY2xhc3MpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgdGFnTmFtZSA9IG9wdF90YWcgPyBTdHJpbmcob3B0X3RhZykudG9VcHBlckNhc2UoKSA6IG51bGw7XG4gIHJldHVybiBnb29nLmRvbS5nZXRBbmNlc3RvcihlbGVtZW50LCBmdW5jdGlvbihub2RlKSB7XG4gICAgcmV0dXJuICghdGFnTmFtZSB8fCBub2RlLm5vZGVOYW1lID09IHRhZ05hbWUpICYmICghb3B0X2NsYXNzIHx8IFwic3RyaW5nXCIgPT09IHR5cGVvZiBub2RlLmNsYXNzTmFtZSAmJiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb250YWlucyhub2RlLmNsYXNzTmFtZS5zcGxpdCgvXFxzKy8pLCBvcHRfY2xhc3MpKTtcbiAgfSwgITAsIG9wdF9tYXhTZWFyY2hTdGVwcyk7XG59O1xuZ29vZy5kb20uZ2V0QW5jZXN0b3JCeUNsYXNzID0gZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lLCBvcHRfbWF4U2VhcmNoU3RlcHMpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmdldEFuY2VzdG9yQnlUYWdOYW1lQW5kQ2xhc3MoZWxlbWVudCwgbnVsbCwgY2xhc3NOYW1lLCBvcHRfbWF4U2VhcmNoU3RlcHMpO1xufTtcbmdvb2cuZG9tLmdldEFuY2VzdG9yID0gZnVuY3Rpb24oZWxlbWVudCwgbWF0Y2hlciwgb3B0X2luY2x1ZGVOb2RlLCBvcHRfbWF4U2VhcmNoU3RlcHMpIHtcbiAgZWxlbWVudCAmJiAhb3B0X2luY2x1ZGVOb2RlICYmIChlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlKTtcbiAgZm9yICh2YXIgc3RlcHMgPSAwOyBlbGVtZW50ICYmIChudWxsID09IG9wdF9tYXhTZWFyY2hTdGVwcyB8fCBzdGVwcyA8PSBvcHRfbWF4U2VhcmNoU3RlcHMpOykge1xuICAgIGdvb2cuYXNzZXJ0cy5hc3NlcnQoXCJwYXJlbnROb2RlXCIgIT0gZWxlbWVudC5uYW1lKTtcbiAgICBpZiAobWF0Y2hlcihlbGVtZW50KSkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgc3RlcHMrKztcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5nb29nLmRvbS5nZXRBY3RpdmVFbGVtZW50ID0gZnVuY3Rpb24oZG9jKSB7XG4gIHRyeSB7XG4gICAgdmFyIGFjdGl2ZUVsZW1lbnQgPSBkb2MgJiYgZG9jLmFjdGl2ZUVsZW1lbnQ7XG4gICAgcmV0dXJuIGFjdGl2ZUVsZW1lbnQgJiYgYWN0aXZlRWxlbWVudC5ub2RlTmFtZSA/IGFjdGl2ZUVsZW1lbnQgOiBudWxsO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5nb29nLmRvbS5nZXRQaXhlbFJhdGlvID0gZnVuY3Rpb24oKSB7XG4gIHZhciB3aW4gPSBnb29nLmRvbS5nZXRXaW5kb3coKTtcbiAgcmV0dXJuIHZvaWQgMCAhPT0gd2luLmRldmljZVBpeGVsUmF0aW8gPyB3aW4uZGV2aWNlUGl4ZWxSYXRpbyA6IHdpbi5tYXRjaE1lZGlhID8gZ29vZy5kb20ubWF0Y2hlc1BpeGVsUmF0aW9fKDMpIHx8IGdvb2cuZG9tLm1hdGNoZXNQaXhlbFJhdGlvXygyKSB8fCBnb29nLmRvbS5tYXRjaGVzUGl4ZWxSYXRpb18oMS41KSB8fCBnb29nLmRvbS5tYXRjaGVzUGl4ZWxSYXRpb18oMSkgfHwgLjc1IDogMTtcbn07XG5nb29nLmRvbS5tYXRjaGVzUGl4ZWxSYXRpb18gPSBmdW5jdGlvbihwaXhlbFJhdGlvKSB7XG4gIHJldHVybiBnb29nLmRvbS5nZXRXaW5kb3coKS5tYXRjaE1lZGlhKFwiKG1pbi1yZXNvbHV0aW9uOiBcIiArIHBpeGVsUmF0aW8gKyBcImRwcHgpLChtaW4tLW1vei1kZXZpY2UtcGl4ZWwtcmF0aW86IFwiICsgcGl4ZWxSYXRpbyArIFwiKSwobWluLXJlc29sdXRpb246IFwiICsgOTYgKiBwaXhlbFJhdGlvICsgXCJkcGkpXCIpLm1hdGNoZXMgPyBwaXhlbFJhdGlvIDogMDtcbn07XG5nb29nLmRvbS5nZXRDYW52YXNDb250ZXh0MkQgPSBmdW5jdGlvbihjYW52YXMpIHtcbiAgcmV0dXJuIGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG59O1xuZ29vZy5kb20uRG9tSGVscGVyID0gZnVuY3Rpb24ob3B0X2RvY3VtZW50KSB7XG4gIHRoaXMuZG9jdW1lbnRfID0gb3B0X2RvY3VtZW50IHx8IGdvb2cuZ2xvYmFsLmRvY3VtZW50IHx8IGRvY3VtZW50O1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0RG9tSGVscGVyID0gZ29vZy5kb20uZ2V0RG9tSGVscGVyO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5zZXREb2N1bWVudCA9IGZ1bmN0aW9uKGRvY3VtZW50KSB7XG4gIHRoaXMuZG9jdW1lbnRfID0gZG9jdW1lbnQ7XG59O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXREb2N1bWVudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5kb2N1bWVudF87XG59O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRFbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gZ29vZy5kb20uZ2V0RWxlbWVudEhlbHBlcl8odGhpcy5kb2N1bWVudF8sIGVsZW1lbnQpO1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0UmVxdWlyZWRFbGVtZW50ID0gZnVuY3Rpb24oaWQpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmdldFJlcXVpcmVkRWxlbWVudEhlbHBlcl8odGhpcy5kb2N1bWVudF8sIGlkKTtcbn07XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLiQgPSBnb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmdldEVsZW1lbnQ7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmdldEVsZW1lbnRzQnlUYWdOYW1lID0gZnVuY3Rpb24odGFnTmFtZSwgb3B0X3BhcmVudCkge1xuICByZXR1cm4gKG9wdF9wYXJlbnQgfHwgdGhpcy5kb2N1bWVudF8pLmdldEVsZW1lbnRzQnlUYWdOYW1lKFN0cmluZyh0YWdOYW1lKSk7XG59O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRFbGVtZW50c0J5VGFnTmFtZUFuZENsYXNzID0gZnVuY3Rpb24ob3B0X3RhZywgb3B0X2NsYXNzLCBvcHRfZWwpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmdldEVsZW1lbnRzQnlUYWdOYW1lQW5kQ2xhc3NfKHRoaXMuZG9jdW1lbnRfLCBvcHRfdGFnLCBvcHRfY2xhc3MsIG9wdF9lbCk7XG59O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRFbGVtZW50QnlUYWdOYW1lQW5kQ2xhc3MgPSBmdW5jdGlvbihvcHRfdGFnLCBvcHRfY2xhc3MsIG9wdF9lbCkge1xuICByZXR1cm4gZ29vZy5kb20uZ2V0RWxlbWVudEJ5VGFnTmFtZUFuZENsYXNzXyh0aGlzLmRvY3VtZW50Xywgb3B0X3RhZywgb3B0X2NsYXNzLCBvcHRfZWwpO1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0RWxlbWVudHNCeUNsYXNzID0gZnVuY3Rpb24oY2xhc3NOYW1lLCBvcHRfZWwpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmdldEVsZW1lbnRzQnlDbGFzcyhjbGFzc05hbWUsIG9wdF9lbCB8fCB0aGlzLmRvY3VtZW50Xyk7XG59O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRFbGVtZW50QnlDbGFzcyA9IGZ1bmN0aW9uKGNsYXNzTmFtZSwgb3B0X2VsKSB7XG4gIHJldHVybiBnb29nLmRvbS5nZXRFbGVtZW50QnlDbGFzcyhjbGFzc05hbWUsIG9wdF9lbCB8fCB0aGlzLmRvY3VtZW50Xyk7XG59O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRSZXF1aXJlZEVsZW1lbnRCeUNsYXNzID0gZnVuY3Rpb24oY2xhc3NOYW1lLCBvcHRfcm9vdCkge1xuICByZXR1cm4gZ29vZy5kb20uZ2V0UmVxdWlyZWRFbGVtZW50QnlDbGFzcyhjbGFzc05hbWUsIG9wdF9yb290IHx8IHRoaXMuZG9jdW1lbnRfKTtcbn07XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLiQkID0gZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRFbGVtZW50c0J5VGFnTmFtZUFuZENsYXNzO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5zZXRQcm9wZXJ0aWVzID0gZ29vZy5kb20uc2V0UHJvcGVydGllcztcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0Vmlld3BvcnRTaXplID0gZnVuY3Rpb24ob3B0X3dpbmRvdykge1xuICByZXR1cm4gZ29vZy5kb20uZ2V0Vmlld3BvcnRTaXplKG9wdF93aW5kb3cgfHwgdGhpcy5nZXRXaW5kb3coKSk7XG59O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXREb2N1bWVudEhlaWdodCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5kb20uZ2V0RG9jdW1lbnRIZWlnaHRfKHRoaXMuZ2V0V2luZG93KCkpO1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuY3JlYXRlRG9tID0gZnVuY3Rpb24odGFnTmFtZSwgb3B0X2F0dHJpYnV0ZXMsIHZhcl9hcmdzKSB7XG4gIHJldHVybiBnb29nLmRvbS5jcmVhdGVEb21fKHRoaXMuZG9jdW1lbnRfLCBhcmd1bWVudHMpO1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuJGRvbSA9IGdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuY3JlYXRlRG9tO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5jcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24obmFtZSkge1xuICByZXR1cm4gZ29vZy5kb20uY3JlYXRlRWxlbWVudF8odGhpcy5kb2N1bWVudF8sIG5hbWUpO1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuY3JlYXRlVGV4dE5vZGUgPSBmdW5jdGlvbihjb250ZW50KSB7XG4gIHJldHVybiB0aGlzLmRvY3VtZW50Xy5jcmVhdGVUZXh0Tm9kZShTdHJpbmcoY29udGVudCkpO1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuY3JlYXRlVGFibGUgPSBmdW5jdGlvbihyb3dzLCBjb2x1bW5zLCBvcHRfZmlsbFdpdGhOYnNwKSB7XG4gIHJldHVybiBnb29nLmRvbS5jcmVhdGVUYWJsZV8odGhpcy5kb2N1bWVudF8sIHJvd3MsIGNvbHVtbnMsICEhb3B0X2ZpbGxXaXRoTmJzcCk7XG59O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5zYWZlSHRtbFRvTm9kZSA9IGZ1bmN0aW9uKGh0bWwpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLnNhZmVIdG1sVG9Ob2RlXyh0aGlzLmRvY3VtZW50XywgaHRtbCk7XG59O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5pc0NzczFDb21wYXRNb2RlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBnb29nLmRvbS5pc0NzczFDb21wYXRNb2RlXyh0aGlzLmRvY3VtZW50Xyk7XG59O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRXaW5kb3cgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmdldFdpbmRvd18odGhpcy5kb2N1bWVudF8pO1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0RG9jdW1lbnRTY3JvbGxFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBnb29nLmRvbS5nZXREb2N1bWVudFNjcm9sbEVsZW1lbnRfKHRoaXMuZG9jdW1lbnRfKTtcbn07XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmdldERvY3VtZW50U2Nyb2xsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBnb29nLmRvbS5nZXREb2N1bWVudFNjcm9sbF8odGhpcy5kb2N1bWVudF8pO1xufTtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0QWN0aXZlRWxlbWVudCA9IGZ1bmN0aW9uKG9wdF9kb2MpIHtcbiAgcmV0dXJuIGdvb2cuZG9tLmdldEFjdGl2ZUVsZW1lbnQob3B0X2RvYyB8fCB0aGlzLmRvY3VtZW50Xyk7XG59O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5hcHBlbmRDaGlsZCA9IGdvb2cuZG9tLmFwcGVuZENoaWxkO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5hcHBlbmQgPSBnb29nLmRvbS5hcHBlbmQ7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmNhbkhhdmVDaGlsZHJlbiA9IGdvb2cuZG9tLmNhbkhhdmVDaGlsZHJlbjtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUucmVtb3ZlQ2hpbGRyZW4gPSBnb29nLmRvbS5yZW1vdmVDaGlsZHJlbjtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuaW5zZXJ0U2libGluZ0JlZm9yZSA9IGdvb2cuZG9tLmluc2VydFNpYmxpbmdCZWZvcmU7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmluc2VydFNpYmxpbmdBZnRlciA9IGdvb2cuZG9tLmluc2VydFNpYmxpbmdBZnRlcjtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuaW5zZXJ0Q2hpbGRBdCA9IGdvb2cuZG9tLmluc2VydENoaWxkQXQ7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLnJlbW92ZU5vZGUgPSBnb29nLmRvbS5yZW1vdmVOb2RlO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5yZXBsYWNlTm9kZSA9IGdvb2cuZG9tLnJlcGxhY2VOb2RlO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5jb3B5Q29udGVudHMgPSBnb29nLmRvbS5jb3B5Q29udGVudHM7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmZsYXR0ZW5FbGVtZW50ID0gZ29vZy5kb20uZmxhdHRlbkVsZW1lbnQ7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmdldENoaWxkcmVuID0gZ29vZy5kb20uZ2V0Q2hpbGRyZW47XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmdldEZpcnN0RWxlbWVudENoaWxkID0gZ29vZy5kb20uZ2V0Rmlyc3RFbGVtZW50Q2hpbGQ7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmdldExhc3RFbGVtZW50Q2hpbGQgPSBnb29nLmRvbS5nZXRMYXN0RWxlbWVudENoaWxkO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXROZXh0RWxlbWVudFNpYmxpbmcgPSBnb29nLmRvbS5nZXROZXh0RWxlbWVudFNpYmxpbmc7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmdldFByZXZpb3VzRWxlbWVudFNpYmxpbmcgPSBnb29nLmRvbS5nZXRQcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXROZXh0Tm9kZSA9IGdvb2cuZG9tLmdldE5leHROb2RlO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRQcmV2aW91c05vZGUgPSBnb29nLmRvbS5nZXRQcmV2aW91c05vZGU7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmlzTm9kZUxpa2UgPSBnb29nLmRvbS5pc05vZGVMaWtlO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5pc0VsZW1lbnQgPSBnb29nLmRvbS5pc0VsZW1lbnQ7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmlzV2luZG93ID0gZ29vZy5kb20uaXNXaW5kb3c7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmdldFBhcmVudEVsZW1lbnQgPSBnb29nLmRvbS5nZXRQYXJlbnRFbGVtZW50O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5jb250YWlucyA9IGdvb2cuZG9tLmNvbnRhaW5zO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5jb21wYXJlTm9kZU9yZGVyID0gZ29vZy5kb20uY29tcGFyZU5vZGVPcmRlcjtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZmluZENvbW1vbkFuY2VzdG9yID0gZ29vZy5kb20uZmluZENvbW1vbkFuY2VzdG9yO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRPd25lckRvY3VtZW50ID0gZ29vZy5kb20uZ2V0T3duZXJEb2N1bWVudDtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0RnJhbWVDb250ZW50RG9jdW1lbnQgPSBnb29nLmRvbS5nZXRGcmFtZUNvbnRlbnREb2N1bWVudDtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuZ2V0RnJhbWVDb250ZW50V2luZG93ID0gZ29vZy5kb20uZ2V0RnJhbWVDb250ZW50V2luZG93O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5zZXRUZXh0Q29udGVudCA9IGdvb2cuZG9tLnNldFRleHRDb250ZW50O1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRPdXRlckh0bWwgPSBnb29nLmRvbS5nZXRPdXRlckh0bWw7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmZpbmROb2RlID0gZ29vZy5kb20uZmluZE5vZGU7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmZpbmROb2RlcyA9IGdvb2cuZG9tLmZpbmROb2Rlcztcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuaXNGb2N1c2FibGVUYWJJbmRleCA9IGdvb2cuZG9tLmlzRm9jdXNhYmxlVGFiSW5kZXg7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLnNldEZvY3VzYWJsZVRhYkluZGV4ID0gZ29vZy5kb20uc2V0Rm9jdXNhYmxlVGFiSW5kZXg7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmlzRm9jdXNhYmxlID0gZ29vZy5kb20uaXNGb2N1c2FibGU7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmdldFRleHRDb250ZW50ID0gZ29vZy5kb20uZ2V0VGV4dENvbnRlbnQ7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmdldE5vZGVUZXh0TGVuZ3RoID0gZ29vZy5kb20uZ2V0Tm9kZVRleHRMZW5ndGg7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmdldE5vZGVUZXh0T2Zmc2V0ID0gZ29vZy5kb20uZ2V0Tm9kZVRleHRPZmZzZXQ7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmdldE5vZGVBdE9mZnNldCA9IGdvb2cuZG9tLmdldE5vZGVBdE9mZnNldDtcbmdvb2cuZG9tLkRvbUhlbHBlci5wcm90b3R5cGUuaXNOb2RlTGlzdCA9IGdvb2cuZG9tLmlzTm9kZUxpc3Q7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmdldEFuY2VzdG9yQnlUYWdOYW1lQW5kQ2xhc3MgPSBnb29nLmRvbS5nZXRBbmNlc3RvckJ5VGFnTmFtZUFuZENsYXNzO1xuZ29vZy5kb20uRG9tSGVscGVyLnByb3RvdHlwZS5nZXRBbmNlc3RvckJ5Q2xhc3MgPSBnb29nLmRvbS5nZXRBbmNlc3RvckJ5Q2xhc3M7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmdldEFuY2VzdG9yID0gZ29vZy5kb20uZ2V0QW5jZXN0b3I7XG5nb29nLmRvbS5Eb21IZWxwZXIucHJvdG90eXBlLmdldENhbnZhc0NvbnRleHQyRCA9IGdvb2cuZG9tLmdldENhbnZhc0NvbnRleHQyRDtcbmdvb2cuYXN5bmMubmV4dFRpY2sgPSBmdW5jdGlvbihjYWxsYmFjaywgb3B0X2NvbnRleHQsIG9wdF91c2VTZXRJbW1lZGlhdGUpIHtcbiAgdmFyIGNiID0gY2FsbGJhY2s7XG4gIG9wdF9jb250ZXh0ICYmIChjYiA9IGdvb2cuYmluZChjYWxsYmFjaywgb3B0X2NvbnRleHQpKTtcbiAgY2IgPSBnb29nLmFzeW5jLm5leHRUaWNrLndyYXBDYWxsYmFja18oY2IpO1xuICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBnb29nLmdsb2JhbC5zZXRJbW1lZGlhdGUgJiYgKG9wdF91c2VTZXRJbW1lZGlhdGUgfHwgZ29vZy5hc3luYy5uZXh0VGljay51c2VTZXRJbW1lZGlhdGVfKCkpID8gZ29vZy5nbG9iYWwuc2V0SW1tZWRpYXRlKGNiKSA6IChnb29nLmFzeW5jLm5leHRUaWNrLnNldEltbWVkaWF0ZV8gfHwgKGdvb2cuYXN5bmMubmV4dFRpY2suc2V0SW1tZWRpYXRlXyA9IGdvb2cuYXN5bmMubmV4dFRpY2suZ2V0U2V0SW1tZWRpYXRlRW11bGF0b3JfKCkpLCBnb29nLmFzeW5jLm5leHRUaWNrLnNldEltbWVkaWF0ZV8oY2IpKTtcbn07XG5nb29nLmFzeW5jLm5leHRUaWNrLnVzZVNldEltbWVkaWF0ZV8gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGdvb2cuZ2xvYmFsLldpbmRvdyAmJiBnb29nLmdsb2JhbC5XaW5kb3cucHJvdG90eXBlICYmICFtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoRWRnZUh0bWwoKSAmJiBnb29nLmdsb2JhbC5XaW5kb3cucHJvdG90eXBlLnNldEltbWVkaWF0ZSA9PSBnb29nLmdsb2JhbC5zZXRJbW1lZGlhdGUgPyAhMSA6ICEwO1xufTtcbmdvb2cuYXN5bmMubmV4dFRpY2suZ2V0U2V0SW1tZWRpYXRlRW11bGF0b3JfID0gZnVuY3Rpb24oKSB7XG4gIHZhciBDaGFubmVsID0gZ29vZy5nbG9iYWwuTWVzc2FnZUNoYW5uZWw7XG4gIFwidW5kZWZpbmVkXCIgPT09IHR5cGVvZiBDaGFubmVsICYmIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiB3aW5kb3cgJiYgd2luZG93LnBvc3RNZXNzYWdlICYmIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyICYmICFtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRlbmdpbmVfaXNQcmVzdG8oKSAmJiAoQ2hhbm5lbCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpZnJhbWUgPSBnb29nLmRvbS5jcmVhdGVFbGVtZW50KGdvb2cuZG9tLlRhZ05hbWUuSUZSQU1FKTtcbiAgICBpZnJhbWUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChpZnJhbWUpO1xuICAgIHZhciB3aW4gPSBpZnJhbWUuY29udGVudFdpbmRvdywgZG9jID0gd2luLmRvY3VtZW50O1xuICAgIGRvYy5vcGVuKCk7XG4gICAgZG9jLmNsb3NlKCk7XG4gICAgdmFyIG1lc3NhZ2UgPSBcImNhbGxJbW1lZGlhdGVcIiArIE1hdGgucmFuZG9tKCksIG9yaWdpbiA9IFwiZmlsZTpcIiA9PSB3aW4ubG9jYXRpb24ucHJvdG9jb2wgPyBcIipcIiA6IHdpbi5sb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIHdpbi5sb2NhdGlvbi5ob3N0LCBvbm1lc3NhZ2UgPSBnb29nLmJpbmQoZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKChcIipcIiA9PSBvcmlnaW4gfHwgZS5vcmlnaW4gPT0gb3JpZ2luKSAmJiBlLmRhdGEgPT0gbWVzc2FnZSkge1xuICAgICAgICB0aGlzLnBvcnQxLm9ubWVzc2FnZSgpO1xuICAgICAgfVxuICAgIH0sIHRoaXMpO1xuICAgIHdpbi5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBvbm1lc3NhZ2UsICExKTtcbiAgICB0aGlzLnBvcnQxID0ge307XG4gICAgdGhpcy5wb3J0MiA9IHtwb3N0TWVzc2FnZTpmdW5jdGlvbigpIHtcbiAgICAgIHdpbi5wb3N0TWVzc2FnZShtZXNzYWdlLCBvcmlnaW4pO1xuICAgIH19O1xuICB9KTtcbiAgaWYgKFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBDaGFubmVsICYmICFtb2R1bGUkY29udGVudHMkZ29vZyRsYWJzJHVzZXJBZ2VudCRicm93c2VyX21hdGNoSUUoKSkge1xuICAgIHZhciBjaGFubmVsID0gbmV3IENoYW5uZWwoKSwgaGVhZCA9IHt9LCB0YWlsID0gaGVhZDtcbiAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHZvaWQgMCAhPT0gaGVhZC5uZXh0KSB7XG4gICAgICAgIGhlYWQgPSBoZWFkLm5leHQ7XG4gICAgICAgIHZhciBjYiA9IGhlYWQuY2I7XG4gICAgICAgIGhlYWQuY2IgPSBudWxsO1xuICAgICAgICBjYigpO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGNiKSB7XG4gICAgICB0YWlsLm5leHQgPSB7Y2I6Y2J9O1xuICAgICAgdGFpbCA9IHRhaWwubmV4dDtcbiAgICAgIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoMCk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24oY2IpIHtcbiAgICBnb29nLmdsb2JhbC5zZXRUaW1lb3V0KGNiLCAwKTtcbiAgfTtcbn07XG5nb29nLmFzeW5jLm5leHRUaWNrLndyYXBDYWxsYmFja18gPSBnb29nLmZ1bmN0aW9ucy5pZGVudGl0eTtcbmdvb2cuZGVidWcuZW50cnlQb2ludFJlZ2lzdHJ5LnJlZ2lzdGVyKGZ1bmN0aW9uKHRyYW5zZm9ybWVyKSB7XG4gIGdvb2cuYXN5bmMubmV4dFRpY2sud3JhcENhbGxiYWNrXyA9IHRyYW5zZm9ybWVyO1xufSk7XG5mdW5jdGlvbiBtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyR0aHJvd0V4Y2VwdGlvbl90aHJvd0V4Y2VwdGlvbihleGNlcHRpb24pIHtcbiAgZ29vZy5nbG9iYWwuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICB0aHJvdyBleGNlcHRpb247XG4gIH0sIDApO1xufVxuZ29vZy5hc3luYy50aHJvd0V4Y2VwdGlvbiA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJHRocm93RXhjZXB0aW9uX3Rocm93RXhjZXB0aW9uO1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJFdvcmtRdWV1ZV9Xb3JrUXVldWUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy53b3JrVGFpbF8gPSB0aGlzLndvcmtIZWFkXyA9IG51bGw7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkV29ya1F1ZXVlX1dvcmtRdWV1ZS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oZm4sIHNjb3BlKSB7XG4gIHZhciBpdGVtID0gdGhpcy5nZXRVbnVzZWRJdGVtXygpO1xuICBpdGVtLnNldChmbiwgc2NvcGUpO1xuICB0aGlzLndvcmtUYWlsXyA/IHRoaXMud29ya1RhaWxfLm5leHQgPSBpdGVtIDogKCgwLGdvb2cuYXNzZXJ0cy5hc3NlcnQpKCF0aGlzLndvcmtIZWFkXyksIHRoaXMud29ya0hlYWRfID0gaXRlbSk7XG4gIHRoaXMud29ya1RhaWxfID0gaXRlbTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRXb3JrUXVldWVfV29ya1F1ZXVlLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGl0ZW0gPSBudWxsO1xuICB0aGlzLndvcmtIZWFkXyAmJiAoaXRlbSA9IHRoaXMud29ya0hlYWRfLCB0aGlzLndvcmtIZWFkXyA9IHRoaXMud29ya0hlYWRfLm5leHQsIHRoaXMud29ya0hlYWRfIHx8ICh0aGlzLndvcmtUYWlsXyA9IG51bGwpLCBpdGVtLm5leHQgPSBudWxsKTtcbiAgcmV0dXJuIGl0ZW07XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkV29ya1F1ZXVlX1dvcmtRdWV1ZS5wcm90b3R5cGUucmV0dXJuVW51c2VkID0gZnVuY3Rpb24oaXRlbSkge1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRXb3JrUXVldWVfV29ya1F1ZXVlLmZyZWVsaXN0Xy5wdXQoaXRlbSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkV29ya1F1ZXVlX1dvcmtRdWV1ZS5wcm90b3R5cGUuZ2V0VW51c2VkSXRlbV8gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJFdvcmtRdWV1ZV9Xb3JrUXVldWUuZnJlZWxpc3RfLmdldCgpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJFdvcmtRdWV1ZV9Xb3JrUXVldWUuREVGQVVMVF9NQVhfVU5VU0VEID0gMTAwO1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkV29ya1F1ZXVlX1dvcmtRdWV1ZS5mcmVlbGlzdF8gPSBuZXcgZ29vZy5hc3luYy5GcmVlTGlzdChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRXb3JrUXVldWVfV29ya0l0ZW0oKTtcbn0sIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgcmV0dXJuIGl0ZW0ucmVzZXQoKTtcbn0sIG1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJFdvcmtRdWV1ZV9Xb3JrUXVldWUuREVGQVVMVF9NQVhfVU5VU0VEKTtcbnZhciBtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRXb3JrUXVldWVfV29ya0l0ZW0gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5uZXh0ID0gdGhpcy5zY29wZSA9IHRoaXMuZm4gPSBudWxsO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJFdvcmtRdWV1ZV9Xb3JrSXRlbS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24oZm4sIHNjb3BlKSB7XG4gIHRoaXMuZm4gPSBmbjtcbiAgdGhpcy5zY29wZSA9IHNjb3BlO1xuICB0aGlzLm5leHQgPSBudWxsO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJFdvcmtRdWV1ZV9Xb3JrSXRlbS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5uZXh0ID0gdGhpcy5zY29wZSA9IHRoaXMuZm4gPSBudWxsO1xufTtcbmdvb2cuYXN5bmMuV29ya1F1ZXVlID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkV29ya1F1ZXVlX1dvcmtRdWV1ZTtcbmdvb2cuQVNTVU1FX05BVElWRV9QUk9NSVNFID0gITE7XG5nb29nLmFzeW5jLnJ1biA9IGZ1bmN0aW9uKGNhbGxiYWNrLCBvcHRfY29udGV4dCkge1xuICBnb29nLmFzeW5jLnJ1bi5zY2hlZHVsZV8gfHwgZ29vZy5hc3luYy5ydW4uaW5pdGlhbGl6ZVJ1bm5lcl8oKTtcbiAgZ29vZy5hc3luYy5ydW4ud29ya1F1ZXVlU2NoZWR1bGVkXyB8fCAoZ29vZy5hc3luYy5ydW4uc2NoZWR1bGVfKCksIGdvb2cuYXN5bmMucnVuLndvcmtRdWV1ZVNjaGVkdWxlZF8gPSAhMCk7XG4gIGdvb2cuYXN5bmMucnVuLndvcmtRdWV1ZV8uYWRkKGNhbGxiYWNrLCBvcHRfY29udGV4dCk7XG59O1xuZ29vZy5hc3luYy5ydW4uaW5pdGlhbGl6ZVJ1bm5lcl8gPSBmdW5jdGlvbigpIHtcbiAgaWYgKGdvb2cuQVNTVU1FX05BVElWRV9QUk9NSVNFIHx8IGdvb2cuZ2xvYmFsLlByb21pc2UgJiYgZ29vZy5nbG9iYWwuUHJvbWlzZS5yZXNvbHZlKSB7XG4gICAgdmFyIHByb21pc2UgPSBnb29nLmdsb2JhbC5Qcm9taXNlLnJlc29sdmUodm9pZCAwKTtcbiAgICBnb29nLmFzeW5jLnJ1bi5zY2hlZHVsZV8gPSBmdW5jdGlvbigpIHtcbiAgICAgIHByb21pc2UudGhlbihnb29nLmFzeW5jLnJ1bi5wcm9jZXNzV29ya1F1ZXVlKTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIGdvb2cuYXN5bmMucnVuLnNjaGVkdWxlXyA9IGZ1bmN0aW9uKCkge1xuICAgICAgZ29vZy5hc3luYy5uZXh0VGljayhnb29nLmFzeW5jLnJ1bi5wcm9jZXNzV29ya1F1ZXVlKTtcbiAgICB9O1xuICB9XG59O1xuZ29vZy5hc3luYy5ydW4uZm9yY2VOZXh0VGljayA9IGZ1bmN0aW9uKG9wdF9yZWFsU2V0VGltZW91dCkge1xuICBnb29nLmFzeW5jLnJ1bi5zY2hlZHVsZV8gPSBmdW5jdGlvbigpIHtcbiAgICBnb29nLmFzeW5jLm5leHRUaWNrKGdvb2cuYXN5bmMucnVuLnByb2Nlc3NXb3JrUXVldWUpO1xuICAgIG9wdF9yZWFsU2V0VGltZW91dCAmJiBvcHRfcmVhbFNldFRpbWVvdXQoZ29vZy5hc3luYy5ydW4ucHJvY2Vzc1dvcmtRdWV1ZSk7XG4gIH07XG59O1xuZ29vZy5hc3luYy5ydW4ud29ya1F1ZXVlU2NoZWR1bGVkXyA9ICExO1xuZ29vZy5hc3luYy5ydW4ud29ya1F1ZXVlXyA9IG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRXb3JrUXVldWVfV29ya1F1ZXVlKCk7XG5nb29nLkRFQlVHICYmIChnb29nLmFzeW5jLnJ1bi5yZXNldFF1ZXVlID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cuYXN5bmMucnVuLndvcmtRdWV1ZVNjaGVkdWxlZF8gPSAhMTtcbiAgZ29vZy5hc3luYy5ydW4ud29ya1F1ZXVlXyA9IG5ldyBtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRXb3JrUXVldWVfV29ya1F1ZXVlKCk7XG59LCBnb29nLmFzeW5jLnJ1bi5yZXNldFNjaGVkdWxlckZvclRlc3QgPSBmdW5jdGlvbigpIHtcbiAgZ29vZy5hc3luYy5ydW4uaW5pdGlhbGl6ZVJ1bm5lcl8oKTtcbn0pO1xuZ29vZy5hc3luYy5ydW4ucHJvY2Vzc1dvcmtRdWV1ZSA9IGZ1bmN0aW9uKCkge1xuICBmb3IgKHZhciBpdGVtID0gbnVsbDsgaXRlbSA9IGdvb2cuYXN5bmMucnVuLndvcmtRdWV1ZV8ucmVtb3ZlKCk7KSB7XG4gICAgdHJ5IHtcbiAgICAgIGl0ZW0uZm4uY2FsbChpdGVtLnNjb3BlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBtb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyR0aHJvd0V4Y2VwdGlvbl90aHJvd0V4Y2VwdGlvbihlKTtcbiAgICB9XG4gICAgZ29vZy5hc3luYy5ydW4ud29ya1F1ZXVlXy5yZXR1cm5VbnVzZWQoaXRlbSk7XG4gIH1cbiAgZ29vZy5hc3luYy5ydW4ud29ya1F1ZXVlU2NoZWR1bGVkXyA9ICExO1xufTtcbmdvb2cucHJvbWlzZSA9IHt9O1xuZ29vZy5wcm9taXNlLlJlc29sdmVyID0gZnVuY3Rpb24oKSB7XG59O1xuZ29vZy5UaGVuYWJsZSA9IGZ1bmN0aW9uKCkge1xufTtcbmdvb2cuVGhlbmFibGUucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbihvcHRfb25GdWxmaWxsZWQsIG9wdF9vblJlamVjdGVkLCBvcHRfY29udGV4dCkge1xufTtcbmdvb2cuVGhlbmFibGUuSU1QTEVNRU5URURfQllfUFJPUCA9IFwiJGdvb2dfVGhlbmFibGVcIjtcbmdvb2cuVGhlbmFibGUuYWRkSW1wbGVtZW50YXRpb24gPSBmdW5jdGlvbihjdG9yKSB7XG4gIGN0b3IucHJvdG90eXBlW2dvb2cuVGhlbmFibGUuSU1QTEVNRU5URURfQllfUFJPUF0gPSAhMDtcbn07XG5nb29nLlRoZW5hYmxlLmlzSW1wbGVtZW50ZWRCeSA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICBpZiAoIW9iamVjdCkge1xuICAgIHJldHVybiAhMTtcbiAgfVxuICB0cnkge1xuICAgIHJldHVybiAhIW9iamVjdFtnb29nLlRoZW5hYmxlLklNUExFTUVOVEVEX0JZX1BST1BdO1xuICAgIHJldHVybiAhIW9iamVjdC4kZ29vZ19UaGVuYWJsZTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiAhMTtcbiAgfVxufTtcbmdvb2cuUHJvbWlzZSA9IGZ1bmN0aW9uKHJlc29sdmVyLCBvcHRfY29udGV4dCkge1xuICB0aGlzLnN0YXRlXyA9IGdvb2cuUHJvbWlzZS5TdGF0ZV8uUEVORElORztcbiAgdGhpcy5yZXN1bHRfID0gdm9pZCAwO1xuICB0aGlzLmNhbGxiYWNrRW50cmllc1RhaWxfID0gdGhpcy5jYWxsYmFja0VudHJpZXNfID0gdGhpcy5wYXJlbnRfID0gbnVsbDtcbiAgdGhpcy5leGVjdXRpbmdfID0gITE7XG4gIDAgPCBnb29nLlByb21pc2UuVU5IQU5ETEVEX1JFSkVDVElPTl9ERUxBWSA/IHRoaXMudW5oYW5kbGVkUmVqZWN0aW9uSWRfID0gMCA6IDAgPT0gZ29vZy5Qcm9taXNlLlVOSEFORExFRF9SRUpFQ1RJT05fREVMQVkgJiYgKHRoaXMuaGFkVW5oYW5kbGVkUmVqZWN0aW9uXyA9ICExKTtcbiAgZ29vZy5Qcm9taXNlLkxPTkdfU1RBQ0tfVFJBQ0VTICYmICh0aGlzLnN0YWNrXyA9IFtdLCB0aGlzLmFkZFN0YWNrVHJhY2VfKEVycm9yKFwiY3JlYXRlZFwiKSksIHRoaXMuY3VycmVudFN0ZXBfID0gMCk7XG4gIGlmIChyZXNvbHZlciAhPSBnb29nLm51bGxGdW5jdGlvbikge1xuICAgIHRyeSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICByZXNvbHZlci5jYWxsKG9wdF9jb250ZXh0LCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBzZWxmLnJlc29sdmVfKGdvb2cuUHJvbWlzZS5TdGF0ZV8uRlVMRklMTEVELCB2YWx1ZSk7XG4gICAgICB9LCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgaWYgKGdvb2cuREVCVUcgJiYgIShyZWFzb24gaW5zdGFuY2VvZiBnb29nLlByb21pc2UuQ2FuY2VsbGF0aW9uRXJyb3IpKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChyZWFzb24gaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICB0aHJvdyByZWFzb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIlByb21pc2UgcmVqZWN0ZWQuXCIpO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5yZXNvbHZlXyhnb29nLlByb21pc2UuU3RhdGVfLlJFSkVDVEVELCByZWFzb24pO1xuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhpcy5yZXNvbHZlXyhnb29nLlByb21pc2UuU3RhdGVfLlJFSkVDVEVELCBlKTtcbiAgICB9XG4gIH1cbn07XG5nb29nLlByb21pc2UuTE9OR19TVEFDS19UUkFDRVMgPSAhMTtcbmdvb2cuUHJvbWlzZS5VTkhBTkRMRURfUkVKRUNUSU9OX0RFTEFZID0gMDtcbmdvb2cuUHJvbWlzZS5TdGF0ZV8gPSB7UEVORElORzowLCBCTE9DS0VEOjEsIEZVTEZJTExFRDoyLCBSRUpFQ1RFRDozfTtcbmdvb2cuUHJvbWlzZS5DYWxsYmFja0VudHJ5XyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLm5leHQgPSB0aGlzLmNvbnRleHQgPSB0aGlzLm9uUmVqZWN0ZWQgPSB0aGlzLm9uRnVsZmlsbGVkID0gdGhpcy5jaGlsZCA9IG51bGw7XG4gIHRoaXMuYWx3YXlzID0gITE7XG59O1xuZ29vZy5Qcm9taXNlLkNhbGxiYWNrRW50cnlfLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmNvbnRleHQgPSB0aGlzLm9uUmVqZWN0ZWQgPSB0aGlzLm9uRnVsZmlsbGVkID0gdGhpcy5jaGlsZCA9IG51bGw7XG4gIHRoaXMuYWx3YXlzID0gITE7XG59O1xuZ29vZy5Qcm9taXNlLkRFRkFVTFRfTUFYX1VOVVNFRCA9IDEwMDtcbmdvb2cuUHJvbWlzZS5mcmVlbGlzdF8gPSBuZXcgZ29vZy5hc3luYy5GcmVlTGlzdChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBnb29nLlByb21pc2UuQ2FsbGJhY2tFbnRyeV8oKTtcbn0sIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgaXRlbS5yZXNldCgpO1xufSwgZ29vZy5Qcm9taXNlLkRFRkFVTFRfTUFYX1VOVVNFRCk7XG5nb29nLlByb21pc2UuZ2V0Q2FsbGJhY2tFbnRyeV8gPSBmdW5jdGlvbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgY29udGV4dCkge1xuICB2YXIgZW50cnkgPSBnb29nLlByb21pc2UuZnJlZWxpc3RfLmdldCgpO1xuICBlbnRyeS5vbkZ1bGZpbGxlZCA9IG9uRnVsZmlsbGVkO1xuICBlbnRyeS5vblJlamVjdGVkID0gb25SZWplY3RlZDtcbiAgZW50cnkuY29udGV4dCA9IGNvbnRleHQ7XG4gIHJldHVybiBlbnRyeTtcbn07XG5nb29nLlByb21pc2UucmV0dXJuRW50cnlfID0gZnVuY3Rpb24oZW50cnkpIHtcbiAgZ29vZy5Qcm9taXNlLmZyZWVsaXN0Xy5wdXQoZW50cnkpO1xufTtcbmdvb2cuUHJvbWlzZS5yZXNvbHZlID0gZnVuY3Rpb24ob3B0X3ZhbHVlKSB7XG4gIGlmIChvcHRfdmFsdWUgaW5zdGFuY2VvZiBnb29nLlByb21pc2UpIHtcbiAgICByZXR1cm4gb3B0X3ZhbHVlO1xuICB9XG4gIHZhciBwcm9taXNlID0gbmV3IGdvb2cuUHJvbWlzZShnb29nLm51bGxGdW5jdGlvbik7XG4gIHByb21pc2UucmVzb2x2ZV8oZ29vZy5Qcm9taXNlLlN0YXRlXy5GVUxGSUxMRUQsIG9wdF92YWx1ZSk7XG4gIHJldHVybiBwcm9taXNlO1xufTtcbmdvb2cuUHJvbWlzZS5yZWplY3QgPSBmdW5jdGlvbihvcHRfcmVhc29uKSB7XG4gIHJldHVybiBuZXcgZ29vZy5Qcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHJlamVjdChvcHRfcmVhc29uKTtcbiAgfSk7XG59O1xuZ29vZy5Qcm9taXNlLnJlc29sdmVUaGVuXyA9IGZ1bmN0aW9uKHZhbHVlLCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICBnb29nLlByb21pc2UubWF5YmVUaGVuXyh2YWx1ZSwgb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIG51bGwpIHx8IGdvb2cuYXN5bmMucnVuKGdvb2cucGFydGlhbChvbkZ1bGZpbGxlZCwgdmFsdWUpKTtcbn07XG5nb29nLlByb21pc2UucmFjZSA9IGZ1bmN0aW9uKHByb21pc2VzKSB7XG4gIHJldHVybiBuZXcgZ29vZy5Qcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHByb21pc2VzLmxlbmd0aCB8fCByZXNvbHZlKHZvaWQgMCk7XG4gICAgZm9yICh2YXIgaSA9IDAsIHByb21pc2U7IGkgPCBwcm9taXNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgcHJvbWlzZSA9IHByb21pc2VzW2ldLCBnb29nLlByb21pc2UucmVzb2x2ZVRoZW5fKHByb21pc2UsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgfVxuICB9KTtcbn07XG5nb29nLlByb21pc2UuYWxsID0gZnVuY3Rpb24ocHJvbWlzZXMpIHtcbiAgcmV0dXJuIG5ldyBnb29nLlByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdmFyIHRvRnVsZmlsbCA9IHByb21pc2VzLmxlbmd0aCwgdmFsdWVzID0gW107XG4gICAgaWYgKHRvRnVsZmlsbCkge1xuICAgICAgZm9yICh2YXIgb25GdWxmaWxsID0gZnVuY3Rpb24oaW5kZXgsIHZhbHVlKSB7XG4gICAgICAgIHRvRnVsZmlsbC0tO1xuICAgICAgICB2YWx1ZXNbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgIDAgPT0gdG9GdWxmaWxsICYmIHJlc29sdmUodmFsdWVzKTtcbiAgICAgIH0sIG9uUmVqZWN0ID0gZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgIHJlamVjdChyZWFzb24pO1xuICAgICAgfSwgaSA9IDAsIHByb21pc2U7IGkgPCBwcm9taXNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBwcm9taXNlID0gcHJvbWlzZXNbaV0sIGdvb2cuUHJvbWlzZS5yZXNvbHZlVGhlbl8ocHJvbWlzZSwgZ29vZy5wYXJ0aWFsKG9uRnVsZmlsbCwgaSksIG9uUmVqZWN0KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVzb2x2ZSh2YWx1ZXMpO1xuICAgIH1cbiAgfSk7XG59O1xuZ29vZy5Qcm9taXNlLmFsbFNldHRsZWQgPSBmdW5jdGlvbihwcm9taXNlcykge1xuICByZXR1cm4gbmV3IGdvb2cuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgdG9TZXR0bGUgPSBwcm9taXNlcy5sZW5ndGgsIHJlc3VsdHMgPSBbXTtcbiAgICBpZiAodG9TZXR0bGUpIHtcbiAgICAgIGZvciAodmFyIG9uU2V0dGxlZCA9IGZ1bmN0aW9uKGluZGV4LCBmdWxmaWxsZWQsIHJlc3VsdCkge1xuICAgICAgICB0b1NldHRsZS0tO1xuICAgICAgICByZXN1bHRzW2luZGV4XSA9IGZ1bGZpbGxlZCA/IHtmdWxmaWxsZWQ6ITAsIHZhbHVlOnJlc3VsdH0gOiB7ZnVsZmlsbGVkOiExLCByZWFzb246cmVzdWx0fTtcbiAgICAgICAgMCA9PSB0b1NldHRsZSAmJiByZXNvbHZlKHJlc3VsdHMpO1xuICAgICAgfSwgaSA9IDAsIHByb21pc2U7IGkgPCBwcm9taXNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBwcm9taXNlID0gcHJvbWlzZXNbaV0sIGdvb2cuUHJvbWlzZS5yZXNvbHZlVGhlbl8ocHJvbWlzZSwgZ29vZy5wYXJ0aWFsKG9uU2V0dGxlZCwgaSwgITApLCBnb29nLnBhcnRpYWwob25TZXR0bGVkLCBpLCAhMSkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNvbHZlKHJlc3VsdHMpO1xuICAgIH1cbiAgfSk7XG59O1xuZ29vZy5Qcm9taXNlLmZpcnN0RnVsZmlsbGVkID0gZnVuY3Rpb24ocHJvbWlzZXMpIHtcbiAgcmV0dXJuIG5ldyBnb29nLlByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdmFyIHRvUmVqZWN0ID0gcHJvbWlzZXMubGVuZ3RoLCByZWFzb25zID0gW107XG4gICAgaWYgKHRvUmVqZWN0KSB7XG4gICAgICBmb3IgKHZhciBvbkZ1bGZpbGwgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgIH0sIG9uUmVqZWN0ID0gZnVuY3Rpb24oaW5kZXgsIHJlYXNvbikge1xuICAgICAgICB0b1JlamVjdC0tO1xuICAgICAgICByZWFzb25zW2luZGV4XSA9IHJlYXNvbjtcbiAgICAgICAgMCA9PSB0b1JlamVjdCAmJiByZWplY3QocmVhc29ucyk7XG4gICAgICB9LCBpID0gMCwgcHJvbWlzZTsgaSA8IHByb21pc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHByb21pc2UgPSBwcm9taXNlc1tpXSwgZ29vZy5Qcm9taXNlLnJlc29sdmVUaGVuXyhwcm9taXNlLCBvbkZ1bGZpbGwsIGdvb2cucGFydGlhbChvblJlamVjdCwgaSkpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNvbHZlKHZvaWQgMCk7XG4gICAgfVxuICB9KTtcbn07XG5nb29nLlByb21pc2Uud2l0aFJlc29sdmVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciByZXNvbHZlLCByZWplY3QsIHByb21pc2UgPSBuZXcgZ29vZy5Qcm9taXNlKGZ1bmN0aW9uKHJzLCByaikge1xuICAgIHJlc29sdmUgPSBycztcbiAgICByZWplY3QgPSByajtcbiAgfSk7XG4gIHJldHVybiBuZXcgZ29vZy5Qcm9taXNlLlJlc29sdmVyXyhwcm9taXNlLCByZXNvbHZlLCByZWplY3QpO1xufTtcbmdvb2cuUHJvbWlzZS5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uKG9wdF9vbkZ1bGZpbGxlZCwgb3B0X29uUmVqZWN0ZWQsIG9wdF9jb250ZXh0KSB7XG4gIG51bGwgIT0gb3B0X29uRnVsZmlsbGVkICYmIGdvb2cuYXNzZXJ0cy5hc3NlcnRGdW5jdGlvbihvcHRfb25GdWxmaWxsZWQsIFwib3B0X29uRnVsZmlsbGVkIHNob3VsZCBiZSBhIGZ1bmN0aW9uLlwiKTtcbiAgbnVsbCAhPSBvcHRfb25SZWplY3RlZCAmJiBnb29nLmFzc2VydHMuYXNzZXJ0RnVuY3Rpb24ob3B0X29uUmVqZWN0ZWQsIFwib3B0X29uUmVqZWN0ZWQgc2hvdWxkIGJlIGEgZnVuY3Rpb24uIERpZCB5b3UgcGFzcyBvcHRfY29udGV4dCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50IGluc3RlYWQgb2YgdGhlIHRoaXJkP1wiKTtcbiAgZ29vZy5Qcm9taXNlLkxPTkdfU1RBQ0tfVFJBQ0VTICYmIHRoaXMuYWRkU3RhY2tUcmFjZV8oRXJyb3IoXCJ0aGVuXCIpKTtcbiAgcmV0dXJuIHRoaXMuYWRkQ2hpbGRQcm9taXNlXyhcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBvcHRfb25GdWxmaWxsZWQgPyBvcHRfb25GdWxmaWxsZWQgOiBudWxsLCBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBvcHRfb25SZWplY3RlZCA/IG9wdF9vblJlamVjdGVkIDogbnVsbCwgb3B0X2NvbnRleHQpO1xufTtcbmdvb2cuVGhlbmFibGUuYWRkSW1wbGVtZW50YXRpb24oZ29vZy5Qcm9taXNlKTtcbmdvb2cuUHJvbWlzZS5wcm90b3R5cGUudGhlblZvaWQgPSBmdW5jdGlvbihvcHRfb25GdWxmaWxsZWQsIG9wdF9vblJlamVjdGVkLCBvcHRfY29udGV4dCkge1xuICBudWxsICE9IG9wdF9vbkZ1bGZpbGxlZCAmJiBnb29nLmFzc2VydHMuYXNzZXJ0RnVuY3Rpb24ob3B0X29uRnVsZmlsbGVkLCBcIm9wdF9vbkZ1bGZpbGxlZCBzaG91bGQgYmUgYSBmdW5jdGlvbi5cIik7XG4gIG51bGwgIT0gb3B0X29uUmVqZWN0ZWQgJiYgZ29vZy5hc3NlcnRzLmFzc2VydEZ1bmN0aW9uKG9wdF9vblJlamVjdGVkLCBcIm9wdF9vblJlamVjdGVkIHNob3VsZCBiZSBhIGZ1bmN0aW9uLiBEaWQgeW91IHBhc3Mgb3B0X2NvbnRleHQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCBpbnN0ZWFkIG9mIHRoZSB0aGlyZD9cIik7XG4gIGdvb2cuUHJvbWlzZS5MT05HX1NUQUNLX1RSQUNFUyAmJiB0aGlzLmFkZFN0YWNrVHJhY2VfKEVycm9yKFwidGhlblwiKSk7XG4gIHRoaXMuYWRkQ2FsbGJhY2tFbnRyeV8oZ29vZy5Qcm9taXNlLmdldENhbGxiYWNrRW50cnlfKG9wdF9vbkZ1bGZpbGxlZCB8fCBnb29nLm51bGxGdW5jdGlvbiwgb3B0X29uUmVqZWN0ZWQgfHwgbnVsbCwgb3B0X2NvbnRleHQpKTtcbn07XG5nb29nLlByb21pc2UucHJvdG90eXBlLnRoZW5BbHdheXMgPSBmdW5jdGlvbihvblNldHRsZWQsIG9wdF9jb250ZXh0KSB7XG4gIGdvb2cuUHJvbWlzZS5MT05HX1NUQUNLX1RSQUNFUyAmJiB0aGlzLmFkZFN0YWNrVHJhY2VfKEVycm9yKFwidGhlbkFsd2F5c1wiKSk7XG4gIHZhciBlbnRyeSA9IGdvb2cuUHJvbWlzZS5nZXRDYWxsYmFja0VudHJ5XyhvblNldHRsZWQsIG9uU2V0dGxlZCwgb3B0X2NvbnRleHQpO1xuICBlbnRyeS5hbHdheXMgPSAhMDtcbiAgdGhpcy5hZGRDYWxsYmFja0VudHJ5XyhlbnRyeSk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cuUHJvbWlzZS5wcm90b3R5cGUudGhlbkNhdGNoID0gZnVuY3Rpb24ob25SZWplY3RlZCwgb3B0X2NvbnRleHQpIHtcbiAgZ29vZy5Qcm9taXNlLkxPTkdfU1RBQ0tfVFJBQ0VTICYmIHRoaXMuYWRkU3RhY2tUcmFjZV8oRXJyb3IoXCJ0aGVuQ2F0Y2hcIikpO1xuICByZXR1cm4gdGhpcy5hZGRDaGlsZFByb21pc2VfKG51bGwsIG9uUmVqZWN0ZWQsIG9wdF9jb250ZXh0KTtcbn07XG5nb29nLlByb21pc2UucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uKG9wdF9tZXNzYWdlKSB7XG4gIGlmICh0aGlzLnN0YXRlXyA9PSBnb29nLlByb21pc2UuU3RhdGVfLlBFTkRJTkcpIHtcbiAgICB2YXIgZXJyID0gbmV3IGdvb2cuUHJvbWlzZS5DYW5jZWxsYXRpb25FcnJvcihvcHRfbWVzc2FnZSk7XG4gICAgZ29vZy5hc3luYy5ydW4oZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmNhbmNlbEludGVybmFsXyhlcnIpO1xuICAgIH0sIHRoaXMpO1xuICB9XG59O1xuZ29vZy5Qcm9taXNlLnByb3RvdHlwZS5jYW5jZWxJbnRlcm5hbF8gPSBmdW5jdGlvbihlcnIpIHtcbiAgdGhpcy5zdGF0ZV8gPT0gZ29vZy5Qcm9taXNlLlN0YXRlXy5QRU5ESU5HICYmICh0aGlzLnBhcmVudF8gPyAodGhpcy5wYXJlbnRfLmNhbmNlbENoaWxkXyh0aGlzLCBlcnIpLCB0aGlzLnBhcmVudF8gPSBudWxsKSA6IHRoaXMucmVzb2x2ZV8oZ29vZy5Qcm9taXNlLlN0YXRlXy5SRUpFQ1RFRCwgZXJyKSk7XG59O1xuZ29vZy5Qcm9taXNlLnByb3RvdHlwZS5jYW5jZWxDaGlsZF8gPSBmdW5jdGlvbihjaGlsZFByb21pc2UsIGVycikge1xuICBpZiAodGhpcy5jYWxsYmFja0VudHJpZXNfKSB7XG4gICAgZm9yICh2YXIgY2hpbGRDb3VudCA9IDAsIGNoaWxkRW50cnkgPSBudWxsLCBiZWZvcmVDaGlsZEVudHJ5ID0gbnVsbCwgZW50cnkgPSB0aGlzLmNhbGxiYWNrRW50cmllc187IGVudHJ5ICYmIChlbnRyeS5hbHdheXMgfHwgKGNoaWxkQ291bnQrKywgZW50cnkuY2hpbGQgPT0gY2hpbGRQcm9taXNlICYmIChjaGlsZEVudHJ5ID0gZW50cnkpLCAhKGNoaWxkRW50cnkgJiYgMSA8IGNoaWxkQ291bnQpKSk7IGVudHJ5ID0gZW50cnkubmV4dCkge1xuICAgICAgY2hpbGRFbnRyeSB8fCAoYmVmb3JlQ2hpbGRFbnRyeSA9IGVudHJ5KTtcbiAgICB9XG4gICAgY2hpbGRFbnRyeSAmJiAodGhpcy5zdGF0ZV8gPT0gZ29vZy5Qcm9taXNlLlN0YXRlXy5QRU5ESU5HICYmIDEgPT0gY2hpbGRDb3VudCA/IHRoaXMuY2FuY2VsSW50ZXJuYWxfKGVycikgOiAoYmVmb3JlQ2hpbGRFbnRyeSA/IHRoaXMucmVtb3ZlRW50cnlBZnRlcl8oYmVmb3JlQ2hpbGRFbnRyeSkgOiB0aGlzLnBvcEVudHJ5XygpLCB0aGlzLmV4ZWN1dGVDYWxsYmFja18oY2hpbGRFbnRyeSwgZ29vZy5Qcm9taXNlLlN0YXRlXy5SRUpFQ1RFRCwgZXJyKSkpO1xuICB9XG59O1xuZ29vZy5Qcm9taXNlLnByb3RvdHlwZS5hZGRDYWxsYmFja0VudHJ5XyA9IGZ1bmN0aW9uKGNhbGxiYWNrRW50cnkpIHtcbiAgdGhpcy5oYXNFbnRyeV8oKSB8fCB0aGlzLnN0YXRlXyAhPSBnb29nLlByb21pc2UuU3RhdGVfLkZVTEZJTExFRCAmJiB0aGlzLnN0YXRlXyAhPSBnb29nLlByb21pc2UuU3RhdGVfLlJFSkVDVEVEIHx8IHRoaXMuc2NoZWR1bGVDYWxsYmFja3NfKCk7XG4gIHRoaXMucXVldWVFbnRyeV8oY2FsbGJhY2tFbnRyeSk7XG59O1xuZ29vZy5Qcm9taXNlLnByb3RvdHlwZS5hZGRDaGlsZFByb21pc2VfID0gZnVuY3Rpb24ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIG9wdF9jb250ZXh0KSB7XG4gIHZhciBjYWxsYmFja0VudHJ5ID0gZ29vZy5Qcm9taXNlLmdldENhbGxiYWNrRW50cnlfKG51bGwsIG51bGwsIG51bGwpO1xuICBjYWxsYmFja0VudHJ5LmNoaWxkID0gbmV3IGdvb2cuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICBjYWxsYmFja0VudHJ5Lm9uRnVsZmlsbGVkID0gb25GdWxmaWxsZWQgPyBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG9uRnVsZmlsbGVkLmNhbGwob3B0X2NvbnRleHQsIHZhbHVlKTtcbiAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgfSBjYXRjaCAoZXJyJDUzKSB7XG4gICAgICAgIHJlamVjdChlcnIkNTMpO1xuICAgICAgfVxuICAgIH0gOiByZXNvbHZlO1xuICAgIGNhbGxiYWNrRW50cnkub25SZWplY3RlZCA9IG9uUmVqZWN0ZWQgPyBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBvblJlamVjdGVkLmNhbGwob3B0X2NvbnRleHQsIHJlYXNvbik7XG4gICAgICAgIHZvaWQgMCA9PT0gcmVzdWx0ICYmIHJlYXNvbiBpbnN0YW5jZW9mIGdvb2cuUHJvbWlzZS5DYW5jZWxsYXRpb25FcnJvciA/IHJlamVjdChyZWFzb24pIDogcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgfSBjYXRjaCAoZXJyJDU0KSB7XG4gICAgICAgIHJlamVjdChlcnIkNTQpO1xuICAgICAgfVxuICAgIH0gOiByZWplY3Q7XG4gIH0pO1xuICBjYWxsYmFja0VudHJ5LmNoaWxkLnBhcmVudF8gPSB0aGlzO1xuICB0aGlzLmFkZENhbGxiYWNrRW50cnlfKGNhbGxiYWNrRW50cnkpO1xuICByZXR1cm4gY2FsbGJhY2tFbnRyeS5jaGlsZDtcbn07XG5nb29nLlByb21pc2UucHJvdG90eXBlLnVuYmxvY2tBbmRGdWxmaWxsXyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQodGhpcy5zdGF0ZV8gPT0gZ29vZy5Qcm9taXNlLlN0YXRlXy5CTE9DS0VEKTtcbiAgdGhpcy5zdGF0ZV8gPSBnb29nLlByb21pc2UuU3RhdGVfLlBFTkRJTkc7XG4gIHRoaXMucmVzb2x2ZV8oZ29vZy5Qcm9taXNlLlN0YXRlXy5GVUxGSUxMRUQsIHZhbHVlKTtcbn07XG5nb29nLlByb21pc2UucHJvdG90eXBlLnVuYmxvY2tBbmRSZWplY3RfID0gZnVuY3Rpb24ocmVhc29uKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQodGhpcy5zdGF0ZV8gPT0gZ29vZy5Qcm9taXNlLlN0YXRlXy5CTE9DS0VEKTtcbiAgdGhpcy5zdGF0ZV8gPSBnb29nLlByb21pc2UuU3RhdGVfLlBFTkRJTkc7XG4gIHRoaXMucmVzb2x2ZV8oZ29vZy5Qcm9taXNlLlN0YXRlXy5SRUpFQ1RFRCwgcmVhc29uKTtcbn07XG5nb29nLlByb21pc2UucHJvdG90eXBlLnJlc29sdmVfID0gZnVuY3Rpb24oc3RhdGUsIHgpIHtcbiAgdGhpcy5zdGF0ZV8gPT0gZ29vZy5Qcm9taXNlLlN0YXRlXy5QRU5ESU5HICYmICh0aGlzID09PSB4ICYmIChzdGF0ZSA9IGdvb2cuUHJvbWlzZS5TdGF0ZV8uUkVKRUNURUQsIHggPSBuZXcgVHlwZUVycm9yKFwiUHJvbWlzZSBjYW5ub3QgcmVzb2x2ZSB0byBpdHNlbGZcIikpLCB0aGlzLnN0YXRlXyA9IGdvb2cuUHJvbWlzZS5TdGF0ZV8uQkxPQ0tFRCwgZ29vZy5Qcm9taXNlLm1heWJlVGhlbl8oeCwgdGhpcy51bmJsb2NrQW5kRnVsZmlsbF8sIHRoaXMudW5ibG9ja0FuZFJlamVjdF8sIHRoaXMpIHx8ICh0aGlzLnJlc3VsdF8gPSB4LCB0aGlzLnN0YXRlXyA9IHN0YXRlLCB0aGlzLnBhcmVudF8gPSBudWxsLCB0aGlzLnNjaGVkdWxlQ2FsbGJhY2tzXygpLCBzdGF0ZSAhPSBnb29nLlByb21pc2UuU3RhdGVfLlJFSkVDVEVEIHx8IHggaW5zdGFuY2VvZiBnb29nLlByb21pc2UuQ2FuY2VsbGF0aW9uRXJyb3IgfHwgZ29vZy5Qcm9taXNlLmFkZFVuaGFuZGxlZFJlamVjdGlvbl8odGhpcywgXG4gIHgpKSk7XG59O1xuZ29vZy5Qcm9taXNlLm1heWJlVGhlbl8gPSBmdW5jdGlvbih2YWx1ZSwgb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIGNvbnRleHQpIHtcbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgZ29vZy5Qcm9taXNlKSB7XG4gICAgcmV0dXJuIHZhbHVlLnRoZW5Wb2lkKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBjb250ZXh0KSwgITA7XG4gIH1cbiAgaWYgKGdvb2cuVGhlbmFibGUuaXNJbXBsZW1lbnRlZEJ5KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZS50aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBjb250ZXh0KSwgITA7XG4gIH1cbiAgaWYgKGdvb2cuaXNPYmplY3QodmFsdWUpKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciB0aGVuID0gdmFsdWUudGhlbjtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0aGVuKSB7XG4gICAgICAgIHJldHVybiBnb29nLlByb21pc2UudHJ5VGhlbl8odmFsdWUsIHRoZW4sIG9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBjb250ZXh0KSwgITA7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIG9uUmVqZWN0ZWQuY2FsbChjb250ZXh0LCBlKSwgITA7XG4gICAgfVxuICB9XG4gIHJldHVybiAhMTtcbn07XG5nb29nLlByb21pc2UudHJ5VGhlbl8gPSBmdW5jdGlvbih0aGVuYWJsZSwgdGhlbiwgb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIGNvbnRleHQpIHtcbiAgdmFyIGNhbGxlZCA9ICExLCByZXNvbHZlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBjYWxsZWQgfHwgKGNhbGxlZCA9ICEwLCBvbkZ1bGZpbGxlZC5jYWxsKGNvbnRleHQsIHZhbHVlKSk7XG4gIH0sIHJlamVjdCA9IGZ1bmN0aW9uKHJlYXNvbikge1xuICAgIGNhbGxlZCB8fCAoY2FsbGVkID0gITAsIG9uUmVqZWN0ZWQuY2FsbChjb250ZXh0LCByZWFzb24pKTtcbiAgfTtcbiAgdHJ5IHtcbiAgICB0aGVuLmNhbGwodGhlbmFibGUsIHJlc29sdmUsIHJlamVjdCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZWplY3QoZSk7XG4gIH1cbn07XG5nb29nLlByb21pc2UucHJvdG90eXBlLnNjaGVkdWxlQ2FsbGJhY2tzXyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmV4ZWN1dGluZ18gfHwgKHRoaXMuZXhlY3V0aW5nXyA9ICEwLCBnb29nLmFzeW5jLnJ1bih0aGlzLmV4ZWN1dGVDYWxsYmFja3NfLCB0aGlzKSk7XG59O1xuZ29vZy5Qcm9taXNlLnByb3RvdHlwZS5oYXNFbnRyeV8gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICEhdGhpcy5jYWxsYmFja0VudHJpZXNfO1xufTtcbmdvb2cuUHJvbWlzZS5wcm90b3R5cGUucXVldWVFbnRyeV8gPSBmdW5jdGlvbihlbnRyeSkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KG51bGwgIT0gZW50cnkub25GdWxmaWxsZWQpO1xuICB0aGlzLmNhbGxiYWNrRW50cmllc1RhaWxfID8gdGhpcy5jYWxsYmFja0VudHJpZXNUYWlsXy5uZXh0ID0gZW50cnkgOiB0aGlzLmNhbGxiYWNrRW50cmllc18gPSBlbnRyeTtcbiAgdGhpcy5jYWxsYmFja0VudHJpZXNUYWlsXyA9IGVudHJ5O1xufTtcbmdvb2cuUHJvbWlzZS5wcm90b3R5cGUucG9wRW50cnlfID0gZnVuY3Rpb24oKSB7XG4gIHZhciBlbnRyeSA9IG51bGw7XG4gIHRoaXMuY2FsbGJhY2tFbnRyaWVzXyAmJiAoZW50cnkgPSB0aGlzLmNhbGxiYWNrRW50cmllc18sIHRoaXMuY2FsbGJhY2tFbnRyaWVzXyA9IGVudHJ5Lm5leHQsIGVudHJ5Lm5leHQgPSBudWxsKTtcbiAgdGhpcy5jYWxsYmFja0VudHJpZXNfIHx8ICh0aGlzLmNhbGxiYWNrRW50cmllc1RhaWxfID0gbnVsbCk7XG4gIG51bGwgIT0gZW50cnkgJiYgZ29vZy5hc3NlcnRzLmFzc2VydChudWxsICE9IGVudHJ5Lm9uRnVsZmlsbGVkKTtcbiAgcmV0dXJuIGVudHJ5O1xufTtcbmdvb2cuUHJvbWlzZS5wcm90b3R5cGUucmVtb3ZlRW50cnlBZnRlcl8gPSBmdW5jdGlvbihwcmV2aW91cykge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KHRoaXMuY2FsbGJhY2tFbnRyaWVzXyk7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQobnVsbCAhPSBwcmV2aW91cyk7XG4gIHByZXZpb3VzLm5leHQgPT0gdGhpcy5jYWxsYmFja0VudHJpZXNUYWlsXyAmJiAodGhpcy5jYWxsYmFja0VudHJpZXNUYWlsXyA9IHByZXZpb3VzKTtcbiAgcHJldmlvdXMubmV4dCA9IHByZXZpb3VzLm5leHQubmV4dDtcbn07XG5nb29nLlByb21pc2UucHJvdG90eXBlLmV4ZWN1dGVDYWxsYmFja3NfID0gZnVuY3Rpb24oKSB7XG4gIGZvciAodmFyIGVudHJ5ID0gbnVsbDsgZW50cnkgPSB0aGlzLnBvcEVudHJ5XygpOykge1xuICAgIGdvb2cuUHJvbWlzZS5MT05HX1NUQUNLX1RSQUNFUyAmJiB0aGlzLmN1cnJlbnRTdGVwXysrLCB0aGlzLmV4ZWN1dGVDYWxsYmFja18oZW50cnksIHRoaXMuc3RhdGVfLCB0aGlzLnJlc3VsdF8pO1xuICB9XG4gIHRoaXMuZXhlY3V0aW5nXyA9ICExO1xufTtcbmdvb2cuUHJvbWlzZS5wcm90b3R5cGUuZXhlY3V0ZUNhbGxiYWNrXyA9IGZ1bmN0aW9uKGNhbGxiYWNrRW50cnksIHN0YXRlLCByZXN1bHQpIHtcbiAgc3RhdGUgPT0gZ29vZy5Qcm9taXNlLlN0YXRlXy5SRUpFQ1RFRCAmJiBjYWxsYmFja0VudHJ5Lm9uUmVqZWN0ZWQgJiYgIWNhbGxiYWNrRW50cnkuYWx3YXlzICYmIHRoaXMucmVtb3ZlVW5oYW5kbGVkUmVqZWN0aW9uXygpO1xuICBpZiAoY2FsbGJhY2tFbnRyeS5jaGlsZCkge1xuICAgIGNhbGxiYWNrRW50cnkuY2hpbGQucGFyZW50XyA9IG51bGwsIGdvb2cuUHJvbWlzZS5pbnZva2VDYWxsYmFja18oY2FsbGJhY2tFbnRyeSwgc3RhdGUsIHJlc3VsdCk7XG4gIH0gZWxzZSB7XG4gICAgdHJ5IHtcbiAgICAgIGNhbGxiYWNrRW50cnkuYWx3YXlzID8gY2FsbGJhY2tFbnRyeS5vbkZ1bGZpbGxlZC5jYWxsKGNhbGxiYWNrRW50cnkuY29udGV4dCkgOiBnb29nLlByb21pc2UuaW52b2tlQ2FsbGJhY2tfKGNhbGxiYWNrRW50cnksIHN0YXRlLCByZXN1bHQpO1xuICAgIH0gY2F0Y2ggKGVyciQ1NSkge1xuICAgICAgZ29vZy5Qcm9taXNlLmhhbmRsZVJlamVjdGlvbl8uY2FsbChudWxsLCBlcnIkNTUpO1xuICAgIH1cbiAgfVxuICBnb29nLlByb21pc2UucmV0dXJuRW50cnlfKGNhbGxiYWNrRW50cnkpO1xufTtcbmdvb2cuUHJvbWlzZS5pbnZva2VDYWxsYmFja18gPSBmdW5jdGlvbihjYWxsYmFja0VudHJ5LCBzdGF0ZSwgcmVzdWx0KSB7XG4gIHN0YXRlID09IGdvb2cuUHJvbWlzZS5TdGF0ZV8uRlVMRklMTEVEID8gY2FsbGJhY2tFbnRyeS5vbkZ1bGZpbGxlZC5jYWxsKGNhbGxiYWNrRW50cnkuY29udGV4dCwgcmVzdWx0KSA6IGNhbGxiYWNrRW50cnkub25SZWplY3RlZCAmJiBjYWxsYmFja0VudHJ5Lm9uUmVqZWN0ZWQuY2FsbChjYWxsYmFja0VudHJ5LmNvbnRleHQsIHJlc3VsdCk7XG59O1xuZ29vZy5Qcm9taXNlLnByb3RvdHlwZS5hZGRTdGFja1RyYWNlXyA9IGZ1bmN0aW9uKGVycikge1xuICBpZiAoZ29vZy5Qcm9taXNlLkxPTkdfU1RBQ0tfVFJBQ0VTICYmIFwic3RyaW5nXCIgPT09IHR5cGVvZiBlcnIuc3RhY2spIHtcbiAgICB2YXIgdHJhY2UgPSBlcnIuc3RhY2suc3BsaXQoXCJcXG5cIiwgNClbM10sIG1lc3NhZ2UgPSBlcnIubWVzc2FnZTtcbiAgICBtZXNzYWdlICs9IEFycmF5KDExIC0gbWVzc2FnZS5sZW5ndGgpLmpvaW4oXCIgXCIpO1xuICAgIHRoaXMuc3RhY2tfLnB1c2gobWVzc2FnZSArIHRyYWNlKTtcbiAgfVxufTtcbmdvb2cuUHJvbWlzZS5wcm90b3R5cGUuYXBwZW5kTG9uZ1N0YWNrXyA9IGZ1bmN0aW9uKGVycikge1xuICBpZiAoZ29vZy5Qcm9taXNlLkxPTkdfU1RBQ0tfVFJBQ0VTICYmIGVyciAmJiBcInN0cmluZ1wiID09PSB0eXBlb2YgZXJyLnN0YWNrICYmIHRoaXMuc3RhY2tfLmxlbmd0aCkge1xuICAgIGZvciAodmFyIGxvbmdUcmFjZSA9IFtcIlByb21pc2UgdHJhY2U6XCJdLCBwcm9taXNlID0gdGhpczsgcHJvbWlzZTsgcHJvbWlzZSA9IHByb21pc2UucGFyZW50Xykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMuY3VycmVudFN0ZXBfOyAwIDw9IGk7IGktLSkge1xuICAgICAgICBsb25nVHJhY2UucHVzaChwcm9taXNlLnN0YWNrX1tpXSk7XG4gICAgICB9XG4gICAgICBsb25nVHJhY2UucHVzaChcIlZhbHVlOiBbXCIgKyAocHJvbWlzZS5zdGF0ZV8gPT0gZ29vZy5Qcm9taXNlLlN0YXRlXy5SRUpFQ1RFRCA/IFwiUkVKRUNURURcIiA6IFwiRlVMRklMTEVEXCIpICsgXCJdIDxcIiArIFN0cmluZyhwcm9taXNlLnJlc3VsdF8pICsgXCI+XCIpO1xuICAgIH1cbiAgICBlcnIuc3RhY2sgKz0gXCJcXG5cXG5cIiArIGxvbmdUcmFjZS5qb2luKFwiXFxuXCIpO1xuICB9XG59O1xuZ29vZy5Qcm9taXNlLnByb3RvdHlwZS5yZW1vdmVVbmhhbmRsZWRSZWplY3Rpb25fID0gZnVuY3Rpb24oKSB7XG4gIGlmICgwIDwgZ29vZy5Qcm9taXNlLlVOSEFORExFRF9SRUpFQ1RJT05fREVMQVkpIHtcbiAgICBmb3IgKHZhciBwID0gdGhpczsgcCAmJiBwLnVuaGFuZGxlZFJlamVjdGlvbklkXzsgcCA9IHAucGFyZW50Xykge1xuICAgICAgZ29vZy5nbG9iYWwuY2xlYXJUaW1lb3V0KHAudW5oYW5kbGVkUmVqZWN0aW9uSWRfKSwgcC51bmhhbmRsZWRSZWplY3Rpb25JZF8gPSAwO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoMCA9PSBnb29nLlByb21pc2UuVU5IQU5ETEVEX1JFSkVDVElPTl9ERUxBWSkge1xuICAgICAgZm9yIChwID0gdGhpczsgcCAmJiBwLmhhZFVuaGFuZGxlZFJlamVjdGlvbl87IHAgPSBwLnBhcmVudF8pIHtcbiAgICAgICAgcC5oYWRVbmhhbmRsZWRSZWplY3Rpb25fID0gITE7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuZ29vZy5Qcm9taXNlLmFkZFVuaGFuZGxlZFJlamVjdGlvbl8gPSBmdW5jdGlvbihwcm9taXNlLCByZWFzb24pIHtcbiAgMCA8IGdvb2cuUHJvbWlzZS5VTkhBTkRMRURfUkVKRUNUSU9OX0RFTEFZID8gcHJvbWlzZS51bmhhbmRsZWRSZWplY3Rpb25JZF8gPSBnb29nLmdsb2JhbC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgIHByb21pc2UuYXBwZW5kTG9uZ1N0YWNrXyhyZWFzb24pO1xuICAgIGdvb2cuUHJvbWlzZS5oYW5kbGVSZWplY3Rpb25fLmNhbGwobnVsbCwgcmVhc29uKTtcbiAgfSwgZ29vZy5Qcm9taXNlLlVOSEFORExFRF9SRUpFQ1RJT05fREVMQVkpIDogMCA9PSBnb29nLlByb21pc2UuVU5IQU5ETEVEX1JFSkVDVElPTl9ERUxBWSAmJiAocHJvbWlzZS5oYWRVbmhhbmRsZWRSZWplY3Rpb25fID0gITAsIGdvb2cuYXN5bmMucnVuKGZ1bmN0aW9uKCkge1xuICAgIHByb21pc2UuaGFkVW5oYW5kbGVkUmVqZWN0aW9uXyAmJiAocHJvbWlzZS5hcHBlbmRMb25nU3RhY2tfKHJlYXNvbiksIGdvb2cuUHJvbWlzZS5oYW5kbGVSZWplY3Rpb25fLmNhbGwobnVsbCwgcmVhc29uKSk7XG4gIH0pKTtcbn07XG5nb29nLlByb21pc2UuaGFuZGxlUmVqZWN0aW9uXyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJHRocm93RXhjZXB0aW9uX3Rocm93RXhjZXB0aW9uO1xuZ29vZy5Qcm9taXNlLnNldFVuaGFuZGxlZFJlamVjdGlvbkhhbmRsZXIgPSBmdW5jdGlvbihoYW5kbGVyKSB7XG4gIGdvb2cuUHJvbWlzZS5oYW5kbGVSZWplY3Rpb25fID0gaGFuZGxlcjtcbn07XG5nb29nLlByb21pc2UuQ2FuY2VsbGF0aW9uRXJyb3IgPSBmdW5jdGlvbihvcHRfbWVzc2FnZSkge1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRkZWJ1ZyRFcnJvcl9EZWJ1Z0Vycm9yLmNhbGwodGhpcywgb3B0X21lc3NhZ2UpO1xuICB0aGlzLnJlcG9ydEVycm9yVG9TZXJ2ZXIgPSAhMTtcbn07XG5nb29nLmluaGVyaXRzKGdvb2cuUHJvbWlzZS5DYW5jZWxsYXRpb25FcnJvciwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGVidWckRXJyb3JfRGVidWdFcnJvcik7XG5nb29nLlByb21pc2UuQ2FuY2VsbGF0aW9uRXJyb3IucHJvdG90eXBlLm5hbWUgPSBcImNhbmNlbFwiO1xuZ29vZy5Qcm9taXNlLlJlc29sdmVyXyA9IGZ1bmN0aW9uKHByb21pc2UsIHJlc29sdmUsIHJlamVjdCkge1xuICB0aGlzLnByb21pc2UgPSBwcm9taXNlO1xuICB0aGlzLnJlc29sdmUgPSByZXNvbHZlO1xuICB0aGlzLnJlamVjdCA9IHJlamVjdDtcbn07XG5nb29nLlRpbWVyID0gZnVuY3Rpb24ob3B0X2ludGVydmFsLCBvcHRfdGltZXJPYmplY3QpIHtcbiAgZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQuY2FsbCh0aGlzKTtcbiAgdGhpcy5pbnRlcnZhbF8gPSBvcHRfaW50ZXJ2YWwgfHwgMTtcbiAgdGhpcy50aW1lck9iamVjdF8gPSBvcHRfdGltZXJPYmplY3QgfHwgZ29vZy5UaW1lci5kZWZhdWx0VGltZXJPYmplY3Q7XG4gIHRoaXMuYm91bmRUaWNrXyA9IGdvb2cuYmluZCh0aGlzLnRpY2tfLCB0aGlzKTtcbiAgdGhpcy5sYXN0XyA9IGdvb2cubm93KCk7XG59O1xuZ29vZy5pbmhlcml0cyhnb29nLlRpbWVyLCBnb29nLmV2ZW50cy5FdmVudFRhcmdldCk7XG5nb29nLlRpbWVyLk1BWF9USU1FT1VUXyA9IDIxNDc0ODM2NDc7XG5nb29nLlRpbWVyLklOVkFMSURfVElNRU9VVF9JRF8gPSAtMTtcbmdvb2cuVGltZXIucHJvdG90eXBlLmVuYWJsZWQgPSAhMTtcbmdvb2cuVGltZXIuZGVmYXVsdFRpbWVyT2JqZWN0ID0gZ29vZy5nbG9iYWw7XG5nb29nLlRpbWVyLmludGVydmFsU2NhbGUgPSAwLjg7XG5nb29nLlRpbWVyLnByb3RvdHlwZS50aW1lcl8gPSBudWxsO1xuZ29vZy5UaW1lci5wcm90b3R5cGUuZ2V0SW50ZXJ2YWwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuaW50ZXJ2YWxfO1xufTtcbmdvb2cuVGltZXIucHJvdG90eXBlLnNldEludGVydmFsID0gZnVuY3Rpb24oaW50ZXJ2YWwpIHtcbiAgdGhpcy5pbnRlcnZhbF8gPSBpbnRlcnZhbDtcbiAgdGhpcy50aW1lcl8gJiYgdGhpcy5lbmFibGVkID8gKHRoaXMuc3RvcCgpLCB0aGlzLnN0YXJ0KCkpIDogdGhpcy50aW1lcl8gJiYgdGhpcy5zdG9wKCk7XG59O1xuZ29vZy5UaW1lci5wcm90b3R5cGUudGlja18gPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuZW5hYmxlZCkge1xuICAgIHZhciBlbGFwc2VkID0gZ29vZy5ub3coKSAtIHRoaXMubGFzdF87XG4gICAgMCA8IGVsYXBzZWQgJiYgZWxhcHNlZCA8IHRoaXMuaW50ZXJ2YWxfICogZ29vZy5UaW1lci5pbnRlcnZhbFNjYWxlID8gdGhpcy50aW1lcl8gPSB0aGlzLnRpbWVyT2JqZWN0Xy5zZXRUaW1lb3V0KHRoaXMuYm91bmRUaWNrXywgdGhpcy5pbnRlcnZhbF8gLSBlbGFwc2VkKSA6ICh0aGlzLnRpbWVyXyAmJiAodGhpcy50aW1lck9iamVjdF8uY2xlYXJUaW1lb3V0KHRoaXMudGltZXJfKSwgdGhpcy50aW1lcl8gPSBudWxsKSwgdGhpcy5kaXNwYXRjaFRpY2soKSwgdGhpcy5lbmFibGVkICYmICh0aGlzLnN0b3AoKSwgdGhpcy5zdGFydCgpKSk7XG4gIH1cbn07XG5nb29nLlRpbWVyLnByb3RvdHlwZS5kaXNwYXRjaFRpY2sgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5kaXNwYXRjaEV2ZW50KGdvb2cuVGltZXIuVElDSyk7XG59O1xuZ29vZy5UaW1lci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5lbmFibGVkID0gITA7XG4gIHRoaXMudGltZXJfIHx8ICh0aGlzLnRpbWVyXyA9IHRoaXMudGltZXJPYmplY3RfLnNldFRpbWVvdXQodGhpcy5ib3VuZFRpY2tfLCB0aGlzLmludGVydmFsXyksIHRoaXMubGFzdF8gPSBnb29nLm5vdygpKTtcbn07XG5nb29nLlRpbWVyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZW5hYmxlZCA9ICExO1xuICB0aGlzLnRpbWVyXyAmJiAodGhpcy50aW1lck9iamVjdF8uY2xlYXJUaW1lb3V0KHRoaXMudGltZXJfKSwgdGhpcy50aW1lcl8gPSBudWxsKTtcbn07XG5nb29nLlRpbWVyLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbigpIHtcbiAgZ29vZy5UaW1lci5zdXBlckNsYXNzXy5kaXNwb3NlSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgdGhpcy5zdG9wKCk7XG4gIGRlbGV0ZSB0aGlzLnRpbWVyT2JqZWN0Xztcbn07XG5nb29nLlRpbWVyLlRJQ0sgPSBcInRpY2tcIjtcbmdvb2cuVGltZXIuY2FsbE9uY2UgPSBmdW5jdGlvbihsaXN0ZW5lciwgb3B0X2RlbGF5LCBvcHRfaGFuZGxlcikge1xuICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbGlzdGVuZXIpIHtcbiAgICBvcHRfaGFuZGxlciAmJiAobGlzdGVuZXIgPSBnb29nLmJpbmQobGlzdGVuZXIsIG9wdF9oYW5kbGVyKSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKGxpc3RlbmVyICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgbGlzdGVuZXIuaGFuZGxlRXZlbnQpIHtcbiAgICAgIGxpc3RlbmVyID0gZ29vZy5iaW5kKGxpc3RlbmVyLmhhbmRsZUV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBsaXN0ZW5lciBhcmd1bWVudFwiKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIE51bWJlcihvcHRfZGVsYXkpID4gZ29vZy5UaW1lci5NQVhfVElNRU9VVF8gPyBnb29nLlRpbWVyLklOVkFMSURfVElNRU9VVF9JRF8gOiBnb29nLlRpbWVyLmRlZmF1bHRUaW1lck9iamVjdC5zZXRUaW1lb3V0KGxpc3RlbmVyLCBvcHRfZGVsYXkgfHwgMCk7XG59O1xuZ29vZy5UaW1lci5jbGVhciA9IGZ1bmN0aW9uKHRpbWVySWQpIHtcbiAgZ29vZy5UaW1lci5kZWZhdWx0VGltZXJPYmplY3QuY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xufTtcbmdvb2cuVGltZXIucHJvbWlzZSA9IGZ1bmN0aW9uKGRlbGF5LCBvcHRfcmVzdWx0KSB7XG4gIHZhciB0aW1lcktleSA9IG51bGw7XG4gIHJldHVybiAobmV3IGdvb2cuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICB0aW1lcktleSA9IGdvb2cuVGltZXIuY2FsbE9uY2UoZnVuY3Rpb24oKSB7XG4gICAgICByZXNvbHZlKG9wdF9yZXN1bHQpO1xuICAgIH0sIGRlbGF5KTtcbiAgICB0aW1lcktleSA9PSBnb29nLlRpbWVyLklOVkFMSURfVElNRU9VVF9JRF8gJiYgcmVqZWN0KEVycm9yKFwiRmFpbGVkIHRvIHNjaGVkdWxlIHRpbWVyLlwiKSk7XG4gIH0pKS50aGVuQ2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcbiAgICBnb29nLlRpbWVyLmNsZWFyKHRpbWVyS2V5KTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfSk7XG59O1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJFRocm90dGxlX1Rocm90dGxlID0gZnVuY3Rpb24obGlzdGVuZXIsIGludGVydmFsLCBoYW5kbGVyKSB7XG4gIGdvb2cuRGlzcG9zYWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLmxpc3RlbmVyXyA9IG51bGwgIT0gaGFuZGxlciA/IGxpc3RlbmVyLmJpbmQoaGFuZGxlcikgOiBsaXN0ZW5lcjtcbiAgdGhpcy5pbnRlcnZhbF8gPSBpbnRlcnZhbDtcbiAgdGhpcy5hcmdzXyA9IG51bGw7XG4gIHRoaXMuc2hvdWxkRmlyZV8gPSAhMTtcbiAgdGhpcy5wYXVzZUNvdW50XyA9IDA7XG4gIHRoaXMudGltZXJfID0gbnVsbDtcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJFRocm90dGxlX1Rocm90dGxlLCBnb29nLkRpc3Bvc2FibGUpO1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkVGhyb3R0bGVfVGhyb3R0bGUucHJvdG90eXBlLmZpcmUgPSBmdW5jdGlvbih2YXJfYXJncykge1xuICB0aGlzLmFyZ3NfID0gYXJndW1lbnRzO1xuICB0aGlzLnRpbWVyXyB8fCB0aGlzLnBhdXNlQ291bnRfID8gdGhpcy5zaG91bGRGaXJlXyA9ICEwIDogdGhpcy5kb0FjdGlvbl8oKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRUaHJvdHRsZV9UaHJvdHRsZS5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnRpbWVyXyAmJiAoZ29vZy5UaW1lci5jbGVhcih0aGlzLnRpbWVyXyksIHRoaXMudGltZXJfID0gbnVsbCwgdGhpcy5zaG91bGRGaXJlXyA9ICExLCB0aGlzLmFyZ3NfID0gbnVsbCk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkVGhyb3R0bGVfVGhyb3R0bGUucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucGF1c2VDb3VudF8rKztcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRUaHJvdHRsZV9UaHJvdHRsZS5wcm90b3R5cGUucmVzdW1lID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucGF1c2VDb3VudF8tLTtcbiAgdGhpcy5wYXVzZUNvdW50XyB8fCAhdGhpcy5zaG91bGRGaXJlXyB8fCB0aGlzLnRpbWVyXyB8fCAodGhpcy5zaG91bGRGaXJlXyA9ICExLCB0aGlzLmRvQWN0aW9uXygpKTtcbn07XG5tb2R1bGUkY29udGVudHMkZ29vZyRhc3luYyRUaHJvdHRsZV9UaHJvdHRsZS5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cuRGlzcG9zYWJsZS5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG4gIHRoaXMuc3RvcCgpO1xufTtcbm1vZHVsZSRjb250ZW50cyRnb29nJGFzeW5jJFRocm90dGxlX1Rocm90dGxlLnByb3RvdHlwZS5vblRpbWVyXyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnRpbWVyXyA9IG51bGw7XG4gIHRoaXMuc2hvdWxkRmlyZV8gJiYgIXRoaXMucGF1c2VDb3VudF8gJiYgKHRoaXMuc2hvdWxkRmlyZV8gPSAhMSwgdGhpcy5kb0FjdGlvbl8oKSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkVGhyb3R0bGVfVGhyb3R0bGUucHJvdG90eXBlLmRvQWN0aW9uXyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgJGpzY29tcCR0aGlzID0gdGhpcztcbiAgdGhpcy50aW1lcl8gPSBnb29nLlRpbWVyLmNhbGxPbmNlKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAkanNjb21wJHRoaXMub25UaW1lcl8oKTtcbiAgfSwgdGhpcy5pbnRlcnZhbF8pO1xuICB2YXIgYXJncyA9IHRoaXMuYXJnc187XG4gIHRoaXMuYXJnc18gPSBudWxsO1xuICB0aGlzLmxpc3RlbmVyXy5hcHBseShudWxsLCBhcmdzKTtcbn07XG5nb29nLmFzeW5jLlRocm90dGxlID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkVGhyb3R0bGVfVGhyb3R0bGU7XG4vKlxuXG4gQ29weXJpZ2h0IDIwMDUsIDIwMDcgQm9iIElwcG9saXRvLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuIENvcHlyaWdodCBUaGUgQ2xvc3VyZSBMaWJyYXJ5IEF1dGhvcnMuXG4gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IE1JVFxuKi9cbmdvb2cuYXN5bmMuRGVmZXJyZWQgPSBmdW5jdGlvbihvcHRfb25DYW5jZWxGdW5jdGlvbiwgb3B0X2RlZmF1bHRTY29wZSkge1xuICB0aGlzLnNlcXVlbmNlXyA9IFtdO1xuICB0aGlzLm9uQ2FuY2VsRnVuY3Rpb25fID0gb3B0X29uQ2FuY2VsRnVuY3Rpb247XG4gIHRoaXMuZGVmYXVsdFNjb3BlXyA9IG9wdF9kZWZhdWx0U2NvcGUgfHwgbnVsbDtcbiAgdGhpcy5oYWRFcnJvcl8gPSB0aGlzLmZpcmVkXyA9ICExO1xuICB0aGlzLnJlc3VsdF8gPSB2b2lkIDA7XG4gIHRoaXMuc2lsZW50bHlDYW5jZWxlZF8gPSB0aGlzLmJsb2NraW5nXyA9IHRoaXMuYmxvY2tlZF8gPSAhMTtcbiAgdGhpcy51bmhhbmRsZWRFcnJvcklkXyA9IDA7XG4gIHRoaXMucGFyZW50XyA9IG51bGw7XG4gIHRoaXMuYnJhbmNoZXNfID0gMDtcbiAgaWYgKGdvb2cuYXN5bmMuRGVmZXJyZWQuTE9OR19TVEFDS19UUkFDRVMgJiYgKHRoaXMuY29uc3RydWN0b3JTdGFja18gPSBudWxsLCBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkpIHtcbiAgICB2YXIgdGFyZ2V0ID0ge3N0YWNrOlwiXCJ9O1xuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRhcmdldCwgZ29vZy5hc3luYy5EZWZlcnJlZCk7XG4gICAgXCJzdHJpbmdcIiA9PSB0eXBlb2YgdGFyZ2V0LnN0YWNrICYmICh0aGlzLmNvbnN0cnVjdG9yU3RhY2tfID0gdGFyZ2V0LnN0YWNrLnJlcGxhY2UoL15bXlxcbl0qXFxuLywgXCJcIikpO1xuICB9XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5TVFJJQ1RfRVJST1JTID0gITE7XG5nb29nLmFzeW5jLkRlZmVycmVkLkxPTkdfU1RBQ0tfVFJBQ0VTID0gITE7XG5nb29nLmFzeW5jLkRlZmVycmVkLnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbihvcHRfZGVlcENhbmNlbCkge1xuICBpZiAodGhpcy5oYXNGaXJlZCgpKSB7XG4gICAgdGhpcy5yZXN1bHRfIGluc3RhbmNlb2YgZ29vZy5hc3luYy5EZWZlcnJlZCAmJiB0aGlzLnJlc3VsdF8uY2FuY2VsKCk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHRoaXMucGFyZW50Xykge1xuICAgICAgdmFyIHBhcmVudCA9IHRoaXMucGFyZW50XztcbiAgICAgIGRlbGV0ZSB0aGlzLnBhcmVudF87XG4gICAgICBvcHRfZGVlcENhbmNlbCA/IHBhcmVudC5jYW5jZWwob3B0X2RlZXBDYW5jZWwpIDogcGFyZW50LmJyYW5jaENhbmNlbF8oKTtcbiAgICB9XG4gICAgdGhpcy5vbkNhbmNlbEZ1bmN0aW9uXyA/IHRoaXMub25DYW5jZWxGdW5jdGlvbl8uY2FsbCh0aGlzLmRlZmF1bHRTY29wZV8sIHRoaXMpIDogdGhpcy5zaWxlbnRseUNhbmNlbGVkXyA9ICEwO1xuICAgIHRoaXMuaGFzRmlyZWQoKSB8fCB0aGlzLmVycmJhY2sobmV3IGdvb2cuYXN5bmMuRGVmZXJyZWQuQ2FuY2VsZWRFcnJvcih0aGlzKSk7XG4gIH1cbn07XG5nb29nLmFzeW5jLkRlZmVycmVkLnByb3RvdHlwZS5icmFuY2hDYW5jZWxfID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuYnJhbmNoZXNfLS07XG4gIDAgPj0gdGhpcy5icmFuY2hlc18gJiYgdGhpcy5jYW5jZWwoKTtcbn07XG5nb29nLmFzeW5jLkRlZmVycmVkLnByb3RvdHlwZS5jb250aW51ZV8gPSBmdW5jdGlvbihpc1N1Y2Nlc3MsIHJlcykge1xuICB0aGlzLmJsb2NrZWRfID0gITE7XG4gIHRoaXMudXBkYXRlUmVzdWx0Xyhpc1N1Y2Nlc3MsIHJlcyk7XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5wcm90b3R5cGUudXBkYXRlUmVzdWx0XyA9IGZ1bmN0aW9uKGlzU3VjY2VzcywgcmVzKSB7XG4gIHRoaXMuZmlyZWRfID0gITA7XG4gIHRoaXMucmVzdWx0XyA9IHJlcztcbiAgdGhpcy5oYWRFcnJvcl8gPSAhaXNTdWNjZXNzO1xuICB0aGlzLmZpcmVfKCk7XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5wcm90b3R5cGUuY2hlY2tfID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLmhhc0ZpcmVkKCkpIHtcbiAgICBpZiAoIXRoaXMuc2lsZW50bHlDYW5jZWxlZF8pIHtcbiAgICAgIHRocm93IG5ldyBnb29nLmFzeW5jLkRlZmVycmVkLkFscmVhZHlDYWxsZWRFcnJvcih0aGlzKTtcbiAgICB9XG4gICAgdGhpcy5zaWxlbnRseUNhbmNlbGVkXyA9ICExO1xuICB9XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5wcm90b3R5cGUuY2FsbGJhY2sgPSBmdW5jdGlvbihvcHRfcmVzdWx0KSB7XG4gIHRoaXMuY2hlY2tfKCk7XG4gIHRoaXMuYXNzZXJ0Tm90RGVmZXJyZWRfKG9wdF9yZXN1bHQpO1xuICB0aGlzLnVwZGF0ZVJlc3VsdF8oITAsIG9wdF9yZXN1bHQpO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQucHJvdG90eXBlLmVycmJhY2sgPSBmdW5jdGlvbihvcHRfcmVzdWx0KSB7XG4gIHRoaXMuY2hlY2tfKCk7XG4gIHRoaXMuYXNzZXJ0Tm90RGVmZXJyZWRfKG9wdF9yZXN1bHQpO1xuICB0aGlzLm1ha2VTdGFja1RyYWNlTG9uZ18ob3B0X3Jlc3VsdCk7XG4gIHRoaXMudXBkYXRlUmVzdWx0XyghMSwgb3B0X3Jlc3VsdCk7XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC51bmhhbmRsZWRFcnJvckhhbmRsZXJfID0gZnVuY3Rpb24oZSkge1xuICB0aHJvdyBlO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQuc2V0VW5oYW5kbGVkRXJyb3JIYW5kbGVyID0gZnVuY3Rpb24oaGFuZGxlcikge1xuICBnb29nLmFzeW5jLkRlZmVycmVkLnVuaGFuZGxlZEVycm9ySGFuZGxlcl8gPSBoYW5kbGVyO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQucHJvdG90eXBlLm1ha2VTdGFja1RyYWNlTG9uZ18gPSBmdW5jdGlvbihlcnJvcikge1xuICBnb29nLmFzeW5jLkRlZmVycmVkLkxPTkdfU1RBQ0tfVFJBQ0VTICYmIHRoaXMuY29uc3RydWN0b3JTdGFja18gJiYgZ29vZy5pc09iamVjdChlcnJvcikgJiYgZXJyb3Iuc3RhY2sgJiYgL15bXlxcbl0rKFxcbiAgIFteXFxuXSspKy8udGVzdChlcnJvci5zdGFjaykgJiYgKGVycm9yLnN0YWNrID0gZXJyb3Iuc3RhY2sgKyBcIlxcbkRFRkVSUkVEIE9QRVJBVElPTjpcXG5cIiArIHRoaXMuY29uc3RydWN0b3JTdGFja18pO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQucHJvdG90eXBlLmFzc2VydE5vdERlZmVycmVkXyA9IGZ1bmN0aW9uKG9iaikge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KCEob2JqIGluc3RhbmNlb2YgZ29vZy5hc3luYy5EZWZlcnJlZCksIFwiQW4gZXhlY3V0aW9uIHNlcXVlbmNlIG1heSBub3QgYmUgaW5pdGlhdGVkIHdpdGggYSBibG9ja2luZyBEZWZlcnJlZC5cIik7XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5wcm90b3R5cGUuYWRkQ2FsbGJhY2sgPSBmdW5jdGlvbihjYiwgb3B0X3Njb3BlKSB7XG4gIHJldHVybiB0aGlzLmFkZENhbGxiYWNrcyhjYiwgbnVsbCwgb3B0X3Njb3BlKTtcbn07XG5nb29nLmFzeW5jLkRlZmVycmVkLnByb3RvdHlwZS5hZGRFcnJiYWNrID0gZnVuY3Rpb24oZWIsIG9wdF9zY29wZSkge1xuICByZXR1cm4gdGhpcy5hZGRDYWxsYmFja3MobnVsbCwgZWIsIG9wdF9zY29wZSk7XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5wcm90b3R5cGUuYWRkQm90aCA9IGZ1bmN0aW9uKGYsIG9wdF9zY29wZSkge1xuICByZXR1cm4gdGhpcy5hZGRDYWxsYmFja3MoZiwgZiwgb3B0X3Njb3BlKTtcbn07XG5nb29nLmFzeW5jLkRlZmVycmVkLnByb3RvdHlwZS5hZGRGaW5hbGx5ID0gZnVuY3Rpb24oZiwgb3B0X3Njb3BlKSB7XG4gIHJldHVybiB0aGlzLmFkZENhbGxiYWNrcyhmLCBmdW5jdGlvbihlcnIpIHtcbiAgICB2YXIgcmVzdWx0ID0gZi5jYWxsKHRoaXMsIGVycik7XG4gICAgaWYgKHZvaWQgMCA9PT0gcmVzdWx0KSB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sIG9wdF9zY29wZSk7XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5wcm90b3R5cGUuYWRkQ2FsbGJhY2tzID0gZnVuY3Rpb24oY2IsIGViLCBvcHRfc2NvcGUpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydCghdGhpcy5ibG9ja2luZ18sIFwiQmxvY2tpbmcgRGVmZXJyZWRzIGNhbiBub3QgYmUgcmUtdXNlZFwiKTtcbiAgdGhpcy5zZXF1ZW5jZV8ucHVzaChbY2IsIGViLCBvcHRfc2NvcGVdKTtcbiAgdGhpcy5oYXNGaXJlZCgpICYmIHRoaXMuZmlyZV8oKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uKG9wdF9vbkZ1bGZpbGxlZCwgb3B0X29uUmVqZWN0ZWQsIG9wdF9jb250ZXh0KSB7XG4gIHZhciByZWplY3QsIHJlc29sdmUsIHByb21pc2UgPSBuZXcgZ29vZy5Qcm9taXNlKGZ1bmN0aW9uKHJlcywgcmVqKSB7XG4gICAgcmVzb2x2ZSA9IHJlcztcbiAgICByZWplY3QgPSByZWo7XG4gIH0pO1xuICB0aGlzLmFkZENhbGxiYWNrcyhyZXNvbHZlLCBmdW5jdGlvbihyZWFzb24pIHtcbiAgICByZWFzb24gaW5zdGFuY2VvZiBnb29nLmFzeW5jLkRlZmVycmVkLkNhbmNlbGVkRXJyb3IgPyBwcm9taXNlLmNhbmNlbCgpIDogcmVqZWN0KHJlYXNvbik7XG4gIH0pO1xuICByZXR1cm4gcHJvbWlzZS50aGVuKG9wdF9vbkZ1bGZpbGxlZCwgb3B0X29uUmVqZWN0ZWQsIG9wdF9jb250ZXh0KTtcbn07XG5nb29nLlRoZW5hYmxlLmFkZEltcGxlbWVudGF0aW9uKGdvb2cuYXN5bmMuRGVmZXJyZWQpO1xuZ29vZy5hc3luYy5EZWZlcnJlZC5wcm90b3R5cGUuY2hhaW5EZWZlcnJlZCA9IGZ1bmN0aW9uKG90aGVyRGVmZXJyZWQpIHtcbiAgdGhpcy5hZGRDYWxsYmFja3Mob3RoZXJEZWZlcnJlZC5jYWxsYmFjaywgb3RoZXJEZWZlcnJlZC5lcnJiYWNrLCBvdGhlckRlZmVycmVkKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5wcm90b3R5cGUuYXdhaXREZWZlcnJlZCA9IGZ1bmN0aW9uKG90aGVyRGVmZXJyZWQpIHtcbiAgcmV0dXJuIG90aGVyRGVmZXJyZWQgaW5zdGFuY2VvZiBnb29nLmFzeW5jLkRlZmVycmVkID8gdGhpcy5hZGRDYWxsYmFjayhnb29nLmJpbmQob3RoZXJEZWZlcnJlZC5icmFuY2gsIG90aGVyRGVmZXJyZWQpKSA6IHRoaXMuYWRkQ2FsbGJhY2soZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG90aGVyRGVmZXJyZWQ7XG4gIH0pO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQucHJvdG90eXBlLmJyYW5jaCA9IGZ1bmN0aW9uKG9wdF9wcm9wYWdhdGVDYW5jZWwpIHtcbiAgdmFyIGQgPSBuZXcgZ29vZy5hc3luYy5EZWZlcnJlZCgpO1xuICB0aGlzLmNoYWluRGVmZXJyZWQoZCk7XG4gIG9wdF9wcm9wYWdhdGVDYW5jZWwgJiYgKGQucGFyZW50XyA9IHRoaXMsIHRoaXMuYnJhbmNoZXNfKyspO1xuICByZXR1cm4gZDtcbn07XG5nb29nLmFzeW5jLkRlZmVycmVkLnByb3RvdHlwZS5oYXNGaXJlZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5maXJlZF87XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5wcm90b3R5cGUuaXNFcnJvciA9IGZ1bmN0aW9uKHJlcykge1xuICByZXR1cm4gcmVzIGluc3RhbmNlb2YgRXJyb3I7XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5wcm90b3R5cGUuaGFzRXJyYmFja18gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3NvbWUodGhpcy5zZXF1ZW5jZV8sIGZ1bmN0aW9uKHNlcXVlbmNlUm93KSB7XG4gICAgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHNlcXVlbmNlUm93WzFdO1xuICB9KTtcbn07XG5nb29nLmFzeW5jLkRlZmVycmVkLnByb3RvdHlwZS5nZXRMYXN0VmFsdWVGb3JNaWdyYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuaGFzRmlyZWQoKSAmJiAhdGhpcy5oYWRFcnJvcl8gPyB0aGlzLnJlc3VsdF8gOiB2b2lkIDA7XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5wcm90b3R5cGUuZmlyZV8gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy51bmhhbmRsZWRFcnJvcklkXyAmJiB0aGlzLmhhc0ZpcmVkKCkgJiYgdGhpcy5oYXNFcnJiYWNrXygpICYmIChnb29nLmFzeW5jLkRlZmVycmVkLnVuc2NoZWR1bGVFcnJvcl8odGhpcy51bmhhbmRsZWRFcnJvcklkXyksIHRoaXMudW5oYW5kbGVkRXJyb3JJZF8gPSAwKTtcbiAgdGhpcy5wYXJlbnRfICYmICh0aGlzLnBhcmVudF8uYnJhbmNoZXNfLS0sIGRlbGV0ZSB0aGlzLnBhcmVudF8pO1xuICBmb3IgKHZhciByZXMgPSB0aGlzLnJlc3VsdF8sIHVuaGFuZGxlZEV4Y2VwdGlvbiA9ICExLCBpc05ld2x5QmxvY2tlZCA9ICExOyB0aGlzLnNlcXVlbmNlXy5sZW5ndGggJiYgIXRoaXMuYmxvY2tlZF87KSB7XG4gICAgdmFyIHNlcXVlbmNlRW50cnkgPSB0aGlzLnNlcXVlbmNlXy5zaGlmdCgpLCBjYWxsYmFjayA9IHNlcXVlbmNlRW50cnlbMF0sIGVycmJhY2sgPSBzZXF1ZW5jZUVudHJ5WzFdLCBzY29wZSA9IHNlcXVlbmNlRW50cnlbMl0sIGYgPSB0aGlzLmhhZEVycm9yXyA/IGVycmJhY2sgOiBjYWxsYmFjaztcbiAgICBpZiAoZikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHJldCA9IGYuY2FsbChzY29wZSB8fCB0aGlzLmRlZmF1bHRTY29wZV8sIHJlcyk7XG4gICAgICAgIHZvaWQgMCAhPT0gcmV0ICYmICh0aGlzLmhhZEVycm9yXyA9IHRoaXMuaGFkRXJyb3JfICYmIChyZXQgPT0gcmVzIHx8IHRoaXMuaXNFcnJvcihyZXQpKSwgdGhpcy5yZXN1bHRfID0gcmVzID0gcmV0KTtcbiAgICAgICAgaWYgKGdvb2cuVGhlbmFibGUuaXNJbXBsZW1lbnRlZEJ5KHJlcykgfHwgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZ29vZy5nbG9iYWwuUHJvbWlzZSAmJiByZXMgaW5zdGFuY2VvZiBnb29nLmdsb2JhbC5Qcm9taXNlKSB7XG4gICAgICAgICAgdGhpcy5ibG9ja2VkXyA9IGlzTmV3bHlCbG9ja2VkID0gITA7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgIHJlcyA9IGV4LCB0aGlzLmhhZEVycm9yXyA9ICEwLCB0aGlzLm1ha2VTdGFja1RyYWNlTG9uZ18ocmVzKSwgdGhpcy5oYXNFcnJiYWNrXygpIHx8ICh1bmhhbmRsZWRFeGNlcHRpb24gPSAhMCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHRoaXMucmVzdWx0XyA9IHJlcztcbiAgaWYgKGlzTmV3bHlCbG9ja2VkKSB7XG4gICAgdmFyIG9uQ2FsbGJhY2sgPSBnb29nLmJpbmQodGhpcy5jb250aW51ZV8sIHRoaXMsICEwKSwgb25FcnJiYWNrID0gZ29vZy5iaW5kKHRoaXMuY29udGludWVfLCB0aGlzLCAhMSk7XG4gICAgcmVzIGluc3RhbmNlb2YgZ29vZy5hc3luYy5EZWZlcnJlZCA/IChyZXMuYWRkQ2FsbGJhY2tzKG9uQ2FsbGJhY2ssIG9uRXJyYmFjayksIHJlcy5ibG9ja2luZ18gPSAhMCkgOiByZXMudGhlbihvbkNhbGxiYWNrLCBvbkVycmJhY2spO1xuICB9IGVsc2Uge1xuICAgICFnb29nLmFzeW5jLkRlZmVycmVkLlNUUklDVF9FUlJPUlMgfHwgIXRoaXMuaXNFcnJvcihyZXMpIHx8IHJlcyBpbnN0YW5jZW9mIGdvb2cuYXN5bmMuRGVmZXJyZWQuQ2FuY2VsZWRFcnJvciB8fCAodW5oYW5kbGVkRXhjZXB0aW9uID0gdGhpcy5oYWRFcnJvcl8gPSAhMCk7XG4gIH1cbiAgdW5oYW5kbGVkRXhjZXB0aW9uICYmICh0aGlzLnVuaGFuZGxlZEVycm9ySWRfID0gZ29vZy5hc3luYy5EZWZlcnJlZC5zY2hlZHVsZUVycm9yXyhyZXMpKTtcbn07XG5nb29nLmFzeW5jLkRlZmVycmVkLnN1Y2NlZWQgPSBmdW5jdGlvbihvcHRfcmVzdWx0KSB7XG4gIHZhciBkID0gbmV3IGdvb2cuYXN5bmMuRGVmZXJyZWQoKTtcbiAgZC5jYWxsYmFjayhvcHRfcmVzdWx0KTtcbiAgcmV0dXJuIGQ7XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5mcm9tUHJvbWlzZSA9IGZ1bmN0aW9uKHByb21pc2UpIHtcbiAgdmFyIGQgPSBuZXcgZ29vZy5hc3luYy5EZWZlcnJlZCgpO1xuICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpIHtcbiAgICBkLmNhbGxiYWNrKHZhbHVlKTtcbiAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICBkLmVycmJhY2soZXJyb3IpO1xuICB9KTtcbiAgcmV0dXJuIGQ7XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5mYWlsID0gZnVuY3Rpb24ocmVzKSB7XG4gIHZhciBkID0gbmV3IGdvb2cuYXN5bmMuRGVmZXJyZWQoKTtcbiAgZC5lcnJiYWNrKHJlcyk7XG4gIHJldHVybiBkO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQuY2FuY2VsZWQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGQgPSBuZXcgZ29vZy5hc3luYy5EZWZlcnJlZCgpO1xuICBkLmNhbmNlbCgpO1xuICByZXR1cm4gZDtcbn07XG5nb29nLmFzeW5jLkRlZmVycmVkLndoZW4gPSBmdW5jdGlvbih2YWx1ZSwgY2FsbGJhY2ssIG9wdF9zY29wZSkge1xuICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBnb29nLmFzeW5jLkRlZmVycmVkID8gdmFsdWUuYnJhbmNoKCEwKS5hZGRDYWxsYmFjayhjYWxsYmFjaywgb3B0X3Njb3BlKSA6IGdvb2cuYXN5bmMuRGVmZXJyZWQuc3VjY2VlZCh2YWx1ZSkuYWRkQ2FsbGJhY2soY2FsbGJhY2ssIG9wdF9zY29wZSk7XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5BbHJlYWR5Q2FsbGVkRXJyb3IgPSBmdW5jdGlvbihkZWZlcnJlZCkge1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRkZWJ1ZyRFcnJvcl9EZWJ1Z0Vycm9yLmNhbGwodGhpcyk7XG4gIHRoaXMuZGVmZXJyZWQgPSBkZWZlcnJlZDtcbn07XG5nb29nLmluaGVyaXRzKGdvb2cuYXN5bmMuRGVmZXJyZWQuQWxyZWFkeUNhbGxlZEVycm9yLCBtb2R1bGUkY29udGVudHMkZ29vZyRkZWJ1ZyRFcnJvcl9EZWJ1Z0Vycm9yKTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQuQWxyZWFkeUNhbGxlZEVycm9yLnByb3RvdHlwZS5tZXNzYWdlID0gXCJEZWZlcnJlZCBoYXMgYWxyZWFkeSBmaXJlZFwiO1xuZ29vZy5hc3luYy5EZWZlcnJlZC5BbHJlYWR5Q2FsbGVkRXJyb3IucHJvdG90eXBlLm5hbWUgPSBcIkFscmVhZHlDYWxsZWRFcnJvclwiO1xuZ29vZy5hc3luYy5EZWZlcnJlZC5DYW5jZWxlZEVycm9yID0gZnVuY3Rpb24oZGVmZXJyZWQpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGVidWckRXJyb3JfRGVidWdFcnJvci5jYWxsKHRoaXMpO1xuICB0aGlzLmRlZmVycmVkID0gZGVmZXJyZWQ7XG59O1xuZ29vZy5pbmhlcml0cyhnb29nLmFzeW5jLkRlZmVycmVkLkNhbmNlbGVkRXJyb3IsIG1vZHVsZSRjb250ZW50cyRnb29nJGRlYnVnJEVycm9yX0RlYnVnRXJyb3IpO1xuZ29vZy5hc3luYy5EZWZlcnJlZC5DYW5jZWxlZEVycm9yLnByb3RvdHlwZS5tZXNzYWdlID0gXCJEZWZlcnJlZCB3YXMgY2FuY2VsZWRcIjtcbmdvb2cuYXN5bmMuRGVmZXJyZWQuQ2FuY2VsZWRFcnJvci5wcm90b3R5cGUubmFtZSA9IFwiQ2FuY2VsZWRFcnJvclwiO1xuZ29vZy5hc3luYy5EZWZlcnJlZC5FcnJvcl8gPSBmdW5jdGlvbihlcnJvcikge1xuICB0aGlzLmlkXyA9IGdvb2cuZ2xvYmFsLnNldFRpbWVvdXQoZ29vZy5iaW5kKHRoaXMudGhyb3dFcnJvciwgdGhpcyksIDApO1xuICB0aGlzLmVycm9yXyA9IGVycm9yO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQuRXJyb3JfLnByb3RvdHlwZS50aHJvd0Vycm9yID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQoZ29vZy5hc3luYy5EZWZlcnJlZC5lcnJvck1hcF9bdGhpcy5pZF9dLCBcIkNhbm5vdCB0aHJvdyBhbiBlcnJvciB0aGF0IGlzIG5vdCBzY2hlZHVsZWQuXCIpO1xuICBkZWxldGUgZ29vZy5hc3luYy5EZWZlcnJlZC5lcnJvck1hcF9bdGhpcy5pZF9dO1xuICBnb29nLmFzeW5jLkRlZmVycmVkLnVuaGFuZGxlZEVycm9ySGFuZGxlcl8odGhpcy5lcnJvcl8pO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQuRXJyb3JfLnByb3RvdHlwZS5yZXNldFRpbWVyID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cuZ2xvYmFsLmNsZWFyVGltZW91dCh0aGlzLmlkXyk7XG59O1xuZ29vZy5hc3luYy5EZWZlcnJlZC5lcnJvck1hcF8gPSB7fTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQuc2NoZWR1bGVFcnJvcl8gPSBmdW5jdGlvbihlcnJvcikge1xuICB2YXIgZGVmZXJyZWRFcnJvciA9IG5ldyBnb29nLmFzeW5jLkRlZmVycmVkLkVycm9yXyhlcnJvcik7XG4gIGdvb2cuYXN5bmMuRGVmZXJyZWQuZXJyb3JNYXBfW2RlZmVycmVkRXJyb3IuaWRfXSA9IGRlZmVycmVkRXJyb3I7XG4gIHJldHVybiBkZWZlcnJlZEVycm9yLmlkXztcbn07XG5nb29nLmFzeW5jLkRlZmVycmVkLnVuc2NoZWR1bGVFcnJvcl8gPSBmdW5jdGlvbihpZCkge1xuICB2YXIgZXJyb3IgPSBnb29nLmFzeW5jLkRlZmVycmVkLmVycm9yTWFwX1tpZF07XG4gIGVycm9yICYmIChlcnJvci5yZXNldFRpbWVyKCksIGRlbGV0ZSBnb29nLmFzeW5jLkRlZmVycmVkLmVycm9yTWFwX1tpZF0pO1xufTtcbmdvb2cuYXN5bmMuRGVmZXJyZWQuYXNzZXJ0Tm9FcnJvcnMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIG1hcCA9IGdvb2cuYXN5bmMuRGVmZXJyZWQuZXJyb3JNYXBfLCBrZXk7XG4gIGZvciAoa2V5IGluIG1hcCkge1xuICAgIHZhciBlcnJvciA9IG1hcFtrZXldO1xuICAgIGVycm9yLnJlc2V0VGltZXIoKTtcbiAgICBlcnJvci50aHJvd0Vycm9yKCk7XG4gIH1cbn07XG5nb29nLm5ldCA9IHt9O1xuZ29vZy5uZXQuanNsb2FkZXIgPSB7fTtcbmdvb2cubmV0LmpzbG9hZGVyLk9wdGlvbnMgPSB7fTtcbmdvb2cubmV0LmpzbG9hZGVyLkdMT0JBTF9WRVJJRllfT0JKU18gPSBcImNsb3N1cmVfdmVyaWZpY2F0aW9uXCI7XG5nb29nLm5ldC5qc2xvYWRlci5ERUZBVUxUX1RJTUVPVVQgPSA1MDAwO1xuZ29vZy5uZXQuanNsb2FkZXIuc2NyaXB0c1RvTG9hZF8gPSBbXTtcbmdvb2cubmV0LmpzbG9hZGVyLnNhZmVMb2FkTWFueSA9IGZ1bmN0aW9uKHRydXN0ZWRVcmlzLCBvcHRfb3B0aW9ucykge1xuICBpZiAoIXRydXN0ZWRVcmlzLmxlbmd0aCkge1xuICAgIHJldHVybiBnb29nLmFzeW5jLkRlZmVycmVkLnN1Y2NlZWQobnVsbCk7XG4gIH1cbiAgdmFyIGlzQW5vdGhlck1vZHVsZUxvYWRpbmcgPSBnb29nLm5ldC5qc2xvYWRlci5zY3JpcHRzVG9Mb2FkXy5sZW5ndGg7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2V4dGVuZChnb29nLm5ldC5qc2xvYWRlci5zY3JpcHRzVG9Mb2FkXywgdHJ1c3RlZFVyaXMpO1xuICBpZiAoaXNBbm90aGVyTW9kdWxlTG9hZGluZykge1xuICAgIHJldHVybiBnb29nLm5ldC5qc2xvYWRlci5zY3JpcHRMb2FkaW5nRGVmZXJyZWRfO1xuICB9XG4gIHRydXN0ZWRVcmlzID0gZ29vZy5uZXQuanNsb2FkZXIuc2NyaXB0c1RvTG9hZF87XG4gIHZhciBwb3BBbmRMb2FkTmV4dFNjcmlwdCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0cnVzdGVkVXJpID0gdHJ1c3RlZFVyaXMuc2hpZnQoKSwgZGVmZXJyZWQgPSBnb29nLm5ldC5qc2xvYWRlci5zYWZlTG9hZCh0cnVzdGVkVXJpLCBvcHRfb3B0aW9ucyk7XG4gICAgdHJ1c3RlZFVyaXMubGVuZ3RoICYmIGRlZmVycmVkLmFkZEJvdGgocG9wQW5kTG9hZE5leHRTY3JpcHQpO1xuICAgIHJldHVybiBkZWZlcnJlZDtcbiAgfTtcbiAgZ29vZy5uZXQuanNsb2FkZXIuc2NyaXB0TG9hZGluZ0RlZmVycmVkXyA9IHBvcEFuZExvYWROZXh0U2NyaXB0KCk7XG4gIHJldHVybiBnb29nLm5ldC5qc2xvYWRlci5zY3JpcHRMb2FkaW5nRGVmZXJyZWRfO1xufTtcbmdvb2cubmV0LmpzbG9hZGVyLnNhZmVMb2FkID0gZnVuY3Rpb24odHJ1c3RlZFVyaSwgb3B0X29wdGlvbnMpIHtcbiAgdmFyIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fSwgZG9jID0gb3B0aW9ucy5kb2N1bWVudCB8fCBkb2N1bWVudCwgdXJpID0gZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC51bndyYXAodHJ1c3RlZFVyaSksIHNjcmlwdCA9IChuZXcgZ29vZy5kb20uRG9tSGVscGVyKGRvYykpLmNyZWF0ZUVsZW1lbnQoZ29vZy5kb20uVGFnTmFtZS5TQ1JJUFQpLCByZXF1ZXN0ID0ge3NjcmlwdF86c2NyaXB0LCB0aW1lb3V0Xzp2b2lkIDB9LCBkZWZlcnJlZCA9IG5ldyBnb29nLmFzeW5jLkRlZmVycmVkKGdvb2cubmV0LmpzbG9hZGVyLmNhbmNlbF8sIHJlcXVlc3QpLCB0aW1lb3V0ID0gbnVsbCwgdGltZW91dER1cmF0aW9uID0gbnVsbCAhPSBvcHRpb25zLnRpbWVvdXQgPyBvcHRpb25zLnRpbWVvdXQgOiBnb29nLm5ldC5qc2xvYWRlci5ERUZBVUxUX1RJTUVPVVQ7XG4gIDAgPCB0aW1lb3V0RHVyYXRpb24gJiYgKHRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICBnb29nLm5ldC5qc2xvYWRlci5jbGVhbnVwXyhzY3JpcHQsICEwKTtcbiAgICBkZWZlcnJlZC5lcnJiYWNrKG5ldyBnb29nLm5ldC5qc2xvYWRlci5FcnJvcihnb29nLm5ldC5qc2xvYWRlci5FcnJvckNvZGUuVElNRU9VVCwgXCJUaW1lb3V0IHJlYWNoZWQgZm9yIGxvYWRpbmcgc2NyaXB0IFwiICsgdXJpKSk7XG4gIH0sIHRpbWVvdXREdXJhdGlvbiksIHJlcXVlc3QudGltZW91dF8gPSB0aW1lb3V0KTtcbiAgc2NyaXB0Lm9ubG9hZCA9IHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICBzY3JpcHQucmVhZHlTdGF0ZSAmJiBcImxvYWRlZFwiICE9IHNjcmlwdC5yZWFkeVN0YXRlICYmIFwiY29tcGxldGVcIiAhPSBzY3JpcHQucmVhZHlTdGF0ZSB8fCAoZ29vZy5uZXQuanNsb2FkZXIuY2xlYW51cF8oc2NyaXB0LCBvcHRpb25zLmNsZWFudXBXaGVuRG9uZSB8fCAhMSwgdGltZW91dCksIGRlZmVycmVkLmNhbGxiYWNrKG51bGwpKTtcbiAgfTtcbiAgc2NyaXB0Lm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICBnb29nLm5ldC5qc2xvYWRlci5jbGVhbnVwXyhzY3JpcHQsICEwLCB0aW1lb3V0KTtcbiAgICBkZWZlcnJlZC5lcnJiYWNrKG5ldyBnb29nLm5ldC5qc2xvYWRlci5FcnJvcihnb29nLm5ldC5qc2xvYWRlci5FcnJvckNvZGUuTE9BRF9FUlJPUiwgXCJFcnJvciB3aGlsZSBsb2FkaW5nIHNjcmlwdCBcIiArIHVyaSkpO1xuICB9O1xuICB2YXIgcHJvcGVydGllcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2V4dGVuZChwcm9wZXJ0aWVzLCB7dHlwZTpcInRleHQvamF2YXNjcmlwdFwiLCBjaGFyc2V0OlwiVVRGLThcIn0pO1xuICBnb29nLmRvbS5zZXRQcm9wZXJ0aWVzKHNjcmlwdCwgcHJvcGVydGllcyk7XG4gIGdvb2cuZG9tLnNhZmUuc2V0U2NyaXB0U3JjKHNjcmlwdCwgdHJ1c3RlZFVyaSk7XG4gIGdvb2cubmV0LmpzbG9hZGVyLmdldFNjcmlwdFBhcmVudEVsZW1lbnRfKGRvYykuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgcmV0dXJuIGRlZmVycmVkO1xufTtcbmdvb2cubmV0LmpzbG9hZGVyLnNhZmVMb2FkQW5kVmVyaWZ5ID0gZnVuY3Rpb24odHJ1c3RlZFVyaSwgdmVyaWZpY2F0aW9uT2JqTmFtZSwgb3B0aW9ucykge1xuICBnb29nLmdsb2JhbFtnb29nLm5ldC5qc2xvYWRlci5HTE9CQUxfVkVSSUZZX09CSlNfXSB8fCAoZ29vZy5nbG9iYWxbZ29vZy5uZXQuanNsb2FkZXIuR0xPQkFMX1ZFUklGWV9PQkpTX10gPSB7fSk7XG4gIHZhciB2ZXJpZnlPYmpzID0gZ29vZy5nbG9iYWxbZ29vZy5uZXQuanNsb2FkZXIuR0xPQkFMX1ZFUklGWV9PQkpTX10sIHVyaSA9IGdvb2cuaHRtbC5UcnVzdGVkUmVzb3VyY2VVcmwudW53cmFwKHRydXN0ZWRVcmkpO1xuICBpZiAodm9pZCAwICE9PSB2ZXJpZnlPYmpzW3ZlcmlmaWNhdGlvbk9iak5hbWVdKSB7XG4gICAgcmV0dXJuIGdvb2cuYXN5bmMuRGVmZXJyZWQuZmFpbChuZXcgZ29vZy5uZXQuanNsb2FkZXIuRXJyb3IoZ29vZy5uZXQuanNsb2FkZXIuRXJyb3JDb2RlLlZFUklGWV9PQkpFQ1RfQUxSRUFEWV9FWElTVFMsIFwiVmVyaWZpY2F0aW9uIG9iamVjdCBcIiArIHZlcmlmaWNhdGlvbk9iak5hbWUgKyBcIiBhbHJlYWR5IGRlZmluZWQuXCIpKTtcbiAgfVxuICB2YXIgc2VuZERlZmVycmVkID0gZ29vZy5uZXQuanNsb2FkZXIuc2FmZUxvYWQodHJ1c3RlZFVyaSwgb3B0aW9ucyksIGRlZmVycmVkID0gbmV3IGdvb2cuYXN5bmMuRGVmZXJyZWQoZ29vZy5iaW5kKHNlbmREZWZlcnJlZC5jYW5jZWwsIHNlbmREZWZlcnJlZCkpO1xuICBzZW5kRGVmZXJyZWQuYWRkQ2FsbGJhY2soZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlc3VsdCA9IHZlcmlmeU9ianNbdmVyaWZpY2F0aW9uT2JqTmFtZV07XG4gICAgdm9pZCAwICE9PSByZXN1bHQgPyAoZGVmZXJyZWQuY2FsbGJhY2socmVzdWx0KSwgZGVsZXRlIHZlcmlmeU9ianNbdmVyaWZpY2F0aW9uT2JqTmFtZV0pIDogZGVmZXJyZWQuZXJyYmFjayhuZXcgZ29vZy5uZXQuanNsb2FkZXIuRXJyb3IoZ29vZy5uZXQuanNsb2FkZXIuRXJyb3JDb2RlLlZFUklGWV9FUlJPUiwgXCJTY3JpcHQgXCIgKyB1cmkgKyBcIiBsb2FkZWQsIGJ1dCB2ZXJpZmljYXRpb24gb2JqZWN0IFwiICsgdmVyaWZpY2F0aW9uT2JqTmFtZSArIFwiIHdhcyBub3QgZGVmaW5lZC5cIikpO1xuICB9KTtcbiAgc2VuZERlZmVycmVkLmFkZEVycmJhY2soZnVuY3Rpb24oZXJyb3IpIHtcbiAgICB2b2lkIDAgIT09IHZlcmlmeU9ianNbdmVyaWZpY2F0aW9uT2JqTmFtZV0gJiYgZGVsZXRlIHZlcmlmeU9ianNbdmVyaWZpY2F0aW9uT2JqTmFtZV07XG4gICAgZGVmZXJyZWQuZXJyYmFjayhlcnJvcik7XG4gIH0pO1xuICByZXR1cm4gZGVmZXJyZWQ7XG59O1xuZ29vZy5uZXQuanNsb2FkZXIuZ2V0U2NyaXB0UGFyZW50RWxlbWVudF8gPSBmdW5jdGlvbihkb2MpIHtcbiAgdmFyIGhlYWRFbGVtZW50cyA9IGdvb2cuZG9tLmdldEVsZW1lbnRzQnlUYWdOYW1lKGdvb2cuZG9tLlRhZ05hbWUuSEVBRCwgZG9jKTtcbiAgcmV0dXJuIGhlYWRFbGVtZW50cyAmJiAwICE9PSBoZWFkRWxlbWVudHMubGVuZ3RoID8gaGVhZEVsZW1lbnRzWzBdIDogZG9jLmRvY3VtZW50RWxlbWVudDtcbn07XG5nb29nLm5ldC5qc2xvYWRlci5jYW5jZWxfID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzICYmIHRoaXMuc2NyaXB0Xykge1xuICAgIHZhciBzY3JpcHROb2RlID0gdGhpcy5zY3JpcHRfO1xuICAgIHNjcmlwdE5vZGUgJiYgc2NyaXB0Tm9kZS50YWdOYW1lID09IGdvb2cuZG9tLlRhZ05hbWUuU0NSSVBUICYmIGdvb2cubmV0LmpzbG9hZGVyLmNsZWFudXBfKHNjcmlwdE5vZGUsICEwLCB0aGlzLnRpbWVvdXRfKTtcbiAgfVxufTtcbmdvb2cubmV0LmpzbG9hZGVyLmNsZWFudXBfID0gZnVuY3Rpb24oc2NyaXB0Tm9kZSwgcmVtb3ZlU2NyaXB0Tm9kZSwgb3B0X3RpbWVvdXQpIHtcbiAgbnVsbCAhPSBvcHRfdGltZW91dCAmJiBnb29nLmdsb2JhbC5jbGVhclRpbWVvdXQob3B0X3RpbWVvdXQpO1xuICBzY3JpcHROb2RlLm9ubG9hZCA9IGdvb2cubnVsbEZ1bmN0aW9uO1xuICBzY3JpcHROb2RlLm9uZXJyb3IgPSBnb29nLm51bGxGdW5jdGlvbjtcbiAgc2NyaXB0Tm9kZS5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBnb29nLm51bGxGdW5jdGlvbjtcbiAgcmVtb3ZlU2NyaXB0Tm9kZSAmJiB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICBnb29nLmRvbS5yZW1vdmVOb2RlKHNjcmlwdE5vZGUpO1xuICB9LCAwKTtcbn07XG5nb29nLm5ldC5qc2xvYWRlci5FcnJvckNvZGUgPSB7TE9BRF9FUlJPUjowLCBUSU1FT1VUOjEsIFZFUklGWV9FUlJPUjoyLCBWRVJJRllfT0JKRUNUX0FMUkVBRFlfRVhJU1RTOjMsfTtcbmdvb2cubmV0LmpzbG9hZGVyLkVycm9yID0gZnVuY3Rpb24oY29kZSwgb3B0X21lc3NhZ2UpIHtcbiAgdmFyIG1zZyA9IFwiSnNsb2FkZXIgZXJyb3IgKGNvZGUgI1wiICsgY29kZSArIFwiKVwiO1xuICBvcHRfbWVzc2FnZSAmJiAobXNnICs9IFwiOiBcIiArIG9wdF9tZXNzYWdlKTtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGVidWckRXJyb3JfRGVidWdFcnJvci5jYWxsKHRoaXMsIG1zZyk7XG4gIHRoaXMuY29kZSA9IGNvZGU7XG59O1xuZ29vZy5pbmhlcml0cyhnb29nLm5ldC5qc2xvYWRlci5FcnJvciwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGVidWckRXJyb3JfRGVidWdFcnJvcik7XG5nb29nLmpzb24gPSB7fTtcbmdvb2cuanNvbi5SZXBsYWNlciA9IHt9O1xuZ29vZy5qc29uLlJldml2ZXIgPSB7fTtcbmdvb2cuanNvbi5VU0VfTkFUSVZFX0pTT04gPSAhMTtcbmdvb2cuanNvbi5UUllfTkFUSVZFX0pTT04gPSAhMDtcbmdvb2cuanNvbi5pc1ZhbGlkID0gZnVuY3Rpb24ocykge1xuICByZXR1cm4gL15cXHMqJC8udGVzdChzKSA/ICExIDogL15bXFxdLDp7fVxcc1xcdTIwMjhcXHUyMDI5XSokLy50ZXN0KHMucmVwbGFjZSgvXFxcXFtcIlxcXFxcXC9iZm5ydHVdL2csIFwiQFwiKS5yZXBsYWNlKC8oPzpcIlteXCJcXFxcXFxuXFxyXFx1MjAyOFxcdTIwMjlcXHgwMC1cXHgwOFxceDBhLVxceDFmXSpcInx0cnVlfGZhbHNlfG51bGx8LT9cXGQrKD86XFwuXFxkKik/KD86W2VFXVsrXFwtXT9cXGQrKT8pW1xcc1xcdTIwMjhcXHUyMDI5XSooPz06fCx8XXx9fCQpL2csIFwiXVwiKS5yZXBsYWNlKC8oPzpefDp8LCkoPzpbXFxzXFx1MjAyOFxcdTIwMjldKlxcWykrL2csIFwiXCIpKTtcbn07XG5nb29nLmpzb24uZXJyb3JMb2dnZXJfID0gZ29vZy5udWxsRnVuY3Rpb247XG5nb29nLmpzb24uc2V0RXJyb3JMb2dnZXIgPSBmdW5jdGlvbihlcnJvckxvZ2dlcikge1xuICBnb29nLmpzb24uZXJyb3JMb2dnZXJfID0gZXJyb3JMb2dnZXI7XG59O1xuZ29vZy5qc29uLnBhcnNlID0gZ29vZy5qc29uLlVTRV9OQVRJVkVfSlNPTiA/IGdvb2cuZ2xvYmFsLkpTT04ucGFyc2UgOiBmdW5jdGlvbihzKSB7XG4gIGlmIChnb29nLmpzb24uVFJZX05BVElWRV9KU09OKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBnb29nLmdsb2JhbC5KU09OLnBhcnNlKHMpO1xuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICB2YXIgZXJyb3IgPSBleDtcbiAgICB9XG4gIH1cbiAgdmFyIG8gPSBTdHJpbmcocyk7XG4gIGlmIChnb29nLmpzb24uaXNWYWxpZChvKSkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgcmVzdWx0ID0gZXZhbChcIihcIiArIG8gKyBcIilcIik7XG4gICAgICBlcnJvciAmJiBnb29nLmpzb24uZXJyb3JMb2dnZXJfKFwiSW52YWxpZCBKU09OOiBcIiArIG8sIGVycm9yKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBjYXRjaCAoZXgkNTYpIHtcbiAgICB9XG4gIH1cbiAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIEpTT04gc3RyaW5nOiBcIiArIG8pO1xufTtcbmdvb2cuanNvbi5zZXJpYWxpemUgPSBnb29nLmpzb24uVVNFX05BVElWRV9KU09OID8gZ29vZy5nbG9iYWwuSlNPTi5zdHJpbmdpZnkgOiBmdW5jdGlvbihvYmplY3QsIG9wdF9yZXBsYWNlcikge1xuICByZXR1cm4gKG5ldyBnb29nLmpzb24uU2VyaWFsaXplcihvcHRfcmVwbGFjZXIpKS5zZXJpYWxpemUob2JqZWN0KTtcbn07XG5nb29nLmpzb24uU2VyaWFsaXplciA9IGZ1bmN0aW9uKG9wdF9yZXBsYWNlcikge1xuICB0aGlzLnJlcGxhY2VyXyA9IG9wdF9yZXBsYWNlcjtcbn07XG5nb29nLmpzb24uU2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gIHZhciBzYiA9IFtdO1xuICB0aGlzLnNlcmlhbGl6ZUludGVybmFsKG9iamVjdCwgc2IpO1xuICByZXR1cm4gc2Iuam9pbihcIlwiKTtcbn07XG5nb29nLmpzb24uU2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplSW50ZXJuYWwgPSBmdW5jdGlvbihvYmplY3QsIHNiKSB7XG4gIGlmIChudWxsID09IG9iamVjdCkge1xuICAgIHNiLnB1c2goXCJudWxsXCIpO1xuICB9IGVsc2Uge1xuICAgIGlmIChcIm9iamVjdFwiID09IHR5cGVvZiBvYmplY3QpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iamVjdCkpIHtcbiAgICAgICAgdGhpcy5zZXJpYWxpemVBcnJheShvYmplY3QsIHNiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIFN0cmluZyB8fCBvYmplY3QgaW5zdGFuY2VvZiBOdW1iZXIgfHwgb2JqZWN0IGluc3RhbmNlb2YgQm9vbGVhbikge1xuICAgICAgICBvYmplY3QgPSBvYmplY3QudmFsdWVPZigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXJpYWxpemVPYmplY3RfKG9iamVjdCwgc2IpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIHN3aXRjaCh0eXBlb2Ygb2JqZWN0KSB7XG4gICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgIHRoaXMuc2VyaWFsaXplU3RyaW5nXyhvYmplY3QsIHNiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgIHRoaXMuc2VyaWFsaXplTnVtYmVyXyhvYmplY3QsIHNiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICBzYi5wdXNoKFN0cmluZyhvYmplY3QpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgc2IucHVzaChcIm51bGxcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJVbmtub3duIHR5cGU6IFwiICsgdHlwZW9mIG9iamVjdCk7XG4gICAgfVxuICB9XG59O1xuZ29vZy5qc29uLlNlcmlhbGl6ZXIuY2hhclRvSnNvbkNoYXJDYWNoZV8gPSB7J1wiJzonXFxcXFwiJywgXCJcXFxcXCI6XCJcXFxcXFxcXFwiLCBcIi9cIjpcIlxcXFwvXCIsIFwiXFxiXCI6XCJcXFxcYlwiLCBcIlxcZlwiOlwiXFxcXGZcIiwgXCJcXG5cIjpcIlxcXFxuXCIsIFwiXFxyXCI6XCJcXFxcclwiLCBcIlxcdFwiOlwiXFxcXHRcIiwgXCJcXHgwQlwiOlwiXFxcXHUwMDBiXCJ9O1xuZ29vZy5qc29uLlNlcmlhbGl6ZXIuY2hhcnNUb1JlcGxhY2VfID0gL1xcdWZmZmYvLnRlc3QoXCJcXHVmZmZmXCIpID8gL1tcXFxcXCJcXHgwMC1cXHgxZlxceDdmLVxcdWZmZmZdL2cgOiAvW1xcXFxcIlxceDAwLVxceDFmXFx4N2YtXFx4ZmZdL2c7XG5nb29nLmpzb24uU2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplU3RyaW5nXyA9IGZ1bmN0aW9uKHMsIHNiKSB7XG4gIHNiLnB1c2goJ1wiJywgcy5yZXBsYWNlKGdvb2cuanNvbi5TZXJpYWxpemVyLmNoYXJzVG9SZXBsYWNlXywgZnVuY3Rpb24oYykge1xuICAgIHZhciBydiA9IGdvb2cuanNvbi5TZXJpYWxpemVyLmNoYXJUb0pzb25DaGFyQ2FjaGVfW2NdO1xuICAgIHJ2IHx8IChydiA9IFwiXFxcXHVcIiArIChjLmNoYXJDb2RlQXQoMCkgfCA2NTUzNikudG9TdHJpbmcoMTYpLnN1YnN0cigxKSwgZ29vZy5qc29uLlNlcmlhbGl6ZXIuY2hhclRvSnNvbkNoYXJDYWNoZV9bY10gPSBydik7XG4gICAgcmV0dXJuIHJ2O1xuICB9KSwgJ1wiJyk7XG59O1xuZ29vZy5qc29uLlNlcmlhbGl6ZXIucHJvdG90eXBlLnNlcmlhbGl6ZU51bWJlcl8gPSBmdW5jdGlvbihuLCBzYikge1xuICBzYi5wdXNoKGlzRmluaXRlKG4pICYmICFpc05hTihuKSA/IFN0cmluZyhuKSA6IFwibnVsbFwiKTtcbn07XG5nb29nLmpzb24uU2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplQXJyYXkgPSBmdW5jdGlvbihhcnIsIHNiKSB7XG4gIHZhciBsID0gYXJyLmxlbmd0aDtcbiAgc2IucHVzaChcIltcIik7XG4gIGZvciAodmFyIHNlcCA9IFwiXCIsIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgc2IucHVzaChzZXApO1xuICAgIHZhciB2YWx1ZSA9IGFycltpXTtcbiAgICB0aGlzLnNlcmlhbGl6ZUludGVybmFsKHRoaXMucmVwbGFjZXJfID8gdGhpcy5yZXBsYWNlcl8uY2FsbChhcnIsIFN0cmluZyhpKSwgdmFsdWUpIDogdmFsdWUsIHNiKTtcbiAgICBzZXAgPSBcIixcIjtcbiAgfVxuICBzYi5wdXNoKFwiXVwiKTtcbn07XG5nb29nLmpzb24uU2VyaWFsaXplci5wcm90b3R5cGUuc2VyaWFsaXplT2JqZWN0XyA9IGZ1bmN0aW9uKG9iaiwgc2IpIHtcbiAgc2IucHVzaChcIntcIik7XG4gIHZhciBzZXAgPSBcIlwiLCBrZXk7XG4gIGZvciAoa2V5IGluIG9iaikge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICB2YXIgdmFsdWUgPSBvYmpba2V5XTtcbiAgICAgIFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgdmFsdWUgJiYgKHNiLnB1c2goc2VwKSwgdGhpcy5zZXJpYWxpemVTdHJpbmdfKGtleSwgc2IpLCBzYi5wdXNoKFwiOlwiKSwgdGhpcy5zZXJpYWxpemVJbnRlcm5hbCh0aGlzLnJlcGxhY2VyXyA/IHRoaXMucmVwbGFjZXJfLmNhbGwob2JqLCBrZXksIHZhbHVlKSA6IHZhbHVlLCBzYiksIHNlcCA9IFwiLFwiKTtcbiAgICB9XG4gIH1cbiAgc2IucHVzaChcIn1cIik7XG59O1xuZ29vZy5qc29uLmh5YnJpZCA9IHt9O1xuZ29vZy5qc29uLmh5YnJpZC5zdHJpbmdpZnkgPSBnb29nLmpzb24uVVNFX05BVElWRV9KU09OID8gZ29vZy5nbG9iYWwuSlNPTi5zdHJpbmdpZnkgOiBmdW5jdGlvbihvYmopIHtcbiAgaWYgKGdvb2cuZ2xvYmFsLkpTT04pIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGdvb2cuZ2xvYmFsLkpTT04uc3RyaW5naWZ5KG9iaik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgIH1cbiAgfVxuICByZXR1cm4gZ29vZy5qc29uLnNlcmlhbGl6ZShvYmopO1xufTtcbmdvb2cuanNvbi5oeWJyaWQucGFyc2VfID0gZnVuY3Rpb24oanNvblN0cmluZywgZmFsbGJhY2tQYXJzZXIpIHtcbiAgaWYgKGdvb2cuZ2xvYmFsLkpTT04pIHtcbiAgICB0cnkge1xuICAgICAgdmFyIG9iaiA9IGdvb2cuZ2xvYmFsLkpTT04ucGFyc2UoanNvblN0cmluZyk7XG4gICAgICBnb29nLmFzc2VydHMuYXNzZXJ0KFwib2JqZWN0XCIgPT0gdHlwZW9mIG9iaik7XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbGxiYWNrUGFyc2VyKGpzb25TdHJpbmcpO1xufTtcbmdvb2cuanNvbi5oeWJyaWQucGFyc2UgPSBnb29nLmpzb24uVVNFX05BVElWRV9KU09OID8gZ29vZy5nbG9iYWwuSlNPTi5wYXJzZSA6IGZ1bmN0aW9uKGpzb25TdHJpbmcpIHtcbiAgcmV0dXJuIGdvb2cuanNvbi5oeWJyaWQucGFyc2VfKGpzb25TdHJpbmcsIGdvb2cuanNvbi5wYXJzZSk7XG59O1xuZ29vZy5sb2cgPSB7fTtcbmdvb2cubG9nLkVOQUJMRUQgPSBnb29nLmRlYnVnLkxPR0dJTkdfRU5BQkxFRDtcbmdvb2cubG9nLlJPT1RfTE9HR0VSX05BTUUgPSBcIlwiO1xudmFyIHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXIwID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdGhpcy5uYW1lID0gbmFtZTtcbiAgdGhpcy52YWx1ZSA9IHZhbHVlO1xufTtcbnRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXIwLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5uYW1lO1xufTtcbmdvb2cubG9nLkxldmVsID0gdGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjA7XG5nb29nLmxvZy5MZXZlbC5PRkYgPSBuZXcgZ29vZy5sb2cuTGV2ZWwoXCJPRkZcIiwgSW5maW5pdHkpO1xuZ29vZy5sb2cuTGV2ZWwuU0hPVVQgPSBuZXcgZ29vZy5sb2cuTGV2ZWwoXCJTSE9VVFwiLCAxMjAwKTtcbmdvb2cubG9nLkxldmVsLlNFVkVSRSA9IG5ldyBnb29nLmxvZy5MZXZlbChcIlNFVkVSRVwiLCAxMDAwKTtcbmdvb2cubG9nLkxldmVsLldBUk5JTkcgPSBuZXcgZ29vZy5sb2cuTGV2ZWwoXCJXQVJOSU5HXCIsIDkwMCk7XG5nb29nLmxvZy5MZXZlbC5JTkZPID0gbmV3IGdvb2cubG9nLkxldmVsKFwiSU5GT1wiLCA4MDApO1xuZ29vZy5sb2cuTGV2ZWwuQ09ORklHID0gbmV3IGdvb2cubG9nLkxldmVsKFwiQ09ORklHXCIsIDcwMCk7XG5nb29nLmxvZy5MZXZlbC5GSU5FID0gbmV3IGdvb2cubG9nLkxldmVsKFwiRklORVwiLCA1MDApO1xuZ29vZy5sb2cuTGV2ZWwuRklORVIgPSBuZXcgZ29vZy5sb2cuTGV2ZWwoXCJGSU5FUlwiLCA0MDApO1xuZ29vZy5sb2cuTGV2ZWwuRklORVNUID0gbmV3IGdvb2cubG9nLkxldmVsKFwiRklORVNUXCIsIDMwMCk7XG5nb29nLmxvZy5MZXZlbC5BTEwgPSBuZXcgZ29vZy5sb2cuTGV2ZWwoXCJBTExcIiwgMCk7XG5nb29nLmxvZy5MZXZlbC5QUkVERUZJTkVEX0xFVkVMUyA9IFtnb29nLmxvZy5MZXZlbC5PRkYsIGdvb2cubG9nLkxldmVsLlNIT1VULCBnb29nLmxvZy5MZXZlbC5TRVZFUkUsIGdvb2cubG9nLkxldmVsLldBUk5JTkcsIGdvb2cubG9nLkxldmVsLklORk8sIGdvb2cubG9nLkxldmVsLkNPTkZJRywgZ29vZy5sb2cuTGV2ZWwuRklORSwgZ29vZy5sb2cuTGV2ZWwuRklORVIsIGdvb2cubG9nLkxldmVsLkZJTkVTVCwgZ29vZy5sb2cuTGV2ZWwuQUxMXTtcbmdvb2cubG9nLkxldmVsLnByZWRlZmluZWRMZXZlbHNDYWNoZV8gPSBudWxsO1xuZ29vZy5sb2cuTGV2ZWwuY3JlYXRlUHJlZGVmaW5lZExldmVsc0NhY2hlXyA9IGZ1bmN0aW9uKCkge1xuICBnb29nLmxvZy5MZXZlbC5wcmVkZWZpbmVkTGV2ZWxzQ2FjaGVfID0ge307XG4gIGZvciAodmFyIGkgPSAwLCBsZXZlbCA9IHZvaWQgMDsgbGV2ZWwgPSBnb29nLmxvZy5MZXZlbC5QUkVERUZJTkVEX0xFVkVMU1tpXTsgaSsrKSB7XG4gICAgZ29vZy5sb2cuTGV2ZWwucHJlZGVmaW5lZExldmVsc0NhY2hlX1tsZXZlbC52YWx1ZV0gPSBsZXZlbCwgZ29vZy5sb2cuTGV2ZWwucHJlZGVmaW5lZExldmVsc0NhY2hlX1tsZXZlbC5uYW1lXSA9IGxldmVsO1xuICB9XG59O1xuZ29vZy5sb2cuTGV2ZWwuZ2V0UHJlZGVmaW5lZExldmVsID0gZnVuY3Rpb24obmFtZSkge1xuICBnb29nLmxvZy5MZXZlbC5wcmVkZWZpbmVkTGV2ZWxzQ2FjaGVfIHx8IGdvb2cubG9nLkxldmVsLmNyZWF0ZVByZWRlZmluZWRMZXZlbHNDYWNoZV8oKTtcbiAgcmV0dXJuIGdvb2cubG9nLkxldmVsLnByZWRlZmluZWRMZXZlbHNDYWNoZV9bbmFtZV0gfHwgbnVsbDtcbn07XG5nb29nLmxvZy5MZXZlbC5nZXRQcmVkZWZpbmVkTGV2ZWxCeVZhbHVlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgZ29vZy5sb2cuTGV2ZWwucHJlZGVmaW5lZExldmVsc0NhY2hlXyB8fCBnb29nLmxvZy5MZXZlbC5jcmVhdGVQcmVkZWZpbmVkTGV2ZWxzQ2FjaGVfKCk7XG4gIGlmICh2YWx1ZSBpbiBnb29nLmxvZy5MZXZlbC5wcmVkZWZpbmVkTGV2ZWxzQ2FjaGVfKSB7XG4gICAgcmV0dXJuIGdvb2cubG9nLkxldmVsLnByZWRlZmluZWRMZXZlbHNDYWNoZV9bdmFsdWVdO1xuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZ29vZy5sb2cuTGV2ZWwuUFJFREVGSU5FRF9MRVZFTFMubGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgbGV2ZWwgPSBnb29nLmxvZy5MZXZlbC5QUkVERUZJTkVEX0xFVkVMU1tpXTtcbiAgICBpZiAobGV2ZWwudmFsdWUgPD0gdmFsdWUpIHtcbiAgICAgIHJldHVybiBsZXZlbDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xudmFyIHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXIxID0gZnVuY3Rpb24oKSB7XG59O1xudGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjEucHJvdG90eXBlLmdldE5hbWUgPSBmdW5jdGlvbigpIHtcbn07XG5nb29nLmxvZy5Mb2dnZXIgPSB0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyMTtcbmdvb2cubG9nLkxvZ2dlci5MZXZlbCA9IGdvb2cubG9nLkxldmVsO1xudmFyIHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXIyID0gZnVuY3Rpb24oY2FwYWNpdHkpIHtcbiAgdGhpcy5jYXBhY2l0eV8gPSBcIm51bWJlclwiID09PSB0eXBlb2YgY2FwYWNpdHkgPyBjYXBhY2l0eSA6IGdvb2cubG9nLkxvZ0J1ZmZlci5DQVBBQ0lUWTtcbiAgdGhpcy5jbGVhcigpO1xufTtcbnRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXIyLnByb3RvdHlwZS5hZGRSZWNvcmQgPSBmdW5jdGlvbihsZXZlbCwgbXNnLCBsb2dnZXJOYW1lKSB7XG4gIGlmICghdGhpcy5pc0J1ZmZlcmluZ0VuYWJsZWQoKSkge1xuICAgIHJldHVybiBuZXcgZ29vZy5sb2cuTG9nUmVjb3JkKGxldmVsLCBtc2csIGxvZ2dlck5hbWUpO1xuICB9XG4gIHZhciBjdXJJbmRleCA9ICh0aGlzLmN1ckluZGV4XyArIDEpICUgdGhpcy5jYXBhY2l0eV87XG4gIHRoaXMuY3VySW5kZXhfID0gY3VySW5kZXg7XG4gIGlmICh0aGlzLmlzRnVsbF8pIHtcbiAgICB2YXIgcmV0ID0gdGhpcy5idWZmZXJfW2N1ckluZGV4XTtcbiAgICByZXQucmVzZXQobGV2ZWwsIG1zZywgbG9nZ2VyTmFtZSk7XG4gICAgcmV0dXJuIHJldDtcbiAgfVxuICB0aGlzLmlzRnVsbF8gPSBjdXJJbmRleCA9PSB0aGlzLmNhcGFjaXR5XyAtIDE7XG4gIHJldHVybiB0aGlzLmJ1ZmZlcl9bY3VySW5kZXhdID0gbmV3IGdvb2cubG9nLkxvZ1JlY29yZChsZXZlbCwgbXNnLCBsb2dnZXJOYW1lKTtcbn07XG50aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyMi5wcm90b3R5cGUuZm9yRWFjaFJlY29yZCA9IGZ1bmN0aW9uKGZ1bmMpIHtcbiAgdmFyIGJ1ZmZlciA9IHRoaXMuYnVmZmVyXztcbiAgaWYgKGJ1ZmZlclswXSkge1xuICAgIHZhciBjdXJJbmRleCA9IHRoaXMuY3VySW5kZXhfLCBpID0gdGhpcy5pc0Z1bGxfID8gY3VySW5kZXggOiAtMTtcbiAgICBkbyB7XG4gICAgICBpID0gKGkgKyAxKSAlIHRoaXMuY2FwYWNpdHlfLCBmdW5jKGJ1ZmZlcltpXSk7XG4gICAgfSB3aGlsZSAoaSAhPT0gY3VySW5kZXgpO1xuICB9XG59O1xudGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjIucHJvdG90eXBlLmlzQnVmZmVyaW5nRW5hYmxlZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gMCA8IHRoaXMuY2FwYWNpdHlfO1xufTtcbnRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXIyLnByb3RvdHlwZS5pc0Z1bGwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuaXNGdWxsXztcbn07XG50aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyMi5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5idWZmZXJfID0gQXJyYXkodGhpcy5jYXBhY2l0eV8pO1xuICB0aGlzLmN1ckluZGV4XyA9IC0xO1xuICB0aGlzLmlzRnVsbF8gPSAhMTtcbn07XG5nb29nLmxvZy5Mb2dCdWZmZXIgPSB0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyMjtcbmdvb2cubG9nLkxvZ0J1ZmZlci5DQVBBQ0lUWSA9IDA7XG5nb29nLmxvZy5Mb2dCdWZmZXIuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbigpIHtcbiAgZ29vZy5sb2cuTG9nQnVmZmVyLmluc3RhbmNlXyB8fCAoZ29vZy5sb2cuTG9nQnVmZmVyLmluc3RhbmNlXyA9IG5ldyBnb29nLmxvZy5Mb2dCdWZmZXIoZ29vZy5sb2cuTG9nQnVmZmVyLkNBUEFDSVRZKSk7XG4gIHJldHVybiBnb29nLmxvZy5Mb2dCdWZmZXIuaW5zdGFuY2VfO1xufTtcbmdvb2cubG9nLkxvZ0J1ZmZlci5pc0J1ZmZlcmluZ0VuYWJsZWQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGdvb2cubG9nLkxvZ0J1ZmZlci5nZXRJbnN0YW5jZSgpLmlzQnVmZmVyaW5nRW5hYmxlZCgpO1xufTtcbnZhciB0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyMyA9IGZ1bmN0aW9uKGxldmVsLCBtc2csIGxvZ2dlck5hbWUsIHRpbWUsIHNlcXVlbmNlTnVtYmVyKSB7XG4gIHRoaXMuZXhjZXB0aW9uXyA9IHZvaWQgMDtcbiAgdGhpcy5yZXNldChsZXZlbCB8fCBnb29nLmxvZy5MZXZlbC5PRkYsIG1zZywgbG9nZ2VyTmFtZSwgdGltZSwgc2VxdWVuY2VOdW1iZXIpO1xufTtcbnRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXIzLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKGxldmVsLCBtc2csIGxvZ2dlck5hbWUsIHRpbWUsIHNlcXVlbmNlTnVtYmVyKSB7XG4gIHRoaXMudGltZV8gPSB0aW1lIHx8IGdvb2cubm93KCk7XG4gIHRoaXMubGV2ZWxfID0gbGV2ZWw7XG4gIHRoaXMubXNnXyA9IG1zZztcbiAgdGhpcy5sb2dnZXJOYW1lXyA9IGxvZ2dlck5hbWU7XG4gIHRoaXMuZXhjZXB0aW9uXyA9IHZvaWQgMDtcbiAgdGhpcy5zZXF1ZW5jZU51bWJlcl8gPSBcIm51bWJlclwiID09PSB0eXBlb2Ygc2VxdWVuY2VOdW1iZXIgPyBzZXF1ZW5jZU51bWJlciA6IGdvb2cubG9nLkxvZ1JlY29yZC5uZXh0U2VxdWVuY2VOdW1iZXJfO1xufTtcbnRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXIzLnByb3RvdHlwZS5nZXRMb2dnZXJOYW1lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmxvZ2dlck5hbWVfO1xufTtcbnRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXIzLnByb3RvdHlwZS5zZXRMb2dnZXJOYW1lID0gZnVuY3Rpb24obmFtZSkge1xuICB0aGlzLmxvZ2dlck5hbWVfID0gbmFtZTtcbn07XG50aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyMy5wcm90b3R5cGUuZ2V0RXhjZXB0aW9uID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmV4Y2VwdGlvbl87XG59O1xudGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjMucHJvdG90eXBlLnNldEV4Y2VwdGlvbiA9IGZ1bmN0aW9uKGV4Y2VwdGlvbikge1xuICB0aGlzLmV4Y2VwdGlvbl8gPSBleGNlcHRpb247XG59O1xudGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjMucHJvdG90eXBlLmdldExldmVsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmxldmVsXztcbn07XG50aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyMy5wcm90b3R5cGUuc2V0TGV2ZWwgPSBmdW5jdGlvbihsZXZlbCkge1xuICB0aGlzLmxldmVsXyA9IGxldmVsO1xufTtcbnRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXIzLnByb3RvdHlwZS5nZXRNZXNzYWdlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLm1zZ187XG59O1xudGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjMucHJvdG90eXBlLnNldE1lc3NhZ2UgPSBmdW5jdGlvbihtc2cpIHtcbiAgdGhpcy5tc2dfID0gbXNnO1xufTtcbnRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXIzLnByb3RvdHlwZS5nZXRNaWxsaXMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMudGltZV87XG59O1xudGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjMucHJvdG90eXBlLnNldE1pbGxpcyA9IGZ1bmN0aW9uKHRpbWUpIHtcbiAgdGhpcy50aW1lXyA9IHRpbWU7XG59O1xudGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjMucHJvdG90eXBlLmdldFNlcXVlbmNlTnVtYmVyID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnNlcXVlbmNlTnVtYmVyXztcbn07XG5nb29nLmxvZy5Mb2dSZWNvcmQgPSB0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyMztcbmdvb2cubG9nLkxvZ1JlY29yZC5uZXh0U2VxdWVuY2VOdW1iZXJfID0gMDtcbnZhciB0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyNCA9IGZ1bmN0aW9uKG5hbWUsIHBhcmVudCkge1xuICB0aGlzLmxldmVsID0gbnVsbDtcbiAgdGhpcy5oYW5kbGVycyA9IFtdO1xuICB0aGlzLnBhcmVudCA9ICh2b2lkIDAgPT09IHBhcmVudCA/IG51bGwgOiBwYXJlbnQpIHx8IG51bGw7XG4gIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgdGhpcy5sb2dnZXIgPSB7Z2V0TmFtZTpmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmFtZTtcbiAgfX07XG59O1xudGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjQucHJvdG90eXBlLmdldEVmZmVjdGl2ZUxldmVsID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLmxldmVsKSB7XG4gICAgcmV0dXJuIHRoaXMubGV2ZWw7XG4gIH1cbiAgaWYgKHRoaXMucGFyZW50KSB7XG4gICAgcmV0dXJuIHRoaXMucGFyZW50LmdldEVmZmVjdGl2ZUxldmVsKCk7XG4gIH1cbiAgZ29vZy5hc3NlcnRzLmZhaWwoXCJSb290IGxvZ2dlciBoYXMgbm8gbGV2ZWwgc2V0LlwiKTtcbiAgcmV0dXJuIGdvb2cubG9nLkxldmVsLk9GRjtcbn07XG50aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyNC5wcm90b3R5cGUucHVibGlzaCA9IGZ1bmN0aW9uKGxvZ1JlY29yZCkge1xuICBmb3IgKHZhciB0YXJnZXQgPSB0aGlzOyB0YXJnZXQ7KSB7XG4gICAgdGFyZ2V0LmhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24oaGFuZGxlcikge1xuICAgICAgaGFuZGxlcihsb2dSZWNvcmQpO1xuICAgIH0pLCB0YXJnZXQgPSB0YXJnZXQucGFyZW50O1xuICB9XG59O1xuZ29vZy5sb2cuTG9nUmVnaXN0cnlFbnRyeV8gPSB0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyNDtcbnZhciB0aGlyZF9wYXJ0eSRqYXZhc2NyaXB0JGNsb3N1cmUkbG9nJGxvZyRjbGFzc2RlY2wkdmFyNSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmVudHJpZXMgPSB7fTtcbiAgdmFyIHJvb3RMb2dSZWdpc3RyeUVudHJ5ID0gbmV3IGdvb2cubG9nLkxvZ1JlZ2lzdHJ5RW50cnlfKGdvb2cubG9nLlJPT1RfTE9HR0VSX05BTUUpO1xuICByb290TG9nUmVnaXN0cnlFbnRyeS5sZXZlbCA9IGdvb2cubG9nLkxldmVsLkNPTkZJRztcbiAgdGhpcy5lbnRyaWVzW2dvb2cubG9nLlJPT1RfTE9HR0VSX05BTUVdID0gcm9vdExvZ1JlZ2lzdHJ5RW50cnk7XG59O1xudGhpcmRfcGFydHkkamF2YXNjcmlwdCRjbG9zdXJlJGxvZyRsb2ckY2xhc3NkZWNsJHZhcjUucHJvdG90eXBlLmdldExvZ1JlZ2lzdHJ5RW50cnkgPSBmdW5jdGlvbihuYW1lLCBsZXZlbCkge1xuICB2YXIgZW50cnkgPSB0aGlzLmVudHJpZXNbbmFtZV07XG4gIGlmIChlbnRyeSkge1xuICAgIHJldHVybiB2b2lkIDAgIT09IGxldmVsICYmIChlbnRyeS5sZXZlbCA9IGxldmVsKSwgZW50cnk7XG4gIH1cbiAgdmFyIGxhc3REb3RJbmRleCA9IG5hbWUubGFzdEluZGV4T2YoXCIuXCIpLCBwYXJlbnRMb2dSZWdpc3RyeUVudHJ5ID0gdGhpcy5nZXRMb2dSZWdpc3RyeUVudHJ5KG5hbWUuc3Vic3RyKDAsIGxhc3REb3RJbmRleCkpLCBsb2dSZWdpc3RyeUVudHJ5ID0gbmV3IGdvb2cubG9nLkxvZ1JlZ2lzdHJ5RW50cnlfKG5hbWUsIHBhcmVudExvZ1JlZ2lzdHJ5RW50cnkpO1xuICB0aGlzLmVudHJpZXNbbmFtZV0gPSBsb2dSZWdpc3RyeUVudHJ5O1xuICBwYXJlbnRMb2dSZWdpc3RyeUVudHJ5LmNoaWxkcmVuLnB1c2gobG9nUmVnaXN0cnlFbnRyeSk7XG4gIHZvaWQgMCAhPT0gbGV2ZWwgJiYgKGxvZ1JlZ2lzdHJ5RW50cnkubGV2ZWwgPSBsZXZlbCk7XG4gIHJldHVybiBsb2dSZWdpc3RyeUVudHJ5O1xufTtcbnRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXI1LnByb3RvdHlwZS5nZXRBbGxMb2dnZXJzID0gZnVuY3Rpb24oKSB7XG4gIHZhciAkanNjb21wJHRoaXMgPSB0aGlzO1xuICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5lbnRyaWVzKS5tYXAoZnVuY3Rpb24obG9nZ2VyTmFtZSkge1xuICAgIHJldHVybiAkanNjb21wJHRoaXMuZW50cmllc1tsb2dnZXJOYW1lXS5sb2dnZXI7XG4gIH0pO1xufTtcbmdvb2cubG9nLkxvZ1JlZ2lzdHJ5XyA9IHRoaXJkX3BhcnR5JGphdmFzY3JpcHQkY2xvc3VyZSRsb2ckbG9nJGNsYXNzZGVjbCR2YXI1O1xuZ29vZy5sb2cuTG9nUmVnaXN0cnlfLmdldEluc3RhbmNlID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cubG9nLkxvZ1JlZ2lzdHJ5Xy5pbnN0YW5jZV8gfHwgKGdvb2cubG9nLkxvZ1JlZ2lzdHJ5Xy5pbnN0YW5jZV8gPSBuZXcgZ29vZy5sb2cuTG9nUmVnaXN0cnlfKCkpO1xuICByZXR1cm4gZ29vZy5sb2cuTG9nUmVnaXN0cnlfLmluc3RhbmNlXztcbn07XG5nb29nLmxvZy5nZXRMb2dnZXIgPSBmdW5jdGlvbihuYW1lLCBsZXZlbCkge1xuICByZXR1cm4gZ29vZy5sb2cuRU5BQkxFRCA/IGdvb2cubG9nLkxvZ1JlZ2lzdHJ5Xy5nZXRJbnN0YW5jZSgpLmdldExvZ1JlZ2lzdHJ5RW50cnkobmFtZSwgbGV2ZWwpLmxvZ2dlciA6IG51bGw7XG59O1xuZ29vZy5sb2cuZ2V0Um9vdExvZ2dlciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5sb2cuRU5BQkxFRCA/IGdvb2cubG9nLkxvZ1JlZ2lzdHJ5Xy5nZXRJbnN0YW5jZSgpLmdldExvZ1JlZ2lzdHJ5RW50cnkoZ29vZy5sb2cuUk9PVF9MT0dHRVJfTkFNRSkubG9nZ2VyIDogbnVsbDtcbn07XG5nb29nLmxvZy5hZGRIYW5kbGVyID0gZnVuY3Rpb24obG9nZ2VyLCBoYW5kbGVyKSB7XG4gIGdvb2cubG9nLkVOQUJMRUQgJiYgbG9nZ2VyICYmIGdvb2cubG9nLkxvZ1JlZ2lzdHJ5Xy5nZXRJbnN0YW5jZSgpLmdldExvZ1JlZ2lzdHJ5RW50cnkobG9nZ2VyLmdldE5hbWUoKSkuaGFuZGxlcnMucHVzaChoYW5kbGVyKTtcbn07XG5nb29nLmxvZy5yZW1vdmVIYW5kbGVyID0gZnVuY3Rpb24obG9nZ2VyLCBoYW5kbGVyKSB7XG4gIGlmIChnb29nLmxvZy5FTkFCTEVEICYmIGxvZ2dlcikge1xuICAgIHZhciBsb2dnZXJFbnRyeSA9IGdvb2cubG9nLkxvZ1JlZ2lzdHJ5Xy5nZXRJbnN0YW5jZSgpLmdldExvZ1JlZ2lzdHJ5RW50cnkobG9nZ2VyLmdldE5hbWUoKSksIGluZGV4T2ZIYW5kbGVyID0gbG9nZ2VyRW50cnkuaGFuZGxlcnMuaW5kZXhPZihoYW5kbGVyKTtcbiAgICBpZiAoLTEgIT09IGluZGV4T2ZIYW5kbGVyKSB7XG4gICAgICByZXR1cm4gbG9nZ2VyRW50cnkuaGFuZGxlcnMuc3BsaWNlKGluZGV4T2ZIYW5kbGVyLCAxKSwgITA7XG4gICAgfVxuICB9XG4gIHJldHVybiAhMTtcbn07XG5nb29nLmxvZy5zZXRMZXZlbCA9IGZ1bmN0aW9uKGxvZ2dlciwgbGV2ZWwpIHtcbiAgZ29vZy5sb2cuRU5BQkxFRCAmJiBsb2dnZXIgJiYgKGdvb2cubG9nLkxvZ1JlZ2lzdHJ5Xy5nZXRJbnN0YW5jZSgpLmdldExvZ1JlZ2lzdHJ5RW50cnkobG9nZ2VyLmdldE5hbWUoKSkubGV2ZWwgPSBsZXZlbCk7XG59O1xuZ29vZy5sb2cuZ2V0TGV2ZWwgPSBmdW5jdGlvbihsb2dnZXIpIHtcbiAgcmV0dXJuIGdvb2cubG9nLkVOQUJMRUQgJiYgbG9nZ2VyID8gZ29vZy5sb2cuTG9nUmVnaXN0cnlfLmdldEluc3RhbmNlKCkuZ2V0TG9nUmVnaXN0cnlFbnRyeShsb2dnZXIuZ2V0TmFtZSgpKS5sZXZlbCA6IG51bGw7XG59O1xuZ29vZy5sb2cuZ2V0RWZmZWN0aXZlTGV2ZWwgPSBmdW5jdGlvbihsb2dnZXIpIHtcbiAgcmV0dXJuIGdvb2cubG9nLkVOQUJMRUQgJiYgbG9nZ2VyID8gZ29vZy5sb2cuTG9nUmVnaXN0cnlfLmdldEluc3RhbmNlKCkuZ2V0TG9nUmVnaXN0cnlFbnRyeShsb2dnZXIuZ2V0TmFtZSgpKS5nZXRFZmZlY3RpdmVMZXZlbCgpIDogZ29vZy5sb2cuTGV2ZWwuT0ZGO1xufTtcbmdvb2cubG9nLmlzTG9nZ2FibGUgPSBmdW5jdGlvbihsb2dnZXIsIGxldmVsKSB7XG4gIHJldHVybiBnb29nLmxvZy5FTkFCTEVEICYmIGxvZ2dlciAmJiBsZXZlbCA/IGxldmVsLnZhbHVlID49IGdvb2cubG9nLmdldEVmZmVjdGl2ZUxldmVsKGxvZ2dlcikudmFsdWUgOiAhMTtcbn07XG5nb29nLmxvZy5nZXRBbGxMb2dnZXJzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBnb29nLmxvZy5FTkFCTEVEID8gZ29vZy5sb2cuTG9nUmVnaXN0cnlfLmdldEluc3RhbmNlKCkuZ2V0QWxsTG9nZ2VycygpIDogW107XG59O1xuZ29vZy5sb2cuZ2V0TG9nUmVjb3JkID0gZnVuY3Rpb24obG9nZ2VyLCBsZXZlbCwgbXNnLCBleGNlcHRpb24pIHtcbiAgdmFyIGxvZ1JlY29yZCA9IGdvb2cubG9nLkxvZ0J1ZmZlci5nZXRJbnN0YW5jZSgpLmFkZFJlY29yZChsZXZlbCB8fCBnb29nLmxvZy5MZXZlbC5PRkYsIG1zZywgbG9nZ2VyLmdldE5hbWUoKSk7XG4gIGxvZ1JlY29yZC5zZXRFeGNlcHRpb24oZXhjZXB0aW9uKTtcbiAgcmV0dXJuIGxvZ1JlY29yZDtcbn07XG5nb29nLmxvZy5wdWJsaXNoTG9nUmVjb3JkID0gZnVuY3Rpb24obG9nZ2VyLCBsb2dSZWNvcmQpIHtcbiAgZ29vZy5sb2cuRU5BQkxFRCAmJiBsb2dnZXIgJiYgZ29vZy5sb2cuaXNMb2dnYWJsZShsb2dnZXIsIGxvZ1JlY29yZC5nZXRMZXZlbCgpKSAmJiBnb29nLmxvZy5Mb2dSZWdpc3RyeV8uZ2V0SW5zdGFuY2UoKS5nZXRMb2dSZWdpc3RyeUVudHJ5KGxvZ2dlci5nZXROYW1lKCkpLnB1Ymxpc2gobG9nUmVjb3JkKTtcbn07XG5nb29nLmxvZy5sb2cgPSBmdW5jdGlvbihsb2dnZXIsIGxldmVsLCBtc2csIGV4Y2VwdGlvbikge1xuICBpZiAoZ29vZy5sb2cuRU5BQkxFRCAmJiBsb2dnZXIgJiYgZ29vZy5sb2cuaXNMb2dnYWJsZShsb2dnZXIsIGxldmVsKSkge1xuICAgIGxldmVsID0gbGV2ZWwgfHwgZ29vZy5sb2cuTGV2ZWwuT0ZGO1xuICAgIHZhciBsb2dnZXJFbnRyeSA9IGdvb2cubG9nLkxvZ1JlZ2lzdHJ5Xy5nZXRJbnN0YW5jZSgpLmdldExvZ1JlZ2lzdHJ5RW50cnkobG9nZ2VyLmdldE5hbWUoKSk7XG4gICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbXNnICYmIChtc2cgPSBtc2coKSk7XG4gICAgdmFyIGxvZ1JlY29yZCA9IGdvb2cubG9nLkxvZ0J1ZmZlci5nZXRJbnN0YW5jZSgpLmFkZFJlY29yZChsZXZlbCwgbXNnLCBsb2dnZXIuZ2V0TmFtZSgpKTtcbiAgICBsb2dSZWNvcmQuc2V0RXhjZXB0aW9uKGV4Y2VwdGlvbik7XG4gICAgbG9nZ2VyRW50cnkucHVibGlzaChsb2dSZWNvcmQpO1xuICB9XG59O1xuZ29vZy5sb2cuZXJyb3IgPSBmdW5jdGlvbihsb2dnZXIsIG1zZywgZXhjZXB0aW9uKSB7XG4gIGdvb2cubG9nLkVOQUJMRUQgJiYgbG9nZ2VyICYmIGdvb2cubG9nLmxvZyhsb2dnZXIsIGdvb2cubG9nLkxldmVsLlNFVkVSRSwgbXNnLCBleGNlcHRpb24pO1xufTtcbmdvb2cubG9nLndhcm5pbmcgPSBmdW5jdGlvbihsb2dnZXIsIG1zZywgZXhjZXB0aW9uKSB7XG4gIGdvb2cubG9nLkVOQUJMRUQgJiYgbG9nZ2VyICYmIGdvb2cubG9nLmxvZyhsb2dnZXIsIGdvb2cubG9nLkxldmVsLldBUk5JTkcsIG1zZywgZXhjZXB0aW9uKTtcbn07XG5nb29nLmxvZy5pbmZvID0gZnVuY3Rpb24obG9nZ2VyLCBtc2csIGV4Y2VwdGlvbikge1xuICBnb29nLmxvZy5FTkFCTEVEICYmIGxvZ2dlciAmJiBnb29nLmxvZy5sb2cobG9nZ2VyLCBnb29nLmxvZy5MZXZlbC5JTkZPLCBtc2csIGV4Y2VwdGlvbik7XG59O1xuZ29vZy5sb2cuZmluZSA9IGZ1bmN0aW9uKGxvZ2dlciwgbXNnLCBleGNlcHRpb24pIHtcbiAgZ29vZy5sb2cuRU5BQkxFRCAmJiBsb2dnZXIgJiYgZ29vZy5sb2cubG9nKGxvZ2dlciwgZ29vZy5sb2cuTGV2ZWwuRklORSwgbXNnLCBleGNlcHRpb24pO1xufTtcbmdvb2cubmV0LkVycm9yQ29kZSA9IHtOT19FUlJPUjowLCBBQ0NFU1NfREVOSUVEOjEsIEZJTEVfTk9UX0ZPVU5EOjIsIEZGX1NJTEVOVF9FUlJPUjozLCBDVVNUT01fRVJST1I6NCwgRVhDRVBUSU9OOjUsIEhUVFBfRVJST1I6NiwgQUJPUlQ6NywgVElNRU9VVDo4LCBPRkZMSU5FOjksfTtcbmdvb2cubmV0LkVycm9yQ29kZS5nZXREZWJ1Z01lc3NhZ2UgPSBmdW5jdGlvbihlcnJvckNvZGUpIHtcbiAgc3dpdGNoKGVycm9yQ29kZSkge1xuICAgIGNhc2UgZ29vZy5uZXQuRXJyb3JDb2RlLk5PX0VSUk9SOlxuICAgICAgcmV0dXJuIFwiTm8gRXJyb3JcIjtcbiAgICBjYXNlIGdvb2cubmV0LkVycm9yQ29kZS5BQ0NFU1NfREVOSUVEOlxuICAgICAgcmV0dXJuIFwiQWNjZXNzIGRlbmllZCB0byBjb250ZW50IGRvY3VtZW50XCI7XG4gICAgY2FzZSBnb29nLm5ldC5FcnJvckNvZGUuRklMRV9OT1RfRk9VTkQ6XG4gICAgICByZXR1cm4gXCJGaWxlIG5vdCBmb3VuZFwiO1xuICAgIGNhc2UgZ29vZy5uZXQuRXJyb3JDb2RlLkZGX1NJTEVOVF9FUlJPUjpcbiAgICAgIHJldHVybiBcIkZpcmVmb3ggc2lsZW50bHkgZXJyb3JlZFwiO1xuICAgIGNhc2UgZ29vZy5uZXQuRXJyb3JDb2RlLkNVU1RPTV9FUlJPUjpcbiAgICAgIHJldHVybiBcIkFwcGxpY2F0aW9uIGN1c3RvbSBlcnJvclwiO1xuICAgIGNhc2UgZ29vZy5uZXQuRXJyb3JDb2RlLkVYQ0VQVElPTjpcbiAgICAgIHJldHVybiBcIkFuIGV4Y2VwdGlvbiBvY2N1cnJlZFwiO1xuICAgIGNhc2UgZ29vZy5uZXQuRXJyb3JDb2RlLkhUVFBfRVJST1I6XG4gICAgICByZXR1cm4gXCJIdHRwIHJlc3BvbnNlIGF0IDQwMCBvciA1MDAgbGV2ZWxcIjtcbiAgICBjYXNlIGdvb2cubmV0LkVycm9yQ29kZS5BQk9SVDpcbiAgICAgIHJldHVybiBcIlJlcXVlc3Qgd2FzIGFib3J0ZWRcIjtcbiAgICBjYXNlIGdvb2cubmV0LkVycm9yQ29kZS5USU1FT1VUOlxuICAgICAgcmV0dXJuIFwiUmVxdWVzdCB0aW1lZCBvdXRcIjtcbiAgICBjYXNlIGdvb2cubmV0LkVycm9yQ29kZS5PRkZMSU5FOlxuICAgICAgcmV0dXJuIFwiVGhlIHJlc291cmNlIGlzIG5vdCBhdmFpbGFibGUgb2ZmbGluZVwiO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gXCJVbnJlY29nbml6ZWQgZXJyb3IgY29kZVwiO1xuICB9XG59O1xuZ29vZy5uZXQuRXZlbnRUeXBlID0ge0NPTVBMRVRFOlwiY29tcGxldGVcIiwgU1VDQ0VTUzpcInN1Y2Nlc3NcIiwgRVJST1I6XCJlcnJvclwiLCBBQk9SVDpcImFib3J0XCIsIFJFQURZOlwicmVhZHlcIiwgUkVBRFlfU1RBVEVfQ0hBTkdFOlwicmVhZHlzdGF0ZWNoYW5nZVwiLCBUSU1FT1VUOlwidGltZW91dFwiLCBJTkNSRU1FTlRBTF9EQVRBOlwiaW5jcmVtZW50YWxkYXRhXCIsIFBST0dSRVNTOlwicHJvZ3Jlc3NcIiwgRE9XTkxPQURfUFJPR1JFU1M6XCJkb3dubG9hZHByb2dyZXNzXCIsIFVQTE9BRF9QUk9HUkVTUzpcInVwbG9hZHByb2dyZXNzXCIsfTtcbmdvb2cubmV0Lkh0dHBTdGF0dXMgPSB7Q09OVElOVUU6MTAwLCBTV0lUQ0hJTkdfUFJPVE9DT0xTOjEwMSwgT0s6MjAwLCBDUkVBVEVEOjIwMSwgQUNDRVBURUQ6MjAyLCBOT05fQVVUSE9SSVRBVElWRV9JTkZPUk1BVElPTjoyMDMsIE5PX0NPTlRFTlQ6MjA0LCBSRVNFVF9DT05URU5UOjIwNSwgUEFSVElBTF9DT05URU5UOjIwNiwgTVVMVElfU1RBVFVTOjIwNywgTVVMVElQTEVfQ0hPSUNFUzozMDAsIE1PVkVEX1BFUk1BTkVOVExZOjMwMSwgRk9VTkQ6MzAyLCBTRUVfT1RIRVI6MzAzLCBOT1RfTU9ESUZJRUQ6MzA0LCBVU0VfUFJPWFk6MzA1LCBURU1QT1JBUllfUkVESVJFQ1Q6MzA3LCBQRVJNQU5FTlRfUkVESVJFQ1Q6MzA4LCBCQURfUkVRVUVTVDo0MDAsIFVOQVVUSE9SSVpFRDo0MDEsIFBBWU1FTlRfUkVRVUlSRUQ6NDAyLCBGT1JCSURERU46NDAzLCBOT1RfRk9VTkQ6NDA0LCBNRVRIT0RfTk9UX0FMTE9XRUQ6NDA1LCBOT1RfQUNDRVBUQUJMRTo0MDYsIFBST1hZX0FVVEhFTlRJQ0FUSU9OX1JFUVVJUkVEOjQwNywgXG5SRVFVRVNUX1RJTUVPVVQ6NDA4LCBDT05GTElDVDo0MDksIEdPTkU6NDEwLCBMRU5HVEhfUkVRVUlSRUQ6NDExLCBQUkVDT05ESVRJT05fRkFJTEVEOjQxMiwgUkVRVUVTVF9FTlRJVFlfVE9PX0xBUkdFOjQxMywgUkVRVUVTVF9VUklfVE9PX0xPTkc6NDE0LCBVTlNVUFBPUlRFRF9NRURJQV9UWVBFOjQxNSwgUkVRVUVTVF9SQU5HRV9OT1RfU0FUSVNGSUFCTEU6NDE2LCBFWFBFQ1RBVElPTl9GQUlMRUQ6NDE3LCBVTlBST0NFU1NBQkxFX0VOVElUWTo0MjIsIExPQ0tFRDo0MjMsIEZBSUxFRF9ERVBFTkRFTkNZOjQyNCwgUFJFQ09ORElUSU9OX1JFUVVJUkVEOjQyOCwgVE9PX01BTllfUkVRVUVTVFM6NDI5LCBSRVFVRVNUX0hFQURFUl9GSUVMRFNfVE9PX0xBUkdFOjQzMSwgQ0xJRU5UX0NMT1NFRF9SRVFVRVNUOjQ5OSwgSU5URVJOQUxfU0VSVkVSX0VSUk9SOjUwMCwgTk9UX0lNUExFTUVOVEVEOjUwMSwgQkFEX0dBVEVXQVk6NTAyLCBTRVJWSUNFX1VOQVZBSUxBQkxFOjUwMywgR0FURVdBWV9USU1FT1VUOjUwNCwgXG5IVFRQX1ZFUlNJT05fTk9UX1NVUFBPUlRFRDo1MDUsIElOU1VGRklDSUVOVF9TVE9SQUdFOjUwNywgTkVUV09SS19BVVRIRU5USUNBVElPTl9SRVFVSVJFRDo1MTEsIFFVSVJLX0lFX05PX0NPTlRFTlQ6MTIyMyx9O1xuZ29vZy5uZXQuSHR0cFN0YXR1cy5pc1N1Y2Nlc3MgPSBmdW5jdGlvbihzdGF0dXMpIHtcbiAgc3dpdGNoKHN0YXR1cykge1xuICAgIGNhc2UgZ29vZy5uZXQuSHR0cFN0YXR1cy5PSzpcbiAgICBjYXNlIGdvb2cubmV0Lkh0dHBTdGF0dXMuQ1JFQVRFRDpcbiAgICBjYXNlIGdvb2cubmV0Lkh0dHBTdGF0dXMuQUNDRVBURUQ6XG4gICAgY2FzZSBnb29nLm5ldC5IdHRwU3RhdHVzLk5PX0NPTlRFTlQ6XG4gICAgY2FzZSBnb29nLm5ldC5IdHRwU3RhdHVzLlBBUlRJQUxfQ09OVEVOVDpcbiAgICBjYXNlIGdvb2cubmV0Lkh0dHBTdGF0dXMuTk9UX01PRElGSUVEOlxuICAgIGNhc2UgZ29vZy5uZXQuSHR0cFN0YXR1cy5RVUlSS19JRV9OT19DT05URU5UOlxuICAgICAgcmV0dXJuICEwO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gITE7XG4gIH1cbn07XG5nb29nLm5ldC5YaHJMaWtlID0gZnVuY3Rpb24oKSB7XG59O1xuZ29vZy5uZXQuWGhyTGlrZS5wcm90b3R5cGUub3BlbiA9IGZ1bmN0aW9uKG1ldGhvZCwgdXJsLCBvcHRfYXN5bmMsIG9wdF91c2VyLCBvcHRfcGFzc3dvcmQpIHtcbn07XG5nb29nLm5ldC5YaHJMaWtlLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24ob3B0X2RhdGEpIHtcbn07XG5nb29nLm5ldC5YaHJMaWtlLnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uKCkge1xufTtcbmdvb2cubmV0Llhockxpa2UucHJvdG90eXBlLnNldFJlcXVlc3RIZWFkZXIgPSBmdW5jdGlvbihoZWFkZXIsIHZhbHVlKSB7XG59O1xuZ29vZy5uZXQuWGhyTGlrZS5wcm90b3R5cGUuZ2V0UmVzcG9uc2VIZWFkZXIgPSBmdW5jdGlvbihoZWFkZXIpIHtcbn07XG5nb29nLm5ldC5YaHJMaWtlLnByb3RvdHlwZS5nZXRBbGxSZXNwb25zZUhlYWRlcnMgPSBmdW5jdGlvbigpIHtcbn07XG5nb29nLm5ldC5YaHJMaWtlLnByb3RvdHlwZS5zZXRUcnVzdFRva2VuID0gZnVuY3Rpb24odHJ1c3RUb2tlbkF0dHJpYnV0ZSkge1xufTtcbmdvb2cubmV0LlhtbEh0dHBGYWN0b3J5ID0gZnVuY3Rpb24oKSB7XG59O1xuZ29vZy5uZXQuWG1sSHR0cEZhY3RvcnkucHJvdG90eXBlLmNhY2hlZE9wdGlvbnNfID0gbnVsbDtcbmdvb2cubmV0LlhtbEh0dHBGYWN0b3J5LnByb3RvdHlwZS5nZXRPcHRpb25zID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmNhY2hlZE9wdGlvbnNfIHx8ICh0aGlzLmNhY2hlZE9wdGlvbnNfID0gdGhpcy5pbnRlcm5hbEdldE9wdGlvbnMoKSk7XG59O1xuZ29vZy5uZXQuV3JhcHBlclhtbEh0dHBGYWN0b3J5ID0gZnVuY3Rpb24oeGhyRmFjdG9yeSwgb3B0aW9uc0ZhY3RvcnkpIHtcbiAgdGhpcy54aHJGYWN0b3J5XyA9IHhockZhY3Rvcnk7XG4gIHRoaXMub3B0aW9uc0ZhY3RvcnlfID0gb3B0aW9uc0ZhY3Rvcnk7XG59O1xuZ29vZy5pbmhlcml0cyhnb29nLm5ldC5XcmFwcGVyWG1sSHR0cEZhY3RvcnksIGdvb2cubmV0LlhtbEh0dHBGYWN0b3J5KTtcbmdvb2cubmV0LldyYXBwZXJYbWxIdHRwRmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlSW5zdGFuY2UgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMueGhyRmFjdG9yeV8oKTtcbn07XG5nb29nLm5ldC5XcmFwcGVyWG1sSHR0cEZhY3RvcnkucHJvdG90eXBlLmdldE9wdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMub3B0aW9uc0ZhY3RvcnlfKCk7XG59O1xuZ29vZy5uZXQuWG1sSHR0cCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5uZXQuWG1sSHR0cC5mYWN0b3J5Xy5jcmVhdGVJbnN0YW5jZSgpO1xufTtcbmdvb2cubmV0LlhtbEh0dHAuQVNTVU1FX05BVElWRV9YSFIgPSAhMTtcbmdvb2cubmV0LlhtbEh0dHBEZWZpbmVzID0ge307XG5nb29nLm5ldC5YbWxIdHRwRGVmaW5lcy5BU1NVTUVfTkFUSVZFX1hIUiA9ICExO1xuZ29vZy5uZXQuWG1sSHR0cC5nZXRPcHRpb25zID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBnb29nLm5ldC5YbWxIdHRwLmZhY3RvcnlfLmdldE9wdGlvbnMoKTtcbn07XG5nb29nLm5ldC5YbWxIdHRwLk9wdGlvblR5cGUgPSB7VVNFX05VTExfRlVOQ1RJT046MCwgTE9DQUxfUkVRVUVTVF9FUlJPUjoxLH07XG5nb29nLm5ldC5YbWxIdHRwLlJlYWR5U3RhdGUgPSB7VU5JTklUSUFMSVpFRDowLCBMT0FESU5HOjEsIExPQURFRDoyLCBJTlRFUkFDVElWRTozLCBDT01QTEVURTo0LH07XG5nb29nLm5ldC5YbWxIdHRwLnNldEZhY3RvcnkgPSBmdW5jdGlvbihmYWN0b3J5LCBvcHRpb25zRmFjdG9yeSkge1xuICBnb29nLm5ldC5YbWxIdHRwLnNldEdsb2JhbEZhY3RvcnkobmV3IGdvb2cubmV0LldyYXBwZXJYbWxIdHRwRmFjdG9yeShnb29nLmFzc2VydHMuYXNzZXJ0KGZhY3RvcnkpLCBnb29nLmFzc2VydHMuYXNzZXJ0KG9wdGlvbnNGYWN0b3J5KSkpO1xufTtcbmdvb2cubmV0LlhtbEh0dHAuc2V0R2xvYmFsRmFjdG9yeSA9IGZ1bmN0aW9uKGZhY3RvcnkpIHtcbiAgZ29vZy5uZXQuWG1sSHR0cC5mYWN0b3J5XyA9IGZhY3Rvcnk7XG59O1xuZ29vZy5uZXQuRGVmYXVsdFhtbEh0dHBGYWN0b3J5ID0gZnVuY3Rpb24oKSB7XG59O1xuZ29vZy5pbmhlcml0cyhnb29nLm5ldC5EZWZhdWx0WG1sSHR0cEZhY3RvcnksIGdvb2cubmV0LlhtbEh0dHBGYWN0b3J5KTtcbmdvb2cubmV0LkRlZmF1bHRYbWxIdHRwRmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlSW5zdGFuY2UgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHByb2dJZCA9IHRoaXMuZ2V0UHJvZ0lkXygpO1xuICByZXR1cm4gcHJvZ0lkID8gbmV3IEFjdGl2ZVhPYmplY3QocHJvZ0lkKSA6IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xufTtcbmdvb2cubmV0LkRlZmF1bHRYbWxIdHRwRmFjdG9yeS5wcm90b3R5cGUuaW50ZXJuYWxHZXRPcHRpb25zID0gZnVuY3Rpb24oKSB7XG4gIHZhciBvcHRpb25zID0ge307XG4gIHRoaXMuZ2V0UHJvZ0lkXygpICYmIChvcHRpb25zW2dvb2cubmV0LlhtbEh0dHAuT3B0aW9uVHlwZS5VU0VfTlVMTF9GVU5DVElPTl0gPSAhMCwgb3B0aW9uc1tnb29nLm5ldC5YbWxIdHRwLk9wdGlvblR5cGUuTE9DQUxfUkVRVUVTVF9FUlJPUl0gPSAhMCk7XG4gIHJldHVybiBvcHRpb25zO1xufTtcbmdvb2cubmV0LkRlZmF1bHRYbWxIdHRwRmFjdG9yeS5wcm90b3R5cGUuZ2V0UHJvZ0lkXyA9IGZ1bmN0aW9uKCkge1xuICBpZiAoZ29vZy5uZXQuWG1sSHR0cC5BU1NVTUVfTkFUSVZFX1hIUiB8fCBnb29nLm5ldC5YbWxIdHRwRGVmaW5lcy5BU1NVTUVfTkFUSVZFX1hIUikge1xuICAgIHJldHVybiBcIlwiO1xuICB9XG4gIGlmICghdGhpcy5pZVByb2dJZF8gJiYgXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2YgWE1MSHR0cFJlcXVlc3QgJiYgXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgQWN0aXZlWE9iamVjdCkge1xuICAgIGZvciAodmFyIEFDVElWRV9YX0lERU5UUyA9IFtcIk1TWE1MMi5YTUxIVFRQLjYuMFwiLCBcIk1TWE1MMi5YTUxIVFRQLjMuMFwiLCBcIk1TWE1MMi5YTUxIVFRQXCIsIFwiTWljcm9zb2Z0LlhNTEhUVFBcIixdLCBpID0gMDsgaSA8IEFDVElWRV9YX0lERU5UUy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGNhbmRpZGF0ZSA9IEFDVElWRV9YX0lERU5UU1tpXTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBuZXcgQWN0aXZlWE9iamVjdChjYW5kaWRhdGUpLCB0aGlzLmllUHJvZ0lkXyA9IGNhbmRpZGF0ZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgRXJyb3IoXCJDb3VsZCBub3QgY3JlYXRlIEFjdGl2ZVhPYmplY3QuIEFjdGl2ZVggbWlnaHQgYmUgZGlzYWJsZWQsIG9yIE1TWE1MIG1pZ2h0IG5vdCBiZSBpbnN0YWxsZWRcIik7XG4gIH1cbiAgcmV0dXJuIHRoaXMuaWVQcm9nSWRfO1xufTtcbmdvb2cubmV0LlhtbEh0dHAuc2V0R2xvYmFsRmFjdG9yeShuZXcgZ29vZy5uZXQuRGVmYXVsdFhtbEh0dHBGYWN0b3J5KCkpO1xuZ29vZy5uZXQuWGhySW8gPSBmdW5jdGlvbihvcHRfeG1sSHR0cEZhY3RvcnkpIHtcbiAgZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQuY2FsbCh0aGlzKTtcbiAgdGhpcy5oZWFkZXJzID0gbmV3IE1hcCgpO1xuICB0aGlzLnhtbEh0dHBGYWN0b3J5XyA9IG9wdF94bWxIdHRwRmFjdG9yeSB8fCBudWxsO1xuICB0aGlzLmFjdGl2ZV8gPSAhMTtcbiAgdGhpcy54aHJPcHRpb25zXyA9IHRoaXMueGhyXyA9IG51bGw7XG4gIHRoaXMubGFzdE1ldGhvZF8gPSB0aGlzLmxhc3RVcmlfID0gXCJcIjtcbiAgdGhpcy5sYXN0RXJyb3JDb2RlXyA9IGdvb2cubmV0LkVycm9yQ29kZS5OT19FUlJPUjtcbiAgdGhpcy5sYXN0RXJyb3JfID0gXCJcIjtcbiAgdGhpcy5pbkFib3J0XyA9IHRoaXMuaW5PcGVuXyA9IHRoaXMuaW5TZW5kXyA9IHRoaXMuZXJyb3JEaXNwYXRjaGVkXyA9ICExO1xuICB0aGlzLnRpbWVvdXRJbnRlcnZhbF8gPSAwO1xuICB0aGlzLnRpbWVvdXRJZF8gPSBudWxsO1xuICB0aGlzLnJlc3BvbnNlVHlwZV8gPSBnb29nLm5ldC5YaHJJby5SZXNwb25zZVR5cGUuREVGQVVMVDtcbiAgdGhpcy51c2VYaHIyVGltZW91dF8gPSB0aGlzLnByb2dyZXNzRXZlbnRzRW5hYmxlZF8gPSB0aGlzLndpdGhDcmVkZW50aWFsc18gPSAhMTtcbiAgdGhpcy50cnVzdFRva2VuXyA9IG51bGw7XG59O1xuZ29vZy5pbmhlcml0cyhnb29nLm5ldC5YaHJJbywgZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQpO1xuZ29vZy5uZXQuWGhySW8uUmVzcG9uc2VUeXBlID0ge0RFRkFVTFQ6XCJcIiwgVEVYVDpcInRleHRcIiwgRE9DVU1FTlQ6XCJkb2N1bWVudFwiLCBCTE9COlwiYmxvYlwiLCBBUlJBWV9CVUZGRVI6XCJhcnJheWJ1ZmZlclwiLH07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUubG9nZ2VyXyA9IGdvb2cubG9nLmdldExvZ2dlcihcImdvb2cubmV0LlhocklvXCIpO1xuZ29vZy5uZXQuWGhySW8uQ09OVEVOVF9UWVBFX0hFQURFUiA9IFwiQ29udGVudC1UeXBlXCI7XG5nb29nLm5ldC5YaHJJby5DT05URU5UX1RSQU5TRkVSX0VOQ09ESU5HID0gXCJDb250ZW50LVRyYW5zZmVyLUVuY29kaW5nXCI7XG5nb29nLm5ldC5YaHJJby5IVFRQX1NDSEVNRV9QQVRURVJOID0gL15odHRwcz8kL2k7XG5nb29nLm5ldC5YaHJJby5NRVRIT0RTX1dJVEhfRk9STV9EQVRBID0gW1wiUE9TVFwiLCBcIlBVVFwiXTtcbmdvb2cubmV0LlhocklvLkZPUk1fQ09OVEVOVF9UWVBFID0gXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOFwiO1xuZ29vZy5uZXQuWGhySW8uWEhSMl9USU1FT1VUXyA9IFwidGltZW91dFwiO1xuZ29vZy5uZXQuWGhySW8uWEhSMl9PTl9USU1FT1VUXyA9IFwib250aW1lb3V0XCI7XG5nb29nLm5ldC5YaHJJby5zZW5kSW5zdGFuY2VzXyA9IFtdO1xuZ29vZy5uZXQuWGhySW8uc2VuZCA9IGZ1bmN0aW9uKHVybCwgb3B0X2NhbGxiYWNrLCBvcHRfbWV0aG9kLCBvcHRfY29udGVudCwgb3B0X2hlYWRlcnMsIG9wdF90aW1lb3V0SW50ZXJ2YWwsIG9wdF93aXRoQ3JlZGVudGlhbHMpIHtcbiAgdmFyIHggPSBuZXcgZ29vZy5uZXQuWGhySW8oKTtcbiAgZ29vZy5uZXQuWGhySW8uc2VuZEluc3RhbmNlc18ucHVzaCh4KTtcbiAgb3B0X2NhbGxiYWNrICYmIHgubGlzdGVuKGdvb2cubmV0LkV2ZW50VHlwZS5DT01QTEVURSwgb3B0X2NhbGxiYWNrKTtcbiAgeC5saXN0ZW5PbmNlKGdvb2cubmV0LkV2ZW50VHlwZS5SRUFEWSwgeC5jbGVhbnVwU2VuZF8pO1xuICBvcHRfdGltZW91dEludGVydmFsICYmIHguc2V0VGltZW91dEludGVydmFsKG9wdF90aW1lb3V0SW50ZXJ2YWwpO1xuICBvcHRfd2l0aENyZWRlbnRpYWxzICYmIHguc2V0V2l0aENyZWRlbnRpYWxzKG9wdF93aXRoQ3JlZGVudGlhbHMpO1xuICB4LnNlbmQodXJsLCBvcHRfbWV0aG9kLCBvcHRfY29udGVudCwgb3B0X2hlYWRlcnMpO1xuICByZXR1cm4geDtcbn07XG5nb29nLm5ldC5YaHJJby5jbGVhbnVwID0gZnVuY3Rpb24oKSB7XG4gIGZvciAodmFyIGluc3RhbmNlcyA9IGdvb2cubmV0LlhocklvLnNlbmRJbnN0YW5jZXNfOyBpbnN0YW5jZXMubGVuZ3RoOykge1xuICAgIGluc3RhbmNlcy5wb3AoKS5kaXNwb3NlKCk7XG4gIH1cbn07XG5nb29nLm5ldC5YaHJJby5wcm90ZWN0RW50cnlQb2ludHMgPSBmdW5jdGlvbihlcnJvckhhbmRsZXIpIHtcbiAgZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLm9uUmVhZHlTdGF0ZUNoYW5nZUVudHJ5UG9pbnRfID0gZXJyb3JIYW5kbGVyLnByb3RlY3RFbnRyeVBvaW50KGdvb2cubmV0LlhocklvLnByb3RvdHlwZS5vblJlYWR5U3RhdGVDaGFuZ2VFbnRyeVBvaW50Xyk7XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLmNsZWFudXBTZW5kXyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmRpc3Bvc2UoKTtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVtb3ZlKGdvb2cubmV0LlhocklvLnNlbmRJbnN0YW5jZXNfLCB0aGlzKTtcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuZ2V0VGltZW91dEludGVydmFsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnRpbWVvdXRJbnRlcnZhbF87XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLnNldFRpbWVvdXRJbnRlcnZhbCA9IGZ1bmN0aW9uKG1zKSB7XG4gIHRoaXMudGltZW91dEludGVydmFsXyA9IE1hdGgubWF4KDAsIG1zKTtcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuc2V0UmVzcG9uc2VUeXBlID0gZnVuY3Rpb24odHlwZSkge1xuICB0aGlzLnJlc3BvbnNlVHlwZV8gPSB0eXBlO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5nZXRSZXNwb25zZVR5cGUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucmVzcG9uc2VUeXBlXztcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuc2V0V2l0aENyZWRlbnRpYWxzID0gZnVuY3Rpb24od2l0aENyZWRlbnRpYWxzKSB7XG4gIHRoaXMud2l0aENyZWRlbnRpYWxzXyA9IHdpdGhDcmVkZW50aWFscztcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuZ2V0V2l0aENyZWRlbnRpYWxzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLndpdGhDcmVkZW50aWFsc187XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLnNldFByb2dyZXNzRXZlbnRzRW5hYmxlZCA9IGZ1bmN0aW9uKGVuYWJsZWQpIHtcbiAgdGhpcy5wcm9ncmVzc0V2ZW50c0VuYWJsZWRfID0gZW5hYmxlZDtcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuZ2V0UHJvZ3Jlc3NFdmVudHNFbmFibGVkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnByb2dyZXNzRXZlbnRzRW5hYmxlZF87XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLnNldFRydXN0VG9rZW4gPSBmdW5jdGlvbih0cnVzdFRva2VuKSB7XG4gIHRoaXMudHJ1c3RUb2tlbl8gPSB0cnVzdFRva2VuO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24odXJsLCBvcHRfbWV0aG9kLCBvcHRfY29udGVudCwgb3B0X2hlYWRlcnMpIHtcbiAgaWYgKHRoaXMueGhyXykge1xuICAgIHRocm93IEVycm9yKFwiW2dvb2cubmV0LlhocklvXSBPYmplY3QgaXMgYWN0aXZlIHdpdGggYW5vdGhlciByZXF1ZXN0PVwiICsgdGhpcy5sYXN0VXJpXyArIFwiOyBuZXdVcmk9XCIgKyB1cmwpO1xuICB9XG4gIHZhciBtZXRob2QgPSBvcHRfbWV0aG9kID8gb3B0X21ldGhvZC50b1VwcGVyQ2FzZSgpIDogXCJHRVRcIjtcbiAgdGhpcy5sYXN0VXJpXyA9IHVybDtcbiAgdGhpcy5sYXN0RXJyb3JfID0gXCJcIjtcbiAgdGhpcy5sYXN0RXJyb3JDb2RlXyA9IGdvb2cubmV0LkVycm9yQ29kZS5OT19FUlJPUjtcbiAgdGhpcy5sYXN0TWV0aG9kXyA9IG1ldGhvZDtcbiAgdGhpcy5lcnJvckRpc3BhdGNoZWRfID0gITE7XG4gIHRoaXMuYWN0aXZlXyA9ICEwO1xuICB0aGlzLnhocl8gPSB0aGlzLmNyZWF0ZVhocigpO1xuICB0aGlzLnhock9wdGlvbnNfID0gdGhpcy54bWxIdHRwRmFjdG9yeV8gPyB0aGlzLnhtbEh0dHBGYWN0b3J5Xy5nZXRPcHRpb25zKCkgOiBnb29nLm5ldC5YbWxIdHRwLmdldE9wdGlvbnMoKTtcbiAgdGhpcy54aHJfLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGdvb2cuYmluZCh0aGlzLm9uUmVhZHlTdGF0ZUNoYW5nZV8sIHRoaXMpO1xuICB0aGlzLmdldFByb2dyZXNzRXZlbnRzRW5hYmxlZCgpICYmIFwib25wcm9ncmVzc1wiIGluIHRoaXMueGhyXyAmJiAodGhpcy54aHJfLm9ucHJvZ3Jlc3MgPSBnb29nLmJpbmQoZnVuY3Rpb24oZSkge1xuICAgIHRoaXMub25Qcm9ncmVzc0hhbmRsZXJfKGUsICEwKTtcbiAgfSwgdGhpcyksIHRoaXMueGhyXy51cGxvYWQgJiYgKHRoaXMueGhyXy51cGxvYWQub25wcm9ncmVzcyA9IGdvb2cuYmluZCh0aGlzLm9uUHJvZ3Jlc3NIYW5kbGVyXywgdGhpcykpKTtcbiAgdHJ5IHtcbiAgICBnb29nLmxvZy5maW5lKHRoaXMubG9nZ2VyXywgdGhpcy5mb3JtYXRNc2dfKFwiT3BlbmluZyBYaHJcIikpLCB0aGlzLmluT3Blbl8gPSAhMCwgdGhpcy54aHJfLm9wZW4obWV0aG9kLCBTdHJpbmcodXJsKSwgITApLCB0aGlzLmluT3Blbl8gPSAhMTtcbiAgfSBjYXRjaCAoZXJyJDU3KSB7XG4gICAgZ29vZy5sb2cuZmluZSh0aGlzLmxvZ2dlcl8sIHRoaXMuZm9ybWF0TXNnXyhcIkVycm9yIG9wZW5pbmcgWGhyOiBcIiArIGVyciQ1Ny5tZXNzYWdlKSk7XG4gICAgdGhpcy5lcnJvcl8oZ29vZy5uZXQuRXJyb3JDb2RlLkVYQ0VQVElPTiwgZXJyJDU3KTtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGNvbnRlbnQgPSBvcHRfY29udGVudCB8fCBcIlwiLCBoZWFkZXJzID0gbmV3IE1hcCh0aGlzLmhlYWRlcnMpO1xuICBpZiAob3B0X2hlYWRlcnMpIHtcbiAgICBpZiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKG9wdF9oZWFkZXJzKSA9PT0gT2JqZWN0LnByb3RvdHlwZSkge1xuICAgICAgZm9yICh2YXIga2V5IGluIG9wdF9oZWFkZXJzKSB7XG4gICAgICAgIGhlYWRlcnMuc2V0KGtleSwgb3B0X2hlYWRlcnNba2V5XSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBvcHRfaGVhZGVycy5rZXlzICYmIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG9wdF9oZWFkZXJzLmdldCkge1xuICAgICAgICBmb3IgKHZhciAkanNjb21wJGl0ZXIkMTggPSAkanNjb21wLm1ha2VJdGVyYXRvcihvcHRfaGVhZGVycy5rZXlzKCkpLCAkanNjb21wJGtleSRrZXkgPSAkanNjb21wJGl0ZXIkMTgubmV4dCgpOyAhJGpzY29tcCRrZXkka2V5LmRvbmU7ICRqc2NvbXAka2V5JGtleSA9ICRqc2NvbXAkaXRlciQxOC5uZXh0KCkpIHtcbiAgICAgICAgICB2YXIga2V5JDU4ID0gJGpzY29tcCRrZXkka2V5LnZhbHVlO1xuICAgICAgICAgIGhlYWRlcnMuc2V0KGtleSQ1OCwgb3B0X2hlYWRlcnMuZ2V0KGtleSQ1OCkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcihcIlVua25vd24gaW5wdXQgdHlwZSBmb3Igb3B0X2hlYWRlcnM6IFwiICsgU3RyaW5nKG9wdF9oZWFkZXJzKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHZhciBjb250ZW50VHlwZUtleSA9IEFycmF5LmZyb20oaGVhZGVycy5rZXlzKCkpLmZpbmQoZnVuY3Rpb24oaGVhZGVyKSB7XG4gICAgcmV0dXJuIGdvb2cuc3RyaW5nLmNhc2VJbnNlbnNpdGl2ZUVxdWFscyhnb29nLm5ldC5YaHJJby5DT05URU5UX1RZUEVfSEVBREVSLCBoZWFkZXIpO1xuICB9KSwgY29udGVudElzRm9ybURhdGEgPSBnb29nLmdsb2JhbC5Gb3JtRGF0YSAmJiBjb250ZW50IGluc3RhbmNlb2YgZ29vZy5nbG9iYWwuRm9ybURhdGE7XG4gICFtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb250YWlucyhnb29nLm5ldC5YaHJJby5NRVRIT0RTX1dJVEhfRk9STV9EQVRBLCBtZXRob2QpIHx8IGNvbnRlbnRUeXBlS2V5IHx8IGNvbnRlbnRJc0Zvcm1EYXRhIHx8IGhlYWRlcnMuc2V0KGdvb2cubmV0LlhocklvLkNPTlRFTlRfVFlQRV9IRUFERVIsIGdvb2cubmV0LlhocklvLkZPUk1fQ09OVEVOVF9UWVBFKTtcbiAgZm9yICh2YXIgJGpzY29tcCRpdGVyJDE5ID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoaGVhZGVycyksICRqc2NvbXAka2V5JCA9ICRqc2NvbXAkaXRlciQxOS5uZXh0KCk7ICEkanNjb21wJGtleSQuZG9uZTsgJGpzY29tcCRrZXkkID0gJGpzY29tcCRpdGVyJDE5Lm5leHQoKSkge1xuICAgIHZhciAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMTkgPSAkanNjb21wLm1ha2VJdGVyYXRvcigkanNjb21wJGtleSQudmFsdWUpLCBrZXkkNTkgPSAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMTkubmV4dCgpLnZhbHVlLCB2YWx1ZSA9ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIxOS5uZXh0KCkudmFsdWU7XG4gICAgdGhpcy54aHJfLnNldFJlcXVlc3RIZWFkZXIoa2V5JDU5LCB2YWx1ZSk7XG4gIH1cbiAgdGhpcy5yZXNwb25zZVR5cGVfICYmICh0aGlzLnhocl8ucmVzcG9uc2VUeXBlID0gdGhpcy5yZXNwb25zZVR5cGVfKTtcbiAgXCJ3aXRoQ3JlZGVudGlhbHNcIiBpbiB0aGlzLnhocl8gJiYgdGhpcy54aHJfLndpdGhDcmVkZW50aWFscyAhPT0gdGhpcy53aXRoQ3JlZGVudGlhbHNfICYmICh0aGlzLnhocl8ud2l0aENyZWRlbnRpYWxzID0gdGhpcy53aXRoQ3JlZGVudGlhbHNfKTtcbiAgaWYgKFwic2V0VHJ1c3RUb2tlblwiIGluIHRoaXMueGhyXyAmJiB0aGlzLnRydXN0VG9rZW5fKSB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMueGhyXy5zZXRUcnVzdFRva2VuKHRoaXMudHJ1c3RUb2tlbl8pO1xuICAgIH0gY2F0Y2ggKGVyciQ2MCkge1xuICAgICAgZ29vZy5sb2cuZmluZSh0aGlzLmxvZ2dlcl8sIHRoaXMuZm9ybWF0TXNnXyhcIkVycm9yIFNldFRydXN0VG9rZW46IFwiICsgZXJyJDYwLm1lc3NhZ2UpKTtcbiAgICB9XG4gIH1cbiAgdHJ5IHtcbiAgICB0aGlzLmNsZWFuVXBUaW1lb3V0VGltZXJfKCksIDAgPCB0aGlzLnRpbWVvdXRJbnRlcnZhbF8gJiYgKHRoaXMudXNlWGhyMlRpbWVvdXRfID0gZ29vZy5uZXQuWGhySW8uc2hvdWxkVXNlWGhyMlRpbWVvdXRfKHRoaXMueGhyXyksIGdvb2cubG9nLmZpbmUodGhpcy5sb2dnZXJfLCB0aGlzLmZvcm1hdE1zZ18oXCJXaWxsIGFib3J0IGFmdGVyIFwiICsgdGhpcy50aW1lb3V0SW50ZXJ2YWxfICsgXCJtcyBpZiBpbmNvbXBsZXRlLCB4aHIyIFwiICsgdGhpcy51c2VYaHIyVGltZW91dF8pKSwgdGhpcy51c2VYaHIyVGltZW91dF8gPyAodGhpcy54aHJfW2dvb2cubmV0LlhocklvLlhIUjJfVElNRU9VVF9dID0gdGhpcy50aW1lb3V0SW50ZXJ2YWxfLCB0aGlzLnhocl9bZ29vZy5uZXQuWGhySW8uWEhSMl9PTl9USU1FT1VUX10gPSBnb29nLmJpbmQodGhpcy50aW1lb3V0XywgdGhpcykpIDogdGhpcy50aW1lb3V0SWRfID0gZ29vZy5UaW1lci5jYWxsT25jZSh0aGlzLnRpbWVvdXRfLCB0aGlzLnRpbWVvdXRJbnRlcnZhbF8sIFxuICAgIHRoaXMpKSwgZ29vZy5sb2cuZmluZSh0aGlzLmxvZ2dlcl8sIHRoaXMuZm9ybWF0TXNnXyhcIlNlbmRpbmcgcmVxdWVzdFwiKSksIHRoaXMuaW5TZW5kXyA9ICEwLCB0aGlzLnhocl8uc2VuZChjb250ZW50KSwgdGhpcy5pblNlbmRfID0gITE7XG4gIH0gY2F0Y2ggKGVyciQ2MSkge1xuICAgIGdvb2cubG9nLmZpbmUodGhpcy5sb2dnZXJfLCB0aGlzLmZvcm1hdE1zZ18oXCJTZW5kIGVycm9yOiBcIiArIGVyciQ2MS5tZXNzYWdlKSksIHRoaXMuZXJyb3JfKGdvb2cubmV0LkVycm9yQ29kZS5FWENFUFRJT04sIGVyciQ2MSk7XG4gIH1cbn07XG5nb29nLm5ldC5YaHJJby5zaG91bGRVc2VYaHIyVGltZW91dF8gPSBmdW5jdGlvbih4aHIpIHtcbiAgcmV0dXJuIGdvb2cudXNlckFnZW50LklFICYmIGdvb2cudXNlckFnZW50LmlzVmVyc2lvbk9ySGlnaGVyKDkpICYmIFwibnVtYmVyXCIgPT09IHR5cGVvZiB4aHJbZ29vZy5uZXQuWGhySW8uWEhSMl9USU1FT1VUX10gJiYgdm9pZCAwICE9PSB4aHJbZ29vZy5uZXQuWGhySW8uWEhSMl9PTl9USU1FT1VUX107XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLmNyZWF0ZVhociA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy54bWxIdHRwRmFjdG9yeV8gPyB0aGlzLnhtbEh0dHBGYWN0b3J5Xy5jcmVhdGVJbnN0YW5jZSgpIDogZ29vZy5uZXQuWG1sSHR0cCgpO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS50aW1lb3V0XyA9IGZ1bmN0aW9uKCkge1xuICBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBnb29nICYmIHRoaXMueGhyXyAmJiAodGhpcy5sYXN0RXJyb3JfID0gXCJUaW1lZCBvdXQgYWZ0ZXIgXCIgKyB0aGlzLnRpbWVvdXRJbnRlcnZhbF8gKyBcIm1zLCBhYm9ydGluZ1wiLCB0aGlzLmxhc3RFcnJvckNvZGVfID0gZ29vZy5uZXQuRXJyb3JDb2RlLlRJTUVPVVQsIGdvb2cubG9nLmZpbmUodGhpcy5sb2dnZXJfLCB0aGlzLmZvcm1hdE1zZ18odGhpcy5sYXN0RXJyb3JfKSksIHRoaXMuZGlzcGF0Y2hFdmVudChnb29nLm5ldC5FdmVudFR5cGUuVElNRU9VVCksIHRoaXMuYWJvcnQoZ29vZy5uZXQuRXJyb3JDb2RlLlRJTUVPVVQpKTtcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuZXJyb3JfID0gZnVuY3Rpb24oZXJyb3JDb2RlLCBlcnIpIHtcbiAgdGhpcy5hY3RpdmVfID0gITE7XG4gIHRoaXMueGhyXyAmJiAodGhpcy5pbkFib3J0XyA9ICEwLCB0aGlzLnhocl8uYWJvcnQoKSwgdGhpcy5pbkFib3J0XyA9ICExKTtcbiAgdGhpcy5sYXN0RXJyb3JfID0gZXJyO1xuICB0aGlzLmxhc3RFcnJvckNvZGVfID0gZXJyb3JDb2RlO1xuICB0aGlzLmRpc3BhdGNoRXJyb3JzXygpO1xuICB0aGlzLmNsZWFuVXBYaHJfKCk7XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLmRpc3BhdGNoRXJyb3JzXyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmVycm9yRGlzcGF0Y2hlZF8gfHwgKHRoaXMuZXJyb3JEaXNwYXRjaGVkXyA9ICEwLCB0aGlzLmRpc3BhdGNoRXZlbnQoZ29vZy5uZXQuRXZlbnRUeXBlLkNPTVBMRVRFKSwgdGhpcy5kaXNwYXRjaEV2ZW50KGdvb2cubmV0LkV2ZW50VHlwZS5FUlJPUikpO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uKG9wdF9mYWlsdXJlQ29kZSkge1xuICB0aGlzLnhocl8gJiYgdGhpcy5hY3RpdmVfICYmIChnb29nLmxvZy5maW5lKHRoaXMubG9nZ2VyXywgdGhpcy5mb3JtYXRNc2dfKFwiQWJvcnRpbmdcIikpLCB0aGlzLmFjdGl2ZV8gPSAhMSwgdGhpcy5pbkFib3J0XyA9ICEwLCB0aGlzLnhocl8uYWJvcnQoKSwgdGhpcy5pbkFib3J0XyA9ICExLCB0aGlzLmxhc3RFcnJvckNvZGVfID0gb3B0X2ZhaWx1cmVDb2RlIHx8IGdvb2cubmV0LkVycm9yQ29kZS5BQk9SVCwgdGhpcy5kaXNwYXRjaEV2ZW50KGdvb2cubmV0LkV2ZW50VHlwZS5DT01QTEVURSksIHRoaXMuZGlzcGF0Y2hFdmVudChnb29nLm5ldC5FdmVudFR5cGUuQUJPUlQpLCB0aGlzLmNsZWFuVXBYaHJfKCkpO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy54aHJfICYmICh0aGlzLmFjdGl2ZV8gJiYgKHRoaXMuYWN0aXZlXyA9ICExLCB0aGlzLmluQWJvcnRfID0gITAsIHRoaXMueGhyXy5hYm9ydCgpLCB0aGlzLmluQWJvcnRfID0gITEpLCB0aGlzLmNsZWFuVXBYaHJfKCEwKSk7XG4gIGdvb2cubmV0LlhocklvLnN1cGVyQ2xhc3NfLmRpc3Bvc2VJbnRlcm5hbC5jYWxsKHRoaXMpO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5vblJlYWR5U3RhdGVDaGFuZ2VfID0gZnVuY3Rpb24oKSB7XG4gIGlmICghdGhpcy5pc0Rpc3Bvc2VkKCkpIHtcbiAgICBpZiAodGhpcy5pbk9wZW5fIHx8IHRoaXMuaW5TZW5kXyB8fCB0aGlzLmluQWJvcnRfKSB7XG4gICAgICB0aGlzLm9uUmVhZHlTdGF0ZUNoYW5nZUhlbHBlcl8oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vblJlYWR5U3RhdGVDaGFuZ2VFbnRyeVBvaW50XygpO1xuICAgIH1cbiAgfVxufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5vblJlYWR5U3RhdGVDaGFuZ2VFbnRyeVBvaW50XyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLm9uUmVhZHlTdGF0ZUNoYW5nZUhlbHBlcl8oKTtcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUub25SZWFkeVN0YXRlQ2hhbmdlSGVscGVyXyA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5hY3RpdmVfICYmIFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIGdvb2cpIHtcbiAgICBpZiAodGhpcy54aHJPcHRpb25zX1tnb29nLm5ldC5YbWxIdHRwLk9wdGlvblR5cGUuTE9DQUxfUkVRVUVTVF9FUlJPUl0gJiYgdGhpcy5nZXRSZWFkeVN0YXRlKCkgPT0gZ29vZy5uZXQuWG1sSHR0cC5SZWFkeVN0YXRlLkNPTVBMRVRFICYmIDIgPT0gdGhpcy5nZXRTdGF0dXMoKSkge1xuICAgICAgZ29vZy5sb2cuZmluZSh0aGlzLmxvZ2dlcl8sIHRoaXMuZm9ybWF0TXNnXyhcIkxvY2FsIHJlcXVlc3QgZXJyb3IgZGV0ZWN0ZWQgYW5kIGlnbm9yZWRcIikpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5pblNlbmRfICYmIHRoaXMuZ2V0UmVhZHlTdGF0ZSgpID09IGdvb2cubmV0LlhtbEh0dHAuUmVhZHlTdGF0ZS5DT01QTEVURSkge1xuICAgICAgICBnb29nLlRpbWVyLmNhbGxPbmNlKHRoaXMub25SZWFkeVN0YXRlQ2hhbmdlXywgMCwgdGhpcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5kaXNwYXRjaEV2ZW50KGdvb2cubmV0LkV2ZW50VHlwZS5SRUFEWV9TVEFURV9DSEFOR0UpLCB0aGlzLmlzQ29tcGxldGUoKSkge1xuICAgICAgICAgIGdvb2cubG9nLmZpbmUodGhpcy5sb2dnZXJfLCB0aGlzLmZvcm1hdE1zZ18oXCJSZXF1ZXN0IGNvbXBsZXRlXCIpKTtcbiAgICAgICAgICB0aGlzLmFjdGl2ZV8gPSAhMTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5pc1N1Y2Nlc3MoKSA/ICh0aGlzLmRpc3BhdGNoRXZlbnQoZ29vZy5uZXQuRXZlbnRUeXBlLkNPTVBMRVRFKSwgdGhpcy5kaXNwYXRjaEV2ZW50KGdvb2cubmV0LkV2ZW50VHlwZS5TVUNDRVNTKSkgOiAodGhpcy5sYXN0RXJyb3JDb2RlXyA9IGdvb2cubmV0LkVycm9yQ29kZS5IVFRQX0VSUk9SLCB0aGlzLmxhc3RFcnJvcl8gPSB0aGlzLmdldFN0YXR1c1RleHQoKSArIFwiIFtcIiArIHRoaXMuZ2V0U3RhdHVzKCkgKyBcIl1cIiwgdGhpcy5kaXNwYXRjaEVycm9yc18oKSk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuY2xlYW5VcFhocl8oKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUub25Qcm9ncmVzc0hhbmRsZXJfID0gZnVuY3Rpb24oZSwgb3B0X2lzRG93bmxvYWQpIHtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydChlLnR5cGUgPT09IGdvb2cubmV0LkV2ZW50VHlwZS5QUk9HUkVTUywgXCJnb29nLm5ldC5FdmVudFR5cGUuUFJPR1JFU1MgaXMgb2YgdGhlIHNhbWUgdHlwZSBhcyByYXcgWEhSIHByb2dyZXNzLlwiKTtcbiAgdGhpcy5kaXNwYXRjaEV2ZW50KGdvb2cubmV0LlhocklvLmJ1aWxkUHJvZ3Jlc3NFdmVudF8oZSwgZ29vZy5uZXQuRXZlbnRUeXBlLlBST0dSRVNTKSk7XG4gIHRoaXMuZGlzcGF0Y2hFdmVudChnb29nLm5ldC5YaHJJby5idWlsZFByb2dyZXNzRXZlbnRfKGUsIG9wdF9pc0Rvd25sb2FkID8gZ29vZy5uZXQuRXZlbnRUeXBlLkRPV05MT0FEX1BST0dSRVNTIDogZ29vZy5uZXQuRXZlbnRUeXBlLlVQTE9BRF9QUk9HUkVTUykpO1xufTtcbmdvb2cubmV0LlhocklvLmJ1aWxkUHJvZ3Jlc3NFdmVudF8gPSBmdW5jdGlvbihlLCBldmVudFR5cGUpIHtcbiAgcmV0dXJuIHt0eXBlOmV2ZW50VHlwZSwgbGVuZ3RoQ29tcHV0YWJsZTplLmxlbmd0aENvbXB1dGFibGUsIGxvYWRlZDplLmxvYWRlZCwgdG90YWw6ZS50b3RhbCx9O1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5jbGVhblVwWGhyXyA9IGZ1bmN0aW9uKG9wdF9mcm9tRGlzcG9zZSkge1xuICBpZiAodGhpcy54aHJfKSB7XG4gICAgdGhpcy5jbGVhblVwVGltZW91dFRpbWVyXygpO1xuICAgIHZhciB4aHIgPSB0aGlzLnhocl8sIGNsZWFyZWRPblJlYWR5U3RhdGVDaGFuZ2UgPSB0aGlzLnhock9wdGlvbnNfW2dvb2cubmV0LlhtbEh0dHAuT3B0aW9uVHlwZS5VU0VfTlVMTF9GVU5DVElPTl0gPyBnb29nLm51bGxGdW5jdGlvbiA6IG51bGw7XG4gICAgdGhpcy54aHJPcHRpb25zXyA9IHRoaXMueGhyXyA9IG51bGw7XG4gICAgb3B0X2Zyb21EaXNwb3NlIHx8IHRoaXMuZGlzcGF0Y2hFdmVudChnb29nLm5ldC5FdmVudFR5cGUuUkVBRFkpO1xuICAgIHRyeSB7XG4gICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gY2xlYXJlZE9uUmVhZHlTdGF0ZUNoYW5nZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBnb29nLmxvZy5lcnJvcih0aGlzLmxvZ2dlcl8sIFwiUHJvYmxlbSBlbmNvdW50ZXJlZCByZXNldHRpbmcgb25yZWFkeXN0YXRlY2hhbmdlOiBcIiArIGUubWVzc2FnZSk7XG4gICAgfVxuICB9XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLmNsZWFuVXBUaW1lb3V0VGltZXJfID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMueGhyXyAmJiB0aGlzLnVzZVhocjJUaW1lb3V0XyAmJiAodGhpcy54aHJfW2dvb2cubmV0LlhocklvLlhIUjJfT05fVElNRU9VVF9dID0gbnVsbCk7XG4gIHRoaXMudGltZW91dElkXyAmJiAoZ29vZy5UaW1lci5jbGVhcih0aGlzLnRpbWVvdXRJZF8pLCB0aGlzLnRpbWVvdXRJZF8gPSBudWxsKTtcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuaXNBY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICEhdGhpcy54aHJfO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5pc0NvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmdldFJlYWR5U3RhdGUoKSA9PSBnb29nLm5ldC5YbWxIdHRwLlJlYWR5U3RhdGUuQ09NUExFVEU7XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLmlzU3VjY2VzcyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgc3RhdHVzID0gdGhpcy5nZXRTdGF0dXMoKTtcbiAgcmV0dXJuIGdvb2cubmV0Lkh0dHBTdGF0dXMuaXNTdWNjZXNzKHN0YXR1cykgfHwgMCA9PT0gc3RhdHVzICYmICF0aGlzLmlzTGFzdFVyaUVmZmVjdGl2ZVNjaGVtZUh0dHBfKCk7XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLmlzTGFzdFVyaUVmZmVjdGl2ZVNjaGVtZUh0dHBfID0gZnVuY3Rpb24oKSB7XG4gIHZhciBzY2hlbWUgPSBnb29nLnVyaS51dGlscy5nZXRFZmZlY3RpdmVTY2hlbWUoU3RyaW5nKHRoaXMubGFzdFVyaV8pKTtcbiAgcmV0dXJuIGdvb2cubmV0LlhocklvLkhUVFBfU0NIRU1FX1BBVFRFUk4udGVzdChzY2hlbWUpO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5nZXRSZWFkeVN0YXRlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnhocl8gPyB0aGlzLnhocl8ucmVhZHlTdGF0ZSA6IGdvb2cubmV0LlhtbEh0dHAuUmVhZHlTdGF0ZS5VTklOSVRJQUxJWkVEO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5nZXRTdGF0dXMgPSBmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gdGhpcy5nZXRSZWFkeVN0YXRlKCkgPiBnb29nLm5ldC5YbWxIdHRwLlJlYWR5U3RhdGUuTE9BREVEID8gdGhpcy54aHJfLnN0YXR1cyA6IC0xO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLmdldFN0YXR1c1RleHQgPSBmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gdGhpcy5nZXRSZWFkeVN0YXRlKCkgPiBnb29nLm5ldC5YbWxIdHRwLlJlYWR5U3RhdGUuTE9BREVEID8gdGhpcy54aHJfLnN0YXR1c1RleHQgOiBcIlwiO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGdvb2cubG9nLmZpbmUodGhpcy5sb2dnZXJfLCBcIkNhbiBub3QgZ2V0IHN0YXR1czogXCIgKyBlLm1lc3NhZ2UpLCBcIlwiO1xuICB9XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLmdldExhc3RVcmkgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFN0cmluZyh0aGlzLmxhc3RVcmlfKTtcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuZ2V0UmVzcG9uc2VUZXh0ID0gZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHRoaXMueGhyXyA/IHRoaXMueGhyXy5yZXNwb25zZVRleHQgOiBcIlwiO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGdvb2cubG9nLmZpbmUodGhpcy5sb2dnZXJfLCBcIkNhbiBub3QgZ2V0IHJlc3BvbnNlVGV4dDogXCIgKyBlLm1lc3NhZ2UpLCBcIlwiO1xuICB9XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLmdldFJlc3BvbnNlQm9keSA9IGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIGlmICh0aGlzLnhocl8gJiYgXCJyZXNwb25zZUJvZHlcIiBpbiB0aGlzLnhocl8pIHtcbiAgICAgIHJldHVybiB0aGlzLnhocl8ucmVzcG9uc2VCb2R5O1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGdvb2cubG9nLmZpbmUodGhpcy5sb2dnZXJfLCBcIkNhbiBub3QgZ2V0IHJlc3BvbnNlQm9keTogXCIgKyBlLm1lc3NhZ2UpO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5nZXRSZXNwb25zZVhtbCA9IGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIHJldHVybiB0aGlzLnhocl8gPyB0aGlzLnhocl8ucmVzcG9uc2VYTUwgOiBudWxsO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGdvb2cubG9nLmZpbmUodGhpcy5sb2dnZXJfLCBcIkNhbiBub3QgZ2V0IHJlc3BvbnNlWE1MOiBcIiArIGUubWVzc2FnZSksIG51bGw7XG4gIH1cbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuZ2V0UmVzcG9uc2VKc29uID0gZnVuY3Rpb24ob3B0X3hzc2lQcmVmaXgpIHtcbiAgaWYgKHRoaXMueGhyXykge1xuICAgIHZhciByZXNwb25zZVRleHQgPSB0aGlzLnhocl8ucmVzcG9uc2VUZXh0O1xuICAgIG9wdF94c3NpUHJlZml4ICYmIDAgPT0gcmVzcG9uc2VUZXh0LmluZGV4T2Yob3B0X3hzc2lQcmVmaXgpICYmIChyZXNwb25zZVRleHQgPSByZXNwb25zZVRleHQuc3Vic3RyaW5nKG9wdF94c3NpUHJlZml4Lmxlbmd0aCkpO1xuICAgIHJldHVybiBnb29nLmpzb24uaHlicmlkLnBhcnNlKHJlc3BvbnNlVGV4dCk7XG4gIH1cbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuZ2V0UmVzcG9uc2UgPSBmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICBpZiAoIXRoaXMueGhyXykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChcInJlc3BvbnNlXCIgaW4gdGhpcy54aHJfKSB7XG4gICAgICByZXR1cm4gdGhpcy54aHJfLnJlc3BvbnNlO1xuICAgIH1cbiAgICBzd2l0Y2godGhpcy5yZXNwb25zZVR5cGVfKSB7XG4gICAgICBjYXNlIGdvb2cubmV0LlhocklvLlJlc3BvbnNlVHlwZS5ERUZBVUxUOlxuICAgICAgY2FzZSBnb29nLm5ldC5YaHJJby5SZXNwb25zZVR5cGUuVEVYVDpcbiAgICAgICAgcmV0dXJuIHRoaXMueGhyXy5yZXNwb25zZVRleHQ7XG4gICAgICBjYXNlIGdvb2cubmV0LlhocklvLlJlc3BvbnNlVHlwZS5BUlJBWV9CVUZGRVI6XG4gICAgICAgIGlmIChcIm1velJlc3BvbnNlQXJyYXlCdWZmZXJcIiBpbiB0aGlzLnhocl8pIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy54aHJfLm1velJlc3BvbnNlQXJyYXlCdWZmZXI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ29vZy5sb2cuZXJyb3IodGhpcy5sb2dnZXJfLCBcIlJlc3BvbnNlIHR5cGUgXCIgKyB0aGlzLnJlc3BvbnNlVHlwZV8gKyBcIiBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgYnJvd3NlclwiKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBnb29nLmxvZy5maW5lKHRoaXMubG9nZ2VyXywgXCJDYW4gbm90IGdldCByZXNwb25zZTogXCIgKyBlLm1lc3NhZ2UpLCBudWxsO1xuICB9XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLmdldFJlc3BvbnNlSGVhZGVyID0gZnVuY3Rpb24oa2V5KSB7XG4gIGlmICh0aGlzLnhocl8gJiYgdGhpcy5pc0NvbXBsZXRlKCkpIHtcbiAgICB2YXIgdmFsdWUgPSB0aGlzLnhocl8uZ2V0UmVzcG9uc2VIZWFkZXIoa2V5KTtcbiAgICByZXR1cm4gbnVsbCA9PT0gdmFsdWUgPyB2b2lkIDAgOiB2YWx1ZTtcbiAgfVxufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5nZXRBbGxSZXNwb25zZUhlYWRlcnMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMueGhyXyAmJiB0aGlzLmlzQ29tcGxldGUoKSA/IHRoaXMueGhyXy5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSB8fCBcIlwiIDogXCJcIjtcbn07XG5nb29nLm5ldC5YaHJJby5wcm90b3R5cGUuZ2V0UmVzcG9uc2VIZWFkZXJzID0gZnVuY3Rpb24oKSB7XG4gIGZvciAodmFyIGhlYWRlcnNPYmplY3QgPSB7fSwgaGVhZGVyc0FycmF5ID0gdGhpcy5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKS5zcGxpdChcIlxcclxcblwiKSwgaSA9IDA7IGkgPCBoZWFkZXJzQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIWdvb2cuc3RyaW5nLmlzRW1wdHlPcldoaXRlc3BhY2UoaGVhZGVyc0FycmF5W2ldKSkge1xuICAgICAgdmFyIGtleVZhbHVlID0gZ29vZy5zdHJpbmcuc3BsaXRMaW1pdChoZWFkZXJzQXJyYXlbaV0sIFwiOlwiLCAxKSwga2V5ID0ga2V5VmFsdWVbMF0sIHZhbHVlID0ga2V5VmFsdWVbMV07XG4gICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUudHJpbSgpO1xuICAgICAgICB2YXIgdmFsdWVzJGpzY29tcCQwID0gaGVhZGVyc09iamVjdFtrZXldIHx8IFtdO1xuICAgICAgICBoZWFkZXJzT2JqZWN0W2tleV0gPSB2YWx1ZXMkanNjb21wJDA7XG4gICAgICAgIHZhbHVlcyRqc2NvbXAkMC5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9tYXAoaGVhZGVyc09iamVjdCwgZnVuY3Rpb24odmFsdWVzKSB7XG4gICAgcmV0dXJuIHZhbHVlcy5qb2luKFwiLCBcIik7XG4gIH0pO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5nZXRTdHJlYW1pbmdSZXNwb25zZUhlYWRlciA9IGZ1bmN0aW9uKGtleSkge1xuICByZXR1cm4gdGhpcy54aHJfID8gdGhpcy54aHJfLmdldFJlc3BvbnNlSGVhZGVyKGtleSkgOiBudWxsO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5nZXRBbGxTdHJlYW1pbmdSZXNwb25zZUhlYWRlcnMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMueGhyXyA/IHRoaXMueGhyXy5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSA6IFwiXCI7XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLmdldExhc3RFcnJvckNvZGUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMubGFzdEVycm9yQ29kZV87XG59O1xuZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLmdldExhc3RFcnJvciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHRoaXMubGFzdEVycm9yXyA/IHRoaXMubGFzdEVycm9yXyA6IFN0cmluZyh0aGlzLmxhc3RFcnJvcl8pO1xufTtcbmdvb2cubmV0LlhocklvLnByb3RvdHlwZS5mb3JtYXRNc2dfID0gZnVuY3Rpb24obXNnKSB7XG4gIHJldHVybiBtc2cgKyBcIiBbXCIgKyB0aGlzLmxhc3RNZXRob2RfICsgXCIgXCIgKyB0aGlzLmxhc3RVcmlfICsgXCIgXCIgKyB0aGlzLmdldFN0YXR1cygpICsgXCJdXCI7XG59O1xuZ29vZy5kZWJ1Zy5lbnRyeVBvaW50UmVnaXN0cnkucmVnaXN0ZXIoZnVuY3Rpb24odHJhbnNmb3JtZXIpIHtcbiAgZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLm9uUmVhZHlTdGF0ZUNoYW5nZUVudHJ5UG9pbnRfID0gdHJhbnNmb3JtZXIoZ29vZy5uZXQuWGhySW8ucHJvdG90eXBlLm9uUmVhZHlTdGF0ZUNoYW5nZUVudHJ5UG9pbnRfKTtcbn0pO1xuZWUuYXBpY2xpZW50ID0ge307XG52YXIgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQgPSB7fTtcbmVlLmFwaWNsaWVudC5WRVJTSU9OID0gbW9kdWxlJGV4cG9ydHMkZWUkYXBpVmVyc2lvbi5WMUFMUEhBO1xuZWUuYXBpY2xpZW50LkFQSV9DTElFTlRfVkVSU0lPTiA9IFwiMC4xLjI4OVwiO1xuZWUuYXBpY2xpZW50Lk5VTExfVkFMVUUgPSBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0Lk5VTExfVkFMVUU7XG5lZS5hcGljbGllbnQuUHJvbWlzZVJlcXVlc3RTZXJ2aWNlID0gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9yZXF1ZXN0X3NlcnZpY2UuUHJvbWlzZVJlcXVlc3RTZXJ2aWNlO1xuZWUuYXBpY2xpZW50Lk1ha2VSZXF1ZXN0UGFyYW1zID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JHJlcXVlc3RfcGFyYW1zX01ha2VSZXF1ZXN0UGFyYW1zO1xuZWUuYXBpY2xpZW50LmRlc2VyaWFsaXplID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVzZXJpYWxpemU7XG5lZS5hcGljbGllbnQuc2VyaWFsaXplID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3Rfc2VyaWFsaXplO1xudmFyIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbCA9IGZ1bmN0aW9uKGNhbGxiYWNrLCByZXRyaWVzKSB7XG4gIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmluaXRpYWxpemUoKTtcbiAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICB0aGlzLnJlcXVlc3RTZXJ2aWNlID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfRUVSZXF1ZXN0U2VydmljZSghY2FsbGJhY2ssIHJldHJpZXMpO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbC5wcm90b3R5cGUuaGFuZGxlID0gZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgdmFyICRqc2NvbXAkdGhpcyA9IHRoaXM7XG4gIGlmIChyZXNwb25zZSBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICBpZiAodGhpcy5jYWxsYmFjaykge1xuICAgICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24ocmVzdWx0LCBlcnJvcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiAkanNjb21wJHRoaXMuY2FsbGJhY2socmVzdWx0LCBlcnJvcik7XG4gICAgICAgIH0gY2F0Y2ggKGNhbGxiYWNrRXJyb3IpIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhyb3cgY2FsbGJhY2tFcnJvcjtcbiAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHJlc3BvbnNlLnRoZW4oY2FsbGJhY2ssIGZ1bmN0aW9uKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayh2b2lkIDAsIGVycm9yKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXNwb25zZS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgcmVzcG9uc2UgPSByZXN1bHQ7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbC5wcm90b3R5cGUucHJvamVjdHNQYXRoID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBcInByb2plY3RzL1wiICsgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZ2V0UHJvamVjdCgpO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbC5wcm90b3R5cGUuYWxnb3JpdGhtcyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNBbGdvcml0aG1zQXBpQ2xpZW50SW1wbChtb2R1bGUkZXhwb3J0cyRlZSRhcGlWZXJzaW9uLlYxQUxQSEEsIHRoaXMucmVxdWVzdFNlcnZpY2UpO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbC5wcm90b3R5cGUucHJvamVjdHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQXBpQ2xpZW50SW1wbChtb2R1bGUkZXhwb3J0cyRlZSRhcGlWZXJzaW9uLlYxQUxQSEEsIHRoaXMucmVxdWVzdFNlcnZpY2UpO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbC5wcm90b3R5cGUuYXNzZXRzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0Fzc2V0c0FwaUNsaWVudEltcGwobW9kdWxlJGV4cG9ydHMkZWUkYXBpVmVyc2lvbi5WMUFMUEhBLCB0aGlzLnJlcXVlc3RTZXJ2aWNlKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwucHJvdG90eXBlLm9wZXJhdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzT3BlcmF0aW9uc0FwaUNsaWVudEltcGwobW9kdWxlJGV4cG9ydHMkZWUkYXBpVmVyc2lvbi5WMUFMUEhBLCB0aGlzLnJlcXVlc3RTZXJ2aWNlKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwucHJvdG90eXBlLnZhbHVlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c1ZhbHVlQXBpQ2xpZW50SW1wbChtb2R1bGUkZXhwb3J0cyRlZSRhcGlWZXJzaW9uLlYxQUxQSEEsIHRoaXMucmVxdWVzdFNlcnZpY2UpO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbC5wcm90b3R5cGUubWFwcyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNNYXBzQXBpQ2xpZW50SW1wbChtb2R1bGUkZXhwb3J0cyRlZSRhcGlWZXJzaW9uLlYxQUxQSEEsIHRoaXMucmVxdWVzdFNlcnZpY2UpO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbC5wcm90b3R5cGUubWFwID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c01hcEFwaUNsaWVudEltcGwobW9kdWxlJGV4cG9ydHMkZWUkYXBpVmVyc2lvbi5WMUFMUEhBLCB0aGlzLnJlcXVlc3RTZXJ2aWNlKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwucHJvdG90eXBlLmltYWdlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ltYWdlQXBpQ2xpZW50SW1wbChtb2R1bGUkZXhwb3J0cyRlZSRhcGlWZXJzaW9uLlYxQUxQSEEsIHRoaXMucmVxdWVzdFNlcnZpY2UpO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbC5wcm90b3R5cGUudGFibGUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGFibGVBcGlDbGllbnRJbXBsKG1vZHVsZSRleHBvcnRzJGVlJGFwaVZlcnNpb24uVjFBTFBIQSwgdGhpcy5yZXF1ZXN0U2VydmljZSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsLnByb3RvdHlwZS50YWJsZXMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGFibGVzQXBpQ2xpZW50SW1wbChtb2R1bGUkZXhwb3J0cyRlZSRhcGlWZXJzaW9uLlYxQUxQSEEsIHRoaXMucmVxdWVzdFNlcnZpY2UpO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbC5wcm90b3R5cGUudmlkZW8gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVmlkZW9BcGlDbGllbnRJbXBsKG1vZHVsZSRleHBvcnRzJGVlJGFwaVZlcnNpb24uVjFBTFBIQSwgdGhpcy5yZXF1ZXN0U2VydmljZSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsLnByb3RvdHlwZS52aWRlb01hcCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb01hcEFwaUNsaWVudEltcGwobW9kdWxlJGV4cG9ydHMkZWUkYXBpVmVyc2lvbi5WMUFMUEhBLCB0aGlzLnJlcXVlc3RTZXJ2aWNlKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwucHJvdG90eXBlLmNsYXNzaWZpZXIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzQ2xhc3NpZmllckFwaUNsaWVudEltcGwobW9kdWxlJGV4cG9ydHMkZWUkYXBpVmVyc2lvbi5WMUFMUEhBLCB0aGlzLnJlcXVlc3RTZXJ2aWNlKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwucHJvdG90eXBlLmRtc01hcHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzRG1zTWFwc0FwaUNsaWVudEltcGwobW9kdWxlJGV4cG9ydHMkZWUkYXBpVmVyc2lvbi5WMUFMUEhBLCB0aGlzLnJlcXVlc3RTZXJ2aWNlKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwucHJvdG90eXBlLnRodW1ibmFpbHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlByb2plY3RzVGh1bWJuYWlsc0FwaUNsaWVudEltcGwobW9kdWxlJGV4cG9ydHMkZWUkYXBpVmVyc2lvbi5WMUFMUEhBLCB0aGlzLnJlcXVlc3RTZXJ2aWNlKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwucHJvdG90eXBlLnZpZGVvVGh1bWJuYWlscyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUHJvamVjdHNWaWRlb1RodW1ibmFpbHNBcGlDbGllbnRJbXBsKG1vZHVsZSRleHBvcnRzJGVlJGFwaVZlcnNpb24uVjFBTFBIQSwgdGhpcy5yZXF1ZXN0U2VydmljZSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsLnByb3RvdHlwZS5maWxtc3RyaXBUaHVtYm5haWxzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Qcm9qZWN0c0ZpbG1zdHJpcFRodW1ibmFpbHNBcGlDbGllbnRJbXBsKG1vZHVsZSRleHBvcnRzJGVlJGFwaVZlcnNpb24uVjFBTFBIQSwgdGhpcy5yZXF1ZXN0U2VydmljZSk7XG59O1xudmFyIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfRUVSZXF1ZXN0U2VydmljZSA9IGZ1bmN0aW9uKHN5bmMsIHJldHJpZXMpIHtcbiAgdGhpcy5zeW5jID0gc3luYyA9IHZvaWQgMCA9PT0gc3luYyA/ICExIDogc3luYztcbiAgdGhpcy5yZXRyaWVzID0gbnVsbCAhPSByZXRyaWVzID8gcmV0cmllcyA6IHN5bmMgPyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5NQVhfU1lOQ19SRVRSSUVTXyA6IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50Lk1BWF9BU1lOQ19SRVRSSUVTXztcbn07XG4kanNjb21wLmluaGVyaXRzKG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfRUVSZXF1ZXN0U2VydmljZSwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkcHJvbWlzZV9yZXF1ZXN0X3NlcnZpY2UuUHJvbWlzZVJlcXVlc3RTZXJ2aWNlKTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfRUVSZXF1ZXN0U2VydmljZS5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKHBhcmFtcywgcmVzcG9uc2VDdG9yKSB7XG4gIHZhciAkanNjb21wJHRoaXMgPSB0aGlzO1xuICBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkcmVxdWVzdF9wYXJhbXNfcHJvY2Vzc1BhcmFtcyhwYXJhbXMpO1xuICB2YXIgcGF0aCA9IHBhcmFtcy5wYXRoIHx8IFwiXCIsIHVybCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldFNhZmVBcGlVcmwoKSArIHBhdGgsIGFyZ3MgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5tYWtlUmVxdWVzdF8ocGFyYW1zLnF1ZXJ5UGFyYW1zIHx8IHt9KSwgYm9keSA9IHBhcmFtcy5ib2R5ID8gSlNPTi5zdHJpbmdpZnkocGFyYW1zLmJvZHkpIDogdm9pZCAwO1xuICBpZiAodGhpcy5zeW5jKSB7XG4gICAgdmFyIHJhdyA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnNlbmQodXJsLCBhcmdzLCB2b2lkIDAsIHBhcmFtcy5odHRwTWV0aG9kLCBib2R5LCB0aGlzLnJldHJpZXMpLCB2YWx1ZSQ2MiA9IHJlc3BvbnNlQ3RvciA/IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2Rlc2VyaWFsaXplKHJlc3BvbnNlQ3RvciwgcmF3KSA6IHJhdywgdGhlbmFibGUgPSBmdW5jdGlvbih2KSB7XG4gICAgICByZXR1cm4ge3RoZW46ZnVuY3Rpb24oZikge1xuICAgICAgICByZXR1cm4gdGhlbmFibGUoZih2KSk7XG4gICAgICB9fTtcbiAgICB9O1xuICAgIHJldHVybiB0aGVuYWJsZSh2YWx1ZSQ2Mik7XG4gIH1cbiAgcmV0dXJuIChuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZW5kKHVybCwgYXJncywgZnVuY3Rpb24odmFsdWUsIGVycm9yKSB7XG4gICAgICBlcnJvciA/IHJlamVjdChlcnJvcikgOiByZXNvbHZlKHZhbHVlKTtcbiAgICB9LCBwYXJhbXMuaHR0cE1ldGhvZCwgYm9keSwgJGpzY29tcCR0aGlzLnJldHJpZXMpO1xuICB9KSkudGhlbihmdW5jdGlvbihyKSB7XG4gICAgcmV0dXJuIHJlc3BvbnNlQ3RvciA/IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2Rlc2VyaWFsaXplKHJlc3BvbnNlQ3RvciwgcikgOiByO1xuICB9KTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0VFUmVxdWVzdFNlcnZpY2UucHJvdG90eXBlLm1ha2VSZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1zKSB7XG59O1xudmFyIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQmF0Y2hDYWxsID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsLmNhbGwodGhpcywgY2FsbGJhY2spO1xuICB0aGlzLnJlcXVlc3RTZXJ2aWNlID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQmF0Y2hSZXF1ZXN0U2VydmljZSgpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9CYXRjaENhbGwsIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbCk7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0JhdGNoQ2FsbC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uKHBhcnRzLCBnZXRSZXNwb25zZSkge1xuICB2YXIgJGpzY29tcCR0aGlzID0gdGhpcywgYmF0Y2hVcmwgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRTYWZlQXBpVXJsKCkgKyBcIi9iYXRjaFwiLCBib2R5ID0gcGFydHMubWFwKGZ1bmN0aW9uKCRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIyMCkge1xuICAgIHZhciAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMjEgPSAkanNjb21wLm1ha2VJdGVyYXRvcigkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMjApLCBpZCA9ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIyMS5uZXh0KCkudmFsdWUsICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIyMiA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKCRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIyMS5uZXh0KCkudmFsdWUpLCBwYXJ0Qm9keSA9ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIyMi5uZXh0KCkudmFsdWUsIGN0b3IgPSAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMjIubmV4dCgpLnZhbHVlO1xuICAgIHJldHVybiBcIi0tYmF0Y2hfRUFSVEhFTkdJTkVfYmF0Y2hcXHJcXG5Db250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2h0dHBcXHJcXG5Db250ZW50LVRyYW5zZmVyLUVuY29kaW5nOiBiaW5hcnlcXHJcXG5NSU1FLVZlcnNpb246IDEuMFxcclxcbkNvbnRlbnQtSUQ6IDxcIiArIGlkICsgXCI+XFxyXFxuXFxyXFxuXCIgKyBwYXJ0Qm9keSArIFwiXFxyXFxuXCI7XG4gIH0pLmpvaW4oXCJcIikgKyBcIi0tYmF0Y2hfRUFSVEhFTkdJTkVfYmF0Y2gtLVxcclxcblwiLCBkZXNlcmlhbGl6ZVJlc3BvbnNlcyA9IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIHBhcnRzLmZvckVhY2goZnVuY3Rpb24oJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjIzKSB7XG4gICAgICB2YXIgJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjI0ID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjIzKSwgaWQgPSAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMjQubmV4dCgpLnZhbHVlLCAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMjUgPSAkanNjb21wLm1ha2VJdGVyYXRvcigkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMjQubmV4dCgpLnZhbHVlKSwgcGFydEJvZHkgPSAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMjUubmV4dCgpLnZhbHVlLCBjdG9yID0gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjI1Lm5leHQoKS52YWx1ZTtcbiAgICAgIG51bGwgIT0gcmVzcG9uc2VbaWRdICYmIChyZXN1bHRbaWRdID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVzZXJpYWxpemUoY3RvciwgcmVzcG9uc2VbaWRdKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGdldFJlc3BvbnNlID8gZ2V0UmVzcG9uc2UocmVzdWx0KSA6IHJlc3VsdDtcbiAgfTtcbiAgcmV0dXJuIHRoaXMuY2FsbGJhY2sgPyAobW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2VuZChiYXRjaFVybCwgbnVsbCwgZnVuY3Rpb24ocmVzdWx0LCBlcnIpIHtcbiAgICByZXR1cm4gJGpzY29tcCR0aGlzLmNhbGxiYWNrKGVyciA/IHJlc3VsdCA6IGRlc2VyaWFsaXplUmVzcG9uc2VzKHJlc3VsdCksIGVycik7XG4gIH0sIFwibXVsdGlwYXJ0L21peGVkOyBib3VuZGFyeT1iYXRjaF9FQVJUSEVOR0lORV9iYXRjaFwiLCBib2R5KSwgbnVsbCkgOiBkZXNlcmlhbGl6ZVJlc3BvbnNlcyhtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZW5kKGJhdGNoVXJsLCBudWxsLCB2b2lkIDAsIFwibXVsdGlwYXJ0L21peGVkOyBib3VuZGFyeT1iYXRjaF9FQVJUSEVOR0lORV9iYXRjaFwiLCBib2R5KSk7XG59O1xudmFyIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQmF0Y2hSZXF1ZXN0U2VydmljZSA9IGZ1bmN0aW9uKCkge1xufTtcbiRqc2NvbXAuaW5oZXJpdHMobW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9CYXRjaFJlcXVlc3RTZXJ2aWNlLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRwcm9taXNlX3JlcXVlc3Rfc2VydmljZS5Qcm9taXNlUmVxdWVzdFNlcnZpY2UpO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9CYXRjaFJlcXVlc3RTZXJ2aWNlLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24ocGFyYW1zLCByZXNwb25zZUN0b3IpIHtcbiAgdmFyIHJlcXVlc3QgPSBbcGFyYW1zLmh0dHBNZXRob2QgKyBcIiBcIiArIHBhcmFtcy5wYXRoICsgXCIgSFRUUC8xLjFcIl07XG4gIHJlcXVlc3QucHVzaChcIkNvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFwiKTtcbiAgdmFyIGF1dGhUb2tlbiA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldEF1dGhUb2tlbigpO1xuICBudWxsICE9IGF1dGhUb2tlbiAmJiByZXF1ZXN0LnB1c2goXCJBdXRob3JpemF0aW9uOiBcIiArIGF1dGhUb2tlbik7XG4gIHZhciBib2R5ID0gcGFyYW1zLmJvZHkgPyBKU09OLnN0cmluZ2lmeShwYXJhbXMuYm9keSkgOiBcIlwiO1xuICByZXR1cm4gW3JlcXVlc3Quam9pbihcIlxcclxcblwiKSArIFwiXFxyXFxuXFxyXFxuXCIgKyBib2R5LCByZXNwb25zZUN0b3JdO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQmF0Y2hSZXF1ZXN0U2VydmljZS5wcm90b3R5cGUubWFrZVJlcXVlc3QgPSBmdW5jdGlvbihwYXJhbXMpIHtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5wYXJzZUJhdGNoUmVwbHkgPSBmdW5jdGlvbihjb250ZW50VHlwZSwgcmVzcG9uc2VUZXh0LCBoYW5kbGUpIHtcbiAgZm9yICh2YXIgYm91bmRhcnkgPSBjb250ZW50VHlwZS5zcGxpdChcIjsgYm91bmRhcnk9XCIpWzFdLCAkanNjb21wJGl0ZXIkMjAgPSAkanNjb21wLm1ha2VJdGVyYXRvcihyZXNwb25zZVRleHQuc3BsaXQoXCItLVwiICsgYm91bmRhcnkpKSwgJGpzY29tcCRrZXkkcGFydCA9ICRqc2NvbXAkaXRlciQyMC5uZXh0KCk7ICEkanNjb21wJGtleSRwYXJ0LmRvbmU7ICRqc2NvbXAka2V5JHBhcnQgPSAkanNjb21wJGl0ZXIkMjAubmV4dCgpKSB7XG4gICAgdmFyIGdyb3VwcyA9ICRqc2NvbXAka2V5JHBhcnQudmFsdWUuc3BsaXQoXCJcXHJcXG5cXHJcXG5cIik7XG4gICAgaWYgKCEoMyA+IGdyb3Vwcy5sZW5ndGgpKSB7XG4gICAgICB2YXIgaWQgPSBncm91cHNbMF0ubWF0Y2goL1xcclxcbkNvbnRlbnQtSUQ6IDxyZXNwb25zZS0oW14+XSopPi8pWzFdLCBzdGF0dXMgPSBOdW1iZXIoZ3JvdXBzWzFdLm1hdGNoKC9eSFRUUFxcUypcXHMoXFxkKylcXHMvKVsxXSksIHRleHQgPSBncm91cHMuc2xpY2UoMikuam9pbihcIlxcclxcblxcclxcblwiKTtcbiAgICAgIGhhbmRsZShpZCwgc3RhdHVzLCB0ZXh0KTtcbiAgICB9XG4gIH1cbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZXRBcGlLZXkgPSBmdW5jdGlvbihhcGlLZXkpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuY2xvdWRBcGlLZXlfID0gYXBpS2V5O1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldEFwaUtleSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuY2xvdWRBcGlLZXlfO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LkRFRkFVTFRfUFJPSkVDVF8gPSBcImVhcnRoZW5naW5lLWxlZ2FjeVwiO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0UHJvamVjdCA9IGZ1bmN0aW9uKHByb2plY3QpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQucHJvamVjdF8gPSBwcm9qZWN0O1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldFByb2plY3QgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnByb2plY3RfO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldFNhZmVBcGlVcmwgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHVybCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmFwaUJhc2VVcmxfLnJlcGxhY2UoL1xcL2FwaSQvLCBcIlwiKTtcbiAgcmV0dXJuIFwid2luZG93XCIgaW4gZ29vZy5nbG9iYWwgJiYgIXVybC5tYXRjaCgvXmh0dHBzPzpcXC9cXC9jb250ZW50LS8pID8gdXJsLnJlcGxhY2UoL14oaHR0cHM/OlxcL1xcLykoLipcXC5nb29nbGVhcGlzXFwuY29tKSQvLCBcIiQxY29udGVudC0kMlwiKSA6IHVybDtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5tZXJnZUF1dGhTY29wZXNfID0gZnVuY3Rpb24oaW5jbHVkZURlZmF1bHRTY29wZXMsIGluY2x1ZGVTdG9yYWdlU2NvcGUsIGV4dHJhU2NvcGVzKSB7XG4gIHZhciBzY29wZXMgPSBbXTtcbiAgaW5jbHVkZURlZmF1bHRTY29wZXMgJiYgKHNjb3BlcyA9IHNjb3Blcy5jb25jYXQobW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuREVGQVVMVF9BVVRIX1NDT1BFU18pKTtcbiAgaW5jbHVkZVN0b3JhZ2VTY29wZSAmJiBzY29wZXMucHVzaChtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5TVE9SQUdFX1NDT1BFXyk7XG4gIHNjb3BlcyA9IHNjb3Blcy5jb25jYXQoZXh0cmFTY29wZXMpO1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZW1vdmVEdXBsaWNhdGVzKHNjb3Blcyk7XG4gIHJldHVybiBzY29wZXM7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0QXV0aFRva2VuID0gZnVuY3Rpb24oY2xpZW50SWQsIHRva2VuVHlwZSwgYWNjZXNzVG9rZW4sIGV4cGlyZXNJbiwgZXh0cmFTY29wZXMsIGNhbGxiYWNrLCB1cGRhdGVBdXRoTGlicmFyeSwgc3VwcHJlc3NEZWZhdWx0U2NvcGVzKSB7XG4gIHZhciBzY29wZXMgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5tZXJnZUF1dGhTY29wZXNfKCFzdXBwcmVzc0RlZmF1bHRTY29wZXMsICExLCBleHRyYVNjb3BlcyB8fCBbXSk7XG4gIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmF1dGhDbGllbnRJZF8gPSBjbGllbnRJZDtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXV0aFNjb3Blc18gPSBzY29wZXM7XG4gIHZhciB0b2tlbk9iamVjdCA9IHt0b2tlbl90eXBlOnRva2VuVHlwZSwgYWNjZXNzX3Rva2VuOmFjY2Vzc1Rva2VuLCBzdGF0ZTpzY29wZXMuam9pbihcIiBcIiksIGV4cGlyZXNfaW46ZXhwaXJlc0lufTtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuaGFuZGxlQXV0aFJlc3VsdF8odm9pZCAwLCB2b2lkIDAsIHRva2VuT2JqZWN0KTtcbiAgITEgPT09IHVwZGF0ZUF1dGhMaWJyYXJ5ID8gY2FsbGJhY2sgJiYgY2FsbGJhY2soKSA6IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmVuc3VyZUF1dGhMaWJMb2FkZWRfKGZ1bmN0aW9uKCkge1xuICAgIGdvb2cuZ2xvYmFsLmdhcGkuYXV0aC5zZXRUb2tlbih0b2tlbk9iamVjdCk7XG4gICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKTtcbiAgfSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQucmVmcmVzaEF1dGhUb2tlbiA9IGZ1bmN0aW9uKHN1Y2Nlc3MsIGVycm9yLCBvbkltbWVkaWF0ZUZhaWxlZCkge1xuICBpZiAobW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuaXNBdXRoVG9rZW5SZWZyZXNoaW5nRW5hYmxlZF8oKSkge1xuICAgIHZhciBhdXRoQXJncyA9IHtjbGllbnRfaWQ6U3RyaW5nKG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmF1dGhDbGllbnRJZF8pLCBpbW1lZGlhdGU6ITAsIHNjb3BlOm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmF1dGhTY29wZXNfLmpvaW4oXCIgXCIpfTtcbiAgICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hdXRoVG9rZW5SZWZyZXNoZXJfKGF1dGhBcmdzLCBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgIGlmIChcImltbWVkaWF0ZV9mYWlsZWRcIiA9PSByZXN1bHQuZXJyb3IgJiYgb25JbW1lZGlhdGVGYWlsZWQpIHtcbiAgICAgICAgb25JbW1lZGlhdGVGYWlsZWQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChcIndpbmRvd1wiIGluIGdvb2cuZ2xvYmFsKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmVuc3VyZUF1dGhMaWJMb2FkZWRfKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGdvb2cuZ2xvYmFsLmdhcGkuYXV0aC5zZXRUb2tlbihyZXN1bHQpLCBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5oYW5kbGVBdXRoUmVzdWx0XyhzdWNjZXNzLCBlcnJvciwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGVycm9yKGUudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGVycm9yKGUudG9TdHJpbmcoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmhhbmRsZUF1dGhSZXN1bHRfKHN1Y2Nlc3MsIGVycm9yLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZXRBdXRoVG9rZW5SZWZyZXNoZXIgPSBmdW5jdGlvbihyZWZyZXNoZXIpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXV0aFRva2VuUmVmcmVzaGVyXyA9IHJlZnJlc2hlcjtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRBdXRoVG9rZW4gPSBmdW5jdGlvbigpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXV0aFRva2VuRXhwaXJhdGlvbl8gJiYgMCA8PSBEYXRlLm5vdygpIC0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXV0aFRva2VuRXhwaXJhdGlvbl8gJiYgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuY2xlYXJBdXRoVG9rZW4oKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmF1dGhUb2tlbl87XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuY2xlYXJBdXRoVG9rZW4gPSBmdW5jdGlvbigpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXV0aFRva2VuXyA9IG51bGw7XG4gIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmF1dGhUb2tlbkV4cGlyYXRpb25fID0gbnVsbDtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRBdXRoQ2xpZW50SWQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmF1dGhDbGllbnRJZF87XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZ2V0QXV0aFNjb3BlcyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXV0aFNjb3Blc187XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0QXV0aENsaWVudCA9IGZ1bmN0aW9uKGNsaWVudElkLCBzY29wZXMpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXV0aENsaWVudElkXyA9IGNsaWVudElkO1xuICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hdXRoU2NvcGVzXyA9IHNjb3Blcztcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZXRBcHBJZFRva2VuID0gZnVuY3Rpb24odG9rZW4pIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXBwSWRUb2tlbl8gPSB0b2tlbjtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5pbml0aWFsaXplID0gZnVuY3Rpb24oYXBpQmFzZVVybCwgdGlsZUJhc2VVcmwsIHhzcmZUb2tlbiwgcHJvamVjdCkge1xuICBudWxsICE9IGFwaUJhc2VVcmwgPyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hcGlCYXNlVXJsXyA9IGFwaUJhc2VVcmwgOiBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5pbml0aWFsaXplZF8gfHwgKG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmFwaUJhc2VVcmxfID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuREVGQVVMVF9BUElfQkFTRV9VUkxfKTtcbiAgbnVsbCAhPSB0aWxlQmFzZVVybCA/IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnRpbGVCYXNlVXJsXyA9IHRpbGVCYXNlVXJsIDogbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuaW5pdGlhbGl6ZWRfIHx8IChtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC50aWxlQmFzZVVybF8gPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5ERUZBVUxUX1RJTEVfQkFTRV9VUkxfKTtcbiAgdm9pZCAwICE9PSB4c3JmVG9rZW4gJiYgKG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnhzcmZUb2tlbl8gPSB4c3JmVG9rZW4pO1xuICBudWxsICE9IHByb2plY3QgPyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZXRQcm9qZWN0KHByb2plY3QpIDogbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0UHJvamVjdChtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRQcm9qZWN0KCkgfHwgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuREVGQVVMVF9QUk9KRUNUXyk7XG4gIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmluaXRpYWxpemVkXyA9ICEwO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmFwaUJhc2VVcmxfID0gbnVsbDtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQudGlsZUJhc2VVcmxfID0gbnVsbDtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQueHNyZlRva2VuXyA9IG51bGw7XG4gIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmluaXRpYWxpemVkXyA9ICExO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnNldERlYWRsaW5lID0gZnVuY3Rpb24obWlsbGlzZWNvbmRzKSB7XG4gIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmRlYWRsaW5lTXNfID0gbWlsbGlzZWNvbmRzO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnNldFBhcmFtQXVnbWVudGVyID0gZnVuY3Rpb24oYXVnbWVudGVyKSB7XG4gIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnBhcmFtQXVnbWVudGVyXyA9IGF1Z21lbnRlciB8fCBnb29nLmZ1bmN0aW9ucy5pZGVudGl0eTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRBcGlCYXNlVXJsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hcGlCYXNlVXJsXztcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRUaWxlQmFzZVVybCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQudGlsZUJhc2VVcmxfO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldFhzcmZUb2tlbiA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQueHNyZlRva2VuXztcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5pc0luaXRpYWxpemVkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5pbml0aWFsaXplZF87XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2VuZCA9IGZ1bmN0aW9uKHBhdGgsIHBhcmFtcywgY2FsbGJhY2ssIG1ldGhvZCwgYm9keSwgcmV0cmllcykge1xuICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5pbml0aWFsaXplKCk7XG4gIHZhciBwcm9maWxlSG9va0F0Q2FsbFRpbWUgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5wcm9maWxlSG9va18sIGNvbnRlbnRUeXBlID0gXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIjtcbiAgYm9keSAmJiAoY29udGVudFR5cGUgPSBcImFwcGxpY2F0aW9uL2pzb25cIiwgbWV0aG9kICYmIG1ldGhvZC5zdGFydHNXaXRoKFwibXVsdGlwYXJ0XCIpICYmIChjb250ZW50VHlwZSA9IG1ldGhvZCwgbWV0aG9kID0gXCJQT1NUXCIpKTtcbiAgbWV0aG9kID0gbWV0aG9kIHx8IFwiUE9TVFwiO1xuICB2YXIgaGVhZGVycyA9IHtcIkNvbnRlbnQtVHlwZVwiOmNvbnRlbnRUeXBlLH0sIHZlcnNpb24gPSBcIjAuMS4yODlcIjtcbiAgXCIwLjEuMjg5XCIgPT09IHZlcnNpb24gJiYgKHZlcnNpb24gPSBcImxhdGVzdFwiKTtcbiAgaGVhZGVyc1ttb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5BUElfQ0xJRU5UX1ZFUlNJT05fSEVBREVSXSA9IFwiZWUtanMvXCIgKyB2ZXJzaW9uO1xuICB2YXIgYXV0aFRva2VuID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZ2V0QXV0aFRva2VuKCk7XG4gIGlmIChudWxsICE9IGF1dGhUb2tlbikge1xuICAgIGhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IGF1dGhUb2tlbjtcbiAgfSBlbHNlIHtcbiAgICBpZiAoY2FsbGJhY2sgJiYgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuaXNBdXRoVG9rZW5SZWZyZXNoaW5nRW5hYmxlZF8oKSkge1xuICAgICAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnJlZnJlc2hBdXRoVG9rZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LndpdGhQcm9maWxpbmcocHJvZmlsZUhvb2tBdENhbGxUaW1lLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZW5kKHBhdGgsIHBhcmFtcywgY2FsbGJhY2ssIG1ldGhvZCk7XG4gICAgICAgIH0pO1xuICAgICAgfSksIG51bGw7XG4gICAgfVxuICB9XG4gIHBhcmFtcyA9IHBhcmFtcyA/IHBhcmFtcy5jbG9uZSgpIDogbmV3IGdvb2cuVXJpLlF1ZXJ5RGF0YSgpO1xuICBudWxsICE9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmNsb3VkQXBpS2V5XyAmJiBwYXJhbXMuYWRkKFwia2V5XCIsIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmNsb3VkQXBpS2V5Xyk7XG4gIHByb2ZpbGVIb29rQXRDYWxsVGltZSAmJiAoaGVhZGVyc1ttb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5QUk9GSUxFX1JFUVVFU1RfSEVBREVSXSA9IFwiMVwiKTtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZ2V0UHJvamVjdCgpICYmIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldFByb2plY3QoKSAhPT0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuREVGQVVMVF9QUk9KRUNUXyAmJiAoaGVhZGVyc1ttb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5VU0VSX1BST0pFQ1RfT1ZFUlJJREVfSEVBREVSX10gPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRQcm9qZWN0KCkpO1xuICBwYXJhbXMgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5wYXJhbUF1Z21lbnRlcl8ocGFyYW1zLCBwYXRoKTtcbiAgbnVsbCAhPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC54c3JmVG9rZW5fICYmIChoZWFkZXJzW1wiWC1YU1JGLVRva2VuXCJdID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQueHNyZlRva2VuXyk7XG4gIG51bGwgIT0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXBwSWRUb2tlbl8gJiYgKGhlYWRlcnNbbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuQVBQX0lEX1RPS0VOX0hFQURFUl9dID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXBwSWRUb2tlbl8pO1xuICB2YXIgcmVxdWVzdERhdGEgPSBib2R5IHx8IG51bGwsIHBhcmFtU3RyaW5nID0gcGFyYW1zID8gcGFyYW1zLnRvU3RyaW5nKCkgOiBcIlwiO1xuICBcIlBPU1RcIiA9PT0gbWV0aG9kICYmIHZvaWQgMCA9PT0gYm9keSA/IHJlcXVlc3REYXRhID0gcGFyYW1TdHJpbmcgOiBnb29nLnN0cmluZy5pc0VtcHR5T3JXaGl0ZXNwYWNlKHBhcmFtU3RyaW5nKSB8fCAocGF0aCArPSBnb29nLnN0cmluZy5jb250YWlucyhwYXRoLCBcIj9cIikgPyBcIiZcIiA6IFwiP1wiLCBwYXRoICs9IHBhcmFtU3RyaW5nKTtcbiAgdmFyIHVybCA9IHBhdGguc3RhcnRzV2l0aChcIi9cIikgPyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hcGlCYXNlVXJsXyArIHBhdGggOiBwYXRoO1xuICBpZiAoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQucmVxdWVzdFF1ZXVlXy5wdXNoKG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmJ1aWxkQXN5bmNSZXF1ZXN0Xyh1cmwsIGNhbGxiYWNrLCBtZXRob2QsIHJlcXVlc3REYXRhLCBoZWFkZXJzLCByZXRyaWVzKSksIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LlJlcXVlc3RUaHJvdHRsZV8uZmlyZSgpLCBudWxsO1xuICB9XG4gIGZvciAodmFyIHNldFJlcXVlc3RIZWFkZXIgPSBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgdGhpcy5zZXRSZXF1ZXN0SGVhZGVyICYmIHRoaXMuc2V0UmVxdWVzdEhlYWRlcihrZXksIHZhbHVlKTtcbiAgfSwgeG1sSHR0cCwgcmV0cnlDb3VudCA9IDAsIG1heFJldHJpZXMgPSBudWxsICE9IHJldHJpZXMgPyByZXRyaWVzIDogbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuTUFYX1NZTkNfUkVUUklFU187Oykge1xuICAgIHhtbEh0dHAgPSAoMCxnb29nLm5ldC5YbWxIdHRwKSgpO1xuICAgIHhtbEh0dHAub3BlbihtZXRob2QsIHVybCwgITEpO1xuICAgIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9mb3JFYWNoKGhlYWRlcnMsIHNldFJlcXVlc3RIZWFkZXIsIHhtbEh0dHApO1xuICAgIHhtbEh0dHAuc2VuZChyZXF1ZXN0RGF0YSk7XG4gICAgaWYgKDQyOSAhPSB4bWxIdHRwLnN0YXR1cyB8fCByZXRyeUNvdW50ID4gbWF4UmV0cmllcykge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHJ5Q291bnQrKztcbiAgfVxuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuaGFuZGxlUmVzcG9uc2VfKHhtbEh0dHAuc3RhdHVzLCBmdW5jdGlvbiBnZXRSZXNwb25zZUhlYWRlclNhZmUoaGVhZGVyKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB4bWxIdHRwLmdldFJlc3BvbnNlSGVhZGVyKGhlYWRlcik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9LCB4bWxIdHRwLnJlc3BvbnNlVGV4dCwgcHJvZmlsZUhvb2tBdENhbGxUaW1lLCB2b2lkIDAsIHVybCwgbWV0aG9kKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5idWlsZEFzeW5jUmVxdWVzdF8gPSBmdW5jdGlvbih1cmwsIGNhbGxiYWNrLCBtZXRob2QsIGNvbnRlbnQsIGhlYWRlcnMsIHJldHJpZXMpIHtcbiAgdmFyIHJldHJ5Q291bnQgPSAwLCByZXF1ZXN0ID0ge3VybDp1cmwsIG1ldGhvZDptZXRob2QsIGNvbnRlbnQ6Y29udGVudCwgaGVhZGVyczpoZWFkZXJzfSwgcHJvZmlsZUhvb2tBdENhbGxUaW1lID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQucHJvZmlsZUhvb2tfLCBtYXhSZXRyaWVzID0gbnVsbCAhPSByZXRyaWVzID8gcmV0cmllcyA6IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50Lk1BWF9BU1lOQ19SRVRSSUVTXztcbiAgcmVxdWVzdC5jYWxsYmFjayA9IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgeGhySW8gPSBlLnRhcmdldDtcbiAgICByZXR1cm4gNDI5ID09IHhocklvLmdldFN0YXR1cygpICYmIHJldHJ5Q291bnQgPCBtYXhSZXRyaWVzID8gKHJldHJ5Q291bnQrKywgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnJlcXVlc3RRdWV1ZV8ucHVzaChyZXF1ZXN0KTtcbiAgICAgIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LlJlcXVlc3RUaHJvdHRsZV8uZmlyZSgpO1xuICAgIH0sIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmNhbGN1bGF0ZVJldHJ5V2FpdF8ocmV0cnlDb3VudCkpLCBudWxsKSA6IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmhhbmRsZVJlc3BvbnNlXyh4aHJJby5nZXRTdGF0dXMoKSwgZ29vZy5iaW5kKHhocklvLmdldFJlc3BvbnNlSGVhZGVyLCB4aHJJbyksIHhocklvLmdldFJlc3BvbnNlVGV4dCgpLCBwcm9maWxlSG9va0F0Q2FsbFRpbWUsIGNhbGxiYWNrLCB1cmwsIG1ldGhvZCk7XG4gIH07XG4gIHJldHVybiByZXF1ZXN0O1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LndpdGhQcm9maWxpbmcgPSBmdW5jdGlvbihob29rLCBib2R5LCB0aGlzT2JqZWN0KSB7XG4gIHZhciBzYXZlZCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnByb2ZpbGVIb29rXztcbiAgdHJ5IHtcbiAgICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQucHJvZmlsZUhvb2tfID0gaG9vaywgYm9keS5jYWxsKHRoaXNPYmplY3QpO1xuICB9IGZpbmFsbHkge1xuICAgIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnByb2ZpbGVIb29rXyA9IHNhdmVkO1xuICB9XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuaGFuZGxlUmVzcG9uc2VfID0gZnVuY3Rpb24oc3RhdHVzJGpzY29tcCQwLCBnZXRSZXNwb25zZUhlYWRlciwgcmVzcG9uc2VUZXh0LCBwcm9maWxlSG9vaywgY2FsbGJhY2ssIHVybCwgbWV0aG9kKSB7XG4gIHZhciBwcm9maWxlSWQgPSBwcm9maWxlSG9vayA/IGdldFJlc3BvbnNlSGVhZGVyKG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LlBST0ZJTEVfSEVBREVSKSA6IFwiXCI7XG4gIHByb2ZpbGVJZCAmJiBwcm9maWxlSG9vayAmJiBwcm9maWxlSG9vayhwcm9maWxlSWQpO1xuICB2YXIgcGFyc2VKc29uID0gZnVuY3Rpb24oYm9keSkge1xuICAgIHRyeSB7XG4gICAgICB2YXIgcmVzcG9uc2UgPSBKU09OLnBhcnNlKGJvZHkpO1xuICAgICAgcmV0dXJuIGdvb2cuaXNPYmplY3QocmVzcG9uc2UpICYmIFwiZXJyb3JcIiBpbiByZXNwb25zZSAmJiBcIm1lc3NhZ2VcIiBpbiByZXNwb25zZS5lcnJvciA/IHJlc3BvbnNlLmVycm9yLm1lc3NhZ2UgOiB7cGFyc2VkOnJlc3BvbnNlfTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gXCJJbnZhbGlkIEpTT046IFwiICsgYm9keTtcbiAgICB9XG4gIH0sIHN0YXR1c0Vycm9yID0gZnVuY3Rpb24oc3RhdHVzKSB7XG4gICAgaWYgKDAgPT09IHN0YXR1cykge1xuICAgICAgcmV0dXJuIFwiRmFpbGVkIHRvIGNvbnRhY3QgRWFydGggRW5naW5lIHNlcnZlcnMuIFBsZWFzZSBjaGVjayB5b3VyIGNvbm5lY3Rpb24sIGZpcmV3YWxsLCBvciBicm93c2VyIGV4dGVuc2lvbiBzZXR0aW5ncy5cIjtcbiAgICB9XG4gICAgaWYgKDIwMCA+IHN0YXR1cyB8fCAzMDAgPD0gc3RhdHVzKSB7XG4gICAgICByZXR1cm4gXCJTZXJ2ZXIgcmV0dXJuZWQgSFRUUCBjb2RlOiBcIiArIHN0YXR1cyArIFwiIGZvciBcIiArIG1ldGhvZCArIFwiIFwiICsgdXJsO1xuICAgIH1cbiAgfSwgZXJyb3JNZXNzYWdlLCB0eXBlSGVhZGVyID0gZ2V0UmVzcG9uc2VIZWFkZXIoXCJDb250ZW50LVR5cGVcIikgfHwgXCJhcHBsaWNhdGlvbi9qc29uXCIsIGNvbnRlbnRUeXBlID0gdHlwZUhlYWRlci5yZXBsYWNlKC87LiovLCBcIlwiKTtcbiAgaWYgKFwiYXBwbGljYXRpb24vanNvblwiID09PSBjb250ZW50VHlwZSB8fCBcInRleHQvanNvblwiID09PSBjb250ZW50VHlwZSkge1xuICAgIHZhciByZXNwb25zZSRqc2NvbXAkMCA9IHBhcnNlSnNvbihyZXNwb25zZVRleHQpO1xuICAgIGlmIChyZXNwb25zZSRqc2NvbXAkMC5wYXJzZWQpIHtcbiAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UkanNjb21wJDAucGFyc2VkO1xuICAgICAgdm9pZCAwID09PSBkYXRhICYmIChlcnJvck1lc3NhZ2UgPSBcIk1hbGZvcm1lZCByZXNwb25zZTogXCIgKyByZXNwb25zZVRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlcnJvck1lc3NhZ2UgPSByZXNwb25zZSRqc2NvbXAkMDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKFwibXVsdGlwYXJ0L21peGVkXCIgPT09IGNvbnRlbnRUeXBlKSB7XG4gICAgICBkYXRhID0ge307XG4gICAgICB2YXIgZXJyb3JzID0gW107XG4gICAgICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5wYXJzZUJhdGNoUmVwbHkodHlwZUhlYWRlciwgcmVzcG9uc2VUZXh0LCBmdW5jdGlvbihpZCwgc3RhdHVzLCB0ZXh0KSB7XG4gICAgICAgIHZhciByZXNwb25zZSA9IHBhcnNlSnNvbih0ZXh0KTtcbiAgICAgICAgcmVzcG9uc2UucGFyc2VkICYmIChkYXRhW2lkXSA9IHJlc3BvbnNlLnBhcnNlZCk7XG4gICAgICAgIHZhciBlcnJvciA9IChyZXNwb25zZS5wYXJzZWQgPyBcIlwiIDogcmVzcG9uc2UpIHx8IHN0YXR1c0Vycm9yKHN0YXR1cyk7XG4gICAgICAgIGVycm9yICYmIGVycm9ycy5wdXNoKGlkICsgXCI6IFwiICsgZXJyb3IpO1xuICAgICAgfSk7XG4gICAgICBlcnJvcnMubGVuZ3RoICYmIChlcnJvck1lc3NhZ2UgPSBlcnJvcnMuam9pbihcIlxcblwiKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB0eXBlRXJyb3IgPSBcIlJlc3BvbnNlIHdhcyB1bmV4cGVjdGVkbHkgbm90IEpTT04sIGJ1dCBcIiArIGNvbnRlbnRUeXBlO1xuICAgIH1cbiAgfVxuICBlcnJvck1lc3NhZ2UgPSBlcnJvck1lc3NhZ2UgfHwgc3RhdHVzRXJyb3Ioc3RhdHVzJGpzY29tcCQwKSB8fCB0eXBlRXJyb3I7XG4gIGlmIChjYWxsYmFjaykge1xuICAgIHJldHVybiBjYWxsYmFjayhkYXRhLCBlcnJvck1lc3NhZ2UpLCBudWxsO1xuICB9XG4gIGlmICghZXJyb3JNZXNzYWdlKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbiAgdGhyb3cgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5lbnN1cmVBdXRoTGliTG9hZGVkXyA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gIHZhciBkb25lID0gZnVuY3Rpb24oKSB7XG4gICAgZ29vZy5nbG9iYWwuZ2FwaS5jb25maWcudXBkYXRlKFwiY2xpZW50L2NvcnNcIiwgITApO1xuICAgIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmF1dGhUb2tlblJlZnJlc2hlcl8gfHwgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0QXV0aFRva2VuUmVmcmVzaGVyKGdvb2cuZ2xvYmFsLmdhcGkuYXV0aC5hdXRob3JpemUpO1xuICAgIGNhbGxiYWNrKCk7XG4gIH07XG4gIGlmIChnb29nLmlzT2JqZWN0KGdvb2cuZ2xvYmFsLmdhcGkpICYmIGdvb2cuaXNPYmplY3QoZ29vZy5nbG9iYWwuZ2FwaS5hdXRoKSAmJiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBnb29nLmdsb2JhbC5nYXBpLmF1dGguYXV0aG9yaXplKSB7XG4gICAgZG9uZSgpO1xuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGNhbGxiYWNrTmFtZSA9IERhdGUubm93KCkudG9TdHJpbmcoMzYpOyBjYWxsYmFja05hbWUgaW4gZ29vZy5nbG9iYWw7KSB7XG4gICAgICBjYWxsYmFja05hbWUgKz0gXCJfXCI7XG4gICAgfVxuICAgIGdvb2cuZ2xvYmFsW2NhbGxiYWNrTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgIGRlbGV0ZSBnb29nLmdsb2JhbFtjYWxsYmFja05hbWVdO1xuICAgICAgZG9uZSgpO1xuICAgIH07XG4gICAgZ29vZy5uZXQuanNsb2FkZXIuc2FmZUxvYWQoZ29vZy5odG1sLlRydXN0ZWRSZXNvdXJjZVVybC5mb3JtYXQobW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuQVVUSF9MSUJSQVJZX1VSTF8sIHtvbmxvYWQ6Y2FsbGJhY2tOYW1lfSkpO1xuICB9XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuaGFuZGxlQXV0aFJlc3VsdF8gPSBmdW5jdGlvbihzdWNjZXNzLCBlcnJvciwgcmVzdWx0KSB7XG4gIGlmIChyZXN1bHQuYWNjZXNzX3Rva2VuKSB7XG4gICAgdmFyIHRva2VuID0gcmVzdWx0LnRva2VuX3R5cGUgKyBcIiBcIiArIHJlc3VsdC5hY2Nlc3NfdG9rZW47XG4gICAgaWYgKHJlc3VsdC5leHBpcmVzX2luIHx8IDAgPT09IHJlc3VsdC5leHBpcmVzX2luKSB7XG4gICAgICB2YXIgZXhwaXJlc0luTXMgPSA5MDAgKiByZXN1bHQuZXhwaXJlc19pbiwgdGltZW91dCA9IHNldFRpbWVvdXQobW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQucmVmcmVzaEF1dGhUb2tlbiwgMC45ICogZXhwaXJlc0luTXMpO1xuICAgICAgdm9pZCAwICE9PSB0aW1lb3V0LnVucmVmICYmIHRpbWVvdXQudW5yZWYoKTtcbiAgICAgIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmF1dGhUb2tlbkV4cGlyYXRpb25fID0gRGF0ZS5ub3coKSArIGV4cGlyZXNJbk1zO1xuICAgIH1cbiAgICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hdXRoVG9rZW5fID0gdG9rZW47XG4gICAgc3VjY2VzcyAmJiBzdWNjZXNzKCk7XG4gIH0gZWxzZSB7XG4gICAgZXJyb3IgJiYgZXJyb3IocmVzdWx0LmVycm9yIHx8IFwiVW5rbm93biBlcnJvci5cIik7XG4gIH1cbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5tYWtlUmVxdWVzdF8gPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgZm9yICh2YXIgcmVxdWVzdCA9IG5ldyBnb29nLlVyaS5RdWVyeURhdGEoKSwgJGpzY29tcCRpdGVyJDIxID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoT2JqZWN0LmVudHJpZXMocGFyYW1zKSksICRqc2NvbXAka2V5JCA9ICRqc2NvbXAkaXRlciQyMS5uZXh0KCk7ICEkanNjb21wJGtleSQuZG9uZTsgJGpzY29tcCRrZXkkID0gJGpzY29tcCRpdGVyJDIxLm5leHQoKSkge1xuICAgIHZhciAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMjcgPSAkanNjb21wLm1ha2VJdGVyYXRvcigkanNjb21wJGtleSQudmFsdWUpLCBuYW1lID0gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjI3Lm5leHQoKS52YWx1ZSwgaXRlbSA9ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIyNy5uZXh0KCkudmFsdWU7XG4gICAgcmVxdWVzdC5zZXQobmFtZSwgaXRlbSk7XG4gIH1cbiAgcmV0dXJuIHJlcXVlc3Q7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0dXBNb2NrU2VuZCA9IGZ1bmN0aW9uKGNhbGxzKSB7XG4gIGZ1bmN0aW9uIGdldFJlc3BvbnNlKHVybCwgbWV0aG9kLCBkYXRhKSB7XG4gICAgdXJsID0gdXJsLnJlcGxhY2UoYXBpQmFzZVVybCwgXCJcIikucmVwbGFjZShtb2R1bGUkZXhwb3J0cyRlZSRhcGlWZXJzaW9uLlYxQUxQSEEgKyBcIi9wcm9qZWN0cy9cIiArIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LkRFRkFVTFRfUFJPSkVDVF8gKyBcIi9cIiwgXCJcIik7XG4gICAgaWYgKHVybCBpbiBjYWxscykge1xuICAgICAgdmFyIHJlc3BvbnNlID0gY2FsbHNbdXJsXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgRXJyb3IodXJsICsgXCIgbW9jayByZXNwb25zZSBub3Qgc3BlY2lmaWVkXCIpO1xuICAgIH1cbiAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZXNwb25zZSAmJiAocmVzcG9uc2UgPSByZXNwb25zZSh1cmwsIG1ldGhvZCwgZGF0YSkpO1xuICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiByZXNwb25zZSAmJiAocmVzcG9uc2UgPSB7dGV4dDpyZXNwb25zZSwgc3RhdHVzOjIwMCwgY29udGVudFR5cGU6XCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCJ9KTtcbiAgICBpZiAoXCJzdHJpbmdcIiAhPT0gdHlwZW9mIHJlc3BvbnNlLnRleHQpIHtcbiAgICAgIHRocm93IEVycm9yKHVybCArIFwiIG1vY2sgcmVzcG9uc2UgbWlzc2luZy9pbnZhbGlkIHRleHRcIik7XG4gICAgfVxuICAgIGlmIChcIm51bWJlclwiICE9PSB0eXBlb2YgcmVzcG9uc2Uuc3RhdHVzICYmIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHJlc3BvbnNlLnN0YXR1cykge1xuICAgICAgdGhyb3cgRXJyb3IodXJsICsgXCIgbW9jayByZXNwb25zZSBtaXNzaW5nL2ludmFsaWQgc3RhdHVzXCIpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cbiAgY2FsbHMgPSBjYWxscyA/IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9jbG9uZShjYWxscykgOiB7fTtcbiAgdmFyIGFwaUJhc2VVcmw7XG4gIGdvb2cubmV0LlhocklvLnNlbmQgPSBmdW5jdGlvbih1cmwsIGNhbGxiYWNrLCBtZXRob2QsIGRhdGEpIHtcbiAgICBhcGlCYXNlVXJsID0gYXBpQmFzZVVybCB8fCBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hcGlCYXNlVXJsXztcbiAgICB2YXIgcmVzcG9uc2VEYXRhID0gZ2V0UmVzcG9uc2UodXJsLCBtZXRob2QsIGRhdGEpLCBlID0gbmV3IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy50YXJnZXQgPSB7fTtcbiAgICB9KCk7XG4gICAgZS50YXJnZXQuZ2V0UmVzcG9uc2VUZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcmVzcG9uc2VEYXRhLnRleHQ7XG4gICAgfTtcbiAgICBlLnRhcmdldC5nZXRTdGF0dXMgPSBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZXNwb25zZURhdGEuc3RhdHVzID8gcmVzcG9uc2VEYXRhLnN0YXR1cyA6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlRGF0YS5zdGF0dXM7XG4gICAgfTtcbiAgICBlLnRhcmdldC5nZXRSZXNwb25zZUhlYWRlciA9IGZ1bmN0aW9uKGhlYWRlcikge1xuICAgICAgcmV0dXJuIFwiQ29udGVudC1UeXBlXCIgPT09IGhlYWRlciA/IHJlc3BvbnNlRGF0YS5jb250ZW50VHlwZSA6IG51bGw7XG4gICAgfTtcbiAgICBzZXRUaW1lb3V0KGdvb2cuYmluZChjYWxsYmFjaywgZSwgZSksIDApO1xuICAgIHJldHVybiBuZXcgZ29vZy5uZXQuWGhySW8oKTtcbiAgfTtcbiAgdmFyIGZha2VYbWxIdHRwID0gZnVuY3Rpb24oKSB7XG4gIH07XG4gIGZha2VYbWxIdHRwLnByb3RvdHlwZS5vcGVuID0gZnVuY3Rpb24obWV0aG9kLCB1cmxJbikge1xuICAgIGFwaUJhc2VVcmwgPSBhcGlCYXNlVXJsIHx8IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmFwaUJhc2VVcmxfO1xuICAgIHRoaXMudXJsID0gdXJsSW47XG4gICAgdGhpcy5tZXRob2QgPSBtZXRob2Q7XG4gIH07XG4gIGZha2VYbWxIdHRwLnByb3RvdHlwZS5zZXRSZXF1ZXN0SGVhZGVyID0gZnVuY3Rpb24oKSB7XG4gIH07XG4gIGZha2VYbWxIdHRwLnByb3RvdHlwZS5nZXRSZXNwb25zZUhlYWRlciA9IGZ1bmN0aW9uKGhlYWRlcikge1xuICAgIHJldHVybiBcIkNvbnRlbnQtVHlwZVwiID09PSBoZWFkZXIgPyB0aGlzLmNvbnRlbnRUeXBlXyB8fCBudWxsIDogbnVsbDtcbiAgfTtcbiAgZmFrZVhtbEh0dHAucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgdmFyIHJlc3BvbnNlRGF0YSA9IGdldFJlc3BvbnNlKHRoaXMudXJsLCB0aGlzLm1ldGhvZCwgZGF0YSk7XG4gICAgdGhpcy5yZXNwb25zZVRleHQgPSByZXNwb25zZURhdGEudGV4dDtcbiAgICB0aGlzLnN0YXR1cyA9IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJlc3BvbnNlRGF0YS5zdGF0dXMgPyByZXNwb25zZURhdGEuc3RhdHVzKCkgOiByZXNwb25zZURhdGEuc3RhdHVzO1xuICAgIHRoaXMuY29udGVudFR5cGVfID0gcmVzcG9uc2VEYXRhLmNvbnRlbnRUeXBlO1xuICB9O1xuICBnb29nLm5ldC5YbWxIdHRwLnNldEdsb2JhbEZhY3Rvcnkoe2NyZWF0ZUluc3RhbmNlOmZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgZmFrZVhtbEh0dHAoKTtcbiAgfSwgZ2V0T3B0aW9uczpmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge307XG4gIH19KTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5pc0F1dGhUb2tlblJlZnJlc2hpbmdFbmFibGVkXyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gISghbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXV0aFRva2VuUmVmcmVzaGVyXyB8fCAhbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXV0aENsaWVudElkXyk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuY2FsY3VsYXRlUmV0cnlXYWl0XyA9IGZ1bmN0aW9uKHJldHJ5Q291bnQpIHtcbiAgcmV0dXJuIE1hdGgubWluKG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50Lk1BWF9SRVRSWV9XQUlUXywgTWF0aC5wb3coMiwgcmV0cnlDb3VudCkgKiBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5CQVNFX1JFVFJZX1dBSVRfKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zbGVlcF8gPSBmdW5jdGlvbih0aW1lSW5Ncykge1xuICBmb3IgKHZhciBlbmQgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpICsgdGltZUluTXM7IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgPCBlbmQ7KSB7XG4gIH1cbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5OZXR3b3JrUmVxdWVzdF8gPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5yZXF1ZXN0UXVldWVfID0gW107XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5SRVFVRVNUX1RIUk9UVExFX0lOVEVSVkFMX01TXyA9IDM1MDtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LlJlcXVlc3RUaHJvdHRsZV8gPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXN5bmMkVGhyb3R0bGVfVGhyb3R0bGUoZnVuY3Rpb24oKSB7XG4gIHZhciByZXF1ZXN0ID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQucmVxdWVzdFF1ZXVlXy5zaGlmdCgpO1xuICByZXF1ZXN0ICYmIGdvb2cubmV0LlhocklvLnNlbmQocmVxdWVzdC51cmwsIHJlcXVlc3QuY2FsbGJhY2ssIHJlcXVlc3QubWV0aG9kLCByZXF1ZXN0LmNvbnRlbnQsIHJlcXVlc3QuaGVhZGVycywgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZGVhZGxpbmVNc18pO1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9pc0VtcHR5KG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnJlcXVlc3RRdWV1ZV8pIHx8IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LlJlcXVlc3RUaHJvdHRsZV8uZmlyZSgpO1xufSwgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuUkVRVUVTVF9USFJPVFRMRV9JTlRFUlZBTF9NU18pO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXBpQmFzZVVybF8gPSBudWxsO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQudGlsZUJhc2VVcmxfID0gbnVsbDtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnhzcmZUb2tlbl8gPSBudWxsO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXBwSWRUb2tlbl8gPSBudWxsO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQucGFyYW1BdWdtZW50ZXJfID0gZ29vZy5mdW5jdGlvbnMuaWRlbnRpdHk7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5hdXRoVG9rZW5fID0gbnVsbDtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmF1dGhUb2tlbkV4cGlyYXRpb25fID0gbnVsbDtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmF1dGhDbGllbnRJZF8gPSBudWxsO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuYXV0aFNjb3Blc18gPSBbXTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmF1dGhUb2tlblJlZnJlc2hlcl8gPSBudWxsO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuQVVUSF9TQ09QRV8gPSBcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvZWFydGhlbmdpbmVcIjtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LlJFQURfT05MWV9BVVRIX1NDT1BFXyA9IFwiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9lYXJ0aGVuZ2luZS5yZWFkb25seVwiO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuQ0xPVURfUExBVEZPUk1fU0NPUEVfID0gXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9hdXRoL2Nsb3VkLXBsYXRmb3JtXCI7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5ERUZBVUxUX0FVVEhfU0NPUEVTXyA9IFttb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5BVVRIX1NDT1BFXywgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuQ0xPVURfUExBVEZPUk1fU0NPUEVfXTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LkFVVEhfTElCUkFSWV9VUkxfID0gZ29vZy5zdHJpbmcuQ29uc3QuZnJvbShcImh0dHBzOi8vYXBpcy5nb29nbGUuY29tL2pzL2NsaWVudC5qcz9vbmxvYWQ9JXtvbmxvYWR9XCIpO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuU1RPUkFHRV9TQ09QRV8gPSBcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2F1dGgvZGV2c3RvcmFnZS5yZWFkX3dyaXRlXCI7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5jbG91ZEFwaUtleV8gPSBudWxsO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuaW5pdGlhbGl6ZWRfID0gITE7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5kZWFkbGluZU1zXyA9IDA7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5wcm9maWxlSG9va18gPSBudWxsO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuQkFTRV9SRVRSWV9XQUlUXyA9IDEwMDA7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5NQVhfUkVUUllfV0FJVF8gPSAxMjAwMDA7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5NQVhfQVNZTkNfUkVUUklFU18gPSAxMDtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50Lk1BWF9TWU5DX1JFVFJJRVNfID0gNTtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LkFQUF9JRF9UT0tFTl9IRUFERVJfID0gXCJYLUVhcnRoLUVuZ2luZS1BcHAtSUQtVG9rZW5cIjtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LlBST0ZJTEVfSEVBREVSID0gXCJYLUVhcnRoLUVuZ2luZS1Db21wdXRhdGlvbi1Qcm9maWxlXCI7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5QUk9GSUxFX1JFUVVFU1RfSEVBREVSID0gXCJYLUVhcnRoLUVuZ2luZS1Db21wdXRhdGlvbi1Qcm9maWxpbmdcIjtcbm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LlVTRVJfUFJPSkVDVF9PVkVSUklERV9IRUFERVJfID0gXCJYLUdvb2ctVXNlci1Qcm9qZWN0XCI7XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5BUElfQ0xJRU5UX1ZFUlNJT05fSEVBREVSID0gXCJ4LWdvb2ctYXBpLWNsaWVudFwiO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuREVGQVVMVF9BUElfQkFTRV9VUkxfID0gXCJodHRwczovL2VhcnRoZW5naW5lLmdvb2dsZWFwaXMuY29tL2FwaVwiO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuREVGQVVMVF9USUxFX0JBU0VfVVJMXyA9IFwiaHR0cHM6Ly9lYXJ0aGVuZ2luZS5nb29nbGVhcGlzLmNvbVwiO1xubW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuQXV0aEFyZ3MgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5BdXRoUmVzcG9uc2UgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5hcGljbGllbnQuQ2FsbCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbDtcbmVlLmFwaWNsaWVudC5CYXRjaENhbGwgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0JhdGNoQ2FsbDtcbmVlLmFwaWNsaWVudC5zZXRBcGlLZXkgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZXRBcGlLZXk7XG5lZS5hcGljbGllbnQuZ2V0QXBpS2V5ID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZ2V0QXBpS2V5O1xuZWUuYXBpY2xpZW50LnNldFByb2plY3QgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZXRQcm9qZWN0O1xuZWUuYXBpY2xpZW50LmdldFByb2plY3QgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRQcm9qZWN0O1xuZWUuYXBpY2xpZW50LkRFRkFVTFRfUFJPSkVDVCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LkRFRkFVTFRfUFJPSkVDVF87XG5lZS5hcGljbGllbnQuUFJPRklMRV9IRUFERVIgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5QUk9GSUxFX0hFQURFUjtcbmVlLmFwaWNsaWVudC5QUk9GSUxFX1JFUVVFU1RfSEVBREVSID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuUFJPRklMRV9SRVFVRVNUX0hFQURFUjtcbmVlLmFwaWNsaWVudC5BUElfQ0xJRU5UX1ZFUlNJT05fSEVBREVSID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuQVBJX0NMSUVOVF9WRVJTSU9OX0hFQURFUjtcbmVlLmFwaWNsaWVudC5zZW5kID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2VuZDtcbmVlLmFwaWNsaWVudC5BVVRIX1NDT1BFID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuQVVUSF9TQ09QRV87XG5lZS5hcGljbGllbnQuUkVBRF9PTkxZX0FVVEhfU0NPUEUgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5SRUFEX09OTFlfQVVUSF9TQ09QRV87XG5lZS5hcGljbGllbnQuQ0xPVURfUExBVEZPUk1fU0NPUEUgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5DTE9VRF9QTEFURk9STV9TQ09QRV87XG5lZS5hcGljbGllbnQuU1RPUkFHRV9TQ09QRSA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LlNUT1JBR0VfU0NPUEVfO1xuZWUuYXBpY2xpZW50LkRFRkFVTFRfQVVUSF9TQ09QRVMgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5ERUZBVUxUX0FVVEhfU0NPUEVTXztcbmVlLmFwaWNsaWVudC5tYWtlUmVxdWVzdCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50Lm1ha2VSZXF1ZXN0XztcbmVlLmFwaWNsaWVudC5yZXNldCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnJlc2V0O1xuZWUuYXBpY2xpZW50LmluaXRpYWxpemUgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5pbml0aWFsaXplO1xuZWUuYXBpY2xpZW50LnNldERlYWRsaW5lID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0RGVhZGxpbmU7XG5lZS5hcGljbGllbnQuaXNJbml0aWFsaXplZCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmlzSW5pdGlhbGl6ZWQ7XG5lZS5hcGljbGllbnQuZW5zdXJlQXV0aExpYkxvYWRlZCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmVuc3VyZUF1dGhMaWJMb2FkZWRfO1xuZWUuYXBpY2xpZW50LmhhbmRsZUF1dGhSZXN1bHQgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5oYW5kbGVBdXRoUmVzdWx0XztcbmVlLmFwaWNsaWVudC5yZWZyZXNoQXV0aFRva2VuID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQucmVmcmVzaEF1dGhUb2tlbjtcbmVlLmFwaWNsaWVudC5zZXRBdXRoQ2xpZW50ID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0QXV0aENsaWVudDtcbmVlLmFwaWNsaWVudC5nZXRBdXRoU2NvcGVzID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZ2V0QXV0aFNjb3BlcztcbmVlLmFwaWNsaWVudC5nZXRBdXRoQ2xpZW50SWQgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRBdXRoQ2xpZW50SWQ7XG5lZS5hcGljbGllbnQuZ2V0QXV0aFRva2VuID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZ2V0QXV0aFRva2VuO1xuZWUuYXBpY2xpZW50LnNldEF1dGhUb2tlbiA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnNldEF1dGhUb2tlbjtcbmVlLmFwaWNsaWVudC5jbGVhckF1dGhUb2tlbiA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmNsZWFyQXV0aFRva2VuO1xuZWUuYXBpY2xpZW50LnNldEF1dGhUb2tlblJlZnJlc2hlciA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnNldEF1dGhUb2tlblJlZnJlc2hlcjtcbmVlLmFwaWNsaWVudC5zZXRBcHBJZFRva2VuID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0QXBwSWRUb2tlbjtcbmVlLmFwaWNsaWVudC5tZXJnZUF1dGhTY29wZXMgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5tZXJnZUF1dGhTY29wZXNfO1xuZWUuYXBpY2xpZW50LnNldHVwTW9ja1NlbmQgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZXR1cE1vY2tTZW5kO1xuZWUuYXBpY2xpZW50LnNldFBhcmFtQXVnbWVudGVyID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0UGFyYW1BdWdtZW50ZXI7XG5lZS5hcGljbGllbnQud2l0aFByb2ZpbGluZyA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LndpdGhQcm9maWxpbmc7XG5lZS5hcGljbGllbnQuZ2V0QXBpQmFzZVVybCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldEFwaUJhc2VVcmw7XG5lZS5hcGljbGllbnQuZ2V0VGlsZUJhc2VVcmwgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRUaWxlQmFzZVVybDtcbmVlLmFwaWNsaWVudC5BdXRoQXJncyA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LkF1dGhBcmdzO1xuZWUuYXBpY2xpZW50LkF1dGhSZXNwb25zZSA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LkF1dGhSZXNwb25zZTtcbmVlLmFwaWNsaWVudC5SZXF1ZXN0VGhyb3R0bGUgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5SZXF1ZXN0VGhyb3R0bGVfO1xuZWUuYXBpY2xpZW50LmNhbGN1bGF0ZVJldHJ5V2FpdCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmNhbGN1bGF0ZVJldHJ5V2FpdF87XG5lZS5hcGljbGllbnQuTUFYX0FTWU5DX1JFVFJJRVMgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5NQVhfQVNZTkNfUkVUUklFU187XG5lZS5hcGljbGllbnQuUkVRVUVTVF9USFJPVFRMRV9JTlRFUlZBTF9NUyA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LlJFUVVFU1RfVEhST1RUTEVfSU5URVJWQUxfTVNfO1xuZWUuYXBpY2xpZW50LmlzQXV0aFRva2VuUmVmcmVzaGluZ0VuYWJsZWQgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5pc0F1dGhUb2tlblJlZnJlc2hpbmdFbmFibGVkXztcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuYXBpLkxpc3RBc3NldHNSZXNwb25zZVwiLCBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkxpc3RBc3NldHNSZXNwb25zZSk7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmFwaS5FYXJ0aEVuZ2luZUFzc2V0XCIsIG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRWFydGhFbmdpbmVBc3NldCk7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmFwaS5MaXN0SW1hZ2VzUmVzcG9uc2VcIiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5MaXN0SW1hZ2VzUmVzcG9uc2UpO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5hcGkuSW1hZ2VcIiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZSk7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmFwaS5PcGVyYXRpb25cIiwgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb24pO1xuZWUuRW5jb2RhYmxlID0gZnVuY3Rpb24oKSB7XG59O1xuZWUucnBjX25vZGUgPSB7fTtcbmVlLnJwY19ub2RlLmNvbnN0YW50ID0gZnVuY3Rpb24ob2JqKSB7XG4gIGlmICh2b2lkIDAgPT09IG9iaiB8fCBudWxsID09PSBvYmopIHtcbiAgICBvYmogPSBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0Lk5VTExfVkFMVUU7XG4gIH1cbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZhbHVlTm9kZSh7Y29uc3RhbnRWYWx1ZTpvYmp9KTtcbn07XG5lZS5ycGNfbm9kZS5yZWZlcmVuY2UgPSBmdW5jdGlvbihyZWYpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZhbHVlTm9kZSh7dmFsdWVSZWZlcmVuY2U6cmVmfSk7XG59O1xuZWUucnBjX25vZGUuYXJyYXkgPSBmdW5jdGlvbih2YWx1ZXMpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZhbHVlTm9kZSh7YXJyYXlWYWx1ZTpuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5BcnJheVZhbHVlKHt2YWx1ZXM6dmFsdWVzfSl9KTtcbn07XG5lZS5ycGNfbm9kZS5kaWN0aW9uYXJ5ID0gZnVuY3Rpb24odmFsdWVzKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WYWx1ZU5vZGUoe2RpY3Rpb25hcnlWYWx1ZTpuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EaWN0aW9uYXJ5VmFsdWUoe3ZhbHVlczp2YWx1ZXN9KX0pO1xufTtcbmVlLnJwY19ub2RlLmZ1bmN0aW9uQnlOYW1lID0gZnVuY3Rpb24obmFtZSwgYXJncykge1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmFsdWVOb2RlKHtmdW5jdGlvbkludm9jYXRpb25WYWx1ZTpuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GdW5jdGlvbkludm9jYXRpb24oe2Z1bmN0aW9uTmFtZTpuYW1lLCBhcmd1bWVudHM6YXJnc30pfSk7XG59O1xuZWUucnBjX25vZGUuZnVuY3Rpb25CeVJlZmVyZW5jZSA9IGZ1bmN0aW9uKHJlZiwgYXJncykge1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmFsdWVOb2RlKHtmdW5jdGlvbkludm9jYXRpb25WYWx1ZTpuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GdW5jdGlvbkludm9jYXRpb24oe2Z1bmN0aW9uUmVmZXJlbmNlOnJlZiwgYXJndW1lbnRzOmFyZ3N9KX0pO1xufTtcbmVlLnJwY19ub2RlLmZ1bmN0aW9uRGVmaW5pdGlvbiA9IGZ1bmN0aW9uKGFyZ3VtZW50TmFtZXMsIGJvZHkpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZhbHVlTm9kZSh7ZnVuY3Rpb25EZWZpbml0aW9uVmFsdWU6bmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRnVuY3Rpb25EZWZpbml0aW9uKHthcmd1bWVudE5hbWVzOmFyZ3VtZW50TmFtZXMsIGJvZHk6Ym9keX0pfSk7XG59O1xuZWUucnBjX25vZGUuYXJndW1lbnRSZWZlcmVuY2UgPSBmdW5jdGlvbihyZWYpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZhbHVlTm9kZSh7YXJndW1lbnRSZWZlcmVuY2U6cmVmfSk7XG59O1xuZWUucnBjX2NvbnZlcnQgPSB7fTtcbmVlLnJwY19jb252ZXJ0LmZpbGVGb3JtYXQgPSBmdW5jdGlvbihmb3JtYXQpIHtcbiAgaWYgKCFmb3JtYXQpIHtcbiAgICByZXR1cm4gXCJBVVRPX0pQRUdfUE5HXCI7XG4gIH1cbiAgdmFyIHVwcGVyID0gZm9ybWF0LnRvVXBwZXJDYXNlKCk7XG4gIHN3aXRjaCh1cHBlcikge1xuICAgIGNhc2UgXCJKUEdcIjpcbiAgICAgIHJldHVybiBcIkpQRUdcIjtcbiAgICBjYXNlIFwiQVVUT1wiOlxuICAgICAgcmV0dXJuIFwiQVVUT19KUEVHX1BOR1wiO1xuICAgIGNhc2UgXCJUSUZcIjpcbiAgICBjYXNlIFwiVElGRlwiOlxuICAgIGNhc2UgXCJHRU9USUZcIjpcbiAgICBjYXNlIFwiR0VPVElGRlwiOlxuICAgICAgcmV0dXJuIFwiR0VPX1RJRkZcIjtcbiAgICBjYXNlIFwiVEZfUkVDT1JEXCI6XG4gICAgY2FzZSBcIlRGUkVDT1JEXCI6XG4gICAgICByZXR1cm4gXCJURl9SRUNPUkRfSU1BR0VcIjtcbiAgICBjYXNlIFwiTlVNUFlcIjpcbiAgICAgIHJldHVybiBcIk5QWVwiO1xuICAgIGNhc2UgXCJaSVBQRURfVElGXCI6XG4gICAgY2FzZSBcIlpJUFBFRF9USUZGXCI6XG4gICAgY2FzZSBcIlpJUFBFRF9HRU9USUZcIjpcbiAgICBjYXNlIFwiWklQUEVEX0dFT1RJRkZcIjpcbiAgICAgIHJldHVybiBcIlpJUFBFRF9HRU9fVElGRlwiO1xuICAgIGNhc2UgXCJaSVBQRURfVElGX1BFUl9CQU5EXCI6XG4gICAgY2FzZSBcIlpJUFBFRF9USUZGX1BFUl9CQU5EXCI6XG4gICAgY2FzZSBcIlpJUFBFRF9HRU9USUZfUEVSX0JBTkRcIjpcbiAgICBjYXNlIFwiWklQUEVEX0dFT1RJRkZfUEVSX0JBTkRcIjpcbiAgICAgIHJldHVybiBcIlpJUFBFRF9HRU9fVElGRl9QRVJfQkFORFwiO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdXBwZXI7XG4gIH1cbn07XG5lZS5ycGNfY29udmVydC50YWJsZUZpbGVGb3JtYXQgPSBmdW5jdGlvbihmb3JtYXQpIHtcbiAgaWYgKCFmb3JtYXQpIHtcbiAgICByZXR1cm4gXCJDU1ZcIjtcbiAgfVxuICB2YXIgdXBwZXIgPSBmb3JtYXQudG9VcHBlckNhc2UoKTtcbiAgc3dpdGNoKHVwcGVyKSB7XG4gICAgY2FzZSBcIlRGX1JFQ09SRFwiOlxuICAgIGNhc2UgXCJURlJFQ09SRFwiOlxuICAgICAgcmV0dXJuIFwiVEZfUkVDT1JEX1RBQkxFXCI7XG4gICAgY2FzZSBcIkpTT05cIjpcbiAgICBjYXNlIFwiR0VPSlNPTlwiOlxuICAgICAgcmV0dXJuIFwiR0VPX0pTT05cIjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHVwcGVyO1xuICB9XG59O1xuZWUucnBjX2NvbnZlcnQub3JpZW50YXRpb24gPSBmdW5jdGlvbihvcmllbnRhdGlvbikge1xuICBpZiAoIW9yaWVudGF0aW9uKSB7XG4gICAgcmV0dXJuIFwiVkVSVElDQUxcIjtcbiAgfVxuICB2YXIgdXBwZXIgPSBvcmllbnRhdGlvbi50b1VwcGVyQ2FzZSgpO1xuICBpZiAoXCJIT1JJWk9OVEFMXCIgIT09IHVwcGVyIHx8IFwiVkVSVElDQUxcIiAhPT0gdXBwZXIpIHtcbiAgICB0aHJvdyBFcnJvcignT3JpZW50YXRpb24gbXVzdCBiZSBcImhvcml6b250YWxcIiBvciBcInZlcnRpY2FsXCInKTtcbiAgfVxuICByZXR1cm4gdXBwZXI7XG59O1xuZWUucnBjX2NvbnZlcnQuYmFuZExpc3QgPSBmdW5jdGlvbihiYW5kcykge1xuICBpZiAoIWJhbmRzKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgYmFuZHMpIHtcbiAgICByZXR1cm4gYmFuZHMuc3BsaXQoXCIsXCIpO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KGJhbmRzKSkge1xuICAgIHJldHVybiBiYW5kcztcbiAgfVxuICB0aHJvdyBFcnJvcihcIkludmFsaWQgYmFuZCBsaXN0IFwiICsgYmFuZHMpO1xufTtcbmVlLnJwY19jb252ZXJ0LnZpc3VhbGl6YXRpb25PcHRpb25zID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIHZhciByZXN1bHQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaXN1YWxpemF0aW9uT3B0aW9ucygpLCBoYXNSZXN1bHQgPSAhMTtcbiAgaWYgKFwicGFsZXR0ZVwiIGluIHBhcmFtcykge1xuICAgIHZhciBwYWwgPSBwYXJhbXMucGFsZXR0ZTtcbiAgICByZXN1bHQucGFsZXR0ZUNvbG9ycyA9IFwic3RyaW5nXCIgPT09IHR5cGVvZiBwYWwgPyBwYWwuc3BsaXQoXCIsXCIpIDogcGFsO1xuICAgIGhhc1Jlc3VsdCA9ICEwO1xuICB9XG4gIHZhciByYW5nZXMgPSBbXTtcbiAgaWYgKFwiZ2FpblwiIGluIHBhcmFtcyB8fCBcImJpYXNcIiBpbiBwYXJhbXMpIHtcbiAgICBpZiAoXCJtaW5cIiBpbiBwYXJhbXMgfHwgXCJtYXhcIiBpbiBwYXJhbXMpIHtcbiAgICAgIHRocm93IEVycm9yKFwiR2FpbiBhbmQgYmlhcyBjYW4ndCBiZSBzcGVjaWZpZWQgd2l0aCBtaW4gYW5kIG1heFwiKTtcbiAgICB9XG4gICAgdmFyIHZhbHVlUmFuZ2UgPSByZXN1bHQucGFsZXR0ZUNvbG9ycyA/IHJlc3VsdC5wYWxldHRlQ29sb3JzLmxlbmd0aCAtIDEgOiAyNTU7XG4gICAgcmFuZ2VzID0gZWUucnBjX2NvbnZlcnQucGFpcmVkVmFsdWVzKHBhcmFtcywgXCJiaWFzXCIsIFwiZ2FpblwiKS5tYXAoZnVuY3Rpb24ocGFpcikge1xuICAgICAgdmFyIG1pbiA9IC1wYWlyLmJpYXMgLyBwYWlyLmdhaW47XG4gICAgICByZXR1cm4ge21pbjptaW4sIG1heDp2YWx1ZVJhbmdlIC8gcGFpci5nYWluICsgbWlufTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoXCJtaW5cIiBpbiBwYXJhbXMgfHwgXCJtYXhcIiBpbiBwYXJhbXMpIHtcbiAgICAgIHJhbmdlcyA9IGVlLnJwY19jb252ZXJ0LnBhaXJlZFZhbHVlcyhwYXJhbXMsIFwibWluXCIsIFwibWF4XCIpO1xuICAgIH1cbiAgfVxuICAwICE9PSByYW5nZXMubGVuZ3RoICYmIChyZXN1bHQucmFuZ2VzID0gcmFuZ2VzLm1hcChmdW5jdGlvbihyYW5nZSkge1xuICAgIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5Eb3VibGVSYW5nZShyYW5nZSk7XG4gIH0pLCBoYXNSZXN1bHQgPSAhMCk7XG4gIHZhciBnYW1tYXMgPSBlZS5ycGNfY29udmVydC5jc3ZUb051bWJlcnMocGFyYW1zLmdhbW1hKTtcbiAgaWYgKDEgPCBnYW1tYXMubGVuZ3RoKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJPbmx5IG9uZSBnYW1tYSB2YWx1ZSBpcyBzdXBwb3J0ZWRcIik7XG4gIH1cbiAgMSA9PT0gZ2FtbWFzLmxlbmd0aCAmJiAocmVzdWx0LmdhbW1hID0gZ2FtbWFzWzBdLCBoYXNSZXN1bHQgPSAhMCk7XG4gIHJldHVybiBoYXNSZXN1bHQgPyByZXN1bHQgOiBudWxsO1xufTtcbmVlLnJwY19jb252ZXJ0LmNzdlRvTnVtYmVycyA9IGZ1bmN0aW9uKGNzdikge1xuICByZXR1cm4gY3N2ID8gY3N2LnNwbGl0KFwiLFwiKS5tYXAoTnVtYmVyKSA6IFtdO1xufTtcbmVlLnJwY19jb252ZXJ0LnBhaXJlZFZhbHVlcyA9IGZ1bmN0aW9uKG9iaiwgYSwgYikge1xuICB2YXIgYVZhbHVlcyA9IGVlLnJwY19jb252ZXJ0LmNzdlRvTnVtYmVycyhvYmpbYV0pLCBiVmFsdWVzID0gZWUucnBjX2NvbnZlcnQuY3N2VG9OdW1iZXJzKG9ialtiXSk7XG4gIGlmICgwID09PSBhVmFsdWVzLmxlbmd0aCkge1xuICAgIHJldHVybiBiVmFsdWVzLm1hcChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyICRqc2NvbXAkY29tcHByb3AxID0ge307XG4gICAgICByZXR1cm4gJGpzY29tcCRjb21wcHJvcDFbYV0gPSAwLCAkanNjb21wJGNvbXBwcm9wMVtiXSA9IHZhbHVlLCAkanNjb21wJGNvbXBwcm9wMTtcbiAgICB9KTtcbiAgfVxuICBpZiAoMCA9PT0gYlZhbHVlcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gYVZhbHVlcy5tYXAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhciAkanNjb21wJGNvbXBwcm9wMiA9IHt9O1xuICAgICAgcmV0dXJuICRqc2NvbXAkY29tcHByb3AyW2FdID0gdmFsdWUsICRqc2NvbXAkY29tcHByb3AyW2JdID0gMSwgJGpzY29tcCRjb21wcHJvcDI7XG4gICAgfSk7XG4gIH1cbiAgaWYgKGFWYWx1ZXMubGVuZ3RoICE9PSBiVmFsdWVzLmxlbmd0aCkge1xuICAgIHRocm93IEVycm9yKFwiTGVuZ3RoIG9mIFwiICsgYSArIFwiIGFuZCBcIiArIGIgKyBcIiBtdXN0IG1hdGNoLlwiKTtcbiAgfVxuICByZXR1cm4gYVZhbHVlcy5tYXAoZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7XG4gICAgdmFyICRqc2NvbXAkY29tcHByb3AzID0ge307XG4gICAgcmV0dXJuICRqc2NvbXAkY29tcHByb3AzW2FdID0gdmFsdWUsICRqc2NvbXAkY29tcHByb3AzW2JdID0gYlZhbHVlc1tpbmRleF0sICRqc2NvbXAkY29tcHByb3AzO1xuICB9KTtcbn07XG5lZS5ycGNfY29udmVydC5hbGdvcml0aG1zID0gZnVuY3Rpb24ocmVzdWx0KSB7XG4gIGZvciAodmFyIGNvbnZlcnRBcmd1bWVudCA9IGZ1bmN0aW9uKGFyZ3VtZW50KSB7XG4gICAgdmFyIGludGVybmFsQXJndW1lbnQgPSB7fTtcbiAgICBpbnRlcm5hbEFyZ3VtZW50LmRlc2NyaXB0aW9uID0gYXJndW1lbnQuZGVzY3JpcHRpb24gfHwgXCJcIjtcbiAgICBpbnRlcm5hbEFyZ3VtZW50LnR5cGUgPSBhcmd1bWVudC50eXBlIHx8IFwiXCI7XG4gICAgbnVsbCAhPSBhcmd1bWVudC5hcmd1bWVudE5hbWUgJiYgKGludGVybmFsQXJndW1lbnQubmFtZSA9IGFyZ3VtZW50LmFyZ3VtZW50TmFtZSk7XG4gICAgdm9pZCAwICE9PSBhcmd1bWVudC5kZWZhdWx0VmFsdWUgJiYgKGludGVybmFsQXJndW1lbnRbXCJkZWZhdWx0XCJdID0gYXJndW1lbnQuZGVmYXVsdFZhbHVlKTtcbiAgICBudWxsICE9IGFyZ3VtZW50Lm9wdGlvbmFsICYmIChpbnRlcm5hbEFyZ3VtZW50Lm9wdGlvbmFsID0gYXJndW1lbnQub3B0aW9uYWwpO1xuICAgIHJldHVybiBpbnRlcm5hbEFyZ3VtZW50O1xuICB9LCBjb252ZXJ0QWxnb3JpdGhtID0gZnVuY3Rpb24oYWxnb3JpdGhtKSB7XG4gICAgdmFyIGludGVybmFsQWxnb3JpdGhtID0ge307XG4gICAgaW50ZXJuYWxBbGdvcml0aG0uYXJncyA9IChhbGdvcml0aG0uYXJndW1lbnRzIHx8IFtdKS5tYXAoY29udmVydEFyZ3VtZW50KTtcbiAgICBpbnRlcm5hbEFsZ29yaXRobS5kZXNjcmlwdGlvbiA9IGFsZ29yaXRobS5kZXNjcmlwdGlvbiB8fCBcIlwiO1xuICAgIGludGVybmFsQWxnb3JpdGhtLnJldHVybnMgPSBhbGdvcml0aG0ucmV0dXJuVHlwZSB8fCBcIlwiO1xuICAgIG51bGwgIT0gYWxnb3JpdGhtLmhpZGRlbiAmJiAoaW50ZXJuYWxBbGdvcml0aG0uaGlkZGVuID0gYWxnb3JpdGhtLmhpZGRlbik7XG4gICAgYWxnb3JpdGhtLnByZXZpZXcgJiYgKGludGVybmFsQWxnb3JpdGhtLnByZXZpZXcgPSBhbGdvcml0aG0ucHJldmlldyk7XG4gICAgYWxnb3JpdGhtLmRlcHJlY2F0ZWQgJiYgKGludGVybmFsQWxnb3JpdGhtLmRlcHJlY2F0ZWQgPSBhbGdvcml0aG0uZGVwcmVjYXRpb25SZWFzb24pO1xuICAgIGFsZ29yaXRobS5zb3VyY2VDb2RlVXJpICYmIChpbnRlcm5hbEFsZ29yaXRobS5zb3VyY2VDb2RlVXJpID0gYWxnb3JpdGhtLnNvdXJjZUNvZGVVcmkpO1xuICAgIHJldHVybiBpbnRlcm5hbEFsZ29yaXRobTtcbiAgfSwgaW50ZXJuYWxBbGdvcml0aG1zID0ge30sICRqc2NvbXAkaXRlciQyMiA9ICRqc2NvbXAubWFrZUl0ZXJhdG9yKHJlc3VsdC5hbGdvcml0aG1zIHx8IFtdKSwgJGpzY29tcCRrZXkkYWxnb3JpdGhtID0gJGpzY29tcCRpdGVyJDIyLm5leHQoKTsgISRqc2NvbXAka2V5JGFsZ29yaXRobS5kb25lOyAkanNjb21wJGtleSRhbGdvcml0aG0gPSAkanNjb21wJGl0ZXIkMjIubmV4dCgpKSB7XG4gICAgdmFyIGFsZ29yaXRobSRqc2NvbXAkMCA9ICRqc2NvbXAka2V5JGFsZ29yaXRobS52YWx1ZSwgbmFtZSA9IGFsZ29yaXRobSRqc2NvbXAkMC5uYW1lLnJlcGxhY2UoL15hbGdvcml0aG1zXFwvLywgXCJcIik7XG4gICAgaW50ZXJuYWxBbGdvcml0aG1zW25hbWVdID0gY29udmVydEFsZ29yaXRobShhbGdvcml0aG0kanNjb21wJDApO1xuICB9XG4gIHJldHVybiBpbnRlcm5hbEFsZ29yaXRobXM7XG59O1xuZWUucnBjX2NvbnZlcnQuREVGQVVMVF9QUk9KRUNUID0gXCJlYXJ0aGVuZ2luZS1sZWdhY3lcIjtcbmVlLnJwY19jb252ZXJ0LlBVQkxJQ19QUk9KRUNUID0gXCJlYXJ0aGVuZ2luZS1wdWJsaWNcIjtcbmVlLnJwY19jb252ZXJ0LlBST0pFQ1RfSURfUkUgPSAvXnByb2plY3RzXFwvKCg/OlxcdysoPzpbXFx3XFwtXStcXC5bXFx3XFwtXSspKj9cXC5cXHcrOik/W2Etel1bYS16MC05XFwtXXs0LDI4fVthLXowLTldKVxcLy4rLztcbmVlLnJwY19jb252ZXJ0LkNMT1VEX0FTU0VUX0lEX1JFID0gL15wcm9qZWN0c1xcLygoPzpcXHcrKD86W1xcd1xcLV0rXFwuW1xcd1xcLV0rKSo/XFwuXFx3KzopP1thLXpdW2EtejAtOVxcLV17NCwyOH1bYS16MC05XSlcXC9hc3NldHNcXC8oLiopJC87XG5lZS5ycGNfY29udmVydC5DTE9VRF9BU1NFVF9ST09UX1JFID0gL15wcm9qZWN0c1xcLygoPzpcXHcrKD86W1xcd1xcLV0rXFwuW1xcd1xcLV0rKSo/XFwuXFx3KzopP1thLXpdW2EtejAtOVxcLV17NCwyOH1bYS16MC05XSlcXC9hc3NldHNcXC8/JC87XG5lZS5ycGNfY29udmVydC5wcm9qZWN0SWRGcm9tUGF0aCA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgdmFyIG1hdGNoZXMgPSBlZS5ycGNfY29udmVydC5QUk9KRUNUX0lEX1JFLmV4ZWMocGF0aCk7XG4gIHJldHVybiBtYXRjaGVzID8gbWF0Y2hlc1sxXSA6IGVlLnJwY19jb252ZXJ0LkRFRkFVTFRfUFJPSkVDVDtcbn07XG5lZS5ycGNfY29udmVydC5wcm9qZWN0UGFyZW50RnJvbVBhdGggPSBmdW5jdGlvbihwYXRoKSB7XG4gIHJldHVybiBcInByb2plY3RzL1wiICsgZWUucnBjX2NvbnZlcnQucHJvamVjdElkRnJvbVBhdGgocGF0aCk7XG59O1xuZWUucnBjX2NvbnZlcnQuYXNzZXRJZFRvQXNzZXROYW1lID0gZnVuY3Rpb24ocGFyYW0pIHtcbiAgcmV0dXJuIGVlLnJwY19jb252ZXJ0LkNMT1VEX0FTU0VUX0lEX1JFLmV4ZWMocGFyYW0pID8gcGFyYW0gOiAvXih1c2Vyc3xwcm9qZWN0cylcXC8uKi8uZXhlYyhwYXJhbSkgPyBcInByb2plY3RzL1wiICsgZWUucnBjX2NvbnZlcnQuREVGQVVMVF9QUk9KRUNUICsgXCIvYXNzZXRzL1wiICsgcGFyYW0gOiBcInByb2plY3RzL1wiICsgZWUucnBjX2NvbnZlcnQuUFVCTElDX1BST0pFQ1QgKyBcIi9hc3NldHMvXCIgKyBwYXJhbTtcbn07XG5lZS5ycGNfY29udmVydC5hc3NldE5hbWVUb0Fzc2V0SWQgPSBmdW5jdGlvbihuYW1lKSB7XG4gIHZhciBwYXJ0cyA9IG5hbWUuc3BsaXQoXCIvXCIpLCBpc0xlZ2FjeVByb2plY3QgPSBmdW5jdGlvbihpZCkge1xuICAgIHJldHVybiBbZWUucnBjX2NvbnZlcnQuREVGQVVMVF9QUk9KRUNULCBlZS5ycGNfY29udmVydC5QVUJMSUNfUFJPSkVDVF0uaW5jbHVkZXMoaWQpO1xuICB9O1xuICByZXR1cm4gXCJwcm9qZWN0c1wiID09PSBwYXJ0c1swXSAmJiBcImFzc2V0c1wiID09PSBwYXJ0c1syXSAmJiBpc0xlZ2FjeVByb2plY3QocGFydHNbMV0pID8gcGFydHMuc2xpY2UoMykuam9pbihcIi9cIikgOiBuYW1lO1xufTtcbmVlLnJwY19jb252ZXJ0LmFzc2V0VHlwZUZvckNyZWF0ZSA9IGZ1bmN0aW9uKHBhcmFtKSB7XG4gIHN3aXRjaChwYXJhbSkge1xuICAgIGNhc2UgXCJJbWFnZUNvbGxlY3Rpb25cIjpcbiAgICAgIHJldHVybiBcIklNQUdFX0NPTExFQ1RJT05cIjtcbiAgICBjYXNlIFwiRm9sZGVyXCI6XG4gICAgICByZXR1cm4gXCJGT0xERVJcIjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHBhcmFtO1xuICB9XG59O1xuZWUucnBjX2NvbnZlcnQubGlzdEFzc2V0c1RvR2V0TGlzdCA9IGZ1bmN0aW9uKHJlc3VsdCkge1xuICByZXR1cm4gKHJlc3VsdC5hc3NldHMgfHwgW10pLm1hcChlZS5ycGNfY29udmVydC5hc3NldFRvTGVnYWN5UmVzdWx0KTtcbn07XG5lZS5ycGNfY29udmVydC5saXN0SW1hZ2VzVG9HZXRMaXN0ID0gZnVuY3Rpb24ocmVzdWx0KSB7XG4gIHJldHVybiAocmVzdWx0LmltYWdlcyB8fCBbXSkubWFwKGVlLnJwY19jb252ZXJ0LmltYWdlVG9MZWdhY3lSZXN1bHQpO1xufTtcbmVlLnJwY19jb252ZXJ0LmFzc2V0VHlwZVRvTGVnYWN5QXNzZXRUeXBlID0gZnVuY3Rpb24odHlwZSkge1xuICBzd2l0Y2godHlwZSkge1xuICAgIGNhc2UgXCJBTEdPUklUSE1cIjpcbiAgICAgIHJldHVybiBcIkFsZ29yaXRobVwiO1xuICAgIGNhc2UgXCJGT0xERVJcIjpcbiAgICAgIHJldHVybiBcIkZvbGRlclwiO1xuICAgIGNhc2UgXCJJTUFHRVwiOlxuICAgICAgcmV0dXJuIFwiSW1hZ2VcIjtcbiAgICBjYXNlIFwiSU1BR0VfQ09MTEVDVElPTlwiOlxuICAgICAgcmV0dXJuIFwiSW1hZ2VDb2xsZWN0aW9uXCI7XG4gICAgY2FzZSBcIlRBQkxFXCI6XG4gICAgICByZXR1cm4gXCJUYWJsZVwiO1xuICAgIGNhc2UgXCJDTEFTU0lGSUVSXCI6XG4gICAgICByZXR1cm4gXCJDbGFzc2lmaWVyXCI7XG4gICAgY2FzZSBcIkRBVEFfTUFQUElOR19TRVJWSUNFXCI6XG4gICAgICByZXR1cm4gXCJGZWF0dXJlVmlld1wiO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gXCJVbmtub3duXCI7XG4gIH1cbn07XG5lZS5ycGNfY29udmVydC5sZWdhY3lBc3NldFR5cGVUb0Fzc2V0VHlwZSA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgc3dpdGNoKHR5cGUpIHtcbiAgICBjYXNlIFwiQWxnb3JpdGhtXCI6XG4gICAgICByZXR1cm4gXCJBTEdPUklUSE1cIjtcbiAgICBjYXNlIFwiRm9sZGVyXCI6XG4gICAgICByZXR1cm4gXCJGT0xERVJcIjtcbiAgICBjYXNlIFwiSW1hZ2VcIjpcbiAgICAgIHJldHVybiBcIklNQUdFXCI7XG4gICAgY2FzZSBcIkltYWdlQ29sbGVjdGlvblwiOlxuICAgICAgcmV0dXJuIFwiSU1BR0VfQ09MTEVDVElPTlwiO1xuICAgIGNhc2UgXCJUYWJsZVwiOlxuICAgICAgcmV0dXJuIFwiVEFCTEVcIjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFwiVU5LTk9XTlwiO1xuICB9XG59O1xuZWUucnBjX2NvbnZlcnQuYXNzZXRUb0xlZ2FjeVJlc3VsdCA9IGZ1bmN0aW9uKHJlc3VsdCkge1xuICB2YXIgYXNzZXQgPSBlZS5ycGNfY29udmVydC5tYWtlTGVnYWN5QXNzZXRfKGVlLnJwY19jb252ZXJ0LmFzc2V0VHlwZVRvTGVnYWN5QXNzZXRUeXBlKHJlc3VsdC50eXBlKSwgcmVzdWx0Lm5hbWUpLCBwcm9wZXJ0aWVzID0gT2JqZWN0LmFzc2lnbih7fSwgcmVzdWx0LnByb3BlcnRpZXMgfHwge30pO1xuICByZXN1bHQuc2l6ZUJ5dGVzICYmIChwcm9wZXJ0aWVzW1wic3lzdGVtOmFzc2V0X3NpemVcIl0gPSBOdW1iZXIocmVzdWx0LnNpemVCeXRlcykpO1xuICByZXN1bHQuc3RhcnRUaW1lICYmIChwcm9wZXJ0aWVzW1wic3lzdGVtOnRpbWVfc3RhcnRcIl0gPSBEYXRlLnBhcnNlKHJlc3VsdC5zdGFydFRpbWUpKTtcbiAgcmVzdWx0LmVuZFRpbWUgJiYgKHByb3BlcnRpZXNbXCJzeXN0ZW06dGltZV9lbmRcIl0gPSBEYXRlLnBhcnNlKHJlc3VsdC5lbmRUaW1lKSk7XG4gIHJlc3VsdC5nZW9tZXRyeSAmJiAocHJvcGVydGllc1tcInN5c3RlbTpmb290cHJpbnRcIl0gPSByZXN1bHQuZ2VvbWV0cnkpO1xuICBcInN0cmluZ1wiID09PSB0eXBlb2YgcmVzdWx0LnRpdGxlICYmIChwcm9wZXJ0aWVzW1wic3lzdGVtOnRpdGxlXCJdID0gcmVzdWx0LnRpdGxlKTtcbiAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHJlc3VsdC5kZXNjcmlwdGlvbiAmJiAocHJvcGVydGllc1tcInN5c3RlbTpkZXNjcmlwdGlvblwiXSA9IHJlc3VsdC5kZXNjcmlwdGlvbik7XG4gIHJlc3VsdC51cGRhdGVUaW1lICYmIChhc3NldC52ZXJzaW9uID0gMTAwMCAqIERhdGUucGFyc2UocmVzdWx0LnVwZGF0ZVRpbWUpKTtcbiAgYXNzZXQucHJvcGVydGllcyA9IHByb3BlcnRpZXM7XG4gIHJlc3VsdC5iYW5kcyAmJiAoYXNzZXQuYmFuZHMgPSByZXN1bHQuYmFuZHMubWFwKGZ1bmN0aW9uKGJhbmQpIHtcbiAgICB2YXIgbGVnYWN5QmFuZCA9IHtpZDpiYW5kLmlkLCBjcnM6YmFuZC5ncmlkLmNyc0NvZGUsIGRpbWVuc2lvbnM6dm9pZCAwLCBjcnNfdHJhbnNmb3JtOnZvaWQgMCx9O1xuICAgIGlmIChiYW5kLmdyaWQpIHtcbiAgICAgIGlmIChudWxsICE9IGJhbmQuZ3JpZC5hZmZpbmVUcmFuc2Zvcm0pIHtcbiAgICAgICAgdmFyIGFmZmluZSA9IGJhbmQuZ3JpZC5hZmZpbmVUcmFuc2Zvcm07XG4gICAgICAgIGxlZ2FjeUJhbmQuY3JzX3RyYW5zZm9ybSA9IFthZmZpbmUuc2NhbGVYIHx8IDAsIGFmZmluZS5zaGVhclggfHwgMCwgYWZmaW5lLnRyYW5zbGF0ZVggfHwgMCwgYWZmaW5lLnNoZWFyWSB8fCAwLCBhZmZpbmUuc2NhbGVZIHx8IDAsIGFmZmluZS50cmFuc2xhdGVZIHx8IDAsXTtcbiAgICAgIH1cbiAgICAgIG51bGwgIT0gYmFuZC5ncmlkLmRpbWVuc2lvbnMgJiYgKGxlZ2FjeUJhbmQuZGltZW5zaW9ucyA9IFtiYW5kLmdyaWQuZGltZW5zaW9ucy53aWR0aCwgYmFuZC5ncmlkLmRpbWVuc2lvbnMuaGVpZ2h0XSk7XG4gICAgfVxuICAgIGlmIChiYW5kLmRhdGFUeXBlKSB7XG4gICAgICB2YXIgZGF0YVR5cGUgPSB7dHlwZTpcIlBpeGVsVHlwZVwifTtcbiAgICAgIGRhdGFUeXBlLnByZWNpc2lvbiA9IChiYW5kLmRhdGFUeXBlLnByZWNpc2lvbiB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgYmFuZC5kYXRhVHlwZS5yYW5nZSAmJiAoZGF0YVR5cGUubWluID0gYmFuZC5kYXRhVHlwZS5yYW5nZS5taW4gfHwgMCwgZGF0YVR5cGUubWF4ID0gYmFuZC5kYXRhVHlwZS5yYW5nZS5tYXgpO1xuICAgICAgbGVnYWN5QmFuZC5kYXRhX3R5cGUgPSBkYXRhVHlwZTtcbiAgICB9XG4gICAgcmV0dXJuIGxlZ2FjeUJhbmQ7XG4gIH0pKTtcbiAgcmVzdWx0LmRtc0Fzc2V0TG9jYXRpb24gJiYgKGFzc2V0Lm1hcExvY2F0aW9uID0gcmVzdWx0LmRtc0Fzc2V0TG9jYXRpb24pO1xuICByZXN1bHQuZmVhdHVyZUNvdW50ICYmIChhc3NldC5mZWF0dXJlQ291bnQgPSByZXN1bHQuZmVhdHVyZUNvdW50KTtcbiAgcmV0dXJuIGFzc2V0O1xufTtcbmVlLnJwY19jb252ZXJ0LmxlZ2FjeVByb3BlcnRpZXNUb0Fzc2V0VXBkYXRlID0gZnVuY3Rpb24obGVnYWN5UHJvcGVydGllcykge1xuICB2YXIgYXNzZXQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZUFzc2V0KCksIHRvVGltZXN0YW1wID0gZnVuY3Rpb24obXNlYykge1xuICAgIHJldHVybiAobmV3IERhdGUoTnVtYmVyKG1zZWMpKSkudG9JU09TdHJpbmcoKTtcbiAgfSwgYXNOdWxsID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gbnVsbCA9PT0gdmFsdWUgPyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0Lk5VTExfVkFMVUUgOiB2b2lkIDA7XG4gIH0sIHByb3BlcnRpZXMgPSBPYmplY3QuYXNzaWduKHt9LCBsZWdhY3lQcm9wZXJ0aWVzKSwgdmFsdWUkanNjb21wJDAsIGV4dHJhY3RWYWx1ZSA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHZhbHVlJGpzY29tcCQwID0gcHJvcGVydGllc1trZXldO1xuICAgIGRlbGV0ZSBwcm9wZXJ0aWVzW2tleV07XG4gICAgcmV0dXJuIHZhbHVlJGpzY29tcCQwO1xuICB9O1xuICB2b2lkIDAgIT09IGV4dHJhY3RWYWx1ZShcInN5c3RlbTphc3NldF9zaXplXCIpICYmIChhc3NldC5zaXplQnl0ZXMgPSBhc051bGwodmFsdWUkanNjb21wJDApIHx8IFN0cmluZyh2YWx1ZSRqc2NvbXAkMCkpO1xuICB2b2lkIDAgIT09IGV4dHJhY3RWYWx1ZShcInN5c3RlbTp0aW1lX3N0YXJ0XCIpICYmIChhc3NldC5zdGFydFRpbWUgPSBhc051bGwodmFsdWUkanNjb21wJDApIHx8IHRvVGltZXN0YW1wKHZhbHVlJGpzY29tcCQwKSk7XG4gIHZvaWQgMCAhPT0gZXh0cmFjdFZhbHVlKFwic3lzdGVtOnRpbWVfZW5kXCIpICYmIChhc3NldC5lbmRUaW1lID0gYXNOdWxsKHZhbHVlJGpzY29tcCQwKSB8fCB0b1RpbWVzdGFtcCh2YWx1ZSRqc2NvbXAkMCkpO1xuICB2b2lkIDAgIT09IGV4dHJhY3RWYWx1ZShcInN5c3RlbTpmb290cHJpbnRcIikgJiYgKGFzc2V0Lmdlb21ldHJ5ID0gYXNOdWxsKHZhbHVlJGpzY29tcCQwKSB8fCB2YWx1ZSRqc2NvbXAkMCk7XG4gIGV4dHJhY3RWYWx1ZShcInN5c3RlbTp0aXRsZVwiKTtcbiAgXCJzdHJpbmdcIiAhPT0gdHlwZW9mIHZhbHVlJGpzY29tcCQwICYmIG51bGwgIT09IHZhbHVlJGpzY29tcCQwIHx8IG51bGwgIT0gcHJvcGVydGllcy50aXRsZSB8fCAocHJvcGVydGllcy50aXRsZSA9IGFzTnVsbCh2YWx1ZSRqc2NvbXAkMCkgfHwgdmFsdWUkanNjb21wJDApO1xuICBleHRyYWN0VmFsdWUoXCJzeXN0ZW06ZGVzY3JpcHRpb25cIik7XG4gIFwic3RyaW5nXCIgIT09IHR5cGVvZiB2YWx1ZSRqc2NvbXAkMCAmJiBudWxsICE9PSB2YWx1ZSRqc2NvbXAkMCB8fCBudWxsICE9IHByb3BlcnRpZXMuZGVzY3JpcHRpb24gfHwgKHByb3BlcnRpZXMuZGVzY3JpcHRpb24gPSBhc051bGwodmFsdWUkanNjb21wJDApIHx8IHZhbHVlJGpzY29tcCQwKTtcbiAgT2JqZWN0LmVudHJpZXMocHJvcGVydGllcykuZm9yRWFjaChmdW5jdGlvbigkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMjgpIHtcbiAgICB2YXIgJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjI5ID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjI4KSwga2V5ID0gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjI5Lm5leHQoKS52YWx1ZSwgdmFsdWUgPSAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMjkubmV4dCgpLnZhbHVlO1xuICAgIHByb3BlcnRpZXNba2V5XSA9IGFzTnVsbCh2YWx1ZSkgfHwgdmFsdWU7XG4gIH0pO1xuICBhc3NldC5wcm9wZXJ0aWVzID0gcHJvcGVydGllcztcbiAgcmV0dXJuIGFzc2V0O1xufTtcbmVlLnJwY19jb252ZXJ0LmltYWdlVG9MZWdhY3lSZXN1bHQgPSBmdW5jdGlvbihyZXN1bHQpIHtcbiAgcmV0dXJuIGVlLnJwY19jb252ZXJ0Lm1ha2VMZWdhY3lBc3NldF8oXCJJbWFnZVwiLCByZXN1bHQubmFtZSk7XG59O1xuZWUucnBjX2NvbnZlcnQubWFrZUxlZ2FjeUFzc2V0XyA9IGZ1bmN0aW9uKHR5cGUsIG5hbWUpIHtcbiAgdmFyIGxlZ2FjeUFzc2V0ID0ge307XG4gIGxlZ2FjeUFzc2V0LnR5cGUgPSB0eXBlO1xuICBudWxsICE9IG5hbWUgJiYgKGxlZ2FjeUFzc2V0LmlkID0gZWUucnBjX2NvbnZlcnQuYXNzZXROYW1lVG9Bc3NldElkKG5hbWUpKTtcbiAgcmV0dXJuIGxlZ2FjeUFzc2V0O1xufTtcbmVlLnJwY19jb252ZXJ0LmdldExpc3RUb0xpc3RJbWFnZXMgPSBmdW5jdGlvbihwYXJhbSkge1xuICB2YXIgaW1hZ2VzUmVxdWVzdCA9IHt9LCB0b1RpbWVzdGFtcCA9IGZ1bmN0aW9uKG1zZWMpIHtcbiAgICByZXR1cm4gKG5ldyBEYXRlKG1zZWMpKS50b0lTT1N0cmluZygpO1xuICB9O1xuICBwYXJhbS5udW0gJiYgKGltYWdlc1JlcXVlc3QucGFnZVNpemUgPSBwYXJhbS5udW0pO1xuICBwYXJhbS5zdGFydHRpbWUgJiYgKGltYWdlc1JlcXVlc3Quc3RhcnRUaW1lID0gdG9UaW1lc3RhbXAocGFyYW0uc3RhcnR0aW1lKSk7XG4gIHBhcmFtLmVuZHRpbWUgJiYgKGltYWdlc1JlcXVlc3QuZW5kVGltZSA9IHRvVGltZXN0YW1wKHBhcmFtLmVuZHRpbWUpKTtcbiAgcGFyYW0uYmJveCAmJiAoaW1hZ2VzUmVxdWVzdC5yZWdpb24gPSBlZS5ycGNfY29udmVydC5ib3VuZGluZ0JveFRvR2VvSnNvbihwYXJhbS5iYm94KSk7XG4gIHBhcmFtLnJlZ2lvbiAmJiAoaW1hZ2VzUmVxdWVzdC5yZWdpb24gPSBwYXJhbS5yZWdpb24pO1xuICBwYXJhbS5iYm94ICYmIHBhcmFtLnJlZ2lvbiAmJiBjb25zb2xlLndhcm4oXCJNdWx0aXBsZSByZXF1ZXN0IHBhcmFtZXRlcnMgY29udmVydGVkIHRvIHJlZ2lvblwiKTtcbiAgZm9yICh2YXIgYWxsS2V5cyA9IFwiaWQgbnVtIHN0YXJ0dGltZSBlbmR0aW1lIGJib3ggcmVnaW9uXCIuc3BsaXQoXCIgXCIpLCAkanNjb21wJGl0ZXIkMjMgPSAkanNjb21wLm1ha2VJdGVyYXRvcihPYmplY3Qua2V5cyhwYXJhbSkuZmlsdGVyKGZ1bmN0aW9uKGspIHtcbiAgICByZXR1cm4gIWFsbEtleXMuaW5jbHVkZXMoayk7XG4gIH0pKSwgJGpzY29tcCRrZXkka2V5ID0gJGpzY29tcCRpdGVyJDIzLm5leHQoKTsgISRqc2NvbXAka2V5JGtleS5kb25lOyAkanNjb21wJGtleSRrZXkgPSAkanNjb21wJGl0ZXIkMjMubmV4dCgpKSB7XG4gICAgY29uc29sZS53YXJuKFwiVW5yZWNvZ25pemVkIGtleSBcIiArICRqc2NvbXAka2V5JGtleS52YWx1ZSArIFwiIGlnbm9yZWRcIik7XG4gIH1cbiAgaW1hZ2VzUmVxdWVzdC5maWVsZHMgPSBcImFzc2V0cyh0eXBlLHBhdGgpXCI7XG4gIHJldHVybiBpbWFnZXNSZXF1ZXN0O1xufTtcbmVlLnJwY19jb252ZXJ0LmJvdW5kaW5nQm94VG9HZW9Kc29uID0gZnVuY3Rpb24oYmJveCkge1xuICByZXR1cm4gJ3tcInR5cGVcIjpcIlBvbHlnb25cIixcImNvb3JkaW5hdGVzXCI6W1tbJyArIFtbMCwgMV0sIFsyLCAxXSwgWzIsIDNdLCBbMCwgM10sIFswLCAxXV0ubWFwKGZ1bmN0aW9uKGkpIHtcbiAgICByZXR1cm4gYmJveFtpWzBdXSArIFwiLFwiICsgYmJveFtpWzFdXTtcbiAgfSkuam9pbihcIl0sW1wiKSArIFwiXV1dfVwiO1xufTtcbmVlLnJwY19jb252ZXJ0LmlhbVBvbGljeVRvQWNsID0gZnVuY3Rpb24ocmVzdWx0KSB7XG4gIHZhciBiaW5kaW5nTWFwID0ge307XG4gIChyZXN1bHQuYmluZGluZ3MgfHwgW10pLmZvckVhY2goZnVuY3Rpb24oYmluZGluZykge1xuICAgIGJpbmRpbmdNYXBbYmluZGluZy5yb2xlXSA9IGJpbmRpbmcubWVtYmVycztcbiAgfSk7XG4gIHZhciBncm91cHMgPSBuZXcgU2V0KCksIHRvQWNsID0gZnVuY3Rpb24obWVtYmVyKSB7XG4gICAgdmFyIGVtYWlsID0gbWVtYmVyLnJlcGxhY2UoL15ncm91cDp8XnVzZXI6fF5zZXJ2aWNlQWNjb3VudDovLCBcIlwiKTtcbiAgICBtZW1iZXIuc3RhcnRzV2l0aChcImdyb3VwOlwiKSAmJiBncm91cHMuYWRkKGVtYWlsKTtcbiAgICByZXR1cm4gZW1haWw7XG4gIH0sIHJlYWRlcnNXaXRoQWxsID0gYmluZGluZ01hcFtcInJvbGVzL3ZpZXdlclwiXSB8fCBbXSwgcmVhZGVycyA9IHJlYWRlcnNXaXRoQWxsLmZpbHRlcihmdW5jdGlvbihyZWFkZXIpIHtcbiAgICByZXR1cm4gXCJhbGxVc2Vyc1wiICE9PSByZWFkZXI7XG4gIH0pLCBpbnRlcm5hbEFjbCA9IHtvd25lcnM6KGJpbmRpbmdNYXBbXCJyb2xlcy9vd25lclwiXSB8fCBbXSkubWFwKHRvQWNsKSwgd3JpdGVyczooYmluZGluZ01hcFtcInJvbGVzL2VkaXRvclwiXSB8fCBbXSkubWFwKHRvQWNsKSwgcmVhZGVyczpyZWFkZXJzLm1hcCh0b0FjbCksfTtcbiAgMCA8IGdyb3Vwcy5zaXplICYmIChpbnRlcm5hbEFjbC5ncm91cHMgPSBncm91cHMpO1xuICByZWFkZXJzV2l0aEFsbC5sZW5ndGggIT0gcmVhZGVycy5sZW5ndGggJiYgKGludGVybmFsQWNsLmFsbF91c2Vyc19jYW5fcmVhZCA9ICEwKTtcbiAgcmV0dXJuIGludGVybmFsQWNsO1xufTtcbmVlLnJwY19jb252ZXJ0LmFjbFRvSWFtUG9saWN5ID0gZnVuY3Rpb24oYWNscykge1xuICB2YXIgaXNHcm91cCA9IGZ1bmN0aW9uKGVtYWlsKSB7XG4gICAgcmV0dXJuIGFjbHMuZ3JvdXBzICYmIGFjbHMuZ3JvdXBzLmhhcyhlbWFpbCk7XG4gIH0sIGlzU2VydmljZUFjY291bnQgPSBmdW5jdGlvbihlbWFpbCkge1xuICAgIHJldHVybiBlbWFpbC5tYXRjaCgvW0B8XFwuXWdzZXJ2aWNlYWNjb3VudFxcLmNvbSQvKTtcbiAgfSwgYXNNZW1iZXJzID0gZnVuY3Rpb24oYWNsTmFtZSkge1xuICAgIHJldHVybiAoYWNsc1thY2xOYW1lXSB8fCBbXSkubWFwKGZ1bmN0aW9uKGVtYWlsKSB7XG4gICAgICB2YXIgcHJlZml4ID0gXCJ1c2VyOlwiO1xuICAgICAgaXNHcm91cChlbWFpbCkgPyBwcmVmaXggPSBcImdyb3VwOlwiIDogaXNTZXJ2aWNlQWNjb3VudChlbWFpbCkgJiYgKHByZWZpeCA9IFwic2VydmljZUFjY291bnQ6XCIpO1xuICAgICAgcmV0dXJuIHByZWZpeCArIGVtYWlsO1xuICAgIH0pO1xuICB9LCBhbGwgPSBhY2xzLmFsbF91c2Vyc19jYW5fcmVhZCA/IFtcImFsbFVzZXJzXCJdIDogW10sIGJpbmRpbmdzID0gW3tyb2xlOlwicm9sZXMvb3duZXJcIiwgbWVtYmVyczphc01lbWJlcnMoXCJvd25lcnNcIil9LCB7cm9sZTpcInJvbGVzL3ZpZXdlclwiLCBtZW1iZXJzOmFzTWVtYmVycyhcInJlYWRlcnNcIikuY29uY2F0KGFsbCl9LCB7cm9sZTpcInJvbGVzL2VkaXRvclwiLCBtZW1iZXJzOmFzTWVtYmVycyhcIndyaXRlcnNcIil9LF0ubWFwKGZ1bmN0aW9uKHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5CaW5kaW5nKHBhcmFtcyk7XG4gIH0pO1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUG9saWN5KHtiaW5kaW5nczpiaW5kaW5ncy5maWx0ZXIoZnVuY3Rpb24oYmluZGluZykge1xuICAgIHJldHVybiBiaW5kaW5nLm1lbWJlcnMubGVuZ3RoO1xuICB9KSwgZXRhZzpudWxsLH0pO1xufTtcbmVlLnJwY19jb252ZXJ0LnRhc2tJZFRvT3BlcmF0aW9uTmFtZSA9IGZ1bmN0aW9uKG9wZXJhdGlvbk5hbWVPclRhc2tJZCkge1xuICByZXR1cm4gXCJwcm9qZWN0cy9cIiArIGVlLnJwY19jb252ZXJ0Lm9wZXJhdGlvbk5hbWVUb1Byb2plY3Qob3BlcmF0aW9uTmFtZU9yVGFza0lkKSArIFwiL29wZXJhdGlvbnMvXCIgKyBlZS5ycGNfY29udmVydC5vcGVyYXRpb25OYW1lVG9UYXNrSWQob3BlcmF0aW9uTmFtZU9yVGFza0lkKTtcbn07XG5lZS5ycGNfY29udmVydC5vcGVyYXRpb25OYW1lVG9UYXNrSWQgPSBmdW5jdGlvbihyZXN1bHQpIHtcbiAgdmFyIGZvdW5kID0gL14uKm9wZXJhdGlvbnNcXC8oLiopJC8uZXhlYyhyZXN1bHQpO1xuICByZXR1cm4gZm91bmQgPyBmb3VuZFsxXSA6IHJlc3VsdDtcbn07XG5lZS5ycGNfY29udmVydC5vcGVyYXRpb25OYW1lVG9Qcm9qZWN0ID0gZnVuY3Rpb24ob3BlcmF0aW9uTmFtZU9yVGFza0lkKSB7XG4gIHZhciBmb3VuZCA9IC9ecHJvamVjdHNcXC8oLispXFwvb3BlcmF0aW9uc1xcLy4rJC8uZXhlYyhvcGVyYXRpb25OYW1lT3JUYXNrSWQpO1xuICByZXR1cm4gZm91bmQgPyBmb3VuZFsxXSA6IGVlLnJwY19jb252ZXJ0LkRFRkFVTFRfUFJPSkVDVDtcbn07XG5lZS5ycGNfY29udmVydC5vcGVyYXRpb25Ub1Rhc2sgPSBmdW5jdGlvbihyZXN1bHQpIHtcbiAgdmFyIGludGVybmFsVGFzayA9IHt9LCBhc3NpZ25UaW1lc3RhbXAgPSBmdW5jdGlvbihmaWVsZCwgdGltZXN0YW1wKSB7XG4gICAgbnVsbCAhPSB0aW1lc3RhbXAgJiYgKGludGVybmFsVGFza1tmaWVsZF0gPSBEYXRlLnBhcnNlKHRpbWVzdGFtcCkpO1xuICB9LCBjb252ZXJ0U3RhdGUgPSBmdW5jdGlvbihzdGF0ZSkge1xuICAgIHN3aXRjaChzdGF0ZSkge1xuICAgICAgY2FzZSBcIlBFTkRJTkdcIjpcbiAgICAgICAgcmV0dXJuIFwiUkVBRFlcIjtcbiAgICAgIGNhc2UgXCJSVU5OSU5HXCI6XG4gICAgICAgIHJldHVybiBcIlJVTk5JTkdcIjtcbiAgICAgIGNhc2UgXCJDQU5DRUxMSU5HXCI6XG4gICAgICAgIHJldHVybiBcIkNBTkNFTF9SRVFVRVNURURcIjtcbiAgICAgIGNhc2UgXCJTVUNDRUVERURcIjpcbiAgICAgICAgcmV0dXJuIFwiQ09NUExFVEVEXCI7XG4gICAgICBjYXNlIFwiQ0FOQ0VMTEVEXCI6XG4gICAgICAgIHJldHVybiBcIkNBTkNFTExFRFwiO1xuICAgICAgY2FzZSBcIkZBSUxFRFwiOlxuICAgICAgICByZXR1cm4gXCJGQUlMRURcIjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBcIlVOS05PV05cIjtcbiAgICB9XG4gIH0sIG1ldGFkYXRhID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVzZXJpYWxpemUobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5PcGVyYXRpb25NZXRhZGF0YSwgcmVzdWx0Lm1ldGFkYXRhIHx8IHt9KTtcbiAgbnVsbCAhPSBtZXRhZGF0YS5kZXNjcmlwdGlvbiAmJiAoaW50ZXJuYWxUYXNrLmRlc2NyaXB0aW9uID0gbWV0YWRhdGEuZGVzY3JpcHRpb24pO1xuICBudWxsICE9IG1ldGFkYXRhLnN0YXRlICYmIChpbnRlcm5hbFRhc2suc3RhdGUgPSBjb252ZXJ0U3RhdGUobWV0YWRhdGEuc3RhdGUpKTtcbiAgYXNzaWduVGltZXN0YW1wKFwiY3JlYXRpb25fdGltZXN0YW1wX21zXCIsIG1ldGFkYXRhLmNyZWF0ZVRpbWUpO1xuICBhc3NpZ25UaW1lc3RhbXAoXCJ1cGRhdGVfdGltZXN0YW1wX21zXCIsIG1ldGFkYXRhLnVwZGF0ZVRpbWUpO1xuICBhc3NpZ25UaW1lc3RhbXAoXCJzdGFydF90aW1lc3RhbXBfbXNcIiwgbWV0YWRhdGEuc3RhcnRUaW1lKTtcbiAgaW50ZXJuYWxUYXNrLmF0dGVtcHQgPSBtZXRhZGF0YS5hdHRlbXB0O1xuICByZXN1bHQuZG9uZSAmJiBudWxsICE9IHJlc3VsdC5lcnJvciAmJiAoaW50ZXJuYWxUYXNrLmVycm9yX21lc3NhZ2UgPSByZXN1bHQuZXJyb3IubWVzc2FnZSk7XG4gIG51bGwgIT0gcmVzdWx0Lm5hbWUgJiYgKGludGVybmFsVGFzay5pZCA9IGVlLnJwY19jb252ZXJ0Lm9wZXJhdGlvbk5hbWVUb1Rhc2tJZChyZXN1bHQubmFtZSksIGludGVybmFsVGFzay5uYW1lID0gcmVzdWx0Lm5hbWUpO1xuICBpbnRlcm5hbFRhc2sudGFza190eXBlID0gbWV0YWRhdGEudHlwZSB8fCBcIlVOS05PV05cIjtcbiAgaW50ZXJuYWxUYXNrLm91dHB1dF91cmwgPSBtZXRhZGF0YS5kZXN0aW5hdGlvblVyaXM7XG4gIGludGVybmFsVGFzay5zb3VyY2VfdXJsID0gbWV0YWRhdGEuc2NyaXB0VXJpO1xuICByZXR1cm4gaW50ZXJuYWxUYXNrO1xufTtcbmVlLnJwY19jb252ZXJ0Lm9wZXJhdGlvblRvUHJvY2Vzc2luZ1Jlc3BvbnNlID0gZnVuY3Rpb24ob3BlcmF0aW9uKSB7XG4gIHZhciByZXN1bHQgPSB7c3RhcnRlZDpcIk9LXCJ9O1xuICBvcGVyYXRpb24ubmFtZSAmJiAocmVzdWx0LnRhc2tJZCA9IGVlLnJwY19jb252ZXJ0Lm9wZXJhdGlvbk5hbWVUb1Rhc2tJZChvcGVyYXRpb24ubmFtZSksIHJlc3VsdC5uYW1lID0gb3BlcmF0aW9uLm5hbWUpO1xuICBvcGVyYXRpb24uZXJyb3IgJiYgKHJlc3VsdC5ub3RlID0gb3BlcmF0aW9uLmVycm9yLm1lc3NhZ2UpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmVlLnJwY19jb252ZXJ0LnNvdXJjZVBhdGhzVG9VcmlzID0gZnVuY3Rpb24oc291cmNlKSB7XG4gIHJldHVybiBzb3VyY2UucHJpbWFyeVBhdGggPyBbc291cmNlLnByaW1hcnlQYXRoXS5jb25jYXQoJGpzY29tcC5hcnJheUZyb21JdGVyYWJsZShzb3VyY2UuYWRkaXRpb25hbFBhdGhzIHx8IFtdKSkgOiBudWxsO1xufTtcbmVlLnJwY19jb252ZXJ0LnRvSW1hZ2VNYW5pZmVzdCA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICB2YXIgY29udmVydEltYWdlU291cmNlID0gZnVuY3Rpb24oc291cmNlKSB7XG4gICAgdmFyIGFwaVNvdXJjZSA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2Rlc2VyaWFsaXplKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VTb3VyY2UsIHNvdXJjZSk7XG4gICAgYXBpU291cmNlLnVyaXMgPSBlZS5ycGNfY29udmVydC5zb3VyY2VQYXRoc1RvVXJpcyhzb3VyY2UpO1xuICAgIHJldHVybiBhcGlTb3VyY2U7XG4gIH0sIG1hbmlmZXN0ID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVzZXJpYWxpemUobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbWFnZU1hbmlmZXN0LCBwYXJhbXMpO1xuICBtYW5pZmVzdC5uYW1lID0gZWUucnBjX2NvbnZlcnQuYXNzZXRJZFRvQXNzZXROYW1lKHBhcmFtcy5pZCk7XG4gIG1hbmlmZXN0LnRpbGVzZXRzID0gKHBhcmFtcy50aWxlc2V0cyB8fCBbXSkubWFwKGZ1bmN0aW9uKHRpbGVzZXQpIHtcbiAgICB2YXIgYXBpVGlsZXNldCA9IG1vZHVsZSRjb250ZW50cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0X2Rlc2VyaWFsaXplKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldCwgdGlsZXNldCk7XG4gICAgYXBpVGlsZXNldC5zb3VyY2VzID0gKHRpbGVzZXQuc291cmNlcyB8fCBbXSkubWFwKGNvbnZlcnRJbWFnZVNvdXJjZSk7XG4gICAgcmV0dXJuIGFwaVRpbGVzZXQ7XG4gIH0pO1xuICBtYW5pZmVzdC5iYW5kcyA9IChwYXJhbXMuYmFuZHMgfHwgW10pLm1hcChmdW5jdGlvbihiYW5kKSB7XG4gICAgdmFyIGFwaUJhbmQgPSBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9kZXNlcmlhbGl6ZShtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRpbGVzZXRCYW5kLCBiYW5kKTtcbiAgICBhcGlCYW5kLm1pc3NpbmdEYXRhID0gZWUucnBjX2NvbnZlcnQudG9PbmVQbGF0Zm9ybU1pc3NpbmdEYXRhKGJhbmQubWlzc2luZ0RhdGEpO1xuICAgIHJldHVybiBhcGlCYW5kO1xuICB9KTtcbiAgbWFuaWZlc3QubWlzc2luZ0RhdGEgPSBlZS5ycGNfY29udmVydC50b09uZVBsYXRmb3JtTWlzc2luZ0RhdGEocGFyYW1zLm1pc3NpbmdEYXRhKTtcbiAgbWFuaWZlc3QubWFza0JhbmRzID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZmxhdHRlbigocGFyYW1zLnRpbGVzZXRzIHx8IFtdKS5tYXAoZWUucnBjX2NvbnZlcnQudG9PbmVQbGF0Zm9ybU1hc2tCYW5kcykpO1xuICBtYW5pZmVzdC5weXJhbWlkaW5nUG9saWN5ID0gcGFyYW1zLnB5cmFtaWRpbmdQb2xpY3kgfHwgbnVsbDtcbiAgaWYgKHBhcmFtcy5wcm9wZXJ0aWVzKSB7XG4gICAgdmFyIHByb3BlcnRpZXMgPSBPYmplY3QuYXNzaWduKHt9LCBwYXJhbXMucHJvcGVydGllcyksIHRvVGltZXN0YW1wID0gZnVuY3Rpb24obXNlYykge1xuICAgICAgcmV0dXJuIChuZXcgRGF0ZShOdW1iZXIobXNlYykpKS50b0lTT1N0cmluZygpO1xuICAgIH0sIHZhbHVlLCBleHRyYWN0VmFsdWUgPSBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHZhbHVlID0gcHJvcGVydGllc1trZXldO1xuICAgICAgZGVsZXRlIHByb3BlcnRpZXNba2V5XTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xuICAgIGV4dHJhY3RWYWx1ZShcInN5c3RlbTp0aW1lX3N0YXJ0XCIpICYmIChtYW5pZmVzdC5zdGFydFRpbWUgPSB0b1RpbWVzdGFtcCh2YWx1ZSkpO1xuICAgIGV4dHJhY3RWYWx1ZShcInN5c3RlbTp0aW1lX2VuZFwiKSAmJiAobWFuaWZlc3QuZW5kVGltZSA9IHRvVGltZXN0YW1wKHZhbHVlKSk7XG4gICAgbWFuaWZlc3QucHJvcGVydGllcyA9IHByb3BlcnRpZXM7XG4gIH1cbiAgcmV0dXJuIG1hbmlmZXN0O1xufTtcbmVlLnJwY19jb252ZXJ0LnRvT25lUGxhdGZvcm1NYXNrQmFuZHMgPSBmdW5jdGlvbih0aWxlc2V0KSB7XG4gIHZhciBtYXNrQmFuZHMgPSBbXTtcbiAgaWYgKCFBcnJheS5pc0FycmF5KHRpbGVzZXQuZmlsZUJhbmRzKSkge1xuICAgIHJldHVybiBtYXNrQmFuZHM7XG4gIH1cbiAgdmFyIGNvbnZlcnRNYXNrQ29uZmlnID0gZnVuY3Rpb24obWFza0NvbmZpZykge1xuICAgIHZhciBiYW5kSWRzID0gW107XG4gICAgbnVsbCAhPSBtYXNrQ29uZmlnICYmIEFycmF5LmlzQXJyYXkobWFza0NvbmZpZy5iYW5kSWQpICYmIChiYW5kSWRzID0gbWFza0NvbmZpZy5iYW5kSWQubWFwKGZ1bmN0aW9uKGJhbmRJZCkge1xuICAgICAgcmV0dXJuIGJhbmRJZCB8fCBcIlwiO1xuICAgIH0pKTtcbiAgICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGlsZXNldE1hc2tCYW5kKHt0aWxlc2V0SWQ6dGlsZXNldC5pZCB8fCBcIlwiLCBiYW5kSWRzOmJhbmRJZHN9KTtcbiAgfTtcbiAgdGlsZXNldC5maWxlQmFuZHMuZm9yRWFjaChmdW5jdGlvbihmaWxlQmFuZCkge1xuICAgIGZpbGVCYW5kLm1hc2tGb3JBbGxCYW5kcyA/IG1hc2tCYW5kcy5wdXNoKGNvbnZlcnRNYXNrQ29uZmlnKG51bGwpKSA6IG51bGwgIT0gZmlsZUJhbmQubWFza0ZvckJhbmRzICYmIG1hc2tCYW5kcy5wdXNoKGNvbnZlcnRNYXNrQ29uZmlnKGZpbGVCYW5kLm1hc2tGb3JCYW5kcykpO1xuICB9KTtcbiAgcmV0dXJuIG1hc2tCYW5kcztcbn07XG5lZS5ycGNfY29udmVydC50b1RhYmxlTWFuaWZlc3QgPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgdmFyIG1hbmlmZXN0ID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVzZXJpYWxpemUobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZU1hbmlmZXN0LCBwYXJhbXMpO1xuICBtYW5pZmVzdC5uYW1lID0gZWUucnBjX2NvbnZlcnQuYXNzZXRJZFRvQXNzZXROYW1lKHBhcmFtcy5pZCk7XG4gIG1hbmlmZXN0LnNvdXJjZXMgPSAocGFyYW1zLnNvdXJjZXMgfHwgW10pLm1hcChmdW5jdGlvbihzb3VyY2UpIHtcbiAgICB2YXIgYXBpU291cmNlID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVzZXJpYWxpemUobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UYWJsZVNvdXJjZSwgc291cmNlKTtcbiAgICBhcGlTb3VyY2UudXJpcyA9IGVlLnJwY19jb252ZXJ0LnNvdXJjZVBhdGhzVG9VcmlzKHNvdXJjZSk7XG4gICAgc291cmNlLm1heEVycm9yICYmIChhcGlTb3VyY2UubWF4RXJyb3JNZXRlcnMgPSBzb3VyY2UubWF4RXJyb3IpO1xuICAgIHJldHVybiBhcGlTb3VyY2U7XG4gIH0pO1xuICBpZiAocGFyYW1zLnByb3BlcnRpZXMpIHtcbiAgICB2YXIgcHJvcGVydGllcyA9IE9iamVjdC5hc3NpZ24oe30sIHBhcmFtcy5wcm9wZXJ0aWVzKSwgdG9UaW1lc3RhbXAgPSBmdW5jdGlvbihtc2VjKSB7XG4gICAgICByZXR1cm4gKG5ldyBEYXRlKE51bWJlcihtc2VjKSkpLnRvSVNPU3RyaW5nKCk7XG4gICAgfSwgdmFsdWUsIGV4dHJhY3RWYWx1ZSA9IGZ1bmN0aW9uKGtleSkge1xuICAgICAgdmFsdWUgPSBwcm9wZXJ0aWVzW2tleV07XG4gICAgICBkZWxldGUgcHJvcGVydGllc1trZXldO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgZXh0cmFjdFZhbHVlKFwic3lzdGVtOnRpbWVfc3RhcnRcIikgJiYgKG1hbmlmZXN0LnN0YXJ0VGltZSA9IHRvVGltZXN0YW1wKHZhbHVlKSk7XG4gICAgZXh0cmFjdFZhbHVlKFwic3lzdGVtOnRpbWVfZW5kXCIpICYmIChtYW5pZmVzdC5lbmRUaW1lID0gdG9UaW1lc3RhbXAodmFsdWUpKTtcbiAgICBtYW5pZmVzdC5wcm9wZXJ0aWVzID0gcHJvcGVydGllcztcbiAgfVxuICByZXR1cm4gbWFuaWZlc3Q7XG59O1xuZWUucnBjX2NvbnZlcnQudG9PbmVQbGF0Zm9ybU1pc3NpbmdEYXRhID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIGlmIChudWxsID09IHBhcmFtcykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBtaXNzaW5nRGF0YSA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lk1pc3NpbmdEYXRhKHt2YWx1ZXM6W119KTtcbiAgbnVsbCAhPSBwYXJhbXMudmFsdWUgJiYgXCJudW1iZXJcIiA9PT0gdHlwZW9mIHBhcmFtcy52YWx1ZSAmJiBtaXNzaW5nRGF0YS52YWx1ZXMucHVzaChwYXJhbXMudmFsdWUpO1xuICBBcnJheS5pc0FycmF5KHBhcmFtcy52YWx1ZXMpICYmIHBhcmFtcy52YWx1ZXMubWFwKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgXCJudW1iZXJcIiA9PT0gdHlwZW9mIHZhbHVlICYmIG1pc3NpbmdEYXRhLnZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgfSk7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9pc0VtcHR5KG1pc3NpbmdEYXRhLnZhbHVlcykgPyBudWxsIDogbWlzc2luZ0RhdGE7XG59O1xuZWUucnBjX2NvbnZlcnQuZm9sZGVyUXVvdGFUb0Fzc2V0UXVvdGFEZXRhaWxzID0gZnVuY3Rpb24ocXVvdGEpIHtcbiAgdmFyIHRvTnVtYmVyID0gZnVuY3Rpb24oZmllbGQpIHtcbiAgICByZXR1cm4gTnVtYmVyKGZpZWxkIHx8IDApO1xuICB9O1xuICByZXR1cm4ge2Fzc2V0X2NvdW50Ont1c2FnZTp0b051bWJlcihxdW90YS5hc3NldENvdW50KSwgbGltaXQ6dG9OdW1iZXIocXVvdGEubWF4QXNzZXRDb3VudCksfSwgYXNzZXRfc2l6ZTp7dXNhZ2U6dG9OdW1iZXIocXVvdGEuc2l6ZUJ5dGVzKSwgbGltaXQ6dG9OdW1iZXIocXVvdGEubWF4U2l6ZUJ5dGVzKSx9fTtcbn07XG5nb29nLmNyeXB0ID0ge307XG5nb29nLmNyeXB0Lkhhc2ggPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5ibG9ja1NpemUgPSAtMTtcbn07XG5nb29nLmNyeXB0Lk1kNSA9IGZ1bmN0aW9uKCkge1xuICBnb29nLmNyeXB0Lkhhc2guY2FsbCh0aGlzKTtcbiAgdGhpcy5ibG9ja1NpemUgPSA2NDtcbiAgdGhpcy5jaGFpbl8gPSBBcnJheSg0KTtcbiAgdGhpcy5ibG9ja18gPSBBcnJheSh0aGlzLmJsb2NrU2l6ZSk7XG4gIHRoaXMudG90YWxMZW5ndGhfID0gdGhpcy5ibG9ja0xlbmd0aF8gPSAwO1xuICB0aGlzLnJlc2V0KCk7XG59O1xuZ29vZy5pbmhlcml0cyhnb29nLmNyeXB0Lk1kNSwgZ29vZy5jcnlwdC5IYXNoKTtcbmdvb2cuY3J5cHQuTWQ1LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmNoYWluX1swXSA9IDE3MzI1ODQxOTM7XG4gIHRoaXMuY2hhaW5fWzFdID0gNDAyMzIzMzQxNztcbiAgdGhpcy5jaGFpbl9bMl0gPSAyNTYyMzgzMTAyO1xuICB0aGlzLmNoYWluX1szXSA9IDI3MTczMzg3ODtcbiAgdGhpcy50b3RhbExlbmd0aF8gPSB0aGlzLmJsb2NrTGVuZ3RoXyA9IDA7XG59O1xuZ29vZy5jcnlwdC5NZDUucHJvdG90eXBlLmNvbXByZXNzXyA9IGZ1bmN0aW9uKGJ1Ziwgb3B0X29mZnNldCkge1xuICBvcHRfb2Zmc2V0IHx8IChvcHRfb2Zmc2V0ID0gMCk7XG4gIHZhciBYID0gQXJyYXkoMTYpO1xuICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGJ1Zikge1xuICAgIGZvciAodmFyIGkgPSAwOyAxNiA+IGk7ICsraSkge1xuICAgICAgWFtpXSA9IGJ1Zi5jaGFyQ29kZUF0KG9wdF9vZmZzZXQrKykgfCBidWYuY2hhckNvZGVBdChvcHRfb2Zmc2V0KyspIDw8IDggfCBidWYuY2hhckNvZGVBdChvcHRfb2Zmc2V0KyspIDw8IDE2IHwgYnVmLmNoYXJDb2RlQXQob3B0X29mZnNldCsrKSA8PCAyNDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yIChpID0gMDsgMTYgPiBpOyArK2kpIHtcbiAgICAgIFhbaV0gPSBidWZbb3B0X29mZnNldCsrXSB8IGJ1ZltvcHRfb2Zmc2V0KytdIDw8IDggfCBidWZbb3B0X29mZnNldCsrXSA8PCAxNiB8IGJ1ZltvcHRfb2Zmc2V0KytdIDw8IDI0O1xuICAgIH1cbiAgfVxuICB2YXIgQSA9IHRoaXMuY2hhaW5fWzBdLCBCID0gdGhpcy5jaGFpbl9bMV0sIEMgPSB0aGlzLmNoYWluX1syXSwgRCA9IHRoaXMuY2hhaW5fWzNdLCBzdW0gPSAwO1xuICBzdW0gPSBBICsgKEQgXiBCICYgKEMgXiBEKSkgKyBYWzBdICsgMzYxNDA5MDM2MCAmIDQyOTQ5NjcyOTU7XG4gIEEgPSBCICsgKHN1bSA8PCA3ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjUpO1xuICBzdW0gPSBEICsgKEMgXiBBICYgKEIgXiBDKSkgKyBYWzFdICsgMzkwNTQwMjcxMCAmIDQyOTQ5NjcyOTU7XG4gIEQgPSBBICsgKHN1bSA8PCAxMiAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDIwKTtcbiAgc3VtID0gQyArIChCIF4gRCAmIChBIF4gQikpICsgWFsyXSArIDYwNjEwNTgxOSAmIDQyOTQ5NjcyOTU7XG4gIEMgPSBEICsgKHN1bSA8PCAxNyAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDE1KTtcbiAgc3VtID0gQiArIChBIF4gQyAmIChEIF4gQSkpICsgWFszXSArIDMyNTA0NDE5NjYgJiA0Mjk0OTY3Mjk1O1xuICBCID0gQyArIChzdW0gPDwgMjIgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAxMCk7XG4gIHN1bSA9IEEgKyAoRCBeIEIgJiAoQyBeIEQpKSArIFhbNF0gKyA0MTE4NTQ4Mzk5ICYgNDI5NDk2NzI5NTtcbiAgQSA9IEIgKyAoc3VtIDw8IDcgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyNSk7XG4gIHN1bSA9IEQgKyAoQyBeIEEgJiAoQiBeIEMpKSArIFhbNV0gKyAxMjAwMDgwNDI2ICYgNDI5NDk2NzI5NTtcbiAgRCA9IEEgKyAoc3VtIDw8IDEyICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjApO1xuICBzdW0gPSBDICsgKEIgXiBEICYgKEEgXiBCKSkgKyBYWzZdICsgMjgyMTczNTk1NSAmIDQyOTQ5NjcyOTU7XG4gIEMgPSBEICsgKHN1bSA8PCAxNyAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDE1KTtcbiAgc3VtID0gQiArIChBIF4gQyAmIChEIF4gQSkpICsgWFs3XSArIDQyNDkyNjEzMTMgJiA0Mjk0OTY3Mjk1O1xuICBCID0gQyArIChzdW0gPDwgMjIgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAxMCk7XG4gIHN1bSA9IEEgKyAoRCBeIEIgJiAoQyBeIEQpKSArIFhbOF0gKyAxNzcwMDM1NDE2ICYgNDI5NDk2NzI5NTtcbiAgQSA9IEIgKyAoc3VtIDw8IDcgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyNSk7XG4gIHN1bSA9IEQgKyAoQyBeIEEgJiAoQiBeIEMpKSArIFhbOV0gKyAyMzM2NTUyODc5ICYgNDI5NDk2NzI5NTtcbiAgRCA9IEEgKyAoc3VtIDw8IDEyICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjApO1xuICBzdW0gPSBDICsgKEIgXiBEICYgKEEgXiBCKSkgKyBYWzEwXSArIDQyOTQ5MjUyMzMgJiA0Mjk0OTY3Mjk1O1xuICBDID0gRCArIChzdW0gPDwgMTcgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAxNSk7XG4gIHN1bSA9IEIgKyAoQSBeIEMgJiAoRCBeIEEpKSArIFhbMTFdICsgMjMwNDU2MzEzNCAmIDQyOTQ5NjcyOTU7XG4gIEIgPSBDICsgKHN1bSA8PCAyMiAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDEwKTtcbiAgc3VtID0gQSArIChEIF4gQiAmIChDIF4gRCkpICsgWFsxMl0gKyAxODA0NjAzNjgyICYgNDI5NDk2NzI5NTtcbiAgQSA9IEIgKyAoc3VtIDw8IDcgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyNSk7XG4gIHN1bSA9IEQgKyAoQyBeIEEgJiAoQiBeIEMpKSArIFhbMTNdICsgNDI1NDYyNjE5NSAmIDQyOTQ5NjcyOTU7XG4gIEQgPSBBICsgKHN1bSA8PCAxMiAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDIwKTtcbiAgc3VtID0gQyArIChCIF4gRCAmIChBIF4gQikpICsgWFsxNF0gKyAyNzkyOTY1MDA2ICYgNDI5NDk2NzI5NTtcbiAgQyA9IEQgKyAoc3VtIDw8IDE3ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMTUpO1xuICBzdW0gPSBCICsgKEEgXiBDICYgKEQgXiBBKSkgKyBYWzE1XSArIDEyMzY1MzUzMjkgJiA0Mjk0OTY3Mjk1O1xuICBCID0gQyArIChzdW0gPDwgMjIgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAxMCk7XG4gIHN1bSA9IEEgKyAoQyBeIEQgJiAoQiBeIEMpKSArIFhbMV0gKyA0MTI5MTcwNzg2ICYgNDI5NDk2NzI5NTtcbiAgQSA9IEIgKyAoc3VtIDw8IDUgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyNyk7XG4gIHN1bSA9IEQgKyAoQiBeIEMgJiAoQSBeIEIpKSArIFhbNl0gKyAzMjI1NDY1NjY0ICYgNDI5NDk2NzI5NTtcbiAgRCA9IEEgKyAoc3VtIDw8IDkgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyMyk7XG4gIHN1bSA9IEMgKyAoQSBeIEIgJiAoRCBeIEEpKSArIFhbMTFdICsgNjQzNzE3NzEzICYgNDI5NDk2NzI5NTtcbiAgQyA9IEQgKyAoc3VtIDw8IDE0ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMTgpO1xuICBzdW0gPSBCICsgKEQgXiBBICYgKEMgXiBEKSkgKyBYWzBdICsgMzkyMTA2OTk5NCAmIDQyOTQ5NjcyOTU7XG4gIEIgPSBDICsgKHN1bSA8PCAyMCAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDEyKTtcbiAgc3VtID0gQSArIChDIF4gRCAmIChCIF4gQykpICsgWFs1XSArIDM1OTM0MDg2MDUgJiA0Mjk0OTY3Mjk1O1xuICBBID0gQiArIChzdW0gPDwgNSAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDI3KTtcbiAgc3VtID0gRCArIChCIF4gQyAmIChBIF4gQikpICsgWFsxMF0gKyAzODAxNjA4MyAmIDQyOTQ5NjcyOTU7XG4gIEQgPSBBICsgKHN1bSA8PCA5ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjMpO1xuICBzdW0gPSBDICsgKEEgXiBCICYgKEQgXiBBKSkgKyBYWzE1XSArIDM2MzQ0ODg5NjEgJiA0Mjk0OTY3Mjk1O1xuICBDID0gRCArIChzdW0gPDwgMTQgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAxOCk7XG4gIHN1bSA9IEIgKyAoRCBeIEEgJiAoQyBeIEQpKSArIFhbNF0gKyAzODg5NDI5NDQ4ICYgNDI5NDk2NzI5NTtcbiAgQiA9IEMgKyAoc3VtIDw8IDIwICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMTIpO1xuICBzdW0gPSBBICsgKEMgXiBEICYgKEIgXiBDKSkgKyBYWzldICsgNTY4NDQ2NDM4ICYgNDI5NDk2NzI5NTtcbiAgQSA9IEIgKyAoc3VtIDw8IDUgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyNyk7XG4gIHN1bSA9IEQgKyAoQiBeIEMgJiAoQSBeIEIpKSArIFhbMTRdICsgMzI3NTE2MzYwNiAmIDQyOTQ5NjcyOTU7XG4gIEQgPSBBICsgKHN1bSA8PCA5ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjMpO1xuICBzdW0gPSBDICsgKEEgXiBCICYgKEQgXiBBKSkgKyBYWzNdICsgNDEwNzYwMzMzNSAmIDQyOTQ5NjcyOTU7XG4gIEMgPSBEICsgKHN1bSA8PCAxNCAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDE4KTtcbiAgc3VtID0gQiArIChEIF4gQSAmIChDIF4gRCkpICsgWFs4XSArIDExNjM1MzE1MDEgJiA0Mjk0OTY3Mjk1O1xuICBCID0gQyArIChzdW0gPDwgMjAgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAxMik7XG4gIHN1bSA9IEEgKyAoQyBeIEQgJiAoQiBeIEMpKSArIFhbMTNdICsgMjg1MDI4NTgyOSAmIDQyOTQ5NjcyOTU7XG4gIEEgPSBCICsgKHN1bSA8PCA1ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjcpO1xuICBzdW0gPSBEICsgKEIgXiBDICYgKEEgXiBCKSkgKyBYWzJdICsgNDI0MzU2MzUxMiAmIDQyOTQ5NjcyOTU7XG4gIEQgPSBBICsgKHN1bSA8PCA5ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjMpO1xuICBzdW0gPSBDICsgKEEgXiBCICYgKEQgXiBBKSkgKyBYWzddICsgMTczNTMyODQ3MyAmIDQyOTQ5NjcyOTU7XG4gIEMgPSBEICsgKHN1bSA8PCAxNCAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDE4KTtcbiAgc3VtID0gQiArIChEIF4gQSAmIChDIF4gRCkpICsgWFsxMl0gKyAyMzY4MzU5NTYyICYgNDI5NDk2NzI5NTtcbiAgQiA9IEMgKyAoc3VtIDw8IDIwICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMTIpO1xuICBzdW0gPSBBICsgKEIgXiBDIF4gRCkgKyBYWzVdICsgNDI5NDU4ODczOCAmIDQyOTQ5NjcyOTU7XG4gIEEgPSBCICsgKHN1bSA8PCA0ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjgpO1xuICBzdW0gPSBEICsgKEEgXiBCIF4gQykgKyBYWzhdICsgMjI3MjM5MjgzMyAmIDQyOTQ5NjcyOTU7XG4gIEQgPSBBICsgKHN1bSA8PCAxMSAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDIxKTtcbiAgc3VtID0gQyArIChEIF4gQSBeIEIpICsgWFsxMV0gKyAxODM5MDMwNTYyICYgNDI5NDk2NzI5NTtcbiAgQyA9IEQgKyAoc3VtIDw8IDE2ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMTYpO1xuICBzdW0gPSBCICsgKEMgXiBEIF4gQSkgKyBYWzE0XSArIDQyNTk2NTc3NDAgJiA0Mjk0OTY3Mjk1O1xuICBCID0gQyArIChzdW0gPDwgMjMgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiA5KTtcbiAgc3VtID0gQSArIChCIF4gQyBeIEQpICsgWFsxXSArIDI3NjM5NzUyMzYgJiA0Mjk0OTY3Mjk1O1xuICBBID0gQiArIChzdW0gPDwgNCAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDI4KTtcbiAgc3VtID0gRCArIChBIF4gQiBeIEMpICsgWFs0XSArIDEyNzI4OTMzNTMgJiA0Mjk0OTY3Mjk1O1xuICBEID0gQSArIChzdW0gPDwgMTEgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyMSk7XG4gIHN1bSA9IEMgKyAoRCBeIEEgXiBCKSArIFhbN10gKyA0MTM5NDY5NjY0ICYgNDI5NDk2NzI5NTtcbiAgQyA9IEQgKyAoc3VtIDw8IDE2ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMTYpO1xuICBzdW0gPSBCICsgKEMgXiBEIF4gQSkgKyBYWzEwXSArIDMyMDAyMzY2NTYgJiA0Mjk0OTY3Mjk1O1xuICBCID0gQyArIChzdW0gPDwgMjMgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiA5KTtcbiAgc3VtID0gQSArIChCIF4gQyBeIEQpICsgWFsxM10gKyA2ODEyNzkxNzQgJiA0Mjk0OTY3Mjk1O1xuICBBID0gQiArIChzdW0gPDwgNCAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDI4KTtcbiAgc3VtID0gRCArIChBIF4gQiBeIEMpICsgWFswXSArIDM5MzY0MzAwNzQgJiA0Mjk0OTY3Mjk1O1xuICBEID0gQSArIChzdW0gPDwgMTEgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyMSk7XG4gIHN1bSA9IEMgKyAoRCBeIEEgXiBCKSArIFhbM10gKyAzNTcyNDQ1MzE3ICYgNDI5NDk2NzI5NTtcbiAgQyA9IEQgKyAoc3VtIDw8IDE2ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMTYpO1xuICBzdW0gPSBCICsgKEMgXiBEIF4gQSkgKyBYWzZdICsgNzYwMjkxODkgJiA0Mjk0OTY3Mjk1O1xuICBCID0gQyArIChzdW0gPDwgMjMgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiA5KTtcbiAgc3VtID0gQSArIChCIF4gQyBeIEQpICsgWFs5XSArIDM2NTQ2MDI4MDkgJiA0Mjk0OTY3Mjk1O1xuICBBID0gQiArIChzdW0gPDwgNCAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDI4KTtcbiAgc3VtID0gRCArIChBIF4gQiBeIEMpICsgWFsxMl0gKyAzODczMTUxNDYxICYgNDI5NDk2NzI5NTtcbiAgRCA9IEEgKyAoc3VtIDw8IDExICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjEpO1xuICBzdW0gPSBDICsgKEQgXiBBIF4gQikgKyBYWzE1XSArIDUzMDc0MjUyMCAmIDQyOTQ5NjcyOTU7XG4gIEMgPSBEICsgKHN1bSA8PCAxNiAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDE2KTtcbiAgc3VtID0gQiArIChDIF4gRCBeIEEpICsgWFsyXSArIDMyOTk2Mjg2NDUgJiA0Mjk0OTY3Mjk1O1xuICBCID0gQyArIChzdW0gPDwgMjMgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiA5KTtcbiAgc3VtID0gQSArIChDIF4gKEIgfCB+RCkpICsgWFswXSArIDQwOTYzMzY0NTIgJiA0Mjk0OTY3Mjk1O1xuICBBID0gQiArIChzdW0gPDwgNiAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDI2KTtcbiAgc3VtID0gRCArIChCIF4gKEEgfCB+QykpICsgWFs3XSArIDExMjY4OTE0MTUgJiA0Mjk0OTY3Mjk1O1xuICBEID0gQSArIChzdW0gPDwgMTAgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyMik7XG4gIHN1bSA9IEMgKyAoQSBeIChEIHwgfkIpKSArIFhbMTRdICsgMjg3ODYxMjM5MSAmIDQyOTQ5NjcyOTU7XG4gIEMgPSBEICsgKHN1bSA8PCAxNSAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDE3KTtcbiAgc3VtID0gQiArIChEIF4gKEMgfCB+QSkpICsgWFs1XSArIDQyMzc1MzMyNDEgJiA0Mjk0OTY3Mjk1O1xuICBCID0gQyArIChzdW0gPDwgMjEgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAxMSk7XG4gIHN1bSA9IEEgKyAoQyBeIChCIHwgfkQpKSArIFhbMTJdICsgMTcwMDQ4NTU3MSAmIDQyOTQ5NjcyOTU7XG4gIEEgPSBCICsgKHN1bSA8PCA2ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjYpO1xuICBzdW0gPSBEICsgKEIgXiAoQSB8IH5DKSkgKyBYWzNdICsgMjM5OTk4MDY5MCAmIDQyOTQ5NjcyOTU7XG4gIEQgPSBBICsgKHN1bSA8PCAxMCAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDIyKTtcbiAgc3VtID0gQyArIChBIF4gKEQgfCB+QikpICsgWFsxMF0gKyA0MjkzOTE1NzczICYgNDI5NDk2NzI5NTtcbiAgQyA9IEQgKyAoc3VtIDw8IDE1ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMTcpO1xuICBzdW0gPSBCICsgKEQgXiAoQyB8IH5BKSkgKyBYWzFdICsgMjI0MDA0NDQ5NyAmIDQyOTQ5NjcyOTU7XG4gIEIgPSBDICsgKHN1bSA8PCAyMSAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDExKTtcbiAgc3VtID0gQSArIChDIF4gKEIgfCB+RCkpICsgWFs4XSArIDE4NzMzMTMzNTkgJiA0Mjk0OTY3Mjk1O1xuICBBID0gQiArIChzdW0gPDwgNiAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDI2KTtcbiAgc3VtID0gRCArIChCIF4gKEEgfCB+QykpICsgWFsxNV0gKyA0MjY0MzU1NTUyICYgNDI5NDk2NzI5NTtcbiAgRCA9IEEgKyAoc3VtIDw8IDEwICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjIpO1xuICBzdW0gPSBDICsgKEEgXiAoRCB8IH5CKSkgKyBYWzZdICsgMjczNDc2ODkxNiAmIDQyOTQ5NjcyOTU7XG4gIEMgPSBEICsgKHN1bSA8PCAxNSAmIDQyOTQ5NjcyOTUgfCBzdW0gPj4+IDE3KTtcbiAgc3VtID0gQiArIChEIF4gKEMgfCB+QSkpICsgWFsxM10gKyAxMzA5MTUxNjQ5ICYgNDI5NDk2NzI5NTtcbiAgQiA9IEMgKyAoc3VtIDw8IDIxICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMTEpO1xuICBzdW0gPSBBICsgKEMgXiAoQiB8IH5EKSkgKyBYWzRdICsgNDE0OTQ0NDIyNiAmIDQyOTQ5NjcyOTU7XG4gIEEgPSBCICsgKHN1bSA8PCA2ICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMjYpO1xuICBzdW0gPSBEICsgKEIgXiAoQSB8IH5DKSkgKyBYWzExXSArIDMxNzQ3NTY5MTcgJiA0Mjk0OTY3Mjk1O1xuICBEID0gQSArIChzdW0gPDwgMTAgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAyMik7XG4gIHN1bSA9IEMgKyAoQSBeIChEIHwgfkIpKSArIFhbMl0gKyA3MTg3ODcyNTkgJiA0Mjk0OTY3Mjk1O1xuICBDID0gRCArIChzdW0gPDwgMTUgJiA0Mjk0OTY3Mjk1IHwgc3VtID4+PiAxNyk7XG4gIHN1bSA9IEIgKyAoRCBeIChDIHwgfkEpKSArIFhbOV0gKyAzOTUxNDgxNzQ1ICYgNDI5NDk2NzI5NTtcbiAgdGhpcy5jaGFpbl9bMF0gPSB0aGlzLmNoYWluX1swXSArIEEgJiA0Mjk0OTY3Mjk1O1xuICB0aGlzLmNoYWluX1sxXSA9IHRoaXMuY2hhaW5fWzFdICsgKEMgKyAoc3VtIDw8IDIxICYgNDI5NDk2NzI5NSB8IHN1bSA+Pj4gMTEpKSAmIDQyOTQ5NjcyOTU7XG4gIHRoaXMuY2hhaW5fWzJdID0gdGhpcy5jaGFpbl9bMl0gKyBDICYgNDI5NDk2NzI5NTtcbiAgdGhpcy5jaGFpbl9bM10gPSB0aGlzLmNoYWluX1szXSArIEQgJiA0Mjk0OTY3Mjk1O1xufTtcbmdvb2cuY3J5cHQuTWQ1LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihieXRlcywgb3B0X2xlbmd0aCkge1xuICB2b2lkIDAgPT09IG9wdF9sZW5ndGggJiYgKG9wdF9sZW5ndGggPSBieXRlcy5sZW5ndGgpO1xuICBmb3IgKHZhciBsZW5ndGhNaW51c0Jsb2NrID0gb3B0X2xlbmd0aCAtIHRoaXMuYmxvY2tTaXplLCBibG9jayA9IHRoaXMuYmxvY2tfLCBibG9ja0xlbmd0aCA9IHRoaXMuYmxvY2tMZW5ndGhfLCBpID0gMDsgaSA8IG9wdF9sZW5ndGg7KSB7XG4gICAgaWYgKDAgPT0gYmxvY2tMZW5ndGgpIHtcbiAgICAgIGZvciAoOyBpIDw9IGxlbmd0aE1pbnVzQmxvY2s7KSB7XG4gICAgICAgIHRoaXMuY29tcHJlc3NfKGJ5dGVzLCBpKSwgaSArPSB0aGlzLmJsb2NrU2l6ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBieXRlcykge1xuICAgICAgZm9yICg7IGkgPCBvcHRfbGVuZ3RoOykge1xuICAgICAgICBpZiAoYmxvY2tbYmxvY2tMZW5ndGgrK10gPSBieXRlcy5jaGFyQ29kZUF0KGkrKyksIGJsb2NrTGVuZ3RoID09IHRoaXMuYmxvY2tTaXplKSB7XG4gICAgICAgICAgdGhpcy5jb21wcmVzc18oYmxvY2spO1xuICAgICAgICAgIGJsb2NrTGVuZ3RoID0gMDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKDsgaSA8IG9wdF9sZW5ndGg7KSB7XG4gICAgICAgIGlmIChibG9ja1tibG9ja0xlbmd0aCsrXSA9IGJ5dGVzW2krK10sIGJsb2NrTGVuZ3RoID09IHRoaXMuYmxvY2tTaXplKSB7XG4gICAgICAgICAgdGhpcy5jb21wcmVzc18oYmxvY2spO1xuICAgICAgICAgIGJsb2NrTGVuZ3RoID0gMDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICB0aGlzLmJsb2NrTGVuZ3RoXyA9IGJsb2NrTGVuZ3RoO1xuICB0aGlzLnRvdGFsTGVuZ3RoXyArPSBvcHRfbGVuZ3RoO1xufTtcbmdvb2cuY3J5cHQuTWQ1LnByb3RvdHlwZS5kaWdlc3QgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHBhZCA9IEFycmF5KCg1NiA+IHRoaXMuYmxvY2tMZW5ndGhfID8gdGhpcy5ibG9ja1NpemUgOiAyICogdGhpcy5ibG9ja1NpemUpIC0gdGhpcy5ibG9ja0xlbmd0aF8pO1xuICBwYWRbMF0gPSAxMjg7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgcGFkLmxlbmd0aCAtIDg7ICsraSkge1xuICAgIHBhZFtpXSA9IDA7XG4gIH1cbiAgdmFyIHRvdGFsQml0cyA9IDggKiB0aGlzLnRvdGFsTGVuZ3RoXztcbiAgZm9yIChpID0gcGFkLmxlbmd0aCAtIDg7IGkgPCBwYWQubGVuZ3RoOyArK2kpIHtcbiAgICBwYWRbaV0gPSB0b3RhbEJpdHMgJiAyNTUsIHRvdGFsQml0cyAvPSAyNTY7XG4gIH1cbiAgdGhpcy51cGRhdGUocGFkKTtcbiAgdmFyIGRpZ2VzdCA9IEFycmF5KDE2KSwgbiA9IDA7XG4gIGZvciAoaSA9IDA7IDQgPiBpOyArK2kpIHtcbiAgICBmb3IgKHZhciBqID0gMDsgMzIgPiBqOyBqICs9IDgpIHtcbiAgICAgIGRpZ2VzdFtuKytdID0gdGhpcy5jaGFpbl9baV0gPj4+IGogJiAyNTU7XG4gICAgfVxuICB9XG4gIHJldHVybiBkaWdlc3Q7XG59O1xuZWUuU2VyaWFsaXplciA9IGZ1bmN0aW9uKG9wdF9pc0NvbXBvdW5kKSB7XG4gIHRoaXMuSEFTSF9LRVkgPSBcIl9fZWVfaGFzaF9fXCI7XG4gIHRoaXMuaXNDb21wb3VuZF8gPSAhMSAhPT0gb3B0X2lzQ29tcG91bmQ7XG4gIHRoaXMuc2NvcGVfID0gW107XG4gIHRoaXMuZW5jb2RlZF8gPSB7fTtcbiAgdGhpcy53aXRoSGFzaGVzXyA9IFtdO1xuICB0aGlzLmhhc2hlc18gPSBuZXcgV2Vha01hcCgpO1xuICB0aGlzLnVuYm91bmROYW1lID0gdm9pZCAwO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuU2VyaWFsaXplclwiLCBlZS5TZXJpYWxpemVyKTtcbmVlLlNlcmlhbGl6ZXIuanNvblNlcmlhbGl6ZXJfID0gbmV3IGdvb2cuanNvbi5TZXJpYWxpemVyKCk7XG5lZS5TZXJpYWxpemVyLmhhc2hfID0gbmV3IGdvb2cuY3J5cHQuTWQ1KCk7XG5lZS5TZXJpYWxpemVyLmVuY29kZSA9IGZ1bmN0aW9uKG9iaiwgb3B0X2lzQ29tcG91bmQpIHtcbiAgcmV0dXJuIChuZXcgZWUuU2VyaWFsaXplcih2b2lkIDAgIT09IG9wdF9pc0NvbXBvdW5kID8gb3B0X2lzQ29tcG91bmQgOiAhMCkpLmVuY29kZV8ob2JqKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLlNlcmlhbGl6ZXIuZW5jb2RlXCIsIGVlLlNlcmlhbGl6ZXIuZW5jb2RlKTtcbmVlLlNlcmlhbGl6ZXIudG9KU09OID0gZnVuY3Rpb24ob2JqKSB7XG4gIHJldHVybiBlZS5TZXJpYWxpemVyLmpzb25TZXJpYWxpemVyXy5zZXJpYWxpemUoZWUuU2VyaWFsaXplci5lbmNvZGUob2JqKSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5TZXJpYWxpemVyLnRvSlNPTlwiLCBlZS5TZXJpYWxpemVyLnRvSlNPTik7XG5lZS5TZXJpYWxpemVyLnRvUmVhZGFibGVKU09OID0gZnVuY3Rpb24ob2JqKSB7XG4gIHJldHVybiBlZS5TZXJpYWxpemVyLnN0cmluZ2lmeShlZS5TZXJpYWxpemVyLmVuY29kZShvYmosICExKSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5TZXJpYWxpemVyLnRvUmVhZGFibGVKU09OXCIsIGVlLlNlcmlhbGl6ZXIudG9SZWFkYWJsZUpTT04pO1xuZWUuU2VyaWFsaXplci5zdHJpbmdpZnkgPSBmdW5jdGlvbihlbmNvZGVkKSB7XG4gIHJldHVybiBcIkpTT05cIiBpbiBnb29nLmdsb2JhbCA/IGdvb2cuZ2xvYmFsLkpTT04uc3RyaW5naWZ5KGVuY29kZWQsIG51bGwsIFwiICBcIikgOiBlZS5TZXJpYWxpemVyLmpzb25TZXJpYWxpemVyXy5zZXJpYWxpemUoZW5jb2RlZCk7XG59O1xuZWUuU2VyaWFsaXplci5wcm90b3R5cGUuZW5jb2RlXyA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICB2YXIgdmFsdWUgPSB0aGlzLmVuY29kZVZhbHVlXyhvYmplY3QpO1xuICB0aGlzLmlzQ29tcG91bmRfICYmICh2YWx1ZSA9IGdvb2cuaXNPYmplY3QodmFsdWUpICYmIFwiVmFsdWVSZWZcIiA9PSB2YWx1ZS50eXBlICYmIDEgPT0gdGhpcy5zY29wZV8ubGVuZ3RoID8gdGhpcy5zY29wZV9bMF1bMV0gOiB7dHlwZTpcIkNvbXBvdW5kVmFsdWVcIiwgc2NvcGU6dGhpcy5zY29wZV8sIHZhbHVlOnZhbHVlfSwgdGhpcy5zY29wZV8gPSBbXSwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZm9yRWFjaCh0aGlzLndpdGhIYXNoZXNfLCBnb29nLmJpbmQoZnVuY3Rpb24ob2JqKSB7XG4gICAgZGVsZXRlIG9ialt0aGlzLkhBU0hfS0VZXTtcbiAgfSwgdGhpcykpLCB0aGlzLndpdGhIYXNoZXNfID0gW10sIHRoaXMuZW5jb2RlZF8gPSB7fSk7XG4gIHJldHVybiB2YWx1ZTtcbn07XG5lZS5TZXJpYWxpemVyLnByb3RvdHlwZS5lbmNvZGVWYWx1ZV8gPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgaWYgKHZvaWQgMCA9PT0gb2JqZWN0KSB7XG4gICAgdGhyb3cgRXJyb3IoXCJDYW4ndCBlbmNvZGUgYW4gdW5kZWZpbmVkIHZhbHVlLlwiKTtcbiAgfVxuICB2YXIgaGFzaCA9IGdvb2cuaXNPYmplY3Qob2JqZWN0KSA/IG9iamVjdFt0aGlzLkhBU0hfS0VZXSA6IG51bGw7XG4gIGlmICh0aGlzLmlzQ29tcG91bmRfICYmIG51bGwgIT0gaGFzaCAmJiB0aGlzLmVuY29kZWRfW2hhc2hdKSB7XG4gICAgcmV0dXJuIHt0eXBlOlwiVmFsdWVSZWZcIiwgdmFsdWU6dGhpcy5lbmNvZGVkX1toYXNoXX07XG4gIH1cbiAgaWYgKG51bGwgPT09IG9iamVjdCB8fCBcImJvb2xlYW5cIiA9PT0gdHlwZW9mIG9iamVjdCB8fCBcIm51bWJlclwiID09PSB0eXBlb2Ygb2JqZWN0IHx8IFwic3RyaW5nXCIgPT09IHR5cGVvZiBvYmplY3QpIHtcbiAgICByZXR1cm4gb2JqZWN0O1xuICB9XG4gIGlmIChnb29nLmlzRGF0ZUxpa2Uob2JqZWN0KSkge1xuICAgIHJldHVybiB7dHlwZTpcIkludm9jYXRpb25cIiwgZnVuY3Rpb25OYW1lOlwiRGF0ZVwiLCBhcmd1bWVudHM6e3ZhbHVlOk1hdGguZmxvb3Iob2JqZWN0LmdldFRpbWUoKSl9fTtcbiAgfVxuICBpZiAob2JqZWN0IGluc3RhbmNlb2YgZWUuRW5jb2RhYmxlKSB7XG4gICAgdmFyIHJlc3VsdCA9IG9iamVjdC5lbmNvZGUoZ29vZy5iaW5kKHRoaXMuZW5jb2RlVmFsdWVfLCB0aGlzKSk7XG4gICAgaWYgKCEoQXJyYXkuaXNBcnJheShyZXN1bHQpIHx8IGdvb2cuaXNPYmplY3QocmVzdWx0KSAmJiBcIkFyZ3VtZW50UmVmXCIgIT0gcmVzdWx0LnR5cGUpKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmplY3QpKSB7XG4gICAgICByZXN1bHQgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9tYXAob2JqZWN0LCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVuY29kZVZhbHVlXyhlbGVtZW50KTtcbiAgICAgIH0sIHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZ29vZy5pc09iamVjdChvYmplY3QpICYmIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIG9iamVjdCkge1xuICAgICAgICB2YXIgZW5jb2RlZE9iamVjdCA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9tYXAob2JqZWN0LCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVuY29kZVZhbHVlXyhlbGVtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgICBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfcmVtb3ZlKGVuY29kZWRPYmplY3QsIHRoaXMuSEFTSF9LRVkpO1xuICAgICAgICByZXN1bHQgPSB7dHlwZTpcIkRpY3Rpb25hcnlcIiwgdmFsdWU6ZW5jb2RlZE9iamVjdH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcihcIkNhbid0IGVuY29kZSBvYmplY3Q6IFwiICsgb2JqZWN0KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKHRoaXMuaXNDb21wb3VuZF8pIHtcbiAgICBoYXNoID0gZWUuU2VyaWFsaXplci5jb21wdXRlSGFzaChyZXN1bHQpO1xuICAgIGlmICh0aGlzLmVuY29kZWRfW2hhc2hdKSB7XG4gICAgICB2YXIgbmFtZSA9IHRoaXMuZW5jb2RlZF9baGFzaF07XG4gICAgfSBlbHNlIHtcbiAgICAgIG5hbWUgPSBTdHJpbmcodGhpcy5zY29wZV8ubGVuZ3RoKSwgdGhpcy5zY29wZV8ucHVzaChbbmFtZSwgcmVzdWx0XSksIHRoaXMuZW5jb2RlZF9baGFzaF0gPSBuYW1lO1xuICAgIH1cbiAgICBvYmplY3RbdGhpcy5IQVNIX0tFWV0gPSBoYXNoO1xuICAgIHRoaXMud2l0aEhhc2hlc18ucHVzaChvYmplY3QpO1xuICAgIHJldHVybiB7dHlwZTpcIlZhbHVlUmVmXCIsIHZhbHVlOm5hbWV9O1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuZWUuU2VyaWFsaXplci5jb21wdXRlSGFzaCA9IGZ1bmN0aW9uKG9iaikge1xuICBlZS5TZXJpYWxpemVyLmhhc2hfLnJlc2V0KCk7XG4gIGVlLlNlcmlhbGl6ZXIuaGFzaF8udXBkYXRlKGVlLlNlcmlhbGl6ZXIuanNvblNlcmlhbGl6ZXJfLnNlcmlhbGl6ZShvYmopKTtcbiAgcmV0dXJuIGVlLlNlcmlhbGl6ZXIuaGFzaF8uZGlnZXN0KCkudG9TdHJpbmcoKTtcbn07XG5lZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpID0gZnVuY3Rpb24ob2JqKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdF9zZXJpYWxpemUoZWUuU2VyaWFsaXplci5lbmNvZGVDbG91ZEFwaUV4cHJlc3Npb24ob2JqKSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpXCIsIGVlLlNlcmlhbGl6ZXIuZW5jb2RlQ2xvdWRBcGkpO1xuZWUuU2VyaWFsaXplci5lbmNvZGVDbG91ZEFwaUV4cHJlc3Npb24gPSBmdW5jdGlvbihvYmosIHVuYm91bmROYW1lKSB7XG4gIHZhciBzZXJpYWxpemVyID0gbmV3IGVlLlNlcmlhbGl6ZXIoITApO1xuICBzZXJpYWxpemVyLnVuYm91bmROYW1lID0gdW5ib3VuZE5hbWU7XG4gIHJldHVybiBzZXJpYWxpemVyLmVuY29kZUZvckNsb3VkQXBpXyhvYmopO1xufTtcbmVlLlNlcmlhbGl6ZXIuZW5jb2RlQ2xvdWRBcGlQcmV0dHkgPSBmdW5jdGlvbihvYmopIHtcbiAgdmFyIGVuY29kZWQgPSAobmV3IGVlLlNlcmlhbGl6ZXIoITEpKS5lbmNvZGVGb3JDbG91ZEFwaV8ob2JqKSwgdmFsdWVzID0gZW5jb2RlZC52YWx1ZXMsIHdhbGtPYmplY3QgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICBpZiAoIWdvb2cuaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG4gICAgZm9yICh2YXIgcmV0ID0gQXJyYXkuaXNBcnJheShvYmplY3QpID8gW10gOiB7fSwgaXNOb2RlID0gb2JqZWN0IGluc3RhbmNlb2YgT2JqZWN0LmdldFByb3RvdHlwZU9mKG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmFsdWVOb2RlKSwgJGpzY29tcCRpdGVyJDI0ID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoT2JqZWN0LmVudHJpZXMoaXNOb2RlID8gb2JqZWN0LlNlcmlhbGl6YWJsZSR2YWx1ZXMgOiBvYmplY3QpKSwgJGpzY29tcCRrZXkkID0gJGpzY29tcCRpdGVyJDI0Lm5leHQoKTsgISRqc2NvbXAka2V5JC5kb25lOyAkanNjb21wJGtleSQgPSAkanNjb21wJGl0ZXIkMjQubmV4dCgpKSB7XG4gICAgICB2YXIgJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjMxID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoJGpzY29tcCRrZXkkLnZhbHVlKSwga2V5ID0gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjMxLm5leHQoKS52YWx1ZSwgdmFsID0gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjMxLm5leHQoKS52YWx1ZTtcbiAgICAgIGlzTm9kZSA/IG51bGwgIT09IHZhbCAmJiAocmV0W2tleV0gPSBcImZ1bmN0aW9uRGVmaW5pdGlvblZhbHVlXCIgPT09IGtleSAmJiBudWxsICE9IHZhbC5ib2R5ID8ge2FyZ3VtZW50TmFtZXM6dmFsLmFyZ3VtZW50TmFtZXMsIGJvZHk6d2Fsa09iamVjdCh2YWx1ZXNbdmFsLmJvZHldKX0gOiBcImZ1bmN0aW9uSW52b2NhdGlvblZhbHVlXCIgPT09IGtleSAmJiBudWxsICE9IHZhbC5mdW5jdGlvblJlZmVyZW5jZSA/IHthcmd1bWVudHM6bW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X21hcCh2YWwuYXJndW1lbnRzLCB3YWxrT2JqZWN0KSwgZnVuY3Rpb25SZWZlcmVuY2U6d2Fsa09iamVjdCh2YWx1ZXNbdmFsLmZ1bmN0aW9uUmVmZXJlbmNlXSl9IDogXCJjb25zdGFudFZhbHVlXCIgPT09IGtleSA/IHZhbCA9PT0gbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZG9tYWluX29iamVjdC5OVUxMX1ZBTFVFID8gXG4gICAgICBudWxsIDogdmFsIDogd2Fsa09iamVjdCh2YWwpKSA6IHJldFtrZXldID0gd2Fsa09iamVjdCh2YWwpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xuICB9O1xuICByZXR1cm4gZW5jb2RlZC5yZXN1bHQgJiYgd2Fsa09iamVjdCh2YWx1ZXNbZW5jb2RlZC5yZXN1bHRdKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLlNlcmlhbGl6ZXIuZW5jb2RlQ2xvdWRBcGlQcmV0dHlcIiwgZWUuU2VyaWFsaXplci5lbmNvZGVDbG91ZEFwaVByZXR0eSk7XG5lZS5TZXJpYWxpemVyLnRvQ2xvdWRBcGlKU09OID0gZnVuY3Rpb24ob2JqKSB7XG4gIHJldHVybiBlZS5TZXJpYWxpemVyLmpzb25TZXJpYWxpemVyXy5zZXJpYWxpemUoZWUuU2VyaWFsaXplci5lbmNvZGVDbG91ZEFwaShvYmopKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLlNlcmlhbGl6ZXIudG9DbG91ZEFwaUpTT05cIiwgZWUuU2VyaWFsaXplci50b0Nsb3VkQXBpSlNPTik7XG5lZS5TZXJpYWxpemVyLnRvUmVhZGFibGVDbG91ZEFwaUpTT04gPSBmdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIGVlLlNlcmlhbGl6ZXIuc3RyaW5naWZ5KGVlLlNlcmlhbGl6ZXIuZW5jb2RlQ2xvdWRBcGlQcmV0dHkob2JqKSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5TZXJpYWxpemVyLnRvUmVhZGFibGVDbG91ZEFwaUpTT05cIiwgZWUuU2VyaWFsaXplci50b1JlYWRhYmxlQ2xvdWRBcGlKU09OKTtcbmVlLlNlcmlhbGl6ZXIucHJvdG90eXBlLmVuY29kZUZvckNsb3VkQXBpXyA9IGZ1bmN0aW9uKG9iaikge1xuICB0cnkge1xuICAgIHZhciByZXN1bHQgPSB0aGlzLm1ha2VSZWZlcmVuY2Uob2JqKTtcbiAgICByZXR1cm4gKG5ldyBFeHByZXNzaW9uT3B0aW1pemVyKHJlc3VsdCwgdGhpcy5zY29wZV8sIHRoaXMuaXNDb21wb3VuZF8pKS5vcHRpbWl6ZSgpO1xuICB9IGZpbmFsbHkge1xuICAgIHRoaXMuaGFzaGVzXyA9IG5ldyBXZWFrTWFwKCksIHRoaXMuZW5jb2RlZF8gPSB7fSwgdGhpcy5zY29wZV8gPSBbXTtcbiAgfVxufTtcbmVlLlNlcmlhbGl6ZXIucHJvdG90eXBlLm1ha2VSZWZlcmVuY2UgPSBmdW5jdGlvbihvYmopIHtcbiAgdmFyICRqc2NvbXAkdGhpcyA9IHRoaXMsIG1ha2VSZWYgPSBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICB2YXIgaGFzaCA9IGVlLlNlcmlhbGl6ZXIuY29tcHV0ZUhhc2gocmVzdWx0KTtcbiAgICBnb29nLmlzT2JqZWN0KG9iaikgJiYgJGpzY29tcCR0aGlzLmhhc2hlc18uc2V0KG9iaiwgaGFzaCk7XG4gICAgaWYgKCRqc2NvbXAkdGhpcy5lbmNvZGVkX1toYXNoXSkge1xuICAgICAgcmV0dXJuICRqc2NvbXAkdGhpcy5lbmNvZGVkX1toYXNoXTtcbiAgICB9XG4gICAgdmFyIG5hbWUgPSBTdHJpbmcoJGpzY29tcCR0aGlzLnNjb3BlXy5sZW5ndGgpO1xuICAgICRqc2NvbXAkdGhpcy5zY29wZV8ucHVzaChbbmFtZSwgcmVzdWx0XSk7XG4gICAgcmV0dXJuICRqc2NvbXAkdGhpcy5lbmNvZGVkX1toYXNoXSA9IG5hbWU7XG4gIH07XG4gIGlmIChnb29nLmlzT2JqZWN0KG9iaikgJiYgdGhpcy5lbmNvZGVkX1t0aGlzLmhhc2hlc18uZ2V0KG9iaildKSB7XG4gICAgcmV0dXJuIHRoaXMuZW5jb2RlZF9bdGhpcy5oYXNoZXNfLmdldChvYmopXTtcbiAgfVxuICBpZiAobnVsbCA9PT0gb2JqIHx8IFwiYm9vbGVhblwiID09PSB0eXBlb2Ygb2JqIHx8IFwic3RyaW5nXCIgPT09IHR5cGVvZiBvYmogfHwgXCJudW1iZXJcIiA9PT0gdHlwZW9mIG9iaikge1xuICAgIHJldHVybiBtYWtlUmVmKGVlLnJwY19ub2RlLmNvbnN0YW50KG9iaikpO1xuICB9XG4gIGlmIChnb29nLmlzRGF0ZUxpa2Uob2JqKSkge1xuICAgIHJldHVybiBtYWtlUmVmKGVlLnJwY19ub2RlLmZ1bmN0aW9uQnlOYW1lKFwiRGF0ZVwiLCB7dmFsdWU6ZWUucnBjX25vZGUuY29uc3RhbnQoTWF0aC5mbG9vcihvYmouZ2V0VGltZSgpKSl9KSk7XG4gIH1cbiAgaWYgKG9iaiBpbnN0YW5jZW9mIGVlLkVuY29kYWJsZSkge1xuICAgIHJldHVybiBtYWtlUmVmKG9iai5lbmNvZGVDbG91ZFZhbHVlKHRoaXMpKTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgcmV0dXJuIG1ha2VSZWYoZWUucnBjX25vZGUuYXJyYXkob2JqLm1hcChmdW5jdGlvbih4KSB7XG4gICAgICByZXR1cm4gZWUucnBjX25vZGUucmVmZXJlbmNlKCRqc2NvbXAkdGhpcy5tYWtlUmVmZXJlbmNlKHgpKTtcbiAgICB9KSkpO1xuICB9XG4gIGlmIChnb29nLmlzT2JqZWN0KG9iaikgJiYgXCJmdW5jdGlvblwiICE9PSB0eXBlb2Ygb2JqKSB7XG4gICAgdmFyIHZhbHVlcyA9IHt9O1xuICAgIE9iamVjdC5rZXlzKG9iaikuc29ydCgpLmZvckVhY2goZnVuY3Rpb24oaykge1xuICAgICAgdmFsdWVzW2tdID0gZWUucnBjX25vZGUucmVmZXJlbmNlKCRqc2NvbXAkdGhpcy5tYWtlUmVmZXJlbmNlKG9ialtrXSkpO1xuICAgIH0pO1xuICAgIHJldHVybiBtYWtlUmVmKGVlLnJwY19ub2RlLmRpY3Rpb25hcnkodmFsdWVzKSk7XG4gIH1cbiAgdGhyb3cgRXJyb3IoXCJDYW4ndCBlbmNvZGUgb2JqZWN0OiBcIiArIG9iaik7XG59O1xudmFyIEV4cHJlc3Npb25PcHRpbWl6ZXIgPSBmdW5jdGlvbihyb290UmVmZXJlbmNlLCB2YWx1ZXMsIGlzQ29tcG91bmQpIHtcbiAgdmFyICRqc2NvbXAkdGhpcyA9IHRoaXM7XG4gIHRoaXMucm9vdFJlZmVyZW5jZSA9IHJvb3RSZWZlcmVuY2U7XG4gIHRoaXMudmFsdWVzID0ge307XG4gIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKHR1cGxlKSB7XG4gICAgcmV0dXJuICRqc2NvbXAkdGhpcy52YWx1ZXNbdHVwbGVbMF1dID0gdHVwbGVbMV07XG4gIH0pO1xuICB0aGlzLnJlZmVyZW5jZUNvdW50cyA9IGlzQ29tcG91bmQgPyB0aGlzLmNvdW50UmVmZXJlbmNlcygpIDogbnVsbDtcbiAgdGhpcy5vcHRpbWl6ZWRWYWx1ZXMgPSB7fTtcbiAgdGhpcy5yZWZlcmVuY2VNYXAgPSB7fTtcbiAgdGhpcy5uZXh0TWFwcGVkUmVmID0gMDtcbn07XG5FeHByZXNzaW9uT3B0aW1pemVyLnByb3RvdHlwZS5vcHRpbWl6ZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcmVzdWx0ID0gdGhpcy5vcHRpbWl6ZVJlZmVyZW5jZSh0aGlzLnJvb3RSZWZlcmVuY2UpO1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwcmVzc2lvbih7cmVzdWx0OnJlc3VsdCwgdmFsdWVzOnRoaXMub3B0aW1pemVkVmFsdWVzLH0pO1xufTtcbkV4cHJlc3Npb25PcHRpbWl6ZXIucHJvdG90eXBlLm9wdGltaXplUmVmZXJlbmNlID0gZnVuY3Rpb24ocmVmKSB7XG4gIGlmIChyZWYgaW4gdGhpcy5yZWZlcmVuY2VNYXApIHtcbiAgICByZXR1cm4gdGhpcy5yZWZlcmVuY2VNYXBbcmVmXTtcbiAgfVxuICB2YXIgbWFwcGVkUmVmID0gU3RyaW5nKHRoaXMubmV4dE1hcHBlZFJlZisrKTtcbiAgdGhpcy5yZWZlcmVuY2VNYXBbcmVmXSA9IG1hcHBlZFJlZjtcbiAgdGhpcy5vcHRpbWl6ZWRWYWx1ZXNbbWFwcGVkUmVmXSA9IHRoaXMub3B0aW1pemVWYWx1ZSh0aGlzLnZhbHVlc1tyZWZdLCAwKTtcbiAgcmV0dXJuIG1hcHBlZFJlZjtcbn07XG5FeHByZXNzaW9uT3B0aW1pemVyLnByb3RvdHlwZS5vcHRpbWl6ZVZhbHVlID0gZnVuY3Rpb24odmFsdWUsIGRlcHRoKSB7XG4gIHZhciAkanNjb21wJHRoaXMgPSB0aGlzLCBpc0NvbnN0ID0gZnVuY3Rpb24odikge1xuICAgIHJldHVybiBudWxsICE9PSB2LmNvbnN0YW50VmFsdWU7XG4gIH0sIHNlcmlhbGl6ZUNvbnN0ID0gZnVuY3Rpb24odikge1xuICAgIHJldHVybiB2ID09PSBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRkb21haW5fb2JqZWN0Lk5VTExfVkFMVUUgPyBudWxsIDogdjtcbiAgfTtcbiAgaWYgKGlzQ29uc3QodmFsdWUpIHx8IG51bGwgIT0gdmFsdWUuaW50ZWdlclZhbHVlIHx8IG51bGwgIT0gdmFsdWUuYnl0ZXNWYWx1ZSB8fCBudWxsICE9IHZhbHVlLmFyZ3VtZW50UmVmZXJlbmNlKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmIChudWxsICE9IHZhbHVlLnZhbHVlUmVmZXJlbmNlKSB7XG4gICAgdmFyIHZhbCA9IHRoaXMudmFsdWVzW3ZhbHVlLnZhbHVlUmVmZXJlbmNlXTtcbiAgICByZXR1cm4gbnVsbCA9PT0gdGhpcy5yZWZlcmVuY2VDb3VudHMgfHwgNTAgPiBkZXB0aCAmJiAxID09PSB0aGlzLnJlZmVyZW5jZUNvdW50c1t2YWx1ZS52YWx1ZVJlZmVyZW5jZV0gPyB0aGlzLm9wdGltaXplVmFsdWUodmFsLCBkZXB0aCkgOiBFeHByZXNzaW9uT3B0aW1pemVyLmlzQWx3YXlzTGlmdGFibGUodmFsKSA/IHZhbCA6IGVlLnJwY19ub2RlLnJlZmVyZW5jZSh0aGlzLm9wdGltaXplUmVmZXJlbmNlKHZhbHVlLnZhbHVlUmVmZXJlbmNlKSk7XG4gIH1cbiAgaWYgKG51bGwgIT0gdmFsdWUuYXJyYXlWYWx1ZSkge1xuICAgIHZhciBhcnIgPSB2YWx1ZS5hcnJheVZhbHVlLnZhbHVlcy5tYXAoZnVuY3Rpb24odikge1xuICAgICAgcmV0dXJuICRqc2NvbXAkdGhpcy5vcHRpbWl6ZVZhbHVlKHYsIGRlcHRoICsgMyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGFyci5ldmVyeShpc0NvbnN0KSA/IGVlLnJwY19ub2RlLmNvbnN0YW50KGFyci5tYXAoZnVuY3Rpb24odikge1xuICAgICAgcmV0dXJuIHNlcmlhbGl6ZUNvbnN0KHYuY29uc3RhbnRWYWx1ZSk7XG4gICAgfSkpIDogZWUucnBjX25vZGUuYXJyYXkoYXJyKTtcbiAgfVxuICBpZiAobnVsbCAhPSB2YWx1ZS5kaWN0aW9uYXJ5VmFsdWUpIHtcbiAgICBmb3IgKHZhciB2YWx1ZXMgPSB7fSwgY29uc3RhbnRWYWx1ZXMgPSB7fSwgJGpzY29tcCRpdGVyJDI1ID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoT2JqZWN0LmVudHJpZXModmFsdWUuZGljdGlvbmFyeVZhbHVlLnZhbHVlcyB8fCB7fSkpLCAkanNjb21wJGtleSQgPSAkanNjb21wJGl0ZXIkMjUubmV4dCgpOyAhJGpzY29tcCRrZXkkLmRvbmU7ICRqc2NvbXAka2V5JCA9ICRqc2NvbXAkaXRlciQyNS5uZXh0KCkpIHtcbiAgICAgIHZhciAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMzMgPSAkanNjb21wLm1ha2VJdGVyYXRvcigkanNjb21wJGtleSQudmFsdWUpLCBrID0gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjMzLm5leHQoKS52YWx1ZSwgdiRqc2NvbXAkMCA9ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIzMy5uZXh0KCkudmFsdWU7XG4gICAgICB2YWx1ZXNba10gPSB0aGlzLm9wdGltaXplVmFsdWUodiRqc2NvbXAkMCwgZGVwdGggKyAzKTtcbiAgICAgIG51bGwgIT09IGNvbnN0YW50VmFsdWVzICYmIGlzQ29uc3QodmFsdWVzW2tdKSA/IGNvbnN0YW50VmFsdWVzW2tdID0gc2VyaWFsaXplQ29uc3QodmFsdWVzW2tdLmNvbnN0YW50VmFsdWUpIDogY29uc3RhbnRWYWx1ZXMgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbCAhPT0gY29uc3RhbnRWYWx1ZXMgPyBlZS5ycGNfbm9kZS5jb25zdGFudChjb25zdGFudFZhbHVlcykgOiBlZS5ycGNfbm9kZS5kaWN0aW9uYXJ5KHZhbHVlcyk7XG4gIH1cbiAgaWYgKG51bGwgIT0gdmFsdWUuZnVuY3Rpb25EZWZpbml0aW9uVmFsdWUpIHtcbiAgICB2YXIgZGVmID0gdmFsdWUuZnVuY3Rpb25EZWZpbml0aW9uVmFsdWU7XG4gICAgcmV0dXJuIGVlLnJwY19ub2RlLmZ1bmN0aW9uRGVmaW5pdGlvbihkZWYuYXJndW1lbnROYW1lcyB8fCBbXSwgdGhpcy5vcHRpbWl6ZVJlZmVyZW5jZShkZWYuYm9keSB8fCBcIlwiKSk7XG4gIH1cbiAgaWYgKG51bGwgIT0gdmFsdWUuZnVuY3Rpb25JbnZvY2F0aW9uVmFsdWUpIHtcbiAgICBmb3IgKHZhciBpbnYgPSB2YWx1ZS5mdW5jdGlvbkludm9jYXRpb25WYWx1ZSwgYXJncyA9IHt9LCAkanNjb21wJGl0ZXIkMjYgPSAkanNjb21wLm1ha2VJdGVyYXRvcihPYmplY3Qua2V5cyhpbnYuYXJndW1lbnRzIHx8IHt9KSksICRqc2NvbXAka2V5JGsgPSAkanNjb21wJGl0ZXIkMjYubmV4dCgpOyAhJGpzY29tcCRrZXkkay5kb25lOyAkanNjb21wJGtleSRrID0gJGpzY29tcCRpdGVyJDI2Lm5leHQoKSkge1xuICAgICAgdmFyIGskNjMgPSAkanNjb21wJGtleSRrLnZhbHVlO1xuICAgICAgYXJnc1trJDYzXSA9IHRoaXMub3B0aW1pemVWYWx1ZShpbnYuYXJndW1lbnRzW2skNjNdLCBkZXB0aCArIDMpO1xuICAgIH1cbiAgICByZXR1cm4gaW52LmZ1bmN0aW9uTmFtZSA/IGVlLnJwY19ub2RlLmZ1bmN0aW9uQnlOYW1lKGludi5mdW5jdGlvbk5hbWUsIGFyZ3MpIDogZWUucnBjX25vZGUuZnVuY3Rpb25CeVJlZmVyZW5jZSh0aGlzLm9wdGltaXplUmVmZXJlbmNlKGludi5mdW5jdGlvblJlZmVyZW5jZSB8fCBcIlwiKSwgYXJncyk7XG4gIH1cbiAgdGhyb3cgRXJyb3IoXCJDYW4ndCBvcHRpbWl6ZSB2YWx1ZTogXCIgKyB2YWx1ZSk7XG59O1xuRXhwcmVzc2lvbk9wdGltaXplci5pc0Fsd2F5c0xpZnRhYmxlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgdmFyIGNvbnN0YW50ID0gdmFsdWUuY29uc3RhbnRWYWx1ZTtcbiAgcmV0dXJuIG51bGwgIT09IGNvbnN0YW50ID8gY29uc3RhbnQgPT09IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3QuTlVMTF9WQUxVRSB8fCBcIm51bWJlclwiID09PSB0eXBlb2YgY29uc3RhbnQgfHwgXCJib29sZWFuXCIgPT09IHR5cGVvZiBjb25zdGFudCA6IG51bGwgIT0gdmFsdWUuYXJndW1lbnRSZWZlcmVuY2U7XG59O1xuRXhwcmVzc2lvbk9wdGltaXplci5wcm90b3R5cGUuY291bnRSZWZlcmVuY2VzID0gZnVuY3Rpb24oKSB7XG4gIHZhciAkanNjb21wJHRoaXMgPSB0aGlzLCBjb3VudHMgPSB7fSwgdmlzaXRSZWZlcmVuY2UgPSBmdW5jdGlvbihyZWZlcmVuY2UpIHtcbiAgICBjb3VudHNbcmVmZXJlbmNlXSA/IGNvdW50c1tyZWZlcmVuY2VdKysgOiAoY291bnRzW3JlZmVyZW5jZV0gPSAxLCB2aXNpdFZhbHVlKCRqc2NvbXAkdGhpcy52YWx1ZXNbcmVmZXJlbmNlXSkpO1xuICB9LCB2aXNpdFZhbHVlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAobnVsbCAhPSB2YWx1ZS5hcnJheVZhbHVlKSB7XG4gICAgICB2YWx1ZS5hcnJheVZhbHVlLnZhbHVlcy5mb3JFYWNoKHZpc2l0VmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobnVsbCAhPSB2YWx1ZS5kaWN0aW9uYXJ5VmFsdWUpIHtcbiAgICAgICAgT2JqZWN0LnZhbHVlcyh2YWx1ZS5kaWN0aW9uYXJ5VmFsdWUudmFsdWVzKS5mb3JFYWNoKHZpc2l0VmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG51bGwgIT0gdmFsdWUuZnVuY3Rpb25EZWZpbml0aW9uVmFsdWUpIHtcbiAgICAgICAgICB2aXNpdFJlZmVyZW5jZSh2YWx1ZS5mdW5jdGlvbkRlZmluaXRpb25WYWx1ZS5ib2R5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAobnVsbCAhPSB2YWx1ZS5mdW5jdGlvbkludm9jYXRpb25WYWx1ZSkge1xuICAgICAgICAgICAgdmFyIGludiA9IHZhbHVlLmZ1bmN0aW9uSW52b2NhdGlvblZhbHVlO1xuICAgICAgICAgICAgbnVsbCAhPSBpbnYuZnVuY3Rpb25SZWZlcmVuY2UgJiYgdmlzaXRSZWZlcmVuY2UoaW52LmZ1bmN0aW9uUmVmZXJlbmNlKTtcbiAgICAgICAgICAgIE9iamVjdC52YWx1ZXMoaW52LmFyZ3VtZW50cykuZm9yRWFjaCh2aXNpdFZhbHVlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbnVsbCAhPSB2YWx1ZS52YWx1ZVJlZmVyZW5jZSAmJiB2aXNpdFJlZmVyZW5jZSh2YWx1ZS52YWx1ZVJlZmVyZW5jZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuICB2aXNpdFJlZmVyZW5jZSh0aGlzLnJvb3RSZWZlcmVuY2UpO1xuICByZXR1cm4gY291bnRzO1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoID0ge307XG5lZS5ycGNfY29udmVydF9iYXRjaC5FeHBvcnREZXN0aW5hdGlvbiA9IHtEUklWRTpcIkRSSVZFXCIsIEdDUzpcIkdPT0dMRV9DTE9VRF9TVE9SQUdFXCIsIEFTU0VUOlwiQVNTRVRcIiwgRkVBVFVSRV9WSUVXOlwiRkVBVFVSRV9WSUVXXCIsfTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLnRhc2tUb0V4cG9ydEltYWdlUmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICBpZiAobnVsbCA9PSBwYXJhbXMuZWxlbWVudCkge1xuICAgIHRocm93IEVycm9yKCdcImVsZW1lbnRcIiBub3QgZm91bmQgaW4gcGFyYW1zICcgKyBwYXJhbXMpO1xuICB9XG4gIHZhciByZXN1bHQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRJbWFnZVJlcXVlc3Qoe2V4cHJlc3Npb246ZWUuU2VyaWFsaXplci5lbmNvZGVDbG91ZEFwaUV4cHJlc3Npb24ocGFyYW1zLmVsZW1lbnQpLCBkZXNjcmlwdGlvbjpzdHJpbmdPck51bGxfKHBhcmFtcy5kZXNjcmlwdGlvbiksIGZpbGVFeHBvcnRPcHRpb25zOm51bGwsIGFzc2V0RXhwb3J0T3B0aW9uczpudWxsLCBncmlkOm51bGwsIG1heFBpeGVsczpzdHJpbmdPck51bGxfKHBhcmFtcy5tYXhQaXhlbHMpLCByZXF1ZXN0SWQ6c3RyaW5nT3JOdWxsXyhwYXJhbXMuaWQpLCBtYXhXb3JrZXJDb3VudDpudW1iZXJPck51bGxfKHBhcmFtcy5tYXhXb3JrZXJzKX0pLCBkZXN0aW5hdGlvbiA9IGVlLnJwY19jb252ZXJ0X2JhdGNoLmd1ZXNzRGVzdGluYXRpb25fKHBhcmFtcyk7XG4gIHN3aXRjaChkZXN0aW5hdGlvbikge1xuICAgIGNhc2UgZWUucnBjX2NvbnZlcnRfYmF0Y2guRXhwb3J0RGVzdGluYXRpb24uR0NTOlxuICAgIGNhc2UgZWUucnBjX2NvbnZlcnRfYmF0Y2guRXhwb3J0RGVzdGluYXRpb24uRFJJVkU6XG4gICAgICByZXN1bHQuZmlsZUV4cG9ydE9wdGlvbnMgPSBlZS5ycGNfY29udmVydF9iYXRjaC5idWlsZEltYWdlRmlsZUV4cG9ydE9wdGlvbnNfKHBhcmFtcywgZGVzdGluYXRpb24pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBlZS5ycGNfY29udmVydF9iYXRjaC5FeHBvcnREZXN0aW5hdGlvbi5BU1NFVDpcbiAgICAgIHJlc3VsdC5hc3NldEV4cG9ydE9wdGlvbnMgPSBlZS5ycGNfY29udmVydF9iYXRjaC5idWlsZEltYWdlQXNzZXRFeHBvcnRPcHRpb25zXyhwYXJhbXMpO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IEVycm9yKCdFeHBvcnQgZGVzdGluYXRpb24gXCInICsgZGVzdGluYXRpb24gKyAnXCIgdW5rbm93bicpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuZWUucnBjX2NvbnZlcnRfYmF0Y2gudGFza1RvRXhwb3J0VGFibGVSZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIGlmIChudWxsID09IHBhcmFtcy5lbGVtZW50KSB7XG4gICAgdGhyb3cgRXJyb3IoJ1wiZWxlbWVudFwiIG5vdCBmb3VuZCBpbiBwYXJhbXMgJyArIHBhcmFtcyk7XG4gIH1cbiAgdmFyIHNlbGVjdG9ycyA9IHBhcmFtcy5zZWxlY3RvcnMgfHwgbnVsbDtcbiAgbnVsbCAhPSBzZWxlY3RvcnMgJiYgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHNlbGVjdG9ycyAmJiAoc2VsZWN0b3JzID0gc2VsZWN0b3JzLnNwbGl0KFwiLFwiKSk7XG4gIHZhciByZXN1bHQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRUYWJsZVJlcXVlc3Qoe2V4cHJlc3Npb246ZWUuU2VyaWFsaXplci5lbmNvZGVDbG91ZEFwaUV4cHJlc3Npb24ocGFyYW1zLmVsZW1lbnQpLCBkZXNjcmlwdGlvbjpzdHJpbmdPck51bGxfKHBhcmFtcy5kZXNjcmlwdGlvbiksIGZpbGVFeHBvcnRPcHRpb25zOm51bGwsIGFzc2V0RXhwb3J0T3B0aW9uczpudWxsLCBkbXNFeHBvcnRPcHRpb25zOm51bGwsIHNlbGVjdG9yczpzZWxlY3RvcnMsIG1heEVycm9yTWV0ZXJzOm51bWJlck9yTnVsbF8ocGFyYW1zLm1heEVycm9yTWV0ZXJzKSwgcmVxdWVzdElkOnN0cmluZ09yTnVsbF8ocGFyYW1zLmlkKSwgbWF4VmVydGljZXM6bnVtYmVyT3JOdWxsXyhwYXJhbXMubWF4VmVydGljZXMpLCBtYXhXb3JrZXJDb3VudDpudW1iZXJPck51bGxfKHBhcmFtcy5tYXhXb3JrZXJzKX0pLCBcbiAgZGVzdGluYXRpb24gPSBlZS5ycGNfY29udmVydF9iYXRjaC5ndWVzc0Rlc3RpbmF0aW9uXyhwYXJhbXMpO1xuICBzd2l0Y2goZGVzdGluYXRpb24pIHtcbiAgICBjYXNlIGVlLnJwY19jb252ZXJ0X2JhdGNoLkV4cG9ydERlc3RpbmF0aW9uLkdDUzpcbiAgICBjYXNlIGVlLnJwY19jb252ZXJ0X2JhdGNoLkV4cG9ydERlc3RpbmF0aW9uLkRSSVZFOlxuICAgICAgcmVzdWx0LmZpbGVFeHBvcnRPcHRpb25zID0gZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRUYWJsZUZpbGVFeHBvcnRPcHRpb25zXyhwYXJhbXMsIGRlc3RpbmF0aW9uKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgZWUucnBjX2NvbnZlcnRfYmF0Y2guRXhwb3J0RGVzdGluYXRpb24uQVNTRVQ6XG4gICAgICByZXN1bHQuYXNzZXRFeHBvcnRPcHRpb25zID0gZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRUYWJsZUFzc2V0RXhwb3J0T3B0aW9uc18ocGFyYW1zKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgZWUucnBjX2NvbnZlcnRfYmF0Y2guRXhwb3J0RGVzdGluYXRpb24uRkVBVFVSRV9WSUVXOlxuICAgICAgcmVzdWx0LmRtc0V4cG9ydE9wdGlvbnMgPSBlZS5ycGNfY29udmVydF9iYXRjaC5idWlsZEZlYXR1cmVWaWV3RXhwb3J0T3B0aW9uc18ocGFyYW1zKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBFcnJvcignRXhwb3J0IGRlc3RpbmF0aW9uIFwiJyArIGRlc3RpbmF0aW9uICsgJ1wiIHVua25vd24nKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLnRhc2tUb0V4cG9ydFZpZGVvUmVxdWVzdCA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICBpZiAobnVsbCA9PSBwYXJhbXMuZWxlbWVudCkge1xuICAgIHRocm93IEVycm9yKCdcImVsZW1lbnRcIiBub3QgZm91bmQgaW4gcGFyYW1zICcgKyBwYXJhbXMpO1xuICB9XG4gIHZhciByZXN1bHQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHBvcnRWaWRlb1JlcXVlc3Qoe2V4cHJlc3Npb246ZWUuU2VyaWFsaXplci5lbmNvZGVDbG91ZEFwaUV4cHJlc3Npb24ocGFyYW1zLmVsZW1lbnQpLCBkZXNjcmlwdGlvbjpzdHJpbmdPck51bGxfKHBhcmFtcy5kZXNjcmlwdGlvbiksIHZpZGVvT3B0aW9uczplZS5ycGNfY29udmVydF9iYXRjaC5idWlsZFZpZGVvT3B0aW9uc18ocGFyYW1zKSwgZmlsZUV4cG9ydE9wdGlvbnM6bnVsbCwgcmVxdWVzdElkOnN0cmluZ09yTnVsbF8ocGFyYW1zLmlkKSwgbWF4V29ya2VyQ291bnQ6bnVtYmVyT3JOdWxsXyhwYXJhbXMubWF4V29ya2Vycyl9KTtcbiAgcmVzdWx0LmZpbGVFeHBvcnRPcHRpb25zID0gZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRWaWRlb0ZpbGVFeHBvcnRPcHRpb25zXyhwYXJhbXMsIGVlLnJwY19jb252ZXJ0X2JhdGNoLmd1ZXNzRGVzdGluYXRpb25fKHBhcmFtcykpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLnRhc2tUb0V4cG9ydE1hcFJlcXVlc3QgPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgaWYgKG51bGwgPT0gcGFyYW1zLmVsZW1lbnQpIHtcbiAgICB0aHJvdyBFcnJvcignXCJlbGVtZW50XCIgbm90IGZvdW5kIGluIHBhcmFtcyAnICsgcGFyYW1zKTtcbiAgfVxuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0TWFwUmVxdWVzdCh7ZXhwcmVzc2lvbjplZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpRXhwcmVzc2lvbihwYXJhbXMuZWxlbWVudCksIGRlc2NyaXB0aW9uOnN0cmluZ09yTnVsbF8ocGFyYW1zLmRlc2NyaXB0aW9uKSwgdGlsZU9wdGlvbnM6ZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRUaWxlT3B0aW9uc18ocGFyYW1zKSwgdGlsZUV4cG9ydE9wdGlvbnM6ZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRJbWFnZUZpbGVFeHBvcnRPcHRpb25zXyhwYXJhbXMsIGVlLnJwY19jb252ZXJ0X2JhdGNoLkV4cG9ydERlc3RpbmF0aW9uLkdDUyksIHJlcXVlc3RJZDpzdHJpbmdPck51bGxfKHBhcmFtcy5pZCksIG1heFdvcmtlckNvdW50Om51bWJlck9yTnVsbF8ocGFyYW1zLm1heFdvcmtlcnMpfSk7XG59O1xuZWUucnBjX2NvbnZlcnRfYmF0Y2gudGFza1RvRXhwb3J0VmlkZW9NYXBSZXF1ZXN0ID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIGlmIChudWxsID09IHBhcmFtcy5lbGVtZW50KSB7XG4gICAgdGhyb3cgRXJyb3IoJ1wiZWxlbWVudFwiIG5vdCBmb3VuZCBpbiBwYXJhbXMgJyArIHBhcmFtcyk7XG4gIH1cbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkV4cG9ydFZpZGVvTWFwUmVxdWVzdCh7ZXhwcmVzc2lvbjplZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpRXhwcmVzc2lvbihwYXJhbXMuZWxlbWVudCksIGRlc2NyaXB0aW9uOnN0cmluZ09yTnVsbF8ocGFyYW1zLmRlc2NyaXB0aW9uKSwgdmlkZW9PcHRpb25zOmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkVmlkZW9NYXBPcHRpb25zXyhwYXJhbXMpLCB0aWxlT3B0aW9uczplZS5ycGNfY29udmVydF9iYXRjaC5idWlsZFRpbGVPcHRpb25zXyhwYXJhbXMpLCB0aWxlRXhwb3J0T3B0aW9uczplZS5ycGNfY29udmVydF9iYXRjaC5idWlsZFZpZGVvRmlsZUV4cG9ydE9wdGlvbnNfKHBhcmFtcywgZWUucnBjX2NvbnZlcnRfYmF0Y2guRXhwb3J0RGVzdGluYXRpb24uR0NTKSwgcmVxdWVzdElkOnN0cmluZ09yTnVsbF8ocGFyYW1zLmlkKSwgXG4gIHZlcnNpb246c3RyaW5nT3JOdWxsXyhwYXJhbXMudmVyc2lvbiksIG1heFdvcmtlckNvdW50Om51bWJlck9yTnVsbF8ocGFyYW1zLm1heFdvcmtlcnMpfSk7XG59O1xuZWUucnBjX2NvbnZlcnRfYmF0Y2gudGFza1RvRXhwb3J0Q2xhc3NpZmllclJlcXVlc3QgPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgaWYgKG51bGwgPT0gcGFyYW1zLmVsZW1lbnQpIHtcbiAgICB0aHJvdyBFcnJvcignXCJlbGVtZW50XCIgbm90IGZvdW5kIGluIHBhcmFtcyAnICsgcGFyYW1zKTtcbiAgfVxuICB2YXIgZGVzdGluYXRpb24gPSBlZS5ycGNfY29udmVydF9iYXRjaC5ndWVzc0Rlc3RpbmF0aW9uXyhwYXJhbXMpO1xuICBpZiAoZGVzdGluYXRpb24gIT0gZWUucnBjX2NvbnZlcnRfYmF0Y2guRXhwb3J0RGVzdGluYXRpb24uQVNTRVQpIHtcbiAgICB0aHJvdyBFcnJvcignRXhwb3J0IGRlc3RpbmF0aW9uIFwiJyArIGRlc3RpbmF0aW9uICsgJ1wiIHVua25vd24nKTtcbiAgfVxuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRXhwb3J0Q2xhc3NpZmllclJlcXVlc3Qoe2V4cHJlc3Npb246ZWUuU2VyaWFsaXplci5lbmNvZGVDbG91ZEFwaUV4cHJlc3Npb24ocGFyYW1zLmVsZW1lbnQpLCBkZXNjcmlwdGlvbjpzdHJpbmdPck51bGxfKHBhcmFtcy5kZXNjcmlwdGlvbiksIHJlcXVlc3RJZDpzdHJpbmdPck51bGxfKHBhcmFtcy5pZCksIGFzc2V0RXhwb3J0T3B0aW9uczpuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DbGFzc2lmaWVyQXNzZXRFeHBvcnRPcHRpb25zKHtlYXJ0aEVuZ2luZURlc3RpbmF0aW9uOmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkRWFydGhFbmdpbmVEZXN0aW5hdGlvbl8ocGFyYW1zKX0pLCBtYXhXb3JrZXJDb3VudDpudW1iZXJPck51bGxfKHBhcmFtcy5tYXhXb3JrZXJzKSxcbiAgfSk7XG59O1xuZnVuY3Rpb24gc3RyaW5nT3JOdWxsXyh2YWx1ZSkge1xuICByZXR1cm4gbnVsbCAhPSB2YWx1ZSA/IFN0cmluZyh2YWx1ZSkgOiBudWxsO1xufVxuZnVuY3Rpb24gbnVtYmVyT3JOdWxsXyh2YWx1ZSkge1xuICByZXR1cm4gbnVsbCAhPSB2YWx1ZSA/IE51bWJlcih2YWx1ZSkgOiBudWxsO1xufVxuZWUucnBjX2NvbnZlcnRfYmF0Y2guZ3Vlc3NEZXN0aW5hdGlvbl8gPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgdmFyIGRlc3RpbmF0aW9uID0gZWUucnBjX2NvbnZlcnRfYmF0Y2guRXhwb3J0RGVzdGluYXRpb24uRFJJVkU7XG4gIGlmIChudWxsID09IHBhcmFtcykge1xuICAgIHJldHVybiBkZXN0aW5hdGlvbjtcbiAgfVxuICBudWxsICE9IHBhcmFtcy5vdXRwdXRCdWNrZXQgfHwgbnVsbCAhPSBwYXJhbXMub3V0cHV0UHJlZml4ID8gZGVzdGluYXRpb24gPSBlZS5ycGNfY29udmVydF9iYXRjaC5FeHBvcnREZXN0aW5hdGlvbi5HQ1MgOiBudWxsICE9IHBhcmFtcy5hc3NldElkID8gZGVzdGluYXRpb24gPSBlZS5ycGNfY29udmVydF9iYXRjaC5FeHBvcnREZXN0aW5hdGlvbi5BU1NFVCA6IG51bGwgIT0gcGFyYW1zLm1hcE5hbWUgJiYgKGRlc3RpbmF0aW9uID0gZWUucnBjX2NvbnZlcnRfYmF0Y2guRXhwb3J0RGVzdGluYXRpb24uRkVBVFVSRV9WSUVXKTtcbiAgcmV0dXJuIGRlc3RpbmF0aW9uO1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkR2VvVGlmZkZvcm1hdE9wdGlvbnNfID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIGlmIChwYXJhbXMuZmlsZURpbWVuc2lvbnMgJiYgcGFyYW1zLnRpZmZGaWxlRGltZW5zaW9ucykge1xuICAgIHRocm93IEVycm9yKCdFeHBvcnQgY2Fubm90IHNldCBib3RoIFwiZmlsZURpbWVuc2lvbnNcIiBhbmQgXCJ0aWZmRmlsZURpbWVuc2lvbnNcIi4nKTtcbiAgfVxuICB2YXIgdGlsZVNpemUgPSBwYXJhbXMudGlmZlNoYXJkU2l6ZSB8fCBwYXJhbXMuc2hhcmRTaXplO1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2VvVGlmZkltYWdlRXhwb3J0T3B0aW9ucyh7Y2xvdWRPcHRpbWl6ZWQ6ISFwYXJhbXMudGlmZkNsb3VkT3B0aW1pemVkLCBza2lwRW1wdHlGaWxlczohKCFwYXJhbXMuc2tpcEVtcHR5VGlsZXMgJiYgIXBhcmFtcy50aWZmU2tpcEVtcHR5RmlsZXMpLCB0aWxlRGltZW5zaW9uczplZS5ycGNfY29udmVydF9iYXRjaC5idWlsZEdyaWREaW1lbnNpb25zXyhwYXJhbXMuZmlsZURpbWVuc2lvbnMgfHwgcGFyYW1zLnRpZmZGaWxlRGltZW5zaW9ucyksIHRpbGVTaXplOm51bWJlck9yTnVsbF8odGlsZVNpemUpLH0pO1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkVGZSZWNvcmRGb3JtYXRPcHRpb25zXyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICB2YXIgdGZSZWNvcmRPcHRpb25zID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGZSZWNvcmRJbWFnZUV4cG9ydE9wdGlvbnMoe2NvbXByZXNzOiEhcGFyYW1zLnRmcmVjb3JkQ29tcHJlc3NlZCwgbWF4U2l6ZUJ5dGVzOnN0cmluZ09yTnVsbF8ocGFyYW1zLnRmcmVjb3JkTWF4RmlsZVNpemUpLCBzZXF1ZW5jZURhdGE6ISFwYXJhbXMudGZyZWNvcmRTZXF1ZW5jZURhdGEsIGNvbGxhcHNlQmFuZHM6ISFwYXJhbXMudGZyZWNvcmRDb2xsYXBzZUJhbmRzLCBtYXhNYXNrZWRSYXRpbzpudW1iZXJPck51bGxfKHBhcmFtcy50ZnJlY29yZE1hc2tlZFRocmVzaG9sZCksIGRlZmF1bHRWYWx1ZTpudW1iZXJPck51bGxfKHBhcmFtcy50ZnJlY29yZERlZmF1bHRWYWx1ZSksIHRpbGVEaW1lbnNpb25zOmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkR3JpZERpbWVuc2lvbnNfKHBhcmFtcy50ZnJlY29yZFBhdGNoRGltZW5zaW9ucyksIFxuICBtYXJnaW5EaW1lbnNpb25zOmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkR3JpZERpbWVuc2lvbnNfKHBhcmFtcy50ZnJlY29yZEtlcm5lbFNpemUpLCB0ZW5zb3JEZXB0aHM6bnVsbCx9KSwgdGVuc29yRGVwdGhzID0gcGFyYW1zLnRmcmVjb3JkVGVuc29yRGVwdGhzO1xuICBpZiAobnVsbCAhPSB0ZW5zb3JEZXB0aHMpIHtcbiAgICBpZiAoZ29vZy5pc09iamVjdCh0ZW5zb3JEZXB0aHMpKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZm9yRWFjaCh0ZW5zb3JEZXB0aHMsIGZ1bmN0aW9uKHYsIGspIHtcbiAgICAgICAgaWYgKFwic3RyaW5nXCIgIT09IHR5cGVvZiBrIHx8IFwibnVtYmVyXCIgIT09IHR5cGVvZiB2KSB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoJ1widGVuc29yRGVwdGhzXCIgb3B0aW9uIG11c3QgYmUgYW4gb2JqZWN0IG9mIHR5cGUgT2JqZWN0PHN0cmluZywgbnVtYmVyPicpO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFtrXSA9IHY7XG4gICAgICB9KTtcbiAgICAgIHRmUmVjb3JkT3B0aW9ucy50ZW5zb3JEZXB0aHMgPSByZXN1bHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IEVycm9yKCdcInRlbnNvckRlcHRoc1wiIG9wdGlvbiBuZWVkcyB0byBoYXZlIHRoZSBmb3JtIE9iamVjdDxzdHJpbmcsIG51bWJlcj4uJyk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0ZlJlY29yZE9wdGlvbnM7XG59O1xuZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRJbWFnZUZpbGVFeHBvcnRPcHRpb25zXyA9IGZ1bmN0aW9uKHBhcmFtcywgZGVzdGluYXRpb24pIHtcbiAgdmFyIHJlc3VsdCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkltYWdlRmlsZUV4cG9ydE9wdGlvbnMoe2djc0Rlc3RpbmF0aW9uOm51bGwsIGRyaXZlRGVzdGluYXRpb246bnVsbCwgZ2VvVGlmZk9wdGlvbnM6bnVsbCwgdGZSZWNvcmRPcHRpb25zOm51bGwsIGZpbGVGb3JtYXQ6ZWUucnBjX2NvbnZlcnQuZmlsZUZvcm1hdChwYXJhbXMuZmlsZUZvcm1hdCksfSk7XG4gIFwiR0VPX1RJRkZcIiA9PT0gcmVzdWx0LmZpbGVGb3JtYXQgPyByZXN1bHQuZ2VvVGlmZk9wdGlvbnMgPSBlZS5ycGNfY29udmVydF9iYXRjaC5idWlsZEdlb1RpZmZGb3JtYXRPcHRpb25zXyhwYXJhbXMpIDogXCJURl9SRUNPUkRfSU1BR0VcIiA9PT0gcmVzdWx0LmZpbGVGb3JtYXQgJiYgKHJlc3VsdC50ZlJlY29yZE9wdGlvbnMgPSBlZS5ycGNfY29udmVydF9iYXRjaC5idWlsZFRmUmVjb3JkRm9ybWF0T3B0aW9uc18ocGFyYW1zKSk7XG4gIGRlc3RpbmF0aW9uID09PSBlZS5ycGNfY29udmVydF9iYXRjaC5FeHBvcnREZXN0aW5hdGlvbi5HQ1MgPyByZXN1bHQuZ2NzRGVzdGluYXRpb24gPSBlZS5ycGNfY29udmVydF9iYXRjaC5idWlsZEdjc0Rlc3RpbmF0aW9uXyhwYXJhbXMpIDogcmVzdWx0LmRyaXZlRGVzdGluYXRpb24gPSBlZS5ycGNfY29udmVydF9iYXRjaC5idWlsZERyaXZlRGVzdGluYXRpb25fKHBhcmFtcyk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRJbWFnZUFzc2V0RXhwb3J0T3B0aW9uc18gPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgdmFyIGFsbFBvbGljaWVzID0gcGFyYW1zLnB5cmFtaWRpbmdQb2xpY3kgfHwge307XG4gIHRyeSB7XG4gICAgYWxsUG9saWNpZXMgPSBKU09OLnBhcnNlKGFsbFBvbGljaWVzKTtcbiAgfSBjYXRjaCAoJGpzY29tcCR1bnVzZWQkY2F0Y2gpIHtcbiAgfVxuICB2YXIgZGVmYXVsdFB5cmFtaWRpbmdQb2xpY3kgPSBcIlBZUkFNSURJTkdfUE9MSUNZX1VOU1BFQ0lGSUVEXCI7XG4gIFwic3RyaW5nXCIgPT09IHR5cGVvZiBhbGxQb2xpY2llcyA/IChkZWZhdWx0UHlyYW1pZGluZ1BvbGljeSA9IGFsbFBvbGljaWVzLCBhbGxQb2xpY2llcyA9IHt9KSA6IGFsbFBvbGljaWVzW1wiLmRlZmF1bHRcIl0gJiYgKGRlZmF1bHRQeXJhbWlkaW5nUG9saWN5ID0gYWxsUG9saWNpZXNbXCIuZGVmYXVsdFwiXSwgZGVsZXRlIGFsbFBvbGljaWVzW1wiLmRlZmF1bHRcIl0pO1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1hZ2VBc3NldEV4cG9ydE9wdGlvbnMoe2VhcnRoRW5naW5lRGVzdGluYXRpb246ZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRFYXJ0aEVuZ2luZURlc3RpbmF0aW9uXyhwYXJhbXMpLCBweXJhbWlkaW5nUG9saWN5OmRlZmF1bHRQeXJhbWlkaW5nUG9saWN5LCBweXJhbWlkaW5nUG9saWN5T3ZlcnJpZGVzOm1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9pc0VtcHR5KGFsbFBvbGljaWVzKSA/IG51bGwgOiBhbGxQb2xpY2llcywgdGlsZVNpemU6bnVtYmVyT3JOdWxsXyhwYXJhbXMuc2hhcmRTaXplKSx9KTtcbn07XG5lZS5ycGNfY29udmVydF9iYXRjaC5idWlsZFRhYmxlRmlsZUV4cG9ydE9wdGlvbnNfID0gZnVuY3Rpb24ocGFyYW1zLCBkZXN0aW5hdGlvbikge1xuICB2YXIgcmVzdWx0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGFibGVGaWxlRXhwb3J0T3B0aW9ucyh7Z2NzRGVzdGluYXRpb246bnVsbCwgZHJpdmVEZXN0aW5hdGlvbjpudWxsLCBmaWxlRm9ybWF0OmVlLnJwY19jb252ZXJ0LnRhYmxlRmlsZUZvcm1hdChwYXJhbXMuZmlsZUZvcm1hdCksfSk7XG4gIGRlc3RpbmF0aW9uID09PSBlZS5ycGNfY29udmVydF9iYXRjaC5FeHBvcnREZXN0aW5hdGlvbi5HQ1MgPyByZXN1bHQuZ2NzRGVzdGluYXRpb24gPSBlZS5ycGNfY29udmVydF9iYXRjaC5idWlsZEdjc0Rlc3RpbmF0aW9uXyhwYXJhbXMpIDogcmVzdWx0LmRyaXZlRGVzdGluYXRpb24gPSBlZS5ycGNfY29udmVydF9iYXRjaC5idWlsZERyaXZlRGVzdGluYXRpb25fKHBhcmFtcyk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRUYWJsZUFzc2V0RXhwb3J0T3B0aW9uc18gPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlQXNzZXRFeHBvcnRPcHRpb25zKHtlYXJ0aEVuZ2luZURlc3RpbmF0aW9uOmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkRWFydGhFbmdpbmVEZXN0aW5hdGlvbl8ocGFyYW1zKX0pO1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkRmVhdHVyZVZpZXdFeHBvcnRPcHRpb25zXyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuRG1zQXNzZXRFeHBvcnRPcHRpb25zKHtkbXNEZXN0aW5hdGlvbjplZS5ycGNfY29udmVydF9iYXRjaC5idWlsZEZlYXR1cmVWaWV3RGVzdGluYXRpb25fKHBhcmFtcyksIGluZ2VzdGlvblRpbWVQYXJhbWV0ZXJzOmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkRmVhdHVyZVZpZXdJbmdlc3Rpb25UaW1lUGFyYW1ldGVyc18ocGFyYW1zLmluZ2VzdGlvblRpbWVQYXJhbWV0ZXJzKSx9KTtcbn07XG5lZS5ycGNfY29udmVydF9iYXRjaC5idWlsZFZpZGVvRmlsZUV4cG9ydE9wdGlvbnNfID0gZnVuY3Rpb24ocGFyYW1zLCBkZXN0aW5hdGlvbikge1xuICB2YXIgcmVzdWx0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9GaWxlRXhwb3J0T3B0aW9ucyh7Z2NzRGVzdGluYXRpb246bnVsbCwgZHJpdmVEZXN0aW5hdGlvbjpudWxsLCBmaWxlRm9ybWF0OlwiTVA0XCIsfSk7XG4gIGRlc3RpbmF0aW9uID09PSBlZS5ycGNfY29udmVydF9iYXRjaC5FeHBvcnREZXN0aW5hdGlvbi5HQ1MgPyByZXN1bHQuZ2NzRGVzdGluYXRpb24gPSBlZS5ycGNfY29udmVydF9iYXRjaC5idWlsZEdjc0Rlc3RpbmF0aW9uXyhwYXJhbXMpIDogcmVzdWx0LmRyaXZlRGVzdGluYXRpb24gPSBlZS5ycGNfY29udmVydF9iYXRjaC5idWlsZERyaXZlRGVzdGluYXRpb25fKHBhcmFtcyk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRWaWRlb09wdGlvbnNfID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb09wdGlvbnMoe2ZyYW1lc1BlclNlY29uZDpudW1iZXJPck51bGxfKHBhcmFtcy5mcmFtZXNQZXJTZWNvbmQpLCBtYXhGcmFtZXM6bnVtYmVyT3JOdWxsXyhwYXJhbXMubWF4RnJhbWVzKSwgbWF4UGl4ZWxzUGVyRnJhbWU6c3RyaW5nT3JOdWxsXyhwYXJhbXMubWF4UGl4ZWxzKSx9KTtcbn07XG5lZS5ycGNfY29udmVydF9iYXRjaC5idWlsZFZpZGVvTWFwT3B0aW9uc18gPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlZpZGVvT3B0aW9ucyh7ZnJhbWVzUGVyU2Vjb25kOm51bWJlck9yTnVsbF8ocGFyYW1zLmZyYW1lc1BlclNlY29uZCksIG1heEZyYW1lczpudW1iZXJPck51bGxfKHBhcmFtcy5tYXhGcmFtZXMpLCBtYXhQaXhlbHNQZXJGcmFtZTpudWxsLH0pO1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkVGlsZU9wdGlvbnNfID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaWxlT3B0aW9ucyh7bWF4Wm9vbTpudW1iZXJPck51bGxfKHBhcmFtcy5tYXhab29tKSwgc2NhbGU6bnVtYmVyT3JOdWxsXyhwYXJhbXMuc2NhbGUpLCBtaW5ab29tOm51bWJlck9yTnVsbF8ocGFyYW1zLm1pblpvb20pLCBza2lwRW1wdHlUaWxlczohIXBhcmFtcy5za2lwRW1wdHlUaWxlcywgbWFwc0FwaUtleTpzdHJpbmdPck51bGxfKHBhcmFtcy5tYXBzQXBpS2V5KSwgdGlsZURpbWVuc2lvbnM6ZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRHcmlkRGltZW5zaW9uc18ocGFyYW1zLnRpbGVEaW1lbnNpb25zKSwgc3RyaWRlOm51bWJlck9yTnVsbF8ocGFyYW1zLnN0cmlkZSksIHpvb21TdWJzZXQ6ZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRab29tU3Vic2V0XyhudW1iZXJPck51bGxfKHBhcmFtcy5taW5UaW1lTWFjaGluZVpvb21TdWJzZXQpLCBcbiAgbnVtYmVyT3JOdWxsXyhwYXJhbXMubWF4VGltZU1hY2hpbmVab29tU3Vic2V0KSksfSk7XG59O1xuZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRab29tU3Vic2V0XyA9IGZ1bmN0aW9uKG1pbiwgbWF4KSB7XG4gIGlmIChudWxsID09IG1pbiAmJiBudWxsID09IG1heCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciByZXN1bHQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5ab29tU3Vic2V0KHttaW46MCwgbWF4Om51bGx9KTtcbiAgbnVsbCAhPSBtaW4gJiYgKHJlc3VsdC5taW4gPSBtaW4pO1xuICByZXN1bHQubWF4ID0gbWF4O1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkR3JpZERpbWVuc2lvbnNfID0gZnVuY3Rpb24oZGltZW5zaW9ucykge1xuICBpZiAobnVsbCA9PSBkaW1lbnNpb25zKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkdyaWREaW1lbnNpb25zKHtoZWlnaHQ6MCwgd2lkdGg6MH0pO1xuICBcInN0cmluZ1wiID09PSB0eXBlb2YgZGltZW5zaW9ucyAmJiAoLTEgIT09IGRpbWVuc2lvbnMuaW5kZXhPZihcInhcIikgPyBkaW1lbnNpb25zID0gZGltZW5zaW9ucy5zcGxpdChcInhcIikubWFwKE51bWJlcikgOiAtMSAhPT0gZGltZW5zaW9ucy5pbmRleE9mKFwiLFwiKSAmJiAoZGltZW5zaW9ucyA9IGRpbWVuc2lvbnMuc3BsaXQoXCIsXCIpLm1hcChOdW1iZXIpKSk7XG4gIGlmIChBcnJheS5pc0FycmF5KGRpbWVuc2lvbnMpKSB7XG4gICAgaWYgKDIgPT09IGRpbWVuc2lvbnMubGVuZ3RoKSB7XG4gICAgICByZXN1bHQuaGVpZ2h0ID0gZGltZW5zaW9uc1swXSwgcmVzdWx0LndpZHRoID0gZGltZW5zaW9uc1sxXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKDEgPT09IGRpbWVuc2lvbnMubGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdC5oZWlnaHQgPSBkaW1lbnNpb25zWzBdLCByZXN1bHQud2lkdGggPSBkaW1lbnNpb25zWzBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJVbmFibGUgdG8gY29uc3RydWN0IGdyaWQgZnJvbSBkaW1lbnNpb25zOiBcIiArIGRpbWVuc2lvbnMpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoXCJudW1iZXJcIiAhPT0gdHlwZW9mIGRpbWVuc2lvbnMgfHwgaXNOYU4oZGltZW5zaW9ucykpIHtcbiAgICAgIGlmIChnb29nLmlzT2JqZWN0KGRpbWVuc2lvbnMpICYmIG51bGwgIT0gZGltZW5zaW9ucy5oZWlnaHQgJiYgbnVsbCAhPSBkaW1lbnNpb25zLndpZHRoKSB7XG4gICAgICAgIHJlc3VsdC5oZWlnaHQgPSBkaW1lbnNpb25zLmhlaWdodCwgcmVzdWx0LndpZHRoID0gZGltZW5zaW9ucy53aWR0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiVW5hYmxlIHRvIGNvbnN0cnVjdCBncmlkIGZyb20gZGltZW5zaW9uczogXCIgKyBkaW1lbnNpb25zKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LmhlaWdodCA9IGRpbWVuc2lvbnMsIHJlc3VsdC53aWR0aCA9IGRpbWVuc2lvbnM7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRHY3NEZXN0aW5hdGlvbl8gPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgdmFyIHBlcm1pc3Npb25zID0gbnVsbDtcbiAgbnVsbCAhPSBwYXJhbXMud3JpdGVQdWJsaWNUaWxlcyAmJiAocGVybWlzc2lvbnMgPSBwYXJhbXMud3JpdGVQdWJsaWNUaWxlcyA/IFwiUFVCTElDXCIgOiBcIkRFRkFVTFRfT0JKRUNUX0FDTFwiKTtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50Lkdjc0Rlc3RpbmF0aW9uKHtidWNrZXQ6c3RyaW5nT3JOdWxsXyhwYXJhbXMub3V0cHV0QnVja2V0KSwgZmlsZW5hbWVQcmVmaXg6c3RyaW5nT3JOdWxsXyhwYXJhbXMub3V0cHV0UHJlZml4KSwgYnVja2V0Q29yc1VyaXM6cGFyYW1zLmJ1Y2tldENvcnNVcmlzIHx8IG51bGwsIHBlcm1pc3Npb25zOnBlcm1pc3Npb25zLH0pO1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkRHJpdmVEZXN0aW5hdGlvbl8gPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRyaXZlRGVzdGluYXRpb24oe2ZvbGRlcjpzdHJpbmdPck51bGxfKHBhcmFtcy5kcml2ZUZvbGRlciksIGZpbGVuYW1lUHJlZml4OnN0cmluZ09yTnVsbF8ocGFyYW1zLmRyaXZlRmlsZU5hbWVQcmVmaXgpLH0pO1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkRWFydGhFbmdpbmVEZXN0aW5hdGlvbl8gPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lRGVzdGluYXRpb24oe25hbWU6ZWUucnBjX2NvbnZlcnQuYXNzZXRJZFRvQXNzZXROYW1lKHBhcmFtcy5hc3NldElkKX0pO1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkRmVhdHVyZVZpZXdEZXN0aW5hdGlvbl8gPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgcmV0dXJuIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRtc0Rlc3RpbmF0aW9uKHtkbXNOYW1lOmVlLnJwY19jb252ZXJ0LmFzc2V0SWRUb0Fzc2V0TmFtZShwYXJhbXMubWFwTmFtZSl9KTtcbn07XG5lZS5ycGNfY29udmVydF9iYXRjaC5idWlsZEZlYXR1cmVWaWV3SW5nZXN0aW9uVGltZVBhcmFtZXRlcnNfID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIHJldHVybiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5EbXNJbmdlc3Rpb25UaW1lUGFyYW1ldGVycyh7dGhpbm5pbmdPcHRpb25zOmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkVGhpbm5pbmdPcHRpb25zXyhwYXJhbXMudGhpbm5pbmdPcHRpb25zKSwgcmFua2luZ09wdGlvbnM6ZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRSYW5raW5nT3B0aW9uc18ocGFyYW1zLnJhbmtpbmdPcHRpb25zKX0pO1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkVGhpbm5pbmdPcHRpb25zXyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICByZXR1cm4gbnVsbCA9PSBwYXJhbXMgPyBudWxsIDogbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVGhpbm5pbmdPcHRpb25zKHttYXhGZWF0dXJlc1BlclRpbGU6bnVtYmVyT3JOdWxsXyhwYXJhbXMubWF4RmVhdHVyZXNQZXJUaWxlKSwgdGhpbm5pbmdTdHJhdGVneTpwYXJhbXMudGhpbm5pbmdTdHJhdGVneX0pO1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkUmFua2luZ09wdGlvbnNfID0gZnVuY3Rpb24ocGFyYW1zKSB7XG4gIHJldHVybiBudWxsID09IHBhcmFtcyA/IG51bGwgOiBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5SYW5raW5nT3B0aW9ucyh7ek9yZGVyUmFua2luZ1J1bGU6ZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRSYW5raW5nUnVsZV8ocGFyYW1zLnpPcmRlclJhbmtpbmdSdWxlKSwgdGhpbm5pbmdSYW5raW5nUnVsZTplZS5ycGNfY29udmVydF9iYXRjaC5idWlsZFJhbmtpbmdSdWxlXyhwYXJhbXMudGhpbm5pbmdSYW5raW5nUnVsZSksfSk7XG59O1xuZWUucnBjX2NvbnZlcnRfYmF0Y2guYnVpbGRSYW5raW5nUnVsZV8gPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgaWYgKG51bGwgPT0gcGFyYW1zKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKHBhcmFtcy5yYW5rQnlPbmVUaGluZ1J1bGUgJiYgIUFycmF5LmlzQXJyYXkocGFyYW1zLnJhbmtCeU9uZVRoaW5nUnVsZSkpIHtcbiAgICB0aHJvdyBFcnJvcignUGFyYW1ldGVyIFwicmFua0J5T25lVGhpbmdSdWxlXCIgc2hvdWxkIGJlIGFuIGFycmF5LCBnb3QgJyArIHR5cGVvZiBwYXJhbXMucmFua0J5T25lVGhpbmdSdWxlKTtcbiAgfVxuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua2luZ1J1bGUoe3JhbmtCeU9uZVRoaW5nUnVsZToocGFyYW1zLnJhbmtCeU9uZVRoaW5nUnVsZSB8fCBbXSkubWFwKGVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkUmFua0J5T25lVGhpbmdSdWxlXyksIHBzZXVkb1JhbmRvbVRpZWJyZWFraW5nOnBhcmFtcy5wc2V1ZG9SYW5kb21UaWVicmVha2luZyB8fCBudWxsLH0pO1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkUmFua0J5T25lVGhpbmdSdWxlXyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICB2YXIgcmVzdWx0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5T25lVGhpbmdSdWxlKHtkaXJlY3Rpb246c3RyaW5nT3JOdWxsXyhwYXJhbXMuZGlyZWN0aW9uKSwgcmFua0J5QXR0cmlidXRlUnVsZTpudWxsLCByYW5rQnlNaW5WaXNpYmxlTG9kUnVsZTpudWxsLCByYW5rQnlHZW9tZXRyeVR5cGVSdWxlOm51bGwsIHJhbmtCeU5hdHVyYWxPcmRlclJ1bGU6bnVsbCx9KTtcbiAgcGFyYW1zLnJhbmtCeUF0dHJpYnV0ZVJ1bGUgPyByZXN1bHQucmFua0J5QXR0cmlidXRlUnVsZSA9IGVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkUmFua0J5QXR0cmlidXRlUnVsZShwYXJhbXMpIDogcGFyYW1zLnJhbmtCeU1pblZpc2libGVMb2RSdWxlID8gcmVzdWx0LnJhbmtCeU1pblZpc2libGVMb2RSdWxlID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5TWluVmlzaWJsZUxvZFJ1bGUoe30pIDogcGFyYW1zLnJhbmtCeUdlb21ldHJ5VHlwZVJ1bGUgPyByZXN1bHQucmFua0J5R2VvbWV0cnlUeXBlUnVsZSA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeUdlb21ldHJ5VHlwZVJ1bGUoe30pIDogcGFyYW1zLnJhbmtCeU5hdHVyYWxPcmRlclJ1bGUgJiYgKHJlc3VsdC5yYW5rQnlOYXR1cmFsT3JkZXJSdWxlID0gXG4gIG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlJhbmtCeU5hdHVyYWxPcmRlcih7fSkpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmVlLnJwY19jb252ZXJ0X2JhdGNoLmJ1aWxkUmFua0J5QXR0cmlidXRlUnVsZSA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICByZXR1cm4gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuUmFua0J5QXR0cmlidXRlUnVsZSh7YXR0cmlidXRlTmFtZTpzdHJpbmdPck51bGxfKHBhcmFtcy5hdHRyaWJ1dGVOYW1lKX0pO1xufTtcbmVlLmRhdGEgPSB7fTtcbmVlLmRhdGEuQWJzdHJhY3RUYXNrQ29uZmlnID0ge307XG5lZS5kYXRhLkFsZ29yaXRobXNSZWdpc3RyeSA9IHt9O1xuZWUuZGF0YS5Bc3NldExpc3QgPSB7fTtcbmVlLmRhdGEuQ2xhc3NpZmllclRhc2tDb25maWcgPSB7fTtcbmVlLmRhdGEuRmVhdHVyZVZpZXdUYXNrQ29uZmlnID0ge307XG5lZS5kYXRhLkltYWdlVGFza0NvbmZpZyA9IHt9O1xuZWUuZGF0YS5NYXBUYXNrQ29uZmlnID0ge307XG5lZS5kYXRhLlRhYmxlVGFza0NvbmZpZyA9IHt9O1xuZWUuZGF0YS5WaWRlb01hcFRhc2tDb25maWcgPSB7fTtcbmVlLmRhdGEuVmlkZW9UYXNrQ29uZmlnID0ge307XG5lZS5kYXRhLmF1dGhlbnRpY2F0ZVZpYU9hdXRoID0gZnVuY3Rpb24oY2xpZW50SWQsIHN1Y2Nlc3MsIG9wdF9lcnJvciwgb3B0X2V4dHJhU2NvcGVzLCBvcHRfb25JbW1lZGlhdGVGYWlsZWQsIG9wdF9zdXBwcmVzc0RlZmF1bHRTY29wZXMpIHtcbiAgdmFyIHNjb3BlcyA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50Lm1lcmdlQXV0aFNjb3Blc18oIW9wdF9zdXBwcmVzc0RlZmF1bHRTY29wZXMsICExLCBvcHRfZXh0cmFTY29wZXMgfHwgW10pO1xuICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZXRBdXRoQ2xpZW50KGNsaWVudElkLCBzY29wZXMpO1xuICBudWxsID09PSBjbGllbnRJZCA/IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmNsZWFyQXV0aFRva2VuKCkgOiBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5lbnN1cmVBdXRoTGliTG9hZGVkXyhmdW5jdGlvbigpIHtcbiAgICB2YXIgb25JbW1lZGlhdGVGYWlsZWQgPSBvcHRfb25JbW1lZGlhdGVGYWlsZWQgfHwgZ29vZy5wYXJ0aWFsKGVlLmRhdGEuYXV0aGVudGljYXRlVmlhUG9wdXAsIHN1Y2Nlc3MsIG9wdF9lcnJvcik7XG4gICAgZWUuZGF0YS5yZWZyZXNoQXV0aFRva2VuKHN1Y2Nlc3MsIG9wdF9lcnJvciwgb25JbW1lZGlhdGVGYWlsZWQpO1xuICB9KTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuYXV0aGVudGljYXRlVmlhT2F1dGhcIiwgZWUuZGF0YS5hdXRoZW50aWNhdGVWaWFPYXV0aCk7XG5lZS5kYXRhLmF1dGhlbnRpY2F0ZSA9IGZ1bmN0aW9uKGNsaWVudElkLCBzdWNjZXNzLCBvcHRfZXJyb3IsIG9wdF9leHRyYVNjb3Blcywgb3B0X29uSW1tZWRpYXRlRmFpbGVkKSB7XG4gIGVlLmRhdGEuYXV0aGVudGljYXRlVmlhT2F1dGgoY2xpZW50SWQsIHN1Y2Nlc3MsIG9wdF9lcnJvciwgb3B0X2V4dHJhU2NvcGVzLCBvcHRfb25JbW1lZGlhdGVGYWlsZWQpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5hdXRoZW50aWNhdGVcIiwgZWUuZGF0YS5hdXRoZW50aWNhdGUpO1xuZWUuZGF0YS5hdXRoZW50aWNhdGVWaWFQb3B1cCA9IGZ1bmN0aW9uKG9wdF9zdWNjZXNzLCBvcHRfZXJyb3IpIHtcbiAgZ29vZy5nbG9iYWwuZ2FwaS5hdXRoLmF1dGhvcml6ZSh7Y2xpZW50X2lkOm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldEF1dGhDbGllbnRJZCgpLCBpbW1lZGlhdGU6ITEsIHNjb3BlOm1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldEF1dGhTY29wZXMoKS5qb2luKFwiIFwiKX0sIGdvb2cucGFydGlhbChtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5oYW5kbGVBdXRoUmVzdWx0Xywgb3B0X3N1Y2Nlc3MsIG9wdF9lcnJvcikpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5hdXRoZW50aWNhdGVWaWFQb3B1cFwiLCBlZS5kYXRhLmF1dGhlbnRpY2F0ZVZpYVBvcHVwKTtcbmVlLmRhdGEuYXV0aGVudGljYXRlVmlhUHJpdmF0ZUtleSA9IGZ1bmN0aW9uKHByaXZhdGVLZXksIG9wdF9zdWNjZXNzLCBvcHRfZXJyb3IsIG9wdF9leHRyYVNjb3Blcywgb3B0X3N1cHByZXNzRGVmYXVsdFNjb3Blcykge1xuICBpZiAoXCJ3aW5kb3dcIiBpbiBnb29nLmdsb2JhbCkge1xuICAgIHRocm93IEVycm9yKFwiVXNlIG9mIHByaXZhdGUga2V5IGF1dGhlbnRpY2F0aW9uIGluIHRoZSBicm93c2VyIGlzIGluc2VjdXJlLiBDb25zaWRlciB1c2luZyBPQXV0aCwgaW5zdGVhZC5cIik7XG4gIH1cbiAgdmFyIHNjb3BlcyA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50Lm1lcmdlQXV0aFNjb3Blc18oIW9wdF9zdXBwcmVzc0RlZmF1bHRTY29wZXMsICFvcHRfc3VwcHJlc3NEZWZhdWx0U2NvcGVzLCBvcHRfZXh0cmFTY29wZXMgfHwgW10pO1xuICBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZXRBdXRoQ2xpZW50KHByaXZhdGVLZXkuY2xpZW50X2VtYWlsLCBzY29wZXMpO1xuICB2YXIgand0Q2xpZW50ID0gbmV3IGdvb2dsZS5hdXRoLkpXVChwcml2YXRlS2V5LmNsaWVudF9lbWFpbCwgbnVsbCwgcHJpdmF0ZUtleS5wcml2YXRlX2tleSwgc2NvcGVzLCBudWxsKTtcbiAgZWUuZGF0YS5zZXRBdXRoVG9rZW5SZWZyZXNoZXIoZnVuY3Rpb24oYXV0aEFyZ3MsIGNhbGxiYWNrKSB7XG4gICAgand0Q2xpZW50LmF1dGhvcml6ZShmdW5jdGlvbihlcnJvciwgdG9rZW4pIHtcbiAgICAgIGVycm9yID8gY2FsbGJhY2soe2Vycm9yOmVycm9yfSkgOiBjYWxsYmFjayh7YWNjZXNzX3Rva2VuOnRva2VuLmFjY2Vzc190b2tlbiwgdG9rZW5fdHlwZTp0b2tlbi50b2tlbl90eXBlLCBleHBpcmVzX2luOih0b2tlbi5leHBpcnlfZGF0ZSAtIERhdGUubm93KCkpIC8gMTAwMCx9KTtcbiAgICB9KTtcbiAgfSk7XG4gIGVlLmRhdGEucmVmcmVzaEF1dGhUb2tlbihvcHRfc3VjY2Vzcywgb3B0X2Vycm9yKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuYXV0aGVudGljYXRlVmlhUHJpdmF0ZUtleVwiLCBlZS5kYXRhLmF1dGhlbnRpY2F0ZVZpYVByaXZhdGVLZXkpO1xuZWUuZGF0YS5zZXRBcGlLZXkgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZXRBcGlLZXk7XG5lZS5kYXRhLnNldFByb2plY3QgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZXRQcm9qZWN0O1xuZWUuZGF0YS5nZXRQcm9qZWN0ID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZ2V0UHJvamVjdDtcbmVlLmRhdGEuUFJPRklMRV9SRVFVRVNUX0hFQURFUiA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LlBST0ZJTEVfUkVRVUVTVF9IRUFERVI7XG5lZS5kYXRhLnNldEV4cHJlc3Npb25BdWdtZW50ZXIgPSBmdW5jdGlvbihhdWdtZW50ZXIpIHtcbiAgZWUuZGF0YS5leHByZXNzaW9uQXVnbWVudGVyXyA9IGF1Z21lbnRlciB8fCBnb29nLmZ1bmN0aW9ucy5pZGVudGl0eTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuc2V0RXhwcmVzc2lvbkF1Z21lbnRlclwiLCBlZS5kYXRhLnNldEV4cHJlc3Npb25BdWdtZW50ZXIpO1xuZWUuZGF0YS5leHByZXNzaW9uQXVnbWVudGVyXyA9IGdvb2cuZnVuY3Rpb25zLmlkZW50aXR5O1xuZWUuZGF0YS5zZXRBdXRoVG9rZW4gPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZXRBdXRoVG9rZW47XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuc2V0QXV0aFRva2VuXCIsIGVlLmRhdGEuc2V0QXV0aFRva2VuKTtcbmVlLmRhdGEucmVmcmVzaEF1dGhUb2tlbiA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnJlZnJlc2hBdXRoVG9rZW47XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEucmVmcmVzaEF1dGhUb2tlblwiLCBlZS5kYXRhLnJlZnJlc2hBdXRoVG9rZW4pO1xuZWUuZGF0YS5zZXRBdXRoVG9rZW5SZWZyZXNoZXIgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5zZXRBdXRoVG9rZW5SZWZyZXNoZXI7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuc2V0QXV0aFRva2VuUmVmcmVzaGVyXCIsIGVlLmRhdGEuc2V0QXV0aFRva2VuUmVmcmVzaGVyKTtcbmVlLmRhdGEuZ2V0QXV0aFRva2VuID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZ2V0QXV0aFRva2VuO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmdldEF1dGhUb2tlblwiLCBlZS5kYXRhLmdldEF1dGhUb2tlbik7XG5lZS5kYXRhLmNsZWFyQXV0aFRva2VuID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuY2xlYXJBdXRoVG9rZW47XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuY2xlYXJBdXRoVG9rZW5cIiwgZWUuZGF0YS5jbGVhckF1dGhUb2tlbik7XG5lZS5kYXRhLmdldEF1dGhDbGllbnRJZCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldEF1dGhDbGllbnRJZDtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5nZXRBdXRoQ2xpZW50SWRcIiwgZWUuZGF0YS5nZXRBdXRoQ2xpZW50SWQpO1xuZWUuZGF0YS5nZXRBdXRoU2NvcGVzID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZ2V0QXV0aFNjb3Blcztcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5nZXRBdXRoU2NvcGVzXCIsIGVlLmRhdGEuZ2V0QXV0aFNjb3Blcyk7XG5lZS5kYXRhLnNldERlYWRsaW5lID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0RGVhZGxpbmU7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuc2V0RGVhZGxpbmVcIiwgZWUuZGF0YS5zZXREZWFkbGluZSk7XG5lZS5kYXRhLnNldFBhcmFtQXVnbWVudGVyID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2V0UGFyYW1BdWdtZW50ZXI7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuc2V0UGFyYW1BdWdtZW50ZXJcIiwgZWUuZGF0YS5zZXRQYXJhbUF1Z21lbnRlcik7XG5lZS5kYXRhLmluaXRpYWxpemUgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5pbml0aWFsaXplO1xuZWUuZGF0YS5yZXNldCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnJlc2V0O1xuZWUuZGF0YS5QUk9GSUxFX0hFQURFUiA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LlBST0ZJTEVfSEVBREVSO1xuZWUuZGF0YS5tYWtlUmVxdWVzdF8gPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5tYWtlUmVxdWVzdF87XG5lZS5kYXRhLnNlbmRfID0gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuc2VuZDtcbmVlLmRhdGEuc2V0dXBNb2NrU2VuZCA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LnNldHVwTW9ja1NlbmQ7XG5lZS5kYXRhLndpdGhQcm9maWxpbmcgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC53aXRoUHJvZmlsaW5nO1xuZWUuZGF0YS5nZXRBbGdvcml0aG1zID0gZnVuY3Rpb24ob3B0X2NhbGxiYWNrKSB7XG4gIHZhciBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spO1xuICByZXR1cm4gY2FsbC5oYW5kbGUoY2FsbC5hbGdvcml0aG1zKCkubGlzdChjYWxsLnByb2plY3RzUGF0aCgpLCB7cHJldHR5UHJpbnQ6ITF9KS50aGVuKGVlLnJwY19jb252ZXJ0LmFsZ29yaXRobXMpKTtcbn07XG5lZS5kYXRhLmdldE1hcElkID0gZnVuY3Rpb24ocGFyYW1zLCBvcHRfY2FsbGJhY2spIHtcbiAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBwYXJhbXMuaW1hZ2UpIHtcbiAgICB0aHJvdyBFcnJvcihcIkltYWdlIGFzIEpTT04gc3RyaW5nIG5vdCBzdXBwb3J0ZWQuXCIpO1xuICB9XG4gIGlmICh2b2lkIDAgIT09IHBhcmFtcy52ZXJzaW9uKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJJbWFnZSB2ZXJzaW9uIHNwZWNpZmljYXRpb24gbm90IHN1cHBvcnRlZC5cIik7XG4gIH1cbiAgdmFyIG1hcCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lTWFwKHtuYW1lOm51bGwsIGV4cHJlc3Npb246ZWUuZGF0YS5leHByZXNzaW9uQXVnbWVudGVyXyhlZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpRXhwcmVzc2lvbihwYXJhbXMuaW1hZ2UpKSwgZmlsZUZvcm1hdDplZS5ycGNfY29udmVydC5maWxlRm9ybWF0KHBhcmFtcy5mb3JtYXQpLCBiYW5kSWRzOmVlLnJwY19jb252ZXJ0LmJhbmRMaXN0KHBhcmFtcy5iYW5kcyksIHZpc3VhbGl6YXRpb25PcHRpb25zOmVlLnJwY19jb252ZXJ0LnZpc3VhbGl6YXRpb25PcHRpb25zKHBhcmFtcyksfSksIGNhbGwgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsKG9wdF9jYWxsYmFjayk7XG4gIHJldHVybiBjYWxsLmhhbmRsZShjYWxsLm1hcHMoKS5jcmVhdGUoY2FsbC5wcm9qZWN0c1BhdGgoKSwgbWFwLCB7ZmllbGRzOltcIm5hbWVcIl19KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgcmV0dXJuIGVlLmRhdGEubWFrZU1hcElkXyhyZXNwb25zZS5uYW1lLCBcIlwiKTtcbiAgfSkpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5nZXRNYXBJZFwiLCBlZS5kYXRhLmdldE1hcElkKTtcbmVlLmRhdGEuZ2V0VGlsZVVybCA9IGZ1bmN0aW9uKGlkLCB4LCB5LCB6KSB7XG4gIGlmICghaWQuZm9ybWF0VGlsZVVybCkge1xuICAgIHZhciBuZXdJZCA9IGVlLmRhdGEubWFrZU1hcElkXyhpZC5tYXBpZCwgaWQudG9rZW4sIGlkLnVybEZvcm1hdCk7XG4gICAgaWQudXJsRm9ybWF0ID0gbmV3SWQudXJsRm9ybWF0O1xuICAgIGlkLmZvcm1hdFRpbGVVcmwgPSBuZXdJZC5mb3JtYXRUaWxlVXJsO1xuICB9XG4gIHJldHVybiBpZC5mb3JtYXRUaWxlVXJsKHgsIHksIHopO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5nZXRUaWxlVXJsXCIsIGVlLmRhdGEuZ2V0VGlsZVVybCk7XG5lZS5kYXRhLm1ha2VNYXBJZF8gPSBmdW5jdGlvbihtYXBpZCwgdG9rZW4sIG9wdF91cmxGb3JtYXQpIHtcbiAgdmFyIHVybEZvcm1hdCA9IHZvaWQgMCA9PT0gb3B0X3VybEZvcm1hdCA/IFwiXCIgOiBvcHRfdXJsRm9ybWF0O1xuICBpZiAoIXVybEZvcm1hdCkge1xuICAgIG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmluaXRpYWxpemUoKTtcbiAgICB2YXIgYmFzZSA9IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfYXBpY2xpZW50LmdldFRpbGVCYXNlVXJsKCk7XG4gICAgdXJsRm9ybWF0ID0gdG9rZW4gPyBiYXNlICsgXCIvbWFwL1wiICsgbWFwaWQgKyBcIi97en0ve3h9L3t5fT90b2tlbj1cIiArIHRva2VuIDogYmFzZSArIFwiL1wiICsgbW9kdWxlJGV4cG9ydHMkZWUkYXBpVmVyc2lvbi5WMUFMUEhBICsgXCIvXCIgKyBtYXBpZCArIFwiL3RpbGVzL3t6fS97eH0ve3l9XCI7XG4gIH1cbiAgcmV0dXJuIHttYXBpZDptYXBpZCwgdG9rZW46dG9rZW4sIGZvcm1hdFRpbGVVcmw6ZnVuY3Rpb24oeCwgeSwgeikge1xuICAgIHZhciB3aWR0aCA9IE1hdGgucG93KDIsIHopO1xuICAgIHggJT0gd2lkdGg7XG4gICAgeCA9IFN0cmluZygwID4geCA/IHggKyB3aWR0aCA6IHgpO1xuICAgIHJldHVybiB1cmxGb3JtYXQucmVwbGFjZShcInt4fVwiLCB4KS5yZXBsYWNlKFwie3l9XCIsIHkpLnJlcGxhY2UoXCJ7en1cIiwgeik7XG4gIH0sIHVybEZvcm1hdDp1cmxGb3JtYXR9O1xufTtcbmVlLmRhdGEuZ2V0RmVhdHVyZVZpZXdUaWxlc0tleSA9IGZ1bmN0aW9uKHBhcmFtcywgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciB2aXN1YWxpemF0aW9uRXhwcmVzc2lvbiA9IHBhcmFtcy52aXNQYXJhbXMgPyBlZS5kYXRhLmV4cHJlc3Npb25BdWdtZW50ZXJfKGVlLlNlcmlhbGl6ZXIuZW5jb2RlQ2xvdWRBcGlFeHByZXNzaW9uKHBhcmFtcy52aXNQYXJhbXMpKSA6IG51bGwsIG1hcCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkRNU01hcCh7bmFtZTpudWxsLCBhc3NldDpwYXJhbXMuYXNzZXROYW1lLCBkbXNOYW1lOnBhcmFtcy5tYXBOYW1lLCB2aXN1YWxpemF0aW9uRXhwcmVzc2lvbjp2aXN1YWxpemF0aW9uRXhwcmVzc2lvbix9KSwgY2FsbCA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwob3B0X2NhbGxiYWNrKTtcbiAgcmV0dXJuIGNhbGwuaGFuZGxlKGNhbGwuZG1zTWFwcygpLmNyZWF0ZShjYWxsLnByb2plY3RzUGF0aCgpLCBtYXAsIHtmaWVsZHM6W1wibmFtZVwiXX0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICByZXR1cm4ge3Rva2VuOnJlc3BvbnNlLm5hbWV9O1xuICB9KSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmdldEZlYXR1cmVWaWV3VGlsZXNLZXlcIiwgZWUuZGF0YS5nZXRGZWF0dXJlVmlld1RpbGVzS2V5KTtcbmVlLmRhdGEuY29tcHV0ZVZhbHVlID0gZnVuY3Rpb24ob2JqLCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIGV4cHJlc3Npb24gPSBlZS5kYXRhLmV4cHJlc3Npb25BdWdtZW50ZXJfKGVlLlNlcmlhbGl6ZXIuZW5jb2RlQ2xvdWRBcGlFeHByZXNzaW9uKG9iaikpLCBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spO1xuICByZXR1cm4gY2FsbC5oYW5kbGUoY2FsbC52YWx1ZSgpLmNvbXB1dGUoY2FsbC5wcm9qZWN0c1BhdGgoKSwgbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29tcHV0ZVZhbHVlUmVxdWVzdCh7ZXhwcmVzc2lvbjpleHByZXNzaW9ufSkpLnRoZW4oZnVuY3Rpb24oeCkge1xuICAgIHJldHVybiB4LnJlc3VsdDtcbiAgfSkpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5jb21wdXRlVmFsdWVcIiwgZWUuZGF0YS5jb21wdXRlVmFsdWUpO1xuZWUuZGF0YS5nZXRUaHVtYklkID0gZnVuY3Rpb24ocGFyYW1zLCBvcHRfY2FsbGJhY2spIHtcbiAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBwYXJhbXMuaW1hZ2UpIHtcbiAgICB0aHJvdyBFcnJvcihcIkltYWdlIGFzIEpTT04gc3RyaW5nIG5vdCBzdXBwb3J0ZWQuXCIpO1xuICB9XG4gIGlmICh2b2lkIDAgIT09IHBhcmFtcy52ZXJzaW9uKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJJbWFnZSB2ZXJzaW9uIHNwZWNpZmljYXRpb24gbm90IHN1cHBvcnRlZC5cIik7XG4gIH1cbiAgaWYgKHZvaWQgMCAhPT0gcGFyYW1zLnJlZ2lvbikge1xuICAgIHRocm93IEVycm9yKCdcInJlZ2lvblwiIG5vdCBzdXBwb3J0ZWQgaW4gY2FsbCB0byBlZS5kYXRhLmdldFRodW1iSWQuIFVzZSBlZS5JbWFnZS5nZXRUaHVtYlVSTC4nKTtcbiAgfVxuICBpZiAodm9pZCAwICE9PSBwYXJhbXMuZGltZW5zaW9ucykge1xuICAgIHRocm93IEVycm9yKCdcImRpbWVuc2lvbnNcIiBpcyBub3Qgc3VwcG9ydGVkIGluIGNhbGwgdG8gZWUuZGF0YS5nZXRUaHVtYklkLiBVc2UgZWUuSW1hZ2UuZ2V0VGh1bWJVUkwuJyk7XG4gIH1cbiAgdmFyIHRodW1ibmFpbCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRodW1ibmFpbCh7bmFtZTpudWxsLCBleHByZXNzaW9uOmVlLmRhdGEuZXhwcmVzc2lvbkF1Z21lbnRlcl8oZWUuU2VyaWFsaXplci5lbmNvZGVDbG91ZEFwaUV4cHJlc3Npb24ocGFyYW1zLmltYWdlKSksIGZpbGVGb3JtYXQ6ZWUucnBjX2NvbnZlcnQuZmlsZUZvcm1hdChwYXJhbXMuZm9ybWF0KSwgZmlsZW5hbWVQcmVmaXg6cGFyYW1zLm5hbWUsIGJhbmRJZHM6ZWUucnBjX2NvbnZlcnQuYmFuZExpc3QocGFyYW1zLmJhbmRzKSwgdmlzdWFsaXphdGlvbk9wdGlvbnM6ZWUucnBjX2NvbnZlcnQudmlzdWFsaXphdGlvbk9wdGlvbnMocGFyYW1zKSwgZ3JpZDpudWxsLH0pLCBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spO1xuICByZXR1cm4gY2FsbC5oYW5kbGUoY2FsbC50aHVtYm5haWxzKCkuY3JlYXRlKGNhbGwucHJvamVjdHNQYXRoKCksIHRodW1ibmFpbCwge2ZpZWxkczpbXCJuYW1lXCJdfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgIHJldHVybiB7dGh1bWJpZDpyZXNwb25zZS5uYW1lLCB0b2tlbjpcIlwifTtcbiAgfSkpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5nZXRUaHVtYklkXCIsIGVlLmRhdGEuZ2V0VGh1bWJJZCk7XG5lZS5kYXRhLmdldFZpZGVvVGh1bWJJZCA9IGZ1bmN0aW9uKHBhcmFtcywgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciB2aWRlb09wdGlvbnMgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WaWRlb09wdGlvbnMoe2ZyYW1lc1BlclNlY29uZDpwYXJhbXMuZnJhbWVzUGVyU2Vjb25kIHx8IG51bGwsIG1heEZyYW1lczpwYXJhbXMubWF4RnJhbWVzIHx8IG51bGwsIG1heFBpeGVsc1BlckZyYW1lOnBhcmFtcy5tYXhQaXhlbHNQZXJGcmFtZSB8fCBudWxsLH0pLCByZXF1ZXN0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmlkZW9UaHVtYm5haWwoe25hbWU6bnVsbCwgZXhwcmVzc2lvbjplZS5kYXRhLmV4cHJlc3Npb25BdWdtZW50ZXJfKGVlLlNlcmlhbGl6ZXIuZW5jb2RlQ2xvdWRBcGlFeHByZXNzaW9uKHBhcmFtcy5pbWFnZUNvbGxlY3Rpb24pKSwgZmlsZUZvcm1hdDplZS5ycGNfY29udmVydC5maWxlRm9ybWF0KHBhcmFtcy5mb3JtYXQpLCBcbiAgdmlkZW9PcHRpb25zOnZpZGVvT3B0aW9ucywgZ3JpZDpudWxsLH0pLCBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spO1xuICByZXR1cm4gY2FsbC5oYW5kbGUoY2FsbC52aWRlb1RodW1ibmFpbHMoKS5jcmVhdGUoY2FsbC5wcm9qZWN0c1BhdGgoKSwgcmVxdWVzdCwge2ZpZWxkczpbXCJuYW1lXCJdfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgIHJldHVybiB7dGh1bWJpZDpyZXNwb25zZS5uYW1lLCB0b2tlbjpcIlwifTtcbiAgfSkpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5nZXRWaWRlb1RodW1iSWRcIiwgZWUuZGF0YS5nZXRWaWRlb1RodW1iSWQpO1xuZWUuZGF0YS5nZXRGaWxtc3RyaXBUaHVtYklkID0gZnVuY3Rpb24ocGFyYW1zLCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIHJlcXVlc3QgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5GaWxtc3RyaXBUaHVtYm5haWwoe25hbWU6bnVsbCwgZXhwcmVzc2lvbjplZS5kYXRhLmV4cHJlc3Npb25BdWdtZW50ZXJfKGVlLlNlcmlhbGl6ZXIuZW5jb2RlQ2xvdWRBcGlFeHByZXNzaW9uKHBhcmFtcy5pbWFnZUNvbGxlY3Rpb24pKSwgZmlsZUZvcm1hdDplZS5ycGNfY29udmVydC5maWxlRm9ybWF0KHBhcmFtcy5mb3JtYXQpLCBvcmllbnRhdGlvbjplZS5ycGNfY29udmVydC5vcmllbnRhdGlvbihwYXJhbXMub3JpZW50YXRpb24pLCBncmlkOm51bGwsfSksIGNhbGwgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsKG9wdF9jYWxsYmFjayk7XG4gIHJldHVybiBjYWxsLmhhbmRsZShjYWxsLmZpbG1zdHJpcFRodW1ibmFpbHMoKS5jcmVhdGUoY2FsbC5wcm9qZWN0c1BhdGgoKSwgcmVxdWVzdCwge2ZpZWxkczpbXCJuYW1lXCJdfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgIHJldHVybiB7dGh1bWJpZDpyZXNwb25zZS5uYW1lLCB0b2tlbjpcIlwifTtcbiAgfSkpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5nZXRGaWxtc3RyaXBUaHVtYklkXCIsIGVlLmRhdGEuZ2V0RmlsbXN0cmlwVGh1bWJJZCk7XG5lZS5kYXRhLm1ha2VUaHVtYlVybCA9IGZ1bmN0aW9uKGlkKSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5nZXRUaWxlQmFzZVVybCgpICsgXCIvXCIgKyBtb2R1bGUkZXhwb3J0cyRlZSRhcGlWZXJzaW9uLlYxQUxQSEEgKyBcIi9cIiArIGlkLnRodW1iaWQgKyBcIjpnZXRQaXhlbHNcIjtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEubWFrZVRodW1iVXJsXCIsIGVlLmRhdGEubWFrZVRodW1iVXJsKTtcbmVlLmRhdGEuZ2V0RG93bmxvYWRJZCA9IGZ1bmN0aW9uKHBhcmFtcywgb3B0X2NhbGxiYWNrKSB7XG4gIHBhcmFtcyA9IE9iamVjdC5hc3NpZ24oe30sIHBhcmFtcyk7XG4gIHBhcmFtcy5pZCAmJiAocGFyYW1zLmltYWdlID0gbmV3IGVlLkltYWdlKHBhcmFtcy5pZCkpO1xuICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHBhcmFtcy5pbWFnZSkge1xuICAgIHRocm93IEVycm9yKFwiSW1hZ2UgYXMgc2VyaWFsaXplZCBKU09OIHN0cmluZyBub3Qgc3VwcG9ydGVkLlwiKTtcbiAgfVxuICBpZiAoIXBhcmFtcy5pbWFnZSkge1xuICAgIHRocm93IEVycm9yKFwiTWlzc2luZyBJRCBvciBpbWFnZSBwYXJhbWV0ZXIuXCIpO1xuICB9XG4gIHBhcmFtcy5maWxlUGVyQmFuZCA9ICExICE9PSBwYXJhbXMuZmlsZVBlckJhbmQ7XG4gIHBhcmFtcy5mb3JtYXQgPSBwYXJhbXMuZm9ybWF0IHx8IChwYXJhbXMuZmlsZVBlckJhbmQgPyBcIlpJUFBFRF9HRU9fVElGRl9QRVJfQkFORFwiIDogXCJaSVBQRURfR0VPX1RJRkZcIik7XG4gIGlmIChudWxsICE9IHBhcmFtcy5yZWdpb24gJiYgKG51bGwgIT0gcGFyYW1zLnNjYWxlIHx8IG51bGwgIT0gcGFyYW1zLmNyc190cmFuc2Zvcm0pICYmIG51bGwgIT0gcGFyYW1zLmRpbWVuc2lvbnMpIHtcbiAgICB0aHJvdyBFcnJvcihcIkNhbm5vdCBzcGVjaWZ5IChib3VuZGluZyByZWdpb24sIGNyc190cmFuc2Zvcm0vc2NhbGUsIGRpbWVuc2lvbnMpIHNpbXVsdGFuZW91c2x5LlwiKTtcbiAgfVxuICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHBhcmFtcy5iYW5kcykge1xuICAgIHRyeSB7XG4gICAgICBwYXJhbXMuYmFuZHMgPSBKU09OLnBhcnNlKHBhcmFtcy5iYW5kcyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcGFyYW1zLmJhbmRzID0gZWUucnBjX2NvbnZlcnQuYmFuZExpc3QocGFyYW1zLmJhbmRzKTtcbiAgICB9XG4gIH1cbiAgaWYgKHBhcmFtcy5iYW5kcyAmJiAhQXJyYXkuaXNBcnJheShwYXJhbXMuYmFuZHMpKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJCYW5kcyBwYXJhbWV0ZXIgbXVzdCBiZSBhbiBhcnJheS5cIik7XG4gIH1cbiAgcGFyYW1zLmJhbmRzICYmIHBhcmFtcy5iYW5kcy5ldmVyeShmdW5jdGlvbihiYW5kKSB7XG4gICAgcmV0dXJuIFwic3RyaW5nXCIgPT09IHR5cGVvZiBiYW5kO1xuICB9KSAmJiAocGFyYW1zLmJhbmRzID0gcGFyYW1zLmJhbmRzLm1hcChmdW5jdGlvbihiYW5kKSB7XG4gICAgcmV0dXJuIHtpZDpiYW5kfTtcbiAgfSkpO1xuICBpZiAocGFyYW1zLmJhbmRzICYmIHBhcmFtcy5iYW5kcy5zb21lKGZ1bmN0aW9uKCRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIzNCkge1xuICAgIHJldHVybiBudWxsID09ICRqc2NvbXAkZGVzdHJ1Y3R1cmluZyR2YXIzNC5pZDtcbiAgfSkpIHtcbiAgICB0aHJvdyBFcnJvcihcIkVhY2ggYmFuZCBkaWN0aW9uYXJ5IG11c3QgaGF2ZSBhbiBpZC5cIik7XG4gIH1cbiAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHBhcmFtcy5yZWdpb24gJiYgKHBhcmFtcy5yZWdpb24gPSBKU09OLnBhcnNlKHBhcmFtcy5yZWdpb24pKTtcbiAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBwYXJhbXMuY3JzX3RyYW5zZm9ybSkge1xuICAgIHRyeSB7XG4gICAgICBwYXJhbXMuY3JzX3RyYW5zZm9ybSA9IEpTT04ucGFyc2UocGFyYW1zLmNyc190cmFuc2Zvcm0pO1xuICAgIH0gY2F0Y2ggKGUkNjQpIHtcbiAgICB9XG4gIH1cbiAgdmFyIGltYWdlID0gZWUuZGF0YS5pbWFnZXMuYnVpbGREb3dubG9hZElkSW1hZ2UocGFyYW1zLmltYWdlLCBwYXJhbXMpLCB0aHVtYm5haWwgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5UaHVtYm5haWwoe25hbWU6bnVsbCwgZXhwcmVzc2lvbjplZS5kYXRhLmV4cHJlc3Npb25BdWdtZW50ZXJfKGVlLlNlcmlhbGl6ZXIuZW5jb2RlQ2xvdWRBcGlFeHByZXNzaW9uKGltYWdlKSksIGZpbGVGb3JtYXQ6ZWUucnBjX2NvbnZlcnQuZmlsZUZvcm1hdChwYXJhbXMuZm9ybWF0KSwgZmlsZW5hbWVQcmVmaXg6cGFyYW1zLm5hbWUsIGJhbmRJZHM6cGFyYW1zLmJhbmRzICYmIGVlLnJwY19jb252ZXJ0LmJhbmRMaXN0KHBhcmFtcy5iYW5kcy5tYXAoZnVuY3Rpb24oYmFuZCkge1xuICAgIHJldHVybiBiYW5kLmlkO1xuICB9KSksIGdyaWQ6bnVsbCx9KSwgY2FsbCA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwob3B0X2NhbGxiYWNrKTtcbiAgcmV0dXJuIGNhbGwuaGFuZGxlKGNhbGwudGh1bWJuYWlscygpLmNyZWF0ZShjYWxsLnByb2plY3RzUGF0aCgpLCB0aHVtYm5haWwsIHtmaWVsZHM6W1wibmFtZVwiXX0pLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICByZXR1cm4ge2RvY2lkOnJlc3BvbnNlLm5hbWUsIHRva2VuOlwiXCJ9O1xuICB9KSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmdldERvd25sb2FkSWRcIiwgZWUuZGF0YS5nZXREb3dubG9hZElkKTtcbmVlLmRhdGEubWFrZURvd25sb2FkVXJsID0gZnVuY3Rpb24oaWQpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuaW5pdGlhbGl6ZSgpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZ2V0VGlsZUJhc2VVcmwoKSArIFwiL1wiICsgbW9kdWxlJGV4cG9ydHMkZWUkYXBpVmVyc2lvbi5WMUFMUEhBICsgXCIvXCIgKyBpZC5kb2NpZCArIFwiOmdldFBpeGVsc1wiO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5tYWtlRG93bmxvYWRVcmxcIiwgZWUuZGF0YS5tYWtlRG93bmxvYWRVcmwpO1xuZWUuZGF0YS5nZXRUYWJsZURvd25sb2FkSWQgPSBmdW5jdGlvbihwYXJhbXMsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgY2FsbCA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwob3B0X2NhbGxiYWNrKSwgZmlsZUZvcm1hdCA9IGVlLnJwY19jb252ZXJ0LnRhYmxlRmlsZUZvcm1hdChwYXJhbXMuZm9ybWF0KSwgZXhwcmVzc2lvbiA9IGVlLmRhdGEuZXhwcmVzc2lvbkF1Z21lbnRlcl8oZWUuU2VyaWFsaXplci5lbmNvZGVDbG91ZEFwaUV4cHJlc3Npb24ocGFyYW1zLnRhYmxlKSksIHNlbGVjdG9ycyA9IG51bGw7XG4gIGlmIChudWxsICE9IHBhcmFtcy5zZWxlY3RvcnMpIHtcbiAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHBhcmFtcy5zZWxlY3RvcnMpIHtcbiAgICAgIHNlbGVjdG9ycyA9IHBhcmFtcy5zZWxlY3RvcnMuc3BsaXQoXCIsXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJhbXMuc2VsZWN0b3JzKSAmJiBwYXJhbXMuc2VsZWN0b3JzLmV2ZXJ5KGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgcmV0dXJuIFwic3RyaW5nXCIgPT09IHR5cGVvZiB4O1xuICAgICAgfSkpIHtcbiAgICAgICAgc2VsZWN0b3JzID0gcGFyYW1zLnNlbGVjdG9ycztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiJ3NlbGVjdG9ycycgcGFyYW1ldGVyIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncy5cIik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHZhciB0YWJsZSA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LlRhYmxlKHtuYW1lOm51bGwsIGV4cHJlc3Npb246ZXhwcmVzc2lvbiwgZmlsZUZvcm1hdDpmaWxlRm9ybWF0LCBzZWxlY3RvcnM6c2VsZWN0b3JzLCBmaWxlbmFtZTpwYXJhbXMuZmlsZW5hbWUgfHwgbnVsbCx9KTtcbiAgcmV0dXJuIGNhbGwuaGFuZGxlKGNhbGwudGFibGVzKCkuY3JlYXRlKGNhbGwucHJvamVjdHNQYXRoKCksIHRhYmxlLCB7ZmllbGRzOltcIm5hbWVcIl19KS50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgIHJldHVybiB7ZG9jaWQ6cmVzLm5hbWUgfHwgXCJcIiwgdG9rZW46XCJcIn07XG4gIH0pKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuZ2V0VGFibGVEb3dubG9hZElkXCIsIGVlLmRhdGEuZ2V0VGFibGVEb3dubG9hZElkKTtcbmVlLmRhdGEubWFrZVRhYmxlRG93bmxvYWRVcmwgPSBmdW5jdGlvbihpZCkge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuZ2V0VGlsZUJhc2VVcmwoKSArIFwiL1wiICsgbW9kdWxlJGV4cG9ydHMkZWUkYXBpVmVyc2lvbi5WMUFMUEhBICsgXCIvXCIgKyBpZC5kb2NpZCArIFwiOmdldEZlYXR1cmVzXCI7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLm1ha2VUYWJsZURvd25sb2FkVXJsXCIsIGVlLmRhdGEubWFrZVRhYmxlRG93bmxvYWRVcmwpO1xuZWUuZGF0YS5uZXdUYXNrSWQgPSBmdW5jdGlvbihvcHRfY291bnQsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgcmFuZCA9IGZ1bmN0aW9uKG4pIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbik7XG4gIH0sIGhleCA9IGZ1bmN0aW9uKGQpIHtcbiAgICByZXR1cm4gcmFuZChNYXRoLnBvdygyLCA0ICogZCkpLnRvU3RyaW5nKDE2KS5wYWRTdGFydChkLCBcIjBcIik7XG4gIH0sIHZhcmlhbnRQYXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICg4ICsgcmFuZCg0KSkudG9TdHJpbmcoMTYpICsgaGV4KDMpO1xuICB9LCB1dWlkcyA9IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JhbmdlKG9wdF9jb3VudCB8fCAxKS5tYXAoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFtoZXgoOCksIGhleCg0KSwgXCI0XCIgKyBoZXgoMyksIHZhcmlhbnRQYXJ0KCksIGhleCgxMildLmpvaW4oXCItXCIpO1xuICB9KTtcbiAgcmV0dXJuIG9wdF9jYWxsYmFjayA/IG9wdF9jYWxsYmFjayh1dWlkcykgOiB1dWlkcztcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEubmV3VGFza0lkXCIsIGVlLmRhdGEubmV3VGFza0lkKTtcbmVlLmRhdGEuZ2V0VGFza1N0YXR1cyA9IGZ1bmN0aW9uKHRhc2tJZCwgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciBvcE5hbWVzID0gZWUuZGF0YS5tYWtlU3RyaW5nQXJyYXlfKHRhc2tJZCkubWFwKGVlLnJwY19jb252ZXJ0LnRhc2tJZFRvT3BlcmF0aW9uTmFtZSk7XG4gIGlmICgxID09PSBvcE5hbWVzLmxlbmd0aCkge1xuICAgIHZhciBjYWxsJDY2ID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spO1xuICAgIHJldHVybiBjYWxsJDY2LmhhbmRsZShjYWxsJDY2Lm9wZXJhdGlvbnMoKS5nZXQob3BOYW1lc1swXSkudGhlbihmdW5jdGlvbihvcCkge1xuICAgICAgcmV0dXJuIFtlZS5ycGNfY29udmVydC5vcGVyYXRpb25Ub1Rhc2sob3ApXTtcbiAgICB9KSk7XG4gIH1cbiAgdmFyIGNhbGwgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9CYXRjaENhbGwob3B0X2NhbGxiYWNrKSwgb3BlcmF0aW9ucyA9IGNhbGwub3BlcmF0aW9ucygpO1xuICByZXR1cm4gY2FsbC5zZW5kKG9wTmFtZXMubWFwKGZ1bmN0aW9uKG9wKSB7XG4gICAgcmV0dXJuIFtvcCwgb3BlcmF0aW9ucy5nZXQob3ApXTtcbiAgfSksIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICByZXR1cm4gb3BOYW1lcy5tYXAoZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJldHVybiBlZS5ycGNfY29udmVydC5vcGVyYXRpb25Ub1Rhc2soZGF0YVtpZF0pO1xuICAgIH0pO1xuICB9KTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuZ2V0VGFza1N0YXR1c1wiLCBlZS5kYXRhLmdldFRhc2tTdGF0dXMpO1xuZWUuZGF0YS5tYWtlU3RyaW5nQXJyYXlfID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiB2YWx1ZSkge1xuICAgIHJldHVybiBbdmFsdWVdO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICB0aHJvdyBFcnJvcihcIkludmFsaWQgdmFsdWU6IGV4cGVjdGVkIGEgc3RyaW5nIG9yIGFuIGFycmF5IG9mIHN0cmluZ3MuXCIpO1xufTtcbmVlLmRhdGEuVEFTS0xJU1RfUEFHRV9TSVpFXyA9IDUwMDtcbmVlLmRhdGEuZ2V0VGFza0xpc3QgPSBmdW5jdGlvbihvcHRfY2FsbGJhY2spIHtcbiAgcmV0dXJuIGVlLmRhdGEuZ2V0VGFza0xpc3RXaXRoTGltaXQodm9pZCAwLCBvcHRfY2FsbGJhY2spO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5nZXRUYXNrTGlzdFwiLCBlZS5kYXRhLmdldFRhc2tMaXN0KTtcbmVlLmRhdGEuZ2V0VGFza0xpc3RXaXRoTGltaXQgPSBmdW5jdGlvbihvcHRfbGltaXQsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgY29udmVydCA9IGZ1bmN0aW9uKG9wcykge1xuICAgIHJldHVybiB7dGFza3M6b3BzLm1hcChlZS5ycGNfY29udmVydC5vcGVyYXRpb25Ub1Rhc2spfTtcbiAgfTtcbiAgcmV0dXJuIG9wdF9jYWxsYmFjayA/IChlZS5kYXRhLmxpc3RPcGVyYXRpb25zKG9wdF9saW1pdCwgZnVuY3Rpb24odiwgZSkge1xuICAgIHJldHVybiBvcHRfY2FsbGJhY2sodiA/IGNvbnZlcnQodikgOiBudWxsLCBlKTtcbiAgfSksIG51bGwpIDogY29udmVydChlZS5kYXRhLmxpc3RPcGVyYXRpb25zKG9wdF9saW1pdCkpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5nZXRUYXNrTGlzdFdpdGhMaW1pdFwiLCBlZS5kYXRhLmdldFRhc2tMaXN0V2l0aExpbWl0KTtcbmVlLmRhdGEubGlzdE9wZXJhdGlvbnMgPSBmdW5jdGlvbihvcHRfbGltaXQsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgb3BzID0gW10sIHRydW5jYXRlZE9wcyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBvcHRfbGltaXQgPyBvcHMuc2xpY2UoMCwgb3B0X2xpbWl0KSA6IG9wcztcbiAgfSwgcGFyYW1zID0ge3BhZ2VTaXplOmVlLmRhdGEuVEFTS0xJU1RfUEFHRV9TSVpFX30sIGdldFJlc3BvbnNlID0gZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9leHRlbmQob3BzLCByZXNwb25zZS5vcGVyYXRpb25zIHx8IFtdKTtcbiAgICAhcmVzcG9uc2UubmV4dFBhZ2VUb2tlbiB8fCBvcHRfbGltaXQgJiYgb3BzLmxlbmd0aCA+PSBvcHRfbGltaXQgPyBvcHRfY2FsbGJhY2sgJiYgb3B0X2NhbGxiYWNrKHRydW5jYXRlZE9wcygpKSA6IChwYXJhbXMucGFnZVRva2VuID0gcmVzcG9uc2UubmV4dFBhZ2VUb2tlbiwgY2FsbC5oYW5kbGUob3BlcmF0aW9ucy5saXN0KGNhbGwucHJvamVjdHNQYXRoKCksIHBhcmFtcykudGhlbihnZXRSZXNwb25zZSkpKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfSwgY2FsbCA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwob3B0X2NhbGxiYWNrID8gZnVuY3Rpb24odmFsdWUsIGVycikge1xuICAgIHJldHVybiBlcnIgJiYgb3B0X2NhbGxiYWNrKHZhbHVlLCBlcnIpO1xuICB9IDogdm9pZCAwKSwgb3BlcmF0aW9ucyA9IGNhbGwub3BlcmF0aW9ucygpO1xuICBjYWxsLmhhbmRsZShvcGVyYXRpb25zLmxpc3QoY2FsbC5wcm9qZWN0c1BhdGgoKSwgcGFyYW1zKS50aGVuKGdldFJlc3BvbnNlKSk7XG4gIHJldHVybiBvcHRfY2FsbGJhY2sgPyBudWxsIDogdHJ1bmNhdGVkT3BzKCk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmxpc3RPcGVyYXRpb25zXCIsIGVlLmRhdGEubGlzdE9wZXJhdGlvbnMpO1xuZWUuZGF0YS5jYW5jZWxPcGVyYXRpb24gPSBmdW5jdGlvbihvcGVyYXRpb25OYW1lLCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIG9wTmFtZXMgPSBlZS5kYXRhLm1ha2VTdHJpbmdBcnJheV8ob3BlcmF0aW9uTmFtZSksIHJlcXVlc3QgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5DYW5jZWxPcGVyYXRpb25SZXF1ZXN0KCk7XG4gIGlmICgxID09PSBvcE5hbWVzLmxlbmd0aCkge1xuICAgIHZhciBjYWxsJDY3ID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spO1xuICAgIGNhbGwkNjcuaGFuZGxlKGNhbGwkNjcub3BlcmF0aW9ucygpLmNhbmNlbChvcE5hbWVzWzBdLCByZXF1ZXN0KSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNhbGwgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9CYXRjaENhbGwob3B0X2NhbGxiYWNrKSwgb3BlcmF0aW9ucyA9IGNhbGwub3BlcmF0aW9ucygpO1xuICAgIGNhbGwuc2VuZChvcE5hbWVzLm1hcChmdW5jdGlvbihvcCkge1xuICAgICAgcmV0dXJuIFtvcCwgb3BlcmF0aW9ucy5jYW5jZWwob3AsIHJlcXVlc3QpXTtcbiAgICB9KSk7XG4gIH1cbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuY2FuY2VsT3BlcmF0aW9uXCIsIGVlLmRhdGEuY2FuY2VsT3BlcmF0aW9uKTtcbmVlLmRhdGEuZ2V0T3BlcmF0aW9uID0gZnVuY3Rpb24ob3BlcmF0aW9uTmFtZSwgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciBvcE5hbWVzID0gZWUuZGF0YS5tYWtlU3RyaW5nQXJyYXlfKG9wZXJhdGlvbk5hbWUpLm1hcChlZS5ycGNfY29udmVydC50YXNrSWRUb09wZXJhdGlvbk5hbWUpO1xuICBpZiAoIUFycmF5LmlzQXJyYXkob3BlcmF0aW9uTmFtZSkpIHtcbiAgICB2YXIgY2FsbCQ2OCA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwob3B0X2NhbGxiYWNrKTtcbiAgICByZXR1cm4gY2FsbCQ2OC5oYW5kbGUoY2FsbCQ2OC5vcGVyYXRpb25zKCkuZ2V0KG9wTmFtZXNbMF0pKTtcbiAgfVxuICB2YXIgY2FsbCA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0JhdGNoQ2FsbChvcHRfY2FsbGJhY2spLCBvcGVyYXRpb25zID0gY2FsbC5vcGVyYXRpb25zKCk7XG4gIHJldHVybiBjYWxsLnNlbmQob3BOYW1lcy5tYXAoZnVuY3Rpb24ob3ApIHtcbiAgICByZXR1cm4gW29wLCBvcGVyYXRpb25zLmdldChvcCldO1xuICB9KSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmdldE9wZXJhdGlvblwiLCBlZS5kYXRhLmdldE9wZXJhdGlvbik7XG5lZS5kYXRhLmNhbmNlbFRhc2sgPSBmdW5jdGlvbih0YXNrSWQsIG9wdF9jYWxsYmFjaykge1xuICByZXR1cm4gZWUuZGF0YS51cGRhdGVUYXNrKHRhc2tJZCwgZWUuZGF0YS5UYXNrVXBkYXRlQWN0aW9ucy5DQU5DRUwsIG9wdF9jYWxsYmFjayk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmNhbmNlbFRhc2tcIiwgZWUuZGF0YS5jYW5jZWxUYXNrKTtcbmVlLmRhdGEudXBkYXRlVGFzayA9IGZ1bmN0aW9uKHRhc2tJZCwgYWN0aW9uLCBvcHRfY2FsbGJhY2spIHtcbiAgaWYgKCFtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY29udGFpbnNWYWx1ZShlZS5kYXRhLlRhc2tVcGRhdGVBY3Rpb25zLCBhY3Rpb24pKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGFjdGlvbjogXCIgKyBhY3Rpb24pO1xuICB9XG4gIHRhc2tJZCA9IGVlLmRhdGEubWFrZVN0cmluZ0FycmF5Xyh0YXNrSWQpO1xuICB2YXIgb3BlcmF0aW9ucyA9IHRhc2tJZC5tYXAoZWUucnBjX2NvbnZlcnQudGFza0lkVG9PcGVyYXRpb25OYW1lKTtcbiAgZWUuZGF0YS5jYW5jZWxPcGVyYXRpb24ob3BlcmF0aW9ucywgb3B0X2NhbGxiYWNrKTtcbiAgcmV0dXJuIG51bGw7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLnVwZGF0ZVRhc2tcIiwgZWUuZGF0YS51cGRhdGVUYXNrKTtcbmVlLmRhdGEuc3RhcnRQcm9jZXNzaW5nID0gZnVuY3Rpb24odGFza0lkLCBwYXJhbXMsIG9wdF9jYWxsYmFjaykge1xuICBwYXJhbXMuaWQgPSB0YXNrSWQ7XG4gIHZhciB0YXNrVHlwZSA9IHBhcmFtcy50eXBlLCBtZXRhZGF0YSA9IG51bGwgIT0gcGFyYW1zLnNvdXJjZVVybCA/IHtfX3NvdXJjZV91cmxfXzpwYXJhbXMuc291cmNlVXJsfSA6IHt9LCBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spLCBoYW5kbGUgPSBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgIHJldHVybiBjYWxsLmhhbmRsZShyZXNwb25zZS50aGVuKGVlLnJwY19jb252ZXJ0Lm9wZXJhdGlvblRvUHJvY2Vzc2luZ1Jlc3BvbnNlKSk7XG4gIH07XG4gIHN3aXRjaCh0YXNrVHlwZSkge1xuICAgIGNhc2UgZWUuZGF0YS5FeHBvcnRUeXBlLklNQUdFOlxuICAgICAgdmFyIGltYWdlUmVxdWVzdCA9IGVlLmRhdGEucHJlcGFyZUV4cG9ydEltYWdlUmVxdWVzdF8ocGFyYW1zLCBtZXRhZGF0YSk7XG4gICAgICByZXR1cm4gaGFuZGxlKGNhbGwuaW1hZ2UoKS5leHBvcnQoY2FsbC5wcm9qZWN0c1BhdGgoKSwgaW1hZ2VSZXF1ZXN0KSk7XG4gICAgY2FzZSBlZS5kYXRhLkV4cG9ydFR5cGUuVEFCTEU6XG4gICAgICB2YXIgdGFibGVSZXF1ZXN0ID0gZWUucnBjX2NvbnZlcnRfYmF0Y2gudGFza1RvRXhwb3J0VGFibGVSZXF1ZXN0KHBhcmFtcyk7XG4gICAgICB0YWJsZVJlcXVlc3QuZXhwcmVzc2lvbiA9IGVlLmRhdGEuZXhwcmVzc2lvbkF1Z21lbnRlcl8odGFibGVSZXF1ZXN0LmV4cHJlc3Npb24sIG1ldGFkYXRhKTtcbiAgICAgIHJldHVybiBoYW5kbGUoY2FsbC50YWJsZSgpLmV4cG9ydChjYWxsLnByb2plY3RzUGF0aCgpLCB0YWJsZVJlcXVlc3QpKTtcbiAgICBjYXNlIGVlLmRhdGEuRXhwb3J0VHlwZS5WSURFTzpcbiAgICAgIHZhciB2aWRlb1JlcXVlc3QgPSBlZS5kYXRhLnByZXBhcmVFeHBvcnRWaWRlb1JlcXVlc3RfKHBhcmFtcywgbWV0YWRhdGEpO1xuICAgICAgcmV0dXJuIGhhbmRsZShjYWxsLnZpZGVvKCkuZXhwb3J0KGNhbGwucHJvamVjdHNQYXRoKCksIHZpZGVvUmVxdWVzdCkpO1xuICAgIGNhc2UgZWUuZGF0YS5FeHBvcnRUeXBlLk1BUDpcbiAgICAgIHZhciBtYXBSZXF1ZXN0ID0gZWUuZGF0YS5wcmVwYXJlRXhwb3J0TWFwUmVxdWVzdF8ocGFyYW1zLCBtZXRhZGF0YSk7XG4gICAgICByZXR1cm4gaGFuZGxlKGNhbGwubWFwKCkuZXhwb3J0KGNhbGwucHJvamVjdHNQYXRoKCksIG1hcFJlcXVlc3QpKTtcbiAgICBjYXNlIGVlLmRhdGEuRXhwb3J0VHlwZS5WSURFT19NQVA6XG4gICAgICB2YXIgdmlkZW9NYXBSZXF1ZXN0ID0gZWUuZGF0YS5wcmVwYXJlRXhwb3J0VmlkZW9NYXBSZXF1ZXN0XyhwYXJhbXMsIG1ldGFkYXRhKTtcbiAgICAgIHJldHVybiBoYW5kbGUoY2FsbC52aWRlb01hcCgpLmV4cG9ydChjYWxsLnByb2plY3RzUGF0aCgpLCB2aWRlb01hcFJlcXVlc3QpKTtcbiAgICBjYXNlIGVlLmRhdGEuRXhwb3J0VHlwZS5DTEFTU0lGSUVSOlxuICAgICAgdmFyIGNsYXNzaWZpZXJSZXF1ZXN0ID0gZWUuZGF0YS5wcmVwYXJlRXhwb3J0Q2xhc3NpZmllclJlcXVlc3RfKHBhcmFtcywgbWV0YWRhdGEpO1xuICAgICAgcmV0dXJuIGhhbmRsZShjYWxsLmNsYXNzaWZpZXIoKS5leHBvcnQoY2FsbC5wcm9qZWN0c1BhdGgoKSwgY2xhc3NpZmllclJlcXVlc3QpKTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgRXJyb3IoXCJVbmFibGUgdG8gc3RhcnQgcHJvY2Vzc2luZyBmb3IgdGFzayBvZiB0eXBlIFwiICsgdGFza1R5cGUpO1xuICB9XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLnN0YXJ0UHJvY2Vzc2luZ1wiLCBlZS5kYXRhLnN0YXJ0UHJvY2Vzc2luZyk7XG5lZS5kYXRhLnByZXBhcmVFeHBvcnRJbWFnZVJlcXVlc3RfID0gZnVuY3Rpb24odGFza0NvbmZpZywgbWV0YWRhdGEpIHtcbiAgdmFyIGltYWdlVGFzayA9IGVlLmRhdGEuaW1hZ2VzLmFwcGx5VHJhbnNmb3Jtc1RvSW1hZ2UodGFza0NvbmZpZyksIGltYWdlUmVxdWVzdCA9IGVlLnJwY19jb252ZXJ0X2JhdGNoLnRhc2tUb0V4cG9ydEltYWdlUmVxdWVzdChpbWFnZVRhc2spO1xuICBpbWFnZVJlcXVlc3QuZXhwcmVzc2lvbiA9IGVlLmRhdGEuZXhwcmVzc2lvbkF1Z21lbnRlcl8oaW1hZ2VSZXF1ZXN0LmV4cHJlc3Npb24sIG1ldGFkYXRhKTtcbiAgcmV0dXJuIGltYWdlUmVxdWVzdDtcbn07XG5lZS5kYXRhLnByZXBhcmVFeHBvcnRWaWRlb1JlcXVlc3RfID0gZnVuY3Rpb24odGFza0NvbmZpZywgbWV0YWRhdGEpIHtcbiAgdmFyIHZpZGVvVGFzayA9IGVlLmRhdGEuaW1hZ2VzLmFwcGx5VHJhbnNmb3Jtc1RvQ29sbGVjdGlvbih0YXNrQ29uZmlnKSwgdmlkZW9SZXF1ZXN0ID0gZWUucnBjX2NvbnZlcnRfYmF0Y2gudGFza1RvRXhwb3J0VmlkZW9SZXF1ZXN0KHZpZGVvVGFzayk7XG4gIHZpZGVvUmVxdWVzdC5leHByZXNzaW9uID0gZWUuZGF0YS5leHByZXNzaW9uQXVnbWVudGVyXyh2aWRlb1JlcXVlc3QuZXhwcmVzc2lvbiwgbWV0YWRhdGEpO1xuICByZXR1cm4gdmlkZW9SZXF1ZXN0O1xufTtcbmVlLmRhdGEucHJlcGFyZUV4cG9ydE1hcFJlcXVlc3RfID0gZnVuY3Rpb24odGFza0NvbmZpZywgbWV0YWRhdGEpIHtcbiAgdmFyIHNjYWxlID0gdGFza0NvbmZpZy5zY2FsZTtcbiAgZGVsZXRlIHRhc2tDb25maWcuc2NhbGU7XG4gIHZhciBtYXBUYXNrID0gZWUuZGF0YS5pbWFnZXMuYXBwbHlUcmFuc2Zvcm1zVG9JbWFnZSh0YXNrQ29uZmlnKTtcbiAgbWFwVGFzay5zY2FsZSA9IHNjYWxlO1xuICB2YXIgbWFwUmVxdWVzdCA9IGVlLnJwY19jb252ZXJ0X2JhdGNoLnRhc2tUb0V4cG9ydE1hcFJlcXVlc3QobWFwVGFzayk7XG4gIG1hcFJlcXVlc3QuZXhwcmVzc2lvbiA9IGVlLmRhdGEuZXhwcmVzc2lvbkF1Z21lbnRlcl8obWFwUmVxdWVzdC5leHByZXNzaW9uLCBtZXRhZGF0YSk7XG4gIHJldHVybiBtYXBSZXF1ZXN0O1xufTtcbmVlLmRhdGEucHJlcGFyZUV4cG9ydFZpZGVvTWFwUmVxdWVzdF8gPSBmdW5jdGlvbih0YXNrQ29uZmlnLCBtZXRhZGF0YSkge1xuICB2YXIgc2NhbGUgPSB0YXNrQ29uZmlnLnNjYWxlO1xuICBkZWxldGUgdGFza0NvbmZpZy5zY2FsZTtcbiAgdmFyIHZpZGVvTWFwVGFzayA9IGVlLmRhdGEuaW1hZ2VzLmFwcGx5VHJhbnNmb3Jtc1RvQ29sbGVjdGlvbih0YXNrQ29uZmlnKTtcbiAgdmlkZW9NYXBUYXNrLnNjYWxlID0gc2NhbGU7XG4gIHZhciB2aWRlb01hcFJlcXVlc3QgPSBlZS5ycGNfY29udmVydF9iYXRjaC50YXNrVG9FeHBvcnRWaWRlb01hcFJlcXVlc3QodmlkZW9NYXBUYXNrKTtcbiAgdmlkZW9NYXBSZXF1ZXN0LmV4cHJlc3Npb24gPSBlZS5kYXRhLmV4cHJlc3Npb25BdWdtZW50ZXJfKHZpZGVvTWFwUmVxdWVzdC5leHByZXNzaW9uKTtcbiAgcmV0dXJuIHZpZGVvTWFwUmVxdWVzdDtcbn07XG5lZS5kYXRhLnByZXBhcmVFeHBvcnRDbGFzc2lmaWVyUmVxdWVzdF8gPSBmdW5jdGlvbih0YXNrQ29uZmlnLCBtZXRhZGF0YSkge1xuICB2YXIgY2xhc3NpZmllclJlcXVlc3QgPSBlZS5ycGNfY29udmVydF9iYXRjaC50YXNrVG9FeHBvcnRDbGFzc2lmaWVyUmVxdWVzdCh0YXNrQ29uZmlnKTtcbiAgY2xhc3NpZmllclJlcXVlc3QuZXhwcmVzc2lvbiA9IGVlLmRhdGEuZXhwcmVzc2lvbkF1Z21lbnRlcl8oY2xhc3NpZmllclJlcXVlc3QuZXhwcmVzc2lvbik7XG4gIHJldHVybiBjbGFzc2lmaWVyUmVxdWVzdDtcbn07XG5lZS5kYXRhLnN0YXJ0SW5nZXN0aW9uID0gZnVuY3Rpb24odGFza0lkLCByZXF1ZXN0LCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIG1hbmlmZXN0ID0gZWUucnBjX2NvbnZlcnQudG9JbWFnZU1hbmlmZXN0KHJlcXVlc3QpLCBjb252ZXJ0ID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZyA/IGVlLnJwY19jb252ZXJ0Lm9wZXJhdGlvblRvUHJvY2Vzc2luZ1Jlc3BvbnNlKGFyZykgOiBudWxsO1xuICB9O1xuICByZXR1cm4gY29udmVydChlZS5kYXRhLmluZ2VzdEltYWdlKHRhc2tJZCwgbWFuaWZlc3QsIG9wdF9jYWxsYmFjayAmJiBmdW5jdGlvbihhcmcsIGVycikge1xuICAgIHJldHVybiBvcHRfY2FsbGJhY2soY29udmVydChhcmcpLCBlcnIpO1xuICB9KSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLnN0YXJ0SW5nZXN0aW9uXCIsIGVlLmRhdGEuc3RhcnRJbmdlc3Rpb24pO1xuZWUuZGF0YS5pbmdlc3RJbWFnZSA9IGZ1bmN0aW9uKHRhc2tJZCwgaW1hZ2VNYW5pZmVzdCwgY2FsbGJhY2spIHtcbiAgdmFyIHJlcXVlc3QgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5JbXBvcnRJbWFnZVJlcXVlc3Qoe2ltYWdlTWFuaWZlc3Q6aW1hZ2VNYW5pZmVzdCwgcmVxdWVzdElkOnRhc2tJZCwgb3ZlcndyaXRlOm51bGwsIGRlc2NyaXB0aW9uOm51bGwsfSksIGNhbGwgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsKGNhbGxiYWNrLCB0YXNrSWQgPyB2b2lkIDAgOiAwKTtcbiAgcmV0dXJuIGNhbGwuaGFuZGxlKGNhbGwuaW1hZ2UoKS5pbXBvcnQoY2FsbC5wcm9qZWN0c1BhdGgoKSwgcmVxdWVzdCkpO1xufTtcbmVlLmRhdGEuaW5nZXN0VGFibGUgPSBmdW5jdGlvbih0YXNrSWQsIHRhYmxlTWFuaWZlc3QsIGNhbGxiYWNrKSB7XG4gIHZhciByZXF1ZXN0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuSW1wb3J0VGFibGVSZXF1ZXN0KHt0YWJsZU1hbmlmZXN0OnRhYmxlTWFuaWZlc3QsIHJlcXVlc3RJZDp0YXNrSWQsIG92ZXJ3cml0ZTpudWxsLCBkZXNjcmlwdGlvbjpudWxsLH0pLCBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChjYWxsYmFjaywgdGFza0lkID8gdm9pZCAwIDogMCk7XG4gIHJldHVybiBjYWxsLmhhbmRsZShjYWxsLnRhYmxlKCkuaW1wb3J0KGNhbGwucHJvamVjdHNQYXRoKCksIHJlcXVlc3QpKTtcbn07XG5lZS5kYXRhLnN0YXJ0VGFibGVJbmdlc3Rpb24gPSBmdW5jdGlvbih0YXNrSWQsIHJlcXVlc3QsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgbWFuaWZlc3QgPSBlZS5ycGNfY29udmVydC50b1RhYmxlTWFuaWZlc3QocmVxdWVzdCksIGNvbnZlcnQgPSBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gYXJnID8gZWUucnBjX2NvbnZlcnQub3BlcmF0aW9uVG9Qcm9jZXNzaW5nUmVzcG9uc2UoYXJnKSA6IG51bGw7XG4gIH07XG4gIHJldHVybiBjb252ZXJ0KGVlLmRhdGEuaW5nZXN0VGFibGUodGFza0lkLCBtYW5pZmVzdCwgb3B0X2NhbGxiYWNrICYmIGZ1bmN0aW9uKGFyZywgZXJyKSB7XG4gICAgcmV0dXJuIG9wdF9jYWxsYmFjayhjb252ZXJ0KGFyZyksIGVycik7XG4gIH0pKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuc3RhcnRUYWJsZUluZ2VzdGlvblwiLCBlZS5kYXRhLnN0YXJ0VGFibGVJbmdlc3Rpb24pO1xuZWUuZGF0YS5nZXRBc3NldCA9IGZ1bmN0aW9uKGlkLCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIGNhbGwgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsKG9wdF9jYWxsYmFjayksIG5hbWUgPSBlZS5ycGNfY29udmVydC5hc3NldElkVG9Bc3NldE5hbWUoaWQpO1xuICByZXR1cm4gY2FsbC5oYW5kbGUoY2FsbC5hc3NldHMoKS5nZXQobmFtZSwge3ByZXR0eVByaW50OiExfSkudGhlbihlZS5ycGNfY29udmVydC5hc3NldFRvTGVnYWN5UmVzdWx0KSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmdldEFzc2V0XCIsIGVlLmRhdGEuZ2V0QXNzZXQpO1xuZWUuZGF0YS5nZXRJbmZvID0gZWUuZGF0YS5nZXRBc3NldDtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5nZXRJbmZvXCIsIGVlLmRhdGEuZ2V0SW5mbyk7XG5lZS5kYXRhLmdldExpc3QgPSBmdW5jdGlvbihwYXJhbXMsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgY2FsbCA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwob3B0X2NhbGxiYWNrKSwgbWV0aG9kUm9vdCA9IGNhbGwuYXNzZXRzKCksIHBhcmVudCA9IGVlLnJwY19jb252ZXJ0LmFzc2V0SWRUb0Fzc2V0TmFtZShwYXJhbXMuaWQpLCBpc1Byb2plY3RBc3NldFJvb3QgPSBlZS5ycGNfY29udmVydC5DTE9VRF9BU1NFVF9ST09UX1JFLnRlc3QocGFyYW1zLmlkKTtcbiAgaXNQcm9qZWN0QXNzZXRSb290ICYmIChtZXRob2RSb290ID0gY2FsbC5wcm9qZWN0cygpLCBwYXJlbnQgPSBlZS5ycGNfY29udmVydC5wcm9qZWN0UGFyZW50RnJvbVBhdGgocGFyYW1zLmlkKSk7XG4gIGlmIChPYmplY3Qua2V5cyhwYXJhbXMpLmV2ZXJ5KGZ1bmN0aW9uKGspIHtcbiAgICByZXR1cm4gXCJpZFwiID09PSBrIHx8IFwibnVtXCIgPT09IGs7XG4gIH0pKSB7XG4gICAgcmV0dXJuIGNhbGwuaGFuZGxlKG1ldGhvZFJvb3QubGlzdEFzc2V0cyhwYXJlbnQsIHtwYWdlU2l6ZTpwYXJhbXMubnVtfSkudGhlbihlZS5ycGNfY29udmVydC5saXN0QXNzZXRzVG9HZXRMaXN0KSk7XG4gIH1cbiAgaWYgKGlzUHJvamVjdEFzc2V0Um9vdCkge1xuICAgIHRocm93IEVycm9yKFwiZ2V0TGlzdCBvbiBhIHByb2plY3QgZG9lcyBub3Qgc3VwcG9ydCBmaWx0ZXJpbmcgb3B0aW9ucy4gUGxlYXNlIHByb3ZpZGUgYSBmdWxsIGFzc2V0IHBhdGguIEdvdDogXCIgKyBwYXJhbXMuaWQpO1xuICB9XG4gIHZhciBib2R5ID0gZWUucnBjX2NvbnZlcnQuZ2V0TGlzdFRvTGlzdEltYWdlcyhwYXJhbXMpO1xuICByZXR1cm4gY2FsbC5oYW5kbGUobWV0aG9kUm9vdC5saXN0SW1hZ2VzKHBhcmVudCwgYm9keSkudGhlbihlZS5ycGNfY29udmVydC5saXN0SW1hZ2VzVG9HZXRMaXN0KSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmdldExpc3RcIiwgZWUuZGF0YS5nZXRMaXN0KTtcbmVlLmRhdGEubGlzdEFzc2V0cyA9IGZ1bmN0aW9uKHBhcmVudCwgcGFyYW1zLCBvcHRfY2FsbGJhY2spIHtcbiAgcGFyYW1zID0gdm9pZCAwID09PSBwYXJhbXMgPyB7fSA6IHBhcmFtcztcbiAgdmFyIGlzUHJvamVjdEFzc2V0Um9vdCA9IGVlLnJwY19jb252ZXJ0LkNMT1VEX0FTU0VUX1JPT1RfUkUudGVzdChwYXJlbnQpLCBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spLCBtZXRob2RSb290ID0gaXNQcm9qZWN0QXNzZXRSb290ID8gY2FsbC5wcm9qZWN0cygpIDogY2FsbC5hc3NldHMoKTtcbiAgcGFyZW50ID0gaXNQcm9qZWN0QXNzZXRSb290ID8gZWUucnBjX2NvbnZlcnQucHJvamVjdFBhcmVudEZyb21QYXRoKHBhcmVudCkgOiBlZS5ycGNfY29udmVydC5hc3NldElkVG9Bc3NldE5hbWUocGFyZW50KTtcbiAgcmV0dXJuIGNhbGwuaGFuZGxlKG1ldGhvZFJvb3QubGlzdEFzc2V0cyhwYXJlbnQsIHBhcmFtcykpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5saXN0QXNzZXRzXCIsIGVlLmRhdGEubGlzdEFzc2V0cyk7XG5lZS5kYXRhLmxpc3RJbWFnZXMgPSBmdW5jdGlvbihwYXJlbnQsIHBhcmFtcywgb3B0X2NhbGxiYWNrKSB7XG4gIHBhcmFtcyA9IHZvaWQgMCA9PT0gcGFyYW1zID8ge30gOiBwYXJhbXM7XG4gIHZhciBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spO1xuICByZXR1cm4gY2FsbC5oYW5kbGUoY2FsbC5hc3NldHMoKS5saXN0SW1hZ2VzKHBhcmVudCwgcGFyYW1zKSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmxpc3RJbWFnZXNcIiwgZWUuZGF0YS5saXN0SW1hZ2VzKTtcbmVlLmRhdGEubGlzdEJ1Y2tldHMgPSBmdW5jdGlvbihwcm9qZWN0LCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIGNhbGwgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsKG9wdF9jYWxsYmFjayk7XG4gIHJldHVybiBjYWxsLmhhbmRsZShjYWxsLnByb2plY3RzKCkubGlzdEFzc2V0cyhwcm9qZWN0IHx8IGNhbGwucHJvamVjdHNQYXRoKCkpKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEubGlzdEJ1Y2tldHNcIiwgZWUuZGF0YS5saXN0QnVja2V0cyk7XG5lZS5kYXRhLmdldEFzc2V0Um9vdHMgPSBmdW5jdGlvbihvcHRfY2FsbGJhY2spIHtcbiAgdmFyIGNhbGwgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsKG9wdF9jYWxsYmFjayk7XG4gIHJldHVybiBjYWxsLmhhbmRsZShjYWxsLnByb2plY3RzKCkubGlzdEFzc2V0cyhjYWxsLnByb2plY3RzUGF0aCgpKS50aGVuKGVlLnJwY19jb252ZXJ0Lmxpc3RBc3NldHNUb0dldExpc3QpKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuZ2V0QXNzZXRSb290c1wiLCBlZS5kYXRhLmdldEFzc2V0Um9vdHMpO1xuZWUuZGF0YS5jcmVhdGVBc3NldEhvbWUgPSBmdW5jdGlvbihyZXF1ZXN0ZWRJZCwgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciBwYXJlbnQgPSBlZS5ycGNfY29udmVydC5wcm9qZWN0UGFyZW50RnJvbVBhdGgocmVxdWVzdGVkSWQpLCBhc3NldElkID0gcGFyZW50ID09PSBcInByb2plY3RzL1wiICsgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuREVGQVVMVF9QUk9KRUNUXyA/IHJlcXVlc3RlZElkIDogdm9pZCAwLCBhc3NldCA9IG5ldyBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXQoe3R5cGU6XCJGb2xkZXJcIn0pLCBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spO1xuICBjYWxsLmhhbmRsZShjYWxsLmFzc2V0cygpLmNyZWF0ZShwYXJlbnQsIGFzc2V0LCB7YXNzZXRJZDphc3NldElkfSkudGhlbihlZS5ycGNfY29udmVydC5hc3NldFRvTGVnYWN5UmVzdWx0KSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmNyZWF0ZUFzc2V0SG9tZVwiLCBlZS5kYXRhLmNyZWF0ZUFzc2V0SG9tZSk7XG5lZS5kYXRhLmNyZWF0ZUFzc2V0ID0gZnVuY3Rpb24odmFsdWUsIG9wdF9wYXRoLCBvcHRfZm9yY2UsIG9wdF9wcm9wZXJ0aWVzLCBvcHRfY2FsbGJhY2spIHtcbiAgaWYgKG9wdF9mb3JjZSkge1xuICAgIHRocm93IEVycm9yKFwiQXNzZXQgb3ZlcndyaXRlIG5vdCBzdXBwb3J0ZWQuXCIpO1xuICB9XG4gIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdmFsdWUpIHtcbiAgICB0aHJvdyBFcnJvcihcIkFzc2V0IGNhbm5vdCBiZSBzcGVjaWZpZWQgYXMgc3RyaW5nLlwiKTtcbiAgfVxuICB2YXIgbmFtZSA9IHZhbHVlLm5hbWUgfHwgb3B0X3BhdGggJiYgZWUucnBjX2NvbnZlcnQuYXNzZXRJZFRvQXNzZXROYW1lKG9wdF9wYXRoKTtcbiAgaWYgKCFuYW1lKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJFaXRoZXIgYXNzZXQgbmFtZSBvciBvcHRfcGF0aCBtdXN0IGJlIHNwZWNpZmllZC5cIik7XG4gIH1cbiAgdmFyIHNwbGl0ID0gbmFtZS5pbmRleE9mKFwiL2Fzc2V0cy9cIik7XG4gIGlmICgtMSA9PT0gc3BsaXQpIHtcbiAgICB0aHJvdyBFcnJvcihcIkFzc2V0IG5hbWUgbXVzdCBjb250YWluIC9hc3NldHMvLlwiKTtcbiAgfVxuICB2YXIgYXNzZXQgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FYXJ0aEVuZ2luZUFzc2V0KHZhbHVlKSwgcGFyZW50ID0gbmFtZS5zbGljZSgwLCBzcGxpdCksIGFzc2V0SWQgPSBuYW1lLnNsaWNlKHNwbGl0ICsgOCk7XG4gIGFzc2V0LmlkID0gbnVsbDtcbiAgYXNzZXQubmFtZSA9IG51bGw7XG4gIG9wdF9wcm9wZXJ0aWVzICYmICFhc3NldC5wcm9wZXJ0aWVzICYmIChhc3NldC5wcm9wZXJ0aWVzID0gb3B0X3Byb3BlcnRpZXMpO1xuICBhc3NldC50eXBlID0gZWUucnBjX2NvbnZlcnQuYXNzZXRUeXBlRm9yQ3JlYXRlKGFzc2V0LnR5cGUpO1xuICB2YXIgY2FsbCA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwob3B0X2NhbGxiYWNrKTtcbiAgcmV0dXJuIGNhbGwuaGFuZGxlKGNhbGwuYXNzZXRzKCkuY3JlYXRlKHBhcmVudCwgYXNzZXQsIHthc3NldElkOmFzc2V0SWR9KS50aGVuKGVlLnJwY19jb252ZXJ0LmFzc2V0VG9MZWdhY3lSZXN1bHQpKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuY3JlYXRlQXNzZXRcIiwgZWUuZGF0YS5jcmVhdGVBc3NldCk7XG5lZS5kYXRhLmNyZWF0ZUZvbGRlciA9IGZ1bmN0aW9uKHBhdGgsIG9wdF9mb3JjZSwgb3B0X2NhbGxiYWNrKSB7XG4gIHJldHVybiBlZS5kYXRhLmNyZWF0ZUFzc2V0KHt0eXBlOlwiRm9sZGVyXCJ9LCBwYXRoLCBvcHRfZm9yY2UsIHZvaWQgMCwgb3B0X2NhbGxiYWNrKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuY3JlYXRlRm9sZGVyXCIsIGVlLmRhdGEuY3JlYXRlRm9sZGVyKTtcbmVlLmRhdGEucmVuYW1lQXNzZXQgPSBmdW5jdGlvbihzb3VyY2VJZCwgZGVzdGluYXRpb25JZCwgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciBzb3VyY2VOYW1lID0gZWUucnBjX2NvbnZlcnQuYXNzZXRJZFRvQXNzZXROYW1lKHNvdXJjZUlkKSwgZGVzdGluYXRpb25OYW1lID0gZWUucnBjX2NvbnZlcnQuYXNzZXRJZFRvQXNzZXROYW1lKGRlc3RpbmF0aW9uSWQpLCByZXF1ZXN0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuTW92ZUFzc2V0UmVxdWVzdCh7ZGVzdGluYXRpb25OYW1lOmRlc3RpbmF0aW9uTmFtZX0pLCBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spO1xuICBjYWxsLmhhbmRsZShjYWxsLmFzc2V0cygpLm1vdmUoc291cmNlTmFtZSwgcmVxdWVzdCkudGhlbihlZS5ycGNfY29udmVydC5hc3NldFRvTGVnYWN5UmVzdWx0KSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLnJlbmFtZUFzc2V0XCIsIGVlLmRhdGEucmVuYW1lQXNzZXQpO1xuZWUuZGF0YS5jb3B5QXNzZXQgPSBmdW5jdGlvbihzb3VyY2VJZCwgZGVzdGluYXRpb25JZCwgb3B0X292ZXJ3cml0ZSwgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciBzb3VyY2VOYW1lID0gZWUucnBjX2NvbnZlcnQuYXNzZXRJZFRvQXNzZXROYW1lKHNvdXJjZUlkKSwgZGVzdGluYXRpb25OYW1lID0gZWUucnBjX2NvbnZlcnQuYXNzZXRJZFRvQXNzZXROYW1lKGRlc3RpbmF0aW9uSWQpLCByZXF1ZXN0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuQ29weUFzc2V0UmVxdWVzdCh7ZGVzdGluYXRpb25OYW1lOmRlc3RpbmF0aW9uTmFtZSwgb3ZlcndyaXRlOm51bGwgIT0gb3B0X292ZXJ3cml0ZSA/IG9wdF9vdmVyd3JpdGUgOiBudWxsfSksIGNhbGwgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsKG9wdF9jYWxsYmFjayk7XG4gIGNhbGwuaGFuZGxlKGNhbGwuYXNzZXRzKCkuY29weShzb3VyY2VOYW1lLCByZXF1ZXN0KS50aGVuKGVlLnJwY19jb252ZXJ0LmFzc2V0VG9MZWdhY3lSZXN1bHQpKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuY29weUFzc2V0XCIsIGVlLmRhdGEuY29weUFzc2V0KTtcbmVlLmRhdGEuZGVsZXRlQXNzZXQgPSBmdW5jdGlvbihhc3NldElkLCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIGNhbGwgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsKG9wdF9jYWxsYmFjayk7XG4gIGNhbGwuaGFuZGxlKGNhbGwuYXNzZXRzKCkuZGVsZXRlKGVlLnJwY19jb252ZXJ0LmFzc2V0SWRUb0Fzc2V0TmFtZShhc3NldElkKSkpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5kZWxldGVBc3NldFwiLCBlZS5kYXRhLmRlbGV0ZUFzc2V0KTtcbmVlLmRhdGEuZ2V0QXNzZXRBY2wgPSBmdW5jdGlvbihhc3NldElkLCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIHJlc291cmNlID0gZWUucnBjX2NvbnZlcnQuYXNzZXRJZFRvQXNzZXROYW1lKGFzc2V0SWQpLCByZXF1ZXN0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuR2V0SWFtUG9saWN5UmVxdWVzdCgpLCBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spO1xuICByZXR1cm4gY2FsbC5oYW5kbGUoY2FsbC5hc3NldHMoKS5nZXRJYW1Qb2xpY3kocmVzb3VyY2UsIHJlcXVlc3QsIHtwcmV0dHlQcmludDohMX0pLnRoZW4oZWUucnBjX2NvbnZlcnQuaWFtUG9saWN5VG9BY2wpKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuZ2V0QXNzZXRBY2xcIiwgZWUuZGF0YS5nZXRBc3NldEFjbCk7XG5lZS5kYXRhLmdldElhbVBvbGljeSA9IGZ1bmN0aW9uKGFzc2V0SWQsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgcmVzb3VyY2UgPSBlZS5ycGNfY29udmVydC5hc3NldElkVG9Bc3NldE5hbWUoYXNzZXRJZCksIHJlcXVlc3QgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5HZXRJYW1Qb2xpY3lSZXF1ZXN0KCksIGNhbGwgPSBuZXcgbW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9DYWxsKG9wdF9jYWxsYmFjayk7XG4gIHJldHVybiBjYWxsLmhhbmRsZShjYWxsLmFzc2V0cygpLmdldElhbVBvbGljeShyZXNvdXJjZSwgcmVxdWVzdCwge3ByZXR0eVByaW50OiExfSkpO1xufTtcbmVlLmRhdGEuc2V0SWFtUG9saWN5ID0gZnVuY3Rpb24oYXNzZXRJZCwgcG9saWN5LCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIHJlc291cmNlID0gZWUucnBjX2NvbnZlcnQuYXNzZXRJZFRvQXNzZXROYW1lKGFzc2V0SWQpLCByZXF1ZXN0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU2V0SWFtUG9saWN5UmVxdWVzdCh7cG9saWN5OnBvbGljeX0pLCBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spO1xuICByZXR1cm4gY2FsbC5oYW5kbGUoY2FsbC5hc3NldHMoKS5zZXRJYW1Qb2xpY3kocmVzb3VyY2UsIHJlcXVlc3QsIHtwcmV0dHlQcmludDohMX0pKTtcbn07XG5lZS5kYXRhLnVwZGF0ZUFzc2V0ID0gZnVuY3Rpb24oYXNzZXRJZCwgYXNzZXQsIHVwZGF0ZUZpZWxkcywgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciB1cGRhdGVNYXNrID0gKHVwZGF0ZUZpZWxkcyB8fCBbXSkuam9pbihcIixcIiksIHJlcXVlc3QgPSBuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5VcGRhdGVBc3NldFJlcXVlc3Qoe2Fzc2V0OmFzc2V0LCB1cGRhdGVNYXNrOnVwZGF0ZU1hc2t9KSwgY2FsbCA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X0NhbGwob3B0X2NhbGxiYWNrKTtcbiAgcmV0dXJuIGNhbGwuaGFuZGxlKGNhbGwuYXNzZXRzKCkucGF0Y2goZWUucnBjX2NvbnZlcnQuYXNzZXRJZFRvQXNzZXROYW1lKGFzc2V0SWQpLCByZXF1ZXN0KS50aGVuKGVlLnJwY19jb252ZXJ0LmFzc2V0VG9MZWdhY3lSZXN1bHQpKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEudXBkYXRlQXNzZXRcIiwgZWUuZGF0YS51cGRhdGVBc3NldCk7XG5lZS5kYXRhLnNldEFzc2V0QWNsID0gZnVuY3Rpb24oYXNzZXRJZCwgYWNsVXBkYXRlLCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIHJlc291cmNlID0gZWUucnBjX2NvbnZlcnQuYXNzZXRJZFRvQXNzZXROYW1lKGFzc2V0SWQpLCBwb2xpY3kgPSBlZS5ycGNfY29udmVydC5hY2xUb0lhbVBvbGljeShhY2xVcGRhdGUpLCByZXF1ZXN0ID0gbmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuU2V0SWFtUG9saWN5UmVxdWVzdCh7cG9saWN5OnBvbGljeX0pLCBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spO1xuICBjYWxsLmhhbmRsZShjYWxsLmFzc2V0cygpLnNldElhbVBvbGljeShyZXNvdXJjZSwgcmVxdWVzdCwge3ByZXR0eVByaW50OiExfSkpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuZGF0YS5zZXRBc3NldEFjbFwiLCBlZS5kYXRhLnNldEFzc2V0QWNsKTtcbmVlLmRhdGEuc2V0QXNzZXRQcm9wZXJ0aWVzID0gZnVuY3Rpb24oYXNzZXRJZCwgcHJvcGVydGllcywgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciBhc3NldCA9IGVlLnJwY19jb252ZXJ0LmxlZ2FjeVByb3BlcnRpZXNUb0Fzc2V0VXBkYXRlKHByb3BlcnRpZXMpLCB1cGRhdGVGaWVsZHMgPSBhc3NldC5nZXRDbGFzc01ldGFkYXRhKCkua2V5cy5maWx0ZXIoZnVuY3Rpb24oaykge1xuICAgIHJldHVybiBcInByb3BlcnRpZXNcIiAhPT0gayAmJiBhc3NldC5TZXJpYWxpemFibGUkaGFzKGspO1xuICB9KS5tYXAoZnVuY3Rpb24oc3RyKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oW0EtWl0pL2csIGZ1bmN0aW9uKGFsbCwgY2FwKSB7XG4gICAgICByZXR1cm4gXCJfXCIgKyBjYXAudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcbiAgfSkuY29uY2F0KE9iamVjdC5rZXlzKGFzc2V0LnByb3BlcnRpZXMgfHwge30pLm1hcChmdW5jdGlvbihrKSB7XG4gICAgcmV0dXJuICdwcm9wZXJ0aWVzLlwiJyArIGsgKyAnXCInO1xuICB9KSk7XG4gIGVlLmRhdGEudXBkYXRlQXNzZXQoYXNzZXRJZCwgYXNzZXQsIHVwZGF0ZUZpZWxkcywgb3B0X2NhbGxiYWNrKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmRhdGEuc2V0QXNzZXRQcm9wZXJ0aWVzXCIsIGVlLmRhdGEuc2V0QXNzZXRQcm9wZXJ0aWVzKTtcbmVlLmRhdGEuZ2V0QXNzZXRSb290UXVvdGEgPSBmdW5jdGlvbihyb290SWQsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgbmFtZSA9IGVlLnJwY19jb252ZXJ0LmFzc2V0SWRUb0Fzc2V0TmFtZShyb290SWQpLCBjYWxsID0gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRhcGljbGllbnRfQ2FsbChvcHRfY2FsbGJhY2spLCBhc3NldHNDYWxsID0gY2FsbC5hc3NldHMoKSwgdmFsaWRhdGVQYXJhbXMgPSBhc3NldHNDYWxsLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyO1xuICBhc3NldHNDYWxsLiRhcGlDbGllbnQuJHZhbGlkYXRlUGFyYW1ldGVyID0gZnVuY3Rpb24ocGFyYW0sIHBhdHRlcm4pIHtcbiAgICBcIl5wcm9qZWN0c1xcXFwvW14vXStcXFxcL2Fzc2V0c1xcXFwvLiskXCIgPT09IHBhdHRlcm4uc291cmNlICYmIChwYXR0ZXJuID0gUmVnRXhwKFwiXnByb2plY3RzL1teL10rL2Fzc2V0cy8uKiRcIikpO1xuICAgIHJldHVybiB2YWxpZGF0ZVBhcmFtcyhwYXJhbSwgcGF0dGVybik7XG4gIH07XG4gIHZhciBnZXRBc3NldFJlcXVlc3QgPSBhc3NldHNDYWxsLmdldChuYW1lLCB7cHJldHR5UHJpbnQ6ITF9KTtcbiAgcmV0dXJuIGNhbGwuaGFuZGxlKGdldEFzc2V0UmVxdWVzdC50aGVuKGZ1bmN0aW9uKGFzc2V0KSB7XG4gICAgaWYgKCEoYXNzZXQgaW5zdGFuY2VvZiBtb2R1bGUkZXhwb3J0cyRlZWFwaWNsaWVudCRlZV9hcGlfY2xpZW50LkVhcnRoRW5naW5lQXNzZXQgJiYgYXNzZXQucXVvdGEpKSB7XG4gICAgICB0aHJvdyBFcnJvcihyb290SWQgKyBcIiBpcyBub3QgYSByb290IGZvbGRlci5cIik7XG4gICAgfVxuICAgIHJldHVybiBlZS5ycGNfY29udmVydC5mb2xkZXJRdW90YVRvQXNzZXRRdW90YURldGFpbHMoYXNzZXQucXVvdGEpO1xuICB9KSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5kYXRhLmdldEFzc2V0Um9vdFF1b3RhXCIsIGVlLmRhdGEuZ2V0QXNzZXRSb290UXVvdGEpO1xuZWUuZGF0YS5Bc3NldFR5cGUgPSB7QUxHT1JJVEhNOlwiQWxnb3JpdGhtXCIsIENMQVNTSUZJRVI6XCJDbGFzc2lmaWVyXCIsIEZFQVRVUkVfVklFVzpcIkZlYXR1cmVWaWV3XCIsIEZPTERFUjpcIkZvbGRlclwiLCBGRUFUVVJFX0NPTExFQ1RJT046XCJGZWF0dXJlQ29sbGVjdGlvblwiLCBJTUFHRTpcIkltYWdlXCIsIElNQUdFX0NPTExFQ1RJT046XCJJbWFnZUNvbGxlY3Rpb25cIiwgVEFCTEU6XCJUYWJsZVwiLCBVTktOT1dOOlwiVW5rbm93blwifTtcbmVlLmRhdGEuRXhwb3J0VHlwZSA9IHtJTUFHRTpcIkVYUE9SVF9JTUFHRVwiLCBNQVA6XCJFWFBPUlRfVElMRVNcIiwgVEFCTEU6XCJFWFBPUlRfRkVBVFVSRVNcIiwgVklERU86XCJFWFBPUlRfVklERU9cIiwgVklERU9fTUFQOlwiRVhQT1JUX1ZJREVPX01BUFwiLCBDTEFTU0lGSUVSOlwiRVhQT1JUX0NMQVNTSUZJRVJcIn07XG5lZS5kYXRhLkV4cG9ydFN0YXRlID0ge1VOU1VCTUlUVEVEOlwiVU5TVUJNSVRURURcIiwgUkVBRFk6XCJSRUFEWVwiLCBSVU5OSU5HOlwiUlVOTklOR1wiLCBDT01QTEVURUQ6XCJDT01QTEVURURcIiwgRkFJTEVEOlwiRkFJTEVEXCIsIENBTkNFTF9SRVFVRVNURUQ6XCJDQU5DRUxfUkVRVUVTVEVEXCIsIENBTkNFTExFRDpcIkNBTkNFTExFRFwiLH07XG5lZS5kYXRhLkV4cG9ydERlc3RpbmF0aW9uID0ge0RSSVZFOlwiRFJJVkVcIiwgR0NTOlwiR09PR0xFX0NMT1VEX1NUT1JBR0VcIiwgQVNTRVQ6XCJBU1NFVFwiLCBGRUFUVVJFX1ZJRVc6XCJGRUFUVVJFX1ZJRVdcIix9O1xuZWUuZGF0YS5UaGlubmluZ1N0cmF0ZWd5ID0ge0dMT0JBTExZX0NPTlNJU1RFTlQ6XCJHTE9CQUxMWV9DT05TSVNURU5UXCIsIEhJR0hFUl9ERU5TSVRZOlwiSElHSEVSX0RFTlNJVFlcIix9O1xuZWUuZGF0YS5EaXJlY3Rpb24gPSB7QVNDRU5ESU5HOlwiQVNDRU5ESU5HXCIsIERFU0NFTkRJTkc6XCJERVNDRU5ESU5HXCIsfTtcbmVlLmRhdGEuU3lzdGVtUHJvcGVydHlQcmVmaXggPSBcInN5c3RlbTpcIjtcbmVlLmRhdGEuU3lzdGVtVGltZVByb3BlcnR5ID0ge1NUQVJUOlwic3lzdGVtOnRpbWVfc3RhcnRcIiwgRU5EOlwic3lzdGVtOnRpbWVfZW5kXCJ9O1xuZWUuZGF0YS5TWVNURU1fQVNTRVRfU0laRV9QUk9QRVJUWSA9IFwic3lzdGVtOmFzc2V0X3NpemVcIjtcbmVlLmRhdGEuQXNzZXREZXRhaWxzUHJvcGVydHkgPSB7VElUTEU6XCJzeXN0ZW06dGl0bGVcIiwgREVTQ1JJUFRJT046XCJzeXN0ZW06ZGVzY3JpcHRpb25cIiwgVEFHUzpcInN5c3RlbTp0YWdzXCJ9O1xuZWUuZGF0YS5BTExPV0VEX0RFU0NSSVBUSU9OX0hUTUxfVEFCTEVfRUxFTUVOVFNfID0gXCJjb2wgY29sZ3JvdXAgY2FwdGlvbiB0YWJsZSB0Ym9keSB0ZCB0Zm9vdCB0aCB0aGVhZCB0clwiLnNwbGl0KFwiIFwiKTtcbmVlLmRhdGEuQUxMT1dFRF9ERVNDUklQVElPTl9IVE1MX0VMRU1FTlRTID0gZWUuZGF0YS5BTExPV0VEX0RFU0NSSVBUSU9OX0hUTUxfVEFCTEVfRUxFTUVOVFNfLmNvbmNhdChcImEgY29kZSBlbSBpIGxpIG9sIHAgc3Ryb25nIHN1YiBzdXAgdWxcIi5zcGxpdChcIiBcIikpO1xuZWUuZGF0YS5TaG9ydEFzc2V0RGVzY3JpcHRpb24gPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLkFzc2V0QWNsID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5Bc3NldEFjbFVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuQXNzZXRRdW90YUVudHJ5ID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5Bc3NldFF1b3RhRGV0YWlscyA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuRmVhdHVyZVZpZXdEZXNjcmlwdGlvbiA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuRm9sZGVyRGVzY3JpcHRpb24gPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLkZlYXR1cmVDb2xsZWN0aW9uRGVzY3JpcHRpb24gPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLkZlYXR1cmVWaXN1YWxpemF0aW9uUGFyYW1ldGVycyA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuR2VvSlNPTkZlYXR1cmUgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLkdlb0pTT05HZW9tZXRyeSA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuR2VvSlNPTkdlb21ldHJ5Q3JzID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5HZW9KU09OR2VvbWV0cnlDcnNQcm9wZXJ0aWVzID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5JbWFnZUNvbGxlY3Rpb25EZXNjcmlwdGlvbiA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuSW1hZ2VEZXNjcmlwdGlvbiA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuVGFibGVEZXNjcmlwdGlvbiA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuVGFibGVEb3dubG9hZFBhcmFtZXRlcnMgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLkltYWdlVmlzdWFsaXphdGlvblBhcmFtZXRlcnMgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLkZlYXR1cmVWaWV3VmlzdWFsaXphdGlvblBhcmFtZXRlcnMgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLlRodW1ibmFpbE9wdGlvbnMgPSBmdW5jdGlvbigpIHtcbn07XG4kanNjb21wLmluaGVyaXRzKGVlLmRhdGEuVGh1bWJuYWlsT3B0aW9ucywgZWUuZGF0YS5JbWFnZVZpc3VhbGl6YXRpb25QYXJhbWV0ZXJzKTtcbmVlLmRhdGEuVmlkZW9UaHVtYm5haWxPcHRpb25zID0gZnVuY3Rpb24oKSB7XG59O1xuJGpzY29tcC5pbmhlcml0cyhlZS5kYXRhLlZpZGVvVGh1bWJuYWlsT3B0aW9ucywgZWUuZGF0YS5UaHVtYm5haWxPcHRpb25zKTtcbmVlLmRhdGEuRmlsbXN0cmlwVGh1bWJuYWlsT3B0aW9ucyA9IGZ1bmN0aW9uKCkge1xufTtcbiRqc2NvbXAuaW5oZXJpdHMoZWUuZGF0YS5GaWxtc3RyaXBUaHVtYm5haWxPcHRpb25zLCBlZS5kYXRhLlRodW1ibmFpbE9wdGlvbnMpO1xuZWUuZGF0YS5CYW5kRGVzY3JpcHRpb24gPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLlBpeGVsVHlwZURlc2NyaXB0aW9uID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5BbGdvcml0aG1TaWduYXR1cmUgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLkFsZ29yaXRobUFyZ3VtZW50ID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5UaHVtYm5haWxJZCA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuRG93bmxvYWRJZCA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuUmF3TWFwSWQgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLk1hcElkID0gZnVuY3Rpb24oKSB7XG59O1xuJGpzY29tcC5pbmhlcml0cyhlZS5kYXRhLk1hcElkLCBlZS5kYXRhLlJhd01hcElkKTtcbmVlLmRhdGEuRmVhdHVyZVZpZXdUaWxlc0tleSA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuTWFwWm9vbVJhbmdlID0ge01JTjowLCBNQVg6MjR9O1xuZWUuZGF0YS5UYXNrU3RhdHVzID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5Qcm9jZXNzaW5nUmVzcG9uc2UgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLlRhc2tMaXN0UmVzcG9uc2UgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLlRhc2tVcGRhdGVBY3Rpb25zID0ge0NBTkNFTDpcIkNBTkNFTFwiLCBVUERBVEU6XCJVUERBVEVcIn07XG5lZS5kYXRhLkFzc2V0RGVzY3JpcHRpb24gPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLkluZ2VzdGlvblJlcXVlc3QgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5kYXRhLk1pc3NpbmdEYXRhID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5QeXJhbWlkaW5nUG9saWN5ID0ge01FQU46XCJNRUFOXCIsIE1PREU6XCJNT0RFXCIsIE1JTjpcIk1JTlwiLCBNQVg6XCJNQVhcIiwgU0FNUExFOlwiU0FNUExFXCJ9O1xuZWUuZGF0YS5CYW5kID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5UaWxlc2V0ID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5GaWxlQmFuZCA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuRmlsZVNvdXJjZSA9IGZ1bmN0aW9uKCkge1xufTtcbmVlLmRhdGEuVGFibGVJbmdlc3Rpb25SZXF1ZXN0ID0gZnVuY3Rpb24oKSB7XG59O1xuZWUuZGF0YS5UYWJsZVNvdXJjZSA9IGZ1bmN0aW9uKCkge1xufTtcbiRqc2NvbXAuaW5oZXJpdHMoZWUuZGF0YS5UYWJsZVNvdXJjZSwgZWUuZGF0YS5GaWxlU291cmNlKTtcbmVlLmRhdGEuQXV0aFByaXZhdGVLZXkgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5Db21wdXRlZE9iamVjdCA9IGZ1bmN0aW9uKGZ1bmMsIGFyZ3MsIG9wdF92YXJOYW1lKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBlZS5Db21wdXRlZE9iamVjdCkpIHtcbiAgICByZXR1cm4gZWUuQ29tcHV0ZWRPYmplY3QuY29uc3RydWN0KGVlLkNvbXB1dGVkT2JqZWN0LCBhcmd1bWVudHMpO1xuICB9XG4gIGlmIChvcHRfdmFyTmFtZSAmJiAoZnVuYyB8fCBhcmdzKSkge1xuICAgIHRocm93IEVycm9yKCdXaGVuIFwib3B0X3Zhck5hbWVcIiBpcyBzcGVjaWZpZWQsIFwiZnVuY1wiIGFuZCBcImFyZ3NcIiBtdXN0IGJlIG51bGwuJyk7XG4gIH1cbiAgaWYgKGZ1bmMgJiYgIWFyZ3MpIHtcbiAgICB0aHJvdyBFcnJvcignV2hlbiBcImZ1bmNcIiBpcyBzcGVjaWZpZWQsIFwiYXJnc1wiIG11c3Qgbm90IGJlIG51bGwuJyk7XG4gIH1cbiAgdGhpcy5mdW5jID0gZnVuYztcbiAgdGhpcy5hcmdzID0gYXJncztcbiAgdGhpcy52YXJOYW1lID0gb3B0X3Zhck5hbWUgfHwgbnVsbDtcbn07XG5nb29nLmluaGVyaXRzKGVlLkNvbXB1dGVkT2JqZWN0LCBlZS5FbmNvZGFibGUpO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5Db21wdXRlZE9iamVjdFwiLCBlZS5Db21wdXRlZE9iamVjdCk7XG5lZS5Db21wdXRlZE9iamVjdC5wcm90b3R5cGUuZXZhbHVhdGUgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICBpZiAoIWNhbGxiYWNrIHx8IFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIGNhbGxiYWNrKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJldmFsdWF0ZSgpIHJlcXVpcmVzIGEgY2FsbGJhY2sgZnVuY3Rpb24uXCIpO1xuICB9XG4gIGVlLmRhdGEuY29tcHV0ZVZhbHVlKHRoaXMsIGNhbGxiYWNrKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkNvbXB1dGVkT2JqZWN0LnByb3RvdHlwZSwgXCJldmFsdWF0ZVwiLCBlZS5Db21wdXRlZE9iamVjdC5wcm90b3R5cGUuZXZhbHVhdGUpO1xuZWUuQ29tcHV0ZWRPYmplY3QucHJvdG90eXBlLmdldEluZm8gPSBmdW5jdGlvbihvcHRfY2FsbGJhY2spIHtcbiAgcmV0dXJuIGVlLmRhdGEuY29tcHV0ZVZhbHVlKHRoaXMsIG9wdF9jYWxsYmFjayk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5Db21wdXRlZE9iamVjdC5wcm90b3R5cGUsIFwiZ2V0SW5mb1wiLCBlZS5Db21wdXRlZE9iamVjdC5wcm90b3R5cGUuZ2V0SW5mbyk7XG5lZS5Db21wdXRlZE9iamVjdC5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24oZW5jb2Rlcikge1xuICBpZiAodGhpcy5pc1ZhcmlhYmxlKCkpIHtcbiAgICByZXR1cm4ge3R5cGU6XCJBcmd1bWVudFJlZlwiLCB2YWx1ZTp0aGlzLnZhck5hbWV9O1xuICB9XG4gIHZhciBlbmNvZGVkQXJncyA9IHt9LCBuYW1lO1xuICBmb3IgKG5hbWUgaW4gdGhpcy5hcmdzKSB7XG4gICAgdm9pZCAwICE9PSB0aGlzLmFyZ3NbbmFtZV0gJiYgKGVuY29kZWRBcmdzW25hbWVdID0gZW5jb2Rlcih0aGlzLmFyZ3NbbmFtZV0pKTtcbiAgfVxuICB2YXIgcmVzdWx0ID0ge3R5cGU6XCJJbnZvY2F0aW9uXCIsIGFyZ3VtZW50czplbmNvZGVkQXJnc30sIGZ1bmMgPSBlbmNvZGVyKHRoaXMuZnVuYyk7XG4gIHJlc3VsdFtcInN0cmluZ1wiID09PSB0eXBlb2YgZnVuYyA/IFwiZnVuY3Rpb25OYW1lXCIgOiBcImZ1bmN0aW9uXCJdID0gZnVuYztcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5lZS5Db21wdXRlZE9iamVjdC5wcm90b3R5cGUuZW5jb2RlQ2xvdWRWYWx1ZSA9IGZ1bmN0aW9uKHNlcmlhbGl6ZXIpIHtcbiAgaWYgKHRoaXMuaXNWYXJpYWJsZSgpKSB7XG4gICAgdmFyIG5hbWUgPSB0aGlzLnZhck5hbWUgfHwgc2VyaWFsaXplci51bmJvdW5kTmFtZTtcbiAgICBpZiAoIW5hbWUpIHtcbiAgICAgIHRocm93IEVycm9yKFwiQSBtYXBwZWQgZnVuY3Rpb24ncyBhcmd1bWVudHMgY2Fubm90IGJlIHVzZWQgaW4gY2xpZW50LXNpZGUgb3BlcmF0aW9uc1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIGVlLnJwY19ub2RlLmFyZ3VtZW50UmVmZXJlbmNlKG5hbWUpO1xuICB9XG4gIHZhciBlbmNvZGVkQXJncyA9IHt9LCBuYW1lJDY5O1xuICBmb3IgKG5hbWUkNjkgaW4gdGhpcy5hcmdzKSB7XG4gICAgdm9pZCAwICE9PSB0aGlzLmFyZ3NbbmFtZSQ2OV0gJiYgKGVuY29kZWRBcmdzW25hbWUkNjldID0gZWUucnBjX25vZGUucmVmZXJlbmNlKHNlcmlhbGl6ZXIubWFrZVJlZmVyZW5jZSh0aGlzLmFyZ3NbbmFtZSQ2OV0pKSk7XG4gIH1cbiAgcmV0dXJuIFwic3RyaW5nXCIgPT09IHR5cGVvZiB0aGlzLmZ1bmMgPyBlZS5ycGNfbm9kZS5mdW5jdGlvbkJ5TmFtZShTdHJpbmcodGhpcy5mdW5jKSwgZW5jb2RlZEFyZ3MpIDogdGhpcy5mdW5jLmVuY29kZUNsb3VkSW52b2NhdGlvbihzZXJpYWxpemVyLCBlbmNvZGVkQXJncyk7XG59O1xuZWUuQ29tcHV0ZWRPYmplY3QucHJvdG90eXBlLnNlcmlhbGl6ZSA9IGZ1bmN0aW9uKGxlZ2FjeSkge1xuICByZXR1cm4gKHZvaWQgMCA9PT0gbGVnYWN5ID8gMCA6IGxlZ2FjeSkgPyBlZS5TZXJpYWxpemVyLnRvSlNPTih0aGlzKSA6IGVlLlNlcmlhbGl6ZXIudG9DbG91ZEFwaUpTT04odGhpcyk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5Db21wdXRlZE9iamVjdC5wcm90b3R5cGUsIFwic2VyaWFsaXplXCIsIGVlLkNvbXB1dGVkT2JqZWN0LnByb3RvdHlwZS5zZXJpYWxpemUpO1xuZWUuQ29tcHV0ZWRPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBcImVlLlwiICsgdGhpcy5uYW1lKCkgKyBcIihcIiArIGVlLlNlcmlhbGl6ZXIudG9SZWFkYWJsZUpTT04odGhpcykgKyBcIilcIjtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLkNvbXB1dGVkT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ1wiLCBlZS5Db21wdXRlZE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcpO1xuZWUuQ29tcHV0ZWRPYmplY3QucHJvdG90eXBlLmlzVmFyaWFibGUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG51bGwgPT09IHRoaXMuZnVuYyAmJiBudWxsID09PSB0aGlzLmFyZ3M7XG59O1xuZWUuQ29tcHV0ZWRPYmplY3QucHJvdG90eXBlLm5hbWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFwiQ29tcHV0ZWRPYmplY3RcIjtcbn07XG5lZS5Db21wdXRlZE9iamVjdC5wcm90b3R5cGUuYXNpZGUgPSBmdW5jdGlvbihmdW5jLCB2YXJfYXJncykge1xuICB2YXIgYXJncyA9IEFycmF5LmZyb20oYXJndW1lbnRzKTtcbiAgYXJnc1swXSA9IHRoaXM7XG4gIGZ1bmMuYXBwbHkoZ29vZy5nbG9iYWwsIGFyZ3MpO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkNvbXB1dGVkT2JqZWN0LnByb3RvdHlwZSwgXCJhc2lkZVwiLCBlZS5Db21wdXRlZE9iamVjdC5wcm90b3R5cGUuYXNpZGUpO1xuZWUuQ29tcHV0ZWRPYmplY3QucHJvdG90eXBlLmNhc3RJbnRlcm5hbCA9IGZ1bmN0aW9uKG9iaikge1xuICBpZiAob2JqIGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3Rvcikge1xuICAgIHJldHVybiBvYmo7XG4gIH1cbiAgdmFyIGtsYXNzID0gZnVuY3Rpb24oKSB7XG4gIH07XG4gIGtsYXNzLnByb3RvdHlwZSA9IHRoaXMuY29uc3RydWN0b3IucHJvdG90eXBlO1xuICB2YXIgcmVzdWx0ID0gbmV3IGtsYXNzKCk7XG4gIHJlc3VsdC5mdW5jID0gb2JqLmZ1bmM7XG4gIHJlc3VsdC5hcmdzID0gb2JqLmFyZ3M7XG4gIHJlc3VsdC52YXJOYW1lID0gb2JqLnZhck5hbWU7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuZWUuQ29tcHV0ZWRPYmplY3QuY29uc3RydWN0ID0gZnVuY3Rpb24oY29uc3RydWN0b3IsIGFyZ3NBcnJheSkge1xuICBmdW5jdGlvbiBGKCkge1xuICAgIHJldHVybiBjb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmdzQXJyYXkpO1xuICB9XG4gIEYucHJvdG90eXBlID0gY29uc3RydWN0b3IucHJvdG90eXBlO1xuICByZXR1cm4gbmV3IEYoKTtcbn07XG5lZS5UeXBlcyA9IHt9O1xuZWUuVHlwZXMucmVnaXN0ZXJlZENsYXNzZXNfID0ge307XG5lZS5UeXBlcy5yZWdpc3RlckNsYXNzZXMgPSBmdW5jdGlvbihjbGFzc2VzKSB7XG4gIGVlLlR5cGVzLnJlZ2lzdGVyZWRDbGFzc2VzXyA9IGNsYXNzZXM7XG59O1xuZWUuVHlwZXMubmFtZVRvQ2xhc3MgPSBmdW5jdGlvbihuYW1lKSB7XG4gIHJldHVybiBuYW1lIGluIGVlLlR5cGVzLnJlZ2lzdGVyZWRDbGFzc2VzXyA/IGVlLlR5cGVzLnJlZ2lzdGVyZWRDbGFzc2VzX1tuYW1lXSA6IG51bGw7XG59O1xuZWUuVHlwZXMuY2xhc3NUb05hbWUgPSBmdW5jdGlvbihrbGFzcykge1xuICByZXR1cm4ga2xhc3MucHJvdG90eXBlIGluc3RhbmNlb2YgZWUuQ29tcHV0ZWRPYmplY3QgPyBrbGFzcy5wcm90b3R5cGUubmFtZS5jYWxsKG51bGwpIDoga2xhc3MgPT0gTnVtYmVyID8gXCJOdW1iZXJcIiA6IGtsYXNzID09IFN0cmluZyA/IFwiU3RyaW5nXCIgOiBrbGFzcyA9PSBBcnJheSA/IFwiQXJyYXlcIiA6IGtsYXNzID09IERhdGUgPyBcIkRhdGVcIiA6IFwiT2JqZWN0XCI7XG59O1xuZWUuVHlwZXMuaXNTdWJ0eXBlID0gZnVuY3Rpb24oZmlyc3RUeXBlLCBzZWNvbmRUeXBlKSB7XG4gIGlmIChzZWNvbmRUeXBlID09IGZpcnN0VHlwZSkge1xuICAgIHJldHVybiAhMDtcbiAgfVxuICBzd2l0Y2goZmlyc3RUeXBlKSB7XG4gICAgY2FzZSBcIkVsZW1lbnRcIjpcbiAgICAgIHJldHVybiBcIkVsZW1lbnRcIiA9PSBzZWNvbmRUeXBlIHx8IFwiSW1hZ2VcIiA9PSBzZWNvbmRUeXBlIHx8IFwiRmVhdHVyZVwiID09IHNlY29uZFR5cGUgfHwgXCJDb2xsZWN0aW9uXCIgPT0gc2Vjb25kVHlwZSB8fCBcIkltYWdlQ29sbGVjdGlvblwiID09IHNlY29uZFR5cGUgfHwgXCJGZWF0dXJlQ29sbGVjdGlvblwiID09IHNlY29uZFR5cGU7XG4gICAgY2FzZSBcIkZlYXR1cmVDb2xsZWN0aW9uXCI6XG4gICAgY2FzZSBcIkNvbGxlY3Rpb25cIjpcbiAgICAgIHJldHVybiBcIkNvbGxlY3Rpb25cIiA9PSBzZWNvbmRUeXBlIHx8IFwiSW1hZ2VDb2xsZWN0aW9uXCIgPT0gc2Vjb25kVHlwZSB8fCBcIkZlYXR1cmVDb2xsZWN0aW9uXCIgPT0gc2Vjb25kVHlwZTtcbiAgICBjYXNlIFwiT2JqZWN0XCI6XG4gICAgICByZXR1cm4gITA7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAhMTtcbiAgfVxufTtcbmVlLlR5cGVzLmlzTnVtYmVyID0gZnVuY3Rpb24ob2JqKSB7XG4gIHJldHVybiBcIm51bWJlclwiID09PSB0eXBlb2Ygb2JqIHx8IG9iaiBpbnN0YW5jZW9mIGVlLkNvbXB1dGVkT2JqZWN0ICYmIFwiTnVtYmVyXCIgPT0gb2JqLm5hbWUoKTtcbn07XG5lZS5UeXBlcy5pc1N0cmluZyA9IGZ1bmN0aW9uKG9iaikge1xuICByZXR1cm4gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9iaiB8fCBvYmogaW5zdGFuY2VvZiBlZS5Db21wdXRlZE9iamVjdCAmJiBcIlN0cmluZ1wiID09IG9iai5uYW1lKCk7XG59O1xuZWUuVHlwZXMuaXNBcnJheSA9IGZ1bmN0aW9uKG9iaikge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShvYmopIHx8IG9iaiBpbnN0YW5jZW9mIGVlLkNvbXB1dGVkT2JqZWN0ICYmIFwiTGlzdFwiID09IG9iai5uYW1lKCk7XG59O1xuZWUuVHlwZXMuaXNSZWd1bGFyT2JqZWN0ID0gZnVuY3Rpb24ob2JqKSB7XG4gIGlmIChnb29nLmlzT2JqZWN0KG9iaikgJiYgXCJmdW5jdGlvblwiICE9PSB0eXBlb2Ygb2JqKSB7XG4gICAgdmFyIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaik7XG4gICAgcmV0dXJuIG51bGwgIT09IHByb3RvICYmIG51bGwgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90byk7XG4gIH1cbiAgcmV0dXJuICExO1xufTtcbmVlLlR5cGVzLnVzZUtleXdvcmRBcmdzID0gZnVuY3Rpb24oYXJncywgc2lnbmF0dXJlLCBpc0luc3RhbmNlKSB7XG4gIGlzSW5zdGFuY2UgPSB2b2lkIDAgPT09IGlzSW5zdGFuY2UgPyAhMSA6IGlzSW5zdGFuY2U7XG4gIGlmICgxID09PSBhcmdzLmxlbmd0aCAmJiBlZS5UeXBlcy5pc1JlZ3VsYXJPYmplY3QoYXJnc1swXSkpIHtcbiAgICB2YXIgZm9ybWFsQXJncyA9IHNpZ25hdHVyZS5hcmdzO1xuICAgIGlzSW5zdGFuY2UgJiYgKGZvcm1hbEFyZ3MgPSBmb3JtYWxBcmdzLnNsaWNlKDEpKTtcbiAgICBpZiAoZm9ybWFsQXJncy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiAhKDEgPT09IGZvcm1hbEFyZ3MubGVuZ3RoIHx8IGZvcm1hbEFyZ3NbMV0ub3B0aW9uYWwpIHx8IFwiRGljdGlvbmFyeVwiICE9PSBmb3JtYWxBcmdzWzBdLnR5cGU7XG4gICAgfVxuICB9XG4gIHJldHVybiAhMTtcbn07XG5lZS5GdW5jdGlvbiA9IGZ1bmN0aW9uKCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgZWUuRnVuY3Rpb24pKSB7XG4gICAgcmV0dXJuIG5ldyBlZS5GdW5jdGlvbigpO1xuICB9XG59O1xuZ29vZy5pbmhlcml0cyhlZS5GdW5jdGlvbiwgZWUuRW5jb2RhYmxlKTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuRnVuY3Rpb25cIiwgZWUuRnVuY3Rpb24pO1xuZWUuRnVuY3Rpb24ucHJvbW90ZXJfID0gZ29vZy5mdW5jdGlvbnMuaWRlbnRpdHk7XG5lZS5GdW5jdGlvbi5yZWdpc3RlclByb21vdGVyID0gZnVuY3Rpb24ocHJvbW90ZXIpIHtcbiAgZWUuRnVuY3Rpb24ucHJvbW90ZXJfID0gcHJvbW90ZXI7XG59O1xuZWUuRnVuY3Rpb24ucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbih2YXJfYXJncykge1xuICByZXR1cm4gdGhpcy5hcHBseSh0aGlzLm5hbWVBcmdzKEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCkpKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkZ1bmN0aW9uLnByb3RvdHlwZSwgXCJjYWxsXCIsIGVlLkZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsKTtcbmVlLkZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSA9IGZ1bmN0aW9uKG5hbWVkQXJncykge1xuICB2YXIgcmVzdWx0ID0gbmV3IGVlLkNvbXB1dGVkT2JqZWN0KHRoaXMsIHRoaXMucHJvbW90ZUFyZ3MobmFtZWRBcmdzKSk7XG4gIHJldHVybiBlZS5GdW5jdGlvbi5wcm9tb3Rlcl8ocmVzdWx0LCB0aGlzLmdldFJldHVyblR5cGUoKSk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5GdW5jdGlvbi5wcm90b3R5cGUsIFwiYXBwbHlcIiwgZWUuRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5KTtcbmVlLkZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsT3JBcHBseSA9IGZ1bmN0aW9uKHRoaXNWYWx1ZSwgYXJncykge1xuICB2YXIgaXNJbnN0YW5jZSA9IHZvaWQgMCAhPT0gdGhpc1ZhbHVlLCBzaWduYXR1cmUgPSB0aGlzLmdldFNpZ25hdHVyZSgpO1xuICBpZiAoZWUuVHlwZXMudXNlS2V5d29yZEFyZ3MoYXJncywgc2lnbmF0dXJlLCBpc0luc3RhbmNlKSkge1xuICAgIHZhciBuYW1lZEFyZ3MgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY2xvbmUoYXJnc1swXSk7XG4gICAgaWYgKGlzSW5zdGFuY2UpIHtcbiAgICAgIHZhciBmaXJzdEFyZ05hbWUgPSBzaWduYXR1cmUuYXJnc1swXS5uYW1lO1xuICAgICAgaWYgKGZpcnN0QXJnTmFtZSBpbiBuYW1lZEFyZ3MpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJOYW1lZCBhcmdzIGZvciBcIiArIHNpZ25hdHVyZS5uYW1lICsgXCIgY2FuJ3QgY29udGFpbiBrZXl3b3JkIFwiICsgZmlyc3RBcmdOYW1lKTtcbiAgICAgIH1cbiAgICAgIG5hbWVkQXJnc1tmaXJzdEFyZ05hbWVdID0gdGhpc1ZhbHVlO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBuYW1lZEFyZ3MgPSB0aGlzLm5hbWVBcmdzKGlzSW5zdGFuY2UgPyBbdGhpc1ZhbHVlXS5jb25jYXQoYXJncykgOiBhcmdzKTtcbiAgfVxuICByZXR1cm4gdGhpcy5hcHBseShuYW1lZEFyZ3MpO1xufTtcbmVlLkZ1bmN0aW9uLnByb3RvdHlwZS5wcm9tb3RlQXJncyA9IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgZm9yICh2YXIgc3BlY3MgPSB0aGlzLmdldFNpZ25hdHVyZSgpLmFyZ3MsIHByb21vdGVkQXJncyA9IHt9LCBrbm93biA9IHt9LCBpID0gMDsgaSA8IHNwZWNzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIG5hbWUgPSBzcGVjc1tpXS5uYW1lO1xuICAgIGlmIChuYW1lIGluIGFyZ3MgJiYgdm9pZCAwICE9PSBhcmdzW25hbWVdKSB7XG4gICAgICBwcm9tb3RlZEFyZ3NbbmFtZV0gPSBlZS5GdW5jdGlvbi5wcm9tb3Rlcl8oYXJnc1tuYW1lXSwgc3BlY3NbaV0udHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghc3BlY3NbaV0ub3B0aW9uYWwpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJSZXF1aXJlZCBhcmd1bWVudCAoXCIgKyBuYW1lICsgXCIpIG1pc3NpbmcgdG8gZnVuY3Rpb246IFwiICsgdGhpcyk7XG4gICAgICB9XG4gICAgfVxuICAgIGtub3duW25hbWVdID0gITA7XG4gIH1cbiAgdmFyIHVua25vd24gPSBbXSwgYXJnTmFtZTtcbiAgZm9yIChhcmdOYW1lIGluIGFyZ3MpIHtcbiAgICBrbm93blthcmdOYW1lXSB8fCB1bmtub3duLnB1c2goYXJnTmFtZSk7XG4gIH1cbiAgaWYgKDAgPCB1bmtub3duLmxlbmd0aCkge1xuICAgIHRocm93IEVycm9yKFwiVW5yZWNvZ25pemVkIGFyZ3VtZW50cyAoXCIgKyB1bmtub3duICsgXCIpIHRvIGZ1bmN0aW9uOiBcIiArIHRoaXMpO1xuICB9XG4gIHJldHVybiBwcm9tb3RlZEFyZ3M7XG59O1xuZWUuRnVuY3Rpb24ucHJvdG90eXBlLm5hbWVBcmdzID0gZnVuY3Rpb24oYXJncykge1xuICB2YXIgc3BlY3MgPSB0aGlzLmdldFNpZ25hdHVyZSgpLmFyZ3M7XG4gIGlmIChzcGVjcy5sZW5ndGggPCBhcmdzLmxlbmd0aCkge1xuICAgIHRocm93IEVycm9yKFwiVG9vIG1hbnkgKFwiICsgYXJncy5sZW5ndGggKyBcIikgYXJndW1lbnRzIHRvIGZ1bmN0aW9uOiBcIiArIHRoaXMpO1xuICB9XG4gIGZvciAodmFyIG5hbWVkQXJncyA9IHt9LCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICBuYW1lZEFyZ3Nbc3BlY3NbaV0ubmFtZV0gPSBhcmdzW2ldO1xuICB9XG4gIHJldHVybiBuYW1lZEFyZ3M7XG59O1xuZWUuRnVuY3Rpb24ucHJvdG90eXBlLmdldFJldHVyblR5cGUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZ2V0U2lnbmF0dXJlKCkucmV0dXJucztcbn07XG5lZS5GdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbihvcHRfbmFtZSwgb3B0X2lzSW5zdGFuY2UpIHtcbiAgdmFyIHNpZ25hdHVyZSA9IHRoaXMuZ2V0U2lnbmF0dXJlKCksIGJ1ZmZlciA9IFtdO1xuICBidWZmZXIucHVzaChvcHRfbmFtZSB8fCBzaWduYXR1cmUubmFtZSk7XG4gIGJ1ZmZlci5wdXNoKFwiKFwiKTtcbiAgYnVmZmVyLnB1c2gobW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbWFwKHNpZ25hdHVyZS5hcmdzLnNsaWNlKG9wdF9pc0luc3RhbmNlID8gMSA6IDApLCBmdW5jdGlvbihlbGVtKSB7XG4gICAgcmV0dXJuIGVsZW0ubmFtZTtcbiAgfSkuam9pbihcIiwgXCIpKTtcbiAgYnVmZmVyLnB1c2goXCIpXFxuXCIpO1xuICBidWZmZXIucHVzaChcIlxcblwiKTtcbiAgc2lnbmF0dXJlLmRlc2NyaXB0aW9uID8gYnVmZmVyLnB1c2goc2lnbmF0dXJlLmRlc2NyaXB0aW9uKSA6IGJ1ZmZlci5wdXNoKFwiVW5kb2N1bWVudGVkLlwiKTtcbiAgYnVmZmVyLnB1c2goXCJcXG5cIik7XG4gIGlmIChzaWduYXR1cmUuYXJncy5sZW5ndGgpIHtcbiAgICBidWZmZXIucHVzaChcIlxcbkFyZ3M6XFxuXCIpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2lnbmF0dXJlLmFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIG9wdF9pc0luc3RhbmNlICYmIDAgPT0gaSA/IGJ1ZmZlci5wdXNoKFwiICB0aGlzOlwiKSA6IGJ1ZmZlci5wdXNoKFwiXFxuICBcIik7XG4gICAgICB2YXIgYXJnID0gc2lnbmF0dXJlLmFyZ3NbaV07XG4gICAgICBidWZmZXIucHVzaChhcmcubmFtZSk7XG4gICAgICBidWZmZXIucHVzaChcIiAoXCIpO1xuICAgICAgYnVmZmVyLnB1c2goYXJnLnR5cGUpO1xuICAgICAgYXJnLm9wdGlvbmFsICYmIGJ1ZmZlci5wdXNoKFwiLCBvcHRpb25hbFwiKTtcbiAgICAgIGJ1ZmZlci5wdXNoKFwiKTogXCIpO1xuICAgICAgYXJnLmRlc2NyaXB0aW9uID8gYnVmZmVyLnB1c2goYXJnLmRlc2NyaXB0aW9uKSA6IGJ1ZmZlci5wdXNoKFwiVW5kb2N1bWVudGVkLlwiKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGJ1ZmZlci5qb2luKFwiXCIpO1xufTtcbmVlLkZ1bmN0aW9uLnByb3RvdHlwZS5zZXJpYWxpemUgPSBmdW5jdGlvbihsZWdhY3kpIHtcbiAgcmV0dXJuICh2b2lkIDAgPT09IGxlZ2FjeSA/IDAgOiBsZWdhY3kpID8gZWUuU2VyaWFsaXplci50b0pTT04odGhpcykgOiBlZS5TZXJpYWxpemVyLnRvQ2xvdWRBcGlKU09OKHRoaXMpO1xufTtcbmVlLkFwaUZ1bmN0aW9uID0gZnVuY3Rpb24obmFtZSwgb3B0X3NpZ25hdHVyZSkge1xuICBpZiAodm9pZCAwID09PSBvcHRfc2lnbmF0dXJlKSB7XG4gICAgcmV0dXJuIGVlLkFwaUZ1bmN0aW9uLmxvb2t1cChuYW1lKTtcbiAgfVxuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgZWUuQXBpRnVuY3Rpb24pKSB7XG4gICAgcmV0dXJuIGVlLkNvbXB1dGVkT2JqZWN0LmNvbnN0cnVjdChlZS5BcGlGdW5jdGlvbiwgYXJndW1lbnRzKTtcbiAgfVxuICB0aGlzLnNpZ25hdHVyZV8gPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfdW5zYWZlQ2xvbmUob3B0X3NpZ25hdHVyZSk7XG4gIHRoaXMuc2lnbmF0dXJlXy5uYW1lID0gbmFtZTtcbn07XG5nb29nLmluaGVyaXRzKGVlLkFwaUZ1bmN0aW9uLCBlZS5GdW5jdGlvbik7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLkFwaUZ1bmN0aW9uXCIsIGVlLkFwaUZ1bmN0aW9uKTtcbmVlLkFwaUZ1bmN0aW9uLl9jYWxsID0gZnVuY3Rpb24obmFtZSwgdmFyX2FyZ3MpIHtcbiAgcmV0dXJuIGVlLkZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsLmFwcGx5KGVlLkFwaUZ1bmN0aW9uLmxvb2t1cChuYW1lKSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5BcGlGdW5jdGlvbi5fY2FsbFwiLCBlZS5BcGlGdW5jdGlvbi5fY2FsbCk7XG5lZS5BcGlGdW5jdGlvbi5fYXBwbHkgPSBmdW5jdGlvbihuYW1lLCBuYW1lZEFyZ3MpIHtcbiAgcmV0dXJuIGVlLkFwaUZ1bmN0aW9uLmxvb2t1cChuYW1lKS5hcHBseShuYW1lZEFyZ3MpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuQXBpRnVuY3Rpb24uX2FwcGx5XCIsIGVlLkFwaUZ1bmN0aW9uLl9hcHBseSk7XG5lZS5BcGlGdW5jdGlvbi5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24oZW5jb2Rlcikge1xuICByZXR1cm4gdGhpcy5zaWduYXR1cmVfLm5hbWU7XG59O1xuZWUuQXBpRnVuY3Rpb24ucHJvdG90eXBlLmVuY29kZUNsb3VkSW52b2NhdGlvbiA9IGZ1bmN0aW9uKHNlcmlhbGl6ZXIsIGFyZ3MpIHtcbiAgcmV0dXJuIGVlLnJwY19ub2RlLmZ1bmN0aW9uQnlOYW1lKHRoaXMuc2lnbmF0dXJlXy5uYW1lLCBhcmdzKTtcbn07XG5lZS5BcGlGdW5jdGlvbi5wcm90b3R5cGUuZ2V0U2lnbmF0dXJlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnNpZ25hdHVyZV87XG59O1xuZWUuQXBpRnVuY3Rpb24uYXBpXyA9IG51bGw7XG5lZS5BcGlGdW5jdGlvbi5ib3VuZFNpZ25hdHVyZXNfID0ge307XG5lZS5BcGlGdW5jdGlvbi5hbGxTaWduYXR1cmVzID0gZnVuY3Rpb24oKSB7XG4gIGVlLkFwaUZ1bmN0aW9uLmluaXRpYWxpemUoKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9tYXAoZWUuQXBpRnVuY3Rpb24uYXBpXywgZnVuY3Rpb24oZnVuYykge1xuICAgIHJldHVybiBmdW5jLmdldFNpZ25hdHVyZSgpO1xuICB9KTtcbn07XG5lZS5BcGlGdW5jdGlvbi51bmJvdW5kRnVuY3Rpb25zID0gZnVuY3Rpb24oKSB7XG4gIGVlLkFwaUZ1bmN0aW9uLmluaXRpYWxpemUoKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9maWx0ZXIoZWUuQXBpRnVuY3Rpb24uYXBpXywgZnVuY3Rpb24oZnVuYywgbmFtZSkge1xuICAgIHJldHVybiAhZWUuQXBpRnVuY3Rpb24uYm91bmRTaWduYXR1cmVzX1tuYW1lXTtcbiAgfSk7XG59O1xuZWUuQXBpRnVuY3Rpb24ubG9va3VwID0gZnVuY3Rpb24obmFtZSkge1xuICB2YXIgZnVuYyA9IGVlLkFwaUZ1bmN0aW9uLmxvb2t1cEludGVybmFsKG5hbWUpO1xuICBpZiAoIWZ1bmMpIHtcbiAgICB0aHJvdyBFcnJvcihcIlVua25vd24gYnVpbHQtaW4gZnVuY3Rpb24gbmFtZTogXCIgKyBuYW1lKTtcbiAgfVxuICByZXR1cm4gZnVuYztcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLkFwaUZ1bmN0aW9uLmxvb2t1cFwiLCBlZS5BcGlGdW5jdGlvbi5sb29rdXApO1xuZWUuQXBpRnVuY3Rpb24ubG9va3VwSW50ZXJuYWwgPSBmdW5jdGlvbihuYW1lKSB7XG4gIGVlLkFwaUZ1bmN0aW9uLmluaXRpYWxpemUoKTtcbiAgcmV0dXJuIGVlLkFwaUZ1bmN0aW9uLmFwaV9bbmFtZV0gfHwgbnVsbDtcbn07XG5lZS5BcGlGdW5jdGlvbi5pbml0aWFsaXplID0gZnVuY3Rpb24ob3B0X3N1Y2Nlc3NDYWxsYmFjaywgb3B0X2ZhaWx1cmVDYWxsYmFjaykge1xuICBpZiAoZWUuQXBpRnVuY3Rpb24uYXBpXykge1xuICAgIG9wdF9zdWNjZXNzQ2FsbGJhY2sgJiYgb3B0X3N1Y2Nlc3NDYWxsYmFjaygpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uKGRhdGEsIG9wdF9lcnJvcikge1xuICAgICAgb3B0X2Vycm9yID8gb3B0X2ZhaWx1cmVDYWxsYmFjayAmJiBvcHRfZmFpbHVyZUNhbGxiYWNrKEVycm9yKG9wdF9lcnJvcikpIDogKGVlLkFwaUZ1bmN0aW9uLmFwaV8gPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfbWFwKGRhdGEsIGZ1bmN0aW9uKHNpZywgbmFtZSkge1xuICAgICAgICBzaWcucmV0dXJucyA9IHNpZy5yZXR1cm5zLnJlcGxhY2UoLzwuKj4vLCBcIlwiKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaWcuYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHNpZy5hcmdzW2ldLnR5cGUgPSBzaWcuYXJnc1tpXS50eXBlLnJlcGxhY2UoLzwuKj4vLCBcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IGVlLkFwaUZ1bmN0aW9uKG5hbWUsIHNpZyk7XG4gICAgICB9KSwgb3B0X3N1Y2Nlc3NDYWxsYmFjayAmJiBvcHRfc3VjY2Vzc0NhbGxiYWNrKCkpO1xuICAgIH07XG4gICAgb3B0X3N1Y2Nlc3NDYWxsYmFjayA/IGVlLmRhdGEuZ2V0QWxnb3JpdGhtcyhjYWxsYmFjaykgOiBjYWxsYmFjayhlZS5kYXRhLmdldEFsZ29yaXRobXMoKSk7XG4gIH1cbn07XG5lZS5BcGlGdW5jdGlvbi5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICBlZS5BcGlGdW5jdGlvbi5hcGlfID0gbnVsbDtcbiAgZWUuQXBpRnVuY3Rpb24uYm91bmRTaWduYXR1cmVzXyA9IHt9O1xufTtcbmVlLkFwaUZ1bmN0aW9uLmltcG9ydEFwaSA9IGZ1bmN0aW9uKHRhcmdldCwgcHJlZml4LCB0eXBlTmFtZSwgb3B0X3ByZXBlbmQpIHtcbiAgZWUuQXBpRnVuY3Rpb24uaW5pdGlhbGl6ZSgpO1xuICB2YXIgcHJlcGVuZCA9IG9wdF9wcmVwZW5kIHx8IFwiXCI7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9mb3JFYWNoKGVlLkFwaUZ1bmN0aW9uLmFwaV8sIGZ1bmN0aW9uKGFwaUZ1bmMsIG5hbWUpIHtcbiAgICB2YXIgcGFydHMgPSBuYW1lLnNwbGl0KFwiLlwiKTtcbiAgICBpZiAoMiA9PSBwYXJ0cy5sZW5ndGggJiYgcGFydHNbMF0gPT0gcHJlZml4KSB7XG4gICAgICB2YXIgZm5hbWUgPSBwcmVwZW5kICsgcGFydHNbMV0sIHNpZ25hdHVyZSA9IGFwaUZ1bmMuZ2V0U2lnbmF0dXJlKCk7XG4gICAgICBlZS5BcGlGdW5jdGlvbi5ib3VuZFNpZ25hdHVyZXNfW25hbWVdID0gITA7XG4gICAgICB2YXIgaXNJbnN0YW5jZSA9ICExO1xuICAgICAgaWYgKHNpZ25hdHVyZS5hcmdzLmxlbmd0aCkge1xuICAgICAgICB2YXIgZmlyc3RBcmdUeXBlID0gc2lnbmF0dXJlLmFyZ3NbMF0udHlwZTtcbiAgICAgICAgaXNJbnN0YW5jZSA9IFwiT2JqZWN0XCIgIT0gZmlyc3RBcmdUeXBlICYmIGVlLlR5cGVzLmlzU3VidHlwZShmaXJzdEFyZ1R5cGUsIHR5cGVOYW1lKTtcbiAgICAgIH1cbiAgICAgIHZhciBkZXN0aW5hdGlvbiA9IGlzSW5zdGFuY2UgPyB0YXJnZXQucHJvdG90eXBlIDogdGFyZ2V0O1xuICAgICAgZm5hbWUgaW4gZGVzdGluYXRpb24gJiYgIWRlc3RpbmF0aW9uW2ZuYW1lXS5zaWduYXR1cmUgfHwgKGRlc3RpbmF0aW9uW2ZuYW1lXSA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gICAgICAgIHJldHVybiBhcGlGdW5jLmNhbGxPckFwcGx5KGlzSW5zdGFuY2UgPyB0aGlzIDogdm9pZCAwLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApKTtcbiAgICAgIH0sIGRlc3RpbmF0aW9uW2ZuYW1lXS50b1N0cmluZyA9IGdvb2cuYmluZChhcGlGdW5jLnRvU3RyaW5nLCBhcGlGdW5jLCBmbmFtZSwgaXNJbnN0YW5jZSksIGRlc3RpbmF0aW9uW2ZuYW1lXS5zaWduYXR1cmUgPSBzaWduYXR1cmUpO1xuICAgIH1cbiAgfSk7XG59O1xuZWUuQXBpRnVuY3Rpb24uY2xlYXJBcGkgPSBmdW5jdGlvbih0YXJnZXQkanNjb21wJDApIHtcbiAgdmFyIGNsZWFyID0gZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgbmFtZSBpbiB0YXJnZXQpIHtcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHRhcmdldFtuYW1lXSAmJiB0YXJnZXRbbmFtZV0uc2lnbmF0dXJlICYmIGRlbGV0ZSB0YXJnZXRbbmFtZV07XG4gICAgfVxuICB9O1xuICBjbGVhcih0YXJnZXQkanNjb21wJDApO1xuICBjbGVhcih0YXJnZXQkanNjb21wJDAucHJvdG90eXBlIHx8IHt9KTtcbn07XG5lZS5hcmd1bWVudHMgPSB7fTtcbmVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uID0gZnVuY3Rpb24oZm4sIG9yaWdpbmFsQXJncykge1xuICByZXR1cm4gZWUuYXJndW1lbnRzLmV4dHJhY3RJbXBsXyhmbiwgb3JpZ2luYWxBcmdzLCBlZS5hcmd1bWVudHMuSlNfUEFSQU1fREVDTF9NQVRDSEVSX0ZVTkNUSU9OXyk7XG59O1xuZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tQ2xhc3NDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKGZuLCBvcmlnaW5hbEFyZ3MpIHtcbiAgcmV0dXJuIGVlLmFyZ3VtZW50cy5leHRyYWN0SW1wbF8oZm4sIG9yaWdpbmFsQXJncywgZWUuYXJndW1lbnRzLkpTX1BBUkFNX0RFQ0xfTUFUQ0hFUl9DTEFTU19DT05TVFJVQ1RPUl8pO1xufTtcbmVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUNsYXNzTWV0aG9kID0gZnVuY3Rpb24oZm4sIG9yaWdpbmFsQXJncykge1xuICByZXR1cm4gZWUuYXJndW1lbnRzLmV4dHJhY3RJbXBsXyhmbiwgb3JpZ2luYWxBcmdzLCBlZS5hcmd1bWVudHMuSlNfUEFSQU1fREVDTF9NQVRDSEVSX0NMQVNTX01FVEhPRF8pO1xufTtcbmVlLmFyZ3VtZW50cy5leHRyYWN0ID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb247XG5lZS5hcmd1bWVudHMuZXh0cmFjdEltcGxfID0gZnVuY3Rpb24oZm4sIG9yaWdpbmFsQXJncywgcGFyYW1ldGVyTWF0Y2hlcikge1xuICB2YXIgcGFyYW1OYW1lc1dpdGhPcHRQcmVmaXggPSBlZS5hcmd1bWVudHMuZ2V0UGFyYW1OYW1lc18oZm4sIHBhcmFtZXRlck1hdGNoZXIpLCBwYXJhbU5hbWVzID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbWFwKHBhcmFtTmFtZXNXaXRoT3B0UHJlZml4LCBmdW5jdGlvbihwYXJhbSkge1xuICAgIHJldHVybiBwYXJhbS5yZXBsYWNlKC9eb3B0Xy8sIFwiXCIpO1xuICB9KSwgZm5OYW1lID0gZWUuYXJndW1lbnRzLmdldEZuTmFtZV8oZm4pLCBmbk5hbWVTbmlwcGV0ID0gZm5OYW1lID8gXCIgdG8gZnVuY3Rpb24gXCIgKyBmbk5hbWUgOiBcIlwiLCBhcmdzID0ge30sIGZpcnN0QXJnID0gb3JpZ2luYWxBcmdzWzBdLCBmaXJzdEFyZ0NvdWxkQmVEaWN0aW9uYXJ5ID0gZ29vZy5pc09iamVjdChmaXJzdEFyZykgJiYgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgZmlyc3RBcmcgJiYgIUFycmF5LmlzQXJyYXkoZmlyc3RBcmcpICYmIFwiT2JqZWN0XCIgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZihmaXJzdEFyZykuY29uc3RydWN0b3IubmFtZTtcbiAgaWYgKDEgPCBvcmlnaW5hbEFyZ3MubGVuZ3RoIHx8ICFmaXJzdEFyZ0NvdWxkQmVEaWN0aW9uYXJ5KSB7XG4gICAgaWYgKG9yaWdpbmFsQXJncy5sZW5ndGggPiBwYXJhbU5hbWVzLmxlbmd0aCkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJSZWNlaXZlZCB0b28gbWFueSBhcmd1bWVudHNcIiArIGZuTmFtZVNuaXBwZXQgKyBcIi4gRXhwZWN0ZWQgYXQgbW9zdCBcIiArIHBhcmFtTmFtZXMubGVuZ3RoICsgXCIgYnV0IGdvdCBcIiArIG9yaWdpbmFsQXJncy5sZW5ndGggKyBcIi5cIik7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3JpZ2luYWxBcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW3BhcmFtTmFtZXNbaV1dID0gb3JpZ2luYWxBcmdzW2ldO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgc2VlbiA9IG5ldyBnb29nLnN0cnVjdHMuU2V0KG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9nZXRLZXlzKGZpcnN0QXJnKSksIGV4cGVjdGVkID0gbmV3IGdvb2cuc3RydWN0cy5TZXQocGFyYW1OYW1lcyk7XG4gICAgaWYgKGV4cGVjdGVkLmludGVyc2VjdGlvbihzZWVuKS5pc0VtcHR5KCkpIHtcbiAgICAgIGFyZ3NbcGFyYW1OYW1lc1swXV0gPSBvcmlnaW5hbEFyZ3NbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1bmV4cGVjdGVkID0gc2Vlbi5kaWZmZXJlbmNlKGV4cGVjdGVkKTtcbiAgICAgIGlmICgwICE9PSB1bmV4cGVjdGVkLnNpemUpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJVbmV4cGVjdGVkIGFyZ3VtZW50c1wiICsgZm5OYW1lU25pcHBldCArIFwiOiBcIiArIEFycmF5LmZyb20odW5leHBlY3RlZC52YWx1ZXMoKSkuam9pbihcIiwgXCIpKTtcbiAgICAgIH1cbiAgICAgIGFyZ3MgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY2xvbmUoZmlyc3RBcmcpO1xuICAgIH1cbiAgfVxuICB2YXIgcHJvdmlkZWQgPSBuZXcgZ29vZy5zdHJ1Y3RzLlNldChtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZ2V0S2V5cyhhcmdzKSksIG1pc3NpbmcgPSAobmV3IGdvb2cuc3RydWN0cy5TZXQobW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZmlsdGVyKHBhcmFtTmFtZXNXaXRoT3B0UHJlZml4LCBmdW5jdGlvbihwYXJhbSkge1xuICAgIHJldHVybiAhZ29vZy5zdHJpbmcuc3RhcnRzV2l0aChwYXJhbSwgXCJvcHRfXCIpO1xuICB9KSkpLmRpZmZlcmVuY2UocHJvdmlkZWQpO1xuICBpZiAoMCAhPT0gbWlzc2luZy5zaXplKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIGFyZ3VtZW50c1wiICsgZm5OYW1lU25pcHBldCArIFwiOiBcIiArIEFycmF5LmZyb20obWlzc2luZy52YWx1ZXMoKSkuam9pbihcIiwgXCIpKTtcbiAgfVxuICByZXR1cm4gYXJncztcbn07XG5lZS5hcmd1bWVudHMuZ2V0UGFyYW1OYW1lc18gPSBmdW5jdGlvbihmbiwgcGFyYW1ldGVyTWF0Y2hlcikge1xuICB2YXIgcGFyYW1OYW1lcyA9IFtdO1xuICBpZiAoZ29vZy5nbG9iYWwuRVhQT1JURURfRk5fSU5GTykge1xuICAgIHZhciBleHBvcnRlZEZuSW5mbyA9IGdvb2cuZ2xvYmFsLkVYUE9SVEVEX0ZOX0lORk9bZm4udG9TdHJpbmcoKV07XG4gICAgZ29vZy5pc09iamVjdChleHBvcnRlZEZuSW5mbykgfHwgZWUuYXJndW1lbnRzLnRocm93TWF0Y2hGYWlsZWRFcnJvcl8oKTtcbiAgICBwYXJhbU5hbWVzID0gZXhwb3J0ZWRGbkluZm8ucGFyYW1OYW1lcztcbiAgICBBcnJheS5pc0FycmF5KHBhcmFtTmFtZXMpIHx8IGVlLmFyZ3VtZW50cy50aHJvd01hdGNoRmFpbGVkRXJyb3JfKCk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGZuTWF0Y2hSZXN1bHQgPSBmbi50b1N0cmluZygpLnJlcGxhY2UoZWUuYXJndW1lbnRzLkpTX0NPTU1FTlRfTUFUQ0hFUl8sIFwiXCIpLm1hdGNoKHBhcmFtZXRlck1hdGNoZXIpO1xuICAgIG51bGwgPT09IGZuTWF0Y2hSZXN1bHQgJiYgZWUuYXJndW1lbnRzLnRocm93TWF0Y2hGYWlsZWRFcnJvcl8oKTtcbiAgICBwYXJhbU5hbWVzID0gKGZuTWF0Y2hSZXN1bHRbMV0uc3BsaXQoXCIsXCIpIHx8IFtdKS5tYXAoZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIHAucmVwbGFjZShlZS5hcmd1bWVudHMuSlNfUEFSQU1fREVGQVVMVF9NQVRDSEVSXywgXCJcIik7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHBhcmFtTmFtZXM7XG59O1xuZWUuYXJndW1lbnRzLmdldEZuTmFtZV8gPSBmdW5jdGlvbihmbikge1xuICByZXR1cm4gZ29vZy5nbG9iYWwuRVhQT1JURURfRk5fSU5GTyA/IGdvb2cuZ2xvYmFsLkVYUE9SVEVEX0ZOX0lORk9bZm4udG9TdHJpbmcoKV0ubmFtZS5zcGxpdChcIi5cIikucG9wKCkgKyBcIigpXCIgOiBudWxsO1xufTtcbmVlLmFyZ3VtZW50cy50aHJvd01hdGNoRmFpbGVkRXJyb3JfID0gZnVuY3Rpb24oKSB7XG4gIHRocm93IEVycm9yKFwiRmFpbGVkIHRvIGxvY2F0ZSBmdW5jdGlvbiBwYXJhbWV0ZXJzLlwiKTtcbn07XG5lZS5hcmd1bWVudHMuSlNfQ09NTUVOVF9NQVRDSEVSXyA9IC8oKFxcL1xcLy4qJCl8KFxcL1xcKltcXHNcXFNdKj9cXCpcXC8pfChcXHMpKS9tZztcbmVlLmFyZ3VtZW50cy5KU19QQVJBTV9ERUNMX01BVENIRVJfRlVOQ1RJT05fID0gL15mdW5jdGlvblteXFwoXSpcXCgoW15cXCldKilcXCkvbTtcbmVlLmFyZ3VtZW50cy5KU19QQVJBTV9ERUNMX01BVENIRVJfQ0xBU1NfQ09OU1RSVUNUT1JfID0gL15jbGFzc1teXFx7XSp7XFxTKj9cXGJjb25zdHJ1Y3RvclxcKChbXlxcKV0qKVxcKS9tO1xuZWUuYXJndW1lbnRzLkpTX1BBUkFNX0RFQ0xfTUFUQ0hFUl9DTEFTU19NRVRIT0RfID0gL1teXFwoXSpcXCgoW15cXCldKilcXCkvbTtcbmVlLmFyZ3VtZW50cy5KU19QQVJBTV9ERUZBVUxUX01BVENIRVJfID0gLz0uKiQvO1xuZWUuRWxlbWVudCA9IGZ1bmN0aW9uKGZ1bmMsIGFyZ3MsIG9wdF92YXJOYW1lKSB7XG4gIGVlLkNvbXB1dGVkT2JqZWN0LmNhbGwodGhpcywgZnVuYywgYXJncywgb3B0X3Zhck5hbWUpO1xuICBlZS5FbGVtZW50LmluaXRpYWxpemUoKTtcbn07XG5nb29nLmluaGVyaXRzKGVlLkVsZW1lbnQsIGVlLkNvbXB1dGVkT2JqZWN0KTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuRWxlbWVudFwiLCBlZS5FbGVtZW50KTtcbmVlLkVsZW1lbnQuaW5pdGlhbGl6ZWRfID0gITE7XG5lZS5FbGVtZW50LmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcbiAgZWUuRWxlbWVudC5pbml0aWFsaXplZF8gfHwgKGVlLkFwaUZ1bmN0aW9uLmltcG9ydEFwaShlZS5FbGVtZW50LCBcIkVsZW1lbnRcIiwgXCJFbGVtZW50XCIpLCBlZS5FbGVtZW50LmluaXRpYWxpemVkXyA9ICEwKTtcbn07XG5lZS5FbGVtZW50LnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gIGVlLkFwaUZ1bmN0aW9uLmNsZWFyQXBpKGVlLkVsZW1lbnQpO1xuICBlZS5FbGVtZW50LmluaXRpYWxpemVkXyA9ICExO1xufTtcbmVlLkVsZW1lbnQucHJvdG90eXBlLm5hbWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFwiRWxlbWVudFwiO1xufTtcbmVlLkVsZW1lbnQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gIGlmICgxID49IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICB2YXIgcHJvcGVydGllcyA9IGFyZ3VtZW50c1swXTtcbiAgICBlZS5UeXBlcy5pc1JlZ3VsYXJPYmplY3QocHJvcGVydGllcykgJiYgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfZXF1YWxzKG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9nZXRLZXlzKHByb3BlcnRpZXMpLCBbXCJwcm9wZXJ0aWVzXCJdKSAmJiBnb29nLmlzT2JqZWN0KHByb3BlcnRpZXMucHJvcGVydGllcykgJiYgKHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzLnByb3BlcnRpZXMpO1xuICAgIGlmIChlZS5UeXBlcy5pc1JlZ3VsYXJPYmplY3QocHJvcGVydGllcykpIHtcbiAgICAgIHZhciByZXN1bHQgPSB0aGlzO1xuICAgICAgZm9yICh2YXIga2V5IGluIHByb3BlcnRpZXMpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gcHJvcGVydGllc1trZXldO1xuICAgICAgICByZXN1bHQgPSBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkVsZW1lbnQuc2V0XCIsIHJlc3VsdCwga2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwcm9wZXJ0aWVzIGluc3RhbmNlb2YgZWUuQ29tcHV0ZWRPYmplY3QgJiYgZWUuQXBpRnVuY3Rpb24ubG9va3VwSW50ZXJuYWwoXCJFbGVtZW50LnNldE11bHRpXCIpKSB7XG4gICAgICAgIHJlc3VsdCA9IGVlLkFwaUZ1bmN0aW9uLl9jYWxsKFwiRWxlbWVudC5zZXRNdWx0aVwiLCB0aGlzLCBwcm9wZXJ0aWVzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiV2hlbiBFbGVtZW50LnNldCgpIGlzIHBhc3NlZCBvbmUgYXJndW1lbnQsIGl0IG11c3QgYmUgYSBkaWN0aW9uYXJ5LlwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKDAgIT0gYXJndW1lbnRzLmxlbmd0aCAlIDIpIHtcbiAgICAgIHRocm93IEVycm9yKFwiV2hlbiBFbGVtZW50LnNldCgpIGlzIHBhc3NlZCBtdWx0aXBsZSBhcmd1bWVudHMsIHRoZXJlIG11c3QgYmUgYW4gZXZlbiBudW1iZXIgb2YgdGhlbS5cIik7XG4gICAgfVxuICAgIHJlc3VsdCA9IHRoaXM7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgIGtleSA9IGFyZ3VtZW50c1tpXSwgdmFsdWUgPSBhcmd1bWVudHNbaSArIDFdLCByZXN1bHQgPSBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkVsZW1lbnQuc2V0XCIsIHJlc3VsdCwga2V5LCB2YWx1ZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB0aGlzLmNhc3RJbnRlcm5hbChyZXN1bHQpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuRWxlbWVudC5wcm90b3R5cGUsIFwic2V0XCIsIGVlLkVsZW1lbnQucHJvdG90eXBlLnNldCk7XG5lZS5HZW9tZXRyeSA9IGZ1bmN0aW9uKGdlb0pzb24sIG9wdF9wcm9qLCBvcHRfZ2VvZGVzaWMsIG9wdF9ldmVuT2RkKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBlZS5HZW9tZXRyeSkpIHtcbiAgICByZXR1cm4gZWUuQ29tcHV0ZWRPYmplY3QuY29uc3RydWN0KGVlLkdlb21ldHJ5LCBhcmd1bWVudHMpO1xuICB9XG4gIGlmICghKFwidHlwZVwiIGluIGdlb0pzb24pKSB7XG4gICAgdmFyIGFyZ3MgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihlZS5HZW9tZXRyeSwgYXJndW1lbnRzKTtcbiAgICBnZW9Kc29uID0gYXJncy5nZW9Kc29uO1xuICAgIG9wdF9wcm9qID0gYXJncy5wcm9qO1xuICAgIG9wdF9nZW9kZXNpYyA9IGFyZ3MuZ2VvZGVzaWM7XG4gICAgb3B0X2V2ZW5PZGQgPSBhcmdzLmV2ZW5PZGQ7XG4gIH1cbiAgZWUuR2VvbWV0cnkuaW5pdGlhbGl6ZSgpO1xuICB2YXIgb3B0aW9ucyA9IG51bGwgIT0gb3B0X3Byb2ogfHwgbnVsbCAhPSBvcHRfZ2VvZGVzaWMgfHwgbnVsbCAhPSBvcHRfZXZlbk9kZDtcbiAgaWYgKGdlb0pzb24gaW5zdGFuY2VvZiBlZS5Db21wdXRlZE9iamVjdCAmJiAhKGdlb0pzb24gaW5zdGFuY2VvZiBlZS5HZW9tZXRyeSAmJiBnZW9Kc29uLnR5cGVfKSkge1xuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIlNldHRpbmcgdGhlIENSUywgZ2VvZGVzaWMsIG9yIGV2ZW5PZGQgZmxhZyBvbiBhIGNvbXB1dGVkIEdlb21ldHJ5IGlzIG5vdCBzdXBwb3J0ZWQuICBVc2UgR2VvbWV0cnkudHJhbnNmb3JtKCkuXCIpO1xuICAgIH1cbiAgICBlZS5Db21wdXRlZE9iamVjdC5jYWxsKHRoaXMsIGdlb0pzb24uZnVuYywgZ2VvSnNvbi5hcmdzLCBnZW9Kc29uLnZhck5hbWUpO1xuICB9IGVsc2Uge1xuICAgIGdlb0pzb24gaW5zdGFuY2VvZiBlZS5HZW9tZXRyeSAmJiAoZ2VvSnNvbiA9IGdlb0pzb24uZW5jb2RlKCkpO1xuICAgIGlmICghZWUuR2VvbWV0cnkuaXNWYWxpZEdlb21ldHJ5XyhnZW9Kc29uKSkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIEdlb0pTT04gZ2VvbWV0cnk6IFwiICsgSlNPTi5zdHJpbmdpZnkoZ2VvSnNvbikpO1xuICAgIH1cbiAgICBlZS5Db21wdXRlZE9iamVjdC5jYWxsKHRoaXMsIG51bGwsIG51bGwpO1xuICAgIHRoaXMudHlwZV8gPSBnZW9Kc29uLnR5cGU7XG4gICAgdGhpcy5jb29yZGluYXRlc18gPSBudWxsICE9IGdlb0pzb24uY29vcmRpbmF0ZXMgPyBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfdW5zYWZlQ2xvbmUoZ2VvSnNvbi5jb29yZGluYXRlcykgOiBudWxsO1xuICAgIHRoaXMuZ2VvbWV0cmllc18gPSBnZW9Kc29uLmdlb21ldHJpZXMgfHwgbnVsbDtcbiAgICBpZiAobnVsbCAhPSBvcHRfcHJvaikge1xuICAgICAgdGhpcy5wcm9qXyA9IG9wdF9wcm9qO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoXCJjcnNcIiBpbiBnZW9Kc29uKSB7XG4gICAgICAgIGlmIChnb29nLmlzT2JqZWN0KGdlb0pzb24uY3JzKSAmJiBcIm5hbWVcIiA9PSBnZW9Kc29uLmNycy50eXBlICYmIGdvb2cuaXNPYmplY3QoZ2VvSnNvbi5jcnMucHJvcGVydGllcykgJiYgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGdlb0pzb24uY3JzLnByb3BlcnRpZXMubmFtZSkge1xuICAgICAgICAgIHRoaXMucHJval8gPSBnZW9Kc29uLmNycy5wcm9wZXJ0aWVzLm5hbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIENSUyBkZWNsYXJhdGlvbiBpbiBHZW9KU09OOiBcIiArIChuZXcgZ29vZy5qc29uLlNlcmlhbGl6ZXIoKSkuc2VyaWFsaXplKGdlb0pzb24uY3JzKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5nZW9kZXNpY18gPSBvcHRfZ2VvZGVzaWM7XG4gICAgdm9pZCAwID09PSB0aGlzLmdlb2Rlc2ljXyAmJiBcImdlb2Rlc2ljXCIgaW4gZ2VvSnNvbiAmJiAodGhpcy5nZW9kZXNpY18gPSAhIWdlb0pzb24uZ2VvZGVzaWMpO1xuICAgIHRoaXMuZXZlbk9kZF8gPSBvcHRfZXZlbk9kZDtcbiAgICB2b2lkIDAgPT09IHRoaXMuZXZlbk9kZF8gJiYgXCJldmVuT2RkXCIgaW4gZ2VvSnNvbiAmJiAodGhpcy5ldmVuT2RkXyA9ICEhZ2VvSnNvbi5ldmVuT2RkKTtcbiAgfVxufTtcbmdvb2cuaW5oZXJpdHMoZWUuR2VvbWV0cnksIGVlLkNvbXB1dGVkT2JqZWN0KTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuR2VvbWV0cnlcIiwgZWUuR2VvbWV0cnkpO1xuZWUuR2VvbWV0cnkuaW5pdGlhbGl6ZWRfID0gITE7XG5lZS5HZW9tZXRyeS5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XG4gIGVlLkdlb21ldHJ5LmluaXRpYWxpemVkXyB8fCAoZWUuQXBpRnVuY3Rpb24uaW1wb3J0QXBpKGVlLkdlb21ldHJ5LCBcIkdlb21ldHJ5XCIsIFwiR2VvbWV0cnlcIiksIGVlLkdlb21ldHJ5LmluaXRpYWxpemVkXyA9ICEwKTtcbn07XG5lZS5HZW9tZXRyeS5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICBlZS5BcGlGdW5jdGlvbi5jbGVhckFwaShlZS5HZW9tZXRyeSk7XG4gIGVlLkdlb21ldHJ5LmluaXRpYWxpemVkXyA9ICExO1xufTtcbmVlLkdlb21ldHJ5LlBvaW50ID0gZnVuY3Rpb24oY29vcmRzLCBvcHRfcHJvaikge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgZWUuR2VvbWV0cnkuUG9pbnQpKSB7XG4gICAgcmV0dXJuIGVlLkdlb21ldHJ5LmNyZWF0ZUluc3RhbmNlXyhlZS5HZW9tZXRyeS5Qb2ludCwgYXJndW1lbnRzKTtcbiAgfVxuICB2YXIgaW5pdCA9IGVlLkdlb21ldHJ5LmNvbnN0cnVjdF8oZWUuR2VvbWV0cnkuUG9pbnQsIFwiUG9pbnRcIiwgMSwgYXJndW1lbnRzKTtcbiAgaWYgKCEoaW5pdCBpbnN0YW5jZW9mIGVlLkNvbXB1dGVkT2JqZWN0KSkge1xuICAgIHZhciB4eSA9IGluaXQuY29vcmRpbmF0ZXM7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHh5KSB8fCAyICE9IHh5Lmxlbmd0aCkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJUaGUgR2VvbWV0cnkuUG9pbnQgY29uc3RydWN0b3IgcmVxdWlyZXMgMiBjb29yZGluYXRlcy5cIik7XG4gICAgfVxuICB9XG4gIGVlLkdlb21ldHJ5LmNhbGwodGhpcywgaW5pdCk7XG59O1xuZ29vZy5pbmhlcml0cyhlZS5HZW9tZXRyeS5Qb2ludCwgZWUuR2VvbWV0cnkpO1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5HZW9tZXRyeSwgXCJQb2ludFwiLCBlZS5HZW9tZXRyeS5Qb2ludCk7XG5lZS5HZW9tZXRyeS5NdWx0aVBvaW50ID0gZnVuY3Rpb24oY29vcmRzLCBvcHRfcHJvaikge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgZWUuR2VvbWV0cnkuTXVsdGlQb2ludCkpIHtcbiAgICByZXR1cm4gZWUuR2VvbWV0cnkuY3JlYXRlSW5zdGFuY2VfKGVlLkdlb21ldHJ5Lk11bHRpUG9pbnQsIGFyZ3VtZW50cyk7XG4gIH1cbiAgZWUuR2VvbWV0cnkuY2FsbCh0aGlzLCBlZS5HZW9tZXRyeS5jb25zdHJ1Y3RfKGVlLkdlb21ldHJ5Lk11bHRpUG9pbnQsIFwiTXVsdGlQb2ludFwiLCAyLCBhcmd1bWVudHMpKTtcbn07XG5nb29nLmluaGVyaXRzKGVlLkdlb21ldHJ5Lk11bHRpUG9pbnQsIGVlLkdlb21ldHJ5KTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuR2VvbWV0cnksIFwiTXVsdGlQb2ludFwiLCBlZS5HZW9tZXRyeS5NdWx0aVBvaW50KTtcbmVlLkdlb21ldHJ5LlJlY3RhbmdsZSA9IGZ1bmN0aW9uKGNvb3Jkcywgb3B0X3Byb2osIG9wdF9nZW9kZXNpYywgb3B0X2V2ZW5PZGQpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGVlLkdlb21ldHJ5LlJlY3RhbmdsZSkpIHtcbiAgICByZXR1cm4gZWUuR2VvbWV0cnkuY3JlYXRlSW5zdGFuY2VfKGVlLkdlb21ldHJ5LlJlY3RhbmdsZSwgYXJndW1lbnRzKTtcbiAgfVxuICB2YXIgaW5pdCA9IGVlLkdlb21ldHJ5LmNvbnN0cnVjdF8oZWUuR2VvbWV0cnkuUmVjdGFuZ2xlLCBcIlJlY3RhbmdsZVwiLCAyLCBhcmd1bWVudHMpO1xuICBpZiAoIShpbml0IGluc3RhbmNlb2YgZWUuQ29tcHV0ZWRPYmplY3QpKSB7XG4gICAgdmFyIHh5ID0gaW5pdC5jb29yZGluYXRlcztcbiAgICBpZiAoMiAhPSB4eS5sZW5ndGgpIHtcbiAgICAgIHRocm93IEVycm9yKFwiVGhlIEdlb21ldHJ5LlJlY3RhbmdsZSBjb25zdHJ1Y3RvciByZXF1aXJlcyAyIHBvaW50cyBvciA0IGNvb3JkaW5hdGVzLlwiKTtcbiAgICB9XG4gICAgdmFyIHgxID0geHlbMF1bMF0sIHkxID0geHlbMF1bMV0sIHgyID0geHlbMV1bMF0sIHkyID0geHlbMV1bMV07XG4gICAgaW5pdC5jb29yZGluYXRlcyA9IFtbW3gxLCB5Ml0sIFt4MSwgeTFdLCBbeDIsIHkxXSwgW3gyLCB5Ml1dXTtcbiAgICBpbml0LnR5cGUgPSBcIlBvbHlnb25cIjtcbiAgfVxuICBlZS5HZW9tZXRyeS5jYWxsKHRoaXMsIGluaXQpO1xufTtcbmdvb2cuaW5oZXJpdHMoZWUuR2VvbWV0cnkuUmVjdGFuZ2xlLCBlZS5HZW9tZXRyeSk7XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkdlb21ldHJ5LCBcIlJlY3RhbmdsZVwiLCBlZS5HZW9tZXRyeS5SZWN0YW5nbGUpO1xuZWUuR2VvbWV0cnkuQkJveCA9IGZ1bmN0aW9uKHdlc3QsIHNvdXRoLCBlYXN0LCBub3J0aCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgZWUuR2VvbWV0cnkuQkJveCkpIHtcbiAgICByZXR1cm4gZWUuR2VvbWV0cnkuY3JlYXRlSW5zdGFuY2VfKGVlLkdlb21ldHJ5LkJCb3gsIGFyZ3VtZW50cyk7XG4gIH1cbiAgdmFyIGNvb3JkaW5hdGVzID0gW3dlc3QsIHNvdXRoLCBlYXN0LCBub3J0aF07XG4gIGlmIChlZS5HZW9tZXRyeS5oYXNTZXJ2ZXJWYWx1ZV8oY29vcmRpbmF0ZXMpKSB7XG4gICAgcmV0dXJuIChuZXcgZWUuQXBpRnVuY3Rpb24oXCJHZW9tZXRyeUNvbnN0cnVjdG9ycy5CQm94XCIpKS5hcHBseShjb29yZGluYXRlcyk7XG4gIH1cbiAgaWYgKCEoSW5maW5pdHkgPiB3ZXN0KSkge1xuICAgIHRocm93IEVycm9yKFwiR2VvbWV0cnkuQkJveDogd2VzdCBtdXN0IG5vdCBiZSBcIiArIHdlc3QpO1xuICB9XG4gIGlmICghKC1JbmZpbml0eSA8IGVhc3QpKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJHZW9tZXRyeS5CQm94OiBlYXN0IG11c3Qgbm90IGJlIFwiICsgZWFzdCk7XG4gIH1cbiAgaWYgKCEoOTAgPj0gc291dGgpKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJHZW9tZXRyeS5CQm94OiBzb3V0aCBtdXN0IGJlIGF0IG1vc3QgKzkwXFx1MDBiMCwgYnV0IHdhcyBcIiArIHNvdXRoICsgXCJcXHUwMGIwXCIpO1xuICB9XG4gIGlmICghKC05MCA8PSBub3J0aCkpIHtcbiAgICB0aHJvdyBFcnJvcihcIkdlb21ldHJ5LkJCb3g6IG5vcnRoIG11c3QgYmUgYXQgbGVhc3QgLTkwXFx1MDBiMCwgYnV0IHdhcyBcIiArIG5vcnRoICsgXCJcXHUwMGIwXCIpO1xuICB9XG4gIHNvdXRoID0gTWF0aC5tYXgoc291dGgsIC05MCk7XG4gIG5vcnRoID0gTWF0aC5taW4obm9ydGgsIDkwKTtcbiAgMzYwIDw9IGVhc3QgLSB3ZXN0ID8gKHdlc3QgPSAtMTgwLCBlYXN0ID0gMTgwKSA6ICh3ZXN0ID0gZWUuR2VvbWV0cnkuY2Fub25pY2FsaXplTG9uZ2l0dWRlXyh3ZXN0KSwgZWFzdCA9IGVlLkdlb21ldHJ5LmNhbm9uaWNhbGl6ZUxvbmdpdHVkZV8oZWFzdCksIGVhc3QgPCB3ZXN0ICYmIChlYXN0ICs9IDM2MCkpO1xuICBlZS5HZW9tZXRyeS5jYWxsKHRoaXMsIHt0eXBlOlwiUG9seWdvblwiLCBjb29yZGluYXRlczpbW1t3ZXN0LCBub3J0aF0sIFt3ZXN0LCBzb3V0aF0sIFtlYXN0LCBzb3V0aF0sIFtlYXN0LCBub3J0aF1dXSx9LCB2b2lkIDAsICExLCAhMCk7XG59O1xuZ29vZy5pbmhlcml0cyhlZS5HZW9tZXRyeS5CQm94LCBlZS5HZW9tZXRyeS5SZWN0YW5nbGUpO1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5HZW9tZXRyeSwgXCJCQm94XCIsIGVlLkdlb21ldHJ5LkJCb3gpO1xuZWUuR2VvbWV0cnkuY2Fub25pY2FsaXplTG9uZ2l0dWRlXyA9IGZ1bmN0aW9uKGxvbmdpdHVkZSkge1xuICBsb25naXR1ZGUgJT0gMzYwO1xuICAxODAgPCBsb25naXR1ZGUgPyBsb25naXR1ZGUgLT0gMzYwIDogLTE4MCA+IGxvbmdpdHVkZSAmJiAobG9uZ2l0dWRlICs9IDM2MCk7XG4gIHJldHVybiBsb25naXR1ZGU7XG59O1xuZWUuR2VvbWV0cnkuTGluZVN0cmluZyA9IGZ1bmN0aW9uKGNvb3Jkcywgb3B0X3Byb2osIG9wdF9nZW9kZXNpYywgb3B0X21heEVycm9yKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBlZS5HZW9tZXRyeS5MaW5lU3RyaW5nKSkge1xuICAgIHJldHVybiBlZS5HZW9tZXRyeS5jcmVhdGVJbnN0YW5jZV8oZWUuR2VvbWV0cnkuTGluZVN0cmluZywgYXJndW1lbnRzKTtcbiAgfVxuICBlZS5HZW9tZXRyeS5jYWxsKHRoaXMsIGVlLkdlb21ldHJ5LmNvbnN0cnVjdF8oZWUuR2VvbWV0cnkuTGluZVN0cmluZywgXCJMaW5lU3RyaW5nXCIsIDIsIGFyZ3VtZW50cykpO1xufTtcbmdvb2cuaW5oZXJpdHMoZWUuR2VvbWV0cnkuTGluZVN0cmluZywgZWUuR2VvbWV0cnkpO1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5HZW9tZXRyeSwgXCJMaW5lU3RyaW5nXCIsIGVlLkdlb21ldHJ5LkxpbmVTdHJpbmcpO1xuZWUuR2VvbWV0cnkuTGluZWFyUmluZyA9IGZ1bmN0aW9uKGNvb3Jkcywgb3B0X3Byb2osIG9wdF9nZW9kZXNpYywgb3B0X21heEVycm9yKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBlZS5HZW9tZXRyeS5MaW5lYXJSaW5nKSkge1xuICAgIHJldHVybiBlZS5HZW9tZXRyeS5jcmVhdGVJbnN0YW5jZV8oZWUuR2VvbWV0cnkuTGluZWFyUmluZywgYXJndW1lbnRzKTtcbiAgfVxuICBlZS5HZW9tZXRyeS5jYWxsKHRoaXMsIGVlLkdlb21ldHJ5LmNvbnN0cnVjdF8oZWUuR2VvbWV0cnkuTGluZWFyUmluZywgXCJMaW5lYXJSaW5nXCIsIDIsIGFyZ3VtZW50cykpO1xufTtcbmdvb2cuaW5oZXJpdHMoZWUuR2VvbWV0cnkuTGluZWFyUmluZywgZWUuR2VvbWV0cnkpO1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5HZW9tZXRyeSwgXCJMaW5lYXJSaW5nXCIsIGVlLkdlb21ldHJ5LkxpbmVhclJpbmcpO1xuZWUuR2VvbWV0cnkuTXVsdGlMaW5lU3RyaW5nID0gZnVuY3Rpb24oY29vcmRzLCBvcHRfcHJvaiwgb3B0X2dlb2Rlc2ljLCBvcHRfbWF4RXJyb3IpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGVlLkdlb21ldHJ5Lk11bHRpTGluZVN0cmluZykpIHtcbiAgICByZXR1cm4gZWUuR2VvbWV0cnkuY3JlYXRlSW5zdGFuY2VfKGVlLkdlb21ldHJ5Lk11bHRpTGluZVN0cmluZywgYXJndW1lbnRzKTtcbiAgfVxuICBlZS5HZW9tZXRyeS5jYWxsKHRoaXMsIGVlLkdlb21ldHJ5LmNvbnN0cnVjdF8oZWUuR2VvbWV0cnkuTXVsdGlMaW5lU3RyaW5nLCBcIk11bHRpTGluZVN0cmluZ1wiLCAzLCBhcmd1bWVudHMpKTtcbn07XG5nb29nLmluaGVyaXRzKGVlLkdlb21ldHJ5Lk11bHRpTGluZVN0cmluZywgZWUuR2VvbWV0cnkpO1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5HZW9tZXRyeSwgXCJNdWx0aUxpbmVTdHJpbmdcIiwgZWUuR2VvbWV0cnkuTXVsdGlMaW5lU3RyaW5nKTtcbmVlLkdlb21ldHJ5LlBvbHlnb24gPSBmdW5jdGlvbihjb29yZHMsIG9wdF9wcm9qLCBvcHRfZ2VvZGVzaWMsIG9wdF9tYXhFcnJvciwgb3B0X2V2ZW5PZGQpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGVlLkdlb21ldHJ5LlBvbHlnb24pKSB7XG4gICAgcmV0dXJuIGVlLkdlb21ldHJ5LmNyZWF0ZUluc3RhbmNlXyhlZS5HZW9tZXRyeS5Qb2x5Z29uLCBhcmd1bWVudHMpO1xuICB9XG4gIGVlLkdlb21ldHJ5LmNhbGwodGhpcywgZWUuR2VvbWV0cnkuY29uc3RydWN0XyhlZS5HZW9tZXRyeS5Qb2x5Z29uLCBcIlBvbHlnb25cIiwgMywgYXJndW1lbnRzKSk7XG59O1xuZ29vZy5pbmhlcml0cyhlZS5HZW9tZXRyeS5Qb2x5Z29uLCBlZS5HZW9tZXRyeSk7XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkdlb21ldHJ5LCBcIlBvbHlnb25cIiwgZWUuR2VvbWV0cnkuUG9seWdvbik7XG5lZS5HZW9tZXRyeS5NdWx0aVBvbHlnb24gPSBmdW5jdGlvbihjb29yZHMsIG9wdF9wcm9qLCBvcHRfZ2VvZGVzaWMsIG9wdF9tYXhFcnJvciwgb3B0X2V2ZW5PZGQpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGVlLkdlb21ldHJ5Lk11bHRpUG9seWdvbikpIHtcbiAgICByZXR1cm4gZWUuR2VvbWV0cnkuY3JlYXRlSW5zdGFuY2VfKGVlLkdlb21ldHJ5Lk11bHRpUG9seWdvbiwgYXJndW1lbnRzKTtcbiAgfVxuICBlZS5HZW9tZXRyeS5jYWxsKHRoaXMsIGVlLkdlb21ldHJ5LmNvbnN0cnVjdF8oZWUuR2VvbWV0cnkuTXVsdGlQb2x5Z29uLCBcIk11bHRpUG9seWdvblwiLCA0LCBhcmd1bWVudHMpKTtcbn07XG5nb29nLmluaGVyaXRzKGVlLkdlb21ldHJ5Lk11bHRpUG9seWdvbiwgZWUuR2VvbWV0cnkpO1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5HZW9tZXRyeSwgXCJNdWx0aVBvbHlnb25cIiwgZWUuR2VvbWV0cnkuTXVsdGlQb2x5Z29uKTtcbmVlLkdlb21ldHJ5LnByb3RvdHlwZS5lbmNvZGUgPSBmdW5jdGlvbihvcHRfZW5jb2Rlcikge1xuICBpZiAoIXRoaXMudHlwZV8pIHtcbiAgICBpZiAoIW9wdF9lbmNvZGVyKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIk11c3Qgc3BlY2lmeSBhbiBlbmNvZGUgZnVuY3Rpb24gd2hlbiBlbmNvZGluZyBhIGNvbXB1dGVkIGdlb21ldHJ5LlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGVlLkNvbXB1dGVkT2JqZWN0LnByb3RvdHlwZS5lbmNvZGUuY2FsbCh0aGlzLCBvcHRfZW5jb2Rlcik7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IHt0eXBlOnRoaXMudHlwZV99O1xuICBcIkdlb21ldHJ5Q29sbGVjdGlvblwiID09IHRoaXMudHlwZV8gPyByZXN1bHQuZ2VvbWV0cmllcyA9IHRoaXMuZ2VvbWV0cmllc18gOiByZXN1bHQuY29vcmRpbmF0ZXMgPSB0aGlzLmNvb3JkaW5hdGVzXztcbiAgbnVsbCAhPSB0aGlzLnByb2pfICYmIChyZXN1bHQuY3JzID0ge3R5cGU6XCJuYW1lXCIsIHByb3BlcnRpZXM6e25hbWU6dGhpcy5wcm9qX319KTtcbiAgbnVsbCAhPSB0aGlzLmdlb2Rlc2ljXyAmJiAocmVzdWx0Lmdlb2Rlc2ljID0gdGhpcy5nZW9kZXNpY18pO1xuICBudWxsICE9IHRoaXMuZXZlbk9kZF8gJiYgKHJlc3VsdC5ldmVuT2RkID0gdGhpcy5ldmVuT2RkXyk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuZWUuR2VvbWV0cnkucHJvdG90eXBlLnRvR2VvSlNPTiA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5mdW5jKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJDYW4ndCBjb252ZXJ0IGEgY29tcHV0ZWQgR2VvbWV0cnkgdG8gR2VvSlNPTi4gVXNlIGV2YWx1YXRlKCkgaW5zdGVhZC5cIik7XG4gIH1cbiAgcmV0dXJuIHRoaXMuZW5jb2RlKCk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5HZW9tZXRyeS5wcm90b3R5cGUsIFwidG9HZW9KU09OXCIsIGVlLkdlb21ldHJ5LnByb3RvdHlwZS50b0dlb0pTT04pO1xuZWUuR2VvbWV0cnkucHJvdG90eXBlLnRvR2VvSlNPTlN0cmluZyA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5mdW5jKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJDYW4ndCBjb252ZXJ0IGEgY29tcHV0ZWQgR2VvbWV0cnkgdG8gR2VvSlNPTi4gVXNlIGV2YWx1YXRlKCkgaW5zdGVhZC5cIik7XG4gIH1cbiAgcmV0dXJuIChuZXcgZ29vZy5qc29uLlNlcmlhbGl6ZXIoKSkuc2VyaWFsaXplKHRoaXMudG9HZW9KU09OKCkpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuR2VvbWV0cnkucHJvdG90eXBlLCBcInRvR2VvSlNPTlN0cmluZ1wiLCBlZS5HZW9tZXRyeS5wcm90b3R5cGUudG9HZW9KU09OU3RyaW5nKTtcbmVlLkdlb21ldHJ5LnByb3RvdHlwZS5zZXJpYWxpemUgPSBmdW5jdGlvbihsZWdhY3kpIHtcbiAgcmV0dXJuICh2b2lkIDAgPT09IGxlZ2FjeSA/IDAgOiBsZWdhY3kpID8gZWUuU2VyaWFsaXplci50b0pTT04odGhpcykgOiBlZS5TZXJpYWxpemVyLnRvQ2xvdWRBcGlKU09OKHRoaXMpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuR2VvbWV0cnkucHJvdG90eXBlLCBcInNlcmlhbGl6ZVwiLCBlZS5HZW9tZXRyeS5wcm90b3R5cGUuc2VyaWFsaXplKTtcbmVlLkdlb21ldHJ5LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gXCJlZS5HZW9tZXRyeShcIiArIHRoaXMudG9HZW9KU09OU3RyaW5nKCkgKyBcIilcIjtcbn07XG5lZS5HZW9tZXRyeS5wcm90b3R5cGUuZW5jb2RlQ2xvdWRWYWx1ZSA9IGZ1bmN0aW9uKHNlcmlhbGl6ZXIpIHtcbiAgaWYgKCF0aGlzLnR5cGVfKSB7XG4gICAgaWYgKCFzZXJpYWxpemVyKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIk11c3Qgc3BlY2lmeSBhIHNlcmlhbGl6ZXIgd2hlbiBlbmNvZGluZyBhIGNvbXB1dGVkIGdlb21ldHJ5LlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGVlLkNvbXB1dGVkT2JqZWN0LnByb3RvdHlwZS5lbmNvZGVDbG91ZFZhbHVlLmNhbGwodGhpcywgc2VyaWFsaXplcik7XG4gIH1cbiAgdmFyIGFyZ3MgPSB7fSwgZnVuYyA9IFwiXCI7XG4gIFwiR2VvbWV0cnlDb2xsZWN0aW9uXCIgPT09IHRoaXMudHlwZV8gPyAoYXJncy5nZW9tZXRyaWVzID0gdGhpcy5nZW9tZXRyaWVzXy5tYXAoZnVuY3Rpb24oZ2VvbWV0cnkpIHtcbiAgICByZXR1cm4gbmV3IGVlLkdlb21ldHJ5KGdlb21ldHJ5KTtcbiAgfSksIGZ1bmMgPSBcIkdlb21ldHJ5Q29uc3RydWN0b3JzLk11bHRpR2VvbWV0cnlcIikgOiAoYXJncy5jb29yZGluYXRlcyA9IHRoaXMuY29vcmRpbmF0ZXNfLCBmdW5jID0gXCJHZW9tZXRyeUNvbnN0cnVjdG9ycy5cIiArIHRoaXMudHlwZV8pO1xuICBudWxsICE9IHRoaXMucHJval8gJiYgKGFyZ3MuY3JzID0gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHRoaXMucHJval8gPyAobmV3IGVlLkFwaUZ1bmN0aW9uKFwiUHJvamVjdGlvblwiKSkuY2FsbCh0aGlzLnByb2pfKSA6IHRoaXMucHJval8pO1xuICB2YXIgYWNjZXB0c0dlb2Rlc2ljQXJnID0gXCJQb2ludFwiICE9PSB0aGlzLnR5cGVfICYmIFwiTXVsdGlQb2ludFwiICE9PSB0aGlzLnR5cGVfO1xuICBudWxsICE9IHRoaXMuZ2VvZGVzaWNfICYmIGFjY2VwdHNHZW9kZXNpY0FyZyAmJiAoYXJncy5nZW9kZXNpYyA9IHRoaXMuZ2VvZGVzaWNfKTtcbiAgbnVsbCAhPSB0aGlzLmV2ZW5PZGRfICYmIChhcmdzLmV2ZW5PZGQgPSB0aGlzLmV2ZW5PZGRfKTtcbiAgcmV0dXJuIChuZXcgZWUuQXBpRnVuY3Rpb24oZnVuYykpLmFwcGx5KGFyZ3MpLmVuY29kZUNsb3VkVmFsdWUoc2VyaWFsaXplcik7XG59O1xuZWUuR2VvbWV0cnkuaXNWYWxpZEdlb21ldHJ5XyA9IGZ1bmN0aW9uKGdlb21ldHJ5KSB7XG4gIHZhciB0eXBlID0gZ2VvbWV0cnkudHlwZTtcbiAgaWYgKFwiR2VvbWV0cnlDb2xsZWN0aW9uXCIgPT0gdHlwZSkge1xuICAgIHZhciBnZW9tZXRyaWVzID0gZ2VvbWV0cnkuZ2VvbWV0cmllcztcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZ2VvbWV0cmllcykpIHtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBnZW9tZXRyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIWVlLkdlb21ldHJ5LmlzVmFsaWRHZW9tZXRyeV8oZ2VvbWV0cmllc1tpXSkpIHtcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gITA7XG4gIH1cbiAgdmFyIGNvb3JkcyA9IGdlb21ldHJ5LmNvb3JkaW5hdGVzLCBuZXN0aW5nID0gZWUuR2VvbWV0cnkuaXNWYWxpZENvb3JkaW5hdGVzXyhjb29yZHMpO1xuICByZXR1cm4gXCJQb2ludFwiID09IHR5cGUgJiYgMSA9PSBuZXN0aW5nIHx8IFwiTXVsdGlQb2ludFwiID09IHR5cGUgJiYgKDIgPT0gbmVzdGluZyB8fCAwID09IGNvb3Jkcy5sZW5ndGgpIHx8IFwiTGluZVN0cmluZ1wiID09IHR5cGUgJiYgMiA9PSBuZXN0aW5nIHx8IFwiTGluZWFyUmluZ1wiID09IHR5cGUgJiYgMiA9PSBuZXN0aW5nIHx8IFwiTXVsdGlMaW5lU3RyaW5nXCIgPT0gdHlwZSAmJiAoMyA9PSBuZXN0aW5nIHx8IDAgPT0gY29vcmRzLmxlbmd0aCkgfHwgXCJQb2x5Z29uXCIgPT0gdHlwZSAmJiAzID09IG5lc3RpbmcgfHwgXCJNdWx0aVBvbHlnb25cIiA9PSB0eXBlICYmICg0ID09IG5lc3RpbmcgfHwgMCA9PSBjb29yZHMubGVuZ3RoKTtcbn07XG5lZS5HZW9tZXRyeS5pc1ZhbGlkQ29vcmRpbmF0ZXNfID0gZnVuY3Rpb24oc2hhcGUpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KHNoYXBlKSkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShzaGFwZVswXSkpIHtcbiAgICBmb3IgKHZhciBjb3VudCA9IGVlLkdlb21ldHJ5LmlzVmFsaWRDb29yZGluYXRlc18oc2hhcGVbMF0pLCBpID0gMTsgaSA8IHNoYXBlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoZWUuR2VvbWV0cnkuaXNWYWxpZENvb3JkaW5hdGVzXyhzaGFwZVtpXSkgIT0gY291bnQpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY291bnQgKyAxO1xuICB9XG4gIGZvciAoaSA9IDA7IGkgPCBzaGFwZS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChcIm51bWJlclwiICE9PSB0eXBlb2Ygc2hhcGVbaV0pIHtcbiAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIDAgPT0gc2hhcGUubGVuZ3RoICUgMiA/IDEgOiAtMTtcbn07XG5lZS5HZW9tZXRyeS5jb29yZGluYXRlc1RvTGluZV8gPSBmdW5jdGlvbihjb29yZGluYXRlcykge1xuICBpZiAoXCJudW1iZXJcIiAhPT0gdHlwZW9mIGNvb3JkaW5hdGVzWzBdIHx8IDIgPT0gY29vcmRpbmF0ZXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGNvb3JkaW5hdGVzO1xuICB9XG4gIGlmICgwICE9IGNvb3JkaW5hdGVzLmxlbmd0aCAlIDIpIHtcbiAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgbnVtYmVyIG9mIGNvb3JkaW5hdGVzOiBcIiArIGNvb3JkaW5hdGVzLmxlbmd0aCk7XG4gIH1cbiAgZm9yICh2YXIgbGluZSA9IFtdLCBpID0gMDsgaSA8IGNvb3JkaW5hdGVzLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgbGluZS5wdXNoKFtjb29yZGluYXRlc1tpXSwgY29vcmRpbmF0ZXNbaSArIDFdXSk7XG4gIH1cbiAgcmV0dXJuIGxpbmU7XG59O1xuZWUuR2VvbWV0cnkuY29uc3RydWN0XyA9IGZ1bmN0aW9uKGpzQ29uc3RydWN0b3JGbiwgYXBpQ29uc3RydWN0b3JOYW1lLCBkZXB0aCwgb3JpZ2luYWxBcmdzKSB7XG4gIHZhciBlZUFyZ3MgPSBlZS5HZW9tZXRyeS5nZXRFZUFwaUFyZ3NfKGpzQ29uc3RydWN0b3JGbiwgb3JpZ2luYWxBcmdzKTtcbiAgaWYgKGVlLkdlb21ldHJ5Lmhhc1NlcnZlclZhbHVlXyhlZUFyZ3MuY29vcmRpbmF0ZXMpIHx8IG51bGwgIT0gZWVBcmdzLmNycyB8fCBudWxsICE9IGVlQXJncy5tYXhFcnJvcikge1xuICAgIHJldHVybiAobmV3IGVlLkFwaUZ1bmN0aW9uKFwiR2VvbWV0cnlDb25zdHJ1Y3RvcnMuXCIgKyBhcGlDb25zdHJ1Y3Rvck5hbWUpKS5hcHBseShlZUFyZ3MpO1xuICB9XG4gIGVlQXJncy50eXBlID0gYXBpQ29uc3RydWN0b3JOYW1lO1xuICBlZUFyZ3MuY29vcmRpbmF0ZXMgPSBlZS5HZW9tZXRyeS5maXhEZXB0aF8oZGVwdGgsIGVlQXJncy5jb29yZGluYXRlcyk7XG4gIHZhciBpc1BvbHlnb24gPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb250YWlucyhbXCJQb2x5Z29uXCIsIFwiUmVjdGFuZ2xlXCIsIFwiTXVsdGlQb2x5Z29uXCJdLCBhcGlDb25zdHJ1Y3Rvck5hbWUpO1xuICBpc1BvbHlnb24gJiYgbnVsbCA9PSBlZUFyZ3MuZXZlbk9kZCAmJiAoZWVBcmdzLmV2ZW5PZGQgPSAhMCk7XG4gIGlmIChpc1BvbHlnb24gJiYgITEgPT09IGVlQXJncy5nZW9kZXNpYyAmJiAhMSA9PT0gZWVBcmdzLmV2ZW5PZGQpIHtcbiAgICB0aHJvdyBFcnJvcihcIlBsYW5hciBpbnRlcmlvcnMgbXVzdCBiZSBldmVuL29kZC5cIik7XG4gIH1cbiAgcmV0dXJuIGVlQXJncztcbn07XG5lZS5HZW9tZXRyeS5nZXRFZUFwaUFyZ3NfID0gZnVuY3Rpb24oanNDb25zdHJ1Y3RvckZuLCBvcmlnaW5hbEFyZ3MpIHtcbiAgaWYgKG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2V2ZXJ5KG9yaWdpbmFsQXJncywgZWUuVHlwZXMuaXNOdW1iZXIpKSB7XG4gICAgcmV0dXJuIHtjb29yZGluYXRlczptb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV90b0FycmF5KG9yaWdpbmFsQXJncyl9O1xuICB9XG4gIHZhciBhcmdzID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24oanNDb25zdHJ1Y3RvckZuLCBvcmlnaW5hbEFyZ3MpO1xuICBhcmdzLmNvb3JkaW5hdGVzID0gYXJncy5jb29yZHM7XG4gIGRlbGV0ZSBhcmdzLmNvb3JkcztcbiAgYXJncy5jcnMgPSBhcmdzLnByb2o7XG4gIGRlbGV0ZSBhcmdzLnByb2o7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZmlsdGVyKGFyZ3MsIGZ1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4gbnVsbCAhPSB4O1xuICB9KTtcbn07XG5lZS5HZW9tZXRyeS5oYXNTZXJ2ZXJWYWx1ZV8gPSBmdW5jdGlvbihjb29yZGluYXRlcykge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShjb29yZGluYXRlcykgPyBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zb21lKGNvb3JkaW5hdGVzLCBlZS5HZW9tZXRyeS5oYXNTZXJ2ZXJWYWx1ZV8pIDogY29vcmRpbmF0ZXMgaW5zdGFuY2VvZiBlZS5Db21wdXRlZE9iamVjdDtcbn07XG5lZS5HZW9tZXRyeS5maXhEZXB0aF8gPSBmdW5jdGlvbihkZXB0aCwgY29vcmRzKSB7XG4gIGlmICgxID4gZGVwdGggfHwgNCA8IGRlcHRoKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJVbmV4cGVjdGVkIG5lc3RpbmcgbGV2ZWwuXCIpO1xuICB9XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2V2ZXJ5KGNvb3JkcywgZnVuY3Rpb24oeCkge1xuICAgIHJldHVybiBcIm51bWJlclwiID09PSB0eXBlb2YgeDtcbiAgfSkgJiYgKGNvb3JkcyA9IGVlLkdlb21ldHJ5LmNvb3JkaW5hdGVzVG9MaW5lXyhjb29yZHMpKTtcbiAgZm9yICh2YXIgaXRlbSA9IGNvb3JkcywgY291bnQgPSAwOyBBcnJheS5pc0FycmF5KGl0ZW0pOykge1xuICAgIGl0ZW0gPSBpdGVtWzBdLCBjb3VudCsrO1xuICB9XG4gIGZvciAoOyBjb3VudCA8IGRlcHRoOykge1xuICAgIGNvb3JkcyA9IFtjb29yZHNdLCBjb3VudCsrO1xuICB9XG4gIGlmIChlZS5HZW9tZXRyeS5pc1ZhbGlkQ29vcmRpbmF0ZXNfKGNvb3JkcykgIT0gZGVwdGgpIHtcbiAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgZ2VvbWV0cnlcIik7XG4gIH1cbiAgZm9yIChpdGVtID0gY29vcmRzOyBBcnJheS5pc0FycmF5KGl0ZW0pICYmIDEgPT0gaXRlbS5sZW5ndGg7KSB7XG4gICAgaXRlbSA9IGl0ZW1bMF07XG4gIH1cbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoaXRlbSkgJiYgMCA9PSBpdGVtLmxlbmd0aCA/IFtdIDogY29vcmRzO1xufTtcbmVlLkdlb21ldHJ5LmNyZWF0ZUluc3RhbmNlXyA9IGZ1bmN0aW9uKGtsYXNzLCBhcmdzKSB7XG4gIHZhciBmID0gZnVuY3Rpb24oKSB7XG4gIH07XG4gIGYucHJvdG90eXBlID0ga2xhc3MucHJvdG90eXBlO1xuICB2YXIgaW5zdGFuY2UgPSBuZXcgZigpLCByZXN1bHQgPSBrbGFzcy5hcHBseShpbnN0YW5jZSwgYXJncyk7XG4gIHJldHVybiB2b2lkIDAgIT09IHJlc3VsdCA/IHJlc3VsdCA6IGluc3RhbmNlO1xufTtcbmVlLkdlb21ldHJ5LnByb3RvdHlwZS5uYW1lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBcIkdlb21ldHJ5XCI7XG59O1xuZWUuRmlsdGVyID0gZnVuY3Rpb24ob3B0X2ZpbHRlcikge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgZWUuRmlsdGVyKSkge1xuICAgIHJldHVybiBlZS5Db21wdXRlZE9iamVjdC5jb25zdHJ1Y3QoZWUuRmlsdGVyLCBhcmd1bWVudHMpO1xuICB9XG4gIGlmIChvcHRfZmlsdGVyIGluc3RhbmNlb2YgZWUuRmlsdGVyKSB7XG4gICAgcmV0dXJuIG9wdF9maWx0ZXI7XG4gIH1cbiAgZWUuRmlsdGVyLmluaXRpYWxpemUoKTtcbiAgaWYgKEFycmF5LmlzQXJyYXkob3B0X2ZpbHRlcikpIHtcbiAgICBpZiAoMCA9PSBvcHRfZmlsdGVyLmxlbmd0aCkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJFbXB0eSBsaXN0IHNwZWNpZmllZCBmb3IgZWUuRmlsdGVyKCkuXCIpO1xuICAgIH1cbiAgICBpZiAoMSA9PSBvcHRfZmlsdGVyLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIG5ldyBlZS5GaWx0ZXIob3B0X2ZpbHRlclswXSk7XG4gICAgfVxuICAgIGVlLkNvbXB1dGVkT2JqZWN0LmNhbGwodGhpcywgbmV3IGVlLkFwaUZ1bmN0aW9uKFwiRmlsdGVyLmFuZFwiKSwge2ZpbHRlcnM6b3B0X2ZpbHRlcn0pO1xuICAgIHRoaXMuZmlsdGVyXyA9IG9wdF9maWx0ZXI7XG4gIH0gZWxzZSB7XG4gICAgaWYgKG9wdF9maWx0ZXIgaW5zdGFuY2VvZiBlZS5Db21wdXRlZE9iamVjdCkge1xuICAgICAgZWUuQ29tcHV0ZWRPYmplY3QuY2FsbCh0aGlzLCBvcHRfZmlsdGVyLmZ1bmMsIG9wdF9maWx0ZXIuYXJncywgb3B0X2ZpbHRlci52YXJOYW1lKSwgdGhpcy5maWx0ZXJfID0gW29wdF9maWx0ZXJdO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodm9pZCAwID09PSBvcHRfZmlsdGVyKSB7XG4gICAgICAgIGVlLkNvbXB1dGVkT2JqZWN0LmNhbGwodGhpcywgbnVsbCwgbnVsbCksIHRoaXMuZmlsdGVyXyA9IFtdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IHNwZWNpZmllZCBmb3IgZWUuRmlsdGVyKCk6IFwiICsgb3B0X2ZpbHRlcik7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuZ29vZy5pbmhlcml0cyhlZS5GaWx0ZXIsIGVlLkNvbXB1dGVkT2JqZWN0KTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuRmlsdGVyXCIsIGVlLkZpbHRlcik7XG5lZS5GaWx0ZXIuaW5pdGlhbGl6ZWRfID0gITE7XG5lZS5GaWx0ZXIuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge1xuICBlZS5GaWx0ZXIuaW5pdGlhbGl6ZWRfIHx8IChlZS5BcGlGdW5jdGlvbi5pbXBvcnRBcGkoZWUuRmlsdGVyLCBcIkZpbHRlclwiLCBcIkZpbHRlclwiKSwgZWUuRmlsdGVyLmluaXRpYWxpemVkXyA9ICEwKTtcbn07XG5lZS5GaWx0ZXIucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgZWUuQXBpRnVuY3Rpb24uY2xlYXJBcGkoZWUuRmlsdGVyKTtcbiAgZWUuRmlsdGVyLmluaXRpYWxpemVkXyA9ICExO1xufTtcbmVlLkZpbHRlci5mdW5jdGlvbk5hbWVzXyA9IHtlcXVhbHM6XCJlcXVhbHNcIiwgbGVzc190aGFuOlwibGVzc1RoYW5cIiwgZ3JlYXRlcl90aGFuOlwiZ3JlYXRlclRoYW5cIiwgY29udGFpbnM6XCJzdHJpbmdDb250YWluc1wiLCBzdGFydHNfd2l0aDpcInN0cmluZ1N0YXJ0c1dpdGhcIiwgZW5kc193aXRoOlwic3RyaW5nRW5kc1dpdGhcIn07XG5lZS5GaWx0ZXIucHJvdG90eXBlLmFwcGVuZF8gPSBmdW5jdGlvbihuZXdGaWx0ZXIpIHtcbiAgdmFyIHByZXYgPSB0aGlzLmZpbHRlcl8uc2xpY2UoMCk7XG4gIG5ld0ZpbHRlciBpbnN0YW5jZW9mIGVlLkZpbHRlciA/IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2V4dGVuZChwcmV2LCBuZXdGaWx0ZXIuZmlsdGVyXykgOiBuZXdGaWx0ZXIgaW5zdGFuY2VvZiBBcnJheSA/IG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2V4dGVuZChwcmV2LCBuZXdGaWx0ZXIpIDogcHJldi5wdXNoKG5ld0ZpbHRlcik7XG4gIHJldHVybiBuZXcgZWUuRmlsdGVyKHByZXYpO1xufTtcbmVlLkZpbHRlci5wcm90b3R5cGUubm90ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkZpbHRlci5ub3RcIiwgdGhpcyk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5GaWx0ZXIucHJvdG90eXBlLCBcIm5vdFwiLCBlZS5GaWx0ZXIucHJvdG90eXBlLm5vdCk7XG5lZS5GaWx0ZXIuZXEgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICB2YXIgYXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkZpbHRlci5lcSwgYXJndW1lbnRzKTtcbiAgcmV0dXJuIGVlLkFwaUZ1bmN0aW9uLl9jYWxsKFwiRmlsdGVyLmVxdWFsc1wiLCBhcmdzLm5hbWUsIGFyZ3MudmFsdWUpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuRmlsdGVyLCBcImVxXCIsIGVlLkZpbHRlci5lcSk7XG5lZS5GaWx0ZXIubmVxID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdmFyIGFyZ3MgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihlZS5GaWx0ZXIubmVxLCBhcmd1bWVudHMpO1xuICByZXR1cm4gZWUuRmlsdGVyLmVxKGFyZ3MubmFtZSwgYXJncy52YWx1ZSkubm90KCk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5GaWx0ZXIsIFwibmVxXCIsIGVlLkZpbHRlci5uZXEpO1xuZWUuRmlsdGVyLmx0ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdmFyIGFyZ3MgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihlZS5GaWx0ZXIubHQsIGFyZ3VtZW50cyk7XG4gIHJldHVybiBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkZpbHRlci5sZXNzVGhhblwiLCBhcmdzLm5hbWUsIGFyZ3MudmFsdWUpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuRmlsdGVyLCBcImx0XCIsIGVlLkZpbHRlci5sdCk7XG5lZS5GaWx0ZXIuZ3RlID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdmFyIGFyZ3MgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihlZS5GaWx0ZXIuZ3RlLCBhcmd1bWVudHMpO1xuICByZXR1cm4gZWUuRmlsdGVyLmx0KGFyZ3MubmFtZSwgYXJncy52YWx1ZSkubm90KCk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5GaWx0ZXIsIFwiZ3RlXCIsIGVlLkZpbHRlci5ndGUpO1xuZWUuRmlsdGVyLmd0ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdmFyIGFyZ3MgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihlZS5GaWx0ZXIuZ3QsIGFyZ3VtZW50cyk7XG4gIHJldHVybiBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkZpbHRlci5ncmVhdGVyVGhhblwiLCBhcmdzLm5hbWUsIGFyZ3MudmFsdWUpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuRmlsdGVyLCBcImd0XCIsIGVlLkZpbHRlci5ndCk7XG5lZS5GaWx0ZXIubHRlID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdmFyIGFyZ3MgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihlZS5GaWx0ZXIubHRlLCBhcmd1bWVudHMpO1xuICByZXR1cm4gZWUuRmlsdGVyLmd0KGFyZ3MubmFtZSwgYXJncy52YWx1ZSkubm90KCk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5GaWx0ZXIsIFwibHRlXCIsIGVlLkZpbHRlci5sdGUpO1xuZWUuRmlsdGVyLmFuZCA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgcmV0dXJuIGVlLkFwaUZ1bmN0aW9uLl9jYWxsKFwiRmlsdGVyLmFuZFwiLCBhcmdzKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkZpbHRlciwgXCJhbmRcIiwgZWUuRmlsdGVyLmFuZCk7XG5lZS5GaWx0ZXIub3IgPSBmdW5jdGlvbih2YXJfYXJncykge1xuICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7XG4gIHJldHVybiBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkZpbHRlci5vclwiLCBhcmdzKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkZpbHRlciwgXCJvclwiLCBlZS5GaWx0ZXIub3IpO1xuZWUuRmlsdGVyLmRhdGUgPSBmdW5jdGlvbihzdGFydCwgb3B0X2VuZCkge1xuICB2YXIgYXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkZpbHRlci5kYXRlLCBhcmd1bWVudHMpLCByYW5nZSA9IGVlLkFwaUZ1bmN0aW9uLl9jYWxsKFwiRGF0ZVJhbmdlXCIsIGFyZ3Muc3RhcnQsIGFyZ3MuZW5kKTtcbiAgcmV0dXJuIGVlLkFwaUZ1bmN0aW9uLl9hcHBseShcIkZpbHRlci5kYXRlUmFuZ2VDb250YWluc1wiLCB7bGVmdFZhbHVlOnJhbmdlLCByaWdodEZpZWxkOlwic3lzdGVtOnRpbWVfc3RhcnRcIn0pO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuRmlsdGVyLCBcImRhdGVcIiwgZWUuRmlsdGVyLmRhdGUpO1xuZWUuRmlsdGVyLmluTGlzdCA9IGZ1bmN0aW9uKG9wdF9sZWZ0RmllbGQsIG9wdF9yaWdodFZhbHVlLCBvcHRfcmlnaHRGaWVsZCwgb3B0X2xlZnRWYWx1ZSkge1xuICB2YXIgYXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkZpbHRlci5pbkxpc3QsIGFyZ3VtZW50cyk7XG4gIHJldHVybiBlZS5BcGlGdW5jdGlvbi5fYXBwbHkoXCJGaWx0ZXIubGlzdENvbnRhaW5zXCIsIHtsZWZ0RmllbGQ6YXJncy5yaWdodEZpZWxkLCByaWdodFZhbHVlOmFyZ3MubGVmdFZhbHVlLCByaWdodEZpZWxkOmFyZ3MubGVmdEZpZWxkLCBsZWZ0VmFsdWU6YXJncy5yaWdodFZhbHVlfSk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5GaWx0ZXIsIFwiaW5MaXN0XCIsIGVlLkZpbHRlci5pbkxpc3QpO1xuZWUuRmlsdGVyLmJvdW5kcyA9IGZ1bmN0aW9uKGdlb21ldHJ5LCBvcHRfZXJyb3JNYXJnaW4pIHtcbiAgcmV0dXJuIGVlLkFwaUZ1bmN0aW9uLl9hcHBseShcIkZpbHRlci5pbnRlcnNlY3RzXCIsIHtsZWZ0RmllbGQ6XCIuYWxsXCIsIHJpZ2h0VmFsdWU6ZWUuQXBpRnVuY3Rpb24uX2NhbGwoXCJGZWF0dXJlXCIsIGdlb21ldHJ5KSwgbWF4RXJyb3I6b3B0X2Vycm9yTWFyZ2lufSk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5GaWx0ZXIsIFwiYm91bmRzXCIsIGVlLkZpbHRlci5ib3VuZHMpO1xuZWUuRmlsdGVyLnByb3RvdHlwZS5uYW1lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBcIkZpbHRlclwiO1xufTtcbmVlLkZpbHRlci5tZXRhZGF0YSA9IGZ1bmN0aW9uKG5hbWUsIG9wZXJhdG9yLCB2YWx1ZSkge1xuICBvcGVyYXRvciA9IG9wZXJhdG9yLnRvTG93ZXJDYXNlKCk7XG4gIHZhciBuZWdhdGVkID0gITE7XG4gIGdvb2cuc3RyaW5nLnN0YXJ0c1dpdGgob3BlcmF0b3IsIFwibm90X1wiKSAmJiAobmVnYXRlZCA9ICEwLCBvcGVyYXRvciA9IG9wZXJhdG9yLnN1YnN0cmluZyg0KSk7XG4gIGlmICghKG9wZXJhdG9yIGluIGVlLkZpbHRlci5mdW5jdGlvbk5hbWVzXykpIHtcbiAgICB0aHJvdyBFcnJvcihcIlVua25vd24gZmlsdGVyaW5nIG9wZXJhdG9yOiBcIiArIG9wZXJhdG9yKTtcbiAgfVxuICB2YXIgZmlsdGVyID0gZWUuQXBpRnVuY3Rpb24uX2NhbGwoXCJGaWx0ZXIuXCIgKyBlZS5GaWx0ZXIuZnVuY3Rpb25OYW1lc19bb3BlcmF0b3JdLCBuYW1lLCB2YWx1ZSk7XG4gIHJldHVybiBuZWdhdGVkID8gZmlsdGVyLm5vdCgpIDogZmlsdGVyO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuRmlsdGVyLCBcIm1ldGFkYXRhXCIsIGVlLkZpbHRlci5tZXRhZGF0YSk7XG5lZS5Db2xsZWN0aW9uID0gZnVuY3Rpb24oZnVuYywgYXJncywgb3B0X3Zhck5hbWUpIHtcbiAgZWUuRWxlbWVudC5jYWxsKHRoaXMsIGZ1bmMsIGFyZ3MsIG9wdF92YXJOYW1lKTtcbiAgZWUuQ29sbGVjdGlvbi5pbml0aWFsaXplKCk7XG59O1xuZ29vZy5pbmhlcml0cyhlZS5Db2xsZWN0aW9uLCBlZS5FbGVtZW50KTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuQ29sbGVjdGlvblwiLCBlZS5Db2xsZWN0aW9uKTtcbmVlLkNvbGxlY3Rpb24uaW5pdGlhbGl6ZWRfID0gITE7XG5lZS5Db2xsZWN0aW9uLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcbiAgZWUuQ29sbGVjdGlvbi5pbml0aWFsaXplZF8gfHwgKGVlLkFwaUZ1bmN0aW9uLmltcG9ydEFwaShlZS5Db2xsZWN0aW9uLCBcIkNvbGxlY3Rpb25cIiwgXCJDb2xsZWN0aW9uXCIpLCBlZS5BcGlGdW5jdGlvbi5pbXBvcnRBcGkoZWUuQ29sbGVjdGlvbiwgXCJBZ2dyZWdhdGVGZWF0dXJlQ29sbGVjdGlvblwiLCBcIkNvbGxlY3Rpb25cIiwgXCJhZ2dyZWdhdGVfXCIpLCBlZS5Db2xsZWN0aW9uLmluaXRpYWxpemVkXyA9ICEwKTtcbn07XG5lZS5Db2xsZWN0aW9uLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gIGVlLkFwaUZ1bmN0aW9uLmNsZWFyQXBpKGVlLkNvbGxlY3Rpb24pO1xuICBlZS5Db2xsZWN0aW9uLmluaXRpYWxpemVkXyA9ICExO1xufTtcbmVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLmZpbHRlciA9IGZ1bmN0aW9uKGZpbHRlcikge1xuICBmaWx0ZXIgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5maWx0ZXIsIGFyZ3VtZW50cykuZmlsdGVyO1xuICBpZiAoIWZpbHRlcikge1xuICAgIHRocm93IEVycm9yKFwiRW1wdHkgZmlsdGVycy5cIik7XG4gIH1cbiAgcmV0dXJuIHRoaXMuY2FzdEludGVybmFsKGVlLkFwaUZ1bmN0aW9uLl9jYWxsKFwiQ29sbGVjdGlvbi5maWx0ZXJcIiwgdGhpcywgZmlsdGVyKSk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5Db2xsZWN0aW9uLnByb3RvdHlwZSwgXCJmaWx0ZXJcIiwgZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUuZmlsdGVyKTtcbmVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLmZpbHRlck1ldGFkYXRhID0gZnVuY3Rpb24obmFtZSwgb3BlcmF0b3IsIHZhbHVlKSB7XG4gIHZhciBhcmdzID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24oZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUuZmlsdGVyTWV0YWRhdGEsIGFyZ3VtZW50cyk7XG4gIHJldHVybiB0aGlzLmZpbHRlcihlZS5GaWx0ZXIubWV0YWRhdGEoYXJncy5uYW1lLCBhcmdzLm9wZXJhdG9yLCBhcmdzLnZhbHVlKSk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5Db2xsZWN0aW9uLnByb3RvdHlwZSwgXCJmaWx0ZXJNZXRhZGF0YVwiLCBlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5maWx0ZXJNZXRhZGF0YSk7XG5lZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5maWx0ZXJCb3VuZHMgPSBmdW5jdGlvbihnZW9tZXRyeSkge1xuICByZXR1cm4gdGhpcy5maWx0ZXIoZWUuRmlsdGVyLmJvdW5kcyhnZW9tZXRyeSkpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUsIFwiZmlsdGVyQm91bmRzXCIsIGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLmZpbHRlckJvdW5kcyk7XG5lZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5maWx0ZXJEYXRlID0gZnVuY3Rpb24oc3RhcnQsIG9wdF9lbmQpIHtcbiAgdmFyIGFyZ3MgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5maWx0ZXJEYXRlLCBhcmd1bWVudHMpO1xuICByZXR1cm4gdGhpcy5maWx0ZXIoZWUuRmlsdGVyLmRhdGUoYXJncy5zdGFydCwgYXJncy5lbmQpKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLCBcImZpbHRlckRhdGVcIiwgZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUuZmlsdGVyRGF0ZSk7XG5lZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5saW1pdCA9IGZ1bmN0aW9uKG1heCwgb3B0X3Byb3BlcnR5LCBvcHRfYXNjZW5kaW5nKSB7XG4gIHZhciBhcmdzID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24oZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUubGltaXQsIGFyZ3VtZW50cyk7XG4gIHJldHVybiB0aGlzLmNhc3RJbnRlcm5hbChlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkNvbGxlY3Rpb24ubGltaXRcIiwgdGhpcywgYXJncy5tYXgsIGFyZ3MucHJvcGVydHksIGFyZ3MuYXNjZW5kaW5nKSk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5Db2xsZWN0aW9uLnByb3RvdHlwZSwgXCJsaW1pdFwiLCBlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5saW1pdCk7XG5lZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5zb3J0ID0gZnVuY3Rpb24ocHJvcGVydHksIG9wdF9hc2NlbmRpbmcpIHtcbiAgdmFyIGFyZ3MgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5zb3J0LCBhcmd1bWVudHMpO1xuICByZXR1cm4gdGhpcy5jYXN0SW50ZXJuYWwoZWUuQXBpRnVuY3Rpb24uX2NhbGwoXCJDb2xsZWN0aW9uLmxpbWl0XCIsIHRoaXMsIHZvaWQgMCwgYXJncy5wcm9wZXJ0eSwgYXJncy5hc2NlbmRpbmcpKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLCBcInNvcnRcIiwgZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUuc29ydCk7XG5lZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5uYW1lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBcIkNvbGxlY3Rpb25cIjtcbn07XG5lZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5lbGVtZW50VHlwZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZWUuRWxlbWVudDtcbn07XG5lZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbihhbGdvcml0aG0sIG9wdF9kcm9wTnVsbHMpIHtcbiAgdmFyIGVsZW1lbnRUeXBlID0gdGhpcy5lbGVtZW50VHlwZSgpO1xuICByZXR1cm4gdGhpcy5jYXN0SW50ZXJuYWwoZWUuQXBpRnVuY3Rpb24uX2NhbGwoXCJDb2xsZWN0aW9uLm1hcFwiLCB0aGlzLCBmdW5jdGlvbihlKSB7XG4gICAgcmV0dXJuIGFsZ29yaXRobShuZXcgZWxlbWVudFR5cGUoZSkpO1xuICB9LCBvcHRfZHJvcE51bGxzKSk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5Db2xsZWN0aW9uLnByb3RvdHlwZSwgXCJtYXBcIiwgZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUubWFwKTtcbmVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLml0ZXJhdGUgPSBmdW5jdGlvbihhbGdvcml0aG0sIG9wdF9maXJzdCkge1xuICB2YXIgZmlyc3QgPSB2b2lkIDAgIT09IG9wdF9maXJzdCA/IG9wdF9maXJzdCA6IG51bGwsIGVsZW1lbnRUeXBlID0gdGhpcy5lbGVtZW50VHlwZSgpO1xuICByZXR1cm4gZWUuQXBpRnVuY3Rpb24uX2NhbGwoXCJDb2xsZWN0aW9uLml0ZXJhdGVcIiwgdGhpcywgZnVuY3Rpb24oZSwgcCkge1xuICAgIHJldHVybiBhbGdvcml0aG0obmV3IGVsZW1lbnRUeXBlKGUpLCBwKTtcbiAgfSwgZmlyc3QpO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUsIFwiaXRlcmF0ZVwiLCBlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5pdGVyYXRlKTtcbmVlLkZlYXR1cmUgPSBmdW5jdGlvbihnZW9tZXRyeSwgb3B0X3Byb3BlcnRpZXMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGVlLkZlYXR1cmUpKSB7XG4gICAgcmV0dXJuIGVlLkNvbXB1dGVkT2JqZWN0LmNvbnN0cnVjdChlZS5GZWF0dXJlLCBhcmd1bWVudHMpO1xuICB9XG4gIGlmIChnZW9tZXRyeSBpbnN0YW5jZW9mIGVlLkZlYXR1cmUpIHtcbiAgICBpZiAob3B0X3Byb3BlcnRpZXMpIHtcbiAgICAgIHRocm93IEVycm9yKFwiQ2FuJ3QgY3JlYXRlIEZlYXR1cmUgb3V0IG9mIGEgRmVhdHVyZSBhbmQgcHJvcGVydGllcy5cIik7XG4gICAgfVxuICAgIHJldHVybiBnZW9tZXRyeTtcbiAgfVxuICBpZiAoMiA8IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICB0aHJvdyBFcnJvcihcIlRoZSBGZWF0dXJlIGNvbnN0cnVjdG9yIHRha2VzIGF0IG1vc3QgMiBhcmd1bWVudHMgKFwiICsgYXJndW1lbnRzLmxlbmd0aCArIFwiIGdpdmVuKVwiKTtcbiAgfVxuICBlZS5GZWF0dXJlLmluaXRpYWxpemUoKTtcbiAgaWYgKGdlb21ldHJ5IGluc3RhbmNlb2YgZWUuR2VvbWV0cnkgfHwgbnVsbCA9PT0gZ2VvbWV0cnkpIHtcbiAgICBlZS5FbGVtZW50LmNhbGwodGhpcywgbmV3IGVlLkFwaUZ1bmN0aW9uKFwiRmVhdHVyZVwiKSwge2dlb21ldHJ5Omdlb21ldHJ5LCBtZXRhZGF0YTpvcHRfcHJvcGVydGllcyB8fCBudWxsfSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKGdlb21ldHJ5IGluc3RhbmNlb2YgZWUuQ29tcHV0ZWRPYmplY3QpIHtcbiAgICAgIGVlLkVsZW1lbnQuY2FsbCh0aGlzLCBnZW9tZXRyeS5mdW5jLCBnZW9tZXRyeS5hcmdzLCBnZW9tZXRyeS52YXJOYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKFwiRmVhdHVyZVwiID09IGdlb21ldHJ5LnR5cGUpIHtcbiAgICAgICAgdmFyIHByb3BlcnRpZXMgPSBnZW9tZXRyeS5wcm9wZXJ0aWVzIHx8IHt9O1xuICAgICAgICBpZiAoXCJpZFwiIGluIGdlb21ldHJ5KSB7XG4gICAgICAgICAgaWYgKFwic3lzdGVtOmluZGV4XCIgaW4gcHJvcGVydGllcykge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0NhblxcJ3Qgc3BlY2lmeSBib3RoIFwiaWRcIiBhbmQgXCJzeXN0ZW06aW5kZXhcIi4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcHJvcGVydGllcyA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9jbG9uZShwcm9wZXJ0aWVzKTtcbiAgICAgICAgICBwcm9wZXJ0aWVzW1wic3lzdGVtOmluZGV4XCJdID0gZ2VvbWV0cnkuaWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWUuRWxlbWVudC5jYWxsKHRoaXMsIG5ldyBlZS5BcGlGdW5jdGlvbihcIkZlYXR1cmVcIiksIHtnZW9tZXRyeTpuZXcgZWUuR2VvbWV0cnkoZ2VvbWV0cnkuZ2VvbWV0cnkpLCBtZXRhZGF0YTpwcm9wZXJ0aWVzfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlZS5FbGVtZW50LmNhbGwodGhpcywgbmV3IGVlLkFwaUZ1bmN0aW9uKFwiRmVhdHVyZVwiKSwge2dlb21ldHJ5Om5ldyBlZS5HZW9tZXRyeShnZW9tZXRyeSksIG1ldGFkYXRhOm9wdF9wcm9wZXJ0aWVzIHx8IG51bGx9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5nb29nLmluaGVyaXRzKGVlLkZlYXR1cmUsIGVlLkVsZW1lbnQpO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5GZWF0dXJlXCIsIGVlLkZlYXR1cmUpO1xuZWUuRmVhdHVyZS5pbml0aWFsaXplZF8gPSAhMTtcbmVlLkZlYXR1cmUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge1xuICBlZS5GZWF0dXJlLmluaXRpYWxpemVkXyB8fCAoZWUuQXBpRnVuY3Rpb24uaW1wb3J0QXBpKGVlLkZlYXR1cmUsIFwiRmVhdHVyZVwiLCBcIkZlYXR1cmVcIiksIGVlLkZlYXR1cmUuaW5pdGlhbGl6ZWRfID0gITApO1xufTtcbmVlLkZlYXR1cmUucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgZWUuQXBpRnVuY3Rpb24uY2xlYXJBcGkoZWUuRmVhdHVyZSk7XG4gIGVlLkZlYXR1cmUuaW5pdGlhbGl6ZWRfID0gITE7XG59O1xuZWUuRmVhdHVyZS5wcm90b3R5cGUuZ2V0SW5mbyA9IGZ1bmN0aW9uKG9wdF9jYWxsYmFjaykge1xuICByZXR1cm4gZWUuRmVhdHVyZS5zdXBlckNsYXNzXy5nZXRJbmZvLmNhbGwodGhpcywgb3B0X2NhbGxiYWNrKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkZlYXR1cmUucHJvdG90eXBlLCBcImdldEluZm9cIiwgZWUuRmVhdHVyZS5wcm90b3R5cGUuZ2V0SW5mbyk7XG5lZS5GZWF0dXJlLnByb3RvdHlwZS5nZXRNYXAgPSBmdW5jdGlvbihvcHRfdmlzUGFyYW1zLCBvcHRfY2FsbGJhY2spIHtcbiAgdmFyIGFyZ3MgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihlZS5GZWF0dXJlLnByb3RvdHlwZS5nZXRNYXAsIGFyZ3VtZW50cyk7XG4gIHJldHVybiBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkNvbGxlY3Rpb25cIiwgW3RoaXNdKS5nZXRNYXAoYXJncy52aXNQYXJhbXMsIGFyZ3MuY2FsbGJhY2spO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuRmVhdHVyZS5wcm90b3R5cGUsIFwiZ2V0TWFwXCIsIGVlLkZlYXR1cmUucHJvdG90eXBlLmdldE1hcCk7XG5lZS5GZWF0dXJlLnByb3RvdHlwZS5uYW1lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBcIkZlYXR1cmVcIjtcbn07XG5lZS5kYXRhLmltYWdlcyA9IHt9O1xuZWUuZGF0YS5pbWFnZXMuYXBwbHlUcmFuc2Zvcm1zVG9JbWFnZSA9IGZ1bmN0aW9uKHRhc2tDb25maWcpIHtcbiAgdmFyIHJlc3VsdFBhcmFtcyA9IHt9LCBpbWFnZSA9IGVlLmRhdGEuaW1hZ2VzLmFwcGx5Q3JzQW5kVHJhbnNmb3JtKHRhc2tDb25maWcuZWxlbWVudCwgdGFza0NvbmZpZyk7XG4gIGltYWdlID0gZWUuZGF0YS5pbWFnZXMuYXBwbHlTZWxlY3Rpb25BbmRTY2FsZShpbWFnZSwgdGFza0NvbmZpZywgcmVzdWx0UGFyYW1zKTtcbiAgcmVzdWx0UGFyYW1zLmVsZW1lbnQgPSBpbWFnZTtcbiAgcmV0dXJuIHJlc3VsdFBhcmFtcztcbn07XG5lZS5kYXRhLmltYWdlcy5hcHBseVRyYW5zZm9ybXNUb0NvbGxlY3Rpb24gPSBmdW5jdGlvbih0YXNrQ29uZmlnKSB7XG4gIHZhciByZXN1bHRQYXJhbXMgPSB7fSwgY29sbGVjdGlvbiA9IHRhc2tDb25maWcuZWxlbWVudC5tYXAoZnVuY3Rpb24oaW1hZ2UpIHtcbiAgICB2YXIgcHJvamVjdGVkID0gZWUuZGF0YS5pbWFnZXMuYXBwbHlDcnNBbmRUcmFuc2Zvcm0oaW1hZ2UsIHRhc2tDb25maWcpO1xuICAgIHJldHVybiBlZS5kYXRhLmltYWdlcy5hcHBseVNlbGVjdGlvbkFuZFNjYWxlKHByb2plY3RlZCwgdGFza0NvbmZpZywgcmVzdWx0UGFyYW1zKTtcbiAgfSk7XG4gIHJlc3VsdFBhcmFtcy5lbGVtZW50ID0gY29sbGVjdGlvbjtcbiAgcmV0dXJuIHJlc3VsdFBhcmFtcztcbn07XG5lZS5kYXRhLmltYWdlcy5hcHBseVNlbGVjdGlvbkFuZFNjYWxlID0gZnVuY3Rpb24oaW1hZ2UsIHBhcmFtcywgb3V0UGFyYW1zKSB7XG4gIHZhciBjbGlwUGFyYW1zID0ge30sIGRpbWVuc2lvbnNfY29uc3VtZWQgPSAhMSwgU0NBTElOR19LRVlTID0gW1wibWF4RGltZW5zaW9uXCIsIFwid2lkdGhcIiwgXCJoZWlnaHRcIiwgXCJzY2FsZVwiXTtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2ZvckVhY2gocGFyYW1zLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgaWYgKG51bGwgIT0gdmFsdWUpIHtcbiAgICAgIHN3aXRjaChrZXkpIHtcbiAgICAgICAgY2FzZSBcImRpbWVuc2lvbnNcIjpcbiAgICAgICAgICB2YXIgZGltcyA9IFwic3RyaW5nXCIgPT09IHR5cGVvZiB2YWx1ZSA/IHZhbHVlLnNwbGl0KFwieFwiKS5tYXAoTnVtYmVyKSA6IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBcIm51bWJlclwiID09PSB0eXBlb2YgdmFsdWUgPyBbdmFsdWVdIDogW107XG4gICAgICAgICAgaWYgKDEgPT09IGRpbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjbGlwUGFyYW1zLm1heERpbWVuc2lvbiA9IGRpbXNbMF07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICgyID09PSBkaW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgICBjbGlwUGFyYW1zLndpZHRoID0gZGltc1swXSwgY2xpcFBhcmFtcy5oZWlnaHQgPSBkaW1zWzFdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGRpbWVuc2lvbnMgXCIgKyB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZGltZW5zaW9uc19jb25zdW1lZFwiOlxuICAgICAgICAgIGRpbWVuc2lvbnNfY29uc3VtZWQgPSAhMDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImJib3hcIjpcbiAgICAgICAgICBudWxsICE9IGNsaXBQYXJhbXMuZ2VvbWV0cnkgJiYgY29uc29sZS53YXJuKFwiTXVsdGlwbGUgcmVxdWVzdCBwYXJhbWV0ZXJzIGNvbnZlcnRlZCB0byByZWdpb24uXCIpO1xuICAgICAgICAgIGNsaXBQYXJhbXMuZ2VvbWV0cnkgPSBlZS5kYXRhLmltYWdlcy5iYm94VG9HZW9tZXRyeSh2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJyZWdpb25cIjpcbiAgICAgICAgICBudWxsICE9IGNsaXBQYXJhbXMuZ2VvbWV0cnkgJiYgY29uc29sZS53YXJuKFwiTXVsdGlwbGUgcmVxdWVzdCBwYXJhbWV0ZXJzIGNvbnZlcnRlZCB0byByZWdpb24uXCIpO1xuICAgICAgICAgIGNsaXBQYXJhbXMuZ2VvbWV0cnkgPSBlZS5kYXRhLmltYWdlcy5yZWdpb25Ub0dlb21ldHJ5KHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInNjYWxlXCI6XG4gICAgICAgICAgY2xpcFBhcmFtcy5zY2FsZSA9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgb3V0UGFyYW1zW2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfaXNFbXB0eShjbGlwUGFyYW1zKSB8fCAoY2xpcFBhcmFtcy5pbnB1dCA9IGltYWdlLCBpbWFnZSA9IFNDQUxJTkdfS0VZUy5zb21lKGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBrZXkgaW4gY2xpcFBhcmFtcztcbiAgfSkgfHwgZGltZW5zaW9uc19jb25zdW1lZCA/IGVlLkFwaUZ1bmN0aW9uLl9hcHBseShcIkltYWdlLmNsaXBUb0JvdW5kc0FuZFNjYWxlXCIsIGNsaXBQYXJhbXMpIDogZWUuQXBpRnVuY3Rpb24uX2FwcGx5KFwiSW1hZ2UuY2xpcFwiLCBjbGlwUGFyYW1zKSk7XG4gIHJldHVybiBpbWFnZTtcbn07XG5lZS5kYXRhLmltYWdlcy5iYm94VG9HZW9tZXRyeSA9IGZ1bmN0aW9uKGJib3gpIHtcbiAgaWYgKGJib3ggaW5zdGFuY2VvZiBlZS5HZW9tZXRyeS5SZWN0YW5nbGUpIHtcbiAgICByZXR1cm4gYmJveDtcbiAgfVxuICB2YXIgYmJveEFycmF5ID0gYmJveDtcbiAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBiYm94KSB7XG4gICAgdHJ5IHtcbiAgICAgIGJib3hBcnJheSA9IEpTT04ucGFyc2UoYmJveCk7XG4gICAgfSBjYXRjaCAoJGpzY29tcCR1bnVzZWQkY2F0Y2gpIHtcbiAgICAgIGJib3hBcnJheSA9IGJib3guc3BsaXQoL1xccyosXFxzKi8pLm1hcChOdW1iZXIpO1xuICAgIH1cbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShiYm94QXJyYXkpKSB7XG4gICAgaWYgKGJib3hBcnJheS5zb21lKGlzTmFOKSkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGJib3ggYHtiYm94QXJyYXl9YCwgcGxlYXNlIHNwZWNpZnkgYSBsaXN0IG9mIG51bWJlcnMuXCIpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IGVlLkdlb21ldHJ5LlJlY3RhbmdsZShiYm94QXJyYXksIG51bGwsICExKTtcbiAgfVxuICB0aHJvdyBFcnJvcignSW52YWxpZCBiYm94IFwie2Jib3h9XCIgdHlwZSwgbXVzdCBiZSBvZiB0eXBlIEFycmF5PG51bWJlcj4nKTtcbn07XG5lZS5kYXRhLmltYWdlcy5yZWdpb25Ub0dlb21ldHJ5ID0gZnVuY3Rpb24ocmVnaW9uKSB7XG4gIGlmIChyZWdpb24gaW5zdGFuY2VvZiBlZS5HZW9tZXRyeSkge1xuICAgIHJldHVybiByZWdpb247XG4gIH1cbiAgdmFyIHJlZ2lvbk9iamVjdCA9IHJlZ2lvbjtcbiAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiByZWdpb24pIHtcbiAgICB0cnkge1xuICAgICAgcmVnaW9uT2JqZWN0ID0gSlNPTi5wYXJzZShyZWdpb24pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRocm93IEVycm9yKCdSZWdpb24gc3RyaW5nIFwiJyArIHJlZ2lvbiArICdcIiBpcyBub3QgdmFsaWQgR2VvSlNPTi4nKTtcbiAgICB9XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkocmVnaW9uT2JqZWN0KSkge1xuICAgIHJldHVybiBuZXcgZWUuR2VvbWV0cnkuUG9seWdvbihyZWdpb25PYmplY3QsIG51bGwsICExKTtcbiAgfVxuICBpZiAoZ29vZy5pc09iamVjdChyZWdpb25PYmplY3QpKSB7XG4gICAgcmV0dXJuIG5ldyBlZS5HZW9tZXRyeShyZWdpb25PYmplY3QsIG51bGwsICExKTtcbiAgfVxuICB0aHJvdyBFcnJvcihcIlJlZ2lvbiB7cmVnaW9ufSB3YXMgbm90IGNvbnZlcnRpYmxlIHRvIGFuIGVlLkdlb21ldHJ5LlwiKTtcbn07XG5lZS5kYXRhLmltYWdlcy5hcHBseUNyc0FuZFRyYW5zZm9ybSA9IGZ1bmN0aW9uKGltYWdlLCBwYXJhbXMpIHtcbiAgdmFyIGNycyA9IHBhcmFtcy5jcnMgfHwgXCJcIiwgY3JzVHJhbnNmb3JtID0gcGFyYW1zLmNyc1RyYW5zZm9ybSB8fCBwYXJhbXMuY3JzX3RyYW5zZm9ybTtcbiAgbnVsbCAhPSBjcnNUcmFuc2Zvcm0gJiYgKGNyc1RyYW5zZm9ybSA9IGVlLmRhdGEuaW1hZ2VzLm1heWJlQ29udmVydENyc1RyYW5zZm9ybVRvQXJyYXlfKGNyc1RyYW5zZm9ybSkpO1xuICBpZiAoIWNycyAmJiAhY3JzVHJhbnNmb3JtKSB7XG4gICAgcmV0dXJuIGltYWdlO1xuICB9XG4gIGlmIChjcnNUcmFuc2Zvcm0gJiYgIWNycykge1xuICAgIHRocm93IEVycm9yKCdNdXN0IHNwZWNpZnkgXCJjcnNcIiBpZiBcImNyc1RyYW5zZm9ybVwiIGlzIHNwZWNpZmllZC4nKTtcbiAgfVxuICBpZiAoY3JzVHJhbnNmb3JtKSB7XG4gICAgaWYgKGltYWdlID0gZWUuQXBpRnVuY3Rpb24uX2FwcGx5KFwiSW1hZ2UucmVwcm9qZWN0XCIsIHtpbWFnZTppbWFnZSwgY3JzOmNycywgY3JzVHJhbnNmb3JtOmNyc1RyYW5zZm9ybX0pLCBudWxsICE9IHBhcmFtcy5kaW1lbnNpb25zICYmIG51bGwgPT0gcGFyYW1zLnNjYWxlICYmIG51bGwgPT0gcGFyYW1zLnJlZ2lvbikge1xuICAgICAgdmFyIGRpbWVuc2lvbnMgPSBwYXJhbXMuZGltZW5zaW9ucztcbiAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBkaW1lbnNpb25zICYmIChkaW1lbnNpb25zID0gZGltZW5zaW9ucy5zcGxpdChcInhcIikubWFwKE51bWJlcikpO1xuICAgICAgaWYgKDIgPT09IGRpbWVuc2lvbnMubGVuZ3RoKSB7XG4gICAgICAgIGRlbGV0ZSBwYXJhbXMuZGltZW5zaW9ucztcbiAgICAgICAgcGFyYW1zLmRpbWVuc2lvbnNfY29uc3VtZWQgPSAhMDtcbiAgICAgICAgdmFyIHByb2plY3Rpb24gPSAobmV3IGVlLkFwaUZ1bmN0aW9uKFwiUHJvamVjdGlvblwiKSkuY2FsbChjcnMsIGNyc1RyYW5zZm9ybSk7XG4gICAgICAgIHBhcmFtcy5yZWdpb24gPSBuZXcgZWUuR2VvbWV0cnkuUmVjdGFuZ2xlKFswLCAwLCBkaW1lbnNpb25zWzBdLCBkaW1lbnNpb25zWzFdXSwgcHJvamVjdGlvbiwgITEpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpbWFnZSA9IGVlLkFwaUZ1bmN0aW9uLl9hcHBseShcIkltYWdlLnNldERlZmF1bHRQcm9qZWN0aW9uXCIsIHtpbWFnZTppbWFnZSwgY3JzOmNycywgY3JzVHJhbnNmb3JtOlsxLCAwLCAwLCAwLCAtMSwgMF19KTtcbiAgfVxuICByZXR1cm4gaW1hZ2U7XG59O1xuZWUuZGF0YS5pbWFnZXMubWF5YmVDb252ZXJ0Q3JzVHJhbnNmb3JtVG9BcnJheV8gPSBmdW5jdGlvbihjcnNUcmFuc2Zvcm0pIHtcbiAgdmFyIHRyYW5zZm9ybUFycmF5ID0gY3JzVHJhbnNmb3JtO1xuICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHRyYW5zZm9ybUFycmF5KSB7XG4gICAgdHJ5IHtcbiAgICAgIHRyYW5zZm9ybUFycmF5ID0gSlNPTi5wYXJzZSh0cmFuc2Zvcm1BcnJheSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgIH1cbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheSh0cmFuc2Zvcm1BcnJheSkpIHtcbiAgICBpZiAoNiA9PT0gdHJhbnNmb3JtQXJyYXkubGVuZ3RoICYmIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X2V2ZXJ5KHRyYW5zZm9ybUFycmF5LCBmdW5jdGlvbih4KSB7XG4gICAgICByZXR1cm4gXCJudW1iZXJcIiA9PT0gdHlwZW9mIHg7XG4gICAgfSkpIHtcbiAgICAgIHJldHVybiB0cmFuc2Zvcm1BcnJheTtcbiAgICB9XG4gICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50LCBjcnMgdHJhbnNmb3JtIG11c3QgYmUgYSBsaXN0IG9mIDYgbnVtYmVycy5cIik7XG4gIH1cbiAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50LCBjcnMgdHJhbnNmb3JtIHdhcyBub3QgYSBzdHJpbmcgb3IgYXJyYXkuXCIpO1xufTtcbmVlLmRhdGEuaW1hZ2VzLmFwcGx5VmlzdWFsaXphdGlvbiA9IGZ1bmN0aW9uKGltYWdlLCBwYXJhbXMpIHtcbiAgdmFyIHJlcXVlc3QgPSB7fSwgdmlzUGFyYW1zID0gZWUuZGF0YS5pbWFnZXMuZXh0cmFjdFZpc1BhcmFtcyhwYXJhbXMsIHJlcXVlc3QpO1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfaXNFbXB0eSh2aXNQYXJhbXMpIHx8ICh2aXNQYXJhbXMuaW1hZ2UgPSBpbWFnZSwgaW1hZ2UgPSBlZS5BcGlGdW5jdGlvbi5fYXBwbHkoXCJJbWFnZS52aXN1YWxpemVcIiwgdmlzUGFyYW1zKSk7XG4gIHJlcXVlc3QuaW1hZ2UgPSBpbWFnZTtcbiAgcmV0dXJuIHJlcXVlc3Q7XG59O1xuZWUuZGF0YS5pbWFnZXMuZXh0cmFjdFZpc1BhcmFtcyA9IGZ1bmN0aW9uKHBhcmFtcywgb3V0UGFyYW1zKSB7XG4gIHZhciBrZXlzVG9FeHRyYWN0ID0gXCJiYW5kcyBnYWluIGJpYXMgbWluIG1heCBnYW1tYSBwYWxldHRlIG9wYWNpdHkgZm9yY2VSZ2JPdXRwdXRcIi5zcGxpdChcIiBcIiksIHZpc1BhcmFtcyA9IHt9O1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZm9yRWFjaChwYXJhbXMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb250YWlucyhrZXlzVG9FeHRyYWN0LCBrZXkpID8gdmlzUGFyYW1zW2tleV0gPSB2YWx1ZSA6IG91dFBhcmFtc1trZXldID0gdmFsdWU7XG4gIH0pO1xuICByZXR1cm4gdmlzUGFyYW1zO1xufTtcbmVlLmRhdGEuaW1hZ2VzLmJ1aWxkRG93bmxvYWRJZEltYWdlID0gZnVuY3Rpb24oaW1hZ2UsIHBhcmFtcykge1xuICBwYXJhbXMgPSBPYmplY3QuYXNzaWduKHt9LCBwYXJhbXMpO1xuICB2YXIgZXh0cmFjdEFuZFZhbGlkYXRlVHJhbnNmb3JtcyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBleHRyYWN0ZWQgPSB7fTtcbiAgICBbXCJjcnNcIiwgXCJjcnNfdHJhbnNmb3JtXCIsIFwiZGltZW5zaW9uc1wiLCBcInJlZ2lvblwiXS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAga2V5IGluIG9iaiAmJiAoZXh0cmFjdGVkW2tleV0gPSBvYmpba2V5XSk7XG4gICAgfSk7XG4gICAgbnVsbCAhPSBvYmouc2NhbGUgJiYgbnVsbCA9PSBvYmouZGltZW5zaW9ucyAmJiAoZXh0cmFjdGVkLnNjYWxlID0gb2JqLnNjYWxlKTtcbiAgICByZXR1cm4gZXh0cmFjdGVkO1xuICB9LCBidWlsZEltYWdlUGVyQmFuZCA9IGZ1bmN0aW9uKGJhbmQpIHtcbiAgICB2YXIgYmFuZElkID0gYmFuZC5pZDtcbiAgICBpZiAodm9pZCAwID09PSBiYW5kSWQpIHtcbiAgICAgIHRocm93IEVycm9yKFwiRWFjaCBiYW5kIGRpY3Rpb25hcnkgbXVzdCBoYXZlIGFuIGlkLlwiKTtcbiAgICB9XG4gICAgdmFyIGJhbmRJbWFnZSA9IGltYWdlLnNlbGVjdChiYW5kSWQpLCBjb3B5UGFyYW1zID0gZXh0cmFjdEFuZFZhbGlkYXRlVHJhbnNmb3JtcyhwYXJhbXMpLCBiYW5kUGFyYW1zID0gZXh0cmFjdEFuZFZhbGlkYXRlVHJhbnNmb3JtcyhiYW5kKTtcbiAgICBiYW5kUGFyYW1zID0gZXh0cmFjdEFuZFZhbGlkYXRlVHJhbnNmb3JtcyhPYmplY3QuYXNzaWduKGNvcHlQYXJhbXMsIGJhbmRQYXJhbXMpKTtcbiAgICBiYW5kSW1hZ2UgPSBlZS5kYXRhLmltYWdlcy5hcHBseUNyc0FuZFRyYW5zZm9ybShiYW5kSW1hZ2UsIGJhbmRQYXJhbXMpO1xuICAgIHJldHVybiBiYW5kSW1hZ2UgPSBlZS5kYXRhLmltYWdlcy5hcHBseVNlbGVjdGlvbkFuZFNjYWxlKGJhbmRJbWFnZSwgYmFuZFBhcmFtcywge30pO1xuICB9O1xuICBpZiAoXCJaSVBQRURfR0VPX1RJRkZfUEVSX0JBTkRcIiA9PT0gcGFyYW1zLmZvcm1hdCAmJiBwYXJhbXMuYmFuZHMgJiYgcGFyYW1zLmJhbmRzLmxlbmd0aCkge1xuICAgIHZhciBpbWFnZXMgPSBwYXJhbXMuYmFuZHMubWFwKGJ1aWxkSW1hZ2VQZXJCYW5kKTtcbiAgICBpbWFnZSA9IGltYWdlcy5yZWR1Y2UoZnVuY3Rpb24ocmVzdWx0LCBiYW5kSW1hZ2UpIHtcbiAgICAgIHJldHVybiBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkltYWdlLmFkZEJhbmRzXCIsIHJlc3VsdCwgYmFuZEltYWdlLCBudWxsLCAhMCk7XG4gICAgfSwgaW1hZ2VzLnNoaWZ0KCkpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjb3B5UGFyYW1zID0gZXh0cmFjdEFuZFZhbGlkYXRlVHJhbnNmb3JtcyhwYXJhbXMpO1xuICAgIGltYWdlID0gZWUuZGF0YS5pbWFnZXMuYXBwbHlDcnNBbmRUcmFuc2Zvcm0oaW1hZ2UsIGNvcHlQYXJhbXMpO1xuICAgIGltYWdlID0gZWUuZGF0YS5pbWFnZXMuYXBwbHlTZWxlY3Rpb25BbmRTY2FsZShpbWFnZSwgY29weVBhcmFtcywge30pO1xuICB9XG4gIHJldHVybiBpbWFnZTtcbn07XG5lZS5JbWFnZSA9IGZ1bmN0aW9uKG9wdF9hcmdzKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBlZS5JbWFnZSkpIHtcbiAgICByZXR1cm4gZWUuQ29tcHV0ZWRPYmplY3QuY29uc3RydWN0KGVlLkltYWdlLCBhcmd1bWVudHMpO1xuICB9XG4gIGlmIChvcHRfYXJncyBpbnN0YW5jZW9mIGVlLkltYWdlKSB7XG4gICAgcmV0dXJuIG9wdF9hcmdzO1xuICB9XG4gIGVlLkltYWdlLmluaXRpYWxpemUoKTtcbiAgdmFyIGFyZ0NvdW50ID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgaWYgKDAgPT0gYXJnQ291bnQgfHwgMSA9PSBhcmdDb3VudCAmJiB2b2lkIDAgPT09IG9wdF9hcmdzKSB7XG4gICAgZWUuRWxlbWVudC5jYWxsKHRoaXMsIG5ldyBlZS5BcGlGdW5jdGlvbihcIkltYWdlLm1hc2tcIiksIHtpbWFnZTpuZXcgZWUuSW1hZ2UoMCksIG1hc2s6bmV3IGVlLkltYWdlKDApfSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKDEgPT0gYXJnQ291bnQpIHtcbiAgICAgIGlmIChlZS5UeXBlcy5pc051bWJlcihvcHRfYXJncykpIHtcbiAgICAgICAgZWUuRWxlbWVudC5jYWxsKHRoaXMsIG5ldyBlZS5BcGlGdW5jdGlvbihcIkltYWdlLmNvbnN0YW50XCIpLCB7dmFsdWU6b3B0X2FyZ3N9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChlZS5UeXBlcy5pc1N0cmluZyhvcHRfYXJncykpIHtcbiAgICAgICAgICBlZS5FbGVtZW50LmNhbGwodGhpcywgbmV3IGVlLkFwaUZ1bmN0aW9uKFwiSW1hZ2UubG9hZFwiKSwge2lkOm9wdF9hcmdzfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3B0X2FyZ3MpKSB7XG4gICAgICAgICAgICByZXR1cm4gZWUuSW1hZ2UuY29tYmluZV8obW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbWFwKG9wdF9hcmdzLCBmdW5jdGlvbihlbGVtKSB7XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgZWUuSW1hZ2UoZWxlbSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChvcHRfYXJncyBpbnN0YW5jZW9mIGVlLkNvbXB1dGVkT2JqZWN0KSB7XG4gICAgICAgICAgICBcIkFycmF5XCIgPT0gb3B0X2FyZ3MubmFtZSgpID8gZWUuRWxlbWVudC5jYWxsKHRoaXMsIG5ldyBlZS5BcGlGdW5jdGlvbihcIkltYWdlLmNvbnN0YW50XCIpLCB7dmFsdWU6b3B0X2FyZ3N9KSA6IGVlLkVsZW1lbnQuY2FsbCh0aGlzLCBvcHRfYXJncy5mdW5jLCBvcHRfYXJncy5hcmdzLCBvcHRfYXJncy52YXJOYW1lKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJVbnJlY29nbml6ZWQgYXJndW1lbnQgdHlwZSB0byBjb252ZXJ0IHRvIGFuIEltYWdlOiBcIiArIG9wdF9hcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKDIgPT0gYXJnQ291bnQpIHtcbiAgICAgICAgdmFyIGlkID0gYXJndW1lbnRzWzBdLCB2ZXJzaW9uID0gYXJndW1lbnRzWzFdO1xuICAgICAgICBpZiAoZWUuVHlwZXMuaXNTdHJpbmcoaWQpICYmIGVlLlR5cGVzLmlzTnVtYmVyKHZlcnNpb24pKSB7XG4gICAgICAgICAgZWUuRWxlbWVudC5jYWxsKHRoaXMsIG5ldyBlZS5BcGlGdW5jdGlvbihcIkltYWdlLmxvYWRcIiksIHtpZDppZCwgdmVyc2lvbjp2ZXJzaW9ufSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoXCJVbnJlY29nbml6ZWQgYXJndW1lbnQgdHlwZXMgdG8gY29udmVydCB0byBhbiBJbWFnZTogXCIgKyBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcihcIlRoZSBJbWFnZSBjb25zdHJ1Y3RvciB0YWtlcyBhdCBtb3N0IDIgYXJndW1lbnRzIChcIiArIGFyZ0NvdW50ICsgXCIgZ2l2ZW4pXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbmdvb2cuaW5oZXJpdHMoZWUuSW1hZ2UsIGVlLkVsZW1lbnQpO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5JbWFnZVwiLCBlZS5JbWFnZSk7XG5lZS5JbWFnZS5pbml0aWFsaXplZF8gPSAhMTtcbmVlLkltYWdlLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcbiAgZWUuSW1hZ2UuaW5pdGlhbGl6ZWRfIHx8IChlZS5BcGlGdW5jdGlvbi5pbXBvcnRBcGkoZWUuSW1hZ2UsIFwiSW1hZ2VcIiwgXCJJbWFnZVwiKSwgZWUuSW1hZ2UuaW5pdGlhbGl6ZWRfID0gITApO1xufTtcbmVlLkltYWdlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gIGVlLkFwaUZ1bmN0aW9uLmNsZWFyQXBpKGVlLkltYWdlKTtcbiAgZWUuSW1hZ2UuaW5pdGlhbGl6ZWRfID0gITE7XG59O1xuZWUuSW1hZ2UucHJvdG90eXBlLmdldEluZm8gPSBmdW5jdGlvbihvcHRfY2FsbGJhY2spIHtcbiAgcmV0dXJuIGVlLkltYWdlLnN1cGVyQ2xhc3NfLmdldEluZm8uY2FsbCh0aGlzLCBvcHRfY2FsbGJhY2spO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuSW1hZ2UucHJvdG90eXBlLCBcImdldEluZm9cIiwgZWUuSW1hZ2UucHJvdG90eXBlLmdldEluZm8pO1xuZWUuSW1hZ2UucHJvdG90eXBlLmdldE1hcCA9IGZ1bmN0aW9uKG9wdF92aXNQYXJhbXMsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgJGpzY29tcCR0aGlzID0gdGhpcywgYXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkltYWdlLnByb3RvdHlwZS5nZXRNYXAsIGFyZ3VtZW50cyksIHJlcXVlc3QgPSBlZS5kYXRhLmltYWdlcy5hcHBseVZpc3VhbGl6YXRpb24odGhpcywgYXJncy52aXNQYXJhbXMpO1xuICBpZiAoYXJncy5jYWxsYmFjaykge1xuICAgIHZhciBjYWxsYmFjayA9IGFyZ3MuY2FsbGJhY2s7XG4gICAgZWUuZGF0YS5nZXRNYXBJZChyZXF1ZXN0LCBmdW5jdGlvbihkYXRhLCBlcnJvcikge1xuICAgICAgdmFyIG1hcElkID0gZGF0YSA/IE9iamVjdC5hc3NpZ24oZGF0YSwge2ltYWdlOiRqc2NvbXAkdGhpc30pIDogdm9pZCAwO1xuICAgICAgY2FsbGJhY2sobWFwSWQsIGVycm9yKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgcmVzcG9uc2UgPSBlZS5kYXRhLmdldE1hcElkKHJlcXVlc3QpO1xuICAgIHJlc3BvbnNlLmltYWdlID0gdGhpcztcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkltYWdlLnByb3RvdHlwZSwgXCJnZXRNYXBcIiwgZWUuSW1hZ2UucHJvdG90eXBlLmdldE1hcCk7XG5lZS5JbWFnZS5wcm90b3R5cGUuZ2V0RG93bmxvYWRVUkwgPSBmdW5jdGlvbihwYXJhbXMsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgYXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkltYWdlLnByb3RvdHlwZS5nZXREb3dubG9hZFVSTCwgYXJndW1lbnRzKSwgcmVxdWVzdCA9IGFyZ3MucGFyYW1zID8gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2Nsb25lKGFyZ3MucGFyYW1zKSA6IHt9O1xuICByZXF1ZXN0LmltYWdlID0gdGhpcztcbiAgaWYgKGFyZ3MuY2FsbGJhY2spIHtcbiAgICB2YXIgY2FsbGJhY2sgPSBhcmdzLmNhbGxiYWNrO1xuICAgIGVlLmRhdGEuZ2V0RG93bmxvYWRJZChyZXF1ZXN0LCBmdW5jdGlvbihkb3dubG9hZElkLCBlcnJvcikge1xuICAgICAgZG93bmxvYWRJZCA/IGNhbGxiYWNrKGVlLmRhdGEubWFrZURvd25sb2FkVXJsKGRvd25sb2FkSWQpKSA6IGNhbGxiYWNrKG51bGwsIGVycm9yKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZWUuZGF0YS5tYWtlRG93bmxvYWRVcmwoZWUuZGF0YS5nZXREb3dubG9hZElkKHJlcXVlc3QpKTtcbiAgfVxufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuSW1hZ2UucHJvdG90eXBlLCBcImdldERvd25sb2FkVVJMXCIsIGVlLkltYWdlLnByb3RvdHlwZS5nZXREb3dubG9hZFVSTCk7XG5lZS5JbWFnZS5wcm90b3R5cGUuZ2V0VGh1bWJJZCA9IGZ1bmN0aW9uKHBhcmFtcywgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciBhcmdzID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24oZWUuSW1hZ2UucHJvdG90eXBlLmdldERvd25sb2FkVVJMLCBhcmd1bWVudHMpLCByZXF1ZXN0ID0gYXJncy5wYXJhbXMgPyBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY2xvbmUoYXJncy5wYXJhbXMpIDoge30sIGV4dHJhID0ge30sIGltYWdlID0gZWUuZGF0YS5pbWFnZXMuYXBwbHlDcnNBbmRUcmFuc2Zvcm0odGhpcywgcmVxdWVzdCk7XG4gIGltYWdlID0gZWUuZGF0YS5pbWFnZXMuYXBwbHlTZWxlY3Rpb25BbmRTY2FsZShpbWFnZSwgcmVxdWVzdCwgZXh0cmEpO1xuICByZXF1ZXN0ID0gZWUuZGF0YS5pbWFnZXMuYXBwbHlWaXN1YWxpemF0aW9uKGltYWdlLCBleHRyYSk7XG4gIHJldHVybiBhcmdzLmNhbGxiYWNrID8gKGVlLmRhdGEuZ2V0VGh1bWJJZChyZXF1ZXN0LCBhcmdzLmNhbGxiYWNrKSwgbnVsbCkgOiBlZS5kYXRhLmdldFRodW1iSWQocmVxdWVzdCk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5JbWFnZS5wcm90b3R5cGUsIFwiZ2V0VGh1bWJJZFwiLCBlZS5JbWFnZS5wcm90b3R5cGUuZ2V0VGh1bWJJZCk7XG5lZS5JbWFnZS5wcm90b3R5cGUuZ2V0VGh1bWJVUkwgPSBmdW5jdGlvbihwYXJhbXMsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgYXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkltYWdlLnByb3RvdHlwZS5nZXRUaHVtYlVSTCwgYXJndW1lbnRzKTtcbiAgaWYgKGFyZ3MuY2FsbGJhY2spIHtcbiAgICB0aGlzLmdldFRodW1iSWQoYXJncy5wYXJhbXMsIGZ1bmN0aW9uKHRodW1iSWQsIG9wdF9lcnJvcikge1xuICAgICAgdmFyIHRodW1iVXJsID0gXCJcIjtcbiAgICAgIGlmICh2b2lkIDAgPT09IG9wdF9lcnJvcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHRodW1iVXJsID0gZWUuZGF0YS5tYWtlVGh1bWJVcmwodGh1bWJJZCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBvcHRfZXJyb3IgPSBTdHJpbmcoZS5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYXJncy5jYWxsYmFjayh0aHVtYlVybCwgb3B0X2Vycm9yKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZWUuZGF0YS5tYWtlVGh1bWJVcmwodGhpcy5nZXRUaHVtYklkKGFyZ3MucGFyYW1zKSk7XG4gIH1cbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkltYWdlLnByb3RvdHlwZSwgXCJnZXRUaHVtYlVSTFwiLCBlZS5JbWFnZS5wcm90b3R5cGUuZ2V0VGh1bWJVUkwpO1xuZWUuSW1hZ2UucmdiID0gZnVuY3Rpb24ociwgZywgYikge1xuICB2YXIgYXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkltYWdlLnJnYiwgYXJndW1lbnRzKTtcbiAgcmV0dXJuIGVlLkltYWdlLmNvbWJpbmVfKFthcmdzLnIsIGFyZ3MuZywgYXJncy5iXSwgW1widmlzLXJlZFwiLCBcInZpcy1ncmVlblwiLCBcInZpcy1ibHVlXCJdKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkltYWdlLCBcInJnYlwiLCBlZS5JbWFnZS5yZ2IpO1xuZWUuSW1hZ2UuY2F0ID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICByZXR1cm4gZWUuSW1hZ2UuY29tYmluZV8oYXJncywgbnVsbCk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5JbWFnZSwgXCJjYXRcIiwgZWUuSW1hZ2UuY2F0KTtcbmVlLkltYWdlLmNvbWJpbmVfID0gZnVuY3Rpb24oaW1hZ2VzLCBvcHRfbmFtZXMpIHtcbiAgaWYgKDAgPT0gaW1hZ2VzLmxlbmd0aCkge1xuICAgIHJldHVybiBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkltYWdlLmNvbnN0YW50XCIsIFtdKTtcbiAgfVxuICBmb3IgKHZhciByZXN1bHQgPSBuZXcgZWUuSW1hZ2UoaW1hZ2VzWzBdKSwgaSA9IDE7IGkgPCBpbWFnZXMubGVuZ3RoOyBpKyspIHtcbiAgICByZXN1bHQgPSBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkltYWdlLmFkZEJhbmRzXCIsIHJlc3VsdCwgaW1hZ2VzW2ldKTtcbiAgfVxuICBvcHRfbmFtZXMgJiYgKHJlc3VsdCA9IHJlc3VsdC5zZWxlY3QoW1wiLipcIl0sIG9wdF9uYW1lcykpO1xuICByZXR1cm4gcmVzdWx0O1xufTtcbmVlLkltYWdlLnByb3RvdHlwZS5zZWxlY3QgPSBmdW5jdGlvbih2YXJfYXJncykge1xuICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksIGFsZ29yaXRobUFyZ3MgPSB7aW5wdXQ6dGhpcywgYmFuZFNlbGVjdG9yczphcmdzWzBdIHx8IFtdfTtcbiAgaWYgKDIgPCBhcmdzLmxlbmd0aCB8fCBlZS5UeXBlcy5pc1N0cmluZyhhcmdzWzBdKSB8fCBlZS5UeXBlcy5pc051bWJlcihhcmdzWzBdKSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCEoZWUuVHlwZXMuaXNTdHJpbmcoYXJnc1tpXSkgfHwgZWUuVHlwZXMuaXNOdW1iZXIoYXJnc1tpXSkgfHwgYXJnc1tpXSBpbnN0YW5jZW9mIGVlLkNvbXB1dGVkT2JqZWN0KSkge1xuICAgICAgICB0aHJvdyBFcnJvcihcIklsbGVnYWwgYXJndW1lbnQgdG8gc2VsZWN0KCk6IFwiICsgYXJnc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGFsZ29yaXRobUFyZ3MuYmFuZFNlbGVjdG9ycyA9IGFyZ3M7XG4gIH0gZWxzZSB7XG4gICAgYXJnc1sxXSAmJiAoYWxnb3JpdGhtQXJncy5uZXdOYW1lcyA9IGFyZ3NbMV0pO1xuICB9XG4gIHJldHVybiBlZS5BcGlGdW5jdGlvbi5fYXBwbHkoXCJJbWFnZS5zZWxlY3RcIiwgYWxnb3JpdGhtQXJncyk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5JbWFnZS5wcm90b3R5cGUsIFwic2VsZWN0XCIsIGVlLkltYWdlLnByb3RvdHlwZS5zZWxlY3QpO1xuZWUuSW1hZ2UucHJvdG90eXBlLmV4cHJlc3Npb24gPSBmdW5jdGlvbihleHByZXNzaW9uLCBvcHRfbWFwKSB7XG4gIHZhciBvcmlnaW5hbEFyZ3MgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihlZS5JbWFnZS5wcm90b3R5cGUuZXhwcmVzc2lvbiwgYXJndW1lbnRzKSwgdmFycyA9IFtcIkRFRkFVTFRfRVhQUkVTU0lPTl9JTUFHRVwiXSwgZWVBcmdzID0ge0RFRkFVTFRfRVhQUkVTU0lPTl9JTUFHRTp0aGlzfTtcbiAgaWYgKG9yaWdpbmFsQXJncy5tYXApIHtcbiAgICB2YXIgbWFwID0gb3JpZ2luYWxBcmdzLm1hcCwgbmFtZSRqc2NvbXAkMDtcbiAgICBmb3IgKG5hbWUkanNjb21wJDAgaW4gbWFwKSB7XG4gICAgICB2YXJzLnB1c2gobmFtZSRqc2NvbXAkMCksIGVlQXJnc1tuYW1lJGpzY29tcCQwXSA9IG5ldyBlZS5JbWFnZShtYXBbbmFtZSRqc2NvbXAkMF0pO1xuICAgIH1cbiAgfVxuICB2YXIgYm9keSA9IGVlLkFwaUZ1bmN0aW9uLl9jYWxsKFwiSW1hZ2UucGFyc2VFeHByZXNzaW9uXCIsIG9yaWdpbmFsQXJncy5leHByZXNzaW9uLCBcIkRFRkFVTFRfRVhQUkVTU0lPTl9JTUFHRVwiLCB2YXJzKSwgZnVuYyA9IG5ldyBlZS5GdW5jdGlvbigpO1xuICBmdW5jLmVuY29kZSA9IGZ1bmN0aW9uKGVuY29kZXIpIHtcbiAgICByZXR1cm4gYm9keS5lbmNvZGUoZW5jb2Rlcik7XG4gIH07XG4gIGZ1bmMuZW5jb2RlQ2xvdWRJbnZvY2F0aW9uID0gZnVuY3Rpb24oc2VyaWFsaXplciwgYXJncykge1xuICAgIHJldHVybiBlZS5ycGNfbm9kZS5mdW5jdGlvbkJ5UmVmZXJlbmNlKHNlcmlhbGl6ZXIubWFrZVJlZmVyZW5jZShib2R5KSwgYXJncyk7XG4gIH07XG4gIGZ1bmMuZ2V0U2lnbmF0dXJlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtuYW1lOlwiXCIsIGFyZ3M6bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbWFwKHZhcnMsIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHJldHVybiB7bmFtZTpuYW1lLCB0eXBlOlwiSW1hZ2VcIiwgb3B0aW9uYWw6ITF9O1xuICAgIH0sIHRoaXMpLCByZXR1cm5zOlwiSW1hZ2VcIn07XG4gIH07XG4gIHJldHVybiBmdW5jLmFwcGx5KGVlQXJncyk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5JbWFnZS5wcm90b3R5cGUsIFwiZXhwcmVzc2lvblwiLCBlZS5JbWFnZS5wcm90b3R5cGUuZXhwcmVzc2lvbik7XG5lZS5JbWFnZS5wcm90b3R5cGUuY2xpcCA9IGZ1bmN0aW9uKGdlb21ldHJ5KSB7XG4gIHRyeSB7XG4gICAgZ2VvbWV0cnkgPSBuZXcgZWUuR2VvbWV0cnkoZ2VvbWV0cnkpO1xuICB9IGNhdGNoIChlKSB7XG4gIH1cbiAgcmV0dXJuIGVlLkFwaUZ1bmN0aW9uLl9jYWxsKFwiSW1hZ2UuY2xpcFwiLCB0aGlzLCBnZW9tZXRyeSk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5JbWFnZS5wcm90b3R5cGUsIFwiY2xpcFwiLCBlZS5JbWFnZS5wcm90b3R5cGUuY2xpcCk7XG5lZS5JbWFnZS5wcm90b3R5cGUucmVuYW1lID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgdmFyIG5hbWVzID0gMSAhPSBhcmd1bWVudHMubGVuZ3RoIHx8IGVlLlR5cGVzLmlzU3RyaW5nKGFyZ3VtZW50c1swXSkgPyBBcnJheS5mcm9tKGFyZ3VtZW50cykgOiBhcmd1bWVudHNbMF07XG4gIHJldHVybiBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkltYWdlLnJlbmFtZVwiLCB0aGlzLCBuYW1lcyk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5JbWFnZS5wcm90b3R5cGUsIFwicmVuYW1lXCIsIGVlLkltYWdlLnByb3RvdHlwZS5yZW5hbWUpO1xuZWUuSW1hZ2UucHJvdG90eXBlLm5hbWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFwiSW1hZ2VcIjtcbn07XG5lZS5MaXN0ID0gZnVuY3Rpb24obGlzdCkge1xuICBpZiAodGhpcyBpbnN0YW5jZW9mIGVlLkxpc3QpIHtcbiAgICBpZiAoMSA8IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgIHRocm93IEVycm9yKFwiZWUuTGlzdCgpIG9ubHkgYWNjZXB0cyAxIGFyZ3VtZW50LlwiKTtcbiAgICB9XG4gICAgaWYgKGxpc3QgaW5zdGFuY2VvZiBlZS5MaXN0KSB7XG4gICAgICByZXR1cm4gbGlzdDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGVlLkNvbXB1dGVkT2JqZWN0LmNvbnN0cnVjdChlZS5MaXN0LCBhcmd1bWVudHMpO1xuICB9XG4gIGVlLkxpc3QuaW5pdGlhbGl6ZSgpO1xuICBpZiAoQXJyYXkuaXNBcnJheShsaXN0KSkge1xuICAgIGVlLkNvbXB1dGVkT2JqZWN0LmNhbGwodGhpcywgbnVsbCwgbnVsbCksIHRoaXMubGlzdF8gPSBsaXN0O1xuICB9IGVsc2Uge1xuICAgIGlmIChsaXN0IGluc3RhbmNlb2YgZWUuQ29tcHV0ZWRPYmplY3QpIHtcbiAgICAgIGVlLkNvbXB1dGVkT2JqZWN0LmNhbGwodGhpcywgbGlzdC5mdW5jLCBsaXN0LmFyZ3MsIGxpc3QudmFyTmFtZSksIHRoaXMubGlzdF8gPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQgc3BlY2lmaWVkIGZvciBlZS5MaXN0KCk6IFwiICsgbGlzdCk7XG4gICAgfVxuICB9XG59O1xuZ29vZy5pbmhlcml0cyhlZS5MaXN0LCBlZS5Db21wdXRlZE9iamVjdCk7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLkxpc3RcIiwgZWUuTGlzdCk7XG5lZS5MaXN0LmluaXRpYWxpemVkXyA9ICExO1xuZWUuTGlzdC5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XG4gIGVlLkxpc3QuaW5pdGlhbGl6ZWRfIHx8IChlZS5BcGlGdW5jdGlvbi5pbXBvcnRBcGkoZWUuTGlzdCwgXCJMaXN0XCIsIFwiTGlzdFwiKSwgZWUuTGlzdC5pbml0aWFsaXplZF8gPSAhMCk7XG59O1xuZWUuTGlzdC5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICBlZS5BcGlGdW5jdGlvbi5jbGVhckFwaShlZS5MaXN0KTtcbiAgZWUuTGlzdC5pbml0aWFsaXplZF8gPSAhMTtcbn07XG5lZS5MaXN0LnByb3RvdHlwZS5lbmNvZGUgPSBmdW5jdGlvbihlbmNvZGVyKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KHRoaXMubGlzdF8pID8gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbWFwKHRoaXMubGlzdF8sIGZ1bmN0aW9uKGVsZW0pIHtcbiAgICByZXR1cm4gZW5jb2RlcihlbGVtKTtcbiAgfSkgOiBlZS5MaXN0LnN1cGVyQ2xhc3NfLmVuY29kZS5jYWxsKHRoaXMsIGVuY29kZXIpO1xufTtcbmVlLkxpc3QucHJvdG90eXBlLmVuY29kZUNsb3VkVmFsdWUgPSBmdW5jdGlvbihzZXJpYWxpemVyKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KHRoaXMubGlzdF8pID8gZWUucnBjX25vZGUucmVmZXJlbmNlKHNlcmlhbGl6ZXIubWFrZVJlZmVyZW5jZSh0aGlzLmxpc3RfKSkgOiBlZS5MaXN0LnN1cGVyQ2xhc3NfLmVuY29kZUNsb3VkVmFsdWUuY2FsbCh0aGlzLCBzZXJpYWxpemVyKTtcbn07XG5lZS5MaXN0LnByb3RvdHlwZS5uYW1lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBcIkxpc3RcIjtcbn07XG5lZS5GZWF0dXJlQ29sbGVjdGlvbiA9IGZ1bmN0aW9uKGFyZ3MsIG9wdF9jb2x1bW4pIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGVlLkZlYXR1cmVDb2xsZWN0aW9uKSkge1xuICAgIHJldHVybiBlZS5Db21wdXRlZE9iamVjdC5jb25zdHJ1Y3QoZWUuRmVhdHVyZUNvbGxlY3Rpb24sIGFyZ3VtZW50cyk7XG4gIH1cbiAgaWYgKGFyZ3MgaW5zdGFuY2VvZiBlZS5GZWF0dXJlQ29sbGVjdGlvbikge1xuICAgIHJldHVybiBhcmdzO1xuICB9XG4gIGlmICgyIDwgYXJndW1lbnRzLmxlbmd0aCkge1xuICAgIHRocm93IEVycm9yKFwiVGhlIEZlYXR1cmVDb2xsZWN0aW9uIGNvbnN0cnVjdG9yIHRha2VzIGF0IG1vc3QgMiBhcmd1bWVudHMgKFwiICsgYXJndW1lbnRzLmxlbmd0aCArIFwiIGdpdmVuKVwiKTtcbiAgfVxuICBlZS5GZWF0dXJlQ29sbGVjdGlvbi5pbml0aWFsaXplKCk7XG4gIGFyZ3MgaW5zdGFuY2VvZiBlZS5HZW9tZXRyeSAmJiAoYXJncyA9IG5ldyBlZS5GZWF0dXJlKGFyZ3MpKTtcbiAgYXJncyBpbnN0YW5jZW9mIGVlLkZlYXR1cmUgJiYgKGFyZ3MgPSBbYXJnc10pO1xuICBpZiAoZWUuVHlwZXMuaXNTdHJpbmcoYXJncykpIHtcbiAgICB2YXIgYWN0dWFsQXJncyA9IHt0YWJsZUlkOmFyZ3N9O1xuICAgIG9wdF9jb2x1bW4gJiYgKGFjdHVhbEFyZ3MuZ2VvbWV0cnlDb2x1bW4gPSBvcHRfY29sdW1uKTtcbiAgICBlZS5Db2xsZWN0aW9uLmNhbGwodGhpcywgbmV3IGVlLkFwaUZ1bmN0aW9uKFwiQ29sbGVjdGlvbi5sb2FkVGFibGVcIiksIGFjdHVhbEFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGFyZ3MpKSB7XG4gICAgICBlZS5Db2xsZWN0aW9uLmNhbGwodGhpcywgbmV3IGVlLkFwaUZ1bmN0aW9uKFwiQ29sbGVjdGlvblwiKSwge2ZlYXR1cmVzOm1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X21hcChhcmdzLCBmdW5jdGlvbihlbGVtKSB7XG4gICAgICAgIHJldHVybiBuZXcgZWUuRmVhdHVyZShlbGVtKTtcbiAgICAgIH0pfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChhcmdzIGluc3RhbmNlb2YgZWUuTGlzdCkge1xuICAgICAgICBlZS5Db2xsZWN0aW9uLmNhbGwodGhpcywgbmV3IGVlLkFwaUZ1bmN0aW9uKFwiQ29sbGVjdGlvblwiKSwge2ZlYXR1cmVzOmFyZ3N9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChhcmdzICYmIFwib2JqZWN0XCIgPT09IHR5cGVvZiBhcmdzICYmIFwiRmVhdHVyZUNvbGxlY3Rpb25cIiA9PT0gYXJncy50eXBlKSB7XG4gICAgICAgICAgZWUuQ29sbGVjdGlvbi5jYWxsKHRoaXMsIG5ldyBlZS5BcGlGdW5jdGlvbihcIkNvbGxlY3Rpb25cIiksIHtmZWF0dXJlczphcmdzLmZlYXR1cmVzLm1hcChmdW5jdGlvbihmKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGVlLkZlYXR1cmUoZik7XG4gICAgICAgICAgfSl9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoYXJncyBpbnN0YW5jZW9mIGVlLkNvbXB1dGVkT2JqZWN0KSB7XG4gICAgICAgICAgICBlZS5Db2xsZWN0aW9uLmNhbGwodGhpcywgYXJncy5mdW5jLCBhcmdzLmFyZ3MsIGFyZ3MudmFyTmFtZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiVW5yZWNvZ25pemVkIGFyZ3VtZW50IHR5cGUgdG8gY29udmVydCB0byBhIEZlYXR1cmVDb2xsZWN0aW9uOiBcIiArIGFyZ3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbmdvb2cuaW5oZXJpdHMoZWUuRmVhdHVyZUNvbGxlY3Rpb24sIGVlLkNvbGxlY3Rpb24pO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5GZWF0dXJlQ29sbGVjdGlvblwiLCBlZS5GZWF0dXJlQ29sbGVjdGlvbik7XG5lZS5GZWF0dXJlQ29sbGVjdGlvbi5pbml0aWFsaXplZF8gPSAhMTtcbmVlLkZlYXR1cmVDb2xsZWN0aW9uLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcbiAgZWUuRmVhdHVyZUNvbGxlY3Rpb24uaW5pdGlhbGl6ZWRfIHx8IChlZS5BcGlGdW5jdGlvbi5pbXBvcnRBcGkoZWUuRmVhdHVyZUNvbGxlY3Rpb24sIFwiRmVhdHVyZUNvbGxlY3Rpb25cIiwgXCJGZWF0dXJlQ29sbGVjdGlvblwiKSwgZWUuRmVhdHVyZUNvbGxlY3Rpb24uaW5pdGlhbGl6ZWRfID0gITApO1xufTtcbmVlLkZlYXR1cmVDb2xsZWN0aW9uLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gIGVlLkFwaUZ1bmN0aW9uLmNsZWFyQXBpKGVlLkZlYXR1cmVDb2xsZWN0aW9uKTtcbiAgZWUuRmVhdHVyZUNvbGxlY3Rpb24uaW5pdGlhbGl6ZWRfID0gITE7XG59O1xuZWUuRmVhdHVyZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldE1hcCA9IGZ1bmN0aW9uKG9wdF92aXNQYXJhbXMsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgYXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkZlYXR1cmVDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRNYXAsIGFyZ3VtZW50cyksIHBhaW50ZWQgPSBlZS5BcGlGdW5jdGlvbi5fYXBwbHkoXCJDb2xsZWN0aW9uLmRyYXdcIiwge2NvbGxlY3Rpb246dGhpcywgY29sb3I6KGFyZ3MudmlzUGFyYW1zIHx8IHt9KS5jb2xvciB8fCBcIjAwMDAwMFwifSk7XG4gIGlmIChhcmdzLmNhbGxiYWNrKSB7XG4gICAgcGFpbnRlZC5nZXRNYXAodm9pZCAwLCBhcmdzLmNhbGxiYWNrKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcGFpbnRlZC5nZXRNYXAoKTtcbiAgfVxufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuRmVhdHVyZUNvbGxlY3Rpb24ucHJvdG90eXBlLCBcImdldE1hcFwiLCBlZS5GZWF0dXJlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0TWFwKTtcbmVlLkZlYXR1cmVDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRJbmZvID0gZnVuY3Rpb24ob3B0X2NhbGxiYWNrKSB7XG4gIHJldHVybiBlZS5GZWF0dXJlQ29sbGVjdGlvbi5zdXBlckNsYXNzXy5nZXRJbmZvLmNhbGwodGhpcywgb3B0X2NhbGxiYWNrKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkZlYXR1cmVDb2xsZWN0aW9uLnByb3RvdHlwZSwgXCJnZXRJbmZvXCIsIGVlLkZlYXR1cmVDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRJbmZvKTtcbmVlLkZlYXR1cmVDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXREb3dubG9hZFVSTCA9IGZ1bmN0aW9uKG9wdF9mb3JtYXQsIG9wdF9zZWxlY3RvcnMsIG9wdF9maWxlbmFtZSwgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciBhcmdzID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24oZWUuRmVhdHVyZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldERvd25sb2FkVVJMLCBhcmd1bWVudHMpLCByZXF1ZXN0ID0ge3RhYmxlOnRoaXN9O1xuICBhcmdzLmZvcm1hdCAmJiAocmVxdWVzdC5mb3JtYXQgPSBhcmdzLmZvcm1hdC50b1VwcGVyQ2FzZSgpKTtcbiAgYXJncy5maWxlbmFtZSAmJiAocmVxdWVzdC5maWxlbmFtZSA9IGFyZ3MuZmlsZW5hbWUpO1xuICBhcmdzLnNlbGVjdG9ycyAmJiAocmVxdWVzdC5zZWxlY3RvcnMgPSBhcmdzLnNlbGVjdG9ycyk7XG4gIGlmIChhcmdzLmNhbGxiYWNrKSB7XG4gICAgZWUuZGF0YS5nZXRUYWJsZURvd25sb2FkSWQocmVxdWVzdCwgZnVuY3Rpb24oZG93bmxvYWRJZCwgZXJyb3IpIHtcbiAgICAgIGRvd25sb2FkSWQgPyBhcmdzLmNhbGxiYWNrKGVlLmRhdGEubWFrZVRhYmxlRG93bmxvYWRVcmwoZG93bmxvYWRJZCkpIDogYXJncy5jYWxsYmFjayhudWxsLCBlcnJvcik7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGVlLmRhdGEubWFrZVRhYmxlRG93bmxvYWRVcmwoZWUuZGF0YS5nZXRUYWJsZURvd25sb2FkSWQocmVxdWVzdCkpO1xuICB9XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5GZWF0dXJlQ29sbGVjdGlvbi5wcm90b3R5cGUsIFwiZ2V0RG93bmxvYWRVUkxcIiwgZWUuRmVhdHVyZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldERvd25sb2FkVVJMKTtcbmVlLkZlYXR1cmVDb2xsZWN0aW9uLnByb3RvdHlwZS5zZWxlY3QgPSBmdW5jdGlvbihwcm9wZXJ0eVNlbGVjdG9ycywgb3B0X25ld1Byb3BlcnRpZXMsIG9wdF9yZXRhaW5HZW9tZXRyeSkge1xuICBpZiAoZWUuVHlwZXMuaXNTdHJpbmcocHJvcGVydHlTZWxlY3RvcnMpKSB7XG4gICAgdmFyIHZhcmFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbihmZWF0dXJlKSB7XG4gICAgICByZXR1cm4gZmVhdHVyZS5zZWxlY3QodmFyYXJncyk7XG4gICAgfSk7XG4gIH1cbiAgdmFyIGFyZ3MgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihlZS5GZWF0dXJlQ29sbGVjdGlvbi5wcm90b3R5cGUuc2VsZWN0LCBhcmd1bWVudHMpO1xuICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oZmVhdHVyZSkge1xuICAgIHJldHVybiBmZWF0dXJlLnNlbGVjdChhcmdzKTtcbiAgfSk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5GZWF0dXJlQ29sbGVjdGlvbi5wcm90b3R5cGUsIFwic2VsZWN0XCIsIGVlLkZlYXR1cmVDb2xsZWN0aW9uLnByb3RvdHlwZS5zZWxlY3QpO1xuZWUuRmVhdHVyZUNvbGxlY3Rpb24ucHJvdG90eXBlLm5hbWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFwiRmVhdHVyZUNvbGxlY3Rpb25cIjtcbn07XG5lZS5GZWF0dXJlQ29sbGVjdGlvbi5wcm90b3R5cGUuZWxlbWVudFR5cGUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGVlLkZlYXR1cmU7XG59O1xuZWUuSW1hZ2VDb2xsZWN0aW9uID0gZnVuY3Rpb24oYXJncykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgZWUuSW1hZ2VDb2xsZWN0aW9uKSkge1xuICAgIHJldHVybiBlZS5Db21wdXRlZE9iamVjdC5jb25zdHJ1Y3QoZWUuSW1hZ2VDb2xsZWN0aW9uLCBhcmd1bWVudHMpO1xuICB9XG4gIGlmIChhcmdzIGluc3RhbmNlb2YgZWUuSW1hZ2VDb2xsZWN0aW9uKSB7XG4gICAgcmV0dXJuIGFyZ3M7XG4gIH1cbiAgaWYgKDEgIT0gYXJndW1lbnRzLmxlbmd0aCkge1xuICAgIHRocm93IEVycm9yKFwiVGhlIEltYWdlQ29sbGVjdGlvbiBjb25zdHJ1Y3RvciB0YWtlcyBleGFjdGx5IDEgYXJndW1lbnQgKFwiICsgYXJndW1lbnRzLmxlbmd0aCArIFwiIGdpdmVuKVwiKTtcbiAgfVxuICBlZS5JbWFnZUNvbGxlY3Rpb24uaW5pdGlhbGl6ZSgpO1xuICBhcmdzIGluc3RhbmNlb2YgZWUuSW1hZ2UgJiYgKGFyZ3MgPSBbYXJnc10pO1xuICBpZiAoZWUuVHlwZXMuaXNTdHJpbmcoYXJncykpIHtcbiAgICBlZS5Db2xsZWN0aW9uLmNhbGwodGhpcywgbmV3IGVlLkFwaUZ1bmN0aW9uKFwiSW1hZ2VDb2xsZWN0aW9uLmxvYWRcIiksIHtpZDphcmdzfSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYXJncykpIHtcbiAgICAgIGVlLkNvbGxlY3Rpb24uY2FsbCh0aGlzLCBuZXcgZWUuQXBpRnVuY3Rpb24oXCJJbWFnZUNvbGxlY3Rpb24uZnJvbUltYWdlc1wiKSwge2ltYWdlczptb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9tYXAoYXJncywgZnVuY3Rpb24oZWxlbSkge1xuICAgICAgICByZXR1cm4gbmV3IGVlLkltYWdlKGVsZW0pO1xuICAgICAgfSl9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGFyZ3MgaW5zdGFuY2VvZiBlZS5MaXN0KSB7XG4gICAgICAgIGVlLkNvbGxlY3Rpb24uY2FsbCh0aGlzLCBuZXcgZWUuQXBpRnVuY3Rpb24oXCJJbWFnZUNvbGxlY3Rpb24uZnJvbUltYWdlc1wiKSwge2ltYWdlczphcmdzfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoYXJncyBpbnN0YW5jZW9mIGVlLkNvbXB1dGVkT2JqZWN0KSB7XG4gICAgICAgICAgZWUuQ29sbGVjdGlvbi5jYWxsKHRoaXMsIGFyZ3MuZnVuYywgYXJncy5hcmdzLCBhcmdzLnZhck5hbWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IEVycm9yKFwiVW5yZWNvZ25pemVkIGFyZ3VtZW50IHR5cGUgdG8gY29udmVydCB0byBhbiBJbWFnZUNvbGxlY3Rpb246IFwiICsgYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5nb29nLmluaGVyaXRzKGVlLkltYWdlQ29sbGVjdGlvbiwgZWUuQ29sbGVjdGlvbik7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLkltYWdlQ29sbGVjdGlvblwiLCBlZS5JbWFnZUNvbGxlY3Rpb24pO1xuZWUuSW1hZ2VDb2xsZWN0aW9uLmluaXRpYWxpemVkXyA9ICExO1xuZWUuSW1hZ2VDb2xsZWN0aW9uLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcbiAgZWUuSW1hZ2VDb2xsZWN0aW9uLmluaXRpYWxpemVkXyB8fCAoZWUuQXBpRnVuY3Rpb24uaW1wb3J0QXBpKGVlLkltYWdlQ29sbGVjdGlvbiwgXCJJbWFnZUNvbGxlY3Rpb25cIiwgXCJJbWFnZUNvbGxlY3Rpb25cIiksIGVlLkFwaUZ1bmN0aW9uLmltcG9ydEFwaShlZS5JbWFnZUNvbGxlY3Rpb24sIFwicmVkdWNlXCIsIFwiSW1hZ2VDb2xsZWN0aW9uXCIpLCBlZS5JbWFnZUNvbGxlY3Rpb24uaW5pdGlhbGl6ZWRfID0gITApO1xufTtcbmVlLkltYWdlQ29sbGVjdGlvbi5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICBlZS5BcGlGdW5jdGlvbi5jbGVhckFwaShlZS5JbWFnZUNvbGxlY3Rpb24pO1xuICBlZS5JbWFnZUNvbGxlY3Rpb24uaW5pdGlhbGl6ZWRfID0gITE7XG59O1xuZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRGaWxtc3RyaXBUaHVtYlVSTCA9IGZ1bmN0aW9uKHBhcmFtcywgb3B0X2NhbGxiYWNrKSB7XG4gIHZhciBhcmdzID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24oZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRGaWxtc3RyaXBUaHVtYlVSTCwgYXJndW1lbnRzKTtcbiAgcmV0dXJuIGVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0VGh1bWJVUkxfKHRoaXMsIGFyZ3MsIFtcInBuZ1wiLCBcImpwZ1wiLCBcImpwZWdcIl0sIGVlLkltYWdlQ29sbGVjdGlvbi5UaHVtYlR5cGVzLkZJTE1TVFJJUCwgb3B0X2NhbGxiYWNrKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUsIFwiZ2V0RmlsbXN0cmlwVGh1bWJVUkxcIiwgZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRGaWxtc3RyaXBUaHVtYlVSTCk7XG5lZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldFZpZGVvVGh1bWJVUkwgPSBmdW5jdGlvbihwYXJhbXMsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgYXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0VmlkZW9UaHVtYlVSTCwgYXJndW1lbnRzKTtcbiAgcmV0dXJuIGVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0VGh1bWJVUkxfKHRoaXMsIGFyZ3MsIFtcImdpZlwiXSwgZWUuSW1hZ2VDb2xsZWN0aW9uLlRodW1iVHlwZXMuVklERU8sIG9wdF9jYWxsYmFjayk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLCBcImdldFZpZGVvVGh1bWJVUkxcIiwgZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRWaWRlb1RodW1iVVJMKTtcbmVlLkltYWdlQ29sbGVjdGlvbi5UaHVtYlR5cGVzID0ge0ZJTE1TVFJJUDpcImZpbG1zdHJpcFwiLCBWSURFTzpcInZpZGVvXCIsIElNQUdFOlwiaW1hZ2VcIix9O1xuZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRUaHVtYlVSTF8gPSBmdW5jdGlvbihjb2xsZWN0aW9uLCBhcmdzLCB2YWxpZEZvcm1hdHMsIG9wdF90aHVtYlR5cGUsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgZXh0cmFQYXJhbXMgPSB7fSwgY2xpcHBlZENvbGxlY3Rpb24gPSBjb2xsZWN0aW9uLm1hcChmdW5jdGlvbihpbWFnZSkge1xuICAgIHZhciBwcm9qZWN0ZWQgPSBlZS5kYXRhLmltYWdlcy5hcHBseUNyc0FuZFRyYW5zZm9ybShpbWFnZSwgYXJncy5wYXJhbXMpO1xuICAgIHJldHVybiBlZS5kYXRhLmltYWdlcy5hcHBseVNlbGVjdGlvbkFuZFNjYWxlKHByb2plY3RlZCwgYXJncy5wYXJhbXMsIGV4dHJhUGFyYW1zKTtcbiAgfSksIHJlcXVlc3QgPSB7fSwgdmlzUGFyYW1zID0gZWUuZGF0YS5pbWFnZXMuZXh0cmFjdFZpc1BhcmFtcyhleHRyYVBhcmFtcywgcmVxdWVzdCk7XG4gIHJlcXVlc3QuaW1hZ2VDb2xsZWN0aW9uID0gY2xpcHBlZENvbGxlY3Rpb24ubWFwKGZ1bmN0aW9uKGltYWdlKSB7XG4gICAgdmlzUGFyYW1zLmltYWdlID0gaW1hZ2U7XG4gICAgcmV0dXJuIGVlLkFwaUZ1bmN0aW9uLl9hcHBseShcIkltYWdlLnZpc3VhbGl6ZVwiLCB2aXNQYXJhbXMpO1xuICB9KTtcbiAgbnVsbCAhPSBhcmdzLnBhcmFtcy5kaW1lbnNpb25zICYmIChyZXF1ZXN0LmRpbWVuc2lvbnMgPSBhcmdzLnBhcmFtcy5kaW1lbnNpb25zKTtcbiAgaWYgKHJlcXVlc3QuZm9ybWF0KSB7XG4gICAgaWYgKCFtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zb21lKHZhbGlkRm9ybWF0cywgZnVuY3Rpb24oZm9ybWF0KSB7XG4gICAgICByZXR1cm4gZ29vZy5zdHJpbmcuY2FzZUluc2Vuc2l0aXZlRXF1YWxzKGZvcm1hdCwgcmVxdWVzdC5mb3JtYXQpO1xuICAgIH0pKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgZm9ybWF0IHNwZWNpZmllZC5cIik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJlcXVlc3QuZm9ybWF0ID0gdmFsaWRGb3JtYXRzWzBdO1xuICB9XG4gIHZhciBnZXRUaHVtYklkID0gZWUuZGF0YS5nZXRUaHVtYklkO1xuICBzd2l0Y2gob3B0X3RodW1iVHlwZSkge1xuICAgIGNhc2UgZWUuSW1hZ2VDb2xsZWN0aW9uLlRodW1iVHlwZXMuVklERU86XG4gICAgICBnZXRUaHVtYklkID0gZWUuZGF0YS5nZXRWaWRlb1RodW1iSWQ7XG4gICAgICBicmVhaztcbiAgICBjYXNlIGVlLkltYWdlQ29sbGVjdGlvbi5UaHVtYlR5cGVzLkZJTE1TVFJJUDpcbiAgICAgIGdldFRodW1iSWQgPSBlZS5kYXRhLmdldEZpbG1zdHJpcFRodW1iSWQ7XG4gIH1cbiAgaWYgKGFyZ3MuY2FsbGJhY2spIHtcbiAgICBnZXRUaHVtYklkKHJlcXVlc3QsIGZ1bmN0aW9uKHRodW1iSWQsIG9wdF9lcnJvcikge1xuICAgICAgdmFyIHRodW1iVXJsID0gXCJcIjtcbiAgICAgIGlmICh2b2lkIDAgPT09IG9wdF9lcnJvcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHRodW1iVXJsID0gZWUuZGF0YS5tYWtlVGh1bWJVcmwodGh1bWJJZCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBvcHRfZXJyb3IgPSBTdHJpbmcoZS5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYXJncy5jYWxsYmFjayh0aHVtYlVybCwgb3B0X2Vycm9yKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZWUuZGF0YS5tYWtlVGh1bWJVcmwoZ2V0VGh1bWJJZChyZXF1ZXN0KSk7XG4gIH1cbn07XG5lZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldE1hcCA9IGZ1bmN0aW9uKG9wdF92aXNQYXJhbXMsIG9wdF9jYWxsYmFjaykge1xuICB2YXIgYXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0TWFwLCBhcmd1bWVudHMpLCBtb3NhaWMgPSBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkltYWdlQ29sbGVjdGlvbi5tb3NhaWNcIiwgdGhpcyk7XG4gIGlmIChhcmdzLmNhbGxiYWNrKSB7XG4gICAgbW9zYWljLmdldE1hcChhcmdzLnZpc1BhcmFtcywgYXJncy5jYWxsYmFjayk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG1vc2FpYy5nZXRNYXAoYXJncy52aXNQYXJhbXMpO1xuICB9XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLCBcImdldE1hcFwiLCBlZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldE1hcCk7XG5lZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldEluZm8gPSBmdW5jdGlvbihvcHRfY2FsbGJhY2spIHtcbiAgcmV0dXJuIGVlLkltYWdlQ29sbGVjdGlvbi5zdXBlckNsYXNzXy5nZXRJbmZvLmNhbGwodGhpcywgb3B0X2NhbGxiYWNrKTtcbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUsIFwiZ2V0SW5mb1wiLCBlZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldEluZm8pO1xuZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5zZWxlY3QgPSBmdW5jdGlvbihzZWxlY3RvcnMsIG9wdF9uYW1lcykge1xuICB2YXIgdmFyYXJncyA9IGFyZ3VtZW50cztcbiAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmouc2VsZWN0LmFwcGx5KG9iaiwgdmFyYXJncyk7XG4gIH0pO1xufTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZSwgXCJzZWxlY3RcIiwgZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5zZWxlY3QpO1xuZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5maXJzdCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IGVlLkltYWdlKGVlLkFwaUZ1bmN0aW9uLl9jYWxsKFwiQ29sbGVjdGlvbi5maXJzdFwiLCB0aGlzKSk7XG59O1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLCBcImZpcnN0XCIsIGVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuZmlyc3QpO1xuZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5uYW1lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBcIkltYWdlQ29sbGVjdGlvblwiO1xufTtcbmVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuZWxlbWVudFR5cGUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGVlLkltYWdlO1xufTtcbmVlLmJhdGNoID0ge307XG52YXIgbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydCA9IHtpbWFnZTp7fSwgbWFwOnt9LCB0YWJsZTp7fSwgdmlkZW86e30sIHZpZGVvTWFwOnt9LCBjbGFzc2lmaWVyOnt9fSwgbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydFRhc2sgPSBmdW5jdGlvbihjb25maWcpIHtcbiAgdGhpcy5jb25maWdfID0gY29uZmlnO1xuICB0aGlzLmlkID0gbnVsbDtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0VGFzay5jcmVhdGUgPSBmdW5jdGlvbihleHBvcnRBcmdzKSB7XG4gIHZhciBjb25maWcgPSB7ZWxlbWVudDptb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmV4dHJhY3RFbGVtZW50KGV4cG9ydEFyZ3MpfTtcbiAgT2JqZWN0LmFzc2lnbihjb25maWcsIGV4cG9ydEFyZ3MpO1xuICBjb25maWcgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZmlsdGVyKGNvbmZpZywgZnVuY3Rpb24oeCkge1xuICAgIHJldHVybiBudWxsICE9IHg7XG4gIH0pO1xuICByZXR1cm4gbmV3IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnRUYXNrKGNvbmZpZyk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydFRhc2sucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24ob3B0X3N1Y2Nlc3MsIG9wdF9lcnJvcikge1xuICB2YXIgJGpzY29tcCR0aGlzID0gdGhpcztcbiAgZ29vZy5hc3NlcnRzLmFzc2VydCh0aGlzLmNvbmZpZ18sIFwiVGFzayBjb25maWcgbXVzdCBiZSBzcGVjaWZpZWQgZm9yIHRhc2tzIHRvIGJlIHN0YXJ0ZWQuXCIpO1xuICBpZiAob3B0X3N1Y2Nlc3MpIHtcbiAgICB2YXIgc3RhcnRQcm9jZXNzaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgICBnb29nLmFzc2VydHMuYXNzZXJ0U3RyaW5nKCRqc2NvbXAkdGhpcy5pZCk7XG4gICAgICBlZS5kYXRhLnN0YXJ0UHJvY2Vzc2luZygkanNjb21wJHRoaXMuaWQsICRqc2NvbXAkdGhpcy5jb25maWdfLCBmdW5jdGlvbihfLCBlcnJvcikge1xuICAgICAgICBlcnJvciA/IG9wdF9lcnJvcihlcnJvcikgOiBvcHRfc3VjY2VzcygpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLmlkID8gc3RhcnRQcm9jZXNzaW5nKCkgOiBlZS5kYXRhLm5ld1Rhc2tJZCgxLCBmdW5jdGlvbihpZHMpIHtcbiAgICAgIHZhciBpZCA9IGlkcyAmJiBpZHNbMF07XG4gICAgICBpZCA/ICgkanNjb21wJHRoaXMuaWQgPSBpZCwgc3RhcnRQcm9jZXNzaW5nKCkpIDogb3B0X2Vycm9yKFwiRmFpbGVkIHRvIG9idGFpbiB0YXNrIElELlwiKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmlkID0gdGhpcy5pZCB8fCBlZS5kYXRhLm5ld1Rhc2tJZCgxKVswXSwgZ29vZy5hc3NlcnRzLmFzc2VydFN0cmluZyh0aGlzLmlkLCBcIkZhaWxlZCB0byBvYnRhaW4gdGFzayBJRC5cIiksIGVlLmRhdGEuc3RhcnRQcm9jZXNzaW5nKHRoaXMuaWQsIHRoaXMuY29uZmlnXyk7XG4gIH1cbn07XG5nb29nLmV4cG9ydFByb3BlcnR5KG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnRUYXNrLnByb3RvdHlwZSwgXCJzdGFydFwiLCBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0VGFzay5wcm90b3R5cGUuc3RhcnQpO1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5pbWFnZS50b0Fzc2V0ID0gZnVuY3Rpb24oaW1hZ2UsIG9wdF9kZXNjcmlwdGlvbiwgb3B0X2Fzc2V0SWQsIG9wdF9weXJhbWlkaW5nUG9saWN5LCBvcHRfZGltZW5zaW9ucywgb3B0X3JlZ2lvbiwgb3B0X3NjYWxlLCBvcHRfY3JzLCBvcHRfY3JzVHJhbnNmb3JtLCBvcHRfbWF4UGl4ZWxzLCBvcHRfc2hhcmRTaXplKSB7XG4gIHZhciBjbGllbnRDb25maWcgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmltYWdlLnRvQXNzZXQsIGFyZ3VtZW50cyksIHNlcnZlckNvbmZpZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuY29udmVydFRvU2VydmVyUGFyYW1zKGNsaWVudENvbmZpZywgZWUuZGF0YS5FeHBvcnREZXN0aW5hdGlvbi5BU1NFVCwgZWUuZGF0YS5FeHBvcnRUeXBlLklNQUdFKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnRUYXNrLmNyZWF0ZShzZXJ2ZXJDb25maWcpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwibW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5pbWFnZS50b0Fzc2V0XCIsIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuaW1hZ2UudG9Bc3NldCk7XG5tb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmltYWdlLnRvQ2xvdWRTdG9yYWdlID0gZnVuY3Rpb24oaW1hZ2UsIG9wdF9kZXNjcmlwdGlvbiwgb3B0X2J1Y2tldCwgb3B0X2ZpbGVOYW1lUHJlZml4LCBvcHRfZGltZW5zaW9ucywgb3B0X3JlZ2lvbiwgb3B0X3NjYWxlLCBvcHRfY3JzLCBvcHRfY3JzVHJhbnNmb3JtLCBvcHRfbWF4UGl4ZWxzLCBvcHRfc2hhcmRTaXplLCBvcHRfZmlsZURpbWVuc2lvbnMsIG9wdF9za2lwRW1wdHlUaWxlcywgb3B0X2ZpbGVGb3JtYXQsIG9wdF9mb3JtYXRPcHRpb25zKSB7XG4gIHZhciBjbGllbnRDb25maWcgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmltYWdlLnRvQ2xvdWRTdG9yYWdlLCBhcmd1bWVudHMpLCBzZXJ2ZXJDb25maWcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmNvbnZlcnRUb1NlcnZlclBhcmFtcyhjbGllbnRDb25maWcsIGVlLmRhdGEuRXhwb3J0RGVzdGluYXRpb24uR0NTLCBlZS5kYXRhLkV4cG9ydFR5cGUuSU1BR0UpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydFRhc2suY3JlYXRlKHNlcnZlckNvbmZpZyk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmltYWdlLnRvQ2xvdWRTdG9yYWdlXCIsIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuaW1hZ2UudG9DbG91ZFN0b3JhZ2UpO1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5pbWFnZS50b0RyaXZlID0gZnVuY3Rpb24oaW1hZ2UsIG9wdF9kZXNjcmlwdGlvbiwgb3B0X2ZvbGRlciwgb3B0X2ZpbGVOYW1lUHJlZml4LCBvcHRfZGltZW5zaW9ucywgb3B0X3JlZ2lvbiwgb3B0X3NjYWxlLCBvcHRfY3JzLCBvcHRfY3JzVHJhbnNmb3JtLCBvcHRfbWF4UGl4ZWxzLCBvcHRfc2hhcmRTaXplLCBvcHRfZmlsZURpbWVuc2lvbnMsIG9wdF9za2lwRW1wdHlUaWxlcywgb3B0X2ZpbGVGb3JtYXQsIG9wdF9mb3JtYXRPcHRpb25zKSB7XG4gIHZhciBjbGllbnRDb25maWcgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmltYWdlLnRvRHJpdmUsIGFyZ3VtZW50cyksIHNlcnZlckNvbmZpZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuY29udmVydFRvU2VydmVyUGFyYW1zKGNsaWVudENvbmZpZywgZWUuZGF0YS5FeHBvcnREZXN0aW5hdGlvbi5EUklWRSwgZWUuZGF0YS5FeHBvcnRUeXBlLklNQUdFKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnRUYXNrLmNyZWF0ZShzZXJ2ZXJDb25maWcpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwibW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5pbWFnZS50b0RyaXZlXCIsIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuaW1hZ2UudG9Ecml2ZSk7XG5tb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0Lm1hcC50b0Nsb3VkU3RvcmFnZSA9IGZ1bmN0aW9uKGltYWdlLCBvcHRfZGVzY3JpcHRpb24sIG9wdF9idWNrZXQsIG9wdF9maWxlRm9ybWF0LCBvcHRfcGF0aCwgb3B0X3dyaXRlUHVibGljVGlsZXMsIG9wdF9zY2FsZSwgb3B0X21heFpvb20sIG9wdF9taW5ab29tLCBvcHRfcmVnaW9uLCBvcHRfc2tpcEVtcHR5VGlsZXMsIG9wdF9tYXBzQXBpS2V5LCBvcHRfYnVja2V0Q29yc1VyaXMpIHtcbiAgdmFyIGNsaWVudENvbmZpZyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQubWFwLnRvQ2xvdWRTdG9yYWdlLCBhcmd1bWVudHMpLCBzZXJ2ZXJDb25maWcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmNvbnZlcnRUb1NlcnZlclBhcmFtcyhjbGllbnRDb25maWcsIGVlLmRhdGEuRXhwb3J0RGVzdGluYXRpb24uR0NTLCBlZS5kYXRhLkV4cG9ydFR5cGUuTUFQKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnRUYXNrLmNyZWF0ZShzZXJ2ZXJDb25maWcpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwibW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5tYXAudG9DbG91ZFN0b3JhZ2VcIiwgbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5tYXAudG9DbG91ZFN0b3JhZ2UpO1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC50YWJsZS50b0Nsb3VkU3RvcmFnZSA9IGZ1bmN0aW9uKGNvbGxlY3Rpb24sIG9wdF9kZXNjcmlwdGlvbiwgb3B0X2J1Y2tldCwgb3B0X2ZpbGVOYW1lUHJlZml4LCBvcHRfZmlsZUZvcm1hdCwgb3B0X3NlbGVjdG9ycywgb3B0X21heFZlcnRpY2VzKSB7XG4gIHZhciBjbGllbnRDb25maWcgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnRhYmxlLnRvQ2xvdWRTdG9yYWdlLCBhcmd1bWVudHMpLCBzZXJ2ZXJDb25maWcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmNvbnZlcnRUb1NlcnZlclBhcmFtcyhjbGllbnRDb25maWcsIGVlLmRhdGEuRXhwb3J0RGVzdGluYXRpb24uR0NTLCBlZS5kYXRhLkV4cG9ydFR5cGUuVEFCTEUpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydFRhc2suY3JlYXRlKHNlcnZlckNvbmZpZyk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnRhYmxlLnRvQ2xvdWRTdG9yYWdlXCIsIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudGFibGUudG9DbG91ZFN0b3JhZ2UpO1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC50YWJsZS50b0RyaXZlID0gZnVuY3Rpb24oY29sbGVjdGlvbiwgb3B0X2Rlc2NyaXB0aW9uLCBvcHRfZm9sZGVyLCBvcHRfZmlsZU5hbWVQcmVmaXgsIG9wdF9maWxlRm9ybWF0LCBvcHRfc2VsZWN0b3JzLCBvcHRfbWF4VmVydGljZXMpIHtcbiAgdmFyIGNsaWVudENvbmZpZyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudGFibGUudG9Ecml2ZSwgYXJndW1lbnRzKTtcbiAgY2xpZW50Q29uZmlnLnR5cGUgPSBlZS5kYXRhLkV4cG9ydFR5cGUuVEFCTEU7XG4gIHZhciBzZXJ2ZXJDb25maWcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmNvbnZlcnRUb1NlcnZlclBhcmFtcyhjbGllbnRDb25maWcsIGVlLmRhdGEuRXhwb3J0RGVzdGluYXRpb24uRFJJVkUsIGVlLmRhdGEuRXhwb3J0VHlwZS5UQUJMRSk7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0VGFzay5jcmVhdGUoc2VydmVyQ29uZmlnKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcIm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudGFibGUudG9Ecml2ZVwiLCBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnRhYmxlLnRvRHJpdmUpO1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC50YWJsZS50b0Fzc2V0ID0gZnVuY3Rpb24oY29sbGVjdGlvbiwgb3B0X2Rlc2NyaXB0aW9uLCBvcHRfYXNzZXRJZCwgb3B0X21heFZlcnRpY2VzKSB7XG4gIHZhciBjbGllbnRDb25maWcgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnRhYmxlLnRvQXNzZXQsIGFyZ3VtZW50cyksIHNlcnZlckNvbmZpZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuY29udmVydFRvU2VydmVyUGFyYW1zKGNsaWVudENvbmZpZywgZWUuZGF0YS5FeHBvcnREZXN0aW5hdGlvbi5BU1NFVCwgZWUuZGF0YS5FeHBvcnRUeXBlLlRBQkxFKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnRUYXNrLmNyZWF0ZShzZXJ2ZXJDb25maWcpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwibW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC50YWJsZS50b0Fzc2V0XCIsIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudGFibGUudG9Bc3NldCk7XG5tb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnRhYmxlLnRvRmVhdHVyZVZpZXcgPSBmdW5jdGlvbihjb2xsZWN0aW9uLCBvcHRfZGVzY3JpcHRpb24sIG9wdF9hc3NldElkKSB7XG4gIHZhciBjbGllbnRDb25maWcgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnRhYmxlLnRvRmVhdHVyZVZpZXcsIGFyZ3VtZW50cyksIHNlcnZlckNvbmZpZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuY29udmVydFRvU2VydmVyUGFyYW1zKGNsaWVudENvbmZpZywgZWUuZGF0YS5FeHBvcnREZXN0aW5hdGlvbi5GRUFUVVJFX1ZJRVcsIGVlLmRhdGEuRXhwb3J0VHlwZS5UQUJMRSk7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0VGFzay5jcmVhdGUoc2VydmVyQ29uZmlnKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcIm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudGFibGUudG9GZWF0dXJlVmlld1wiLCBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnRhYmxlLnRvRmVhdHVyZVZpZXcpO1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC52aWRlby50b0Nsb3VkU3RvcmFnZSA9IGZ1bmN0aW9uKGNvbGxlY3Rpb24sIG9wdF9kZXNjcmlwdGlvbiwgb3B0X2J1Y2tldCwgb3B0X2ZpbGVOYW1lUHJlZml4LCBvcHRfZnJhbWVzUGVyU2Vjb25kLCBvcHRfZGltZW5zaW9ucywgb3B0X3JlZ2lvbiwgb3B0X3NjYWxlLCBvcHRfY3JzLCBvcHRfY3JzVHJhbnNmb3JtLCBvcHRfbWF4UGl4ZWxzLCBvcHRfbWF4RnJhbWVzKSB7XG4gIHZhciBjbGllbnRDb25maWcgPSBlZS5hcmd1bWVudHMuZXh0cmFjdEZyb21GdW5jdGlvbihtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnZpZGVvLnRvQ2xvdWRTdG9yYWdlLCBhcmd1bWVudHMpLCBzZXJ2ZXJDb25maWcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmNvbnZlcnRUb1NlcnZlclBhcmFtcyhjbGllbnRDb25maWcsIGVlLmRhdGEuRXhwb3J0RGVzdGluYXRpb24uR0NTLCBlZS5kYXRhLkV4cG9ydFR5cGUuVklERU8pO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydFRhc2suY3JlYXRlKHNlcnZlckNvbmZpZyk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnZpZGVvLnRvQ2xvdWRTdG9yYWdlXCIsIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudmlkZW8udG9DbG91ZFN0b3JhZ2UpO1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC52aWRlby50b0RyaXZlID0gZnVuY3Rpb24oY29sbGVjdGlvbiwgb3B0X2Rlc2NyaXB0aW9uLCBvcHRfZm9sZGVyLCBvcHRfZmlsZU5hbWVQcmVmaXgsIG9wdF9mcmFtZXNQZXJTZWNvbmQsIG9wdF9kaW1lbnNpb25zLCBvcHRfcmVnaW9uLCBvcHRfc2NhbGUsIG9wdF9jcnMsIG9wdF9jcnNUcmFuc2Zvcm0sIG9wdF9tYXhQaXhlbHMsIG9wdF9tYXhGcmFtZXMpIHtcbiAgdmFyIGNsaWVudENvbmZpZyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudmlkZW8udG9Ecml2ZSwgYXJndW1lbnRzKSwgc2VydmVyQ29uZmlnID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5jb252ZXJ0VG9TZXJ2ZXJQYXJhbXMoY2xpZW50Q29uZmlnLCBlZS5kYXRhLkV4cG9ydERlc3RpbmF0aW9uLkRSSVZFLCBlZS5kYXRhLkV4cG9ydFR5cGUuVklERU8pO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydFRhc2suY3JlYXRlKHNlcnZlckNvbmZpZyk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnZpZGVvLnRvRHJpdmVcIiwgbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC52aWRlby50b0RyaXZlKTtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudmlkZW9NYXAudG9DbG91ZFN0b3JhZ2UgPSBmdW5jdGlvbihjb2xsZWN0aW9uLCBvcHRfZGVzY3JpcHRpb24sIG9wdF9idWNrZXQsIG9wdF9maWxlTmFtZVByZWZpeCwgb3B0X2ZyYW1lc1BlclNlY29uZCwgb3B0X3dyaXRlUHVibGljVGlsZXMsIG9wdF9taW5ab29tLCBvcHRfbWF4Wm9vbSwgb3B0X3NjYWxlLCBvcHRfcmVnaW9uLCBvcHRfc2tpcEVtcHR5VGlsZXMsIG9wdF9taW5UaW1lTWFjaGluZVpvb21TdWJzZXQsIG9wdF9tYXhUaW1lTWFjaGluZVpvb21TdWJzZXQsIG9wdF90aWxlV2lkdGgsIG9wdF90aWxlSGVpZ2h0LCBvcHRfdGlsZVN0cmlkZSwgb3B0X3ZpZGVvRm9ybWF0LCBvcHRfdmVyc2lvbiwgb3B0X21hcHNBcGlLZXksIG9wdF9idWNrZXRDb3JzVXJpcykge1xuICB2YXIgY2xpZW50Q29uZmlnID0gZWUuYXJndW1lbnRzLmV4dHJhY3RGcm9tRnVuY3Rpb24obW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC52aWRlb01hcC50b0Nsb3VkU3RvcmFnZSwgYXJndW1lbnRzKSwgc2VydmVyQ29uZmlnID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5jb252ZXJ0VG9TZXJ2ZXJQYXJhbXMoY2xpZW50Q29uZmlnLCBlZS5kYXRhLkV4cG9ydERlc3RpbmF0aW9uLkdDUywgZWUuZGF0YS5FeHBvcnRUeXBlLlZJREVPX01BUCk7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0VGFzay5jcmVhdGUoc2VydmVyQ29uZmlnKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcIm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudmlkZW9NYXAudG9DbG91ZFN0b3JhZ2VcIiwgbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC52aWRlb01hcC50b0Nsb3VkU3RvcmFnZSk7XG5tb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmNsYXNzaWZpZXIudG9Bc3NldCA9IGZ1bmN0aW9uKGNsYXNzaWZpZXIsIG9wdF9kZXNjcmlwdGlvbiwgb3B0X2Fzc2V0SWQpIHtcbiAgdmFyIGNsaWVudENvbmZpZyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuY2xhc3NpZmllci50b0Fzc2V0LCBhcmd1bWVudHMpLCBzZXJ2ZXJDb25maWcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LmNvbnZlcnRUb1NlcnZlclBhcmFtcyhjbGllbnRDb25maWcsIGVlLmRhdGEuRXhwb3J0RGVzdGluYXRpb24uQVNTRVQsIGVlLmRhdGEuRXhwb3J0VHlwZS5DTEFTU0lGSUVSKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnRUYXNrLmNyZWF0ZShzZXJ2ZXJDb25maWcpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwibW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5jbGFzc2lmaWVyLnRvQXNzZXRcIiwgbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5jbGFzc2lmaWVyLnRvQXNzZXQpO1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5zZXJpYWxpemVSZWdpb24gPSBmdW5jdGlvbihyZWdpb24pIHtcbiAgaWYgKHJlZ2lvbiBpbnN0YW5jZW9mIGVlLkdlb21ldHJ5KSB7XG4gICAgcmVnaW9uID0gcmVnaW9uLnRvR2VvSlNPTigpO1xuICB9IGVsc2Uge1xuICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgcmVnaW9uKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZWdpb24gPSBnb29nLmFzc2VydHMuYXNzZXJ0T2JqZWN0KEpTT04ucGFyc2UocmVnaW9uKSk7XG4gICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBmb3JtYXQgZm9yIHJlZ2lvbiBwcm9wZXJ0eS4gUmVnaW9uIG11c3QgYmUgR2VvSlNPTiBMaW5lYXJSaW5nIG9yIFBvbHlnb24gc3BlY2lmaWVkIGFzIGFjdHVhbCBjb29yZGluYXRlcyBvciBzZXJpYWxpemVkIGFzIGEgc3RyaW5nLiBTZWUgRXhwb3J0IGRvY3VtZW50YXRpb24uXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoIShnb29nLmlzT2JqZWN0KHJlZ2lvbikgJiYgXCJ0eXBlXCIgaW4gcmVnaW9uKSkge1xuICAgIHRyeSB7XG4gICAgICBuZXcgZWUuR2VvbWV0cnkuTGluZVN0cmluZyhyZWdpb24pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIG5ldyBlZS5HZW9tZXRyeS5Qb2x5Z29uKHJlZ2lvbik7XG4gICAgICB9IGNhdGNoIChlMikge1xuICAgICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgZm9ybWF0IGZvciByZWdpb24gcHJvcGVydHkuIFJlZ2lvbiBtdXN0IGJlIEdlb0pTT04gTGluZWFyUmluZyBvciBQb2x5Z29uIHNwZWNpZmllZCBhcyBhY3R1YWwgY29vcmRpbmF0ZXMgb3Igc2VyaWFsaXplZCBhcyBhIHN0cmluZy4gU2VlIEV4cG9ydCBkb2N1bWVudGF0aW9uLlwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHJlZ2lvbik7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5yZXNvbHZlUmVnaW9uUGFyYW0gPSBmdW5jdGlvbihwYXJhbXMpIHtcbiAgcGFyYW1zID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2Nsb25lKHBhcmFtcyk7XG4gIGlmICghcGFyYW1zLnJlZ2lvbikge1xuICAgIHJldHVybiBnb29nLlByb21pc2UucmVzb2x2ZShwYXJhbXMpO1xuICB9XG4gIHZhciByZWdpb24gPSBwYXJhbXMucmVnaW9uO1xuICBpZiAocmVnaW9uIGluc3RhbmNlb2YgZWUuQ29tcHV0ZWRPYmplY3QpIHtcbiAgICByZXR1cm4gcmVnaW9uIGluc3RhbmNlb2YgZWUuRWxlbWVudCAmJiAocmVnaW9uID0gcmVnaW9uLmdlb21ldHJ5KCkpLCBuZXcgZ29vZy5Qcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgcmVnaW9uLmdldEluZm8oZnVuY3Rpb24ocmVnaW9uSW5mbywgZXJyb3IpIHtcbiAgICAgICAgZXJyb3IgPyByZWplY3QoZXJyb3IpIDogKHBhcmFtcy5yZWdpb24gPSBwYXJhbXMudHlwZSA9PT0gZWUuZGF0YS5FeHBvcnRUeXBlLklNQUdFID8gbmV3IGVlLkdlb21ldHJ5KHJlZ2lvbkluZm8pIDogbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5zZXJpYWxpemVSZWdpb24ocmVnaW9uSW5mbyksIHJlc29sdmUocGFyYW1zKSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBwYXJhbXMucmVnaW9uID0gcGFyYW1zLnR5cGUgPT09IGVlLmRhdGEuRXhwb3J0VHlwZS5JTUFHRSA/IG5ldyBlZS5HZW9tZXRyeShyZWdpb24pIDogbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5zZXJpYWxpemVSZWdpb24ocmVnaW9uKTtcbiAgcmV0dXJuIGdvb2cuUHJvbWlzZS5yZXNvbHZlKHBhcmFtcyk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5leHRyYWN0RWxlbWVudCA9IGZ1bmN0aW9uKGV4cG9ydEFyZ3MpIHtcbiAgdmFyIGlzSW5BcmdzID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIGtleSBpbiBleHBvcnRBcmdzO1xuICB9LCBlZUVsZW1lbnRLZXkgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LkVFX0VMRU1FTlRfS0VZUy5maW5kKGlzSW5BcmdzKTtcbiAgZ29vZy5hc3NlcnRzLmFzc2VydCgxID09PSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb3VudChtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LkVFX0VMRU1FTlRfS0VZUywgaXNJbkFyZ3MpLCAnRXhwZWN0ZWQgYSBzaW5nbGUgXCJpbWFnZVwiLCBcImNvbGxlY3Rpb25cIiBvciBcImNsYXNzaWZpZXJcIiBrZXkuJyk7XG4gIHZhciBlbGVtZW50ID0gZXhwb3J0QXJnc1tlZUVsZW1lbnRLZXldO1xuICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIGVlLkltYWdlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGVsZW1lbnQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBlZS5GZWF0dXJlQ29sbGVjdGlvbikge1xuICAgICAgcmVzdWx0ID0gZWxlbWVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBlZS5JbWFnZUNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmVzdWx0ID0gZWxlbWVudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgZWUuRWxlbWVudCkge1xuICAgICAgICAgIHJlc3VsdCA9IGVsZW1lbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBlZS5Db21wdXRlZE9iamVjdCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gZWxlbWVudDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJVbmtub3duIGVsZW1lbnQgdHlwZSBwcm92aWRlZDogXCIgKyB0eXBlb2YgZWxlbWVudCArIFwiLiBFeHBlY3RlZDogIGVlLkltYWdlLCBlZS5JbWFnZUNvbGxlY3Rpb24sIGVlLkZlYXR1cmVDb2xsZWN0aW9uLCAgZWUuRWxlbWVudCBvciBlZS5Db21wdXRlZE9iamVjdC5cIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGRlbGV0ZSBleHBvcnRBcmdzW2VlRWxlbWVudEtleV07XG4gIHJldHVybiByZXN1bHQ7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5jb252ZXJ0VG9TZXJ2ZXJQYXJhbXMgPSBmdW5jdGlvbihvcmlnaW5hbEFyZ3MsIGRlc3RpbmF0aW9uLCBleHBvcnRUeXBlLCBzZXJpYWxpemVSZWdpb24pIHtcbiAgc2VyaWFsaXplUmVnaW9uID0gdm9pZCAwID09PSBzZXJpYWxpemVSZWdpb24gPyAhMCA6IHNlcmlhbGl6ZVJlZ2lvbjtcbiAgdmFyIHRhc2tDb25maWcgPSB7dHlwZTpleHBvcnRUeXBlfTtcbiAgT2JqZWN0LmFzc2lnbih0YXNrQ29uZmlnLCBvcmlnaW5hbEFyZ3MpO1xuICBzd2l0Y2goZXhwb3J0VHlwZSkge1xuICAgIGNhc2UgZWUuZGF0YS5FeHBvcnRUeXBlLklNQUdFOlxuICAgICAgdGFza0NvbmZpZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuaW1hZ2UucHJlcGFyZVRhc2tDb25maWdfKHRhc2tDb25maWcsIGRlc3RpbmF0aW9uKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgZWUuZGF0YS5FeHBvcnRUeXBlLk1BUDpcbiAgICAgIHRhc2tDb25maWcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0Lm1hcC5wcmVwYXJlVGFza0NvbmZpZ18odGFza0NvbmZpZywgZGVzdGluYXRpb24pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBlZS5kYXRhLkV4cG9ydFR5cGUuVEFCTEU6XG4gICAgICB0YXNrQ29uZmlnID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC50YWJsZS5wcmVwYXJlVGFza0NvbmZpZ18odGFza0NvbmZpZywgZGVzdGluYXRpb24pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBlZS5kYXRhLkV4cG9ydFR5cGUuVklERU86XG4gICAgICB0YXNrQ29uZmlnID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC52aWRlby5wcmVwYXJlVGFza0NvbmZpZ18odGFza0NvbmZpZywgZGVzdGluYXRpb24pO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBlZS5kYXRhLkV4cG9ydFR5cGUuVklERU9fTUFQOlxuICAgICAgdGFza0NvbmZpZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudmlkZW9NYXAucHJlcGFyZVRhc2tDb25maWdfKHRhc2tDb25maWcsIGRlc3RpbmF0aW9uKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgZWUuZGF0YS5FeHBvcnRUeXBlLkNMQVNTSUZJRVI6XG4gICAgICB0YXNrQ29uZmlnID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5jbGFzc2lmaWVyLnByZXBhcmVUYXNrQ29uZmlnXyh0YXNrQ29uZmlnLCBkZXN0aW5hdGlvbik7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgRXJyb3IoXCJVbmtub3duIGV4cG9ydCB0eXBlOiBcIiArIHRhc2tDb25maWcudHlwZSk7XG4gIH1cbiAgc2VyaWFsaXplUmVnaW9uICYmIG51bGwgIT0gdGFza0NvbmZpZy5yZWdpb24gJiYgKHRhc2tDb25maWcucmVnaW9uID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5zZXJpYWxpemVSZWdpb24odGFza0NvbmZpZy5yZWdpb24pKTtcbiAgcmV0dXJuIHRhc2tDb25maWc7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5wcmVwYXJlRGVzdGluYXRpb25fID0gZnVuY3Rpb24odGFza0NvbmZpZywgZGVzdGluYXRpb24pIHtcbiAgc3dpdGNoKGRlc3RpbmF0aW9uKSB7XG4gICAgY2FzZSBlZS5kYXRhLkV4cG9ydERlc3RpbmF0aW9uLkdDUzpcbiAgICAgIHRhc2tDb25maWcub3V0cHV0QnVja2V0ID0gdGFza0NvbmZpZy5idWNrZXQgfHwgXCJcIjtcbiAgICAgIHRhc2tDb25maWcub3V0cHV0UHJlZml4ID0gdGFza0NvbmZpZy5maWxlTmFtZVByZWZpeCB8fCB0YXNrQ29uZmlnLnBhdGggfHwgXCJcIjtcbiAgICAgIGRlbGV0ZSB0YXNrQ29uZmlnLmZpbGVOYW1lUHJlZml4O1xuICAgICAgZGVsZXRlIHRhc2tDb25maWcucGF0aDtcbiAgICAgIGRlbGV0ZSB0YXNrQ29uZmlnLmJ1Y2tldDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgZWUuZGF0YS5FeHBvcnREZXN0aW5hdGlvbi5BU1NFVDpcbiAgICAgIHRhc2tDb25maWcuYXNzZXRJZCA9IHRhc2tDb25maWcuYXNzZXRJZCB8fCBcIlwiO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBlZS5kYXRhLkV4cG9ydERlc3RpbmF0aW9uLkZFQVRVUkVfVklFVzpcbiAgICAgIHRhc2tDb25maWcubWFwTmFtZSA9IHRhc2tDb25maWcubWFwTmFtZSB8fCBcIlwiO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHZhciBmb2xkZXJUeXBlID0gZ29vZy50eXBlT2YodGFza0NvbmZpZy5mb2xkZXIpO1xuICAgICAgaWYgKCFtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jb250YWlucyhbXCJzdHJpbmdcIiwgXCJ1bmRlZmluZWRcIl0sIGZvbGRlclR5cGUpKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdFcnJvcjogdG9Ecml2ZSBcImZvbGRlclwiIHBhcmFtZXRlciBtdXN0IGJlIGEgc3RyaW5nLCBidXQgaXMgb2YgdHlwZSAnICsgZm9sZGVyVHlwZSArIFwiLlwiKTtcbiAgICAgIH1cbiAgICAgIHRhc2tDb25maWcuZHJpdmVGb2xkZXIgPSB0YXNrQ29uZmlnLmZvbGRlciB8fCBcIlwiO1xuICAgICAgdGFza0NvbmZpZy5kcml2ZUZpbGVOYW1lUHJlZml4ID0gdGFza0NvbmZpZy5maWxlTmFtZVByZWZpeCB8fCBcIlwiO1xuICAgICAgZGVsZXRlIHRhc2tDb25maWcuZm9sZGVyO1xuICAgICAgZGVsZXRlIHRhc2tDb25maWcuZmlsZU5hbWVQcmVmaXg7XG4gIH1cbiAgcmV0dXJuIHRhc2tDb25maWc7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5pbWFnZS5wcmVwYXJlVGFza0NvbmZpZ18gPSBmdW5jdGlvbih0YXNrQ29uZmlnLCBkZXN0aW5hdGlvbikge1xuICBudWxsID09IHRhc2tDb25maWcuZmlsZUZvcm1hdCAmJiAodGFza0NvbmZpZy5maWxlRm9ybWF0ID0gXCJHZW9USUZGXCIpO1xuICB0YXNrQ29uZmlnID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5yZWNvbmNpbGVJbWFnZUZvcm1hdCh0YXNrQ29uZmlnKTtcbiAgdGFza0NvbmZpZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQucHJlcGFyZURlc3RpbmF0aW9uXyh0YXNrQ29uZmlnLCBkZXN0aW5hdGlvbik7XG4gIG51bGwgIT0gdGFza0NvbmZpZy5jcnNUcmFuc2Zvcm0gJiYgKHRhc2tDb25maWdbbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5DUlNfVFJBTlNGT1JNX0tFWV0gPSB0YXNrQ29uZmlnLmNyc1RyYW5zZm9ybSwgZGVsZXRlIHRhc2tDb25maWcuY3JzVHJhbnNmb3JtKTtcbiAgcmV0dXJuIHRhc2tDb25maWc7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC50YWJsZS5wcmVwYXJlVGFza0NvbmZpZ18gPSBmdW5jdGlvbih0YXNrQ29uZmlnLCBkZXN0aW5hdGlvbikge1xuICBBcnJheS5pc0FycmF5KHRhc2tDb25maWcuc2VsZWN0b3JzKSAmJiAodGFza0NvbmZpZy5zZWxlY3RvcnMgPSB0YXNrQ29uZmlnLnNlbGVjdG9ycy5qb2luKCkpO1xuICB0YXNrQ29uZmlnID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5yZWNvbmNpbGVUYWJsZUZvcm1hdCh0YXNrQ29uZmlnKTtcbiAgcmV0dXJuIHRhc2tDb25maWcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnByZXBhcmVEZXN0aW5hdGlvbl8odGFza0NvbmZpZywgZGVzdGluYXRpb24pO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQubWFwLnByZXBhcmVUYXNrQ29uZmlnXyA9IGZ1bmN0aW9uKHRhc2tDb25maWcsIGRlc3RpbmF0aW9uKSB7XG4gIHRhc2tDb25maWcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnByZXBhcmVEZXN0aW5hdGlvbl8odGFza0NvbmZpZywgZGVzdGluYXRpb24pO1xuICByZXR1cm4gdGFza0NvbmZpZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQucmVjb25jaWxlTWFwRm9ybWF0KHRhc2tDb25maWcpO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudmlkZW8ucHJlcGFyZVRhc2tDb25maWdfID0gZnVuY3Rpb24odGFza0NvbmZpZywgZGVzdGluYXRpb24pIHtcbiAgdGFza0NvbmZpZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQucmVjb25jaWxlVmlkZW9Gb3JtYXRfKHRhc2tDb25maWcpO1xuICB0YXNrQ29uZmlnID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5wcmVwYXJlRGVzdGluYXRpb25fKHRhc2tDb25maWcsIGRlc3RpbmF0aW9uKTtcbiAgbnVsbCAhPSB0YXNrQ29uZmlnLmNyc1RyYW5zZm9ybSAmJiAodGFza0NvbmZpZ1ttb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LkNSU19UUkFOU0ZPUk1fS0VZXSA9IHRhc2tDb25maWcuY3JzVHJhbnNmb3JtLCBkZWxldGUgdGFza0NvbmZpZy5jcnNUcmFuc2Zvcm0pO1xuICByZXR1cm4gdGFza0NvbmZpZztcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnZpZGVvTWFwLnByZXBhcmVUYXNrQ29uZmlnXyA9IGZ1bmN0aW9uKHRhc2tDb25maWcsIGRlc3RpbmF0aW9uKSB7XG4gIHRhc2tDb25maWcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnJlY29uY2lsZVZpZGVvRm9ybWF0Xyh0YXNrQ29uZmlnKTtcbiAgdGFza0NvbmZpZy52ZXJzaW9uID0gdGFza0NvbmZpZy52ZXJzaW9uIHx8IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9WaWRlb01hcFZlcnNpb24uVjE7XG4gIHRhc2tDb25maWcuc3RyaWRlID0gdGFza0NvbmZpZy5zdHJpZGUgfHwgMTtcbiAgdGFza0NvbmZpZy50aWxlRGltZW5zaW9ucyA9IHt3aWR0aDp0YXNrQ29uZmlnLnRpbGVXaWR0aCB8fCAyNTYsIGhlaWdodDp0YXNrQ29uZmlnLnRpbGVIZWlnaHQgfHwgMjU2fTtcbiAgcmV0dXJuIHRhc2tDb25maWcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnByZXBhcmVEZXN0aW5hdGlvbl8odGFza0NvbmZpZywgZGVzdGluYXRpb24pO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuY2xhc3NpZmllci5wcmVwYXJlVGFza0NvbmZpZ18gPSBmdW5jdGlvbih0YXNrQ29uZmlnLCBkZXN0aW5hdGlvbikge1xuICByZXR1cm4gdGFza0NvbmZpZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQucHJlcGFyZURlc3RpbmF0aW9uXyh0YXNrQ29uZmlnLCBkZXN0aW5hdGlvbik7XG59O1xudmFyIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9WaWRlb0Zvcm1hdCA9IHtNUDQ6XCJNUDRcIiwgR0lGOlwiR0lGXCIsIFZQOTpcIlZQOVwiLH0sIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9NYXBGb3JtYXQgPSB7QVVUT19KUEVHX1BORzpcIkFVVE9fSlBFR19QTkdcIiwgSlBFRzpcIkpQRUdcIiwgUE5HOlwiUE5HXCIsfSwgbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0ltYWdlRm9ybWF0ID0ge0dFT19USUZGOlwiR0VPX1RJRkZcIiwgVEZfUkVDT1JEX0lNQUdFOlwiVEZfUkVDT1JEX0lNQUdFXCIsfSwgbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX1RhYmxlRm9ybWF0ID0ge0NTVjpcIkNTVlwiLCBHRU9fSlNPTjpcIkdFT19KU09OXCIsIEtNTDpcIktNTFwiLCBLTVo6XCJLTVpcIiwgU0hQOlwiU0hQXCIsIFRGX1JFQ09SRF9UQUJMRTpcIlRGX1JFQ09SRF9UQUJMRVwiLH0sIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9WaWRlb01hcFZlcnNpb24gPSB7VjE6XCJWMVwiLCBWMjpcIlYyXCIsfSwgbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0ZPUk1BVF9PUFRJT05TX01BUCA9IFxue0dFT19USUZGOltcImNsb3VkT3B0aW1pemVkXCIsIFwiZmlsZURpbWVuc2lvbnNcIiwgXCJzaGFyZFNpemVcIixdLCBURl9SRUNPUkRfSU1BR0U6XCJwYXRjaERpbWVuc2lvbnMga2VybmVsU2l6ZSBjb21wcmVzc2VkIG1heEZpbGVTaXplIGRlZmF1bHRWYWx1ZSB0ZW5zb3JEZXB0aHMgc2VxdWVuY2VEYXRhIGNvbGxhcHNlQmFuZHMgbWFza2VkVGhyZXNob2xkXCIuc3BsaXQoXCIgXCIpfSwgbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0ZPUk1BVF9QUkVGSVhfTUFQID0ge0dFT19USUZGOlwidGlmZlwiLCBURl9SRUNPUkRfSU1BR0U6XCJ0ZnJlY29yZFwifTtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQucmVjb25jaWxlVmlkZW9Gb3JtYXRfID0gZnVuY3Rpb24odGFza0NvbmZpZykge1xuICB0YXNrQ29uZmlnLnZpZGVvT3B0aW9ucyA9IHRhc2tDb25maWcuZnJhbWVzUGVyU2Vjb25kIHx8IDUuMDtcbiAgdGFza0NvbmZpZy5tYXhGcmFtZXMgPSB0YXNrQ29uZmlnLm1heEZyYW1lcyB8fCAxMDAwO1xuICB0YXNrQ29uZmlnLm1heFBpeGVscyA9IHRhc2tDb25maWcubWF4UGl4ZWxzIHx8IDFlODtcbiAgdmFyIGZvcm1hdFN0cmluZyA9IHRhc2tDb25maWcuZmlsZUZvcm1hdDtcbiAgbnVsbCA9PSBmb3JtYXRTdHJpbmcgJiYgKGZvcm1hdFN0cmluZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9WaWRlb0Zvcm1hdC5NUDQpO1xuICBmb3JtYXRTdHJpbmcgPSBmb3JtYXRTdHJpbmcudG9VcHBlckNhc2UoKTtcbiAgc3dpdGNoKGZvcm1hdFN0cmluZykge1xuICAgIGNhc2UgXCJNUDRcIjpcbiAgICAgIGZvcm1hdFN0cmluZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9WaWRlb0Zvcm1hdC5NUDQ7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiR0lGXCI6XG4gICAgY2FzZSBcIkpJRlwiOlxuICAgICAgZm9ybWF0U3RyaW5nID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX1ZpZGVvRm9ybWF0LkdJRjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJWUDlcIjpcbiAgICBjYXNlIFwiV0VCTVwiOlxuICAgICAgZm9ybWF0U3RyaW5nID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX1ZpZGVvRm9ybWF0LlZQOTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgZmlsZSBmb3JtYXQgXCIgKyBmb3JtYXRTdHJpbmcgKyBcIi4gU3VwcG9ydGVkIGZvcm1hdHMgYXJlOiAnTVA0JywgJ0dJRicsIGFuZCAnV0VCTScuXCIpO1xuICB9XG4gIHRhc2tDb25maWcuZmlsZUZvcm1hdCA9IGZvcm1hdFN0cmluZztcbiAgcmV0dXJuIHRhc2tDb25maWc7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5yZWNvbmNpbGVJbWFnZUZvcm1hdCA9IGZ1bmN0aW9uKHRhc2tDb25maWcpIHtcbiAgdmFyIGZvcm1hdFN0cmluZyA9IHRhc2tDb25maWcuZmlsZUZvcm1hdDtcbiAgbnVsbCA9PSBmb3JtYXRTdHJpbmcgJiYgKGZvcm1hdFN0cmluZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9JbWFnZUZvcm1hdC5HRU9fVElGRik7XG4gIGZvcm1hdFN0cmluZyA9IGZvcm1hdFN0cmluZy50b1VwcGVyQ2FzZSgpO1xuICBzd2l0Y2goZm9ybWF0U3RyaW5nKSB7XG4gICAgY2FzZSBcIlRJRkZcIjpcbiAgICBjYXNlIFwiVElGXCI6XG4gICAgY2FzZSBcIkdFT19USUZGXCI6XG4gICAgY2FzZSBcIkdFT1RJRkZcIjpcbiAgICAgIGZvcm1hdFN0cmluZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9JbWFnZUZvcm1hdC5HRU9fVElGRjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJURl9SRUNPUkRcIjpcbiAgICBjYXNlIFwiVEZfUkVDT1JEX0lNQUdFXCI6XG4gICAgY2FzZSBcIlRGUkVDT1JEXCI6XG4gICAgICBmb3JtYXRTdHJpbmcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfSW1hZ2VGb3JtYXQuVEZfUkVDT1JEX0lNQUdFO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBmaWxlIGZvcm1hdCBcIiArIGZvcm1hdFN0cmluZyArIFwiLiBTdXBwb3J0ZWQgZm9ybWF0cyBhcmU6ICdHRU9USUZGJywgJ1RGUkVDT1JEJy5cIik7XG4gIH1cbiAgdGFza0NvbmZpZy5maWxlRm9ybWF0ID0gZm9ybWF0U3RyaW5nO1xuICBpZiAobnVsbCAhPSB0YXNrQ29uZmlnLmZvcm1hdE9wdGlvbnMpIHtcbiAgICB2YXIgZm9ybWF0T3B0aW9ucyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQucHJlZml4SW1hZ2VGb3JtYXRPcHRpb25zXyh0YXNrQ29uZmlnLCBmb3JtYXRTdHJpbmcpO1xuICAgIGRlbGV0ZSB0YXNrQ29uZmlnLmZvcm1hdE9wdGlvbnM7XG4gICAgT2JqZWN0LmFzc2lnbih0YXNrQ29uZmlnLCBmb3JtYXRPcHRpb25zKTtcbiAgfVxuICByZXR1cm4gdGFza0NvbmZpZztcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnJlY29uY2lsZU1hcEZvcm1hdCA9IGZ1bmN0aW9uKHRhc2tDb25maWcpIHtcbiAgdmFyIGZvcm1hdFN0cmluZyA9IHRhc2tDb25maWcuZmlsZUZvcm1hdDtcbiAgbnVsbCA9PSBmb3JtYXRTdHJpbmcgJiYgKGZvcm1hdFN0cmluZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9NYXBGb3JtYXQuQVVUT19KUEVHX1BORyk7XG4gIGZvcm1hdFN0cmluZyA9IGZvcm1hdFN0cmluZy50b1VwcGVyQ2FzZSgpO1xuICBzd2l0Y2goZm9ybWF0U3RyaW5nKSB7XG4gICAgY2FzZSBcIkFVVE9cIjpcbiAgICBjYXNlIFwiQVVUT19KUEVHX1BOR1wiOlxuICAgIGNhc2UgXCJBVVRPX0pQR19QTkdcIjpcbiAgICAgIGZvcm1hdFN0cmluZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9NYXBGb3JtYXQuQVVUT19KUEVHX1BORztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJKUEdcIjpcbiAgICBjYXNlIFwiSlBFR1wiOlxuICAgICAgZm9ybWF0U3RyaW5nID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX01hcEZvcm1hdC5KUEVHO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIlBOR1wiOlxuICAgICAgZm9ybWF0U3RyaW5nID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX01hcEZvcm1hdC5QTkc7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGZpbGUgZm9ybWF0IFwiICsgZm9ybWF0U3RyaW5nICsgXCIuIFN1cHBvcnRlZCBmb3JtYXRzIGFyZTogJ0FVVE8nLCAnUE5HJywgYW5kICdKUEVHJy5cIik7XG4gIH1cbiAgdGFza0NvbmZpZy5maWxlRm9ybWF0ID0gZm9ybWF0U3RyaW5nO1xuICByZXR1cm4gdGFza0NvbmZpZztcbn07XG5tb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnJlY29uY2lsZVRhYmxlRm9ybWF0ID0gZnVuY3Rpb24odGFza0NvbmZpZykge1xuICB2YXIgZm9ybWF0U3RyaW5nID0gdGFza0NvbmZpZy5maWxlRm9ybWF0O1xuICBudWxsID09IGZvcm1hdFN0cmluZyAmJiAoZm9ybWF0U3RyaW5nID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX1RhYmxlRm9ybWF0LkNTVik7XG4gIGZvcm1hdFN0cmluZyA9IGZvcm1hdFN0cmluZy50b1VwcGVyQ2FzZSgpO1xuICBzd2l0Y2goZm9ybWF0U3RyaW5nKSB7XG4gICAgY2FzZSBcIkNTVlwiOlxuICAgICAgZm9ybWF0U3RyaW5nID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX1RhYmxlRm9ybWF0LkNTVjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJKU09OXCI6XG4gICAgY2FzZSBcIkdFT0pTT05cIjpcbiAgICBjYXNlIFwiR0VPX0pTT05cIjpcbiAgICAgIGZvcm1hdFN0cmluZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9UYWJsZUZvcm1hdC5HRU9fSlNPTjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJLTUxcIjpcbiAgICAgIGZvcm1hdFN0cmluZyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9UYWJsZUZvcm1hdC5LTUw7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiS01aXCI6XG4gICAgICBmb3JtYXRTdHJpbmcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfVGFibGVGb3JtYXQuS01aO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcIlNIUFwiOlxuICAgICAgZm9ybWF0U3RyaW5nID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX1RhYmxlRm9ybWF0LlNIUDtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJURl9SRUNPUkRcIjpcbiAgICBjYXNlIFwiVEZfUkVDT1JEX1RBQkxFXCI6XG4gICAgY2FzZSBcIlRGUkVDT1JEXCI6XG4gICAgICBmb3JtYXRTdHJpbmcgPSBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfVGFibGVGb3JtYXQuVEZfUkVDT1JEX1RBQkxFO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBmaWxlIGZvcm1hdCBcIiArIGZvcm1hdFN0cmluZyArIFwiLiBTdXBwb3J0ZWQgZm9ybWF0cyBhcmU6ICdDU1YnLCAnR2VvSlNPTicsICdLTUwnLCAnS01aJywgJ1NIUCcsIGFuZCAnVEZSZWNvcmQnLlwiKTtcbiAgfVxuICB0YXNrQ29uZmlnLmZpbGVGb3JtYXQgPSBmb3JtYXRTdHJpbmc7XG4gIHJldHVybiB0YXNrQ29uZmlnO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQucHJlZml4SW1hZ2VGb3JtYXRPcHRpb25zXyA9IGZ1bmN0aW9uKHRhc2tDb25maWcsIGltYWdlRm9ybWF0KSB7XG4gIHZhciBmb3JtYXRPcHRpb25zID0gdGFza0NvbmZpZy5mb3JtYXRPcHRpb25zO1xuICBpZiAobnVsbCA9PSBmb3JtYXRPcHRpb25zKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG4gIGlmIChPYmplY3Qua2V5cyh0YXNrQ29uZmlnKS5zb21lKGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfY29udGFpbnNLZXkoZm9ybWF0T3B0aW9ucywga2V5KTtcbiAgfSkpIHtcbiAgICB0aHJvdyBFcnJvcihcIlBhcmFtZXRlciBzcGVjaWZpZWQgYXQgbGVhc3QgdHdpY2U6IG9uY2UgaW4gY29uZmlnLCBhbmQgb25jZSBpbiBjb25maWcgZm9ybWF0IG9wdGlvbnMuXCIpO1xuICB9XG4gIGZvciAodmFyIHByZWZpeCA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9GT1JNQVRfUFJFRklYX01BUFtpbWFnZUZvcm1hdF0sIHZhbGlkT3B0aW9uS2V5cyA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9GT1JNQVRfT1BUSU9OU19NQVBbaW1hZ2VGb3JtYXRdLCBwcmVmaXhlZE9wdGlvbnMgPSB7fSwgJGpzY29tcCRpdGVyJDI3ID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoT2JqZWN0LmVudHJpZXMoZm9ybWF0T3B0aW9ucykpLCAkanNjb21wJGtleSQgPSAkanNjb21wJGl0ZXIkMjcubmV4dCgpOyAhJGpzY29tcCRrZXkkLmRvbmU7ICRqc2NvbXAka2V5JCA9ICRqc2NvbXAkaXRlciQyNy5uZXh0KCkpIHtcbiAgICB2YXIgJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjM3ID0gJGpzY29tcC5tYWtlSXRlcmF0b3IoJGpzY29tcCRrZXkkLnZhbHVlKSwga2V5JGpzY29tcCQwID0gJGpzY29tcCRkZXN0cnVjdHVyaW5nJHZhcjM3Lm5leHQoKS52YWx1ZSwgdmFsdWUgPSAkanNjb21wJGRlc3RydWN0dXJpbmckdmFyMzcubmV4dCgpLnZhbHVlO1xuICAgIGlmICghbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY29udGFpbnModmFsaWRPcHRpb25LZXlzLCBrZXkkanNjb21wJDApKSB7XG4gICAgICB2YXIgdmFsaWRLZXlzTXNnID0gdmFsaWRPcHRpb25LZXlzLmpvaW4oXCIsIFwiKTtcbiAgICAgIHRocm93IEVycm9yKCdcIicgKyBrZXkkanNjb21wJDAgKyAnXCIgaXMgbm90IGEgdmFsaWQgb3B0aW9uLCB0aGUgaW1hZ2UgZm9ybWF0IFwiJyArIGltYWdlRm9ybWF0ICsgJ1wiXCJtYXkgaGF2ZSB0aGUgZm9sbG93aW5nIG9wdGlvbnM6ICcgKyAodmFsaWRLZXlzTXNnICsgJ1wiLicpKTtcbiAgICB9XG4gICAgdmFyIHByZWZpeGVkS2V5ID0gcHJlZml4ICsga2V5JGpzY29tcCQwWzBdLnRvVXBwZXJDYXNlKCkgKyBrZXkkanNjb21wJDAuc3Vic3RyaW5nKDEpO1xuICAgIEFycmF5LmlzQXJyYXkodmFsdWUpID8gcHJlZml4ZWRPcHRpb25zW3ByZWZpeGVkS2V5XSA9IHZhbHVlLmpvaW4oKSA6IHByZWZpeGVkT3B0aW9uc1twcmVmaXhlZEtleV0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gcHJlZml4ZWRPcHRpb25zO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuQ1JTX1RSQU5TRk9STV9LRVkgPSBcImNyc190cmFuc2Zvcm1cIjtcbm1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuRUVfRUxFTUVOVF9LRVlTID0gW1wiaW1hZ2VcIiwgXCJjb2xsZWN0aW9uXCIsIFwiY2xhc3NpZmllclwiXTtcbmVlLmJhdGNoLkV4cG9ydCA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQ7XG5lZS5iYXRjaC5FeHBvcnRUYXNrID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydFRhc2s7XG5lZS5iYXRjaC5JbWFnZUZvcm1hdCA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9JbWFnZUZvcm1hdDtcbmVlLmJhdGNoLk1hcEZvcm1hdCA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9NYXBGb3JtYXQ7XG5lZS5iYXRjaC5TZXJ2ZXJUYXNrQ29uZmlnID0ge307XG5lZS5iYXRjaC5UYWJsZUZvcm1hdCA9IG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9UYWJsZUZvcm1hdDtcbmVlLmJhdGNoLlZpZGVvRm9ybWF0ID0gbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX1ZpZGVvRm9ybWF0O1xuZWUuTnVtYmVyID0gZnVuY3Rpb24obnVtYmVyKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBlZS5OdW1iZXIpKSB7XG4gICAgcmV0dXJuIGVlLkNvbXB1dGVkT2JqZWN0LmNvbnN0cnVjdChlZS5OdW1iZXIsIGFyZ3VtZW50cyk7XG4gIH1cbiAgaWYgKG51bWJlciBpbnN0YW5jZW9mIGVlLk51bWJlcikge1xuICAgIHJldHVybiBudW1iZXI7XG4gIH1cbiAgZWUuTnVtYmVyLmluaXRpYWxpemUoKTtcbiAgaWYgKFwibnVtYmVyXCIgPT09IHR5cGVvZiBudW1iZXIpIHtcbiAgICBlZS5Db21wdXRlZE9iamVjdC5jYWxsKHRoaXMsIG51bGwsIG51bGwpLCB0aGlzLm51bWJlcl8gPSBudW1iZXI7XG4gIH0gZWxzZSB7XG4gICAgaWYgKG51bWJlciBpbnN0YW5jZW9mIGVlLkNvbXB1dGVkT2JqZWN0KSB7XG4gICAgICBlZS5Db21wdXRlZE9iamVjdC5jYWxsKHRoaXMsIG51bWJlci5mdW5jLCBudW1iZXIuYXJncywgbnVtYmVyLnZhck5hbWUpLCB0aGlzLm51bWJlcl8gPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQgc3BlY2lmaWVkIGZvciBlZS5OdW1iZXIoKTogXCIgKyBudW1iZXIpO1xuICAgIH1cbiAgfVxufTtcbmdvb2cuaW5oZXJpdHMoZWUuTnVtYmVyLCBlZS5Db21wdXRlZE9iamVjdCk7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLk51bWJlclwiLCBlZS5OdW1iZXIpO1xuZWUuTnVtYmVyLmluaXRpYWxpemVkXyA9ICExO1xuZWUuTnVtYmVyLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcbiAgZWUuTnVtYmVyLmluaXRpYWxpemVkXyB8fCAoZWUuQXBpRnVuY3Rpb24uaW1wb3J0QXBpKGVlLk51bWJlciwgXCJOdW1iZXJcIiwgXCJOdW1iZXJcIiksIGVlLk51bWJlci5pbml0aWFsaXplZF8gPSAhMCk7XG59O1xuZWUuTnVtYmVyLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gIGVlLkFwaUZ1bmN0aW9uLmNsZWFyQXBpKGVlLk51bWJlcik7XG4gIGVlLk51bWJlci5pbml0aWFsaXplZF8gPSAhMTtcbn07XG5lZS5OdW1iZXIucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uKGVuY29kZXIpIHtcbiAgcmV0dXJuIFwibnVtYmVyXCIgPT09IHR5cGVvZiB0aGlzLm51bWJlcl8gPyB0aGlzLm51bWJlcl8gOiBlZS5OdW1iZXIuc3VwZXJDbGFzc18uZW5jb2RlLmNhbGwodGhpcywgZW5jb2Rlcik7XG59O1xuZWUuTnVtYmVyLnByb3RvdHlwZS5lbmNvZGVDbG91ZFZhbHVlID0gZnVuY3Rpb24oc2VyaWFsaXplcikge1xuICByZXR1cm4gXCJudW1iZXJcIiA9PT0gdHlwZW9mIHRoaXMubnVtYmVyXyA/IGVlLnJwY19ub2RlLnJlZmVyZW5jZShzZXJpYWxpemVyLm1ha2VSZWZlcmVuY2UodGhpcy5udW1iZXJfKSkgOiBlZS5OdW1iZXIuc3VwZXJDbGFzc18uZW5jb2RlQ2xvdWRWYWx1ZS5jYWxsKHRoaXMsIHNlcmlhbGl6ZXIpO1xufTtcbmVlLk51bWJlci5wcm90b3R5cGUubmFtZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gXCJOdW1iZXJcIjtcbn07XG5lZS5TdHJpbmcgPSBmdW5jdGlvbihzdHJpbmcpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGVlLlN0cmluZykpIHtcbiAgICByZXR1cm4gZWUuQ29tcHV0ZWRPYmplY3QuY29uc3RydWN0KGVlLlN0cmluZywgYXJndW1lbnRzKTtcbiAgfVxuICBpZiAoc3RyaW5nIGluc3RhbmNlb2YgZWUuU3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZztcbiAgfVxuICBlZS5TdHJpbmcuaW5pdGlhbGl6ZSgpO1xuICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHN0cmluZykge1xuICAgIGVlLkNvbXB1dGVkT2JqZWN0LmNhbGwodGhpcywgbnVsbCwgbnVsbCksIHRoaXMuc3RyaW5nXyA9IHN0cmluZztcbiAgfSBlbHNlIHtcbiAgICBpZiAoc3RyaW5nIGluc3RhbmNlb2YgZWUuQ29tcHV0ZWRPYmplY3QpIHtcbiAgICAgIHRoaXMuc3RyaW5nXyA9IG51bGwsIHN0cmluZy5mdW5jICYmIFwiU3RyaW5nXCIgPT0gc3RyaW5nLmZ1bmMuZ2V0U2lnbmF0dXJlKCkucmV0dXJucyA/IGVlLkNvbXB1dGVkT2JqZWN0LmNhbGwodGhpcywgc3RyaW5nLmZ1bmMsIHN0cmluZy5hcmdzLCBzdHJpbmcudmFyTmFtZSkgOiBlZS5Db21wdXRlZE9iamVjdC5jYWxsKHRoaXMsIG5ldyBlZS5BcGlGdW5jdGlvbihcIlN0cmluZ1wiKSwge2lucHV0OnN0cmluZ30sIG51bGwpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQgc3BlY2lmaWVkIGZvciBlZS5TdHJpbmcoKTogXCIgKyBzdHJpbmcpO1xuICAgIH1cbiAgfVxufTtcbmdvb2cuaW5oZXJpdHMoZWUuU3RyaW5nLCBlZS5Db21wdXRlZE9iamVjdCk7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLlN0cmluZ1wiLCBlZS5TdHJpbmcpO1xuZWUuU3RyaW5nLmluaXRpYWxpemVkXyA9ICExO1xuZWUuU3RyaW5nLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcbiAgZWUuU3RyaW5nLmluaXRpYWxpemVkXyB8fCAoZWUuQXBpRnVuY3Rpb24uaW1wb3J0QXBpKGVlLlN0cmluZywgXCJTdHJpbmdcIiwgXCJTdHJpbmdcIiksIGVlLlN0cmluZy5pbml0aWFsaXplZF8gPSAhMCk7XG59O1xuZWUuU3RyaW5nLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gIGVlLkFwaUZ1bmN0aW9uLmNsZWFyQXBpKGVlLlN0cmluZyk7XG4gIGVlLlN0cmluZy5pbml0aWFsaXplZF8gPSAhMTtcbn07XG5lZS5TdHJpbmcucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uKGVuY29kZXIpIHtcbiAgcmV0dXJuIFwic3RyaW5nXCIgPT09IHR5cGVvZiB0aGlzLnN0cmluZ18gPyB0aGlzLnN0cmluZ18gOiBlZS5TdHJpbmcuc3VwZXJDbGFzc18uZW5jb2RlLmNhbGwodGhpcywgZW5jb2Rlcik7XG59O1xuZWUuU3RyaW5nLnByb3RvdHlwZS5lbmNvZGVDbG91ZFZhbHVlID0gZnVuY3Rpb24oc2VyaWFsaXplcikge1xuICByZXR1cm4gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHRoaXMuc3RyaW5nXyA/IGVlLnJwY19ub2RlLnJlZmVyZW5jZShzZXJpYWxpemVyLm1ha2VSZWZlcmVuY2UodGhpcy5zdHJpbmdfKSkgOiBlZS5TdHJpbmcuc3VwZXJDbGFzc18uZW5jb2RlQ2xvdWRWYWx1ZS5jYWxsKHRoaXMsIHNlcmlhbGl6ZXIpO1xufTtcbmVlLlN0cmluZy5wcm90b3R5cGUubmFtZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gXCJTdHJpbmdcIjtcbn07XG5lZS5DdXN0b21GdW5jdGlvbiA9IGZ1bmN0aW9uKHNpZ25hdHVyZSwgYm9keSkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgZWUuQ3VzdG9tRnVuY3Rpb24pKSB7XG4gICAgcmV0dXJuIGVlLkNvbXB1dGVkT2JqZWN0LmNvbnN0cnVjdChlZS5DdXN0b21GdW5jdGlvbiwgYXJndW1lbnRzKTtcbiAgfVxuICBmb3IgKHZhciB2YXJzID0gW10sIGFyZ3MgPSBzaWduYXR1cmUuYXJncywgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGFyZyA9IGFyZ3NbaV07XG4gICAgdmFycy5wdXNoKGVlLkN1c3RvbUZ1bmN0aW9uLnZhcmlhYmxlKGVlLlR5cGVzLm5hbWVUb0NsYXNzKGFyZy50eXBlKSwgYXJnLm5hbWUpKTtcbiAgfVxuICBpZiAodm9pZCAwID09PSBib2R5LmFwcGx5KG51bGwsIHZhcnMpKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJVc2VyLWRlZmluZWQgbWV0aG9kcyBtdXN0IHJldHVybiBhIHZhbHVlLlwiKTtcbiAgfVxuICB0aGlzLnNpZ25hdHVyZV8gPSBlZS5DdXN0b21GdW5jdGlvbi5yZXNvbHZlTmFtZWxlc3NBcmdzXyhzaWduYXR1cmUsIHZhcnMsIGJvZHkpO1xuICB0aGlzLmJvZHlfID0gYm9keS5hcHBseShudWxsLCB2YXJzKTtcbn07XG5nb29nLmluaGVyaXRzKGVlLkN1c3RvbUZ1bmN0aW9uLCBlZS5GdW5jdGlvbik7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLkN1c3RvbUZ1bmN0aW9uXCIsIGVlLkN1c3RvbUZ1bmN0aW9uKTtcbmVlLkN1c3RvbUZ1bmN0aW9uLnByb3RvdHlwZS5lbmNvZGUgPSBmdW5jdGlvbihlbmNvZGVyKSB7XG4gIHJldHVybiB7dHlwZTpcIkZ1bmN0aW9uXCIsIGFyZ3VtZW50TmFtZXM6bW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbWFwKHRoaXMuc2lnbmF0dXJlXy5hcmdzLCBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gYXJnLm5hbWU7XG4gIH0pLCBib2R5OmVuY29kZXIodGhpcy5ib2R5Xyl9O1xufTtcbmVlLkN1c3RvbUZ1bmN0aW9uLnByb3RvdHlwZS5lbmNvZGVDbG91ZFZhbHVlID0gZnVuY3Rpb24oc2VyaWFsaXplcikge1xuICByZXR1cm4gZWUucnBjX25vZGUuZnVuY3Rpb25EZWZpbml0aW9uKHRoaXMuc2lnbmF0dXJlXy5hcmdzLm1hcChmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gYXJnLm5hbWU7XG4gIH0pLCBzZXJpYWxpemVyLm1ha2VSZWZlcmVuY2UodGhpcy5ib2R5XykpO1xufTtcbmVlLkN1c3RvbUZ1bmN0aW9uLnByb3RvdHlwZS5lbmNvZGVDbG91ZEludm9jYXRpb24gPSBmdW5jdGlvbihzZXJpYWxpemVyLCBhcmdzKSB7XG4gIHJldHVybiBlZS5ycGNfbm9kZS5mdW5jdGlvbkJ5UmVmZXJlbmNlKHNlcmlhbGl6ZXIubWFrZVJlZmVyZW5jZSh0aGlzKSwgYXJncyk7XG59O1xuZWUuQ3VzdG9tRnVuY3Rpb24ucHJvdG90eXBlLmdldFNpZ25hdHVyZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5zaWduYXR1cmVfO1xufTtcbmVlLkN1c3RvbUZ1bmN0aW9uLnZhcmlhYmxlID0gZnVuY3Rpb24odHlwZSwgbmFtZSRqc2NvbXAkMCkge1xuICB0eXBlID0gdHlwZSB8fCBPYmplY3Q7XG4gIGlmICghKHR5cGUucHJvdG90eXBlIGluc3RhbmNlb2YgZWUuQ29tcHV0ZWRPYmplY3QpKSB7XG4gICAgaWYgKHR5cGUgJiYgdHlwZSAhPSBPYmplY3QpIHtcbiAgICAgIGlmICh0eXBlID09IFN0cmluZykge1xuICAgICAgICB0eXBlID0gZWUuU3RyaW5nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHR5cGUgPT0gTnVtYmVyKSB7XG4gICAgICAgICAgdHlwZSA9IGVlLk51bWJlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodHlwZSA9PSBBcnJheSkge1xuICAgICAgICAgICAgdHlwZSA9IGdvb2cuZ2xvYmFsLmVlLkxpc3Q7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiVmFyaWFibGVzIG11c3QgYmUgb2YgYW4gRUUgdHlwZSwgZS5nLiBlZS5JbWFnZSBvciBlZS5OdW1iZXIuXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0eXBlID0gZWUuQ29tcHV0ZWRPYmplY3Q7XG4gICAgfVxuICB9XG4gIHZhciBrbGFzcyA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB0aGlzLmFyZ3MgPSB0aGlzLmZ1bmMgPSBudWxsO1xuICAgIHRoaXMudmFyTmFtZSA9IG5hbWU7XG4gIH07XG4gIGtsYXNzLnByb3RvdHlwZSA9IHR5cGUucHJvdG90eXBlO1xuICByZXR1cm4gbmV3IGtsYXNzKG5hbWUkanNjb21wJDApO1xufTtcbmVlLkN1c3RvbUZ1bmN0aW9uLmNyZWF0ZSA9IGZ1bmN0aW9uKGZ1bmMsIHJldHVyblR5cGUsIGFyZ190eXBlcykge1xuICB2YXIgc3RyaW5naWZ5VHlwZSA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICByZXR1cm4gXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHR5cGUgPyB0eXBlIDogZWUuVHlwZXMuY2xhc3NUb05hbWUodHlwZSk7XG4gIH0sIGFyZ3MgPSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9tYXAoYXJnX3R5cGVzLCBmdW5jdGlvbihhcmdUeXBlKSB7XG4gICAgcmV0dXJuIHtuYW1lOm51bGwsIHR5cGU6c3RyaW5naWZ5VHlwZShhcmdUeXBlKX07XG4gIH0pLCBzaWduYXR1cmUgPSB7bmFtZTpcIlwiLCByZXR1cm5zOnN0cmluZ2lmeVR5cGUocmV0dXJuVHlwZSksIGFyZ3M6YXJnc307XG4gIHJldHVybiBuZXcgZWUuQ3VzdG9tRnVuY3Rpb24oc2lnbmF0dXJlLCBmdW5jKTtcbn07XG5lZS5DdXN0b21GdW5jdGlvbi5yZXNvbHZlTmFtZWxlc3NBcmdzXyA9IGZ1bmN0aW9uKHNpZ25hdHVyZSwgdmFycywgYm9keSkge1xuICBmb3IgKHZhciBuYW1lbGVzc0FyZ0luZGljZXMgPSBbXSwgaSA9IDA7IGkgPCB2YXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgbnVsbCA9PT0gdmFyc1tpXS52YXJOYW1lICYmIG5hbWVsZXNzQXJnSW5kaWNlcy5wdXNoKGkpO1xuICB9XG4gIGlmICgwID09PSBuYW1lbGVzc0FyZ0luZGljZXMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHNpZ25hdHVyZTtcbiAgfVxuICBmb3IgKHZhciBiYXNlTmFtZSA9IFwiX01BUFBJTkdfVkFSX1wiICsgZnVuY3Rpb24oZXhwcmVzc2lvbikge1xuICAgIHZhciBjb3VudE5vZGVzID0gZnVuY3Rpb24obm9kZXMpIHtcbiAgICAgIHJldHVybiBub2Rlcy5tYXAoY291bnROb2RlKS5yZWR1Y2UoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICByZXR1cm4gYSArIGI7XG4gICAgICB9LCAwKTtcbiAgICB9LCBjb3VudE5vZGUgPSBmdW5jdGlvbihub2RlKSB7XG4gICAgICByZXR1cm4gbm9kZS5mdW5jdGlvbkRlZmluaXRpb25WYWx1ZSA/IDEgOiBub2RlLmFycmF5VmFsdWUgPyBjb3VudE5vZGVzKG5vZGUuYXJyYXlWYWx1ZS52YWx1ZXMpIDogbm9kZS5kaWN0aW9uYXJ5VmFsdWUgPyBjb3VudE5vZGVzKE9iamVjdC52YWx1ZXMobm9kZS5kaWN0aW9uYXJ5VmFsdWUudmFsdWVzKSkgOiBub2RlLmZ1bmN0aW9uSW52b2NhdGlvblZhbHVlID8gY291bnROb2RlcyhPYmplY3QudmFsdWVzKG5vZGUuZnVuY3Rpb25JbnZvY2F0aW9uVmFsdWUuYXJndW1lbnRzKSkgOiAwO1xuICAgIH07XG4gICAgcmV0dXJuIGNvdW50Tm9kZXMoT2JqZWN0LnZhbHVlcyhleHByZXNzaW9uLnZhbHVlcykpO1xuICB9KGVlLlNlcmlhbGl6ZXIuZW5jb2RlQ2xvdWRBcGlFeHByZXNzaW9uKGJvZHkuYXBwbHkobnVsbCwgdmFycyksIFwiPHVuYm91bmQ+XCIpKSArIFwiX1wiLCBpJDcwID0gMDsgaSQ3MCA8IG5hbWVsZXNzQXJnSW5kaWNlcy5sZW5ndGg7IGkkNzArKykge1xuICAgIHZhciBpbmRleCA9IG5hbWVsZXNzQXJnSW5kaWNlc1tpJDcwXSwgbmFtZSA9IGJhc2VOYW1lICsgaSQ3MDtcbiAgICB2YXJzW2luZGV4XS52YXJOYW1lID0gbmFtZTtcbiAgICBzaWduYXR1cmUuYXJnc1tpbmRleF0ubmFtZSA9IG5hbWU7XG4gIH1cbiAgcmV0dXJuIHNpZ25hdHVyZTtcbn07XG5lZS5EYXRlID0gZnVuY3Rpb24oZGF0ZSwgb3B0X3R6KSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBlZS5EYXRlKSkge1xuICAgIHJldHVybiBlZS5Db21wdXRlZE9iamVjdC5jb25zdHJ1Y3QoZWUuRGF0ZSwgYXJndW1lbnRzKTtcbiAgfVxuICBpZiAoZGF0ZSBpbnN0YW5jZW9mIGVlLkRhdGUpIHtcbiAgICByZXR1cm4gZGF0ZTtcbiAgfVxuICBlZS5EYXRlLmluaXRpYWxpemUoKTtcbiAgdmFyIGpzQXJncyA9IGVlLmFyZ3VtZW50cy5leHRyYWN0RnJvbUZ1bmN0aW9uKGVlLkRhdGUsIGFyZ3VtZW50cyk7XG4gIGRhdGUgPSBqc0FyZ3MuZGF0ZTtcbiAgdmFyIHR6ID0ganNBcmdzLnR6LCBmdW5jID0gbmV3IGVlLkFwaUZ1bmN0aW9uKFwiRGF0ZVwiKSwgYXJncyA9IHt9LCB2YXJOYW1lID0gbnVsbDtcbiAgaWYgKGVlLlR5cGVzLmlzU3RyaW5nKGRhdGUpKSB7XG4gICAgaWYgKGFyZ3MudmFsdWUgPSBkYXRlLCB0eikge1xuICAgICAgaWYgKGVlLlR5cGVzLmlzU3RyaW5nKHR6KSkge1xuICAgICAgICBhcmdzLnRpbWVab25lID0gdHo7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQgc3BlY2lmaWVkIGZvciBlZS5EYXRlKC4uLiwgb3B0X3R6KTogXCIgKyB0eik7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChlZS5UeXBlcy5pc051bWJlcihkYXRlKSkge1xuICAgICAgYXJncy52YWx1ZSA9IGRhdGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChnb29nLmlzRGF0ZUxpa2UoZGF0ZSkpIHtcbiAgICAgICAgYXJncy52YWx1ZSA9IE1hdGguZmxvb3IoZGF0ZS5nZXRUaW1lKCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGRhdGUgaW5zdGFuY2VvZiBlZS5Db21wdXRlZE9iamVjdCkge1xuICAgICAgICAgIGRhdGUuZnVuYyAmJiBcIkRhdGVcIiA9PSBkYXRlLmZ1bmMuZ2V0U2lnbmF0dXJlKCkucmV0dXJucyA/IChmdW5jID0gZGF0ZS5mdW5jLCBhcmdzID0gZGF0ZS5hcmdzLCB2YXJOYW1lID0gZGF0ZS52YXJOYW1lKSA6IGFyZ3MudmFsdWUgPSBkYXRlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCBzcGVjaWZpZWQgZm9yIGVlLkRhdGUoKTogXCIgKyBkYXRlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBlZS5Db21wdXRlZE9iamVjdC5jYWxsKHRoaXMsIGZ1bmMsIGFyZ3MsIHZhck5hbWUpO1xufTtcbmdvb2cuaW5oZXJpdHMoZWUuRGF0ZSwgZWUuQ29tcHV0ZWRPYmplY3QpO1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5EYXRlXCIsIGVlLkRhdGUpO1xuZWUuRGF0ZS5pbml0aWFsaXplZF8gPSAhMTtcbmVlLkRhdGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge1xuICBlZS5EYXRlLmluaXRpYWxpemVkXyB8fCAoZWUuQXBpRnVuY3Rpb24uaW1wb3J0QXBpKGVlLkRhdGUsIFwiRGF0ZVwiLCBcIkRhdGVcIiksIGVlLkRhdGUuaW5pdGlhbGl6ZWRfID0gITApO1xufTtcbmVlLkRhdGUucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgZWUuQXBpRnVuY3Rpb24uY2xlYXJBcGkoZWUuRGF0ZSk7XG4gIGVlLkRhdGUuaW5pdGlhbGl6ZWRfID0gITE7XG59O1xuZWUuRGF0ZS5wcm90b3R5cGUubmFtZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gXCJEYXRlXCI7XG59O1xuZWUuRGVzZXJpYWxpemVyID0gZnVuY3Rpb24oKSB7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5EZXNlcmlhbGl6ZXJcIiwgZWUuRGVzZXJpYWxpemVyKTtcbmVlLkRlc2VyaWFsaXplci5mcm9tSlNPTiA9IGZ1bmN0aW9uKGpzb24pIHtcbiAgcmV0dXJuIGVlLkRlc2VyaWFsaXplci5kZWNvZGUoSlNPTi5wYXJzZShqc29uKSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5EZXNlcmlhbGl6ZXIuZnJvbUpTT05cIiwgZWUuRGVzZXJpYWxpemVyLmZyb21KU09OKTtcbmVlLkRlc2VyaWFsaXplci5kZWNvZGUgPSBmdW5jdGlvbihqc29uKSB7XG4gIGlmIChcInJlc3VsdFwiIGluIGpzb24gJiYgXCJ2YWx1ZXNcIiBpbiBqc29uKSB7XG4gICAgcmV0dXJuIGVlLkRlc2VyaWFsaXplci5kZWNvZGVDbG91ZEFwaShqc29uKTtcbiAgfVxuICB2YXIgbmFtZWRWYWx1ZXMgPSB7fTtcbiAgaWYgKGdvb2cuaXNPYmplY3QoanNvbikgJiYgXCJDb21wb3VuZFZhbHVlXCIgPT09IGpzb24udHlwZSkge1xuICAgIGZvciAodmFyIHNjb3BlcyA9IGpzb24uc2NvcGUsIGkgPSAwOyBpIDwgc2NvcGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0gc2NvcGVzW2ldWzBdLCB2YWx1ZSA9IHNjb3Blc1tpXVsxXTtcbiAgICAgIGlmIChrZXkgaW4gbmFtZWRWYWx1ZXMpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0R1cGxpY2F0ZSBzY29wZSBrZXkgXCInICsga2V5ICsgJ1wiIGluIHNjb3BlICMnICsgaSArIFwiLlwiKTtcbiAgICAgIH1cbiAgICAgIG5hbWVkVmFsdWVzW2tleV0gPSBlZS5EZXNlcmlhbGl6ZXIuZGVjb2RlVmFsdWVfKHZhbHVlLCBuYW1lZFZhbHVlcyk7XG4gICAgfVxuICAgIGpzb24gPSBqc29uLnZhbHVlO1xuICB9XG4gIHJldHVybiBlZS5EZXNlcmlhbGl6ZXIuZGVjb2RlVmFsdWVfKGpzb24sIG5hbWVkVmFsdWVzKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLkRlc2VyaWFsaXplci5kZWNvZGVcIiwgZWUuRGVzZXJpYWxpemVyLmRlY29kZSk7XG5lZS5EZXNlcmlhbGl6ZXIuZGVjb2RlVmFsdWVfID0gZnVuY3Rpb24oanNvbiwgbmFtZWRWYWx1ZXMpIHtcbiAgaWYgKG51bGwgPT09IGpzb24gfHwgXCJudW1iZXJcIiA9PT0gdHlwZW9mIGpzb24gfHwgXCJib29sZWFuXCIgPT09IHR5cGVvZiBqc29uIHx8IFwic3RyaW5nXCIgPT09IHR5cGVvZiBqc29uKSB7XG4gICAgcmV0dXJuIGpzb247XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkoanNvbikpIHtcbiAgICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfbWFwKGpzb24sIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiBlZS5EZXNlcmlhbGl6ZXIuZGVjb2RlVmFsdWVfKGVsZW1lbnQsIG5hbWVkVmFsdWVzKTtcbiAgICB9KTtcbiAgfVxuICBpZiAoIWdvb2cuaXNPYmplY3QoanNvbikgfHwgXCJmdW5jdGlvblwiID09PSB0eXBlb2YganNvbikge1xuICAgIHRocm93IEVycm9yKFwiQ2Fubm90IGRlY29kZSBvYmplY3Q6IFwiICsganNvbik7XG4gIH1cbiAgdmFyIHR5cGVOYW1lID0ganNvbi50eXBlO1xuICBzd2l0Y2godHlwZU5hbWUpIHtcbiAgICBjYXNlIFwiVmFsdWVSZWZcIjpcbiAgICAgIGlmIChqc29uLnZhbHVlIGluIG5hbWVkVmFsdWVzKSB7XG4gICAgICAgIHJldHVybiBuYW1lZFZhbHVlc1tqc29uLnZhbHVlXTtcbiAgICAgIH1cbiAgICAgIHRocm93IEVycm9yKFwiVW5rbm93biBWYWx1ZVJlZjogXCIgKyBqc29uKTtcbiAgICBjYXNlIFwiQXJndW1lbnRSZWZcIjpcbiAgICAgIHZhciB2YXJOYW1lID0ganNvbi52YWx1ZTtcbiAgICAgIGlmIChcInN0cmluZ1wiICE9PSB0eXBlb2YgdmFyTmFtZSkge1xuICAgICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgdmFyaWFibGUgbmFtZTogXCIgKyB2YXJOYW1lKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlZS5DdXN0b21GdW5jdGlvbi52YXJpYWJsZShPYmplY3QsIHZhck5hbWUpO1xuICAgIGNhc2UgXCJEYXRlXCI6XG4gICAgICB2YXIgbWljcm9zZWNvbmRzID0ganNvbi52YWx1ZTtcbiAgICAgIGlmIChcIm51bWJlclwiICE9PSB0eXBlb2YgbWljcm9zZWNvbmRzKSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiSW52YWxpZCBkYXRlIHZhbHVlOiBcIiArIG1pY3Jvc2Vjb25kcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IGVlLkRhdGUobWljcm9zZWNvbmRzIC8gMTAwMCk7XG4gICAgY2FzZSBcIkJ5dGVzXCI6XG4gICAgICByZXR1cm4gZWUuRGVzZXJpYWxpemVyLnJvdW5kVHJpcF8obmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmFsdWVOb2RlKHtieXRlc1ZhbHVlOmpzb259KSwganNvbik7XG4gICAgY2FzZSBcIkludm9jYXRpb25cIjpcbiAgICAgIHZhciBmdW5jID0gXCJmdW5jdGlvbk5hbWVcIiBpbiBqc29uID8gZWUuQXBpRnVuY3Rpb24ubG9va3VwKGpzb24uZnVuY3Rpb25OYW1lKSA6IGVlLkRlc2VyaWFsaXplci5kZWNvZGVWYWx1ZV8oanNvbltcImZ1bmN0aW9uXCJdLCBuYW1lZFZhbHVlcyk7XG4gICAgICB2YXIgYXJncyA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9tYXAoanNvbi5hcmd1bWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGVlLkRlc2VyaWFsaXplci5kZWNvZGVWYWx1ZV8oZWxlbWVudCwgbmFtZWRWYWx1ZXMpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gZWUuRGVzZXJpYWxpemVyLmludm9jYXRpb25fKGZ1bmMsIGFyZ3MpO1xuICAgIGNhc2UgXCJEaWN0aW9uYXJ5XCI6XG4gICAgICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X21hcChqc29uLnZhbHVlLCBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBlZS5EZXNlcmlhbGl6ZXIuZGVjb2RlVmFsdWVfKGVsZW1lbnQsIG5hbWVkVmFsdWVzKTtcbiAgICAgIH0pO1xuICAgIGNhc2UgXCJGdW5jdGlvblwiOlxuICAgICAgdmFyIGJvZHkgPSBlZS5EZXNlcmlhbGl6ZXIuZGVjb2RlVmFsdWVfKGpzb24uYm9keSwgbmFtZWRWYWx1ZXMpLCBzaWduYXR1cmUgPSB7bmFtZTpcIlwiLCBhcmdzOm1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X21hcChqc29uLmFyZ3VtZW50TmFtZXMsIGZ1bmN0aW9uKGFyZ05hbWUpIHtcbiAgICAgICAgcmV0dXJuIHtuYW1lOmFyZ05hbWUsIHR5cGU6XCJPYmplY3RcIiwgb3B0aW9uYWw6ITF9O1xuICAgICAgfSksIHJldHVybnM6XCJPYmplY3RcIn07XG4gICAgICByZXR1cm4gbmV3IGVlLkN1c3RvbUZ1bmN0aW9uKHNpZ25hdHVyZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBib2R5O1xuICAgICAgfSk7XG4gICAgY2FzZSBcIlBvaW50XCI6XG4gICAgY2FzZSBcIk11bHRpUG9pbnRcIjpcbiAgICBjYXNlIFwiTGluZVN0cmluZ1wiOlxuICAgIGNhc2UgXCJNdWx0aUxpbmVTdHJpbmdcIjpcbiAgICBjYXNlIFwiUG9seWdvblwiOlxuICAgIGNhc2UgXCJNdWx0aVBvbHlnb25cIjpcbiAgICBjYXNlIFwiTGluZWFyUmluZ1wiOlxuICAgIGNhc2UgXCJHZW9tZXRyeUNvbGxlY3Rpb25cIjpcbiAgICAgIHJldHVybiBuZXcgZWUuR2VvbWV0cnkoanNvbik7XG4gICAgY2FzZSBcIkNvbXBvdW5kVmFsdWVcIjpcbiAgICAgIHRocm93IEVycm9yKFwiTmVzdGVkIENvbXBvdW5kVmFsdWVzIGFyZSBkaXNhbGxvd2VkLlwiKTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgRXJyb3IoXCJVbmtub3duIGVuY29kZWQgb2JqZWN0IHR5cGU6IFwiICsgdHlwZU5hbWUpO1xuICB9XG59O1xuZWUuRGVzZXJpYWxpemVyLnJvdW5kVHJpcF8gPSBmdW5jdGlvbihub2RlLCB2YWx1ZSkge1xuICB2YXIgUmVlbmNvZGVyID0gZnVuY3Rpb24oKSB7XG4gIH07XG4gICRqc2NvbXAuaW5oZXJpdHMoUmVlbmNvZGVyLCBlZS5FbmNvZGFibGUpO1xuICBSZWVuY29kZXIucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uKGVuY29kZXIpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG4gIFJlZW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlQ2xvdWRWYWx1ZSA9IGZ1bmN0aW9uKGVuY29kZXIpIHtcbiAgICByZXR1cm4gbm9kZTtcbiAgfTtcbiAgcmV0dXJuIG5ldyBSZWVuY29kZXIoKTtcbn07XG5lZS5EZXNlcmlhbGl6ZXIuaW52b2NhdGlvbl8gPSBmdW5jdGlvbihmdW5jLCBhcmdzJGpzY29tcCQwKSB7XG4gIGlmIChmdW5jIGluc3RhbmNlb2YgZWUuRnVuY3Rpb24pIHtcbiAgICByZXR1cm4gZnVuYy5hcHBseShhcmdzJGpzY29tcCQwKTtcbiAgfVxuICBpZiAoZnVuYyBpbnN0YW5jZW9mIGVlLkNvbXB1dGVkT2JqZWN0KSB7XG4gICAgdmFyIENvbXB1dGVkRnVuY3Rpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBlZS5GdW5jdGlvbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfTtcbiAgICAkanNjb21wLmluaGVyaXRzKENvbXB1dGVkRnVuY3Rpb24sIGVlLkZ1bmN0aW9uKTtcbiAgICBDb21wdXRlZEZ1bmN0aW9uLnByb3RvdHlwZS5lbmNvZGUgPSBmdW5jdGlvbihlbmNvZGVyKSB7XG4gICAgICByZXR1cm4gZnVuYy5lbmNvZGUoZW5jb2Rlcik7XG4gICAgfTtcbiAgICBDb21wdXRlZEZ1bmN0aW9uLnByb3RvdHlwZS5lbmNvZGVDbG91ZEludm9jYXRpb24gPSBmdW5jdGlvbihzZXJpYWxpemVyLCBhcmdzKSB7XG4gICAgICByZXR1cm4gZWUucnBjX25vZGUuZnVuY3Rpb25CeVJlZmVyZW5jZShzZXJpYWxpemVyLm1ha2VSZWZlcmVuY2UoZnVuYyksIGFyZ3MpO1xuICAgIH07XG4gICAgcmV0dXJuIG5ldyBlZS5Db21wdXRlZE9iamVjdChuZXcgQ29tcHV0ZWRGdW5jdGlvbigpLCBhcmdzJGpzY29tcCQwKTtcbiAgfVxuICB0aHJvdyBFcnJvcihcIkludmFsaWQgZnVuY3Rpb24gdmFsdWVcIik7XG59O1xuZWUuRGVzZXJpYWxpemVyLmZyb21DbG91ZEFwaUpTT04gPSBmdW5jdGlvbihqc29uKSB7XG4gIHJldHVybiBlZS5EZXNlcmlhbGl6ZXIuZGVjb2RlQ2xvdWRBcGkoSlNPTi5wYXJzZShqc29uKSk7XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5EZXNlcmlhbGl6ZXIuZnJvbUNsb3VkQXBpSlNPTlwiLCBlZS5EZXNlcmlhbGl6ZXIuZnJvbUNsb3VkQXBpSlNPTik7XG5lZS5EZXNlcmlhbGl6ZXIuZGVjb2RlQ2xvdWRBcGkgPSBmdW5jdGlvbihqc29uKSB7XG4gIHZhciBleHByZXNzaW9uID0gbW9kdWxlJGNvbnRlbnRzJGVlYXBpY2xpZW50JGRvbWFpbl9vYmplY3RfZGVzZXJpYWxpemUobW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5FeHByZXNzaW9uLCBqc29uKSwgZGVjb2RlZCA9IHt9LCBsb29rdXAgPSBmdW5jdGlvbihyZWZlcmVuY2UsIGtpbmQpIHtcbiAgICBpZiAoIShyZWZlcmVuY2UgaW4gZGVjb2RlZCkpIHtcbiAgICAgIGlmICghKHJlZmVyZW5jZSBpbiBleHByZXNzaW9uLnZhbHVlcykpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJDYW5ub3QgZmluZCBcIiArIGtpbmQgKyBcIiBcIiArIHJlZmVyZW5jZSk7XG4gICAgICB9XG4gICAgICBkZWNvZGVkW3JlZmVyZW5jZV0gPSBkZWNvZGUoZXhwcmVzc2lvbi52YWx1ZXNbcmVmZXJlbmNlXSk7XG4gICAgfVxuICAgIHJldHVybiBkZWNvZGVkW3JlZmVyZW5jZV07XG4gIH0sIGRlY29kZSA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICByZXR1cm4gbnVsbCAhPT0gbm9kZS5jb25zdGFudFZhbHVlID8gbm9kZS5jb25zdGFudFZhbHVlIDogbnVsbCAhPT0gbm9kZS5hcnJheVZhbHVlID8gbm9kZS5hcnJheVZhbHVlLnZhbHVlcy5tYXAoZGVjb2RlKSA6IG51bGwgIT09IG5vZGUuZGljdGlvbmFyeVZhbHVlID8gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X21hcChub2RlLmRpY3Rpb25hcnlWYWx1ZS52YWx1ZXMsIGRlY29kZSkgOiBudWxsICE9PSBub2RlLmFyZ3VtZW50UmVmZXJlbmNlID8gZWUuQ3VzdG9tRnVuY3Rpb24udmFyaWFibGUoT2JqZWN0LCBub2RlLmFyZ3VtZW50UmVmZXJlbmNlKSA6IG51bGwgIT09IG5vZGUuZnVuY3Rpb25EZWZpbml0aW9uVmFsdWUgPyBkZWNvZGVGdW5jdGlvbkRlZmluaXRpb24obm9kZS5mdW5jdGlvbkRlZmluaXRpb25WYWx1ZSkgOiBudWxsICE9PSBub2RlLmZ1bmN0aW9uSW52b2NhdGlvblZhbHVlID8gZGVjb2RlRnVuY3Rpb25JbnZvY2F0aW9uKG5vZGUuZnVuY3Rpb25JbnZvY2F0aW9uVmFsdWUpIDogXG4gICAgbnVsbCAhPT0gbm9kZS5ieXRlc1ZhbHVlID8gZWUuRGVzZXJpYWxpemVyLnJvdW5kVHJpcF8obmV3IG1vZHVsZSRleHBvcnRzJGVlYXBpY2xpZW50JGVlX2FwaV9jbGllbnQuVmFsdWVOb2RlKHtieXRlc1ZhbHVlOm5vZGUuYnl0ZXNWYWx1ZX0pLCBub2RlLmJ5dGVzVmFsdWUpIDogbnVsbCAhPT0gbm9kZS5pbnRlZ2VyVmFsdWUgPyBlZS5EZXNlcmlhbGl6ZXIucm91bmRUcmlwXyhuZXcgbW9kdWxlJGV4cG9ydHMkZWVhcGljbGllbnQkZWVfYXBpX2NsaWVudC5WYWx1ZU5vZGUoe2ludGVnZXJWYWx1ZTpub2RlLmludGVnZXJWYWx1ZX0pLCBub2RlLmludGVnZXJWYWx1ZSkgOiBudWxsICE9PSBub2RlLnZhbHVlUmVmZXJlbmNlID8gbG9va3VwKG5vZGUudmFsdWVSZWZlcmVuY2UsIFwicmVmZXJlbmNlXCIpIDogbnVsbDtcbiAgfSwgZGVjb2RlRnVuY3Rpb25EZWZpbml0aW9uID0gZnVuY3Rpb24oZGVmaW5lZCkge1xuICAgIHZhciBib2R5ID0gbG9va3VwKGRlZmluZWQuYm9keSwgXCJmdW5jdGlvbiBib2R5XCIpLCBzaWduYXR1cmUgPSB7YXJnczpkZWZpbmVkLmFyZ3VtZW50TmFtZXMubWFwKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHJldHVybiB7bmFtZTpuYW1lLCB0eXBlOlwiT2JqZWN0XCIsIG9wdGlvbmFsOiExfTtcbiAgICB9KSwgbmFtZTpcIlwiLCByZXR1cm5zOlwiT2JqZWN0XCJ9O1xuICAgIHJldHVybiBuZXcgZWUuQ3VzdG9tRnVuY3Rpb24oc2lnbmF0dXJlLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBib2R5O1xuICAgIH0pO1xuICB9LCBkZWNvZGVGdW5jdGlvbkludm9jYXRpb24gPSBmdW5jdGlvbihpbnZva2VkKSB7XG4gICAgdmFyIGZ1bmMgPSBpbnZva2VkLmZ1bmN0aW9uUmVmZXJlbmNlID8gbG9va3VwKGludm9rZWQuZnVuY3Rpb25SZWZlcmVuY2UsIFwiZnVuY3Rpb25cIikgOiBlZS5BcGlGdW5jdGlvbi5sb29rdXAoaW52b2tlZC5mdW5jdGlvbk5hbWUpLCBhcmdzID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X21hcChpbnZva2VkLmFyZ3VtZW50cywgZGVjb2RlKTtcbiAgICByZXR1cm4gZWUuRGVzZXJpYWxpemVyLmludm9jYXRpb25fKGZ1bmMsIGFyZ3MpO1xuICB9O1xuICByZXR1cm4gbG9va3VwKGV4cHJlc3Npb24ucmVzdWx0LCBcInJlc3VsdCB2YWx1ZVwiKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLkRlc2VyaWFsaXplci5kZWNvZGVDbG91ZEFwaVwiLCBlZS5EZXNlcmlhbGl6ZXIuZGVjb2RlQ2xvdWRBcGkpO1xuZWUuRGljdGlvbmFyeSA9IGZ1bmN0aW9uKG9wdF9kaWN0KSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBlZS5EaWN0aW9uYXJ5KSkge1xuICAgIHJldHVybiBlZS5Db21wdXRlZE9iamVjdC5jb25zdHJ1Y3QoZWUuRGljdGlvbmFyeSwgYXJndW1lbnRzKTtcbiAgfVxuICBpZiAob3B0X2RpY3QgaW5zdGFuY2VvZiBlZS5EaWN0aW9uYXJ5KSB7XG4gICAgcmV0dXJuIG9wdF9kaWN0O1xuICB9XG4gIGVlLkRpY3Rpb25hcnkuaW5pdGlhbGl6ZSgpO1xuICBlZS5UeXBlcy5pc1JlZ3VsYXJPYmplY3Qob3B0X2RpY3QpID8gKGVlLkNvbXB1dGVkT2JqZWN0LmNhbGwodGhpcywgbnVsbCwgbnVsbCksIHRoaXMuZGljdF8gPSBvcHRfZGljdCkgOiAob3B0X2RpY3QgaW5zdGFuY2VvZiBlZS5Db21wdXRlZE9iamVjdCAmJiBvcHRfZGljdC5mdW5jICYmIFwiRGljdGlvbmFyeVwiID09IG9wdF9kaWN0LmZ1bmMuZ2V0U2lnbmF0dXJlKCkucmV0dXJucyA/IGVlLkNvbXB1dGVkT2JqZWN0LmNhbGwodGhpcywgb3B0X2RpY3QuZnVuYywgb3B0X2RpY3QuYXJncywgb3B0X2RpY3QudmFyTmFtZSkgOiBlZS5Db21wdXRlZE9iamVjdC5jYWxsKHRoaXMsIG5ldyBlZS5BcGlGdW5jdGlvbihcIkRpY3Rpb25hcnlcIiksIHtpbnB1dDpvcHRfZGljdH0sIG51bGwpLCB0aGlzLmRpY3RfID0gbnVsbCk7XG59O1xuZ29vZy5pbmhlcml0cyhlZS5EaWN0aW9uYXJ5LCBlZS5Db21wdXRlZE9iamVjdCk7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLkRpY3Rpb25hcnlcIiwgZWUuRGljdGlvbmFyeSk7XG5lZS5EaWN0aW9uYXJ5LmluaXRpYWxpemVkXyA9ICExO1xuZWUuRGljdGlvbmFyeS5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XG4gIGVlLkRpY3Rpb25hcnkuaW5pdGlhbGl6ZWRfIHx8IChlZS5BcGlGdW5jdGlvbi5pbXBvcnRBcGkoZWUuRGljdGlvbmFyeSwgXCJEaWN0aW9uYXJ5XCIsIFwiRGljdGlvbmFyeVwiKSwgZWUuRGljdGlvbmFyeS5pbml0aWFsaXplZF8gPSAhMCk7XG59O1xuZWUuRGljdGlvbmFyeS5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICBlZS5BcGlGdW5jdGlvbi5jbGVhckFwaShlZS5EaWN0aW9uYXJ5KTtcbiAgZWUuRGljdGlvbmFyeS5pbml0aWFsaXplZF8gPSAhMTtcbn07XG5lZS5EaWN0aW9uYXJ5LnByb3RvdHlwZS5lbmNvZGUgPSBmdW5jdGlvbihlbmNvZGVyKSB7XG4gIHJldHVybiBudWxsICE9PSB0aGlzLmRpY3RfID8gZW5jb2Rlcih0aGlzLmRpY3RfKSA6IGVlLkRpY3Rpb25hcnkuc3VwZXJDbGFzc18uZW5jb2RlLmNhbGwodGhpcywgZW5jb2Rlcik7XG59O1xuZWUuRGljdGlvbmFyeS5wcm90b3R5cGUuZW5jb2RlQ2xvdWRWYWx1ZSA9IGZ1bmN0aW9uKHNlcmlhbGl6ZXIpIHtcbiAgcmV0dXJuIG51bGwgIT09IHRoaXMuZGljdF8gPyBlZS5ycGNfbm9kZS5yZWZlcmVuY2Uoc2VyaWFsaXplci5tYWtlUmVmZXJlbmNlKHRoaXMuZGljdF8pKSA6IGVlLkRpY3Rpb25hcnkuc3VwZXJDbGFzc18uZW5jb2RlQ2xvdWRWYWx1ZS5jYWxsKHRoaXMsIHNlcmlhbGl6ZXIpO1xufTtcbmVlLkRpY3Rpb25hcnkucHJvdG90eXBlLm5hbWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFwiRGljdGlvbmFyeVwiO1xufTtcbmVlLlRlcnJhaW4gPSB7fTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuVGVycmFpblwiLCBlZS5UZXJyYWluKTtcbmVlLlRlcnJhaW4uaW5pdGlhbGl6ZWRfID0gITE7XG5lZS5UZXJyYWluLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcbiAgZWUuVGVycmFpbi5pbml0aWFsaXplZF8gfHwgKGVlLkFwaUZ1bmN0aW9uLmltcG9ydEFwaShlZS5UZXJyYWluLCBcIlRlcnJhaW5cIiwgXCJUZXJyYWluXCIpLCBlZS5UZXJyYWluLmluaXRpYWxpemVkXyA9ICEwKTtcbn07XG5lZS5UZXJyYWluLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gIGVlLkFwaUZ1bmN0aW9uLmNsZWFyQXBpKGVlLlRlcnJhaW4pO1xuICBlZS5UZXJyYWluLmluaXRpYWxpemVkXyA9ICExO1xufTtcbmVlLmluaXRpYWxpemUgPSBmdW5jdGlvbihvcHRfYmFzZXVybCwgb3B0X3RpbGV1cmwsIG9wdF9zdWNjZXNzQ2FsbGJhY2ssIG9wdF9lcnJvckNhbGxiYWNrLCBvcHRfeHNyZlRva2VuLCBvcHRfcHJvamVjdCkge1xuICBpZiAoZWUucmVhZHlfICE9IGVlLkluaXRTdGF0ZS5SRUFEWSB8fCBvcHRfYmFzZXVybCB8fCBvcHRfdGlsZXVybCkge1xuICAgIHZhciBpc0FzeW5jaHJvbm91cyA9IG51bGwgIT0gb3B0X3N1Y2Nlc3NDYWxsYmFjaztcbiAgICBpZiAob3B0X2Vycm9yQ2FsbGJhY2spIHtcbiAgICAgIGlmIChpc0FzeW5jaHJvbm91cykge1xuICAgICAgICBlZS5lcnJvckNhbGxiYWNrc18ucHVzaChvcHRfZXJyb3JDYWxsYmFjayk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBFcnJvcihcIkNhbid0IHBhc3MgYW4gZXJyb3IgY2FsbGJhY2sgd2l0aG91dCBhIHN1Y2Nlc3MgY2FsbGJhY2suXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZWUucmVhZHlfID09IGVlLkluaXRTdGF0ZS5MT0FESU5HICYmIGlzQXN5bmNocm9ub3VzKSB7XG4gICAgICBlZS5zdWNjZXNzQ2FsbGJhY2tzXy5wdXNoKG9wdF9zdWNjZXNzQ2FsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZWUucmVhZHlfID0gZWUuSW5pdFN0YXRlLkxPQURJTkcsIGVlLmRhdGEuaW5pdGlhbGl6ZShvcHRfYmFzZXVybCwgb3B0X3RpbGV1cmwsIG9wdF94c3JmVG9rZW4sIG9wdF9wcm9qZWN0KSwgaXNBc3luY2hyb25vdXMpIHtcbiAgICAgICAgZWUuc3VjY2Vzc0NhbGxiYWNrc18ucHVzaChvcHRfc3VjY2Vzc0NhbGxiYWNrKSwgZWUuQXBpRnVuY3Rpb24uaW5pdGlhbGl6ZShlZS5pbml0aWFsaXphdGlvblN1Y2Nlc3NfLCBlZS5pbml0aWFsaXphdGlvbkZhaWx1cmVfKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZWUuQXBpRnVuY3Rpb24uaW5pdGlhbGl6ZSgpLCBlZS5pbml0aWFsaXphdGlvblN1Y2Nlc3NfKCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICB0aHJvdyBlZS5pbml0aWFsaXphdGlvbkZhaWx1cmVfKGUpLCBlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG9wdF9zdWNjZXNzQ2FsbGJhY2sgJiYgb3B0X3N1Y2Nlc3NDYWxsYmFjaygpO1xuICB9XG59O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5pbml0aWFsaXplXCIsIGVlLmluaXRpYWxpemUpO1xuZWUucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgZWUucmVhZHlfID0gZWUuSW5pdFN0YXRlLk5PVF9SRUFEWTtcbiAgZWUuZGF0YS5yZXNldCgpO1xuICBlZS5BcGlGdW5jdGlvbi5yZXNldCgpO1xuICBlZS5EYXRlLnJlc2V0KCk7XG4gIGVlLkRpY3Rpb25hcnkucmVzZXQoKTtcbiAgZWUuRWxlbWVudC5yZXNldCgpO1xuICBlZS5JbWFnZS5yZXNldCgpO1xuICBlZS5GZWF0dXJlLnJlc2V0KCk7XG4gIGVlLkNvbGxlY3Rpb24ucmVzZXQoKTtcbiAgZWUuSW1hZ2VDb2xsZWN0aW9uLnJlc2V0KCk7XG4gIGVlLkZlYXR1cmVDb2xsZWN0aW9uLnJlc2V0KCk7XG4gIGVlLkZpbHRlci5yZXNldCgpO1xuICBlZS5HZW9tZXRyeS5yZXNldCgpO1xuICBlZS5MaXN0LnJlc2V0KCk7XG4gIGVlLk51bWJlci5yZXNldCgpO1xuICBlZS5TdHJpbmcucmVzZXQoKTtcbiAgZWUuVGVycmFpbi5yZXNldCgpO1xuICBlZS5yZXNldEdlbmVyYXRlZENsYXNzZXNfKCk7XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9jbGVhcihlZS5BbGdvcml0aG1zKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLnJlc2V0XCIsIGVlLnJlc2V0KTtcbmVlLkluaXRTdGF0ZSA9IHtOT1RfUkVBRFk6XCJub3RfcmVhZHlcIiwgTE9BRElORzpcImxvYWRpbmdcIiwgUkVBRFk6XCJyZWFkeVwifTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuSW5pdFN0YXRlXCIsIGVlLkluaXRTdGF0ZSk7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLkluaXRTdGF0ZS5OT1RfUkVBRFlcIiwgZWUuSW5pdFN0YXRlLk5PVF9SRUFEWSk7XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLkluaXRTdGF0ZS5MT0FESU5HXCIsIGVlLkluaXRTdGF0ZS5MT0FESU5HKTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuSW5pdFN0YXRlLlJFQURZXCIsIGVlLkluaXRTdGF0ZS5SRUFEWSk7XG5lZS5yZWFkeV8gPSBlZS5Jbml0U3RhdGUuTk9UX1JFQURZO1xuZWUuc3VjY2Vzc0NhbGxiYWNrc18gPSBbXTtcbmVlLmVycm9yQ2FsbGJhY2tzXyA9IFtdO1xuZWUuVElMRV9TSVpFID0gMjU2O1xuZ29vZy5leHBvcnRTeW1ib2woXCJlZS5USUxFX1NJWkVcIiwgZWUuVElMRV9TSVpFKTtcbmVlLmdlbmVyYXRlZENsYXNzZXNfID0gW107XG5lZS5BbGdvcml0aG1zID0ge307XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLkFsZ29yaXRobXNcIiwgZWUuQWxnb3JpdGhtcyk7XG5lZS5yZWFkeSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZWUucmVhZHlfO1xufTtcbmVlLmNhbGwgPSBmdW5jdGlvbihmdW5jLCB2YXJfYXJncykge1xuICBcInN0cmluZ1wiID09PSB0eXBlb2YgZnVuYyAmJiAoZnVuYyA9IG5ldyBlZS5BcGlGdW5jdGlvbihmdW5jKSk7XG4gIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgcmV0dXJuIGVlLkZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsLmFwcGx5KGZ1bmMsIGFyZ3MpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuY2FsbFwiLCBlZS5jYWxsKTtcbmVlLmFwcGx5ID0gZnVuY3Rpb24oZnVuYywgbmFtZWRBcmdzKSB7XG4gIFwic3RyaW5nXCIgPT09IHR5cGVvZiBmdW5jICYmIChmdW5jID0gbmV3IGVlLkFwaUZ1bmN0aW9uKGZ1bmMpKTtcbiAgcmV0dXJuIGZ1bmMuYXBwbHkobmFtZWRBcmdzKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmFwcGx5XCIsIGVlLmFwcGx5KTtcbmVlLmluaXRpYWxpemF0aW9uU3VjY2Vzc18gPSBmdW5jdGlvbigpIHtcbiAgaWYgKGVlLnJlYWR5XyA9PSBlZS5Jbml0U3RhdGUuTE9BRElORykge1xuICAgIHRyeSB7XG4gICAgICBlZS5EYXRlLmluaXRpYWxpemUoKSwgZWUuRGljdGlvbmFyeS5pbml0aWFsaXplKCksIGVlLkVsZW1lbnQuaW5pdGlhbGl6ZSgpLCBlZS5JbWFnZS5pbml0aWFsaXplKCksIGVlLkZlYXR1cmUuaW5pdGlhbGl6ZSgpLCBlZS5Db2xsZWN0aW9uLmluaXRpYWxpemUoKSwgZWUuSW1hZ2VDb2xsZWN0aW9uLmluaXRpYWxpemUoKSwgZWUuRmVhdHVyZUNvbGxlY3Rpb24uaW5pdGlhbGl6ZSgpLCBlZS5GaWx0ZXIuaW5pdGlhbGl6ZSgpLCBlZS5HZW9tZXRyeS5pbml0aWFsaXplKCksIGVlLkxpc3QuaW5pdGlhbGl6ZSgpLCBlZS5OdW1iZXIuaW5pdGlhbGl6ZSgpLCBlZS5TdHJpbmcuaW5pdGlhbGl6ZSgpLCBlZS5UZXJyYWluLmluaXRpYWxpemUoKSwgZWUuaW5pdGlhbGl6ZUdlbmVyYXRlZENsYXNzZXNfKCksIGVlLmluaXRpYWxpemVVbmJvdW5kTWV0aG9kc18oKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBlZS5pbml0aWFsaXphdGlvbkZhaWx1cmVfKGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlZS5yZWFkeV8gPSBlZS5Jbml0U3RhdGUuUkVBRFk7XG4gICAgZm9yIChlZS5lcnJvckNhbGxiYWNrc18gPSBbXTsgMCA8IGVlLnN1Y2Nlc3NDYWxsYmFja3NfLmxlbmd0aDspIHtcbiAgICAgIGVlLnN1Y2Nlc3NDYWxsYmFja3NfLnNoaWZ0KCkoKTtcbiAgICB9XG4gIH1cbn07XG5lZS5pbml0aWFsaXphdGlvbkZhaWx1cmVfID0gZnVuY3Rpb24oZSkge1xuICBpZiAoZWUucmVhZHlfID09IGVlLkluaXRTdGF0ZS5MT0FESU5HKSB7XG4gICAgZm9yIChlZS5yZWFkeV8gPSBlZS5Jbml0U3RhdGUuTk9UX1JFQURZLCBlZS5zdWNjZXNzQ2FsbGJhY2tzXyA9IFtdOyAwIDwgZWUuZXJyb3JDYWxsYmFja3NfLmxlbmd0aDspIHtcbiAgICAgIGVlLmVycm9yQ2FsbGJhY2tzXy5zaGlmdCgpKGUpO1xuICAgIH1cbiAgfVxufTtcbmVlLnByb21vdGVfID0gZnVuY3Rpb24oYXJnLCBrbGFzcykge1xuICBpZiAobnVsbCA9PT0gYXJnKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKHZvaWQgMCAhPT0gYXJnKSB7XG4gICAgdmFyIGV4cG9ydGVkRUUgPSBnb29nLmdsb2JhbC5lZTtcbiAgICBzd2l0Y2goa2xhc3MpIHtcbiAgICAgIGNhc2UgXCJJbWFnZVwiOlxuICAgICAgICByZXR1cm4gbmV3IGVlLkltYWdlKGFyZyk7XG4gICAgICBjYXNlIFwiRmVhdHVyZVwiOlxuICAgICAgICByZXR1cm4gYXJnIGluc3RhbmNlb2YgZWUuQ29sbGVjdGlvbiA/IGVlLkFwaUZ1bmN0aW9uLl9jYWxsKFwiRmVhdHVyZVwiLCBlZS5BcGlGdW5jdGlvbi5fY2FsbChcIkNvbGxlY3Rpb24uZ2VvbWV0cnlcIiwgYXJnKSkgOiBuZXcgZWUuRmVhdHVyZShhcmcpO1xuICAgICAgY2FzZSBcIkVsZW1lbnRcIjpcbiAgICAgICAgaWYgKGFyZyBpbnN0YW5jZW9mIGVlLkVsZW1lbnQpIHtcbiAgICAgICAgICByZXR1cm4gYXJnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcmcgaW5zdGFuY2VvZiBlZS5HZW9tZXRyeSkge1xuICAgICAgICAgIHJldHVybiBuZXcgZWUuRmVhdHVyZShhcmcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcmcgaW5zdGFuY2VvZiBlZS5Db21wdXRlZE9iamVjdCkge1xuICAgICAgICAgIHJldHVybiBuZXcgZWUuRWxlbWVudChhcmcuZnVuYywgYXJnLmFyZ3MsIGFyZy52YXJOYW1lKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBFcnJvcihcIkNhbm5vdCBjb252ZXJ0IFwiICsgYXJnICsgXCIgdG8gRWxlbWVudC5cIik7XG4gICAgICBjYXNlIFwiR2VvbWV0cnlcIjpcbiAgICAgICAgcmV0dXJuIGFyZyBpbnN0YW5jZW9mIGVlLkZlYXR1cmVDb2xsZWN0aW9uID8gZWUuQXBpRnVuY3Rpb24uX2NhbGwoXCJDb2xsZWN0aW9uLmdlb21ldHJ5XCIsIGFyZykgOiBuZXcgZWUuR2VvbWV0cnkoYXJnKTtcbiAgICAgIGNhc2UgXCJGZWF0dXJlQ29sbGVjdGlvblwiOlxuICAgICAgY2FzZSBcIkNvbGxlY3Rpb25cIjpcbiAgICAgICAgcmV0dXJuIGFyZyBpbnN0YW5jZW9mIGVlLkNvbGxlY3Rpb24gPyBhcmcgOiBuZXcgZWUuRmVhdHVyZUNvbGxlY3Rpb24oYXJnKTtcbiAgICAgIGNhc2UgXCJJbWFnZUNvbGxlY3Rpb25cIjpcbiAgICAgICAgcmV0dXJuIG5ldyBlZS5JbWFnZUNvbGxlY3Rpb24oYXJnKTtcbiAgICAgIGNhc2UgXCJGaWx0ZXJcIjpcbiAgICAgICAgcmV0dXJuIG5ldyBlZS5GaWx0ZXIoYXJnKTtcbiAgICAgIGNhc2UgXCJBbGdvcml0aG1cIjpcbiAgICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBhcmcpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IGVlLkFwaUZ1bmN0aW9uKGFyZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGFyZykge1xuICAgICAgICAgIHJldHVybiBlZS5DdXN0b21GdW5jdGlvbi5jcmVhdGUoYXJnLCBcIk9iamVjdFwiLCBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZXBlYXQoXCJPYmplY3RcIiwgYXJnLmxlbmd0aCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcmcgaW5zdGFuY2VvZiBlZS5FbmNvZGFibGUpIHtcbiAgICAgICAgICByZXR1cm4gYXJnO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IEVycm9yKFwiQXJndW1lbnQgaXMgbm90IGEgZnVuY3Rpb246IFwiICsgYXJnKTtcbiAgICAgIGNhc2UgXCJTdHJpbmdcIjpcbiAgICAgICAgcmV0dXJuIGVlLlR5cGVzLmlzU3RyaW5nKGFyZykgfHwgYXJnIGluc3RhbmNlb2YgZWUuU3RyaW5nIHx8IGFyZyBpbnN0YW5jZW9mIGVlLkNvbXB1dGVkT2JqZWN0ID8gbmV3IGVlLlN0cmluZyhhcmcpIDogYXJnO1xuICAgICAgY2FzZSBcIkRpY3Rpb25hcnlcIjpcbiAgICAgICAgcmV0dXJuIGVlLlR5cGVzLmlzUmVndWxhck9iamVjdChhcmcpID8gYXJnIDogbmV3IGVlLkRpY3Rpb25hcnkoYXJnKTtcbiAgICAgIGNhc2UgXCJMaXN0XCI6XG4gICAgICAgIHJldHVybiBuZXcgZWUuTGlzdChhcmcpO1xuICAgICAgY2FzZSBcIk51bWJlclwiOlxuICAgICAgY2FzZSBcIkZsb2F0XCI6XG4gICAgICBjYXNlIFwiTG9uZ1wiOlxuICAgICAgY2FzZSBcIkludGVnZXJcIjpcbiAgICAgIGNhc2UgXCJTaG9ydFwiOlxuICAgICAgY2FzZSBcIkJ5dGVcIjpcbiAgICAgICAgcmV0dXJuIG5ldyBlZS5OdW1iZXIoYXJnKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChrbGFzcyBpbiBleHBvcnRlZEVFKSB7XG4gICAgICAgICAgdmFyIGN0b3IgPSBlZS5BcGlGdW5jdGlvbi5sb29rdXBJbnRlcm5hbChrbGFzcyk7XG4gICAgICAgICAgaWYgKGFyZyBpbnN0YW5jZW9mIGV4cG9ydGVkRUVba2xhc3NdKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY3Rvcikge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBleHBvcnRlZEVFW2tsYXNzXShhcmcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGFyZykge1xuICAgICAgICAgICAgaWYgKGFyZyBpbiBleHBvcnRlZEVFW2tsYXNzXSkge1xuICAgICAgICAgICAgICByZXR1cm4gZXhwb3J0ZWRFRVtrbGFzc11bYXJnXS5jYWxsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIlVua25vd24gYWxnb3JpdGhtOiBcIiArIGtsYXNzICsgXCIuXCIgKyBhcmcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbmV3IGV4cG9ydGVkRUVba2xhc3NdKGFyZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFyZztcbiAgICB9XG4gIH1cbn07XG5lZS5pbml0aWFsaXplVW5ib3VuZE1ldGhvZHNfID0gZnVuY3Rpb24oKSB7XG4gIHZhciB1bmJvdW5kID0gZWUuQXBpRnVuY3Rpb24udW5ib3VuZEZ1bmN0aW9ucygpO1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZ2V0S2V5cyh1bmJvdW5kKS5zb3J0KCkuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIGZ1bmMgPSB1bmJvdW5kW25hbWVdLCBzaWduYXR1cmUgPSBmdW5jLmdldFNpZ25hdHVyZSgpO1xuICAgIGlmICghc2lnbmF0dXJlLmhpZGRlbikge1xuICAgICAgdmFyIG5hbWVQYXJ0cyA9IG5hbWUuc3BsaXQoXCIuXCIpLCB0YXJnZXQgPSBlZS5BbGdvcml0aG1zO1xuICAgICAgZm9yICh0YXJnZXQuc2lnbmF0dXJlID0ge307IDEgPCBuYW1lUGFydHMubGVuZ3RoOykge1xuICAgICAgICB2YXIgZmlyc3QgPSBuYW1lUGFydHNbMF07XG4gICAgICAgIGZpcnN0IGluIHRhcmdldCB8fCAodGFyZ2V0W2ZpcnN0XSA9IHtzaWduYXR1cmU6e319KTtcbiAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0W2ZpcnN0XTtcbiAgICAgICAgbmFtZVBhcnRzID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfc2xpY2UobmFtZVBhcnRzLCAxKTtcbiAgICAgIH1cbiAgICAgIHZhciBib3VuZCA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGxPckFwcGx5KHZvaWQgMCwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSk7XG4gICAgICB9O1xuICAgICAgYm91bmQuc2lnbmF0dXJlID0gc2lnbmF0dXJlO1xuICAgICAgYm91bmQudG9TdHJpbmcgPSBnb29nLmJpbmQoZnVuYy50b1N0cmluZywgZnVuYyk7XG4gICAgICB0YXJnZXRbbmFtZVBhcnRzWzBdXSA9IGJvdW5kO1xuICAgIH1cbiAgfSk7XG59O1xuZWUuaW5pdGlhbGl6ZUdlbmVyYXRlZENsYXNzZXNfID0gZnVuY3Rpb24oKSB7XG4gIHZhciBzaWduYXR1cmVzID0gZWUuQXBpRnVuY3Rpb24uYWxsU2lnbmF0dXJlcygpLCBuYW1lcyA9IHt9LCByZXR1cm5UeXBlcyA9IHt9LCBzaWc7XG4gIGZvciAoc2lnIGluIHNpZ25hdHVyZXMpIHtcbiAgICB2YXIgdHlwZSA9IC0xICE9IHNpZy5pbmRleE9mKFwiLlwiKSA/IHNpZy5zbGljZSgwLCBzaWcuaW5kZXhPZihcIi5cIikpIDogc2lnO1xuICAgIG5hbWVzW3R5cGVdID0gITA7XG4gICAgdmFyIHJ0eXBlID0gc2lnbmF0dXJlc1tzaWddLnJldHVybnMucmVwbGFjZSgvPC4qPi8sIFwiXCIpO1xuICAgIHJldHVyblR5cGVzW3J0eXBlXSA9ICEwO1xuICB9XG4gIHZhciBleHBvcnRlZEVFID0gZ29vZy5nbG9iYWwuZWUsIG5hbWU7XG4gIGZvciAobmFtZSBpbiBuYW1lcykge1xuICAgIG5hbWUgaW4gcmV0dXJuVHlwZXMgJiYgIShuYW1lIGluIGV4cG9ydGVkRUUpICYmIChleHBvcnRlZEVFW25hbWVdID0gZWUubWFrZUNsYXNzXyhuYW1lKSwgZWUuZ2VuZXJhdGVkQ2xhc3Nlc18ucHVzaChuYW1lKSwgc2lnbmF0dXJlc1tuYW1lXSA/IChleHBvcnRlZEVFW25hbWVdLnNpZ25hdHVyZSA9IHNpZ25hdHVyZXNbbmFtZV0sIGV4cG9ydGVkRUVbbmFtZV0uc2lnbmF0dXJlLmlzQ29uc3RydWN0b3IgPSAhMCwgZWUuQXBpRnVuY3Rpb24uYm91bmRTaWduYXR1cmVzX1tuYW1lXSA9ICEwKSA6IGV4cG9ydGVkRUVbbmFtZV0uc2lnbmF0dXJlID0ge30pO1xuICB9XG4gIGVlLlR5cGVzLnJlZ2lzdGVyQ2xhc3NlcyhleHBvcnRlZEVFKTtcbn07XG5lZS5yZXNldEdlbmVyYXRlZENsYXNzZXNfID0gZnVuY3Rpb24oKSB7XG4gIGZvciAodmFyIGV4cG9ydGVkRUUgPSBnb29nLmdsb2JhbC5lZSwgaSA9IDA7IGkgPCBlZS5nZW5lcmF0ZWRDbGFzc2VzXy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBuYW1lID0gZWUuZ2VuZXJhdGVkQ2xhc3Nlc19baV07XG4gICAgZWUuQXBpRnVuY3Rpb24uY2xlYXJBcGkoZXhwb3J0ZWRFRVtuYW1lXSk7XG4gICAgZGVsZXRlIGV4cG9ydGVkRUVbbmFtZV07XG4gIH1cbiAgZWUuZ2VuZXJhdGVkQ2xhc3Nlc18gPSBbXTtcbiAgZWUuVHlwZXMucmVnaXN0ZXJDbGFzc2VzKGV4cG9ydGVkRUUpO1xufTtcbmVlLm1ha2VDbGFzc18gPSBmdW5jdGlvbihuYW1lKSB7XG4gIHZhciB0YXJnZXQgPSBmdW5jdGlvbih2YXJfYXJncykge1xuICAgIHZhciBrbGFzcyA9IGdvb2cuZ2xvYmFsLmVlW25hbWVdLCBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSwgb25seU9uZUFyZyA9IDEgPT0gYXJncy5sZW5ndGg7XG4gICAgaWYgKG9ubHlPbmVBcmcgJiYgYXJnc1swXSBpbnN0YW5jZW9mIGtsYXNzKSB7XG4gICAgICByZXR1cm4gYXJnc1swXTtcbiAgICB9XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGtsYXNzKSkge1xuICAgICAgcmV0dXJuIGVlLkNvbXB1dGVkT2JqZWN0LmNvbnN0cnVjdChrbGFzcywgYXJncyk7XG4gICAgfVxuICAgIHZhciBjdG9yID0gZWUuQXBpRnVuY3Rpb24ubG9va3VwSW50ZXJuYWwobmFtZSksIGZpcnN0QXJnSXNQcmltaXRpdmUgPSAhKGFyZ3NbMF0gaW5zdGFuY2VvZiBlZS5Db21wdXRlZE9iamVjdCksIHNob3VsZFVzZUNvbnN0cnVjdG9yID0gITE7XG4gICAgY3RvciAmJiAob25seU9uZUFyZyA/IGZpcnN0QXJnSXNQcmltaXRpdmUgPyBzaG91bGRVc2VDb25zdHJ1Y3RvciA9ICEwIDogYXJnc1swXS5mdW5jICYmIGFyZ3NbMF0uZnVuYy5nZXRTaWduYXR1cmUoKS5yZXR1cm5zID09IGN0b3IuZ2V0U2lnbmF0dXJlKCkucmV0dXJucyB8fCAoc2hvdWxkVXNlQ29uc3RydWN0b3IgPSAhMCkgOiBzaG91bGRVc2VDb25zdHJ1Y3RvciA9ICEwKTtcbiAgICBpZiAoc2hvdWxkVXNlQ29uc3RydWN0b3IpIHtcbiAgICAgIHZhciBuYW1lZEFyZ3MgPSBlZS5UeXBlcy51c2VLZXl3b3JkQXJncyhhcmdzLCBjdG9yLmdldFNpZ25hdHVyZSgpKSA/IGFyZ3NbMF0gOiBjdG9yLm5hbWVBcmdzKGFyZ3MpO1xuICAgICAgZWUuQ29tcHV0ZWRPYmplY3QuY2FsbCh0aGlzLCBjdG9yLCBjdG9yLnByb21vdGVBcmdzKG5hbWVkQXJncykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIW9ubHlPbmVBcmcpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJUb28gbWFueSBhcmd1bWVudHMgZm9yIGVlLlwiICsgbmFtZSArIFwiKCk6IFwiICsgYXJncyk7XG4gICAgICB9XG4gICAgICBpZiAoZmlyc3RBcmdJc1ByaW1pdGl2ZSkge1xuICAgICAgICB0aHJvdyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQgZm9yIGVlLlwiICsgbmFtZSArIFwiKCk6IFwiICsgYXJncyArIFwiLiBNdXN0IGJlIGEgQ29tcHV0ZWRPYmplY3QuXCIpO1xuICAgICAgfVxuICAgICAgdmFyIHRoZU9uZUFyZyA9IGFyZ3NbMF07XG4gICAgICBlZS5Db21wdXRlZE9iamVjdC5jYWxsKHRoaXMsIHRoZU9uZUFyZy5mdW5jLCB0aGVPbmVBcmcuYXJncywgdGhlT25lQXJnLnZhck5hbWUpO1xuICAgIH1cbiAgfTtcbiAgZ29vZy5pbmhlcml0cyh0YXJnZXQsIGVlLkNvbXB1dGVkT2JqZWN0KTtcbiAgdGFyZ2V0LnByb3RvdHlwZS5uYW1lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5hbWU7XG4gIH07XG4gIGVlLkFwaUZ1bmN0aW9uLmltcG9ydEFwaSh0YXJnZXQsIG5hbWUsIG5hbWUpO1xuICByZXR1cm4gdGFyZ2V0O1xufTtcbmVlLkZ1bmN0aW9uLnJlZ2lzdGVyUHJvbW90ZXIoZWUucHJvbW90ZV8pO1xuZWUuRmxvYXRUaWxlT3ZlcmxheSA9IGZ1bmN0aW9uKHVybCwgbWFwSWQsIHRva2VuKSB7XG4gIGVlLkFic3RyYWN0T3ZlcmxheS5jYWxsKHRoaXMsIHVybCwgbWFwSWQsIHRva2VuKTtcbiAgdGhpcy50aWxlU2l6ZSA9IG5ldyBnb29nbGUubWFwcy5TaXplKGVlLkZsb2F0VGlsZU92ZXJsYXkuVElMRV9FREdFX0xFTkdUSCwgZWUuRmxvYXRUaWxlT3ZlcmxheS5USUxFX0VER0VfTEVOR1RIKTtcbiAgdGhpcy5mbG9hdFRpbGVzXyA9IG5ldyBnb29nLnN0cnVjdHMuTWFwKCk7XG4gIHRoaXMuZmxvYXRUaWxlRGl2c18gPSBuZXcgZ29vZy5zdHJ1Y3RzLk1hcCgpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMoZWUuRmxvYXRUaWxlT3ZlcmxheSwgZWUuQWJzdHJhY3RPdmVybGF5KTtcbmVlLkZsb2F0VGlsZU92ZXJsYXkucHJvdG90eXBlLmdldFRpbGUgPSBmdW5jdGlvbihjb29yZCwgem9vbSwgb3duZXJEb2N1bWVudCkge1xuICB2YXIgdGlsZUlkID0gdGhpcy5nZXRUaWxlSWQoY29vcmQsIHpvb20pLCBzcmMgPSBbdGhpcy51cmwsIHRpbGVJZF0uam9pbihcIi9cIikgKyBcIj90b2tlbj1cIiArIHRoaXMudG9rZW4sIHVuaXF1ZVRpbGVJZCA9IFt0aWxlSWQsIHRoaXMudGlsZUNvdW50ZXIsIHRoaXMudG9rZW5dLmpvaW4oXCIvXCIpO1xuICB0aGlzLnRpbGVzTG9hZGluZy5wdXNoKHVuaXF1ZVRpbGVJZCk7XG4gIHRoaXMudGlsZUNvdW50ZXIgKz0gMTtcbiAgdmFyIGRpdiA9IGdvb2cuZG9tLmNyZWF0ZURvbShnb29nLmRvbS5UYWdOYW1lLkRJViksIGZsb2F0VGlsZSA9IHRoaXMubG9hZEZsb2F0VGlsZV8oc3JjLCBjb29yZCwgdW5pcXVlVGlsZUlkLCBkaXYpO1xuICB0aGlzLmRpc3BhdGNoVGlsZUV2ZW50XygpO1xuICByZXR1cm4gZGl2O1xufTtcbmVlLkZsb2F0VGlsZU92ZXJsYXkucHJvdG90eXBlLmxvYWRGbG9hdFRpbGVfID0gZnVuY3Rpb24odGlsZVVybCwgY29vcmQsIHRpbGVJZCwgZGl2KSB7XG4gIHZhciB0aWxlUmVxdWVzdCA9IGdvb2cubmV0LlhtbEh0dHAoKTtcbiAgdGlsZVJlcXVlc3Qub3BlbihcIkdFVFwiLCB0aWxlVXJsLCAhMCk7XG4gIHRpbGVSZXF1ZXN0LnJlc3BvbnNlVHlwZSA9IFwiYXJyYXlidWZmZXJcIjtcbiAgdGlsZVJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZ29vZy5iaW5kKGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aWxlUmVxdWVzdC5yZWFkeVN0YXRlID09PSBYTUxIdHRwUmVxdWVzdC5ET05FICYmIDIwMCA9PT0gdGlsZVJlcXVlc3Quc3RhdHVzKSB7XG4gICAgICB2YXIgdGlsZVJlc3BvbnNlID0gdGlsZVJlcXVlc3QucmVzcG9uc2U7XG4gICAgICBpZiAodGlsZVJlc3BvbnNlKSB7XG4gICAgICAgIHZhciBmbG9hdEJ1ZmZlciA9IG5ldyBGbG9hdDMyQXJyYXkodGlsZVJlc3BvbnNlKTtcbiAgICAgICAgdGhpcy5oYW5kbGVGbG9hdFRpbGVMb2FkZWRfKGZsb2F0QnVmZmVyLCBjb29yZCwgdGlsZUlkLCBkaXYpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgdGhpcy50aWxlc0ZhaWxlZC5hZGQodGlsZUlkKSwgRXJyb3IoXCJVbmFibGUgdG8gcmVxdWVzdCBmbG9hdGluZyBwb2ludCBhcnJheSBidWZmZXJzLlwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHRoaXMpO1xuICB0aWxlUmVxdWVzdC5zZW5kKCk7XG59O1xuZWUuRmxvYXRUaWxlT3ZlcmxheS5wcm90b3R5cGUuaGFuZGxlRmxvYXRUaWxlTG9hZGVkXyA9IGZ1bmN0aW9uKGZsb2F0VGlsZSwgY29vcmQsIHRpbGVJZCwgZGl2KSB7XG4gIHRoaXMuZmxvYXRUaWxlc18uc2V0KGNvb3JkLCBmbG9hdFRpbGUpO1xuICB0aGlzLmZsb2F0VGlsZURpdnNfLnNldChjb29yZCwgZGl2KTtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVtb3ZlKHRoaXMudGlsZXNMb2FkaW5nLCB0aWxlSWQpO1xuICB0aGlzLmRpc3BhdGNoVGlsZUV2ZW50XygpO1xufTtcbmVlLkZsb2F0VGlsZU92ZXJsYXkucHJvdG90eXBlLmdldEFsbEZsb2F0VGlsZXMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZmxvYXRUaWxlc187XG59O1xuZWUuRmxvYXRUaWxlT3ZlcmxheS5wcm90b3R5cGUuZ2V0QWxsRmxvYXRUaWxlRGl2cyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5mbG9hdFRpbGVEaXZzXztcbn07XG5lZS5GbG9hdFRpbGVPdmVybGF5LnByb3RvdHlwZS5nZXRMb2FkZWRGbG9hdFRpbGVzQ291bnQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZmxvYXRUaWxlc18uZ2V0Q291bnQoKTtcbn07XG5lZS5GbG9hdFRpbGVPdmVybGF5LnByb3RvdHlwZS5kaXNwYXRjaFRpbGVFdmVudF8gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBlZS5UaWxlRXZlbnQodGhpcy50aWxlc0xvYWRpbmcubGVuZ3RoKSk7XG59O1xuZWUuRmxvYXRUaWxlT3ZlcmxheS5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZmxvYXRUaWxlRGl2c18gPSB0aGlzLmZsb2F0VGlsZXNfID0gbnVsbDtcbiAgZWUuQWJzdHJhY3RPdmVybGF5LnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwuY2FsbCh0aGlzKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLkZsb2F0VGlsZU92ZXJsYXlcIiwgZWUuRmxvYXRUaWxlT3ZlcmxheSk7XG5lZS5GbG9hdFRpbGVPdmVybGF5LlRJTEVfRURHRV9MRU5HVEggPSAyNTY7XG5lZS5sYXllcnMgPSB7fTtcbnZhciBtb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJEFic3RyYWN0T3ZlcmxheVN0YXRzX0Fic3RyYWN0T3ZlcmxheVN0YXRzID0gZnVuY3Rpb24odW5pcXVlSWQpIHtcbiAgdGhpcy5zdGF0c0J5Wm9vbV8gPSBuZXcgTWFwKCk7XG4gIHRoaXMudW5pcXVlSWRfID0gdW5pcXVlSWQ7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRBYnN0cmFjdE92ZXJsYXlTdGF0c19BYnN0cmFjdE92ZXJsYXlTdGF0cy5wcm90b3R5cGUuYWRkVGlsZVN0YXRzID0gZnVuY3Rpb24oc3RhcnQsIGVuZCwgem9vbSkge1xuICB0aGlzLmdldFN0YXRzRm9yWm9vbV8oem9vbSkudGlsZUxhdGVuY2llcy5wdXNoKGVuZCAtIHN0YXJ0KTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJEFic3RyYWN0T3ZlcmxheVN0YXRzX0Fic3RyYWN0T3ZlcmxheVN0YXRzLnByb3RvdHlwZS5pbmNyZW1lbnRUaHJvdHRsZUNvdW50ZXIgPSBmdW5jdGlvbih6b29tKSB7XG4gIHRoaXMuZ2V0U3RhdHNGb3Jab29tXyh6b29tKS50aHJvdHRsZUNvdW50Kys7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRBYnN0cmFjdE92ZXJsYXlTdGF0c19BYnN0cmFjdE92ZXJsYXlTdGF0cy5wcm90b3R5cGUuaW5jcmVtZW50RXJyb3JDb3VudGVyID0gZnVuY3Rpb24oem9vbSkge1xuICB0aGlzLmdldFN0YXRzRm9yWm9vbV8oem9vbSkuZXJyb3JDb3VudCsrO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkQWJzdHJhY3RPdmVybGF5U3RhdHNfQWJzdHJhY3RPdmVybGF5U3RhdHMucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuc3RhdHNCeVpvb21fLmNsZWFyKCk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRBYnN0cmFjdE92ZXJsYXlTdGF0c19BYnN0cmFjdE92ZXJsYXlTdGF0cy5wcm90b3R5cGUuaGFzRGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gMCA8IHRoaXMuc3RhdHNCeVpvb21fLnNpemU7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRBYnN0cmFjdE92ZXJsYXlTdGF0c19BYnN0cmFjdE92ZXJsYXlTdGF0cy5wcm90b3R5cGUuZ2V0U3VtbWFyeUxpc3QgPSBmdW5jdGlvbigpIHtcbiAgdmFyICRqc2NvbXAkdGhpcyA9IHRoaXMsIHN1bW1hcnlMaXN0ID0gW107XG4gIHRoaXMuc3RhdHNCeVpvb21fLmZvckVhY2goZnVuY3Rpb24oc3RhdHMsIHpvb20pIHtcbiAgICByZXR1cm4gc3VtbWFyeUxpc3QucHVzaCh7bGF5ZXJJZDokanNjb21wJHRoaXMudW5pcXVlSWRfLCB6b29tTGV2ZWw6em9vbSwgdGlsZUxhdGVuY2llczpzdGF0cy50aWxlTGF0ZW5jaWVzLCB0aHJvdHRsZUNvdW50OnN0YXRzLnRocm90dGxlQ291bnQsIGVycm9yQ291bnQ6c3RhdHMuZXJyb3JDb3VudCx9KTtcbiAgfSk7XG4gIHJldHVybiBzdW1tYXJ5TGlzdDtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJEFic3RyYWN0T3ZlcmxheVN0YXRzX0Fic3RyYWN0T3ZlcmxheVN0YXRzLnByb3RvdHlwZS5nZXRTdGF0c0Zvclpvb21fID0gZnVuY3Rpb24oem9vbSkge1xuICB0aGlzLnN0YXRzQnlab29tXy5oYXMoem9vbSkgfHwgdGhpcy5zdGF0c0J5Wm9vbV8uc2V0KHpvb20sIHt0aHJvdHRsZUNvdW50OjAsIGVycm9yQ291bnQ6MCwgdGlsZUxhdGVuY2llczpbXSx9KTtcbiAgcmV0dXJuIHRoaXMuc3RhdHNCeVpvb21fLmdldCh6b29tKTtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJEFic3RyYWN0T3ZlcmxheVN0YXRzX0Fic3RyYWN0T3ZlcmxheVN0YXRzLkxheWVyU3RhdHNGb3Jab29tTGV2ZWwgPSBmdW5jdGlvbigpIHtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJEFic3RyYWN0T3ZlcmxheVN0YXRzX0Fic3RyYWN0T3ZlcmxheVN0YXRzLlN1bW1hcnkgPSBmdW5jdGlvbigpIHtcbn07XG5lZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5U3RhdHMgPSBtb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJEFic3RyYWN0T3ZlcmxheVN0YXRzX0Fic3RyYWN0T3ZlcmxheVN0YXRzO1xuZ29vZy5ldmVudHMuRXZlbnRIYW5kbGVyID0gZnVuY3Rpb24ob3B0X3Njb3BlKSB7XG4gIGdvb2cuRGlzcG9zYWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLmhhbmRsZXJfID0gb3B0X3Njb3BlO1xuICB0aGlzLmtleXNfID0ge307XG59O1xuZ29vZy5pbmhlcml0cyhnb29nLmV2ZW50cy5FdmVudEhhbmRsZXIsIGdvb2cuRGlzcG9zYWJsZSk7XG5nb29nLmV2ZW50cy5FdmVudEhhbmRsZXIudHlwZUFycmF5XyA9IFtdO1xuZ29vZy5ldmVudHMuRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5saXN0ZW4gPSBmdW5jdGlvbihzcmMsIHR5cGUsIG9wdF9mbiwgb3B0X29wdGlvbnMpIHtcbiAgcmV0dXJuIHRoaXMubGlzdGVuXyhzcmMsIHR5cGUsIG9wdF9mbiwgb3B0X29wdGlvbnMpO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50SGFuZGxlci5wcm90b3R5cGUubGlzdGVuV2l0aFNjb3BlID0gZnVuY3Rpb24oc3JjLCB0eXBlLCBmbiwgb3B0aW9ucywgc2NvcGUpIHtcbiAgcmV0dXJuIHRoaXMubGlzdGVuXyhzcmMsIHR5cGUsIGZuLCBvcHRpb25zLCBzY29wZSk7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5saXN0ZW5fID0gZnVuY3Rpb24oc3JjLCB0eXBlLCBvcHRfZm4sIG9wdF9vcHRpb25zLCBvcHRfc2NvcGUpIHtcbiAgQXJyYXkuaXNBcnJheSh0eXBlKSB8fCAodHlwZSAmJiAoZ29vZy5ldmVudHMuRXZlbnRIYW5kbGVyLnR5cGVBcnJheV9bMF0gPSB0eXBlLnRvU3RyaW5nKCkpLCB0eXBlID0gZ29vZy5ldmVudHMuRXZlbnRIYW5kbGVyLnR5cGVBcnJheV8pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHR5cGUubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgbGlzdGVuZXJPYmogPSBnb29nLmV2ZW50cy5saXN0ZW4oc3JjLCB0eXBlW2ldLCBvcHRfZm4gfHwgdGhpcy5oYW5kbGVFdmVudCwgb3B0X29wdGlvbnMgfHwgITEsIG9wdF9zY29wZSB8fCB0aGlzLmhhbmRsZXJfIHx8IHRoaXMpO1xuICAgIGlmICghbGlzdGVuZXJPYmopIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB0aGlzLmtleXNfW2xpc3RlbmVyT2JqLmtleV0gPSBsaXN0ZW5lck9iajtcbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5nb29nLmV2ZW50cy5FdmVudEhhbmRsZXIucHJvdG90eXBlLmxpc3Rlbk9uY2UgPSBmdW5jdGlvbihzcmMsIHR5cGUsIG9wdF9mbiwgb3B0X29wdGlvbnMpIHtcbiAgcmV0dXJuIHRoaXMubGlzdGVuT25jZV8oc3JjLCB0eXBlLCBvcHRfZm4sIG9wdF9vcHRpb25zKTtcbn07XG5nb29nLmV2ZW50cy5FdmVudEhhbmRsZXIucHJvdG90eXBlLmxpc3Rlbk9uY2VXaXRoU2NvcGUgPSBmdW5jdGlvbihzcmMsIHR5cGUsIGZuLCBjYXB0dXJlLCBzY29wZSkge1xuICByZXR1cm4gdGhpcy5saXN0ZW5PbmNlXyhzcmMsIHR5cGUsIGZuLCBjYXB0dXJlLCBzY29wZSk7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5saXN0ZW5PbmNlXyA9IGZ1bmN0aW9uKHNyYywgdHlwZSwgb3B0X2ZuLCBvcHRfb3B0aW9ucywgb3B0X3Njb3BlKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHR5cGUpKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmxpc3Rlbk9uY2VfKHNyYywgdHlwZVtpXSwgb3B0X2ZuLCBvcHRfb3B0aW9ucywgb3B0X3Njb3BlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxpc3RlbmVyT2JqID0gZ29vZy5ldmVudHMubGlzdGVuT25jZShzcmMsIHR5cGUsIG9wdF9mbiB8fCB0aGlzLmhhbmRsZUV2ZW50LCBvcHRfb3B0aW9ucywgb3B0X3Njb3BlIHx8IHRoaXMuaGFuZGxlcl8gfHwgdGhpcyk7XG4gICAgaWYgKCFsaXN0ZW5lck9iaikge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHRoaXMua2V5c19bbGlzdGVuZXJPYmoua2V5XSA9IGxpc3RlbmVyT2JqO1xuICB9XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50SGFuZGxlci5wcm90b3R5cGUubGlzdGVuV2l0aFdyYXBwZXIgPSBmdW5jdGlvbihzcmMsIHdyYXBwZXIsIGxpc3RlbmVyLCBvcHRfY2FwdCkge1xuICByZXR1cm4gdGhpcy5saXN0ZW5XaXRoV3JhcHBlcl8oc3JjLCB3cmFwcGVyLCBsaXN0ZW5lciwgb3B0X2NhcHQpO1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50SGFuZGxlci5wcm90b3R5cGUubGlzdGVuV2l0aFdyYXBwZXJBbmRTY29wZSA9IGZ1bmN0aW9uKHNyYywgd3JhcHBlciwgbGlzdGVuZXIsIGNhcHR1cmUsIHNjb3BlKSB7XG4gIHJldHVybiB0aGlzLmxpc3RlbldpdGhXcmFwcGVyXyhzcmMsIHdyYXBwZXIsIGxpc3RlbmVyLCBjYXB0dXJlLCBzY29wZSk7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5saXN0ZW5XaXRoV3JhcHBlcl8gPSBmdW5jdGlvbihzcmMsIHdyYXBwZXIsIGxpc3RlbmVyLCBvcHRfY2FwdCwgb3B0X3Njb3BlKSB7XG4gIHdyYXBwZXIubGlzdGVuKHNyYywgbGlzdGVuZXIsIG9wdF9jYXB0LCBvcHRfc2NvcGUgfHwgdGhpcy5oYW5kbGVyXyB8fCB0aGlzLCB0aGlzKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5ldmVudHMuRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5nZXRMaXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBjb3VudCA9IDAsIGtleTtcbiAgZm9yIChrZXkgaW4gdGhpcy5rZXlzXykge1xuICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmtleXNfLCBrZXkpICYmIGNvdW50Kys7XG4gIH1cbiAgcmV0dXJuIGNvdW50O1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50SGFuZGxlci5wcm90b3R5cGUudW5saXN0ZW4gPSBmdW5jdGlvbihzcmMsIHR5cGUsIG9wdF9mbiwgb3B0X29wdGlvbnMsIG9wdF9zY29wZSkge1xuICBpZiAoQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHlwZS5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy51bmxpc3RlbihzcmMsIHR5cGVbaV0sIG9wdF9mbiwgb3B0X29wdGlvbnMsIG9wdF9zY29wZSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBsaXN0ZW5lciA9IGdvb2cuZXZlbnRzLmdldExpc3RlbmVyKHNyYywgdHlwZSwgb3B0X2ZuIHx8IHRoaXMuaGFuZGxlRXZlbnQsIGdvb2cuaXNPYmplY3Qob3B0X29wdGlvbnMpID8gISFvcHRfb3B0aW9ucy5jYXB0dXJlIDogISFvcHRfb3B0aW9ucywgb3B0X3Njb3BlIHx8IHRoaXMuaGFuZGxlcl8gfHwgdGhpcyk7XG4gICAgbGlzdGVuZXIgJiYgKGdvb2cuZXZlbnRzLnVubGlzdGVuQnlLZXkobGlzdGVuZXIpLCBkZWxldGUgdGhpcy5rZXlzX1tsaXN0ZW5lci5rZXldKTtcbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5nb29nLmV2ZW50cy5FdmVudEhhbmRsZXIucHJvdG90eXBlLnVubGlzdGVuV2l0aFdyYXBwZXIgPSBmdW5jdGlvbihzcmMsIHdyYXBwZXIsIGxpc3RlbmVyLCBvcHRfY2FwdCwgb3B0X3Njb3BlKSB7XG4gIHdyYXBwZXIudW5saXN0ZW4oc3JjLCBsaXN0ZW5lciwgb3B0X2NhcHQsIG9wdF9zY29wZSB8fCB0aGlzLmhhbmRsZXJfIHx8IHRoaXMsIHRoaXMpO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLmV2ZW50cy5FdmVudEhhbmRsZXIucHJvdG90eXBlLnJlbW92ZUFsbCA9IGZ1bmN0aW9uKCkge1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZm9yRWFjaCh0aGlzLmtleXNfLCBmdW5jdGlvbihsaXN0ZW5lck9iaiwga2V5KSB7XG4gICAgdGhpcy5rZXlzXy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIGdvb2cuZXZlbnRzLnVubGlzdGVuQnlLZXkobGlzdGVuZXJPYmopO1xuICB9LCB0aGlzKTtcbiAgdGhpcy5rZXlzXyA9IHt9O1xufTtcbmdvb2cuZXZlbnRzLkV2ZW50SGFuZGxlci5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cuZXZlbnRzLkV2ZW50SGFuZGxlci5zdXBlckNsYXNzXy5kaXNwb3NlSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgdGhpcy5yZW1vdmVBbGwoKTtcbn07XG5nb29nLmV2ZW50cy5FdmVudEhhbmRsZXIucHJvdG90eXBlLmhhbmRsZUV2ZW50ID0gZnVuY3Rpb24oZSkge1xuICB0aHJvdyBFcnJvcihcIkV2ZW50SGFuZGxlci5oYW5kbGVFdmVudCBub3QgaW1wbGVtZW50ZWRcIik7XG59O1xuZ29vZy5mcy5ET01FcnJvckxpa2UgPSBmdW5jdGlvbigpIHtcbn07XG5nb29nLmZzLkVycm9yID0gZnVuY3Rpb24oZXJyb3IsIGFjdGlvbikge1xuICBpZiAodm9pZCAwICE9PSBlcnJvci5uYW1lKSB7XG4gICAgdGhpcy5uYW1lID0gZXJyb3IubmFtZSwgdGhpcy5jb2RlID0gZ29vZy5mcy5FcnJvci5nZXRDb2RlRnJvbU5hbWVfKGVycm9yLm5hbWUpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjb2RlID0gZ29vZy5hc3NlcnRzLmFzc2VydE51bWJlcihlcnJvci5jb2RlKTtcbiAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgIHRoaXMubmFtZSA9IGdvb2cuZnMuRXJyb3IuZ2V0TmFtZUZyb21Db2RlXyhjb2RlKTtcbiAgfVxuICBtb2R1bGUkY29udGVudHMkZ29vZyRkZWJ1ZyRFcnJvcl9EZWJ1Z0Vycm9yLmNhbGwodGhpcywgZ29vZy5zdHJpbmcuc3VicyhcIiVzICVzXCIsIHRoaXMubmFtZSwgYWN0aW9uKSk7XG59O1xuZ29vZy5pbmhlcml0cyhnb29nLmZzLkVycm9yLCBtb2R1bGUkY29udGVudHMkZ29vZyRkZWJ1ZyRFcnJvcl9EZWJ1Z0Vycm9yKTtcbmdvb2cuZnMuRXJyb3IuRXJyb3JOYW1lID0ge0FCT1JUOlwiQWJvcnRFcnJvclwiLCBFTkNPRElORzpcIkVuY29kaW5nRXJyb3JcIiwgSU5WQUxJRF9NT0RJRklDQVRJT046XCJJbnZhbGlkTW9kaWZpY2F0aW9uRXJyb3JcIiwgSU5WQUxJRF9TVEFURTpcIkludmFsaWRTdGF0ZUVycm9yXCIsIE5PVF9GT1VORDpcIk5vdEZvdW5kRXJyb3JcIiwgTk9UX1JFQURBQkxFOlwiTm90UmVhZGFibGVFcnJvclwiLCBOT19NT0RJRklDQVRJT05fQUxMT1dFRDpcIk5vTW9kaWZpY2F0aW9uQWxsb3dlZEVycm9yXCIsIFBBVEhfRVhJU1RTOlwiUGF0aEV4aXN0c0Vycm9yXCIsIFFVT1RBX0VYQ0VFREVEOlwiUXVvdGFFeGNlZWRlZEVycm9yXCIsIFNFQ1VSSVRZOlwiU2VjdXJpdHlFcnJvclwiLCBTWU5UQVg6XCJTeW50YXhFcnJvclwiLCBUWVBFX01JU01BVENIOlwiVHlwZU1pc21hdGNoRXJyb3JcIn07XG5nb29nLmZzLkVycm9yLkVycm9yQ29kZSA9IHtOT1RfRk9VTkQ6MSwgU0VDVVJJVFk6MiwgQUJPUlQ6MywgTk9UX1JFQURBQkxFOjQsIEVOQ09ESU5HOjUsIE5PX01PRElGSUNBVElPTl9BTExPV0VEOjYsIElOVkFMSURfU1RBVEU6NywgU1lOVEFYOjgsIElOVkFMSURfTU9ESUZJQ0FUSU9OOjksIFFVT1RBX0VYQ0VFREVEOjEwLCBUWVBFX01JU01BVENIOjExLCBQQVRIX0VYSVNUUzoxMn07XG5nb29nLmZzLkVycm9yLmdldE5hbWVGcm9tQ29kZV8gPSBmdW5jdGlvbihjb2RlKSB7XG4gIHZhciBuYW1lID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2ZpbmRLZXkoZ29vZy5mcy5FcnJvci5OYW1lVG9Db2RlTWFwXywgZnVuY3Rpb24oYykge1xuICAgIHJldHVybiBjb2RlID09IGM7XG4gIH0pO1xuICBpZiAodm9pZCAwID09PSBuYW1lKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGNvZGU6IFwiICsgY29kZSk7XG4gIH1cbiAgcmV0dXJuIG5hbWU7XG59O1xuZ29vZy5mcy5FcnJvci5nZXRDb2RlRnJvbU5hbWVfID0gZnVuY3Rpb24obmFtZSkge1xuICByZXR1cm4gZ29vZy5mcy5FcnJvci5OYW1lVG9Db2RlTWFwX1tuYW1lXTtcbn07XG52YXIgJGpzY29tcCRjb21wcHJvcDQgPSB7fTtcbmdvb2cuZnMuRXJyb3IuTmFtZVRvQ29kZU1hcF8gPSAoJGpzY29tcCRjb21wcHJvcDRbZ29vZy5mcy5FcnJvci5FcnJvck5hbWUuQUJPUlRdID0gZ29vZy5mcy5FcnJvci5FcnJvckNvZGUuQUJPUlQsICRqc2NvbXAkY29tcHByb3A0W2dvb2cuZnMuRXJyb3IuRXJyb3JOYW1lLkVOQ09ESU5HXSA9IGdvb2cuZnMuRXJyb3IuRXJyb3JDb2RlLkVOQ09ESU5HLCAkanNjb21wJGNvbXBwcm9wNFtnb29nLmZzLkVycm9yLkVycm9yTmFtZS5JTlZBTElEX01PRElGSUNBVElPTl0gPSBnb29nLmZzLkVycm9yLkVycm9yQ29kZS5JTlZBTElEX01PRElGSUNBVElPTiwgJGpzY29tcCRjb21wcHJvcDRbZ29vZy5mcy5FcnJvci5FcnJvck5hbWUuSU5WQUxJRF9TVEFURV0gPSBnb29nLmZzLkVycm9yLkVycm9yQ29kZS5JTlZBTElEX1NUQVRFLCAkanNjb21wJGNvbXBwcm9wNFtnb29nLmZzLkVycm9yLkVycm9yTmFtZS5OT1RfRk9VTkRdID0gZ29vZy5mcy5FcnJvci5FcnJvckNvZGUuTk9UX0ZPVU5ELCBcbiRqc2NvbXAkY29tcHByb3A0W2dvb2cuZnMuRXJyb3IuRXJyb3JOYW1lLk5PVF9SRUFEQUJMRV0gPSBnb29nLmZzLkVycm9yLkVycm9yQ29kZS5OT1RfUkVBREFCTEUsICRqc2NvbXAkY29tcHByb3A0W2dvb2cuZnMuRXJyb3IuRXJyb3JOYW1lLk5PX01PRElGSUNBVElPTl9BTExPV0VEXSA9IGdvb2cuZnMuRXJyb3IuRXJyb3JDb2RlLk5PX01PRElGSUNBVElPTl9BTExPV0VELCAkanNjb21wJGNvbXBwcm9wNFtnb29nLmZzLkVycm9yLkVycm9yTmFtZS5QQVRIX0VYSVNUU10gPSBnb29nLmZzLkVycm9yLkVycm9yQ29kZS5QQVRIX0VYSVNUUywgJGpzY29tcCRjb21wcHJvcDRbZ29vZy5mcy5FcnJvci5FcnJvck5hbWUuUVVPVEFfRVhDRUVERURdID0gZ29vZy5mcy5FcnJvci5FcnJvckNvZGUuUVVPVEFfRVhDRUVERUQsICRqc2NvbXAkY29tcHByb3A0W2dvb2cuZnMuRXJyb3IuRXJyb3JOYW1lLlNFQ1VSSVRZXSA9IGdvb2cuZnMuRXJyb3IuRXJyb3JDb2RlLlNFQ1VSSVRZLCAkanNjb21wJGNvbXBwcm9wNFtnb29nLmZzLkVycm9yLkVycm9yTmFtZS5TWU5UQVhdID0gXG5nb29nLmZzLkVycm9yLkVycm9yQ29kZS5TWU5UQVgsICRqc2NvbXAkY29tcHByb3A0W2dvb2cuZnMuRXJyb3IuRXJyb3JOYW1lLlRZUEVfTUlTTUFUQ0hdID0gZ29vZy5mcy5FcnJvci5FcnJvckNvZGUuVFlQRV9NSVNNQVRDSCwgJGpzY29tcCRjb21wcHJvcDQpO1xuZ29vZy5mcy5Qcm9ncmVzc0V2ZW50ID0gZnVuY3Rpb24oZXZlbnQsIHRhcmdldCkge1xuICBnb29nLmV2ZW50cy5FdmVudC5jYWxsKHRoaXMsIGV2ZW50LnR5cGUsIHRhcmdldCk7XG4gIHRoaXMuZXZlbnRfID0gZXZlbnQ7XG59O1xuZ29vZy5pbmhlcml0cyhnb29nLmZzLlByb2dyZXNzRXZlbnQsIGdvb2cuZXZlbnRzLkV2ZW50KTtcbmdvb2cuZnMuUHJvZ3Jlc3NFdmVudC5wcm90b3R5cGUuaXNMZW5ndGhDb21wdXRhYmxlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmV2ZW50Xy5sZW5ndGhDb21wdXRhYmxlO1xufTtcbmdvb2cuZnMuUHJvZ3Jlc3NFdmVudC5wcm90b3R5cGUuZ2V0TG9hZGVkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmV2ZW50Xy5sb2FkZWQ7XG59O1xuZ29vZy5mcy5Qcm9ncmVzc0V2ZW50LnByb3RvdHlwZS5nZXRUb3RhbCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5ldmVudF8udG90YWw7XG59O1xuZ29vZy5mcy5GaWxlUmVhZGVyID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LmNhbGwodGhpcyk7XG4gIHRoaXMucmVhZGVyXyA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gIHRoaXMucmVhZGVyXy5vbmxvYWRzdGFydCA9IGdvb2cuYmluZCh0aGlzLmRpc3BhdGNoUHJvZ3Jlc3NFdmVudF8sIHRoaXMpO1xuICB0aGlzLnJlYWRlcl8ub25wcm9ncmVzcyA9IGdvb2cuYmluZCh0aGlzLmRpc3BhdGNoUHJvZ3Jlc3NFdmVudF8sIHRoaXMpO1xuICB0aGlzLnJlYWRlcl8ub25sb2FkID0gZ29vZy5iaW5kKHRoaXMuZGlzcGF0Y2hQcm9ncmVzc0V2ZW50XywgdGhpcyk7XG4gIHRoaXMucmVhZGVyXy5vbmFib3J0ID0gZ29vZy5iaW5kKHRoaXMuZGlzcGF0Y2hQcm9ncmVzc0V2ZW50XywgdGhpcyk7XG4gIHRoaXMucmVhZGVyXy5vbmVycm9yID0gZ29vZy5iaW5kKHRoaXMuZGlzcGF0Y2hQcm9ncmVzc0V2ZW50XywgdGhpcyk7XG4gIHRoaXMucmVhZGVyXy5vbmxvYWRlbmQgPSBnb29nLmJpbmQodGhpcy5kaXNwYXRjaFByb2dyZXNzRXZlbnRfLCB0aGlzKTtcbn07XG5nb29nLmluaGVyaXRzKGdvb2cuZnMuRmlsZVJlYWRlciwgZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQpO1xuZ29vZy5mcy5GaWxlUmVhZGVyLlJlYWR5U3RhdGUgPSB7SU5JVDowLCBMT0FESU5HOjEsIERPTkU6Mn07XG5nb29nLmZzLkZpbGVSZWFkZXIuRXZlbnRUeXBlID0ge0xPQURfU1RBUlQ6XCJsb2Fkc3RhcnRcIiwgUFJPR1JFU1M6XCJwcm9ncmVzc1wiLCBMT0FEOlwibG9hZFwiLCBBQk9SVDpcImFib3J0XCIsIEVSUk9SOlwiZXJyb3JcIiwgTE9BRF9FTkQ6XCJsb2FkZW5kXCJ9O1xuZ29vZy5mcy5GaWxlUmVhZGVyLnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIHRoaXMucmVhZGVyXy5hYm9ydCgpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdGhyb3cgbmV3IGdvb2cuZnMuRXJyb3IoZSwgXCJhYm9ydGluZyByZWFkXCIpO1xuICB9XG59O1xuZ29vZy5mcy5GaWxlUmVhZGVyLnByb3RvdHlwZS5nZXRSZWFkeVN0YXRlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnJlYWRlcl8ucmVhZHlTdGF0ZTtcbn07XG5nb29nLmZzLkZpbGVSZWFkZXIucHJvdG90eXBlLmdldFJlc3VsdCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5yZWFkZXJfLnJlc3VsdDtcbn07XG5nb29nLmZzLkZpbGVSZWFkZXIucHJvdG90eXBlLmdldEVycm9yID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnJlYWRlcl8uZXJyb3IgJiYgbmV3IGdvb2cuZnMuRXJyb3IodGhpcy5yZWFkZXJfLmVycm9yLCBcInJlYWRpbmcgZmlsZVwiKTtcbn07XG5nb29nLmZzLkZpbGVSZWFkZXIucHJvdG90eXBlLmRpc3BhdGNoUHJvZ3Jlc3NFdmVudF8gPSBmdW5jdGlvbihldmVudCkge1xuICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IGdvb2cuZnMuUHJvZ3Jlc3NFdmVudChldmVudCwgdGhpcykpO1xufTtcbmdvb2cuZnMuRmlsZVJlYWRlci5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cuZnMuRmlsZVJlYWRlci5zdXBlckNsYXNzXy5kaXNwb3NlSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgZGVsZXRlIHRoaXMucmVhZGVyXztcbn07XG5nb29nLmZzLkZpbGVSZWFkZXIucHJvdG90eXBlLnJlYWRBc0JpbmFyeVN0cmluZyA9IGZ1bmN0aW9uKGJsb2IpIHtcbiAgdGhpcy5yZWFkZXJfLnJlYWRBc0JpbmFyeVN0cmluZyhibG9iKTtcbn07XG5nb29nLmZzLkZpbGVSZWFkZXIucmVhZEFzQmluYXJ5U3RyaW5nID0gZnVuY3Rpb24oYmxvYikge1xuICB2YXIgcmVhZGVyID0gbmV3IGdvb2cuZnMuRmlsZVJlYWRlcigpLCBkID0gZ29vZy5mcy5GaWxlUmVhZGVyLmNyZWF0ZURlZmVycmVkXyhyZWFkZXIpO1xuICByZWFkZXIucmVhZEFzQmluYXJ5U3RyaW5nKGJsb2IpO1xuICByZXR1cm4gZDtcbn07XG5nb29nLmZzLkZpbGVSZWFkZXIucHJvdG90eXBlLnJlYWRBc0FycmF5QnVmZmVyID0gZnVuY3Rpb24oYmxvYikge1xuICB0aGlzLnJlYWRlcl8ucmVhZEFzQXJyYXlCdWZmZXIoYmxvYik7XG59O1xuZ29vZy5mcy5GaWxlUmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyID0gZnVuY3Rpb24oYmxvYikge1xuICB2YXIgcmVhZGVyID0gbmV3IGdvb2cuZnMuRmlsZVJlYWRlcigpLCBkID0gZ29vZy5mcy5GaWxlUmVhZGVyLmNyZWF0ZURlZmVycmVkXyhyZWFkZXIpO1xuICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYik7XG4gIHJldHVybiBkO1xufTtcbmdvb2cuZnMuRmlsZVJlYWRlci5wcm90b3R5cGUucmVhZEFzVGV4dCA9IGZ1bmN0aW9uKGJsb2IsIG9wdF9lbmNvZGluZykge1xuICB0aGlzLnJlYWRlcl8ucmVhZEFzVGV4dChibG9iLCBvcHRfZW5jb2RpbmcpO1xufTtcbmdvb2cuZnMuRmlsZVJlYWRlci5yZWFkQXNUZXh0ID0gZnVuY3Rpb24oYmxvYiwgb3B0X2VuY29kaW5nKSB7XG4gIHZhciByZWFkZXIgPSBuZXcgZ29vZy5mcy5GaWxlUmVhZGVyKCksIGQgPSBnb29nLmZzLkZpbGVSZWFkZXIuY3JlYXRlRGVmZXJyZWRfKHJlYWRlcik7XG4gIHJlYWRlci5yZWFkQXNUZXh0KGJsb2IsIG9wdF9lbmNvZGluZyk7XG4gIHJldHVybiBkO1xufTtcbmdvb2cuZnMuRmlsZVJlYWRlci5wcm90b3R5cGUucmVhZEFzRGF0YVVybCA9IGZ1bmN0aW9uKGJsb2IpIHtcbiAgdGhpcy5yZWFkZXJfLnJlYWRBc0RhdGFVUkwoYmxvYik7XG59O1xuZ29vZy5mcy5GaWxlUmVhZGVyLnJlYWRBc0RhdGFVcmwgPSBmdW5jdGlvbihibG9iKSB7XG4gIHZhciByZWFkZXIgPSBuZXcgZ29vZy5mcy5GaWxlUmVhZGVyKCksIGQgPSBnb29nLmZzLkZpbGVSZWFkZXIuY3JlYXRlRGVmZXJyZWRfKHJlYWRlcik7XG4gIHJlYWRlci5yZWFkQXNEYXRhVXJsKGJsb2IpO1xuICByZXR1cm4gZDtcbn07XG5nb29nLmZzLkZpbGVSZWFkZXIuY3JlYXRlRGVmZXJyZWRfID0gZnVuY3Rpb24ocmVhZGVyKSB7XG4gIHZhciBkZWZlcnJlZCA9IG5ldyBnb29nLmFzeW5jLkRlZmVycmVkKCk7XG4gIHJlYWRlci5saXN0ZW4oZ29vZy5mcy5GaWxlUmVhZGVyLkV2ZW50VHlwZS5MT0FEX0VORCwgZ29vZy5wYXJ0aWFsKGZ1bmN0aW9uKGQsIHIsIGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gci5nZXRSZXN1bHQoKSwgZXJyb3IgPSByLmdldEVycm9yKCk7XG4gICAgbnVsbCA9PSByZXN1bHQgfHwgZXJyb3IgPyBkLmVycmJhY2soZXJyb3IpIDogZC5jYWxsYmFjayhyZXN1bHQpO1xuICAgIHIuZGlzcG9zZSgpO1xuICB9LCBkZWZlcnJlZCwgcmVhZGVyKSk7XG4gIHJldHVybiBkZWZlcnJlZDtcbn07XG5nb29nLmRvbS52ZW5kb3IgPSB7fTtcbmdvb2cuZG9tLnZlbmRvci5nZXRWZW5kb3JKc1ByZWZpeCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy51c2VyQWdlbnQuV0VCS0lUID8gXCJXZWJraXRcIiA6IGdvb2cudXNlckFnZW50LkdFQ0tPID8gXCJNb3pcIiA6IGdvb2cudXNlckFnZW50LklFID8gXCJtc1wiIDogbnVsbDtcbn07XG5nb29nLmRvbS52ZW5kb3IuZ2V0VmVuZG9yUHJlZml4ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBnb29nLnVzZXJBZ2VudC5XRUJLSVQgPyBcIi13ZWJraXRcIiA6IGdvb2cudXNlckFnZW50LkdFQ0tPID8gXCItbW96XCIgOiBnb29nLnVzZXJBZ2VudC5JRSA/IFwiLW1zXCIgOiBudWxsO1xufTtcbmdvb2cuZG9tLnZlbmRvci5nZXRQcmVmaXhlZFByb3BlcnR5TmFtZSA9IGZ1bmN0aW9uKHByb3BlcnR5TmFtZSwgb3B0X29iamVjdCkge1xuICBpZiAob3B0X29iamVjdCAmJiBwcm9wZXJ0eU5hbWUgaW4gb3B0X29iamVjdCkge1xuICAgIHJldHVybiBwcm9wZXJ0eU5hbWU7XG4gIH1cbiAgdmFyIHByZWZpeCA9IGdvb2cuZG9tLnZlbmRvci5nZXRWZW5kb3JKc1ByZWZpeCgpO1xuICBpZiAocHJlZml4KSB7XG4gICAgcHJlZml4ID0gcHJlZml4LnRvTG93ZXJDYXNlKCk7XG4gICAgdmFyIHByZWZpeGVkUHJvcGVydHlOYW1lID0gcHJlZml4ICsgZ29vZy5zdHJpbmcudG9UaXRsZUNhc2UocHJvcGVydHlOYW1lKTtcbiAgICByZXR1cm4gdm9pZCAwID09PSBvcHRfb2JqZWN0IHx8IHByZWZpeGVkUHJvcGVydHlOYW1lIGluIG9wdF9vYmplY3QgPyBwcmVmaXhlZFByb3BlcnR5TmFtZSA6IG51bGw7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuZ29vZy5kb20udmVuZG9yLmdldFByZWZpeGVkRXZlbnRUeXBlID0gZnVuY3Rpb24oZXZlbnRUeXBlKSB7XG4gIHJldHVybiAoKGdvb2cuZG9tLnZlbmRvci5nZXRWZW5kb3JKc1ByZWZpeCgpIHx8IFwiXCIpICsgZXZlbnRUeXBlKS50b0xvd2VyQ2FzZSgpO1xufTtcbmdvb2cubWF0aC5Cb3ggPSBmdW5jdGlvbih0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnQpIHtcbiAgdGhpcy50b3AgPSB0b3A7XG4gIHRoaXMucmlnaHQgPSByaWdodDtcbiAgdGhpcy5ib3R0b20gPSBib3R0b207XG4gIHRoaXMubGVmdCA9IGxlZnQ7XG59O1xuZ29vZy5tYXRoLkJveC5ib3VuZGluZ0JveCA9IGZ1bmN0aW9uKHZhcl9hcmdzKSB7XG4gIGZvciAodmFyIGJveCA9IG5ldyBnb29nLm1hdGguQm94KGFyZ3VtZW50c1swXS55LCBhcmd1bWVudHNbMF0ueCwgYXJndW1lbnRzWzBdLnksIGFyZ3VtZW50c1swXS54KSwgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICBib3guZXhwYW5kVG9JbmNsdWRlQ29vcmRpbmF0ZShhcmd1bWVudHNbaV0pO1xuICB9XG4gIHJldHVybiBib3g7XG59O1xuZ29vZy5tYXRoLkJveC5wcm90b3R5cGUuZ2V0V2lkdGggPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucmlnaHQgLSB0aGlzLmxlZnQ7XG59O1xuZ29vZy5tYXRoLkJveC5wcm90b3R5cGUuZ2V0SGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmJvdHRvbSAtIHRoaXMudG9wO1xufTtcbmdvb2cubWF0aC5Cb3gucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLkJveCh0aGlzLnRvcCwgdGhpcy5yaWdodCwgdGhpcy5ib3R0b20sIHRoaXMubGVmdCk7XG59O1xuZ29vZy5ERUJVRyAmJiAoZ29vZy5tYXRoLkJveC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFwiKFwiICsgdGhpcy50b3AgKyBcInQsIFwiICsgdGhpcy5yaWdodCArIFwiciwgXCIgKyB0aGlzLmJvdHRvbSArIFwiYiwgXCIgKyB0aGlzLmxlZnQgKyBcImwpXCI7XG59KTtcbmdvb2cubWF0aC5Cb3gucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24ob3RoZXIpIHtcbiAgcmV0dXJuIGdvb2cubWF0aC5Cb3guY29udGFpbnModGhpcywgb3RoZXIpO1xufTtcbmdvb2cubWF0aC5Cb3gucHJvdG90eXBlLmV4cGFuZCA9IGZ1bmN0aW9uKHRvcCwgb3B0X3JpZ2h0LCBvcHRfYm90dG9tLCBvcHRfbGVmdCkge1xuICBnb29nLmlzT2JqZWN0KHRvcCkgPyAodGhpcy50b3AgLT0gdG9wLnRvcCwgdGhpcy5yaWdodCArPSB0b3AucmlnaHQsIHRoaXMuYm90dG9tICs9IHRvcC5ib3R0b20sIHRoaXMubGVmdCAtPSB0b3AubGVmdCkgOiAodGhpcy50b3AgLT0gdG9wLCB0aGlzLnJpZ2h0ICs9IE51bWJlcihvcHRfcmlnaHQpLCB0aGlzLmJvdHRvbSArPSBOdW1iZXIob3B0X2JvdHRvbSksIHRoaXMubGVmdCAtPSBOdW1iZXIob3B0X2xlZnQpKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5tYXRoLkJveC5wcm90b3R5cGUuZXhwYW5kVG9JbmNsdWRlID0gZnVuY3Rpb24oYm94KSB7XG4gIHRoaXMubGVmdCA9IE1hdGgubWluKHRoaXMubGVmdCwgYm94LmxlZnQpO1xuICB0aGlzLnRvcCA9IE1hdGgubWluKHRoaXMudG9wLCBib3gudG9wKTtcbiAgdGhpcy5yaWdodCA9IE1hdGgubWF4KHRoaXMucmlnaHQsIGJveC5yaWdodCk7XG4gIHRoaXMuYm90dG9tID0gTWF0aC5tYXgodGhpcy5ib3R0b20sIGJveC5ib3R0b20pO1xufTtcbmdvb2cubWF0aC5Cb3gucHJvdG90eXBlLmV4cGFuZFRvSW5jbHVkZUNvb3JkaW5hdGUgPSBmdW5jdGlvbihjb29yZCkge1xuICB0aGlzLnRvcCA9IE1hdGgubWluKHRoaXMudG9wLCBjb29yZC55KTtcbiAgdGhpcy5yaWdodCA9IE1hdGgubWF4KHRoaXMucmlnaHQsIGNvb3JkLngpO1xuICB0aGlzLmJvdHRvbSA9IE1hdGgubWF4KHRoaXMuYm90dG9tLCBjb29yZC55KTtcbiAgdGhpcy5sZWZ0ID0gTWF0aC5taW4odGhpcy5sZWZ0LCBjb29yZC54KTtcbn07XG5nb29nLm1hdGguQm94LmVxdWFscyA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgcmV0dXJuIGEgPT0gYiA/ICEwIDogYSAmJiBiID8gYS50b3AgPT0gYi50b3AgJiYgYS5yaWdodCA9PSBiLnJpZ2h0ICYmIGEuYm90dG9tID09IGIuYm90dG9tICYmIGEubGVmdCA9PSBiLmxlZnQgOiAhMTtcbn07XG5nb29nLm1hdGguQm94LmNvbnRhaW5zID0gZnVuY3Rpb24oYm94LCBvdGhlcikge1xuICByZXR1cm4gYm94ICYmIG90aGVyID8gb3RoZXIgaW5zdGFuY2VvZiBnb29nLm1hdGguQm94ID8gb3RoZXIubGVmdCA+PSBib3gubGVmdCAmJiBvdGhlci5yaWdodCA8PSBib3gucmlnaHQgJiYgb3RoZXIudG9wID49IGJveC50b3AgJiYgb3RoZXIuYm90dG9tIDw9IGJveC5ib3R0b20gOiBvdGhlci54ID49IGJveC5sZWZ0ICYmIG90aGVyLnggPD0gYm94LnJpZ2h0ICYmIG90aGVyLnkgPj0gYm94LnRvcCAmJiBvdGhlci55IDw9IGJveC5ib3R0b20gOiAhMTtcbn07XG5nb29nLm1hdGguQm94LnJlbGF0aXZlUG9zaXRpb25YID0gZnVuY3Rpb24oYm94LCBjb29yZCkge1xuICByZXR1cm4gY29vcmQueCA8IGJveC5sZWZ0ID8gY29vcmQueCAtIGJveC5sZWZ0IDogY29vcmQueCA+IGJveC5yaWdodCA/IGNvb3JkLnggLSBib3gucmlnaHQgOiAwO1xufTtcbmdvb2cubWF0aC5Cb3gucmVsYXRpdmVQb3NpdGlvblkgPSBmdW5jdGlvbihib3gsIGNvb3JkKSB7XG4gIHJldHVybiBjb29yZC55IDwgYm94LnRvcCA/IGNvb3JkLnkgLSBib3gudG9wIDogY29vcmQueSA+IGJveC5ib3R0b20gPyBjb29yZC55IC0gYm94LmJvdHRvbSA6IDA7XG59O1xuZ29vZy5tYXRoLkJveC5kaXN0YW5jZSA9IGZ1bmN0aW9uKGJveCwgY29vcmQpIHtcbiAgdmFyIHggPSBnb29nLm1hdGguQm94LnJlbGF0aXZlUG9zaXRpb25YKGJveCwgY29vcmQpLCB5ID0gZ29vZy5tYXRoLkJveC5yZWxhdGl2ZVBvc2l0aW9uWShib3gsIGNvb3JkKTtcbiAgcmV0dXJuIE1hdGguc3FydCh4ICogeCArIHkgKiB5KTtcbn07XG5nb29nLm1hdGguQm94LmludGVyc2VjdHMgPSBmdW5jdGlvbihhLCBiKSB7XG4gIHJldHVybiBhLmxlZnQgPD0gYi5yaWdodCAmJiBiLmxlZnQgPD0gYS5yaWdodCAmJiBhLnRvcCA8PSBiLmJvdHRvbSAmJiBiLnRvcCA8PSBhLmJvdHRvbTtcbn07XG5nb29nLm1hdGguQm94LmludGVyc2VjdHNXaXRoUGFkZGluZyA9IGZ1bmN0aW9uKGEsIGIsIHBhZGRpbmcpIHtcbiAgcmV0dXJuIGEubGVmdCA8PSBiLnJpZ2h0ICsgcGFkZGluZyAmJiBiLmxlZnQgPD0gYS5yaWdodCArIHBhZGRpbmcgJiYgYS50b3AgPD0gYi5ib3R0b20gKyBwYWRkaW5nICYmIGIudG9wIDw9IGEuYm90dG9tICsgcGFkZGluZztcbn07XG5nb29nLm1hdGguQm94LnByb3RvdHlwZS5jZWlsID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMudG9wID0gTWF0aC5jZWlsKHRoaXMudG9wKTtcbiAgdGhpcy5yaWdodCA9IE1hdGguY2VpbCh0aGlzLnJpZ2h0KTtcbiAgdGhpcy5ib3R0b20gPSBNYXRoLmNlaWwodGhpcy5ib3R0b20pO1xuICB0aGlzLmxlZnQgPSBNYXRoLmNlaWwodGhpcy5sZWZ0KTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5tYXRoLkJveC5wcm90b3R5cGUuZmxvb3IgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy50b3AgPSBNYXRoLmZsb29yKHRoaXMudG9wKTtcbiAgdGhpcy5yaWdodCA9IE1hdGguZmxvb3IodGhpcy5yaWdodCk7XG4gIHRoaXMuYm90dG9tID0gTWF0aC5mbG9vcih0aGlzLmJvdHRvbSk7XG4gIHRoaXMubGVmdCA9IE1hdGguZmxvb3IodGhpcy5sZWZ0KTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5tYXRoLkJveC5wcm90b3R5cGUucm91bmQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy50b3AgPSBNYXRoLnJvdW5kKHRoaXMudG9wKTtcbiAgdGhpcy5yaWdodCA9IE1hdGgucm91bmQodGhpcy5yaWdodCk7XG4gIHRoaXMuYm90dG9tID0gTWF0aC5yb3VuZCh0aGlzLmJvdHRvbSk7XG4gIHRoaXMubGVmdCA9IE1hdGgucm91bmQodGhpcy5sZWZ0KTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5tYXRoLkJveC5wcm90b3R5cGUudHJhbnNsYXRlID0gZnVuY3Rpb24odHgsIG9wdF90eSkge1xuICB0eCBpbnN0YW5jZW9mIGdvb2cubWF0aC5Db29yZGluYXRlID8gKHRoaXMubGVmdCArPSB0eC54LCB0aGlzLnJpZ2h0ICs9IHR4LngsIHRoaXMudG9wICs9IHR4LnksIHRoaXMuYm90dG9tICs9IHR4LnkpIDogKGdvb2cuYXNzZXJ0cy5hc3NlcnROdW1iZXIodHgpLCB0aGlzLmxlZnQgKz0gdHgsIHRoaXMucmlnaHQgKz0gdHgsIFwibnVtYmVyXCIgPT09IHR5cGVvZiBvcHRfdHkgJiYgKHRoaXMudG9wICs9IG9wdF90eSwgdGhpcy5ib3R0b20gKz0gb3B0X3R5KSk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cubWF0aC5Cb3gucHJvdG90eXBlLnNjYWxlID0gZnVuY3Rpb24oc3gsIG9wdF9zeSkge1xuICB2YXIgc3kgPSBcIm51bWJlclwiID09PSB0eXBlb2Ygb3B0X3N5ID8gb3B0X3N5IDogc3g7XG4gIHRoaXMubGVmdCAqPSBzeDtcbiAgdGhpcy5yaWdodCAqPSBzeDtcbiAgdGhpcy50b3AgKj0gc3k7XG4gIHRoaXMuYm90dG9tICo9IHN5O1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLm1hdGguSVJlY3QgPSBmdW5jdGlvbigpIHtcbn07XG5nb29nLm1hdGguUmVjdCA9IGZ1bmN0aW9uKHgsIHksIHcsIGgpIHtcbiAgdGhpcy5sZWZ0ID0geDtcbiAgdGhpcy50b3AgPSB5O1xuICB0aGlzLndpZHRoID0gdztcbiAgdGhpcy5oZWlnaHQgPSBoO1xufTtcbmdvb2cubWF0aC5SZWN0LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IGdvb2cubWF0aC5SZWN0KHRoaXMubGVmdCwgdGhpcy50b3AsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbn07XG5nb29nLm1hdGguUmVjdC5wcm90b3R5cGUudG9Cb3ggPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBnb29nLm1hdGguQm94KHRoaXMudG9wLCB0aGlzLmxlZnQgKyB0aGlzLndpZHRoLCB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0LCB0aGlzLmxlZnQpO1xufTtcbmdvb2cubWF0aC5SZWN0LmNyZWF0ZUZyb21Qb3NpdGlvbkFuZFNpemUgPSBmdW5jdGlvbihwb3NpdGlvbiwgc2l6ZSkge1xuICByZXR1cm4gbmV3IGdvb2cubWF0aC5SZWN0KHBvc2l0aW9uLngsIHBvc2l0aW9uLnksIHNpemUud2lkdGgsIHNpemUuaGVpZ2h0KTtcbn07XG5nb29nLm1hdGguUmVjdC5jcmVhdGVGcm9tQm94ID0gZnVuY3Rpb24oYm94KSB7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLlJlY3QoYm94LmxlZnQsIGJveC50b3AsIGJveC5yaWdodCAtIGJveC5sZWZ0LCBib3guYm90dG9tIC0gYm94LnRvcCk7XG59O1xuZ29vZy5ERUJVRyAmJiAoZ29vZy5tYXRoLlJlY3QucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBcIihcIiArIHRoaXMubGVmdCArIFwiLCBcIiArIHRoaXMudG9wICsgXCIgLSBcIiArIHRoaXMud2lkdGggKyBcIncgeCBcIiArIHRoaXMuaGVpZ2h0ICsgXCJoKVwiO1xufSk7XG5nb29nLm1hdGguUmVjdC5lcXVhbHMgPSBmdW5jdGlvbihhLCBiKSB7XG4gIHJldHVybiBhID09IGIgPyAhMCA6IGEgJiYgYiA/IGEubGVmdCA9PSBiLmxlZnQgJiYgYS53aWR0aCA9PSBiLndpZHRoICYmIGEudG9wID09IGIudG9wICYmIGEuaGVpZ2h0ID09IGIuaGVpZ2h0IDogITE7XG59O1xuZ29vZy5tYXRoLlJlY3QucHJvdG90eXBlLmludGVyc2VjdGlvbiA9IGZ1bmN0aW9uKHJlY3QpIHtcbiAgdmFyIHgwID0gTWF0aC5tYXgodGhpcy5sZWZ0LCByZWN0LmxlZnQpLCB4MSA9IE1hdGgubWluKHRoaXMubGVmdCArIHRoaXMud2lkdGgsIHJlY3QubGVmdCArIHJlY3Qud2lkdGgpO1xuICBpZiAoeDAgPD0geDEpIHtcbiAgICB2YXIgeTAgPSBNYXRoLm1heCh0aGlzLnRvcCwgcmVjdC50b3ApLCB5MSA9IE1hdGgubWluKHRoaXMudG9wICsgdGhpcy5oZWlnaHQsIHJlY3QudG9wICsgcmVjdC5oZWlnaHQpO1xuICAgIGlmICh5MCA8PSB5MSkge1xuICAgICAgcmV0dXJuIHRoaXMubGVmdCA9IHgwLCB0aGlzLnRvcCA9IHkwLCB0aGlzLndpZHRoID0geDEgLSB4MCwgdGhpcy5oZWlnaHQgPSB5MSAtIHkwLCAhMDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICExO1xufTtcbmdvb2cubWF0aC5SZWN0LmludGVyc2VjdGlvbiA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgdmFyIHgwID0gTWF0aC5tYXgoYS5sZWZ0LCBiLmxlZnQpLCB4MSA9IE1hdGgubWluKGEubGVmdCArIGEud2lkdGgsIGIubGVmdCArIGIud2lkdGgpO1xuICBpZiAoeDAgPD0geDEpIHtcbiAgICB2YXIgeTAgPSBNYXRoLm1heChhLnRvcCwgYi50b3ApLCB5MSA9IE1hdGgubWluKGEudG9wICsgYS5oZWlnaHQsIGIudG9wICsgYi5oZWlnaHQpO1xuICAgIGlmICh5MCA8PSB5MSkge1xuICAgICAgcmV0dXJuIG5ldyBnb29nLm1hdGguUmVjdCh4MCwgeTAsIHgxIC0geDAsIHkxIC0geTApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5nb29nLm1hdGguUmVjdC5pbnRlcnNlY3RzID0gZnVuY3Rpb24oYSwgYikge1xuICByZXR1cm4gYS5sZWZ0IDw9IGIubGVmdCArIGIud2lkdGggJiYgYi5sZWZ0IDw9IGEubGVmdCArIGEud2lkdGggJiYgYS50b3AgPD0gYi50b3AgKyBiLmhlaWdodCAmJiBiLnRvcCA8PSBhLnRvcCArIGEuaGVpZ2h0O1xufTtcbmdvb2cubWF0aC5SZWN0LnByb3RvdHlwZS5pbnRlcnNlY3RzID0gZnVuY3Rpb24ocmVjdCkge1xuICByZXR1cm4gZ29vZy5tYXRoLlJlY3QuaW50ZXJzZWN0cyh0aGlzLCByZWN0KTtcbn07XG5nb29nLm1hdGguUmVjdC5kaWZmZXJlbmNlID0gZnVuY3Rpb24oYSwgYikge1xuICB2YXIgaW50ZXJzZWN0aW9uID0gZ29vZy5tYXRoLlJlY3QuaW50ZXJzZWN0aW9uKGEsIGIpO1xuICBpZiAoIWludGVyc2VjdGlvbiB8fCAhaW50ZXJzZWN0aW9uLmhlaWdodCB8fCAhaW50ZXJzZWN0aW9uLndpZHRoKSB7XG4gICAgcmV0dXJuIFthLmNsb25lKCldO1xuICB9XG4gIHZhciByZXN1bHQgPSBbXSwgdG9wID0gYS50b3AsIGhlaWdodCA9IGEuaGVpZ2h0LCBhciA9IGEubGVmdCArIGEud2lkdGgsIGFiID0gYS50b3AgKyBhLmhlaWdodCwgYnIgPSBiLmxlZnQgKyBiLndpZHRoLCBiYiA9IGIudG9wICsgYi5oZWlnaHQ7XG4gIGIudG9wID4gYS50b3AgJiYgKHJlc3VsdC5wdXNoKG5ldyBnb29nLm1hdGguUmVjdChhLmxlZnQsIGEudG9wLCBhLndpZHRoLCBiLnRvcCAtIGEudG9wKSksIHRvcCA9IGIudG9wLCBoZWlnaHQgLT0gYi50b3AgLSBhLnRvcCk7XG4gIGJiIDwgYWIgJiYgKHJlc3VsdC5wdXNoKG5ldyBnb29nLm1hdGguUmVjdChhLmxlZnQsIGJiLCBhLndpZHRoLCBhYiAtIGJiKSksIGhlaWdodCA9IGJiIC0gdG9wKTtcbiAgYi5sZWZ0ID4gYS5sZWZ0ICYmIHJlc3VsdC5wdXNoKG5ldyBnb29nLm1hdGguUmVjdChhLmxlZnQsIHRvcCwgYi5sZWZ0IC0gYS5sZWZ0LCBoZWlnaHQpKTtcbiAgYnIgPCBhciAmJiByZXN1bHQucHVzaChuZXcgZ29vZy5tYXRoLlJlY3QoYnIsIHRvcCwgYXIgLSBiciwgaGVpZ2h0KSk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuZ29vZy5tYXRoLlJlY3QucHJvdG90eXBlLmRpZmZlcmVuY2UgPSBmdW5jdGlvbihyZWN0KSB7XG4gIHJldHVybiBnb29nLm1hdGguUmVjdC5kaWZmZXJlbmNlKHRoaXMsIHJlY3QpO1xufTtcbmdvb2cubWF0aC5SZWN0LnByb3RvdHlwZS5ib3VuZGluZ1JlY3QgPSBmdW5jdGlvbihyZWN0KSB7XG4gIHZhciByaWdodCA9IE1hdGgubWF4KHRoaXMubGVmdCArIHRoaXMud2lkdGgsIHJlY3QubGVmdCArIHJlY3Qud2lkdGgpLCBib3R0b20gPSBNYXRoLm1heCh0aGlzLnRvcCArIHRoaXMuaGVpZ2h0LCByZWN0LnRvcCArIHJlY3QuaGVpZ2h0KTtcbiAgdGhpcy5sZWZ0ID0gTWF0aC5taW4odGhpcy5sZWZ0LCByZWN0LmxlZnQpO1xuICB0aGlzLnRvcCA9IE1hdGgubWluKHRoaXMudG9wLCByZWN0LnRvcCk7XG4gIHRoaXMud2lkdGggPSByaWdodCAtIHRoaXMubGVmdDtcbiAgdGhpcy5oZWlnaHQgPSBib3R0b20gLSB0aGlzLnRvcDtcbn07XG5nb29nLm1hdGguUmVjdC5ib3VuZGluZ1JlY3QgPSBmdW5jdGlvbihhLCBiKSB7XG4gIGlmICghYSB8fCAhYikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBuZXdSZWN0ID0gbmV3IGdvb2cubWF0aC5SZWN0KGEubGVmdCwgYS50b3AsIGEud2lkdGgsIGEuaGVpZ2h0KTtcbiAgbmV3UmVjdC5ib3VuZGluZ1JlY3QoYik7XG4gIHJldHVybiBuZXdSZWN0O1xufTtcbmdvb2cubWF0aC5SZWN0LnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uKGFub3RoZXIpIHtcbiAgcmV0dXJuIGFub3RoZXIgaW5zdGFuY2VvZiBnb29nLm1hdGguQ29vcmRpbmF0ZSA/IGFub3RoZXIueCA+PSB0aGlzLmxlZnQgJiYgYW5vdGhlci54IDw9IHRoaXMubGVmdCArIHRoaXMud2lkdGggJiYgYW5vdGhlci55ID49IHRoaXMudG9wICYmIGFub3RoZXIueSA8PSB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0IDogdGhpcy5sZWZ0IDw9IGFub3RoZXIubGVmdCAmJiB0aGlzLmxlZnQgKyB0aGlzLndpZHRoID49IGFub3RoZXIubGVmdCArIGFub3RoZXIud2lkdGggJiYgdGhpcy50b3AgPD0gYW5vdGhlci50b3AgJiYgdGhpcy50b3AgKyB0aGlzLmhlaWdodCA+PSBhbm90aGVyLnRvcCArIGFub3RoZXIuaGVpZ2h0O1xufTtcbmdvb2cubWF0aC5SZWN0LnByb3RvdHlwZS5zcXVhcmVkRGlzdGFuY2UgPSBmdW5jdGlvbihwb2ludCkge1xuICB2YXIgZHggPSBwb2ludC54IDwgdGhpcy5sZWZ0ID8gdGhpcy5sZWZ0IC0gcG9pbnQueCA6IE1hdGgubWF4KHBvaW50LnggLSAodGhpcy5sZWZ0ICsgdGhpcy53aWR0aCksIDApLCBkeSA9IHBvaW50LnkgPCB0aGlzLnRvcCA/IHRoaXMudG9wIC0gcG9pbnQueSA6IE1hdGgubWF4KHBvaW50LnkgLSAodGhpcy50b3AgKyB0aGlzLmhlaWdodCksIDApO1xuICByZXR1cm4gZHggKiBkeCArIGR5ICogZHk7XG59O1xuZ29vZy5tYXRoLlJlY3QucHJvdG90eXBlLmRpc3RhbmNlID0gZnVuY3Rpb24ocG9pbnQpIHtcbiAgcmV0dXJuIE1hdGguc3FydCh0aGlzLnNxdWFyZWREaXN0YW5jZShwb2ludCkpO1xufTtcbmdvb2cubWF0aC5SZWN0LnByb3RvdHlwZS5nZXRTaXplID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLlNpemUodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xufTtcbmdvb2cubWF0aC5SZWN0LnByb3RvdHlwZS5nZXRUb3BMZWZ0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLkNvb3JkaW5hdGUodGhpcy5sZWZ0LCB0aGlzLnRvcCk7XG59O1xuZ29vZy5tYXRoLlJlY3QucHJvdG90eXBlLmdldENlbnRlciA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKHRoaXMubGVmdCArIHRoaXMud2lkdGggLyAyLCB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0IC8gMik7XG59O1xuZ29vZy5tYXRoLlJlY3QucHJvdG90eXBlLmdldEJvdHRvbVJpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLkNvb3JkaW5hdGUodGhpcy5sZWZ0ICsgdGhpcy53aWR0aCwgdGhpcy50b3AgKyB0aGlzLmhlaWdodCk7XG59O1xuZ29vZy5tYXRoLlJlY3QucHJvdG90eXBlLmNlaWwgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5sZWZ0ID0gTWF0aC5jZWlsKHRoaXMubGVmdCk7XG4gIHRoaXMudG9wID0gTWF0aC5jZWlsKHRoaXMudG9wKTtcbiAgdGhpcy53aWR0aCA9IE1hdGguY2VpbCh0aGlzLndpZHRoKTtcbiAgdGhpcy5oZWlnaHQgPSBNYXRoLmNlaWwodGhpcy5oZWlnaHQpO1xuICByZXR1cm4gdGhpcztcbn07XG5nb29nLm1hdGguUmVjdC5wcm90b3R5cGUuZmxvb3IgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5sZWZ0ID0gTWF0aC5mbG9vcih0aGlzLmxlZnQpO1xuICB0aGlzLnRvcCA9IE1hdGguZmxvb3IodGhpcy50b3ApO1xuICB0aGlzLndpZHRoID0gTWF0aC5mbG9vcih0aGlzLndpZHRoKTtcbiAgdGhpcy5oZWlnaHQgPSBNYXRoLmZsb29yKHRoaXMuaGVpZ2h0KTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5tYXRoLlJlY3QucHJvdG90eXBlLnJvdW5kID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMubGVmdCA9IE1hdGgucm91bmQodGhpcy5sZWZ0KTtcbiAgdGhpcy50b3AgPSBNYXRoLnJvdW5kKHRoaXMudG9wKTtcbiAgdGhpcy53aWR0aCA9IE1hdGgucm91bmQodGhpcy53aWR0aCk7XG4gIHRoaXMuaGVpZ2h0ID0gTWF0aC5yb3VuZCh0aGlzLmhlaWdodCk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cubWF0aC5SZWN0LnByb3RvdHlwZS50cmFuc2xhdGUgPSBmdW5jdGlvbih0eCwgb3B0X3R5KSB7XG4gIHR4IGluc3RhbmNlb2YgZ29vZy5tYXRoLkNvb3JkaW5hdGUgPyAodGhpcy5sZWZ0ICs9IHR4LngsIHRoaXMudG9wICs9IHR4LnkpIDogKHRoaXMubGVmdCArPSBnb29nLmFzc2VydHMuYXNzZXJ0TnVtYmVyKHR4KSwgXCJudW1iZXJcIiA9PT0gdHlwZW9mIG9wdF90eSAmJiAodGhpcy50b3AgKz0gb3B0X3R5KSk7XG4gIHJldHVybiB0aGlzO1xufTtcbmdvb2cubWF0aC5SZWN0LnByb3RvdHlwZS5zY2FsZSA9IGZ1bmN0aW9uKHN4LCBvcHRfc3kpIHtcbiAgdmFyIHN5ID0gXCJudW1iZXJcIiA9PT0gdHlwZW9mIG9wdF9zeSA/IG9wdF9zeSA6IHN4O1xuICB0aGlzLmxlZnQgKj0gc3g7XG4gIHRoaXMud2lkdGggKj0gc3g7XG4gIHRoaXMudG9wICo9IHN5O1xuICB0aGlzLmhlaWdodCAqPSBzeTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZ29vZy5zdHlsZSA9IHt9O1xuZ29vZy5zdHlsZS5zZXRTdHlsZSA9IGZ1bmN0aW9uKGVsZW1lbnQsIHN0eWxlLCBvcHRfdmFsdWUpIHtcbiAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBzdHlsZSkge1xuICAgIGdvb2cuc3R5bGUuc2V0U3R5bGVfKGVsZW1lbnQsIG9wdF92YWx1ZSwgc3R5bGUpO1xuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGtleSBpbiBzdHlsZSkge1xuICAgICAgZ29vZy5zdHlsZS5zZXRTdHlsZV8oZWxlbWVudCwgc3R5bGVba2V5XSwga2V5KTtcbiAgICB9XG4gIH1cbn07XG5nb29nLnN0eWxlLnNldFN0eWxlXyA9IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlLCBzdHlsZSkge1xuICB2YXIgcHJvcGVydHlOYW1lID0gZ29vZy5zdHlsZS5nZXRWZW5kb3JKc1N0eWxlTmFtZV8oZWxlbWVudCwgc3R5bGUpO1xuICBwcm9wZXJ0eU5hbWUgJiYgKGVsZW1lbnQuc3R5bGVbcHJvcGVydHlOYW1lXSA9IHZhbHVlKTtcbn07XG5nb29nLnN0eWxlLnN0eWxlTmFtZUNhY2hlXyA9IHt9O1xuZ29vZy5zdHlsZS5nZXRWZW5kb3JKc1N0eWxlTmFtZV8gPSBmdW5jdGlvbihlbGVtZW50LCBzdHlsZSkge1xuICB2YXIgcHJvcGVydHlOYW1lID0gZ29vZy5zdHlsZS5zdHlsZU5hbWVDYWNoZV9bc3R5bGVdO1xuICBpZiAoIXByb3BlcnR5TmFtZSkge1xuICAgIHZhciBjYW1lbFN0eWxlID0gZ29vZy5zdHJpbmcudG9DYW1lbENhc2Uoc3R5bGUpO1xuICAgIHByb3BlcnR5TmFtZSA9IGNhbWVsU3R5bGU7XG4gICAgaWYgKHZvaWQgMCA9PT0gZWxlbWVudC5zdHlsZVtjYW1lbFN0eWxlXSkge1xuICAgICAgdmFyIHByZWZpeGVkU3R5bGUgPSBnb29nLmRvbS52ZW5kb3IuZ2V0VmVuZG9ySnNQcmVmaXgoKSArIGdvb2cuc3RyaW5nLnRvVGl0bGVDYXNlKGNhbWVsU3R5bGUpO1xuICAgICAgdm9pZCAwICE9PSBlbGVtZW50LnN0eWxlW3ByZWZpeGVkU3R5bGVdICYmIChwcm9wZXJ0eU5hbWUgPSBwcmVmaXhlZFN0eWxlKTtcbiAgICB9XG4gICAgZ29vZy5zdHlsZS5zdHlsZU5hbWVDYWNoZV9bc3R5bGVdID0gcHJvcGVydHlOYW1lO1xuICB9XG4gIHJldHVybiBwcm9wZXJ0eU5hbWU7XG59O1xuZ29vZy5zdHlsZS5nZXRWZW5kb3JTdHlsZU5hbWVfID0gZnVuY3Rpb24oZWxlbWVudCwgc3R5bGUpIHtcbiAgdmFyIGNhbWVsU3R5bGUgPSBnb29nLnN0cmluZy50b0NhbWVsQ2FzZShzdHlsZSk7XG4gIGlmICh2b2lkIDAgPT09IGVsZW1lbnQuc3R5bGVbY2FtZWxTdHlsZV0pIHtcbiAgICB2YXIgcHJlZml4ZWRTdHlsZSA9IGdvb2cuZG9tLnZlbmRvci5nZXRWZW5kb3JKc1ByZWZpeCgpICsgZ29vZy5zdHJpbmcudG9UaXRsZUNhc2UoY2FtZWxTdHlsZSk7XG4gICAgaWYgKHZvaWQgMCAhPT0gZWxlbWVudC5zdHlsZVtwcmVmaXhlZFN0eWxlXSkge1xuICAgICAgcmV0dXJuIGdvb2cuZG9tLnZlbmRvci5nZXRWZW5kb3JQcmVmaXgoKSArIFwiLVwiICsgc3R5bGU7XG4gICAgfVxuICB9XG4gIHJldHVybiBzdHlsZTtcbn07XG5nb29nLnN0eWxlLmdldFN0eWxlID0gZnVuY3Rpb24oZWxlbWVudCwgcHJvcGVydHkpIHtcbiAgdmFyIHN0eWxlVmFsdWUgPSBlbGVtZW50LnN0eWxlW2dvb2cuc3RyaW5nLnRvQ2FtZWxDYXNlKHByb3BlcnR5KV07XG4gIHJldHVybiBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2Ygc3R5bGVWYWx1ZSA/IHN0eWxlVmFsdWUgOiBlbGVtZW50LnN0eWxlW2dvb2cuc3R5bGUuZ2V0VmVuZG9ySnNTdHlsZU5hbWVfKGVsZW1lbnQsIHByb3BlcnR5KV0gfHwgXCJcIjtcbn07XG5nb29nLnN0eWxlLmdldENvbXB1dGVkU3R5bGUgPSBmdW5jdGlvbihlbGVtZW50LCBwcm9wZXJ0eSkge1xuICB2YXIgZG9jID0gZ29vZy5kb20uZ2V0T3duZXJEb2N1bWVudChlbGVtZW50KTtcbiAgaWYgKGRvYy5kZWZhdWx0VmlldyAmJiBkb2MuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSkge1xuICAgIHZhciBzdHlsZXMgPSBkb2MuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBudWxsKTtcbiAgICBpZiAoc3R5bGVzKSB7XG4gICAgICByZXR1cm4gc3R5bGVzW3Byb3BlcnR5XSB8fCBzdHlsZXMuZ2V0UHJvcGVydHlWYWx1ZShwcm9wZXJ0eSkgfHwgXCJcIjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59O1xuZ29vZy5zdHlsZS5nZXRDYXNjYWRlZFN0eWxlID0gZnVuY3Rpb24oZWxlbWVudCwgc3R5bGUpIHtcbiAgcmV0dXJuIGVsZW1lbnQuY3VycmVudFN0eWxlID8gZWxlbWVudC5jdXJyZW50U3R5bGVbc3R5bGVdIDogbnVsbDtcbn07XG5nb29nLnN0eWxlLmdldFN0eWxlXyA9IGZ1bmN0aW9uKGVsZW1lbnQsIHN0eWxlKSB7XG4gIHJldHVybiBnb29nLnN0eWxlLmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgc3R5bGUpIHx8IGdvb2cuc3R5bGUuZ2V0Q2FzY2FkZWRTdHlsZShlbGVtZW50LCBzdHlsZSkgfHwgZWxlbWVudC5zdHlsZSAmJiBlbGVtZW50LnN0eWxlW3N0eWxlXTtcbn07XG5nb29nLnN0eWxlLmdldENvbXB1dGVkQm94U2l6aW5nID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gZ29vZy5zdHlsZS5nZXRTdHlsZV8oZWxlbWVudCwgXCJib3hTaXppbmdcIikgfHwgZ29vZy5zdHlsZS5nZXRTdHlsZV8oZWxlbWVudCwgXCJNb3pCb3hTaXppbmdcIikgfHwgZ29vZy5zdHlsZS5nZXRTdHlsZV8oZWxlbWVudCwgXCJXZWJraXRCb3hTaXppbmdcIikgfHwgbnVsbDtcbn07XG5nb29nLnN0eWxlLmdldENvbXB1dGVkUG9zaXRpb24gPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiBnb29nLnN0eWxlLmdldFN0eWxlXyhlbGVtZW50LCBcInBvc2l0aW9uXCIpO1xufTtcbmdvb2cuc3R5bGUuZ2V0QmFja2dyb3VuZENvbG9yID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gZ29vZy5zdHlsZS5nZXRTdHlsZV8oZWxlbWVudCwgXCJiYWNrZ3JvdW5kQ29sb3JcIik7XG59O1xuZ29vZy5zdHlsZS5nZXRDb21wdXRlZE92ZXJmbG93WCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGdvb2cuc3R5bGUuZ2V0U3R5bGVfKGVsZW1lbnQsIFwib3ZlcmZsb3dYXCIpO1xufTtcbmdvb2cuc3R5bGUuZ2V0Q29tcHV0ZWRPdmVyZmxvd1kgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiBnb29nLnN0eWxlLmdldFN0eWxlXyhlbGVtZW50LCBcIm92ZXJmbG93WVwiKTtcbn07XG5nb29nLnN0eWxlLmdldENvbXB1dGVkWkluZGV4ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gZ29vZy5zdHlsZS5nZXRTdHlsZV8oZWxlbWVudCwgXCJ6SW5kZXhcIik7XG59O1xuZ29vZy5zdHlsZS5nZXRDb21wdXRlZFRleHRBbGlnbiA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGdvb2cuc3R5bGUuZ2V0U3R5bGVfKGVsZW1lbnQsIFwidGV4dEFsaWduXCIpO1xufTtcbmdvb2cuc3R5bGUuZ2V0Q29tcHV0ZWRDdXJzb3IgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHJldHVybiBnb29nLnN0eWxlLmdldFN0eWxlXyhlbGVtZW50LCBcImN1cnNvclwiKTtcbn07XG5nb29nLnN0eWxlLmdldENvbXB1dGVkVHJhbnNmb3JtID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICB2YXIgcHJvcGVydHkgPSBnb29nLnN0eWxlLmdldFZlbmRvclN0eWxlTmFtZV8oZWxlbWVudCwgXCJ0cmFuc2Zvcm1cIik7XG4gIHJldHVybiBnb29nLnN0eWxlLmdldFN0eWxlXyhlbGVtZW50LCBwcm9wZXJ0eSkgfHwgZ29vZy5zdHlsZS5nZXRTdHlsZV8oZWxlbWVudCwgXCJ0cmFuc2Zvcm1cIik7XG59O1xuZ29vZy5zdHlsZS5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uKGVsLCBhcmcxLCBvcHRfYXJnMikge1xuICBpZiAoYXJnMSBpbnN0YW5jZW9mIGdvb2cubWF0aC5Db29yZGluYXRlKSB7XG4gICAgdmFyIHggPSBhcmcxLng7XG4gICAgdmFyIHkgPSBhcmcxLnk7XG4gIH0gZWxzZSB7XG4gICAgeCA9IGFyZzEsIHkgPSBvcHRfYXJnMjtcbiAgfVxuICBlbC5zdHlsZS5sZWZ0ID0gZ29vZy5zdHlsZS5nZXRQaXhlbFN0eWxlVmFsdWVfKHgsICExKTtcbiAgZWwuc3R5bGUudG9wID0gZ29vZy5zdHlsZS5nZXRQaXhlbFN0eWxlVmFsdWVfKHksICExKTtcbn07XG5nb29nLnN0eWxlLmdldFBvc2l0aW9uID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKGVsZW1lbnQub2Zmc2V0TGVmdCwgZWxlbWVudC5vZmZzZXRUb3ApO1xufTtcbmdvb2cuc3R5bGUuZ2V0Q2xpZW50Vmlld3BvcnRFbGVtZW50ID0gZnVuY3Rpb24ob3B0X25vZGUpIHtcbiAgdmFyIGRvYyA9IG9wdF9ub2RlID8gZ29vZy5kb20uZ2V0T3duZXJEb2N1bWVudChvcHRfbm9kZSkgOiBnb29nLmRvbS5nZXREb2N1bWVudCgpO1xuICByZXR1cm4gIWdvb2cudXNlckFnZW50LklFIHx8IGdvb2cudXNlckFnZW50LmlzRG9jdW1lbnRNb2RlT3JIaWdoZXIoOSkgfHwgZ29vZy5kb20uZ2V0RG9tSGVscGVyKGRvYykuaXNDc3MxQ29tcGF0TW9kZSgpID8gZG9jLmRvY3VtZW50RWxlbWVudCA6IGRvYy5ib2R5O1xufTtcbmdvb2cuc3R5bGUuZ2V0Vmlld3BvcnRQYWdlT2Zmc2V0ID0gZnVuY3Rpb24oZG9jKSB7XG4gIHZhciBib2R5ID0gZG9jLmJvZHksIGRvY3VtZW50RWxlbWVudCA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLkNvb3JkaW5hdGUoYm9keS5zY3JvbGxMZWZ0IHx8IGRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0LCBib2R5LnNjcm9sbFRvcCB8fCBkb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKTtcbn07XG5nb29nLnN0eWxlLmdldEJvdW5kaW5nQ2xpZW50UmVjdF8gPSBmdW5jdGlvbihlbCkge1xuICB0cnkge1xuICAgIHJldHVybiBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB7bGVmdDowLCB0b3A6MCwgcmlnaHQ6MCwgYm90dG9tOjB9O1xuICB9XG59O1xuZ29vZy5zdHlsZS5nZXRPZmZzZXRQYXJlbnQgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIGlmIChnb29nLnVzZXJBZ2VudC5JRSAmJiAhZ29vZy51c2VyQWdlbnQuaXNEb2N1bWVudE1vZGVPckhpZ2hlcig4KSkge1xuICAgIHJldHVybiBnb29nLmFzc2VydHMuYXNzZXJ0KGVsZW1lbnQgJiYgXCJvZmZzZXRQYXJlbnRcIiBpbiBlbGVtZW50KSwgZWxlbWVudC5vZmZzZXRQYXJlbnQ7XG4gIH1cbiAgZm9yICh2YXIgZG9jID0gZ29vZy5kb20uZ2V0T3duZXJEb2N1bWVudChlbGVtZW50KSwgcG9zaXRpb25TdHlsZSA9IGdvb2cuc3R5bGUuZ2V0U3R5bGVfKGVsZW1lbnQsIFwicG9zaXRpb25cIiksIHNraXBTdGF0aWMgPSBcImZpeGVkXCIgPT0gcG9zaXRpb25TdHlsZSB8fCBcImFic29sdXRlXCIgPT0gcG9zaXRpb25TdHlsZSwgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlOyBwYXJlbnQgJiYgcGFyZW50ICE9IGRvYzsgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGUpIHtcbiAgICBpZiAocGFyZW50Lm5vZGVUeXBlID09IGdvb2cuZG9tLk5vZGVUeXBlLkRPQ1VNRU5UX0ZSQUdNRU5UICYmIHBhcmVudC5ob3N0ICYmIChwYXJlbnQgPSBwYXJlbnQuaG9zdCksIHBvc2l0aW9uU3R5bGUgPSBnb29nLnN0eWxlLmdldFN0eWxlXyhwYXJlbnQsIFwicG9zaXRpb25cIiksIHNraXBTdGF0aWMgPSBza2lwU3RhdGljICYmIFwic3RhdGljXCIgPT0gcG9zaXRpb25TdHlsZSAmJiBwYXJlbnQgIT0gZG9jLmRvY3VtZW50RWxlbWVudCAmJiBwYXJlbnQgIT0gZG9jLmJvZHksICFza2lwU3RhdGljICYmIChwYXJlbnQuc2Nyb2xsV2lkdGggPiBwYXJlbnQuY2xpZW50V2lkdGggfHwgcGFyZW50LnNjcm9sbEhlaWdodCA+IHBhcmVudC5jbGllbnRIZWlnaHQgfHwgXCJmaXhlZFwiID09IHBvc2l0aW9uU3R5bGUgfHwgXCJhYnNvbHV0ZVwiID09IHBvc2l0aW9uU3R5bGUgfHwgXCJyZWxhdGl2ZVwiID09IHBvc2l0aW9uU3R5bGUpKSB7XG4gICAgICByZXR1cm4gcGFyZW50O1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5nb29nLnN0eWxlLmdldFZpc2libGVSZWN0Rm9yRWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgZm9yICh2YXIgdmlzaWJsZVJlY3QgPSBuZXcgZ29vZy5tYXRoLkJveCgwLCBJbmZpbml0eSwgSW5maW5pdHksIDApLCBkb20gPSBnb29nLmRvbS5nZXREb21IZWxwZXIoZWxlbWVudCksIGJvZHkgPSBkb20uZ2V0RG9jdW1lbnQoKS5ib2R5LCBkb2N1bWVudEVsZW1lbnQgPSBkb20uZ2V0RG9jdW1lbnQoKS5kb2N1bWVudEVsZW1lbnQsIHNjcm9sbEVsID0gZG9tLmdldERvY3VtZW50U2Nyb2xsRWxlbWVudCgpLCBlbCA9IGVsZW1lbnQ7IGVsID0gZ29vZy5zdHlsZS5nZXRPZmZzZXRQYXJlbnQoZWwpOykge1xuICAgIGlmICghKGdvb2cudXNlckFnZW50LklFICYmIDAgPT0gZWwuY2xpZW50V2lkdGggfHwgZ29vZy51c2VyQWdlbnQuV0VCS0lUICYmIDAgPT0gZWwuY2xpZW50SGVpZ2h0ICYmIGVsID09IGJvZHkpICYmIGVsICE9IGJvZHkgJiYgZWwgIT0gZG9jdW1lbnRFbGVtZW50ICYmIFwidmlzaWJsZVwiICE9IGdvb2cuc3R5bGUuZ2V0U3R5bGVfKGVsLCBcIm92ZXJmbG93XCIpKSB7XG4gICAgICB2YXIgcG9zID0gZ29vZy5zdHlsZS5nZXRQYWdlT2Zmc2V0KGVsKSwgY2xpZW50ID0gZ29vZy5zdHlsZS5nZXRDbGllbnRMZWZ0VG9wKGVsKTtcbiAgICAgIHBvcy54ICs9IGNsaWVudC54O1xuICAgICAgcG9zLnkgKz0gY2xpZW50Lnk7XG4gICAgICB2aXNpYmxlUmVjdC50b3AgPSBNYXRoLm1heCh2aXNpYmxlUmVjdC50b3AsIHBvcy55KTtcbiAgICAgIHZpc2libGVSZWN0LnJpZ2h0ID0gTWF0aC5taW4odmlzaWJsZVJlY3QucmlnaHQsIHBvcy54ICsgZWwuY2xpZW50V2lkdGgpO1xuICAgICAgdmlzaWJsZVJlY3QuYm90dG9tID0gTWF0aC5taW4odmlzaWJsZVJlY3QuYm90dG9tLCBwb3MueSArIGVsLmNsaWVudEhlaWdodCk7XG4gICAgICB2aXNpYmxlUmVjdC5sZWZ0ID0gTWF0aC5tYXgodmlzaWJsZVJlY3QubGVmdCwgcG9zLngpO1xuICAgIH1cbiAgfVxuICB2YXIgc2Nyb2xsWCA9IHNjcm9sbEVsLnNjcm9sbExlZnQsIHNjcm9sbFkgPSBzY3JvbGxFbC5zY3JvbGxUb3A7XG4gIHZpc2libGVSZWN0LmxlZnQgPSBNYXRoLm1heCh2aXNpYmxlUmVjdC5sZWZ0LCBzY3JvbGxYKTtcbiAgdmlzaWJsZVJlY3QudG9wID0gTWF0aC5tYXgodmlzaWJsZVJlY3QudG9wLCBzY3JvbGxZKTtcbiAgdmFyIHdpblNpemUgPSBkb20uZ2V0Vmlld3BvcnRTaXplKCk7XG4gIHZpc2libGVSZWN0LnJpZ2h0ID0gTWF0aC5taW4odmlzaWJsZVJlY3QucmlnaHQsIHNjcm9sbFggKyB3aW5TaXplLndpZHRoKTtcbiAgdmlzaWJsZVJlY3QuYm90dG9tID0gTWF0aC5taW4odmlzaWJsZVJlY3QuYm90dG9tLCBzY3JvbGxZICsgd2luU2l6ZS5oZWlnaHQpO1xuICByZXR1cm4gMCA8PSB2aXNpYmxlUmVjdC50b3AgJiYgMCA8PSB2aXNpYmxlUmVjdC5sZWZ0ICYmIHZpc2libGVSZWN0LmJvdHRvbSA+IHZpc2libGVSZWN0LnRvcCAmJiB2aXNpYmxlUmVjdC5yaWdodCA+IHZpc2libGVSZWN0LmxlZnQgPyB2aXNpYmxlUmVjdCA6IG51bGw7XG59O1xuZ29vZy5zdHlsZS5nZXRDb250YWluZXJPZmZzZXRUb1Njcm9sbEludG8gPSBmdW5jdGlvbihlbGVtZW50LCBvcHRfY29udGFpbmVyLCBvcHRfY2VudGVyKSB7XG4gIHZhciBjb250YWluZXIgPSBvcHRfY29udGFpbmVyIHx8IGdvb2cuZG9tLmdldERvY3VtZW50U2Nyb2xsRWxlbWVudCgpLCBlbGVtZW50UG9zID0gZ29vZy5zdHlsZS5nZXRQYWdlT2Zmc2V0KGVsZW1lbnQpLCBjb250YWluZXJQb3MgPSBnb29nLnN0eWxlLmdldFBhZ2VPZmZzZXQoY29udGFpbmVyKSwgY29udGFpbmVyQm9yZGVyID0gZ29vZy5zdHlsZS5nZXRCb3JkZXJCb3goY29udGFpbmVyKTtcbiAgaWYgKGNvbnRhaW5lciA9PSBnb29nLmRvbS5nZXREb2N1bWVudFNjcm9sbEVsZW1lbnQoKSkge1xuICAgIHZhciByZWxYID0gZWxlbWVudFBvcy54IC0gY29udGFpbmVyLnNjcm9sbExlZnQsIHJlbFkgPSBlbGVtZW50UG9zLnkgLSBjb250YWluZXIuc2Nyb2xsVG9wO1xuICAgIGdvb2cudXNlckFnZW50LklFICYmICFnb29nLnVzZXJBZ2VudC5pc0RvY3VtZW50TW9kZU9ySGlnaGVyKDEwKSAmJiAocmVsWCArPSBjb250YWluZXJCb3JkZXIubGVmdCwgcmVsWSArPSBjb250YWluZXJCb3JkZXIudG9wKTtcbiAgfSBlbHNlIHtcbiAgICByZWxYID0gZWxlbWVudFBvcy54IC0gY29udGFpbmVyUG9zLnggLSBjb250YWluZXJCb3JkZXIubGVmdCwgcmVsWSA9IGVsZW1lbnRQb3MueSAtIGNvbnRhaW5lclBvcy55IC0gY29udGFpbmVyQm9yZGVyLnRvcDtcbiAgfVxuICB2YXIgZWxlbWVudFNpemUgPSBnb29nLnN0eWxlLmdldFNpemVXaXRoRGlzcGxheV8oZWxlbWVudCksIHNwYWNlWCA9IGNvbnRhaW5lci5jbGllbnRXaWR0aCAtIGVsZW1lbnRTaXplLndpZHRoLCBzcGFjZVkgPSBjb250YWluZXIuY2xpZW50SGVpZ2h0IC0gZWxlbWVudFNpemUuaGVpZ2h0LCBzY3JvbGxMZWZ0ID0gY29udGFpbmVyLnNjcm9sbExlZnQsIHNjcm9sbFRvcCA9IGNvbnRhaW5lci5zY3JvbGxUb3A7XG4gIG9wdF9jZW50ZXIgPyAoc2Nyb2xsTGVmdCArPSByZWxYIC0gc3BhY2VYIC8gMiwgc2Nyb2xsVG9wICs9IHJlbFkgLSBzcGFjZVkgLyAyKSA6IChzY3JvbGxMZWZ0ICs9IE1hdGgubWluKHJlbFgsIE1hdGgubWF4KHJlbFggLSBzcGFjZVgsIDApKSwgc2Nyb2xsVG9wICs9IE1hdGgubWluKHJlbFksIE1hdGgubWF4KHJlbFkgLSBzcGFjZVksIDApKSk7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLkNvb3JkaW5hdGUoc2Nyb2xsTGVmdCwgc2Nyb2xsVG9wKTtcbn07XG5nb29nLnN0eWxlLnNjcm9sbEludG9Db250YWluZXJWaWV3ID0gZnVuY3Rpb24oZWxlbWVudCwgb3B0X2NvbnRhaW5lciwgb3B0X2NlbnRlcikge1xuICB2YXIgY29udGFpbmVyID0gb3B0X2NvbnRhaW5lciB8fCBnb29nLmRvbS5nZXREb2N1bWVudFNjcm9sbEVsZW1lbnQoKSwgb2Zmc2V0ID0gZ29vZy5zdHlsZS5nZXRDb250YWluZXJPZmZzZXRUb1Njcm9sbEludG8oZWxlbWVudCwgY29udGFpbmVyLCBvcHRfY2VudGVyKTtcbiAgY29udGFpbmVyLnNjcm9sbExlZnQgPSBvZmZzZXQueDtcbiAgY29udGFpbmVyLnNjcm9sbFRvcCA9IG9mZnNldC55O1xufTtcbmdvb2cuc3R5bGUuZ2V0Q2xpZW50TGVmdFRvcCA9IGZ1bmN0aW9uKGVsKSB7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLkNvb3JkaW5hdGUoZWwuY2xpZW50TGVmdCwgZWwuY2xpZW50VG9wKTtcbn07XG5nb29nLnN0eWxlLmdldFBhZ2VPZmZzZXQgPSBmdW5jdGlvbihlbCkge1xuICB2YXIgZG9jID0gZ29vZy5kb20uZ2V0T3duZXJEb2N1bWVudChlbCk7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnRPYmplY3QoZWwsIFwiUGFyYW1ldGVyIGlzIHJlcXVpcmVkXCIpO1xuICB2YXIgcG9zID0gbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKDAsIDApLCB2aWV3cG9ydEVsZW1lbnQgPSBnb29nLnN0eWxlLmdldENsaWVudFZpZXdwb3J0RWxlbWVudChkb2MpO1xuICBpZiAoZWwgPT0gdmlld3BvcnRFbGVtZW50KSB7XG4gICAgcmV0dXJuIHBvcztcbiAgfVxuICB2YXIgYm94ID0gZ29vZy5zdHlsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3RfKGVsKSwgc2Nyb2xsQ29vcmQgPSBnb29nLmRvbS5nZXREb21IZWxwZXIoZG9jKS5nZXREb2N1bWVudFNjcm9sbCgpO1xuICBwb3MueCA9IGJveC5sZWZ0ICsgc2Nyb2xsQ29vcmQueDtcbiAgcG9zLnkgPSBib3gudG9wICsgc2Nyb2xsQ29vcmQueTtcbiAgcmV0dXJuIHBvcztcbn07XG5nb29nLnN0eWxlLmdldFBhZ2VPZmZzZXRMZWZ0ID0gZnVuY3Rpb24oZWwpIHtcbiAgcmV0dXJuIGdvb2cuc3R5bGUuZ2V0UGFnZU9mZnNldChlbCkueDtcbn07XG5nb29nLnN0eWxlLmdldFBhZ2VPZmZzZXRUb3AgPSBmdW5jdGlvbihlbCkge1xuICByZXR1cm4gZ29vZy5zdHlsZS5nZXRQYWdlT2Zmc2V0KGVsKS55O1xufTtcbmdvb2cuc3R5bGUuZ2V0RnJhbWVkUGFnZU9mZnNldCA9IGZ1bmN0aW9uKGVsLCByZWxhdGl2ZVdpbikge1xuICB2YXIgcG9zaXRpb24gPSBuZXcgZ29vZy5tYXRoLkNvb3JkaW5hdGUoMCwgMCksIGN1cnJlbnRXaW4gPSBnb29nLmRvbS5nZXRXaW5kb3coZ29vZy5kb20uZ2V0T3duZXJEb2N1bWVudChlbCkpO1xuICBpZiAoIWdvb2cucmVmbGVjdC5jYW5BY2Nlc3NQcm9wZXJ0eShjdXJyZW50V2luLCBcInBhcmVudFwiKSkge1xuICAgIHJldHVybiBwb3NpdGlvbjtcbiAgfVxuICB2YXIgY3VycmVudEVsID0gZWw7XG4gIGRvIHtcbiAgICB2YXIgb2Zmc2V0ID0gY3VycmVudFdpbiA9PSByZWxhdGl2ZVdpbiA/IGdvb2cuc3R5bGUuZ2V0UGFnZU9mZnNldChjdXJyZW50RWwpIDogZ29vZy5zdHlsZS5nZXRDbGllbnRQb3NpdGlvbkZvckVsZW1lbnRfKGdvb2cuYXNzZXJ0cy5hc3NlcnQoY3VycmVudEVsKSk7XG4gICAgcG9zaXRpb24ueCArPSBvZmZzZXQueDtcbiAgICBwb3NpdGlvbi55ICs9IG9mZnNldC55O1xuICB9IHdoaWxlIChjdXJyZW50V2luICYmIGN1cnJlbnRXaW4gIT0gcmVsYXRpdmVXaW4gJiYgY3VycmVudFdpbiAhPSBjdXJyZW50V2luLnBhcmVudCAmJiAoY3VycmVudEVsID0gY3VycmVudFdpbi5mcmFtZUVsZW1lbnQpICYmIChjdXJyZW50V2luID0gY3VycmVudFdpbi5wYXJlbnQpKTtcbiAgcmV0dXJuIHBvc2l0aW9uO1xufTtcbmdvb2cuc3R5bGUudHJhbnNsYXRlUmVjdEZvckFub3RoZXJGcmFtZSA9IGZ1bmN0aW9uKHJlY3QsIG9yaWdCYXNlLCBuZXdCYXNlKSB7XG4gIGlmIChvcmlnQmFzZS5nZXREb2N1bWVudCgpICE9IG5ld0Jhc2UuZ2V0RG9jdW1lbnQoKSkge1xuICAgIHZhciBib2R5ID0gb3JpZ0Jhc2UuZ2V0RG9jdW1lbnQoKS5ib2R5LCBwb3MgPSBnb29nLnN0eWxlLmdldEZyYW1lZFBhZ2VPZmZzZXQoYm9keSwgbmV3QmFzZS5nZXRXaW5kb3coKSk7XG4gICAgcG9zID0gZ29vZy5tYXRoLkNvb3JkaW5hdGUuZGlmZmVyZW5jZShwb3MsIGdvb2cuc3R5bGUuZ2V0UGFnZU9mZnNldChib2R5KSk7XG4gICAgIWdvb2cudXNlckFnZW50LklFIHx8IGdvb2cudXNlckFnZW50LmlzRG9jdW1lbnRNb2RlT3JIaWdoZXIoOSkgfHwgb3JpZ0Jhc2UuaXNDc3MxQ29tcGF0TW9kZSgpIHx8IChwb3MgPSBnb29nLm1hdGguQ29vcmRpbmF0ZS5kaWZmZXJlbmNlKHBvcywgb3JpZ0Jhc2UuZ2V0RG9jdW1lbnRTY3JvbGwoKSkpO1xuICAgIHJlY3QubGVmdCArPSBwb3MueDtcbiAgICByZWN0LnRvcCArPSBwb3MueTtcbiAgfVxufTtcbmdvb2cuc3R5bGUuZ2V0UmVsYXRpdmVQb3NpdGlvbiA9IGZ1bmN0aW9uKGEsIGIpIHtcbiAgdmFyIGFwID0gZ29vZy5zdHlsZS5nZXRDbGllbnRQb3NpdGlvbihhKSwgYnAgPSBnb29nLnN0eWxlLmdldENsaWVudFBvc2l0aW9uKGIpO1xuICByZXR1cm4gbmV3IGdvb2cubWF0aC5Db29yZGluYXRlKGFwLnggLSBicC54LCBhcC55IC0gYnAueSk7XG59O1xuZ29vZy5zdHlsZS5nZXRDbGllbnRQb3NpdGlvbkZvckVsZW1lbnRfID0gZnVuY3Rpb24oZWwpIHtcbiAgdmFyIGJveCA9IGdvb2cuc3R5bGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0XyhlbCk7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLkNvb3JkaW5hdGUoYm94LmxlZnQsIGJveC50b3ApO1xufTtcbmdvb2cuc3R5bGUuZ2V0Q2xpZW50UG9zaXRpb24gPSBmdW5jdGlvbihlbCkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KGVsKTtcbiAgaWYgKGVsLm5vZGVUeXBlID09IGdvb2cuZG9tLk5vZGVUeXBlLkVMRU1FTlQpIHtcbiAgICByZXR1cm4gZ29vZy5zdHlsZS5nZXRDbGllbnRQb3NpdGlvbkZvckVsZW1lbnRfKGVsKTtcbiAgfVxuICB2YXIgdGFyZ2V0RXZlbnQgPSBlbC5jaGFuZ2VkVG91Y2hlcyA/IGVsLmNoYW5nZWRUb3VjaGVzWzBdIDogZWw7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLkNvb3JkaW5hdGUodGFyZ2V0RXZlbnQuY2xpZW50WCwgdGFyZ2V0RXZlbnQuY2xpZW50WSk7XG59O1xuZ29vZy5zdHlsZS5zZXRQYWdlT2Zmc2V0ID0gZnVuY3Rpb24oZWwsIHgsIG9wdF95KSB7XG4gIHZhciBjdXIgPSBnb29nLnN0eWxlLmdldFBhZ2VPZmZzZXQoZWwpO1xuICB4IGluc3RhbmNlb2YgZ29vZy5tYXRoLkNvb3JkaW5hdGUgJiYgKG9wdF95ID0geC55LCB4ID0geC54KTtcbiAgdmFyIGR4ID0gZ29vZy5hc3NlcnRzLmFzc2VydE51bWJlcih4KSAtIGN1ci54O1xuICBnb29nLnN0eWxlLnNldFBvc2l0aW9uKGVsLCBlbC5vZmZzZXRMZWZ0ICsgZHgsIGVsLm9mZnNldFRvcCArIChOdW1iZXIob3B0X3kpIC0gY3VyLnkpKTtcbn07XG5nb29nLnN0eWxlLnNldFNpemUgPSBmdW5jdGlvbihlbGVtZW50LCB3LCBvcHRfaCkge1xuICBpZiAodyBpbnN0YW5jZW9mIGdvb2cubWF0aC5TaXplKSB7XG4gICAgdmFyIGggPSB3LmhlaWdodDtcbiAgICB3ID0gdy53aWR0aDtcbiAgfSBlbHNlIHtcbiAgICBpZiAodm9pZCAwID09IG9wdF9oKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIm1pc3NpbmcgaGVpZ2h0IGFyZ3VtZW50XCIpO1xuICAgIH1cbiAgICBoID0gb3B0X2g7XG4gIH1cbiAgZ29vZy5zdHlsZS5zZXRXaWR0aChlbGVtZW50LCB3KTtcbiAgZ29vZy5zdHlsZS5zZXRIZWlnaHQoZWxlbWVudCwgaCk7XG59O1xuZ29vZy5zdHlsZS5nZXRQaXhlbFN0eWxlVmFsdWVfID0gZnVuY3Rpb24odmFsdWUsIHJvdW5kKSB7XG4gIFwibnVtYmVyXCIgPT0gdHlwZW9mIHZhbHVlICYmICh2YWx1ZSA9IChyb3VuZCA/IE1hdGgucm91bmQodmFsdWUpIDogdmFsdWUpICsgXCJweFwiKTtcbiAgcmV0dXJuIHZhbHVlO1xufTtcbmdvb2cuc3R5bGUuc2V0SGVpZ2h0ID0gZnVuY3Rpb24oZWxlbWVudCwgaGVpZ2h0KSB7XG4gIGVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gZ29vZy5zdHlsZS5nZXRQaXhlbFN0eWxlVmFsdWVfKGhlaWdodCwgITApO1xufTtcbmdvb2cuc3R5bGUuc2V0V2lkdGggPSBmdW5jdGlvbihlbGVtZW50LCB3aWR0aCkge1xuICBlbGVtZW50LnN0eWxlLndpZHRoID0gZ29vZy5zdHlsZS5nZXRQaXhlbFN0eWxlVmFsdWVfKHdpZHRoLCAhMCk7XG59O1xuZ29vZy5zdHlsZS5nZXRTaXplID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gZ29vZy5zdHlsZS5ldmFsdWF0ZVdpdGhUZW1wb3JhcnlEaXNwbGF5Xyhnb29nLnN0eWxlLmdldFNpemVXaXRoRGlzcGxheV8sIGVsZW1lbnQpO1xufTtcbmdvb2cuc3R5bGUuZXZhbHVhdGVXaXRoVGVtcG9yYXJ5RGlzcGxheV8gPSBmdW5jdGlvbihmbiwgZWxlbWVudCkge1xuICBpZiAoXCJub25lXCIgIT0gZ29vZy5zdHlsZS5nZXRTdHlsZV8oZWxlbWVudCwgXCJkaXNwbGF5XCIpKSB7XG4gICAgcmV0dXJuIGZuKGVsZW1lbnQpO1xuICB9XG4gIHZhciBzdHlsZSA9IGVsZW1lbnQuc3R5bGUsIG9yaWdpbmFsRGlzcGxheSA9IHN0eWxlLmRpc3BsYXksIG9yaWdpbmFsVmlzaWJpbGl0eSA9IHN0eWxlLnZpc2liaWxpdHksIG9yaWdpbmFsUG9zaXRpb24gPSBzdHlsZS5wb3NpdGlvbjtcbiAgc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gIHN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICBzdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmVcIjtcbiAgdmFyIHJldFZhbCA9IGZuKGVsZW1lbnQpO1xuICBzdHlsZS5kaXNwbGF5ID0gb3JpZ2luYWxEaXNwbGF5O1xuICBzdHlsZS5wb3NpdGlvbiA9IG9yaWdpbmFsUG9zaXRpb247XG4gIHN0eWxlLnZpc2liaWxpdHkgPSBvcmlnaW5hbFZpc2liaWxpdHk7XG4gIHJldHVybiByZXRWYWw7XG59O1xuZ29vZy5zdHlsZS5nZXRTaXplV2l0aERpc3BsYXlfID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICB2YXIgb2Zmc2V0V2lkdGggPSBlbGVtZW50Lm9mZnNldFdpZHRoLCBvZmZzZXRIZWlnaHQgPSBlbGVtZW50Lm9mZnNldEhlaWdodCwgd2Via2l0T2Zmc2V0c1plcm8gPSBnb29nLnVzZXJBZ2VudC5XRUJLSVQgJiYgIW9mZnNldFdpZHRoICYmICFvZmZzZXRIZWlnaHQ7XG4gIGlmICgodm9pZCAwID09PSBvZmZzZXRXaWR0aCB8fCB3ZWJraXRPZmZzZXRzWmVybykgJiYgZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QpIHtcbiAgICB2YXIgY2xpZW50UmVjdCA9IGdvb2cuc3R5bGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0XyhlbGVtZW50KTtcbiAgICByZXR1cm4gbmV3IGdvb2cubWF0aC5TaXplKGNsaWVudFJlY3QucmlnaHQgLSBjbGllbnRSZWN0LmxlZnQsIGNsaWVudFJlY3QuYm90dG9tIC0gY2xpZW50UmVjdC50b3ApO1xuICB9XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLlNpemUob2Zmc2V0V2lkdGgsIG9mZnNldEhlaWdodCk7XG59O1xuZ29vZy5zdHlsZS5nZXRUcmFuc2Zvcm1lZFNpemUgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIGlmICghZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgY2xpZW50UmVjdCA9IGdvb2cuc3R5bGUuZXZhbHVhdGVXaXRoVGVtcG9yYXJ5RGlzcGxheV8oZ29vZy5zdHlsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3RfLCBlbGVtZW50KTtcbiAgcmV0dXJuIG5ldyBnb29nLm1hdGguU2l6ZShjbGllbnRSZWN0LnJpZ2h0IC0gY2xpZW50UmVjdC5sZWZ0LCBjbGllbnRSZWN0LmJvdHRvbSAtIGNsaWVudFJlY3QudG9wKTtcbn07XG5nb29nLnN0eWxlLmdldEJvdW5kcyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgdmFyIG8gPSBnb29nLnN0eWxlLmdldFBhZ2VPZmZzZXQoZWxlbWVudCksIHMgPSBnb29nLnN0eWxlLmdldFNpemUoZWxlbWVudCk7XG4gIHJldHVybiBuZXcgZ29vZy5tYXRoLlJlY3Qoby54LCBvLnksIHMud2lkdGgsIHMuaGVpZ2h0KTtcbn07XG5nb29nLnN0eWxlLnRvQ2FtZWxDYXNlID0gZnVuY3Rpb24oc2VsZWN0b3IpIHtcbiAgcmV0dXJuIGdvb2cuc3RyaW5nLnRvQ2FtZWxDYXNlKFN0cmluZyhzZWxlY3RvcikpO1xufTtcbmdvb2cuc3R5bGUudG9TZWxlY3RvckNhc2UgPSBmdW5jdGlvbihzZWxlY3Rvcikge1xuICByZXR1cm4gZ29vZy5zdHJpbmcudG9TZWxlY3RvckNhc2Uoc2VsZWN0b3IpO1xufTtcbmdvb2cuc3R5bGUuZ2V0T3BhY2l0eSA9IGZ1bmN0aW9uKGVsKSB7XG4gIGdvb2cuYXNzZXJ0cy5hc3NlcnQoZWwpO1xuICB2YXIgc3R5bGUgPSBlbC5zdHlsZSwgcmVzdWx0ID0gXCJcIjtcbiAgaWYgKFwib3BhY2l0eVwiIGluIHN0eWxlKSB7XG4gICAgcmVzdWx0ID0gc3R5bGUub3BhY2l0eTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoXCJNb3pPcGFjaXR5XCIgaW4gc3R5bGUpIHtcbiAgICAgIHJlc3VsdCA9IHN0eWxlLk1vek9wYWNpdHk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChcImZpbHRlclwiIGluIHN0eWxlKSB7XG4gICAgICAgIHZhciBtYXRjaCA9IHN0eWxlLmZpbHRlci5tYXRjaCgvYWxwaGFcXChvcGFjaXR5PShbXFxkLl0rKVxcKS8pO1xuICAgICAgICBtYXRjaCAmJiAocmVzdWx0ID0gU3RyaW5nKG1hdGNoWzFdIC8gMTAwKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBcIlwiID09IHJlc3VsdCA/IHJlc3VsdCA6IE51bWJlcihyZXN1bHQpO1xufTtcbmdvb2cuc3R5bGUuc2V0T3BhY2l0eSA9IGZ1bmN0aW9uKGVsLCBhbHBoYSkge1xuICBnb29nLmFzc2VydHMuYXNzZXJ0KGVsKTtcbiAgdmFyIHN0eWxlID0gZWwuc3R5bGU7XG4gIFwib3BhY2l0eVwiIGluIHN0eWxlID8gc3R5bGUub3BhY2l0eSA9IGFscGhhIDogXCJNb3pPcGFjaXR5XCIgaW4gc3R5bGUgPyBzdHlsZS5Nb3pPcGFjaXR5ID0gYWxwaGEgOiBcImZpbHRlclwiIGluIHN0eWxlICYmIChzdHlsZS5maWx0ZXIgPSBcIlwiID09PSBhbHBoYSA/IFwiXCIgOiBcImFscGhhKG9wYWNpdHk9XCIgKyAxMDAgKiBOdW1iZXIoYWxwaGEpICsgXCIpXCIpO1xufTtcbmdvb2cuc3R5bGUuc2V0VHJhbnNwYXJlbnRCYWNrZ3JvdW5kSW1hZ2UgPSBmdW5jdGlvbihlbCwgc3JjKSB7XG4gIHZhciBzdHlsZSA9IGVsLnN0eWxlO1xuICBzdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybChcIiArIHNyYyArIFwiKVwiO1xuICBzdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb24gPSBcInRvcCBsZWZ0XCI7XG4gIHN0eWxlLmJhY2tncm91bmRSZXBlYXQgPSBcIm5vLXJlcGVhdFwiO1xufTtcbmdvb2cuc3R5bGUuY2xlYXJUcmFuc3BhcmVudEJhY2tncm91bmRJbWFnZSA9IGZ1bmN0aW9uKGVsKSB7XG4gIHZhciBzdHlsZSA9IGVsLnN0eWxlO1xuICBcImZpbHRlclwiIGluIHN0eWxlID8gc3R5bGUuZmlsdGVyID0gXCJcIiA6IHN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwibm9uZVwiO1xufTtcbmdvb2cuc3R5bGUuc2hvd0VsZW1lbnQgPSBmdW5jdGlvbihlbCwgZGlzcGxheSkge1xuICBnb29nLnN0eWxlLnNldEVsZW1lbnRTaG93bihlbCwgZGlzcGxheSk7XG59O1xuZ29vZy5zdHlsZS5zZXRFbGVtZW50U2hvd24gPSBmdW5jdGlvbihlbCwgaXNTaG93bikge1xuICBlbC5zdHlsZS5kaXNwbGF5ID0gaXNTaG93biA/IFwiXCIgOiBcIm5vbmVcIjtcbn07XG5nb29nLnN0eWxlLmlzRWxlbWVudFNob3duID0gZnVuY3Rpb24oZWwpIHtcbiAgcmV0dXJuIFwibm9uZVwiICE9IGVsLnN0eWxlLmRpc3BsYXk7XG59O1xuZ29vZy5zdHlsZS5pbnN0YWxsU2FmZVN0eWxlU2hlZXQgPSBmdW5jdGlvbihzYWZlU3R5bGVTaGVldCwgb3B0X25vZGUpIHtcbiAgdmFyIGRoID0gZ29vZy5kb20uZ2V0RG9tSGVscGVyKG9wdF9ub2RlKSwgZG9jID0gZGguZ2V0RG9jdW1lbnQoKTtcbiAgaWYgKGdvb2cudXNlckFnZW50LklFICYmIGRvYy5jcmVhdGVTdHlsZVNoZWV0KSB7XG4gICAgdmFyIHN0eWxlU2hlZXQgPSBkb2MuY3JlYXRlU3R5bGVTaGVldCgpO1xuICAgIGdvb2cuc3R5bGUuc2V0U2FmZVN0eWxlU2hlZXQoc3R5bGVTaGVldCwgc2FmZVN0eWxlU2hlZXQpO1xuICAgIHJldHVybiBzdHlsZVNoZWV0O1xuICB9XG4gIHZhciBoZWFkID0gZGguZ2V0RWxlbWVudHNCeVRhZ05hbWVBbmRDbGFzcyhnb29nLmRvbS5UYWdOYW1lLkhFQUQpWzBdO1xuICBpZiAoIWhlYWQpIHtcbiAgICB2YXIgYm9keSA9IGRoLmdldEVsZW1lbnRzQnlUYWdOYW1lQW5kQ2xhc3MoZ29vZy5kb20uVGFnTmFtZS5CT0RZKVswXTtcbiAgICBoZWFkID0gZGguY3JlYXRlRG9tKGdvb2cuZG9tLlRhZ05hbWUuSEVBRCk7XG4gICAgYm9keS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShoZWFkLCBib2R5KTtcbiAgfVxuICB2YXIgZWwgPSBkaC5jcmVhdGVEb20oZ29vZy5kb20uVGFnTmFtZS5TVFlMRSksIG5vbmNlID0gZ29vZy5kb20uc2FmZS5nZXRTdHlsZU5vbmNlKCk7XG4gIG5vbmNlICYmIGVsLnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgZ29vZy5zdHlsZS5zZXRTYWZlU3R5bGVTaGVldChlbCwgc2FmZVN0eWxlU2hlZXQpO1xuICBkaC5hcHBlbmRDaGlsZChoZWFkLCBlbCk7XG4gIHJldHVybiBlbDtcbn07XG5nb29nLnN0eWxlLnVuaW5zdGFsbFN0eWxlcyA9IGZ1bmN0aW9uKHN0eWxlU2hlZXQpIHtcbiAgZ29vZy5kb20ucmVtb3ZlTm9kZShzdHlsZVNoZWV0Lm93bmVyTm9kZSB8fCBzdHlsZVNoZWV0Lm93bmluZ0VsZW1lbnQgfHwgc3R5bGVTaGVldCk7XG59O1xuZ29vZy5zdHlsZS5zZXRTYWZlU3R5bGVTaGVldCA9IGZ1bmN0aW9uKGVsZW1lbnQsIHNhZmVTdHlsZVNoZWV0KSB7XG4gIHZhciBzdHlsZXNTdHJpbmcgPSBtb2R1bGUkY29udGVudHMkZ29vZyRodG1sJFNhZmVTdHlsZVNoZWV0X1NhZmVTdHlsZVNoZWV0LnVud3JhcChzYWZlU3R5bGVTaGVldCk7XG4gIGdvb2cudXNlckFnZW50LklFICYmIHZvaWQgMCAhPT0gZWxlbWVudC5jc3NUZXh0ID8gZWxlbWVudC5jc3NUZXh0ID0gc3R5bGVzU3RyaW5nIDogZ29vZy5nbG9iYWwudHJ1c3RlZFR5cGVzID8gZ29vZy5kb20uc2V0VGV4dENvbnRlbnQoZWxlbWVudCwgc3R5bGVzU3RyaW5nKSA6IGVsZW1lbnQuaW5uZXJIVE1MID0gc3R5bGVzU3RyaW5nO1xufTtcbmdvb2cuc3R5bGUuc2V0UHJlV3JhcCA9IGZ1bmN0aW9uKGVsKSB7XG4gIGVsLnN0eWxlLndoaXRlU3BhY2UgPSBnb29nLnVzZXJBZ2VudC5HRUNLTyA/IFwiLW1vei1wcmUtd3JhcFwiIDogXCJwcmUtd3JhcFwiO1xufTtcbmdvb2cuc3R5bGUuc2V0SW5saW5lQmxvY2sgPSBmdW5jdGlvbihlbCkge1xuICB2YXIgc3R5bGUgPSBlbC5zdHlsZTtcbiAgc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XG4gIHN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xufTtcbmdvb2cuc3R5bGUuaXNSaWdodFRvTGVmdCA9IGZ1bmN0aW9uKGVsKSB7XG4gIHJldHVybiBcInJ0bFwiID09IGdvb2cuc3R5bGUuZ2V0U3R5bGVfKGVsLCBcImRpcmVjdGlvblwiKTtcbn07XG5nb29nLnN0eWxlLnVuc2VsZWN0YWJsZVN0eWxlXyA9IGdvb2cudXNlckFnZW50LkdFQ0tPID8gXCJNb3pVc2VyU2VsZWN0XCIgOiBnb29nLnVzZXJBZ2VudC5XRUJLSVQgfHwgZ29vZy51c2VyQWdlbnQuRURHRSA/IFwiV2Via2l0VXNlclNlbGVjdFwiIDogbnVsbDtcbmdvb2cuc3R5bGUuaXNVbnNlbGVjdGFibGUgPSBmdW5jdGlvbihlbCkge1xuICByZXR1cm4gZ29vZy5zdHlsZS51bnNlbGVjdGFibGVTdHlsZV8gPyBcIm5vbmVcIiA9PSBlbC5zdHlsZVtnb29nLnN0eWxlLnVuc2VsZWN0YWJsZVN0eWxlX10udG9Mb3dlckNhc2UoKSA6IGdvb2cudXNlckFnZW50LklFID8gXCJvblwiID09IGVsLmdldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiKSA6ICExO1xufTtcbmdvb2cuc3R5bGUuc2V0VW5zZWxlY3RhYmxlID0gZnVuY3Rpb24oZWwsIHVuc2VsZWN0YWJsZSwgb3B0X25vUmVjdXJzZSkge1xuICB2YXIgZGVzY2VuZGFudHMgPSBvcHRfbm9SZWN1cnNlID8gbnVsbCA6IGVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiKlwiKSwgbmFtZSA9IGdvb2cuc3R5bGUudW5zZWxlY3RhYmxlU3R5bGVfO1xuICBpZiAobmFtZSkge1xuICAgIHZhciB2YWx1ZSA9IHVuc2VsZWN0YWJsZSA/IFwibm9uZVwiIDogXCJcIjtcbiAgICBlbC5zdHlsZSAmJiAoZWwuc3R5bGVbbmFtZV0gPSB2YWx1ZSk7XG4gICAgaWYgKGRlc2NlbmRhbnRzKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgZGVzY2VuZGFudDsgZGVzY2VuZGFudCA9IGRlc2NlbmRhbnRzW2ldOyBpKyspIHtcbiAgICAgICAgZGVzY2VuZGFudC5zdHlsZSAmJiAoZGVzY2VuZGFudC5zdHlsZVtuYW1lXSA9IHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGdvb2cudXNlckFnZW50LklFICYmICh2YWx1ZSA9IHVuc2VsZWN0YWJsZSA/IFwib25cIiA6IFwiXCIsIGVsLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLCB2YWx1ZSksIGRlc2NlbmRhbnRzKSkge1xuICAgICAgZm9yIChpID0gMDsgZGVzY2VuZGFudCA9IGRlc2NlbmRhbnRzW2ldOyBpKyspIHtcbiAgICAgICAgZGVzY2VuZGFudC5zZXRBdHRyaWJ1dGUoXCJ1bnNlbGVjdGFibGVcIiwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbmdvb2cuc3R5bGUuZ2V0Qm9yZGVyQm94U2l6ZSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIG5ldyBnb29nLm1hdGguU2l6ZShlbGVtZW50Lm9mZnNldFdpZHRoLCBlbGVtZW50Lm9mZnNldEhlaWdodCk7XG59O1xuZ29vZy5zdHlsZS5zZXRCb3JkZXJCb3hTaXplID0gZnVuY3Rpb24oZWxlbWVudCwgc2l6ZSkge1xuICB2YXIgZG9jID0gZ29vZy5kb20uZ2V0T3duZXJEb2N1bWVudChlbGVtZW50KSwgaXNDc3MxQ29tcGF0TW9kZSA9IGdvb2cuZG9tLmdldERvbUhlbHBlcihkb2MpLmlzQ3NzMUNvbXBhdE1vZGUoKTtcbiAgaWYgKCFnb29nLnVzZXJBZ2VudC5JRSB8fCBnb29nLnVzZXJBZ2VudC5pc1ZlcnNpb25PckhpZ2hlcihcIjEwXCIpIHx8IGlzQ3NzMUNvbXBhdE1vZGUpIHtcbiAgICBnb29nLnN0eWxlLnNldEJveFNpemluZ1NpemVfKGVsZW1lbnQsIHNpemUsIFwiYm9yZGVyLWJveFwiKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgc3R5bGUgPSBlbGVtZW50LnN0eWxlO1xuICAgIGlmIChpc0NzczFDb21wYXRNb2RlKSB7XG4gICAgICB2YXIgcGFkZGluZ0JveCA9IGdvb2cuc3R5bGUuZ2V0UGFkZGluZ0JveChlbGVtZW50KSwgYm9yZGVyQm94ID0gZ29vZy5zdHlsZS5nZXRCb3JkZXJCb3goZWxlbWVudCk7XG4gICAgICBzdHlsZS5waXhlbFdpZHRoID0gc2l6ZS53aWR0aCAtIGJvcmRlckJveC5sZWZ0IC0gcGFkZGluZ0JveC5sZWZ0IC0gcGFkZGluZ0JveC5yaWdodCAtIGJvcmRlckJveC5yaWdodDtcbiAgICAgIHN0eWxlLnBpeGVsSGVpZ2h0ID0gc2l6ZS5oZWlnaHQgLSBib3JkZXJCb3gudG9wIC0gcGFkZGluZ0JveC50b3AgLSBwYWRkaW5nQm94LmJvdHRvbSAtIGJvcmRlckJveC5ib3R0b207XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLnBpeGVsV2lkdGggPSBzaXplLndpZHRoLCBzdHlsZS5waXhlbEhlaWdodCA9IHNpemUuaGVpZ2h0O1xuICAgIH1cbiAgfVxufTtcbmdvb2cuc3R5bGUuZ2V0Q29udGVudEJveFNpemUgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHZhciBkb2MgPSBnb29nLmRvbS5nZXRPd25lckRvY3VtZW50KGVsZW1lbnQpLCBpZUN1cnJlbnRTdHlsZSA9IGdvb2cudXNlckFnZW50LklFICYmIGVsZW1lbnQuY3VycmVudFN0eWxlO1xuICBpZiAoaWVDdXJyZW50U3R5bGUgJiYgZ29vZy5kb20uZ2V0RG9tSGVscGVyKGRvYykuaXNDc3MxQ29tcGF0TW9kZSgpICYmIFwiYXV0b1wiICE9IGllQ3VycmVudFN0eWxlLndpZHRoICYmIFwiYXV0b1wiICE9IGllQ3VycmVudFN0eWxlLmhlaWdodCAmJiAhaWVDdXJyZW50U3R5bGUuYm94U2l6aW5nKSB7XG4gICAgdmFyIHdpZHRoID0gZ29vZy5zdHlsZS5nZXRJZVBpeGVsVmFsdWVfKGVsZW1lbnQsIGllQ3VycmVudFN0eWxlLndpZHRoLCBcIndpZHRoXCIsIFwicGl4ZWxXaWR0aFwiKSwgaGVpZ2h0ID0gZ29vZy5zdHlsZS5nZXRJZVBpeGVsVmFsdWVfKGVsZW1lbnQsIGllQ3VycmVudFN0eWxlLmhlaWdodCwgXCJoZWlnaHRcIiwgXCJwaXhlbEhlaWdodFwiKTtcbiAgICByZXR1cm4gbmV3IGdvb2cubWF0aC5TaXplKHdpZHRoLCBoZWlnaHQpO1xuICB9XG4gIHZhciBib3JkZXJCb3hTaXplID0gZ29vZy5zdHlsZS5nZXRCb3JkZXJCb3hTaXplKGVsZW1lbnQpLCBwYWRkaW5nQm94ID0gZ29vZy5zdHlsZS5nZXRQYWRkaW5nQm94KGVsZW1lbnQpLCBib3JkZXJCb3ggPSBnb29nLnN0eWxlLmdldEJvcmRlckJveChlbGVtZW50KTtcbiAgcmV0dXJuIG5ldyBnb29nLm1hdGguU2l6ZShib3JkZXJCb3hTaXplLndpZHRoIC0gYm9yZGVyQm94LmxlZnQgLSBwYWRkaW5nQm94LmxlZnQgLSBwYWRkaW5nQm94LnJpZ2h0IC0gYm9yZGVyQm94LnJpZ2h0LCBib3JkZXJCb3hTaXplLmhlaWdodCAtIGJvcmRlckJveC50b3AgLSBwYWRkaW5nQm94LnRvcCAtIHBhZGRpbmdCb3guYm90dG9tIC0gYm9yZGVyQm94LmJvdHRvbSk7XG59O1xuZ29vZy5zdHlsZS5zZXRDb250ZW50Qm94U2l6ZSA9IGZ1bmN0aW9uKGVsZW1lbnQsIHNpemUpIHtcbiAgdmFyIGRvYyA9IGdvb2cuZG9tLmdldE93bmVyRG9jdW1lbnQoZWxlbWVudCksIGlzQ3NzMUNvbXBhdE1vZGUgPSBnb29nLmRvbS5nZXREb21IZWxwZXIoZG9jKS5pc0NzczFDb21wYXRNb2RlKCk7XG4gIGlmICghZ29vZy51c2VyQWdlbnQuSUUgfHwgZ29vZy51c2VyQWdlbnQuaXNWZXJzaW9uT3JIaWdoZXIoXCIxMFwiKSB8fCBpc0NzczFDb21wYXRNb2RlKSB7XG4gICAgZ29vZy5zdHlsZS5zZXRCb3hTaXppbmdTaXplXyhlbGVtZW50LCBzaXplLCBcImNvbnRlbnQtYm94XCIpO1xuICB9IGVsc2Uge1xuICAgIHZhciBzdHlsZSA9IGVsZW1lbnQuc3R5bGU7XG4gICAgaWYgKGlzQ3NzMUNvbXBhdE1vZGUpIHtcbiAgICAgIHN0eWxlLnBpeGVsV2lkdGggPSBzaXplLndpZHRoLCBzdHlsZS5waXhlbEhlaWdodCA9IHNpemUuaGVpZ2h0O1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcGFkZGluZ0JveCA9IGdvb2cuc3R5bGUuZ2V0UGFkZGluZ0JveChlbGVtZW50KSwgYm9yZGVyQm94ID0gZ29vZy5zdHlsZS5nZXRCb3JkZXJCb3goZWxlbWVudCk7XG4gICAgICBzdHlsZS5waXhlbFdpZHRoID0gc2l6ZS53aWR0aCArIGJvcmRlckJveC5sZWZ0ICsgcGFkZGluZ0JveC5sZWZ0ICsgcGFkZGluZ0JveC5yaWdodCArIGJvcmRlckJveC5yaWdodDtcbiAgICAgIHN0eWxlLnBpeGVsSGVpZ2h0ID0gc2l6ZS5oZWlnaHQgKyBib3JkZXJCb3gudG9wICsgcGFkZGluZ0JveC50b3AgKyBwYWRkaW5nQm94LmJvdHRvbSArIGJvcmRlckJveC5ib3R0b207XG4gICAgfVxuICB9XG59O1xuZ29vZy5zdHlsZS5zZXRCb3hTaXppbmdTaXplXyA9IGZ1bmN0aW9uKGVsZW1lbnQsIHNpemUsIGJveFNpemluZykge1xuICB2YXIgc3R5bGUgPSBlbGVtZW50LnN0eWxlO1xuICBnb29nLnVzZXJBZ2VudC5HRUNLTyA/IHN0eWxlLk1vekJveFNpemluZyA9IGJveFNpemluZyA6IGdvb2cudXNlckFnZW50LldFQktJVCA/IHN0eWxlLldlYmtpdEJveFNpemluZyA9IGJveFNpemluZyA6IHN0eWxlLmJveFNpemluZyA9IGJveFNpemluZztcbiAgc3R5bGUud2lkdGggPSBNYXRoLm1heChzaXplLndpZHRoLCAwKSArIFwicHhcIjtcbiAgc3R5bGUuaGVpZ2h0ID0gTWF0aC5tYXgoc2l6ZS5oZWlnaHQsIDApICsgXCJweFwiO1xufTtcbmdvb2cuc3R5bGUuZ2V0SWVQaXhlbFZhbHVlXyA9IGZ1bmN0aW9uKGVsZW1lbnQsIHZhbHVlLCBuYW1lLCBwaXhlbE5hbWUpIHtcbiAgaWYgKC9eXFxkK3B4PyQvLnRlc3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gIH1cbiAgdmFyIG9sZFN0eWxlVmFsdWUgPSBlbGVtZW50LnN0eWxlW25hbWVdLCBvbGRSdW50aW1lVmFsdWUgPSBlbGVtZW50LnJ1bnRpbWVTdHlsZVtuYW1lXTtcbiAgZWxlbWVudC5ydW50aW1lU3R5bGVbbmFtZV0gPSBlbGVtZW50LmN1cnJlbnRTdHlsZVtuYW1lXTtcbiAgZWxlbWVudC5zdHlsZVtuYW1lXSA9IHZhbHVlO1xuICB2YXIgcGl4ZWxWYWx1ZSA9IGVsZW1lbnQuc3R5bGVbcGl4ZWxOYW1lXTtcbiAgZWxlbWVudC5zdHlsZVtuYW1lXSA9IG9sZFN0eWxlVmFsdWU7XG4gIGVsZW1lbnQucnVudGltZVN0eWxlW25hbWVdID0gb2xkUnVudGltZVZhbHVlO1xuICByZXR1cm4gK3BpeGVsVmFsdWU7XG59O1xuZ29vZy5zdHlsZS5nZXRJZVBpeGVsRGlzdGFuY2VfID0gZnVuY3Rpb24oZWxlbWVudCwgcHJvcE5hbWUpIHtcbiAgdmFyIHZhbHVlID0gZ29vZy5zdHlsZS5nZXRDYXNjYWRlZFN0eWxlKGVsZW1lbnQsIHByb3BOYW1lKTtcbiAgcmV0dXJuIHZhbHVlID8gZ29vZy5zdHlsZS5nZXRJZVBpeGVsVmFsdWVfKGVsZW1lbnQsIHZhbHVlLCBcImxlZnRcIiwgXCJwaXhlbExlZnRcIikgOiAwO1xufTtcbmdvb2cuc3R5bGUuZ2V0Qm94XyA9IGZ1bmN0aW9uKGVsZW1lbnQsIHN0eWxlUHJlZml4KSB7XG4gIGlmIChnb29nLnVzZXJBZ2VudC5JRSkge1xuICAgIHZhciBsZWZ0ID0gZ29vZy5zdHlsZS5nZXRJZVBpeGVsRGlzdGFuY2VfKGVsZW1lbnQsIHN0eWxlUHJlZml4ICsgXCJMZWZ0XCIpLCByaWdodCA9IGdvb2cuc3R5bGUuZ2V0SWVQaXhlbERpc3RhbmNlXyhlbGVtZW50LCBzdHlsZVByZWZpeCArIFwiUmlnaHRcIiksIHRvcCA9IGdvb2cuc3R5bGUuZ2V0SWVQaXhlbERpc3RhbmNlXyhlbGVtZW50LCBzdHlsZVByZWZpeCArIFwiVG9wXCIpLCBib3R0b20gPSBnb29nLnN0eWxlLmdldEllUGl4ZWxEaXN0YW5jZV8oZWxlbWVudCwgc3R5bGVQcmVmaXggKyBcIkJvdHRvbVwiKTtcbiAgICByZXR1cm4gbmV3IGdvb2cubWF0aC5Cb3godG9wLCByaWdodCwgYm90dG9tLCBsZWZ0KTtcbiAgfVxuICBsZWZ0ID0gZ29vZy5zdHlsZS5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIHN0eWxlUHJlZml4ICsgXCJMZWZ0XCIpO1xuICByaWdodCA9IGdvb2cuc3R5bGUuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBzdHlsZVByZWZpeCArIFwiUmlnaHRcIik7XG4gIHRvcCA9IGdvb2cuc3R5bGUuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBzdHlsZVByZWZpeCArIFwiVG9wXCIpO1xuICBib3R0b20gPSBnb29nLnN0eWxlLmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgc3R5bGVQcmVmaXggKyBcIkJvdHRvbVwiKTtcbiAgcmV0dXJuIG5ldyBnb29nLm1hdGguQm94KHBhcnNlRmxvYXQodG9wKSwgcGFyc2VGbG9hdChyaWdodCksIHBhcnNlRmxvYXQoYm90dG9tKSwgcGFyc2VGbG9hdChsZWZ0KSk7XG59O1xuZ29vZy5zdHlsZS5nZXRQYWRkaW5nQm94ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICByZXR1cm4gZ29vZy5zdHlsZS5nZXRCb3hfKGVsZW1lbnQsIFwicGFkZGluZ1wiKTtcbn07XG5nb29nLnN0eWxlLmdldE1hcmdpbkJveCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGdvb2cuc3R5bGUuZ2V0Qm94XyhlbGVtZW50LCBcIm1hcmdpblwiKTtcbn07XG5nb29nLnN0eWxlLmllQm9yZGVyV2lkdGhLZXl3b3Jkc18gPSB7dGhpbjoyLCBtZWRpdW06NCwgdGhpY2s6Nn07XG5nb29nLnN0eWxlLmdldEllUGl4ZWxCb3JkZXJfID0gZnVuY3Rpb24oZWxlbWVudCwgcHJvcCkge1xuICBpZiAoXCJub25lXCIgPT0gZ29vZy5zdHlsZS5nZXRDYXNjYWRlZFN0eWxlKGVsZW1lbnQsIHByb3AgKyBcIlN0eWxlXCIpKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgdmFyIHdpZHRoID0gZ29vZy5zdHlsZS5nZXRDYXNjYWRlZFN0eWxlKGVsZW1lbnQsIHByb3AgKyBcIldpZHRoXCIpO1xuICByZXR1cm4gd2lkdGggaW4gZ29vZy5zdHlsZS5pZUJvcmRlcldpZHRoS2V5d29yZHNfID8gZ29vZy5zdHlsZS5pZUJvcmRlcldpZHRoS2V5d29yZHNfW3dpZHRoXSA6IGdvb2cuc3R5bGUuZ2V0SWVQaXhlbFZhbHVlXyhlbGVtZW50LCB3aWR0aCwgXCJsZWZ0XCIsIFwicGl4ZWxMZWZ0XCIpO1xufTtcbmdvb2cuc3R5bGUuZ2V0Qm9yZGVyQm94ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICBpZiAoZ29vZy51c2VyQWdlbnQuSUUgJiYgIWdvb2cudXNlckFnZW50LmlzRG9jdW1lbnRNb2RlT3JIaWdoZXIoOSkpIHtcbiAgICB2YXIgbGVmdCA9IGdvb2cuc3R5bGUuZ2V0SWVQaXhlbEJvcmRlcl8oZWxlbWVudCwgXCJib3JkZXJMZWZ0XCIpLCByaWdodCA9IGdvb2cuc3R5bGUuZ2V0SWVQaXhlbEJvcmRlcl8oZWxlbWVudCwgXCJib3JkZXJSaWdodFwiKSwgdG9wID0gZ29vZy5zdHlsZS5nZXRJZVBpeGVsQm9yZGVyXyhlbGVtZW50LCBcImJvcmRlclRvcFwiKSwgYm90dG9tID0gZ29vZy5zdHlsZS5nZXRJZVBpeGVsQm9yZGVyXyhlbGVtZW50LCBcImJvcmRlckJvdHRvbVwiKTtcbiAgICByZXR1cm4gbmV3IGdvb2cubWF0aC5Cb3godG9wLCByaWdodCwgYm90dG9tLCBsZWZ0KTtcbiAgfVxuICBsZWZ0ID0gZ29vZy5zdHlsZS5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIFwiYm9yZGVyTGVmdFdpZHRoXCIpO1xuICByaWdodCA9IGdvb2cuc3R5bGUuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBcImJvcmRlclJpZ2h0V2lkdGhcIik7XG4gIHRvcCA9IGdvb2cuc3R5bGUuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBcImJvcmRlclRvcFdpZHRoXCIpO1xuICBib3R0b20gPSBnb29nLnN0eWxlLmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgXCJib3JkZXJCb3R0b21XaWR0aFwiKTtcbiAgcmV0dXJuIG5ldyBnb29nLm1hdGguQm94KHBhcnNlRmxvYXQodG9wKSwgcGFyc2VGbG9hdChyaWdodCksIHBhcnNlRmxvYXQoYm90dG9tKSwgcGFyc2VGbG9hdChsZWZ0KSk7XG59O1xuZ29vZy5zdHlsZS5nZXRGb250RmFtaWx5ID0gZnVuY3Rpb24oZWwpIHtcbiAgdmFyIGRvYyA9IGdvb2cuZG9tLmdldE93bmVyRG9jdW1lbnQoZWwpLCBmb250ID0gXCJcIjtcbiAgaWYgKGRvYy5ib2R5LmNyZWF0ZVRleHRSYW5nZSAmJiBnb29nLmRvbS5jb250YWlucyhkb2MsIGVsKSkge1xuICAgIHZhciByYW5nZSA9IGRvYy5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpO1xuICAgIHJhbmdlLm1vdmVUb0VsZW1lbnRUZXh0KGVsKTtcbiAgICB0cnkge1xuICAgICAgZm9udCA9IHJhbmdlLnF1ZXJ5Q29tbWFuZFZhbHVlKFwiRm9udE5hbWVcIik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZm9udCA9IFwiXCI7XG4gICAgfVxuICB9XG4gIGZvbnQgfHwgKGZvbnQgPSBnb29nLnN0eWxlLmdldFN0eWxlXyhlbCwgXCJmb250RmFtaWx5XCIpKTtcbiAgdmFyIGZvbnRzQXJyYXkgPSBmb250LnNwbGl0KFwiLFwiKTtcbiAgMSA8IGZvbnRzQXJyYXkubGVuZ3RoICYmIChmb250ID0gZm9udHNBcnJheVswXSk7XG4gIHJldHVybiBnb29nLnN0cmluZy5zdHJpcFF1b3Rlcyhmb250LCBcIlxcXCInXCIpO1xufTtcbmdvb2cuc3R5bGUubGVuZ3RoVW5pdFJlZ2V4XyA9IC9bXlxcZF0rJC87XG5nb29nLnN0eWxlLmdldExlbmd0aFVuaXRzID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgdmFyIHVuaXRzID0gdmFsdWUubWF0Y2goZ29vZy5zdHlsZS5sZW5ndGhVbml0UmVnZXhfKTtcbiAgcmV0dXJuIHVuaXRzICYmIHVuaXRzWzBdIHx8IG51bGw7XG59O1xuZ29vZy5zdHlsZS5BQlNPTFVURV9DU1NfTEVOR1RIX1VOSVRTXyA9IHtjbToxLCBcImluXCI6MSwgbW06MSwgcGM6MSwgcHQ6MX07XG5nb29nLnN0eWxlLkNPTlZFUlRJQkxFX1JFTEFUSVZFX0NTU19VTklUU18gPSB7ZW06MSwgZXg6MX07XG5nb29nLnN0eWxlLmdldEZvbnRTaXplID0gZnVuY3Rpb24oZWwpIHtcbiAgdmFyIGZvbnRTaXplID0gZ29vZy5zdHlsZS5nZXRTdHlsZV8oZWwsIFwiZm9udFNpemVcIiksIHNpemVVbml0cyA9IGdvb2cuc3R5bGUuZ2V0TGVuZ3RoVW5pdHMoZm9udFNpemUpO1xuICBpZiAoZm9udFNpemUgJiYgXCJweFwiID09IHNpemVVbml0cykge1xuICAgIHJldHVybiBwYXJzZUludChmb250U2l6ZSwgMTApO1xuICB9XG4gIGlmIChnb29nLnVzZXJBZ2VudC5JRSkge1xuICAgIGlmIChTdHJpbmcoc2l6ZVVuaXRzKSBpbiBnb29nLnN0eWxlLkFCU09MVVRFX0NTU19MRU5HVEhfVU5JVFNfKSB7XG4gICAgICByZXR1cm4gZ29vZy5zdHlsZS5nZXRJZVBpeGVsVmFsdWVfKGVsLCBmb250U2l6ZSwgXCJsZWZ0XCIsIFwicGl4ZWxMZWZ0XCIpO1xuICAgIH1cbiAgICBpZiAoZWwucGFyZW50Tm9kZSAmJiBlbC5wYXJlbnROb2RlLm5vZGVUeXBlID09IGdvb2cuZG9tLk5vZGVUeXBlLkVMRU1FTlQgJiYgU3RyaW5nKHNpemVVbml0cykgaW4gZ29vZy5zdHlsZS5DT05WRVJUSUJMRV9SRUxBVElWRV9DU1NfVU5JVFNfKSB7XG4gICAgICB2YXIgcGFyZW50RWxlbWVudCA9IGVsLnBhcmVudE5vZGUsIHBhcmVudFNpemUgPSBnb29nLnN0eWxlLmdldFN0eWxlXyhwYXJlbnRFbGVtZW50LCBcImZvbnRTaXplXCIpO1xuICAgICAgcmV0dXJuIGdvb2cuc3R5bGUuZ2V0SWVQaXhlbFZhbHVlXyhwYXJlbnRFbGVtZW50LCBmb250U2l6ZSA9PSBwYXJlbnRTaXplID8gXCIxZW1cIiA6IGZvbnRTaXplLCBcImxlZnRcIiwgXCJwaXhlbExlZnRcIik7XG4gICAgfVxuICB9XG4gIHZhciBzaXplRWxlbWVudCA9IGdvb2cuZG9tLmNyZWF0ZURvbShnb29nLmRvbS5UYWdOYW1lLlNQQU4sIHtzdHlsZTpcInZpc2liaWxpdHk6aGlkZGVuO3Bvc2l0aW9uOmFic29sdXRlO2xpbmUtaGVpZ2h0OjA7cGFkZGluZzowO21hcmdpbjowO2JvcmRlcjowO2hlaWdodDoxZW07XCJ9KTtcbiAgZ29vZy5kb20uYXBwZW5kQ2hpbGQoZWwsIHNpemVFbGVtZW50KTtcbiAgZm9udFNpemUgPSBzaXplRWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gIGdvb2cuZG9tLnJlbW92ZU5vZGUoc2l6ZUVsZW1lbnQpO1xuICByZXR1cm4gZm9udFNpemU7XG59O1xuZ29vZy5zdHlsZS5wYXJzZVN0eWxlQXR0cmlidXRlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICB2YWx1ZS5zcGxpdCgvXFxzKjtcXHMqLykuZm9yRWFjaChmdW5jdGlvbihwYWlyKSB7XG4gICAgdmFyIGtleVZhbHVlID0gcGFpci5tYXRjaCgvXFxzKihbXFx3LV0rKVxccyo6KC4rKS8pO1xuICAgIGlmIChrZXlWYWx1ZSkge1xuICAgICAgdmFyIHN0eWxlVmFsdWUgPSBnb29nLnN0cmluZy50cmltKGtleVZhbHVlWzJdKTtcbiAgICAgIHJlc3VsdFtnb29nLnN0cmluZy50b0NhbWVsQ2FzZShrZXlWYWx1ZVsxXS50b0xvd2VyQ2FzZSgpKV0gPSBzdHlsZVZhbHVlO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59O1xuZ29vZy5zdHlsZS50b1N0eWxlQXR0cmlidXRlID0gZnVuY3Rpb24ob2JqKSB7XG4gIHZhciBidWZmZXIgPSBbXTtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2ZvckVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgYnVmZmVyLnB1c2goZ29vZy5zdHJpbmcudG9TZWxlY3RvckNhc2Uoa2V5KSwgXCI6XCIsIHZhbHVlLCBcIjtcIik7XG4gIH0pO1xuICByZXR1cm4gYnVmZmVyLmpvaW4oXCJcIik7XG59O1xuZ29vZy5zdHlsZS5zZXRGbG9hdCA9IGZ1bmN0aW9uKGVsLCB2YWx1ZSkge1xuICBlbC5zdHlsZVtnb29nLnVzZXJBZ2VudC5JRSA/IFwic3R5bGVGbG9hdFwiIDogXCJjc3NGbG9hdFwiXSA9IHZhbHVlO1xufTtcbmdvb2cuc3R5bGUuZ2V0RmxvYXQgPSBmdW5jdGlvbihlbCkge1xuICByZXR1cm4gZWwuc3R5bGVbZ29vZy51c2VyQWdlbnQuSUUgPyBcInN0eWxlRmxvYXRcIiA6IFwiY3NzRmxvYXRcIl0gfHwgXCJcIjtcbn07XG5nb29nLnN0eWxlLmdldFNjcm9sbGJhcldpZHRoID0gZnVuY3Rpb24ob3B0X2NsYXNzTmFtZSkge1xuICB2YXIgb3V0ZXJEaXYgPSBnb29nLmRvbS5jcmVhdGVFbGVtZW50KGdvb2cuZG9tLlRhZ05hbWUuRElWKTtcbiAgb3B0X2NsYXNzTmFtZSAmJiAob3V0ZXJEaXYuY2xhc3NOYW1lID0gb3B0X2NsYXNzTmFtZSk7XG4gIG91dGVyRGl2LnN0eWxlLmNzc1RleHQgPSBcIm92ZXJmbG93OmF1dG87cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7d2lkdGg6MTAwcHg7aGVpZ2h0OjEwMHB4XCI7XG4gIHZhciBpbm5lckRpdiA9IGdvb2cuZG9tLmNyZWF0ZUVsZW1lbnQoZ29vZy5kb20uVGFnTmFtZS5ESVYpO1xuICBnb29nLnN0eWxlLnNldFNpemUoaW5uZXJEaXYsIFwiMjAwcHhcIiwgXCIyMDBweFwiKTtcbiAgb3V0ZXJEaXYuYXBwZW5kQ2hpbGQoaW5uZXJEaXYpO1xuICBnb29nLmRvbS5hcHBlbmRDaGlsZChnb29nLmRvbS5nZXREb2N1bWVudCgpLmJvZHksIG91dGVyRGl2KTtcbiAgdmFyIHdpZHRoID0gb3V0ZXJEaXYub2Zmc2V0V2lkdGggLSBvdXRlckRpdi5jbGllbnRXaWR0aDtcbiAgZ29vZy5kb20ucmVtb3ZlTm9kZShvdXRlckRpdik7XG4gIHJldHVybiB3aWR0aDtcbn07XG5nb29nLnN0eWxlLk1BVFJJWF9UUkFOU0xBVElPTl9SRUdFWF8gPSBSZWdFeHAoXCJtYXRyaXhcXFxcKFswLTlcXFxcLlxcXFwtXSssIFswLTlcXFxcLlxcXFwtXSssIFswLTlcXFxcLlxcXFwtXSssIFswLTlcXFxcLlxcXFwtXSssIChbMC05XFxcXC5cXFxcLV0rKXA/eD8sIChbMC05XFxcXC5cXFxcLV0rKXA/eD9cXFxcKVwiKTtcbmdvb2cuc3R5bGUuZ2V0Q3NzVHJhbnNsYXRpb24gPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gIHZhciB0cmFuc2Zvcm0gPSBnb29nLnN0eWxlLmdldENvbXB1dGVkVHJhbnNmb3JtKGVsZW1lbnQpO1xuICBpZiAoIXRyYW5zZm9ybSkge1xuICAgIHJldHVybiBuZXcgZ29vZy5tYXRoLkNvb3JkaW5hdGUoMCwgMCk7XG4gIH1cbiAgdmFyIG1hdGNoZXMgPSB0cmFuc2Zvcm0ubWF0Y2goZ29vZy5zdHlsZS5NQVRSSVhfVFJBTlNMQVRJT05fUkVHRVhfKTtcbiAgcmV0dXJuIG1hdGNoZXMgPyBuZXcgZ29vZy5tYXRoLkNvb3JkaW5hdGUocGFyc2VGbG9hdChtYXRjaGVzWzFdKSwgcGFyc2VGbG9hdChtYXRjaGVzWzJdKSkgOiBuZXcgZ29vZy5tYXRoLkNvb3JkaW5hdGUoMCwgMCk7XG59O1xuZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheSA9IGZ1bmN0aW9uKHRpbGVTb3VyY2UsIG9wdF9vcHRpb25zKSB7XG4gIGdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LmNhbGwodGhpcyk7XG4gIHZhciBvcHRpb25zID0gb3B0X29wdGlvbnMgfHwge307XG4gIHRoaXMubWluWm9vbSA9IG9wdGlvbnMubWluWm9vbSB8fCAwO1xuICB0aGlzLm1heFpvb20gPSBvcHRpb25zLm1heFpvb20gfHwgMjA7XG4gIGlmICghd2luZG93Lmdvb2dsZSB8fCAhd2luZG93Lmdvb2dsZS5tYXBzKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJHb29nbGUgTWFwcyBBUEkgaGFzbid0IGJlZW4gaW5pdGlhbGl6ZWQuXCIpO1xuICB9XG4gIHRoaXMudGlsZVNpemUgPSBvcHRpb25zLnRpbGVTaXplIHx8IG5ldyBnb29nbGUubWFwcy5TaXplKGVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkuREVGQVVMVF9USUxFX0VER0VfTEVOR1RILCBlZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5LkRFRkFVTFRfVElMRV9FREdFX0xFTkdUSCk7XG4gIHRoaXMuaXNQbmcgPSBcImlzUG5nXCIgaW4gb3B0aW9ucyA/IG9wdGlvbnMuaXNQbmcgOiAhMDtcbiAgdGhpcy5uYW1lID0gb3B0aW9ucy5uYW1lO1xuICB0aGlzLm9wYWNpdHkgPSBcIm9wYWNpdHlcIiBpbiBvcHRpb25zID8gb3B0aW9ucy5vcGFjaXR5IDogMTtcbiAgdGhpcy5zdGF0cyA9IG5ldyBtb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJEFic3RyYWN0T3ZlcmxheVN0YXRzX0Fic3RyYWN0T3ZlcmxheVN0YXRzKHRpbGVTb3VyY2UuZ2V0VW5pcXVlSWQoKSk7XG4gIHRoaXMudGlsZXNCeUlkID0gbmV3IGdvb2cuc3RydWN0cy5NYXAoKTtcbiAgdGhpcy50aWxlQ291bnRlciA9IDA7XG4gIHRoaXMudGlsZVNvdXJjZSA9IHRpbGVTb3VyY2U7XG4gIHRoaXMuaGFuZGxlciA9IG5ldyBnb29nLmV2ZW50cy5FdmVudEhhbmRsZXIodGhpcyk7XG4gIHRoaXMucHJvamVjdGlvbiA9IG51bGw7XG4gIHRoaXMucmFkaXVzID0gMDtcbiAgdGhpcy5hbHQgPSBudWxsO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMoZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheSwgZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQpO1xuZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5wcm90b3R5cGUuYWRkVGlsZUNhbGxiYWNrID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgcmV0dXJuIGdvb2cuZXZlbnRzLmxpc3Rlbih0aGlzLCBlZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5LkV2ZW50VHlwZS5USUxFX0xPQUQsIGNhbGxiYWNrKTtcbn07XG5lZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5LnByb3RvdHlwZS5yZW1vdmVUaWxlQ2FsbGJhY2sgPSBmdW5jdGlvbihjYWxsYmFja0lkKSB7XG4gIGdvb2cuZXZlbnRzLnVubGlzdGVuQnlLZXkoY2FsbGJhY2tJZCk7XG59O1xuZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5wcm90b3R5cGUuZ2V0TG9hZGluZ1RpbGVzQ291bnQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZ2V0VGlsZUNvdW50Rm9yU3RhdHVzXyhlZS5sYXllcnMuQWJzdHJhY3RUaWxlLlN0YXR1cy5USFJPVFRMRUQpICsgdGhpcy5nZXRUaWxlQ291bnRGb3JTdGF0dXNfKGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzLkxPQURJTkcpICsgdGhpcy5nZXRUaWxlQ291bnRGb3JTdGF0dXNfKGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzLk5FVyk7XG59O1xuZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5wcm90b3R5cGUuZ2V0RmFpbGVkVGlsZXNDb3VudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5nZXRUaWxlQ291bnRGb3JTdGF0dXNfKGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzLkZBSUxFRCk7XG59O1xuZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5wcm90b3R5cGUuZ2V0TG9hZGVkVGlsZXNDb3VudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5nZXRUaWxlQ291bnRGb3JTdGF0dXNfKGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzLkxPQURFRCk7XG59O1xuZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5wcm90b3R5cGUuc2V0T3BhY2l0eSA9IGZ1bmN0aW9uKG9wYWNpdHkpIHtcbiAgdGhpcy5vcGFjaXR5ID0gb3BhY2l0eTtcbiAgdGhpcy50aWxlc0J5SWQuZm9yRWFjaChmdW5jdGlvbih0aWxlKSB7XG4gICAgZ29vZy5zdHlsZS5zZXRPcGFjaXR5KHRpbGUuZGl2LCB0aGlzLm9wYWNpdHkpO1xuICB9LCB0aGlzKTtcbn07XG5lZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5LnByb3RvdHlwZS5nZXRTdGF0cyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5zdGF0cztcbn07XG5lZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5LnByb3RvdHlwZS5nZXRUaWxlID0gZnVuY3Rpb24oY29vcmQsIHpvb20sIG93bmVyRG9jdW1lbnQpIHtcbiAgdmFyIG1heENvb3JkID0gMSA8PCB6b29tO1xuICBpZiAoem9vbSA8IHRoaXMubWluWm9vbSB8fCAwID4gY29vcmQueSB8fCBjb29yZC55ID49IG1heENvb3JkKSB7XG4gICAgcmV0dXJuIG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgfVxuICB2YXIgeCA9IGNvb3JkLnggJSBtYXhDb29yZDtcbiAgMCA+IHggJiYgKHggKz0gbWF4Q29vcmQpO1xuICB2YXIgbm9ybWFsaXplZENvb3JkID0gbmV3IGdvb2dsZS5tYXBzLlBvaW50KHgsIGNvb3JkLnkpLCB1bmlxdWVJZCA9IHRoaXMuZ2V0VW5pcXVlVGlsZUlkXyhjb29yZCwgem9vbSksIHRpbGUgPSB0aGlzLmNyZWF0ZVRpbGUobm9ybWFsaXplZENvb3JkLCB6b29tLCBvd25lckRvY3VtZW50LCB1bmlxdWVJZCk7XG4gIHRpbGUudGlsZVNpemUgPSB0aGlzLnRpbGVTaXplO1xuICBnb29nLnN0eWxlLnNldE9wYWNpdHkodGlsZS5kaXYsIHRoaXMub3BhY2l0eSk7XG4gIHRoaXMudGlsZXNCeUlkLnNldCh1bmlxdWVJZCwgdGlsZSk7XG4gIHRoaXMucmVnaXN0ZXJTdGF0dXNDaGFuZ2VMaXN0ZW5lcl8odGlsZSk7XG4gIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgZWUubGF5ZXJzLlRpbGVTdGFydEV2ZW50KHRoaXMuZ2V0TG9hZGluZ1RpbGVzQ291bnQoKSkpO1xuICB0aGlzLnRpbGVTb3VyY2UubG9hZFRpbGUodGlsZSwgKG5ldyBEYXRlKCkpLmdldFRpbWUoKSAvIDEwMDApO1xuICByZXR1cm4gdGlsZS5kaXY7XG59O1xuZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5wcm90b3R5cGUucmVsZWFzZVRpbGUgPSBmdW5jdGlvbih0aWxlRGl2KSB7XG4gIHZhciB0aWxlID0gdGhpcy50aWxlc0J5SWQuZ2V0KHRpbGVEaXYuaWQpO1xuICB0aGlzLnRpbGVzQnlJZC5yZW1vdmUodGlsZURpdi5pZCk7XG4gIHRpbGUgJiYgKHRpbGUuYWJvcnQoKSwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGlzcG9zZV9kaXNwb3NlKHRpbGUpKTtcbn07XG5lZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5LnByb3RvdHlwZS5yZWdpc3RlclN0YXR1c0NoYW5nZUxpc3RlbmVyXyA9IGZ1bmN0aW9uKHRpbGUpIHtcbiAgdGhpcy5oYW5kbGVyLmxpc3Rlbih0aWxlLCBlZS5sYXllcnMuQWJzdHJhY3RUaWxlLkV2ZW50VHlwZS5TVEFUVVNfQ0hBTkdFRCwgZnVuY3Rpb24oKSB7XG4gICAgdmFyIFN0YXR1cyA9IGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzO1xuICAgIHN3aXRjaCh0aWxlLmdldFN0YXR1cygpKSB7XG4gICAgICBjYXNlIFN0YXR1cy5MT0FERUQ6XG4gICAgICAgIHRoaXMuc3RhdHMuYWRkVGlsZVN0YXRzKHRpbGUubG9hZGluZ1N0YXJ0VHNfLCAobmV3IERhdGUoKSkuZ2V0VGltZSgpLCB0aWxlLnpvb20pO1xuICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IGVlLmxheWVycy5UaWxlTG9hZEV2ZW50KHRoaXMuZ2V0TG9hZGluZ1RpbGVzQ291bnQoKSkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU3RhdHVzLlRIUk9UVExFRDpcbiAgICAgICAgdGhpcy5zdGF0cy5pbmNyZW1lbnRUaHJvdHRsZUNvdW50ZXIodGlsZS56b29tKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBlZS5sYXllcnMuVGlsZVRocm90dGxlRXZlbnQodGlsZS5zb3VyY2VVcmwpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFN0YXR1cy5GQUlMRUQ6XG4gICAgICAgIHRoaXMuc3RhdHMuaW5jcmVtZW50RXJyb3JDb3VudGVyKHRpbGUuem9vbSk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgZWUubGF5ZXJzLlRpbGVGYWlsRXZlbnQodGlsZS5zb3VyY2VVcmwsIHRpbGUuZXJyb3JNZXNzYWdlXykpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU3RhdHVzLkFCT1JURUQ6XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChuZXcgZWUubGF5ZXJzLlRpbGVBYm9ydEV2ZW50KHRoaXMuZ2V0TG9hZGluZ1RpbGVzQ291bnQoKSkpO1xuICAgIH1cbiAgfSk7XG59O1xuZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5wcm90b3R5cGUuZ2V0VW5pcXVlVGlsZUlkXyA9IGZ1bmN0aW9uKGNvb3JkLCB6KSB7XG4gIHZhciB0aWxlSWQgPSBbY29vcmQueCwgY29vcmQueSwgeiwgdGhpcy50aWxlQ291bnRlcisrXS5qb2luKFwiLVwiKSwgc291cmNlSWQgPSB0aGlzLnRpbGVTb3VyY2UuZ2V0VW5pcXVlSWQoKTtcbiAgcmV0dXJuIFt0aWxlSWQsIHNvdXJjZUlkXS5qb2luKFwiLVwiKTtcbn07XG5lZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5LnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbigpIHtcbiAgZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICB0aGlzLnRpbGVzQnlJZC5mb3JFYWNoKG1vZHVsZSRjb250ZW50cyRnb29nJGRpc3Bvc2VfZGlzcG9zZSk7XG4gIHRoaXMudGlsZXNCeUlkLmNsZWFyKCk7XG4gIHRoaXMudGlsZXNCeUlkID0gbnVsbDtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGlzcG9zZV9kaXNwb3NlKHRoaXMuaGFuZGxlcik7XG4gIHRoaXMudGlsZVNvdXJjZSA9IHRoaXMuaGFuZGxlciA9IG51bGw7XG59O1xuZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5wcm90b3R5cGUuZ2V0VGlsZUNvdW50Rm9yU3RhdHVzXyA9IGZ1bmN0aW9uKHN0YXR1cykge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY291bnQodGhpcy50aWxlc0J5SWQuZ2V0VmFsdWVzKCksIGZ1bmN0aW9uKHRpbGUpIHtcbiAgICByZXR1cm4gdGlsZS5nZXRTdGF0dXMoKSA9PSBzdGF0dXM7XG4gIH0pO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheVwiLCBlZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5KTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5wcm90b3R5cGUsIFwicmVtb3ZlVGlsZUNhbGxiYWNrXCIsIGVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkucHJvdG90eXBlLnJlbW92ZVRpbGVDYWxsYmFjayk7XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkucHJvdG90eXBlLCBcImFkZFRpbGVDYWxsYmFja1wiLCBlZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5LnByb3RvdHlwZS5hZGRUaWxlQ2FsbGJhY2spO1xuZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5FdmVudFR5cGUgPSB7VElMRV9GQUlMOlwidGlsZS1mYWlsXCIsIFRJTEVfQUJPUlQ6XCJ0aWxlLWFib3J0XCIsIFRJTEVfVEhST1RUTEU6XCJ0aWxlLXRocm90dGxlXCIsIFRJTEVfTE9BRDpcInRpbGUtbG9hZFwiLCBUSUxFX1NUQVJUOlwidGlsZS1zdGFydFwiLH07XG5lZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5LkRFRkFVTFRfVElMRV9FREdFX0xFTkdUSCA9IDI1NjtcbmVlLmxheWVycy5UaWxlTG9hZEV2ZW50ID0gZnVuY3Rpb24obG9hZGluZ1RpbGVDb3VudCkge1xuICBnb29nLmV2ZW50cy5FdmVudC5jYWxsKHRoaXMsIGVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkuRXZlbnRUeXBlLlRJTEVfTE9BRCk7XG4gIHRoaXMubG9hZGluZ1RpbGVDb3VudCA9IGxvYWRpbmdUaWxlQ291bnQ7XG59O1xuJGpzY29tcC5pbmhlcml0cyhlZS5sYXllcnMuVGlsZUxvYWRFdmVudCwgZ29vZy5ldmVudHMuRXZlbnQpO1xuZWUubGF5ZXJzLlRpbGVTdGFydEV2ZW50ID0gZnVuY3Rpb24obG9hZGluZ1RpbGVDb3VudCkge1xuICBnb29nLmV2ZW50cy5FdmVudC5jYWxsKHRoaXMsIGVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkuRXZlbnRUeXBlLlRJTEVfU1RBUlQpO1xuICB0aGlzLmxvYWRpbmdUaWxlQ291bnQgPSBsb2FkaW5nVGlsZUNvdW50O1xufTtcbiRqc2NvbXAuaW5oZXJpdHMoZWUubGF5ZXJzLlRpbGVTdGFydEV2ZW50LCBnb29nLmV2ZW50cy5FdmVudCk7XG5lZS5sYXllcnMuVGlsZVRocm90dGxlRXZlbnQgPSBmdW5jdGlvbih0aWxlVXJsKSB7XG4gIGdvb2cuZXZlbnRzLkV2ZW50LmNhbGwodGhpcywgZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5FdmVudFR5cGUuVElMRV9USFJPVFRMRSk7XG4gIHRoaXMudGlsZVVybCA9IHRpbGVVcmw7XG59O1xuJGpzY29tcC5pbmhlcml0cyhlZS5sYXllcnMuVGlsZVRocm90dGxlRXZlbnQsIGdvb2cuZXZlbnRzLkV2ZW50KTtcbmVlLmxheWVycy5UaWxlRmFpbEV2ZW50ID0gZnVuY3Rpb24odGlsZVVybCwgb3B0X2Vycm9yTWVzc2FnZSkge1xuICBnb29nLmV2ZW50cy5FdmVudC5jYWxsKHRoaXMsIGVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkuRXZlbnRUeXBlLlRJTEVfRkFJTCk7XG4gIHRoaXMudGlsZVVybCA9IHRpbGVVcmw7XG4gIHRoaXMuZXJyb3JNZXNzYWdlID0gb3B0X2Vycm9yTWVzc2FnZTtcbn07XG4kanNjb21wLmluaGVyaXRzKGVlLmxheWVycy5UaWxlRmFpbEV2ZW50LCBnb29nLmV2ZW50cy5FdmVudCk7XG5lZS5sYXllcnMuVGlsZUFib3J0RXZlbnQgPSBmdW5jdGlvbihsb2FkaW5nVGlsZUNvdW50KSB7XG4gIGdvb2cuZXZlbnRzLkV2ZW50LmNhbGwodGhpcywgZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheS5FdmVudFR5cGUuVElMRV9BQk9SVCk7XG4gIHRoaXMubG9hZGluZ1RpbGVDb3VudCA9IGxvYWRpbmdUaWxlQ291bnQ7XG59O1xuJGpzY29tcC5pbmhlcml0cyhlZS5sYXllcnMuVGlsZUFib3J0RXZlbnQsIGdvb2cuZXZlbnRzLkV2ZW50KTtcbmVlLmxheWVycy5BYnN0cmFjdFRpbGUgPSBmdW5jdGlvbihjb29yZCwgem9vbSwgb3duZXJEb2N1bWVudCwgdW5pcXVlSWQpIHtcbiAgZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQuY2FsbCh0aGlzKTtcbiAgdGhpcy5jb29yZCA9IGNvb3JkO1xuICB0aGlzLnpvb20gPSB6b29tO1xuICB0aGlzLmRpdiA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgdGhpcy5kaXYuaWQgPSB1bmlxdWVJZDtcbiAgdGhpcy5tYXhSZXRyaWVzID0gZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5ERUZBVUxUX01BWF9MT0FEX1JFVFJJRVNfO1xuICB0aGlzLnJlbmRlcmVyID0gZnVuY3Rpb24oKSB7XG4gIH07XG4gIHRoaXMuc3RhdHVzXyA9IGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzLk5FVztcbiAgdGhpcy5yZXRyeUF0dGVtcHRDb3VudF8gPSAwO1xuICB0aGlzLmlzUmV0cnlpbmdfID0gITE7XG59O1xuJGpzY29tcC5pbmhlcml0cyhlZS5sYXllcnMuQWJzdHJhY3RUaWxlLCBnb29nLmV2ZW50cy5FdmVudFRhcmdldCk7XG5lZS5sYXllcnMuQWJzdHJhY3RUaWxlLnByb3RvdHlwZS5zdGFydExvYWQgPSBmdW5jdGlvbigpIHtcbiAgdmFyICRqc2NvbXAkdGhpcyA9IHRoaXM7XG4gIGlmICghdGhpcy5pc1JldHJ5aW5nXyAmJiB0aGlzLmdldFN0YXR1cygpID09IGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzLkxPQURJTkcpIHtcbiAgICB0aHJvdyBFcnJvcihcInN0YXJ0TG9hZCgpIGNhbiBvbmx5IGJlIGludm9rZWQgb25jZS4gVXNlIHJldHJ5TG9hZCgpIGFmdGVyIHRoZSBmaXJzdCBhdHRlbXB0LlwiKTtcbiAgfVxuICB0aGlzLnNldFN0YXR1cyhlZS5sYXllcnMuQWJzdHJhY3RUaWxlLlN0YXR1cy5MT0FESU5HKTtcbiAgdGhpcy5sb2FkaW5nU3RhcnRUc18gPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuICB0aGlzLnhocklvXyA9IG5ldyBnb29nLm5ldC5YaHJJbygpO1xuICB0aGlzLnhocklvXy5zZXRSZXNwb25zZVR5cGUoZ29vZy5uZXQuWGhySW8uUmVzcG9uc2VUeXBlLkJMT0IpO1xuICB0aGlzLnhocklvXy5saXN0ZW4oZ29vZy5uZXQuRXZlbnRUeXBlLkNPTVBMRVRFLCBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciBibG9iID0gJGpzY29tcCR0aGlzLnhocklvXy5nZXRSZXNwb25zZSgpLCBzdGF0dXMgPSAkanNjb21wJHRoaXMueGhySW9fLmdldFN0YXR1cygpLCBIdHRwU3RhdHVzID0gZ29vZy5uZXQuSHR0cFN0YXR1cztcbiAgICBzdGF0dXMgPT0gSHR0cFN0YXR1cy5UT09fTUFOWV9SRVFVRVNUUyAmJiAkanNjb21wJHRoaXMuc2V0U3RhdHVzKGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzLlRIUk9UVExFRCk7XG4gICAgaWYgKEh0dHBTdGF0dXMuaXNTdWNjZXNzKHN0YXR1cykpIHtcbiAgICAgIHZhciBzb3VyY2VSZXNwb25zZUhlYWRlcnMgPSB7fTtcbiAgICAgIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9mb3JFYWNoKCRqc2NvbXAkdGhpcy54aHJJb18uZ2V0UmVzcG9uc2VIZWFkZXJzKCksIGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAgIHNvdXJjZVJlc3BvbnNlSGVhZGVyc1tuYW1lLnRvTG93ZXJDYXNlKCldID0gdmFsdWU7XG4gICAgICB9KTtcbiAgICAgICRqc2NvbXAkdGhpcy5zb3VyY2VSZXNwb25zZUhlYWRlcnMgPSBzb3VyY2VSZXNwb25zZUhlYWRlcnM7XG4gICAgICAkanNjb21wJHRoaXMuc291cmNlRGF0YSA9IGJsb2I7XG4gICAgICAkanNjb21wJHRoaXMuZmluaXNoTG9hZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoYmxvYikge1xuICAgICAgICB2YXIgcmVhZGVyID0gbmV3IGdvb2cuZnMuRmlsZVJlYWRlcigpO1xuICAgICAgICByZWFkZXIubGlzdGVuKGdvb2cuZnMuRmlsZVJlYWRlci5FdmVudFR5cGUuTE9BRF9FTkQsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRqc2NvbXAkdGhpcy5yZXRyeUxvYWQocmVhZGVyLmdldFJlc3VsdCgpKTtcbiAgICAgICAgfSwgdm9pZCAwKTtcbiAgICAgICAgcmVhZGVyLnJlYWRBc1RleHQoYmxvYik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkanNjb21wJHRoaXMucmV0cnlMb2FkKFwiRmFpbGVkIHRvIGxvYWQgdGlsZS5cIik7XG4gICAgICB9XG4gICAgfVxuICB9LCAhMSk7XG4gIHRoaXMueGhySW9fLmxpc3Rlbk9uY2UoZ29vZy5uZXQuRXZlbnRUeXBlLlJFQURZLCBnb29nLnBhcnRpYWwobW9kdWxlJGNvbnRlbnRzJGdvb2ckZGlzcG9zZV9kaXNwb3NlLCB0aGlzLnhocklvXykpO1xuICB0aGlzLnNvdXJjZVVybCAmJiB0aGlzLnNvdXJjZVVybC5lbmRzV2l0aChcIiZwcm9maWxpbmc9MVwiKSAmJiAodGhpcy5zb3VyY2VVcmwgPSB0aGlzLnNvdXJjZVVybC5yZXBsYWNlKFwiJnByb2ZpbGluZz0xXCIsIFwiXCIpLCB0aGlzLnhocklvXy5oZWFkZXJzLnNldChtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5QUk9GSUxFX1JFUVVFU1RfSEVBREVSLCBcIjFcIikpO1xuICB0aGlzLnhocklvXy5zZW5kKHRoaXMuc291cmNlVXJsLCBcIkdFVFwiKTtcbn07XG5lZS5sYXllcnMuQWJzdHJhY3RUaWxlLnByb3RvdHlwZS5maW5pc2hMb2FkID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucmVuZGVyZXIodGhpcyk7XG4gIHRoaXMuc2V0U3RhdHVzKGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzLkxPQURFRCk7XG59O1xuZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5wcm90b3R5cGUuY2FuY2VsTG9hZCA9IGZ1bmN0aW9uKCkge1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRkaXNwb3NlX2Rpc3Bvc2UodGhpcy54aHJJb18pO1xufTtcbmVlLmxheWVycy5BYnN0cmFjdFRpbGUucHJvdG90eXBlLnJldHJ5TG9hZCA9IGZ1bmN0aW9uKG9wdF9lcnJvck1lc3NhZ2UpIHtcbiAgdmFyIHBhcnNlRXJyb3IgPSBmdW5jdGlvbihlcnJvcikge1xuICAgIHRyeSB7XG4gICAgICBpZiAoZXJyb3IgPSBKU09OLnBhcnNlKGVycm9yKSwgZXJyb3IuZXJyb3IgJiYgZXJyb3IuZXJyb3IubWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gZXJyb3IuZXJyb3IubWVzc2FnZTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgfVxuICAgIHJldHVybiBlcnJvcjtcbiAgfTtcbiAgdGhpcy5yZXRyeUF0dGVtcHRDb3VudF8gPj0gdGhpcy5tYXhSZXRyaWVzID8gKHRoaXMuZXJyb3JNZXNzYWdlXyA9IHBhcnNlRXJyb3Iob3B0X2Vycm9yTWVzc2FnZSksIHRoaXMuc2V0U3RhdHVzKGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzLkZBSUxFRCkpIDogKHRoaXMuY2FuY2VsTG9hZCgpLCBzZXRUaW1lb3V0KGdvb2cuYmluZChmdW5jdGlvbigpIHtcbiAgICB0aGlzLmlzRGlzcG9zZWQoKSB8fCAodGhpcy5pc1JldHJ5aW5nXyA9ICEwLCB0aGlzLnN0YXJ0TG9hZCgpLCB0aGlzLmlzUmV0cnlpbmdfID0gITEpO1xuICB9LCB0aGlzKSwgMTAwMCAqIE1hdGgucG93KDIsIHRoaXMucmV0cnlBdHRlbXB0Q291bnRfKyspKSk7XG59O1xuZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5wcm90b3R5cGUuYWJvcnQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5jYW5jZWxMb2FkKCk7XG4gIHRoaXMuZ2V0U3RhdHVzKCkgIT0gZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5TdGF0dXMuQUJPUlRFRCAmJiB0aGlzLmdldFN0YXR1cygpICE9IGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzLlJFTU9WRUQgJiYgdGhpcy5zZXRTdGF0dXModGhpcy5pc0RvbmUoKSA/IGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzLlJFTU9WRUQgOiBlZS5sYXllcnMuQWJzdHJhY3RUaWxlLlN0YXR1cy5BQk9SVEVEKTtcbn07XG5lZS5sYXllcnMuQWJzdHJhY3RUaWxlLnByb3RvdHlwZS5pc0RvbmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuc3RhdHVzXyBpbiBlZS5sYXllcnMuQWJzdHJhY3RUaWxlLkRPTkVfU1RBVFVTX1NFVF87XG59O1xuZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5wcm90b3R5cGUuZ2V0U3RhdHVzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnN0YXR1c187XG59O1xuZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5wcm90b3R5cGUuc2V0U3RhdHVzID0gZnVuY3Rpb24oc3RhdHVzKSB7XG4gIHRoaXMuc3RhdHVzXyA9IHN0YXR1cztcbiAgdGhpcy5kaXNwYXRjaEV2ZW50KGVlLmxheWVycy5BYnN0cmFjdFRpbGUuRXZlbnRUeXBlLlNUQVRVU19DSEFOR0VEKTtcbn07XG5lZS5sYXllcnMuQWJzdHJhY3RUaWxlLnByb3RvdHlwZS5kaXNwb3NlSW50ZXJuYWwgPSBmdW5jdGlvbigpIHtcbiAgZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICB0aGlzLmNhbmNlbExvYWQoKTtcbiAgdGhpcy5kaXYucmVtb3ZlKCk7XG4gIHRoaXMucmVuZGVyZXIgPSBudWxsO1xufTtcbmVlLmxheWVycy5BYnN0cmFjdFRpbGUuRXZlbnRUeXBlID0ge1NUQVRVU19DSEFOR0VEOlwic3RhdHVzLWNoYW5nZWRcIn07XG5lZS5sYXllcnMuQWJzdHJhY3RUaWxlLlN0YXR1cyA9IHtORVc6XCJuZXdcIiwgTE9BRElORzpcImxvYWRpbmdcIiwgVEhST1RUTEVEOlwidGhyb3R0bGVkXCIsIExPQURFRDpcImxvYWRlZFwiLCBGQUlMRUQ6XCJmYWlsZWRcIiwgQUJPUlRFRDpcImFib3J0ZWRcIiwgUkVNT1ZFRDpcInJlbW92ZWRcIix9O1xuZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5ET05FX1NUQVRVU19TRVRfID0gbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2NyZWF0ZVNldChlZS5sYXllcnMuQWJzdHJhY3RUaWxlLlN0YXR1cy5BQk9SVEVELCBlZS5sYXllcnMuQWJzdHJhY3RUaWxlLlN0YXR1cy5GQUlMRUQsIGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzLkxPQURFRCwgZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5TdGF0dXMuUkVNT1ZFRCk7XG5lZS5sYXllcnMuQWJzdHJhY3RUaWxlLkRFRkFVTFRfTUFYX0xPQURfUkVUUklFU18gPSA1O1xudmFyIG1vZHVsZSRleHBvcnRzJGVlJGxheWVycyRBYnN0cmFjdFRpbGVTb3VyY2UgPSBmdW5jdGlvbigpIHtcbiAgZ29vZy5EaXNwb3NhYmxlLmNhbGwodGhpcyk7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkZXhwb3J0cyRlZSRsYXllcnMkQWJzdHJhY3RUaWxlU291cmNlLCBnb29nLkRpc3Bvc2FibGUpO1xuZWUubGF5ZXJzLkJpbmFyeU92ZXJsYXkgPSBmdW5jdGlvbih0aWxlU291cmNlLCBvcHRfb3B0aW9ucykge1xuICBlZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5LmNhbGwodGhpcywgdGlsZVNvdXJjZSwgb3B0X29wdGlvbnMpO1xuICB0aGlzLmJ1ZmZlcnNCeUNvb3JkXyA9IG5ldyBnb29nLnN0cnVjdHMuTWFwKCk7XG4gIHRoaXMuZGl2c0J5Q29vcmRfID0gbmV3IGdvb2cuc3RydWN0cy5NYXAoKTtcbn07XG4kanNjb21wLmluaGVyaXRzKGVlLmxheWVycy5CaW5hcnlPdmVybGF5LCBlZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5KTtcbmVlLmxheWVycy5CaW5hcnlPdmVybGF5LnByb3RvdHlwZS5jcmVhdGVUaWxlID0gZnVuY3Rpb24oY29vcmQsIHpvb20sIG93bmVyRG9jdW1lbnQsIHVuaXF1ZUlkKSB7XG4gIHZhciB0aWxlID0gbmV3IGVlLmxheWVycy5CaW5hcnlUaWxlKGNvb3JkLCB6b29tLCBvd25lckRvY3VtZW50LCB1bmlxdWVJZCk7XG4gIHRoaXMuaGFuZGxlci5saXN0ZW4odGlsZSwgZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5FdmVudFR5cGUuU1RBVFVTX0NIQU5HRUQsIGZ1bmN0aW9uKCkge1xuICAgIHRpbGUuZ2V0U3RhdHVzKCkgPT0gZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5TdGF0dXMuTE9BREVEICYmICh0aGlzLmJ1ZmZlcnNCeUNvb3JkXy5zZXQoY29vcmQsIG5ldyBGbG9hdDMyQXJyYXkodGlsZS5idWZmZXJfKSksIHRoaXMuZGl2c0J5Q29vcmRfLnNldChjb29yZCwgdGlsZS5kaXYpKTtcbiAgfSk7XG4gIHJldHVybiB0aWxlO1xufTtcbmVlLmxheWVycy5CaW5hcnlPdmVybGF5LnByb3RvdHlwZS5nZXRCdWZmZXJzQnlDb29yZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5idWZmZXJzQnlDb29yZF87XG59O1xuZWUubGF5ZXJzLkJpbmFyeU92ZXJsYXkucHJvdG90eXBlLmdldERpdnNCeUNvb3JkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmRpdnNCeUNvb3JkXztcbn07XG5lZS5sYXllcnMuQmluYXJ5T3ZlcmxheS5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24oKSB7XG4gIGVlLmxheWVycy5BYnN0cmFjdE92ZXJsYXkucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICB0aGlzLmRpdnNCeUNvb3JkXyA9IHRoaXMuYnVmZmVyc0J5Q29vcmRfID0gbnVsbDtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmxheWVycy5CaW5hcnlPdmVybGF5XCIsIGVlLmxheWVycy5CaW5hcnlPdmVybGF5KTtcbmVlLmxheWVycy5CaW5hcnlUaWxlID0gZnVuY3Rpb24oY29vcmQsIHpvb20sIG93bmVyRG9jdW1lbnQsIHVuaXF1ZUlkKSB7XG4gIGVlLmxheWVycy5BYnN0cmFjdFRpbGUuY2FsbCh0aGlzLCBjb29yZCwgem9vbSwgb3duZXJEb2N1bWVudCwgdW5pcXVlSWQpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMoZWUubGF5ZXJzLkJpbmFyeVRpbGUsIGVlLmxheWVycy5BYnN0cmFjdFRpbGUpO1xuZWUubGF5ZXJzLkJpbmFyeVRpbGUucHJvdG90eXBlLmZpbmlzaExvYWQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHJlYWRlciA9IG5ldyBnb29nLmZzLkZpbGVSZWFkZXIoKTtcbiAgcmVhZGVyLmxpc3Rlbihnb29nLmZzLkZpbGVSZWFkZXIuRXZlbnRUeXBlLkxPQURfRU5ELCBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmJ1ZmZlcl8gPSByZWFkZXIuZ2V0UmVzdWx0KCk7XG4gICAgZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5wcm90b3R5cGUuZmluaXNoTG9hZC5jYWxsKHRoaXMpO1xuICB9LCB2b2lkIDAsIHRoaXMpO1xuICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIodGhpcy5zb3VyY2VEYXRhKTtcbn07XG5nb29nLm5ldC5JbWFnZUxvYWRlciA9IGZ1bmN0aW9uKG9wdF9wYXJlbnQpIHtcbiAgZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQuY2FsbCh0aGlzKTtcbiAgdGhpcy5pbWFnZUlkVG9SZXF1ZXN0TWFwXyA9IHt9O1xuICB0aGlzLmltYWdlSWRUb0ltYWdlTWFwXyA9IHt9O1xuICB0aGlzLmhhbmRsZXJfID0gbmV3IGdvb2cuZXZlbnRzLkV2ZW50SGFuZGxlcih0aGlzKTtcbiAgdGhpcy5wYXJlbnRfID0gb3B0X3BhcmVudDtcbiAgdGhpcy5jb21wbGV0aW9uRmlyZWRfID0gITE7XG59O1xuZ29vZy5pbmhlcml0cyhnb29nLm5ldC5JbWFnZUxvYWRlciwgZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQpO1xuZ29vZy5uZXQuSW1hZ2VMb2FkZXIuQ29yc1JlcXVlc3RUeXBlID0ge0FOT05ZTU9VUzpcImFub255bW91c1wiLCBVU0VfQ1JFREVOVElBTFM6XCJ1c2UtY3JlZGVudGlhbHNcIix9O1xuZ29vZy5uZXQuSW1hZ2VMb2FkZXIuSU1BR0VfTE9BRF9FVkVOVFNfID0gW2dvb2cudXNlckFnZW50LklFICYmICFnb29nLnVzZXJBZ2VudC5pc1ZlcnNpb25PckhpZ2hlcihcIjExXCIpID8gZ29vZy5uZXQuRXZlbnRUeXBlLlJFQURZX1NUQVRFX0NIQU5HRSA6IGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5MT0FELCBnb29nLm5ldC5FdmVudFR5cGUuQUJPUlQsIGdvb2cubmV0LkV2ZW50VHlwZS5FUlJPUixdO1xuZ29vZy5uZXQuSW1hZ2VMb2FkZXIucHJvdG90eXBlLmFkZEltYWdlID0gZnVuY3Rpb24oaWQsIGltYWdlLCBvcHRfY29yc1JlcXVlc3RUeXBlKSB7XG4gIHZhciBzcmMgPSBcInN0cmluZ1wiID09PSB0eXBlb2YgaW1hZ2UgPyBpbWFnZSA6IGltYWdlLnNyYztcbiAgc3JjICYmICh0aGlzLmNvbXBsZXRpb25GaXJlZF8gPSAhMSwgdGhpcy5pbWFnZUlkVG9SZXF1ZXN0TWFwX1tpZF0gPSB7c3JjOnNyYywgY29yc1JlcXVlc3RUeXBlOnZvaWQgMCAhPT0gb3B0X2NvcnNSZXF1ZXN0VHlwZSA/IG9wdF9jb3JzUmVxdWVzdFR5cGUgOiBudWxsLH0pO1xufTtcbmdvb2cubmV0LkltYWdlTG9hZGVyLnByb3RvdHlwZS5yZW1vdmVJbWFnZSA9IGZ1bmN0aW9uKGlkKSB7XG4gIGRlbGV0ZSB0aGlzLmltYWdlSWRUb1JlcXVlc3RNYXBfW2lkXTtcbiAgdmFyIGltYWdlID0gdGhpcy5pbWFnZUlkVG9JbWFnZU1hcF9baWRdO1xuICBpbWFnZSAmJiAoZGVsZXRlIHRoaXMuaW1hZ2VJZFRvSW1hZ2VNYXBfW2lkXSwgdGhpcy5oYW5kbGVyXy51bmxpc3RlbihpbWFnZSwgZ29vZy5uZXQuSW1hZ2VMb2FkZXIuSU1BR0VfTE9BRF9FVkVOVFNfLCB0aGlzLm9uTmV0d29ya0V2ZW50XykpO1xufTtcbmdvb2cubmV0LkltYWdlTG9hZGVyLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaW1hZ2VJZFRvUmVxdWVzdE1hcCA9IHRoaXMuaW1hZ2VJZFRvUmVxdWVzdE1hcF87XG4gIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9nZXRLZXlzKGltYWdlSWRUb1JlcXVlc3RNYXApLmZvckVhY2goZnVuY3Rpb24oaWQpIHtcbiAgICB2YXIgaW1hZ2VSZXF1ZXN0ID0gaW1hZ2VJZFRvUmVxdWVzdE1hcFtpZF07XG4gICAgaW1hZ2VSZXF1ZXN0ICYmIChkZWxldGUgaW1hZ2VJZFRvUmVxdWVzdE1hcFtpZF0sIHRoaXMubG9hZEltYWdlXyhpbWFnZVJlcXVlc3QsIGlkKSk7XG4gIH0sIHRoaXMpO1xufTtcbmdvb2cubmV0LkltYWdlTG9hZGVyLnByb3RvdHlwZS5sb2FkSW1hZ2VfID0gZnVuY3Rpb24oaW1hZ2VSZXF1ZXN0LCBpZCkge1xuICBpZiAoIXRoaXMuaXNEaXNwb3NlZCgpKSB7XG4gICAgdmFyIGltYWdlID0gdGhpcy5wYXJlbnRfID8gZ29vZy5kb20uZ2V0RG9tSGVscGVyKHRoaXMucGFyZW50XykuY3JlYXRlRG9tKGdvb2cuZG9tLlRhZ05hbWUuSU1HKSA6IG5ldyBJbWFnZSgpO1xuICAgIGltYWdlUmVxdWVzdC5jb3JzUmVxdWVzdFR5cGUgJiYgKGltYWdlLmNyb3NzT3JpZ2luID0gaW1hZ2VSZXF1ZXN0LmNvcnNSZXF1ZXN0VHlwZSk7XG4gICAgdGhpcy5oYW5kbGVyXy5saXN0ZW4oaW1hZ2UsIGdvb2cubmV0LkltYWdlTG9hZGVyLklNQUdFX0xPQURfRVZFTlRTXywgdGhpcy5vbk5ldHdvcmtFdmVudF8pO1xuICAgIHRoaXMuaW1hZ2VJZFRvSW1hZ2VNYXBfW2lkXSA9IGltYWdlO1xuICAgIGltYWdlLmlkID0gaWQ7XG4gICAgaW1hZ2Uuc3JjID0gaW1hZ2VSZXF1ZXN0LnNyYztcbiAgfVxufTtcbmdvb2cubmV0LkltYWdlTG9hZGVyLnByb3RvdHlwZS5vbk5ldHdvcmtFdmVudF8gPSBmdW5jdGlvbihldnQpIHtcbiAgdmFyIGltYWdlID0gZXZ0LmN1cnJlbnRUYXJnZXQ7XG4gIGlmIChpbWFnZSkge1xuICAgIGlmIChldnQudHlwZSA9PSBnb29nLm5ldC5FdmVudFR5cGUuUkVBRFlfU1RBVEVfQ0hBTkdFKSB7XG4gICAgICBpZiAoaW1hZ2UucmVhZHlTdGF0ZSA9PSBnb29nLm5ldC5FdmVudFR5cGUuQ09NUExFVEUpIHtcbiAgICAgICAgZXZ0LnR5cGUgPSBnb29nLmV2ZW50cy5FdmVudFR5cGUuTE9BRDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgXCJ1bmRlZmluZWRcIiA9PSB0eXBlb2YgaW1hZ2UubmF0dXJhbFdpZHRoICYmIChldnQudHlwZSA9PSBnb29nLmV2ZW50cy5FdmVudFR5cGUuTE9BRCA/IChpbWFnZS5uYXR1cmFsV2lkdGggPSBpbWFnZS53aWR0aCwgaW1hZ2UubmF0dXJhbEhlaWdodCA9IGltYWdlLmhlaWdodCkgOiAoaW1hZ2UubmF0dXJhbFdpZHRoID0gMCwgaW1hZ2UubmF0dXJhbEhlaWdodCA9IDApKTtcbiAgICB0aGlzLnJlbW92ZUltYWdlKGltYWdlLmlkKTtcbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoe3R5cGU6ZXZ0LnR5cGUsIHRhcmdldDppbWFnZX0pO1xuICAgIHRoaXMuaXNEaXNwb3NlZCgpIHx8IHRoaXMubWF5YmVGaXJlQ29tcGxldGlvbkV2ZW50XygpO1xuICB9XG59O1xuZ29vZy5uZXQuSW1hZ2VMb2FkZXIucHJvdG90eXBlLm1heWJlRmlyZUNvbXBsZXRpb25FdmVudF8gPSBmdW5jdGlvbigpIHtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2lzRW1wdHkodGhpcy5pbWFnZUlkVG9JbWFnZU1hcF8pICYmIG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9pc0VtcHR5KHRoaXMuaW1hZ2VJZFRvUmVxdWVzdE1hcF8pICYmICF0aGlzLmNvbXBsZXRpb25GaXJlZF8gJiYgKHRoaXMuY29tcGxldGlvbkZpcmVkXyA9ICEwLCB0aGlzLmRpc3BhdGNoRXZlbnQoZ29vZy5uZXQuRXZlbnRUeXBlLkNPTVBMRVRFKSk7XG59O1xuZ29vZy5uZXQuSW1hZ2VMb2FkZXIucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uKCkge1xuICBkZWxldGUgdGhpcy5pbWFnZUlkVG9SZXF1ZXN0TWFwXztcbiAgZGVsZXRlIHRoaXMuaW1hZ2VJZFRvSW1hZ2VNYXBfO1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRkaXNwb3NlX2Rpc3Bvc2UodGhpcy5oYW5kbGVyXyk7XG4gIGdvb2cubmV0LkltYWdlTG9hZGVyLnN1cGVyQ2xhc3NfLmRpc3Bvc2VJbnRlcm5hbC5jYWxsKHRoaXMpO1xufTtcbmVlLmxheWVycy5JbWFnZU92ZXJsYXkgPSBmdW5jdGlvbih0aWxlU291cmNlLCBvcHRfb3B0aW9ucykge1xuICBlZS5sYXllcnMuQWJzdHJhY3RPdmVybGF5LmNhbGwodGhpcywgdGlsZVNvdXJjZSwgb3B0X29wdGlvbnMpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMoZWUubGF5ZXJzLkltYWdlT3ZlcmxheSwgZWUubGF5ZXJzLkFic3RyYWN0T3ZlcmxheSk7XG5lZS5sYXllcnMuSW1hZ2VPdmVybGF5LnByb3RvdHlwZS5jcmVhdGVUaWxlID0gZnVuY3Rpb24oY29vcmQsIHpvb20sIG93bmVyRG9jdW1lbnQsIHVuaXF1ZUlkKSB7XG4gIHJldHVybiBuZXcgZWUubGF5ZXJzLkltYWdlVGlsZShjb29yZCwgem9vbSwgb3duZXJEb2N1bWVudCwgdW5pcXVlSWQpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUubGF5ZXJzLkltYWdlT3ZlcmxheVwiLCBlZS5sYXllcnMuSW1hZ2VPdmVybGF5KTtcbmVlLmxheWVycy5JbWFnZVRpbGUgPSBmdW5jdGlvbihjb29yZCwgem9vbSwgb3duZXJEb2N1bWVudCwgdW5pcXVlSWQpIHtcbiAgZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5jYWxsKHRoaXMsIGNvb3JkLCB6b29tLCBvd25lckRvY3VtZW50LCB1bmlxdWVJZCk7XG4gIHRoaXMucmVuZGVyZXIgPSBlZS5sYXllcnMuSW1hZ2VUaWxlLmRlZmF1bHRSZW5kZXJlcl87XG4gIHRoaXMuaW1hZ2VMb2FkZXJMaXN0ZW5lcktleV8gPSB0aGlzLmltYWdlTG9hZGVyXyA9IHRoaXMuaW1hZ2VFbCA9IG51bGw7XG4gIHRoaXMub2JqZWN0VXJsXyA9IFwiXCI7XG59O1xuJGpzY29tcC5pbmhlcml0cyhlZS5sYXllcnMuSW1hZ2VUaWxlLCBlZS5sYXllcnMuQWJzdHJhY3RUaWxlKTtcbmVlLmxheWVycy5JbWFnZVRpbGUucHJvdG90eXBlLmZpbmlzaExvYWQgPSBmdW5jdGlvbigpIHtcbiAgdHJ5IHtcbiAgICB2YXIgc2FmZVVybCA9IGdvb2cuaHRtbC5TYWZlVXJsLmZyb21CbG9iKHRoaXMuc291cmNlRGF0YSk7XG4gICAgdGhpcy5vYmplY3RVcmxfID0gZ29vZy5odG1sLlNhZmVVcmwudW53cmFwKHNhZmVVcmwpO1xuICAgIHZhciBpbWFnZVVybCA9IHRoaXMub2JqZWN0VXJsXyAhPT0gZ29vZy5odG1sLlNhZmVVcmwuSU5OT0NVT1VTX1NUUklORyA/IHRoaXMub2JqZWN0VXJsXyA6IHRoaXMuc291cmNlVXJsO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaW1hZ2VVcmwgPSB0aGlzLnNvdXJjZVVybDtcbiAgfVxuICB0aGlzLmltYWdlTG9hZGVyXyA9IG5ldyBnb29nLm5ldC5JbWFnZUxvYWRlcigpO1xuICB0aGlzLmltYWdlTG9hZGVyXy5hZGRJbWFnZSh0aGlzLmRpdi5pZCArIFwiLWltYWdlXCIsIGltYWdlVXJsKTtcbiAgdGhpcy5pbWFnZUxvYWRlckxpc3RlbmVyS2V5XyA9IGdvb2cuZXZlbnRzLmxpc3Rlbk9uY2UodGhpcy5pbWFnZUxvYWRlcl8sIGVlLmxheWVycy5JbWFnZVRpbGUuSU1BR0VfTE9BREVSX0VWRU5UU18sIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgZXZlbnQudHlwZSA9PSBnb29nLmV2ZW50cy5FdmVudFR5cGUuTE9BRCA/ICh0aGlzLmltYWdlRWwgPSBldmVudC50YXJnZXQsIGVlLmxheWVycy5BYnN0cmFjdFRpbGUucHJvdG90eXBlLmZpbmlzaExvYWQuY2FsbCh0aGlzKSkgOiB0aGlzLnJldHJ5TG9hZCgpO1xuICB9LCB2b2lkIDAsIHRoaXMpO1xuICB0aGlzLmltYWdlTG9hZGVyXy5zdGFydCgpO1xufTtcbmVlLmxheWVycy5JbWFnZVRpbGUucHJvdG90eXBlLmNhbmNlbExvYWQgPSBmdW5jdGlvbigpIHtcbiAgZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5wcm90b3R5cGUuY2FuY2VsTG9hZC5jYWxsKHRoaXMpO1xuICB0aGlzLmltYWdlTG9hZGVyXyAmJiAoZ29vZy5ldmVudHMudW5saXN0ZW5CeUtleSh0aGlzLmltYWdlTG9hZGVyTGlzdGVuZXJLZXlfKSwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckZGlzcG9zZV9kaXNwb3NlKHRoaXMuaW1hZ2VMb2FkZXJfKSk7XG59O1xuZWUubGF5ZXJzLkltYWdlVGlsZS5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24oKSB7XG4gIGVlLmxheWVycy5BYnN0cmFjdFRpbGUucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbC5jYWxsKHRoaXMpO1xuICB0aGlzLm9iamVjdFVybF8gJiYgVVJMLnJldm9rZU9iamVjdFVSTCh0aGlzLm9iamVjdFVybF8pO1xufTtcbmVlLmxheWVycy5JbWFnZVRpbGUuZGVmYXVsdFJlbmRlcmVyXyA9IGZ1bmN0aW9uKHRpbGUpIHtcbiAgdGlsZS5kaXYuYXBwZW5kQ2hpbGQodGlsZS5pbWFnZUVsKTtcbn07XG5lZS5sYXllcnMuSW1hZ2VUaWxlLklNQUdFX0xPQURFUl9FVkVOVFNfID0gW2dvb2cuZXZlbnRzLkV2ZW50VHlwZS5MT0FELCBnb29nLm5ldC5FdmVudFR5cGUuQUJPUlQsIGdvb2cubmV0LkV2ZW50VHlwZS5FUlJPUl07XG5nb29nLnN0cmluZy5wYXRoID0ge307XG5nb29nLnN0cmluZy5wYXRoLmJhc2VOYW1lID0gZnVuY3Rpb24ocGF0aCkge1xuICB2YXIgaSA9IHBhdGgubGFzdEluZGV4T2YoXCIvXCIpICsgMTtcbiAgcmV0dXJuIHBhdGguc2xpY2UoaSk7XG59O1xuZ29vZy5zdHJpbmcucGF0aC5iYXNlbmFtZSA9IGdvb2cuc3RyaW5nLnBhdGguYmFzZU5hbWU7XG5nb29nLnN0cmluZy5wYXRoLmRpcm5hbWUgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHZhciBpID0gcGF0aC5sYXN0SW5kZXhPZihcIi9cIikgKyAxLCBoZWFkID0gcGF0aC5zbGljZSgwLCBpKTtcbiAgL15cXC8rJC8udGVzdChoZWFkKSB8fCAoaGVhZCA9IGhlYWQucmVwbGFjZSgvXFwvKyQvLCBcIlwiKSk7XG4gIHJldHVybiBoZWFkO1xufTtcbmdvb2cuc3RyaW5nLnBhdGguZXh0ZW5zaW9uID0gZnVuY3Rpb24ocGF0aCkge1xuICB2YXIgYmFzZU5hbWUgPSBnb29nLnN0cmluZy5wYXRoLmJhc2VOYW1lKHBhdGgpLnJlcGxhY2UoL1xcLisvZywgXCIuXCIpLCBzZXBhcmF0b3JJbmRleCA9IGJhc2VOYW1lLmxhc3RJbmRleE9mKFwiLlwiKTtcbiAgcmV0dXJuIDAgPj0gc2VwYXJhdG9ySW5kZXggPyBcIlwiIDogYmFzZU5hbWUuc3Vic3RyKHNlcGFyYXRvckluZGV4ICsgMSk7XG59O1xuZ29vZy5zdHJpbmcucGF0aC5qb2luID0gZnVuY3Rpb24odmFyX2FyZ3MpIHtcbiAgZm9yICh2YXIgcGF0aCA9IGFyZ3VtZW50c1swXSwgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgYXJnID0gYXJndW1lbnRzW2ldO1xuICAgIHBhdGggPSBnb29nLnN0cmluZy5zdGFydHNXaXRoKGFyZywgXCIvXCIpID8gYXJnIDogXCJcIiA9PSBwYXRoIHx8IGdvb2cuc3RyaW5nLmVuZHNXaXRoKHBhdGgsIFwiL1wiKSA/IHBhdGggKyBhcmcgOiBwYXRoICsgKFwiL1wiICsgYXJnKTtcbiAgfVxuICByZXR1cm4gcGF0aDtcbn07XG5nb29nLnN0cmluZy5wYXRoLm5vcm1hbGl6ZVBhdGggPSBmdW5jdGlvbihwYXRoKSB7XG4gIGlmIChcIlwiID09IHBhdGgpIHtcbiAgICByZXR1cm4gXCIuXCI7XG4gIH1cbiAgdmFyIGluaXRpYWxTbGFzaGVzID0gXCJcIjtcbiAgZ29vZy5zdHJpbmcuc3RhcnRzV2l0aChwYXRoLCBcIi9cIikgJiYgKGluaXRpYWxTbGFzaGVzID0gXCIvXCIsIGdvb2cuc3RyaW5nLnN0YXJ0c1dpdGgocGF0aCwgXCIvL1wiKSAmJiAhZ29vZy5zdHJpbmcuc3RhcnRzV2l0aChwYXRoLCBcIi8vL1wiKSAmJiAoaW5pdGlhbFNsYXNoZXMgPSBcIi8vXCIpKTtcbiAgZm9yICh2YXIgcGFydHMgPSBwYXRoLnNwbGl0KFwiL1wiKSwgbmV3UGFydHMgPSBbXSwgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBwYXJ0ID0gcGFydHNbaV07XG4gICAgXCJcIiAhPSBwYXJ0ICYmIFwiLlwiICE9IHBhcnQgJiYgKFwiLi5cIiAhPSBwYXJ0IHx8ICFpbml0aWFsU2xhc2hlcyAmJiAhbmV3UGFydHMubGVuZ3RoIHx8IFwiLi5cIiA9PSBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9wZWVrKG5ld1BhcnRzKSA/IG5ld1BhcnRzLnB1c2gocGFydCkgOiBuZXdQYXJ0cy5wb3AoKSk7XG4gIH1cbiAgcmV0dXJuIGluaXRpYWxTbGFzaGVzICsgbmV3UGFydHMuam9pbihcIi9cIikgfHwgXCIuXCI7XG59O1xuZ29vZy5zdHJpbmcucGF0aC5zcGxpdCA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgdmFyIGhlYWQgPSBnb29nLnN0cmluZy5wYXRoLmRpcm5hbWUocGF0aCksIHRhaWwgPSBnb29nLnN0cmluZy5wYXRoLmJhc2VOYW1lKHBhdGgpO1xuICByZXR1cm4gW2hlYWQsIHRhaWxdO1xufTtcbnZhciBtb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJENsb3VkU3RvcmFnZVRpbGVTb3VyY2VfQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZSA9IGZ1bmN0aW9uKGJ1Y2tldCwgcGF0aCwgbWF4Wm9vbSwgb3B0X3N1ZmZpeCkge1xuICBtb2R1bGUkZXhwb3J0cyRlZSRsYXllcnMkQWJzdHJhY3RUaWxlU291cmNlLmNhbGwodGhpcyk7XG4gIHRoaXMuYnVja2V0XyA9IGJ1Y2tldDtcbiAgdGhpcy5wYXRoXyA9IHBhdGg7XG4gIHRoaXMuc3VmZml4XyA9IG9wdF9zdWZmaXggfHwgXCJcIjtcbiAgdGhpcy5tYXhab29tXyA9IG1heFpvb207XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJENsb3VkU3RvcmFnZVRpbGVTb3VyY2VfQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZSwgbW9kdWxlJGV4cG9ydHMkZWUkbGF5ZXJzJEFic3RyYWN0VGlsZVNvdXJjZSk7XG5tb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJENsb3VkU3RvcmFnZVRpbGVTb3VyY2VfQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZS5wcm90b3R5cGUubG9hZFRpbGUgPSBmdW5jdGlvbih0aWxlLCBvcHRfcHJpb3JpdHkpIHtcbiAgaWYgKHRpbGUuem9vbSA8PSB0aGlzLm1heFpvb21fKSB7XG4gICAgdGlsZS5zb3VyY2VVcmwgPSB0aGlzLmdldFRpbGVVcmxfKHRpbGUuY29vcmQsIHRpbGUuem9vbSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHpvb21TdGVwcyA9IHRpbGUuem9vbSAtIHRoaXMubWF4Wm9vbV8sIHpvb21GYWN0b3IgPSBNYXRoLnBvdygyLCB6b29tU3RlcHMpLCB1cHBlckNvb3JkID0gbmV3IGdvb2dsZS5tYXBzLlBvaW50KE1hdGguZmxvb3IodGlsZS5jb29yZC54IC8gem9vbUZhY3RvciksIE1hdGguZmxvb3IodGlsZS5jb29yZC55IC8gem9vbUZhY3RvcikpO1xuICAgIHRpbGUuc291cmNlVXJsID0gdGhpcy5nZXRUaWxlVXJsXyh1cHBlckNvb3JkLCB0aWxlLnpvb20gLSB6b29tU3RlcHMpO1xuICAgIHRpbGUucmVuZGVyZXIgPSBnb29nLnBhcnRpYWwobW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRDbG91ZFN0b3JhZ2VUaWxlU291cmNlX0Nsb3VkU3RvcmFnZVRpbGVTb3VyY2Uuem9vbVRpbGVSZW5kZXJlcl8sIHRoaXMubWF4Wm9vbV8pO1xuICB9XG4gIHZhciBvcmlnaW5hbFJldHJ5TG9hZCA9IGdvb2cuYmluZCh0aWxlLnJldHJ5TG9hZCwgdGlsZSk7XG4gIHRpbGUucmV0cnlMb2FkID0gZ29vZy5iaW5kKGZ1bmN0aW9uKG9wdF9lcnJvck1lc3NhZ2UpIHtcbiAgICBvcHRfZXJyb3JNZXNzYWdlICYmIChvcHRfZXJyb3JNZXNzYWdlLmluY2x1ZGVzKG1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZV9DbG91ZFN0b3JhZ2VUaWxlU291cmNlLk1JU1NJTkdfVElMRV9FUlJPUl8pIHx8IG9wdF9lcnJvck1lc3NhZ2UuaW5jbHVkZXMobW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRDbG91ZFN0b3JhZ2VUaWxlU291cmNlX0Nsb3VkU3RvcmFnZVRpbGVTb3VyY2UuQUNDRVNTX0RFTklFRF9FUlJPUl8pKSA/IHRpbGUuc2V0U3RhdHVzKGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzLkxPQURFRCkgOiBvcmlnaW5hbFJldHJ5TG9hZChvcHRfZXJyb3JNZXNzYWdlKTtcbiAgfSwgdGlsZSk7XG4gIHRpbGUuc3RhcnRMb2FkKCk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRDbG91ZFN0b3JhZ2VUaWxlU291cmNlX0Nsb3VkU3RvcmFnZVRpbGVTb3VyY2UucHJvdG90eXBlLmdldFVuaXF1ZUlkID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBbdGhpcy5idWNrZXRfLCB0aGlzLnBhdGhfLCB0aGlzLm1heFpvb21fLCB0aGlzLnN1ZmZpeF9dLmpvaW4oXCItXCIpO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZV9DbG91ZFN0b3JhZ2VUaWxlU291cmNlLnByb3RvdHlwZS5nZXRUaWxlVXJsXyA9IGZ1bmN0aW9uKGNvb3JkLCB6b29tKSB7XG4gIHZhciB1cmwgPSBnb29nLnN0cmluZy5wYXRoLmpvaW4obW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRDbG91ZFN0b3JhZ2VUaWxlU291cmNlX0Nsb3VkU3RvcmFnZVRpbGVTb3VyY2UuQkFTRV9VUkwsIHRoaXMuYnVja2V0XywgdGhpcy5wYXRoXywgU3RyaW5nKHpvb20pLCBTdHJpbmcoY29vcmQueCksIFN0cmluZyhjb29yZC55KSk7XG4gIHRoaXMuc3VmZml4XyAmJiAodXJsICs9IHRoaXMuc3VmZml4Xyk7XG4gIHJldHVybiB1cmw7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRDbG91ZFN0b3JhZ2VUaWxlU291cmNlX0Nsb3VkU3RvcmFnZVRpbGVTb3VyY2Uuem9vbVRpbGVSZW5kZXJlcl8gPSBmdW5jdGlvbihtYXhab29tLCB0aWxlKSB7XG4gIGlmICghdGlsZS5pbWFnZUVsKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJUaWxlIG11c3QgaGF2ZSBhbiBpbWFnZSBlbGVtZW50IHRvIGJlIHJlbmRlcmVkLlwiKTtcbiAgfVxuICB2YXIgem9vbUZhY3RvciA9IE1hdGgucG93KDIsIHRpbGUuem9vbSAtIG1heFpvb20pLCBzaWRlTGVuZ3RoID0gdGlsZS50aWxlU2l6ZS53aWR0aCwgY2FudiA9IHRpbGUuZGl2Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgY2Fudi5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCBzaWRlTGVuZ3RoKTtcbiAgY2Fudi5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgc2lkZUxlbmd0aCk7XG4gIHRpbGUuZGl2LmFwcGVuZENoaWxkKGNhbnYpO1xuICB2YXIgY29udGV4dCA9IGNhbnYuZ2V0Q29udGV4dChcIjJkXCIpO1xuICBjb250ZXh0LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9ICExO1xuICBjb250ZXh0Lm1vekltYWdlU21vb3RoaW5nRW5hYmxlZCA9ICExO1xuICBjb250ZXh0LndlYmtpdEltYWdlU21vb3RoaW5nRW5hYmxlZCA9ICExO1xuICBjb250ZXh0LmRyYXdJbWFnZSh0aWxlLmltYWdlRWwsIHNpZGVMZW5ndGggLyB6b29tRmFjdG9yICogKHRpbGUuY29vcmQueCAlIHpvb21GYWN0b3IpLCBzaWRlTGVuZ3RoIC8gem9vbUZhY3RvciAqICh0aWxlLmNvb3JkLnkgJSB6b29tRmFjdG9yKSwgc2lkZUxlbmd0aCAvIHpvb21GYWN0b3IsIHNpZGVMZW5ndGggLyB6b29tRmFjdG9yLCAwLCAwLCBzaWRlTGVuZ3RoLCBzaWRlTGVuZ3RoKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmxheWVycy5DbG91ZFN0b3JhZ2VUaWxlU291cmNlXCIsIG1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZV9DbG91ZFN0b3JhZ2VUaWxlU291cmNlKTtcbm1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZV9DbG91ZFN0b3JhZ2VUaWxlU291cmNlLkJBU0VfVVJMID0gXCJodHRwczovL3N0b3JhZ2UuZ29vZ2xlYXBpcy5jb21cIjtcbm1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZV9DbG91ZFN0b3JhZ2VUaWxlU291cmNlLk1JU1NJTkdfVElMRV9FUlJPUl8gPSBcIlRoZSBzcGVjaWZpZWQga2V5IGRvZXMgbm90IGV4aXN0LlwiO1xubW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRDbG91ZFN0b3JhZ2VUaWxlU291cmNlX0Nsb3VkU3RvcmFnZVRpbGVTb3VyY2UuQUNDRVNTX0RFTklFRF9FUlJPUl8gPSBcIkFjY2Vzc0RlbmllZFwiO1xuZWUubGF5ZXJzLkNsb3VkU3RvcmFnZVRpbGVTb3VyY2UgPSBtb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJENsb3VkU3RvcmFnZVRpbGVTb3VyY2VfQ2xvdWRTdG9yYWdlVGlsZVNvdXJjZTtcbmdvb2cuc3RydWN0cy5RdWV1ZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmZyb250XyA9IFtdO1xuICB0aGlzLmJhY2tfID0gW107XG59O1xuZ29vZy5zdHJ1Y3RzLlF1ZXVlLnByb3RvdHlwZS5tYXliZUZsaXBfID0gZnVuY3Rpb24oKSB7XG4gIDAgPT09IHRoaXMuZnJvbnRfLmxlbmd0aCAmJiAodGhpcy5mcm9udF8gPSB0aGlzLmJhY2tfLCB0aGlzLmZyb250Xy5yZXZlcnNlKCksIHRoaXMuYmFja18gPSBbXSk7XG59O1xuZ29vZy5zdHJ1Y3RzLlF1ZXVlLnByb3RvdHlwZS5lbnF1ZXVlID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICB0aGlzLmJhY2tfLnB1c2goZWxlbWVudCk7XG59O1xuZ29vZy5zdHJ1Y3RzLlF1ZXVlLnByb3RvdHlwZS5kZXF1ZXVlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMubWF5YmVGbGlwXygpO1xuICByZXR1cm4gdGhpcy5mcm9udF8ucG9wKCk7XG59O1xuZ29vZy5zdHJ1Y3RzLlF1ZXVlLnByb3RvdHlwZS5wZWVrID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMubWF5YmVGbGlwXygpO1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcGVlayh0aGlzLmZyb250Xyk7XG59O1xuZ29vZy5zdHJ1Y3RzLlF1ZXVlLnByb3RvdHlwZS5nZXRDb3VudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5mcm9udF8ubGVuZ3RoICsgdGhpcy5iYWNrXy5sZW5ndGg7XG59O1xuZ29vZy5zdHJ1Y3RzLlF1ZXVlLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAwID09PSB0aGlzLmZyb250Xy5sZW5ndGggJiYgMCA9PT0gdGhpcy5iYWNrXy5sZW5ndGg7XG59O1xuZ29vZy5zdHJ1Y3RzLlF1ZXVlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmZyb250XyA9IFtdO1xuICB0aGlzLmJhY2tfID0gW107XG59O1xuZ29vZy5zdHJ1Y3RzLlF1ZXVlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uKG9iaikge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY29udGFpbnModGhpcy5mcm9udF8sIG9iaikgfHwgbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY29udGFpbnModGhpcy5iYWNrXywgb2JqKTtcbn07XG5nb29nLnN0cnVjdHMuUXVldWUucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uKG9iaikge1xuICByZXR1cm4gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfcmVtb3ZlTGFzdCh0aGlzLmZyb250Xywgb2JqKSB8fCBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9yZW1vdmUodGhpcy5iYWNrXywgb2JqKTtcbn07XG5nb29nLnN0cnVjdHMuUXVldWUucHJvdG90eXBlLmdldFZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuICBmb3IgKHZhciByZXMgPSBbXSwgaSA9IHRoaXMuZnJvbnRfLmxlbmd0aCAtIDE7IDAgPD0gaTsgLS1pKSB7XG4gICAgcmVzLnB1c2godGhpcy5mcm9udF9baV0pO1xuICB9XG4gIHZhciBsZW4gPSB0aGlzLmJhY2tfLmxlbmd0aDtcbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgcmVzLnB1c2godGhpcy5iYWNrX1tpXSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5nb29nLnN0cnVjdHMuUG9vbCA9IGZ1bmN0aW9uKG9wdF9taW5Db3VudCwgb3B0X21heENvdW50KSB7XG4gIGdvb2cuRGlzcG9zYWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLm1pbkNvdW50XyA9IG9wdF9taW5Db3VudCB8fCAwO1xuICB0aGlzLm1heENvdW50XyA9IG9wdF9tYXhDb3VudCB8fCAxMDtcbiAgaWYgKHRoaXMubWluQ291bnRfID4gdGhpcy5tYXhDb3VudF8pIHtcbiAgICB0aHJvdyBFcnJvcihnb29nLnN0cnVjdHMuUG9vbC5FUlJPUl9NSU5fTUFYXyk7XG4gIH1cbiAgdGhpcy5mcmVlUXVldWVfID0gbmV3IGdvb2cuc3RydWN0cy5RdWV1ZSgpO1xuICB0aGlzLmluVXNlU2V0XyA9IG5ldyBnb29nLnN0cnVjdHMuU2V0KCk7XG4gIHRoaXMuZGVsYXkgPSAwO1xuICB0aGlzLmxhc3RBY2Nlc3MgPSBudWxsO1xuICB0aGlzLmFkanVzdEZvck1pbk1heCgpO1xufTtcbmdvb2cuaW5oZXJpdHMoZ29vZy5zdHJ1Y3RzLlBvb2wsIGdvb2cuRGlzcG9zYWJsZSk7XG5nb29nLnN0cnVjdHMuUG9vbC5FUlJPUl9NSU5fTUFYXyA9IFwiW2dvb2cuc3RydWN0cy5Qb29sXSBNaW4gY2FuIG5vdCBiZSBncmVhdGVyIHRoYW4gbWF4XCI7XG5nb29nLnN0cnVjdHMuUG9vbC5FUlJPUl9ESVNQT1NFX1VOUkVMRUFTRURfT0JKU18gPSBcIltnb29nLnN0cnVjdHMuUG9vbF0gT2JqZWN0cyBub3QgcmVsZWFzZWRcIjtcbmdvb2cuc3RydWN0cy5Qb29sLnByb3RvdHlwZS5zZXRNaW5pbXVtQ291bnQgPSBmdW5jdGlvbihtaW4pIHtcbiAgaWYgKG1pbiA+IHRoaXMubWF4Q291bnRfKSB7XG4gICAgdGhyb3cgRXJyb3IoZ29vZy5zdHJ1Y3RzLlBvb2wuRVJST1JfTUlOX01BWF8pO1xuICB9XG4gIHRoaXMubWluQ291bnRfID0gbWluO1xuICB0aGlzLmFkanVzdEZvck1pbk1heCgpO1xufTtcbmdvb2cuc3RydWN0cy5Qb29sLnByb3RvdHlwZS5zZXRNYXhpbXVtQ291bnQgPSBmdW5jdGlvbihtYXgpIHtcbiAgaWYgKG1heCA8IHRoaXMubWluQ291bnRfKSB7XG4gICAgdGhyb3cgRXJyb3IoZ29vZy5zdHJ1Y3RzLlBvb2wuRVJST1JfTUlOX01BWF8pO1xuICB9XG4gIHRoaXMubWF4Q291bnRfID0gbWF4O1xuICB0aGlzLmFkanVzdEZvck1pbk1heCgpO1xufTtcbmdvb2cuc3RydWN0cy5Qb29sLnByb3RvdHlwZS5zZXREZWxheSA9IGZ1bmN0aW9uKGRlbGF5KSB7XG4gIHRoaXMuZGVsYXkgPSBkZWxheTtcbn07XG5nb29nLnN0cnVjdHMuUG9vbC5wcm90b3R5cGUuZ2V0T2JqZWN0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciB0aW1lID0gRGF0ZS5ub3coKTtcbiAgaWYgKCEobnVsbCAhPSB0aGlzLmxhc3RBY2Nlc3MgJiYgdGltZSAtIHRoaXMubGFzdEFjY2VzcyA8IHRoaXMuZGVsYXkpKSB7XG4gICAgdmFyIG9iaiA9IHRoaXMucmVtb3ZlRnJlZU9iamVjdF8oKTtcbiAgICBvYmogJiYgKHRoaXMubGFzdEFjY2VzcyA9IHRpbWUsIHRoaXMuaW5Vc2VTZXRfLmFkZChvYmopKTtcbiAgICByZXR1cm4gb2JqO1xuICB9XG59O1xuZ29vZy5zdHJ1Y3RzLlBvb2wucHJvdG90eXBlLnJlbGVhc2VPYmplY3QgPSBmdW5jdGlvbihvYmopIHtcbiAgcmV0dXJuIHRoaXMuaW5Vc2VTZXRfLnJlbW92ZShvYmopID8gKHRoaXMuYWRkRnJlZU9iamVjdChvYmopLCAhMCkgOiAhMTtcbn07XG5nb29nLnN0cnVjdHMuUG9vbC5wcm90b3R5cGUucmVtb3ZlRnJlZU9iamVjdF8gPSBmdW5jdGlvbigpIHtcbiAgZm9yICh2YXIgb2JqOyAwIDwgdGhpcy5nZXRGcmVlQ291bnQoKSAmJiAob2JqID0gdGhpcy5mcmVlUXVldWVfLmRlcXVldWUoKSwgIXRoaXMub2JqZWN0Q2FuQmVSZXVzZWQob2JqKSk7KSB7XG4gICAgdGhpcy5hZGp1c3RGb3JNaW5NYXgoKTtcbiAgfVxuICAhb2JqICYmIHRoaXMuZ2V0Q291bnQoKSA8IHRoaXMubWF4Q291bnRfICYmIChvYmogPSB0aGlzLmNyZWF0ZU9iamVjdCgpKTtcbiAgcmV0dXJuIG9iajtcbn07XG5nb29nLnN0cnVjdHMuUG9vbC5wcm90b3R5cGUuYWRkRnJlZU9iamVjdCA9IGZ1bmN0aW9uKG9iaikge1xuICB0aGlzLmluVXNlU2V0Xy5yZW1vdmUob2JqKTtcbiAgdGhpcy5vYmplY3RDYW5CZVJldXNlZChvYmopICYmIHRoaXMuZ2V0Q291bnQoKSA8IHRoaXMubWF4Q291bnRfID8gdGhpcy5mcmVlUXVldWVfLmVucXVldWUob2JqKSA6IHRoaXMuZGlzcG9zZU9iamVjdChvYmopO1xufTtcbmdvb2cuc3RydWN0cy5Qb29sLnByb3RvdHlwZS5hZGp1c3RGb3JNaW5NYXggPSBmdW5jdGlvbigpIHtcbiAgZm9yICh2YXIgZnJlZVF1ZXVlID0gdGhpcy5mcmVlUXVldWVfOyB0aGlzLmdldENvdW50KCkgPCB0aGlzLm1pbkNvdW50XzspIHtcbiAgICBmcmVlUXVldWUuZW5xdWV1ZSh0aGlzLmNyZWF0ZU9iamVjdCgpKTtcbiAgfVxuICBmb3IgKDsgdGhpcy5nZXRDb3VudCgpID4gdGhpcy5tYXhDb3VudF8gJiYgMCA8IHRoaXMuZ2V0RnJlZUNvdW50KCk7KSB7XG4gICAgdGhpcy5kaXNwb3NlT2JqZWN0KGZyZWVRdWV1ZS5kZXF1ZXVlKCkpO1xuICB9XG59O1xuZ29vZy5zdHJ1Y3RzLlBvb2wucHJvdG90eXBlLmNyZWF0ZU9iamVjdCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge307XG59O1xuZ29vZy5zdHJ1Y3RzLlBvb2wucHJvdG90eXBlLmRpc3Bvc2VPYmplY3QgPSBmdW5jdGlvbihvYmopIHtcbiAgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2Ygb2JqLmRpc3Bvc2UpIHtcbiAgICBvYmouZGlzcG9zZSgpO1xuICB9IGVsc2Uge1xuICAgIGZvciAodmFyIGkgaW4gb2JqKSB7XG4gICAgICBvYmpbaV0gPSBudWxsO1xuICAgIH1cbiAgfVxufTtcbmdvb2cuc3RydWN0cy5Qb29sLnByb3RvdHlwZS5vYmplY3RDYW5CZVJldXNlZCA9IGZ1bmN0aW9uKG9iaikge1xuICByZXR1cm4gXCJmdW5jdGlvblwiID09IHR5cGVvZiBvYmouY2FuQmVSZXVzZWQgPyBvYmouY2FuQmVSZXVzZWQoKSA6ICEwO1xufTtcbmdvb2cuc3RydWN0cy5Qb29sLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uKG9iaikge1xuICByZXR1cm4gdGhpcy5mcmVlUXVldWVfLmNvbnRhaW5zKG9iaikgfHwgdGhpcy5pblVzZVNldF8uY29udGFpbnMob2JqKTtcbn07XG5nb29nLnN0cnVjdHMuUG9vbC5wcm90b3R5cGUuZ2V0Q291bnQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZnJlZVF1ZXVlXy5nZXRDb3VudCgpICsgdGhpcy5pblVzZVNldF8uZ2V0Q291bnQoKTtcbn07XG5nb29nLnN0cnVjdHMuUG9vbC5wcm90b3R5cGUuZ2V0SW5Vc2VDb3VudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5pblVzZVNldF8uZ2V0Q291bnQoKTtcbn07XG5nb29nLnN0cnVjdHMuUG9vbC5wcm90b3R5cGUuZ2V0RnJlZUNvdW50ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmZyZWVRdWV1ZV8uZ2V0Q291bnQoKTtcbn07XG5nb29nLnN0cnVjdHMuUG9vbC5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5mcmVlUXVldWVfLmlzRW1wdHkoKSAmJiB0aGlzLmluVXNlU2V0Xy5pc0VtcHR5KCk7XG59O1xuZ29vZy5zdHJ1Y3RzLlBvb2wucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uKCkge1xuICBnb29nLnN0cnVjdHMuUG9vbC5zdXBlckNsYXNzXy5kaXNwb3NlSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgaWYgKDAgPCB0aGlzLmdldEluVXNlQ291bnQoKSkge1xuICAgIHRocm93IEVycm9yKGdvb2cuc3RydWN0cy5Qb29sLkVSUk9SX0RJU1BPU0VfVU5SRUxFQVNFRF9PQkpTXyk7XG4gIH1cbiAgZGVsZXRlIHRoaXMuaW5Vc2VTZXRfO1xuICBmb3IgKHZhciBmcmVlUXVldWUgPSB0aGlzLmZyZWVRdWV1ZV87ICFmcmVlUXVldWUuaXNFbXB0eSgpOykge1xuICAgIHRoaXMuZGlzcG9zZU9iamVjdChmcmVlUXVldWUuZGVxdWV1ZSgpKTtcbiAgfVxuICBkZWxldGUgdGhpcy5mcmVlUXVldWVfO1xufTtcbmdvb2cuc3RydWN0cy5Ob2RlID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICB0aGlzLmtleV8gPSBrZXk7XG4gIHRoaXMudmFsdWVfID0gdmFsdWU7XG59O1xuZ29vZy5zdHJ1Y3RzLk5vZGUucHJvdG90eXBlLmdldEtleSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5rZXlfO1xufTtcbmdvb2cuc3RydWN0cy5Ob2RlLnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy52YWx1ZV87XG59O1xuZ29vZy5zdHJ1Y3RzLk5vZGUucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgZ29vZy5zdHJ1Y3RzLk5vZGUodGhpcy5rZXlfLCB0aGlzLnZhbHVlXyk7XG59O1xuZ29vZy5zdHJ1Y3RzLkhlYXAgPSBmdW5jdGlvbihvcHRfaGVhcCkge1xuICB0aGlzLm5vZGVzXyA9IFtdO1xuICBvcHRfaGVhcCAmJiB0aGlzLmluc2VydEFsbChvcHRfaGVhcCk7XG59O1xuZ29vZy5zdHJ1Y3RzLkhlYXAucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgdmFyIG5vZGUgPSBuZXcgZ29vZy5zdHJ1Y3RzLk5vZGUoa2V5LCB2YWx1ZSksIG5vZGVzID0gdGhpcy5ub2Rlc187XG4gIG5vZGVzLnB1c2gobm9kZSk7XG4gIHRoaXMubW92ZVVwXyhub2Rlcy5sZW5ndGggLSAxKTtcbn07XG5nb29nLnN0cnVjdHMuSGVhcC5wcm90b3R5cGUuaW5zZXJ0QWxsID0gZnVuY3Rpb24oaGVhcCkge1xuICBpZiAoaGVhcCBpbnN0YW5jZW9mIGdvb2cuc3RydWN0cy5IZWFwKSB7XG4gICAgdmFyIGtleXMgPSBoZWFwLmdldEtleXMoKTtcbiAgICB2YXIgdmFsdWVzID0gaGVhcC5nZXRWYWx1ZXMoKTtcbiAgICBpZiAoMCA+PSB0aGlzLmdldENvdW50KCkpIHtcbiAgICAgIGZvciAodmFyIG5vZGVzID0gdGhpcy5ub2Rlc18sIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBub2Rlcy5wdXNoKG5ldyBnb29nLnN0cnVjdHMuTm9kZShrZXlzW2ldLCB2YWx1ZXNbaV0pKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAga2V5cyA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9nZXRLZXlzKGhlYXApLCB2YWx1ZXMgPSBtb2R1bGUkY29udGVudHMkZ29vZyRvYmplY3RfZ2V0VmFsdWVzKGhlYXApO1xuICB9XG4gIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdGhpcy5pbnNlcnQoa2V5c1tpXSwgdmFsdWVzW2ldKTtcbiAgfVxufTtcbmdvb2cuc3RydWN0cy5IZWFwLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIG5vZGVzID0gdGhpcy5ub2Rlc18sIGNvdW50ID0gbm9kZXMubGVuZ3RoLCByb290Tm9kZSA9IG5vZGVzWzBdO1xuICBpZiAoISgwID49IGNvdW50KSkge1xuICAgIHJldHVybiAxID09IGNvdW50ID8gbW9kdWxlJGNvbnRlbnRzJGdvb2ckYXJyYXlfY2xlYXIobm9kZXMpIDogKG5vZGVzWzBdID0gbm9kZXMucG9wKCksIHRoaXMubW92ZURvd25fKDApKSwgcm9vdE5vZGUuZ2V0VmFsdWUoKTtcbiAgfVxufTtcbmdvb2cuc3RydWN0cy5IZWFwLnByb3RvdHlwZS5wZWVrID0gZnVuY3Rpb24oKSB7XG4gIHZhciBub2RlcyA9IHRoaXMubm9kZXNfO1xuICBpZiAoMCAhPSBub2Rlcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gbm9kZXNbMF0uZ2V0VmFsdWUoKTtcbiAgfVxufTtcbmdvb2cuc3RydWN0cy5IZWFwLnByb3RvdHlwZS5wZWVrS2V5ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLm5vZGVzX1swXSAmJiB0aGlzLm5vZGVzX1swXS5nZXRLZXkoKTtcbn07XG5nb29nLnN0cnVjdHMuSGVhcC5wcm90b3R5cGUubW92ZURvd25fID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgZm9yICh2YXIgbm9kZXMgPSB0aGlzLm5vZGVzXywgY291bnQgPSBub2Rlcy5sZW5ndGgsIG5vZGUgPSBub2Rlc1tpbmRleF07IGluZGV4IDwgY291bnQgPj4gMTspIHtcbiAgICB2YXIgbGVmdENoaWxkSW5kZXggPSB0aGlzLmdldExlZnRDaGlsZEluZGV4XyhpbmRleCksIHJpZ2h0Q2hpbGRJbmRleCA9IHRoaXMuZ2V0UmlnaHRDaGlsZEluZGV4XyhpbmRleCksIHNtYWxsZXJDaGlsZEluZGV4ID0gcmlnaHRDaGlsZEluZGV4IDwgY291bnQgJiYgbm9kZXNbcmlnaHRDaGlsZEluZGV4XS5nZXRLZXkoKSA8IG5vZGVzW2xlZnRDaGlsZEluZGV4XS5nZXRLZXkoKSA/IHJpZ2h0Q2hpbGRJbmRleCA6IGxlZnRDaGlsZEluZGV4O1xuICAgIGlmIChub2Rlc1tzbWFsbGVyQ2hpbGRJbmRleF0uZ2V0S2V5KCkgPiBub2RlLmdldEtleSgpKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgbm9kZXNbaW5kZXhdID0gbm9kZXNbc21hbGxlckNoaWxkSW5kZXhdO1xuICAgIGluZGV4ID0gc21hbGxlckNoaWxkSW5kZXg7XG4gIH1cbiAgbm9kZXNbaW5kZXhdID0gbm9kZTtcbn07XG5nb29nLnN0cnVjdHMuSGVhcC5wcm90b3R5cGUubW92ZVVwXyA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gIGZvciAodmFyIG5vZGVzID0gdGhpcy5ub2Rlc18sIG5vZGUgPSBub2Rlc1tpbmRleF07IDAgPCBpbmRleDspIHtcbiAgICB2YXIgcGFyZW50SW5kZXggPSB0aGlzLmdldFBhcmVudEluZGV4XyhpbmRleCk7XG4gICAgaWYgKG5vZGVzW3BhcmVudEluZGV4XS5nZXRLZXkoKSA+IG5vZGUuZ2V0S2V5KCkpIHtcbiAgICAgIG5vZGVzW2luZGV4XSA9IG5vZGVzW3BhcmVudEluZGV4XSwgaW5kZXggPSBwYXJlbnRJbmRleDtcbiAgICB9IGVsc2Uge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIG5vZGVzW2luZGV4XSA9IG5vZGU7XG59O1xuZ29vZy5zdHJ1Y3RzLkhlYXAucHJvdG90eXBlLmdldExlZnRDaGlsZEluZGV4XyA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gIHJldHVybiAyICogaW5kZXggKyAxO1xufTtcbmdvb2cuc3RydWN0cy5IZWFwLnByb3RvdHlwZS5nZXRSaWdodENoaWxkSW5kZXhfID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgcmV0dXJuIDIgKiBpbmRleCArIDI7XG59O1xuZ29vZy5zdHJ1Y3RzLkhlYXAucHJvdG90eXBlLmdldFBhcmVudEluZGV4XyA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gIHJldHVybiBpbmRleCAtIDEgPj4gMTtcbn07XG5nb29nLnN0cnVjdHMuSGVhcC5wcm90b3R5cGUuZ2V0VmFsdWVzID0gZnVuY3Rpb24oKSB7XG4gIGZvciAodmFyIG5vZGVzID0gdGhpcy5ub2Rlc18sIHJ2ID0gW10sIGwgPSBub2Rlcy5sZW5ndGgsIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgcnYucHVzaChub2Rlc1tpXS5nZXRWYWx1ZSgpKTtcbiAgfVxuICByZXR1cm4gcnY7XG59O1xuZ29vZy5zdHJ1Y3RzLkhlYXAucHJvdG90eXBlLmdldEtleXMgPSBmdW5jdGlvbigpIHtcbiAgZm9yICh2YXIgbm9kZXMgPSB0aGlzLm5vZGVzXywgcnYgPSBbXSwgbCA9IG5vZGVzLmxlbmd0aCwgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICBydi5wdXNoKG5vZGVzW2ldLmdldEtleSgpKTtcbiAgfVxuICByZXR1cm4gcnY7XG59O1xuZ29vZy5zdHJ1Y3RzLkhlYXAucHJvdG90eXBlLmNvbnRhaW5zVmFsdWUgPSBmdW5jdGlvbih2YWwpIHtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3NvbWUodGhpcy5ub2Rlc18sIGZ1bmN0aW9uKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS5nZXRWYWx1ZSgpID09IHZhbDtcbiAgfSk7XG59O1xuZ29vZy5zdHJ1Y3RzLkhlYXAucHJvdG90eXBlLmNvbnRhaW5zS2V5ID0gZnVuY3Rpb24oa2V5KSB7XG4gIHJldHVybiBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9zb21lKHRoaXMubm9kZXNfLCBmdW5jdGlvbihub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUuZ2V0S2V5KCkgPT0ga2V5O1xuICB9KTtcbn07XG5nb29nLnN0cnVjdHMuSGVhcC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBnb29nLnN0cnVjdHMuSGVhcCh0aGlzKTtcbn07XG5nb29nLnN0cnVjdHMuSGVhcC5wcm90b3R5cGUuZ2V0Q291bnQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMubm9kZXNfLmxlbmd0aDtcbn07XG5nb29nLnN0cnVjdHMuSGVhcC5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gMCA9PT0gdGhpcy5ub2Rlc18ubGVuZ3RoO1xufTtcbmdvb2cuc3RydWN0cy5IZWFwLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9jbGVhcih0aGlzLm5vZGVzXyk7XG59O1xuZ29vZy5zdHJ1Y3RzLlByaW9yaXR5UXVldWUgPSBmdW5jdGlvbigpIHtcbiAgZ29vZy5zdHJ1Y3RzLkhlYXAuY2FsbCh0aGlzKTtcbn07XG5nb29nLmluaGVyaXRzKGdvb2cuc3RydWN0cy5Qcmlvcml0eVF1ZXVlLCBnb29nLnN0cnVjdHMuSGVhcCk7XG5nb29nLnN0cnVjdHMuUHJpb3JpdHlRdWV1ZS5wcm90b3R5cGUuZW5xdWV1ZSA9IGZ1bmN0aW9uKHByaW9yaXR5LCB2YWx1ZSkge1xuICB0aGlzLmluc2VydChwcmlvcml0eSwgdmFsdWUpO1xufTtcbmdvb2cuc3RydWN0cy5Qcmlvcml0eVF1ZXVlLnByb3RvdHlwZS5kZXF1ZXVlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnJlbW92ZSgpO1xufTtcbmdvb2cuc3RydWN0cy5Qcmlvcml0eVBvb2wgPSBmdW5jdGlvbihvcHRfbWluQ291bnQsIG9wdF9tYXhDb3VudCkge1xuICB0aGlzLmRlbGF5VGltZW91dF8gPSB2b2lkIDA7XG4gIHRoaXMucmVxdWVzdFF1ZXVlXyA9IG5ldyBnb29nLnN0cnVjdHMuUHJpb3JpdHlRdWV1ZSgpO1xuICBnb29nLnN0cnVjdHMuUG9vbC5jYWxsKHRoaXMsIG9wdF9taW5Db3VudCwgb3B0X21heENvdW50KTtcbn07XG5nb29nLmluaGVyaXRzKGdvb2cuc3RydWN0cy5Qcmlvcml0eVBvb2wsIGdvb2cuc3RydWN0cy5Qb29sKTtcbmdvb2cuc3RydWN0cy5Qcmlvcml0eVBvb2wuREVGQVVMVF9QUklPUklUWV8gPSAxMDA7XG5nb29nLnN0cnVjdHMuUHJpb3JpdHlQb29sLnByb3RvdHlwZS5zZXREZWxheSA9IGZ1bmN0aW9uKGRlbGF5KSB7XG4gIGdvb2cuc3RydWN0cy5Qcmlvcml0eVBvb2wuc3VwZXJDbGFzc18uc2V0RGVsYXkuY2FsbCh0aGlzLCBkZWxheSk7XG4gIG51bGwgIT0gdGhpcy5sYXN0QWNjZXNzICYmIChnb29nLmdsb2JhbC5jbGVhclRpbWVvdXQodGhpcy5kZWxheVRpbWVvdXRfKSwgdGhpcy5kZWxheVRpbWVvdXRfID0gZ29vZy5nbG9iYWwuc2V0VGltZW91dChnb29nLmJpbmQodGhpcy5oYW5kbGVRdWV1ZVJlcXVlc3RzXywgdGhpcyksIHRoaXMuZGVsYXkgKyB0aGlzLmxhc3RBY2Nlc3MgLSBEYXRlLm5vdygpKSwgdGhpcy5oYW5kbGVRdWV1ZVJlcXVlc3RzXygpKTtcbn07XG5nb29nLnN0cnVjdHMuUHJpb3JpdHlQb29sLnByb3RvdHlwZS5nZXRPYmplY3QgPSBmdW5jdGlvbihvcHRfY2FsbGJhY2ssIG9wdF9wcmlvcml0eSkge1xuICBpZiAoIW9wdF9jYWxsYmFjaykge1xuICAgIHZhciByZXN1bHQgPSBnb29nLnN0cnVjdHMuUHJpb3JpdHlQb29sLnN1cGVyQ2xhc3NfLmdldE9iamVjdC5jYWxsKHRoaXMpO1xuICAgIHJlc3VsdCAmJiB0aGlzLmRlbGF5ICYmICh0aGlzLmRlbGF5VGltZW91dF8gPSBnb29nLmdsb2JhbC5zZXRUaW1lb3V0KGdvb2cuYmluZCh0aGlzLmhhbmRsZVF1ZXVlUmVxdWVzdHNfLCB0aGlzKSwgdGhpcy5kZWxheSkpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgdGhpcy5yZXF1ZXN0UXVldWVfLmVucXVldWUodm9pZCAwICE9PSBvcHRfcHJpb3JpdHkgPyBvcHRfcHJpb3JpdHkgOiBnb29nLnN0cnVjdHMuUHJpb3JpdHlQb29sLkRFRkFVTFRfUFJJT1JJVFlfLCBvcHRfY2FsbGJhY2spO1xuICB0aGlzLmhhbmRsZVF1ZXVlUmVxdWVzdHNfKCk7XG59O1xuZ29vZy5zdHJ1Y3RzLlByaW9yaXR5UG9vbC5wcm90b3R5cGUuaGFuZGxlUXVldWVSZXF1ZXN0c18gPSBmdW5jdGlvbigpIHtcbiAgZm9yICh2YXIgcmVxdWVzdFF1ZXVlID0gdGhpcy5yZXF1ZXN0UXVldWVfOyAwIDwgcmVxdWVzdFF1ZXVlLmdldENvdW50KCk7KSB7XG4gICAgdmFyIG9iaiA9IHRoaXMuZ2V0T2JqZWN0KCk7XG4gICAgaWYgKG9iaikge1xuICAgICAgcmVxdWVzdFF1ZXVlLmRlcXVldWUoKS5hcHBseSh0aGlzLCBbb2JqXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxufTtcbmdvb2cuc3RydWN0cy5Qcmlvcml0eVBvb2wucHJvdG90eXBlLmFkZEZyZWVPYmplY3QgPSBmdW5jdGlvbihvYmopIHtcbiAgZ29vZy5zdHJ1Y3RzLlByaW9yaXR5UG9vbC5zdXBlckNsYXNzXy5hZGRGcmVlT2JqZWN0LmNhbGwodGhpcywgb2JqKTtcbiAgdGhpcy5oYW5kbGVRdWV1ZVJlcXVlc3RzXygpO1xufTtcbmdvb2cuc3RydWN0cy5Qcmlvcml0eVBvb2wucHJvdG90eXBlLmFkanVzdEZvck1pbk1heCA9IGZ1bmN0aW9uKCkge1xuICBnb29nLnN0cnVjdHMuUHJpb3JpdHlQb29sLnN1cGVyQ2xhc3NfLmFkanVzdEZvck1pbk1heC5jYWxsKHRoaXMpO1xuICB0aGlzLmhhbmRsZVF1ZXVlUmVxdWVzdHNfKCk7XG59O1xuZ29vZy5zdHJ1Y3RzLlByaW9yaXR5UG9vbC5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cuc3RydWN0cy5Qcmlvcml0eVBvb2wuc3VwZXJDbGFzc18uZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG4gIGdvb2cuZ2xvYmFsLmNsZWFyVGltZW91dCh0aGlzLmRlbGF5VGltZW91dF8pO1xuICB0aGlzLnJlcXVlc3RRdWV1ZV8uY2xlYXIoKTtcbiAgdGhpcy5yZXF1ZXN0UXVldWVfID0gbnVsbDtcbn07XG52YXIgbW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRFYXJ0aEVuZ2luZVRpbGVTb3VyY2VfRWFydGhFbmdpbmVUaWxlU291cmNlID0gZnVuY3Rpb24obWFwSWQsIG9wdF9wcm9maWxlcikge1xuICBtb2R1bGUkZXhwb3J0cyRlZSRsYXllcnMkQWJzdHJhY3RUaWxlU291cmNlLmNhbGwodGhpcyk7XG4gIHRoaXMubWFwSWRfID0gbWFwSWQ7XG4gIHRoaXMucHJvZmlsZXJfID0gb3B0X3Byb2ZpbGVyIHx8IG51bGw7XG59O1xuJGpzY29tcC5pbmhlcml0cyhtb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJEVhcnRoRW5naW5lVGlsZVNvdXJjZV9FYXJ0aEVuZ2luZVRpbGVTb3VyY2UsIG1vZHVsZSRleHBvcnRzJGVlJGxheWVycyRBYnN0cmFjdFRpbGVTb3VyY2UpO1xubW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRFYXJ0aEVuZ2luZVRpbGVTb3VyY2VfRWFydGhFbmdpbmVUaWxlU291cmNlLnByb3RvdHlwZS5sb2FkVGlsZSA9IGZ1bmN0aW9uKHRpbGUsIG9wdF9wcmlvcml0eSkge1xuICB2YXIgUHJvZmlsZXJIZWFkZXIgPSBtb2R1bGUkY29udGVudHMkZWUkYXBpY2xpZW50X2FwaWNsaWVudC5QUk9GSUxFX0hFQURFUi50b0xvd2VyQ2FzZSgpLCBrZXkgPSBnb29nLmV2ZW50cy5saXN0ZW4odGlsZSwgZWUubGF5ZXJzLkFic3RyYWN0VGlsZS5FdmVudFR5cGUuU1RBVFVTX0NIQU5HRUQsIGZ1bmN0aW9uKCkge1xuICAgIHN3aXRjaCh0aWxlLmdldFN0YXR1cygpKSB7XG4gICAgICBjYXNlIGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzLkxPQURFRDpcbiAgICAgICAgdmFyIHByb2ZpbGVJZCA9IHRpbGUuc291cmNlUmVzcG9uc2VIZWFkZXJzW1Byb2ZpbGVySGVhZGVyXTtcbiAgICAgICAgdGhpcy5wcm9maWxlcl8gJiYgcHJvZmlsZUlkICYmIHRoaXMucHJvZmlsZXJfLmFkZFRpbGUodGlsZS5kaXYuaWQsIHByb2ZpbGVJZCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBlZS5sYXllcnMuQWJzdHJhY3RUaWxlLlN0YXR1cy5GQUlMRUQ6XG4gICAgICBjYXNlIGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzLkFCT1JURUQ6XG4gICAgICAgIHRoaXMucHJvZmlsZXJfICYmIFwiXCIgIT09IHRpbGUuZGl2LmlkICYmIHRoaXMucHJvZmlsZXJfLnJlbW92ZVRpbGUodGlsZS5kaXYuaWQpLCBnb29nLmV2ZW50cy51bmxpc3RlbkJ5S2V5KGtleSk7XG4gICAgfVxuICB9LCB2b2lkIDAsIHRoaXMpO1xuICB0aWxlLnNvdXJjZVVybCA9IHRoaXMuZ2V0VGlsZVVybF8odGlsZS5jb29yZCwgdGlsZS56b29tKTtcbiAgdmFyIGhhbmRsZUF2YWlsYWJsZVRva2VuID0gZ29vZy5iaW5kKHRoaXMuaGFuZGxlQXZhaWxhYmxlVG9rZW5fLCB0aGlzLCB0aWxlKTtcbiAgbW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRFYXJ0aEVuZ2luZVRpbGVTb3VyY2VfRWFydGhFbmdpbmVUaWxlU291cmNlLmdldEdsb2JhbFRva2VuUG9vbF8oKS5nZXRPYmplY3QoaGFuZGxlQXZhaWxhYmxlVG9rZW4sIG9wdF9wcmlvcml0eSk7XG59O1xubW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRFYXJ0aEVuZ2luZVRpbGVTb3VyY2VfRWFydGhFbmdpbmVUaWxlU291cmNlLnByb3RvdHlwZS5nZXRVbmlxdWVJZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5tYXBJZF8ubWFwaWQgKyBcIi1cIiArIHRoaXMubWFwSWRfLnRva2VuO1xufTtcbm1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkRWFydGhFbmdpbmVUaWxlU291cmNlX0VhcnRoRW5naW5lVGlsZVNvdXJjZS5wcm90b3R5cGUuaGFuZGxlQXZhaWxhYmxlVG9rZW5fID0gZnVuY3Rpb24odGlsZSwgdG9rZW4pIHtcbiAgdmFyIHRva2VuUG9vbCA9IG1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkRWFydGhFbmdpbmVUaWxlU291cmNlX0VhcnRoRW5naW5lVGlsZVNvdXJjZS5nZXRHbG9iYWxUb2tlblBvb2xfKCk7XG4gIGlmICh0aWxlLmlzRGlzcG9zZWQoKSB8fCB0aWxlLmdldFN0YXR1cygpID09IGVlLmxheWVycy5BYnN0cmFjdFRpbGUuU3RhdHVzLkFCT1JURUQpIHtcbiAgICB0b2tlblBvb2wucmVsZWFzZU9iamVjdCh0b2tlbik7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGtleSA9IGdvb2cuZXZlbnRzLmxpc3Rlbih0aWxlLCBlZS5sYXllcnMuQWJzdHJhY3RUaWxlLkV2ZW50VHlwZS5TVEFUVVNfQ0hBTkdFRCwgZnVuY3Rpb24oKSB7XG4gICAgICB0aWxlLmlzRG9uZSgpICYmIChnb29nLmV2ZW50cy51bmxpc3RlbkJ5S2V5KGtleSksIHRva2VuUG9vbC5yZWxlYXNlT2JqZWN0KHRva2VuKSk7XG4gICAgfSk7XG4gICAgdGlsZS5zdGFydExvYWQoKTtcbiAgfVxufTtcbm1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkRWFydGhFbmdpbmVUaWxlU291cmNlX0VhcnRoRW5naW5lVGlsZVNvdXJjZS5wcm90b3R5cGUuZ2V0VGlsZVVybF8gPSBmdW5jdGlvbihjb29yZCwgem9vbSkge1xuICB2YXIgdXJsID0gZWUuZGF0YS5nZXRUaWxlVXJsKHRoaXMubWFwSWRfLCBjb29yZC54LCBjb29yZC55LCB6b29tKTtcbiAgcmV0dXJuIHRoaXMucHJvZmlsZXJfICYmIHRoaXMucHJvZmlsZXJfLmlzRW5hYmxlZCgpID8gdXJsICsgXCImcHJvZmlsaW5nPTFcIiA6IHVybDtcbn07XG5tb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJEVhcnRoRW5naW5lVGlsZVNvdXJjZV9FYXJ0aEVuZ2luZVRpbGVTb3VyY2UuZ2V0R2xvYmFsVG9rZW5Qb29sXyA9IGZ1bmN0aW9uKCkge1xuICBtb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJEVhcnRoRW5naW5lVGlsZVNvdXJjZV9FYXJ0aEVuZ2luZVRpbGVTb3VyY2UuVE9LRU5fUE9PTF8gfHwgKG1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkRWFydGhFbmdpbmVUaWxlU291cmNlX0VhcnRoRW5naW5lVGlsZVNvdXJjZS5UT0tFTl9QT09MXyA9IG5ldyBnb29nLnN0cnVjdHMuUHJpb3JpdHlQb29sKDAsIG1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkRWFydGhFbmdpbmVUaWxlU291cmNlX0VhcnRoRW5naW5lVGlsZVNvdXJjZS5UT0tFTl9DT1VOVF8pKTtcbiAgcmV0dXJuIG1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkRWFydGhFbmdpbmVUaWxlU291cmNlX0VhcnRoRW5naW5lVGlsZVNvdXJjZS5UT0tFTl9QT09MXztcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLmxheWVycy5FYXJ0aEVuZ2luZVRpbGVTb3VyY2VcIiwgbW9kdWxlJGNvbnRlbnRzJGVlJGxheWVycyRFYXJ0aEVuZ2luZVRpbGVTb3VyY2VfRWFydGhFbmdpbmVUaWxlU291cmNlKTtcbm1vZHVsZSRjb250ZW50cyRlZSRsYXllcnMkRWFydGhFbmdpbmVUaWxlU291cmNlX0VhcnRoRW5naW5lVGlsZVNvdXJjZS5UT0tFTl9QT09MXyA9IG51bGw7XG5tb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJEVhcnRoRW5naW5lVGlsZVNvdXJjZV9FYXJ0aEVuZ2luZVRpbGVTb3VyY2UuVE9LRU5fQ09VTlRfID0gNDtcbmVlLmxheWVycy5FYXJ0aEVuZ2luZVRpbGVTb3VyY2UgPSBtb2R1bGUkY29udGVudHMkZWUkbGF5ZXJzJEVhcnRoRW5naW5lVGlsZVNvdXJjZV9FYXJ0aEVuZ2luZVRpbGVTb3VyY2U7XG5nb29nLnNpbmdsZXRvbiA9IHt9O1xudmFyIG1vZHVsZSRjb250ZW50cyRnb29nJHNpbmdsZXRvbl9pbnN0YW50aWF0ZWRTaW5nbGV0b25zID0gW10sIG1vZHVsZSRjb250ZW50cyRnb29nJHNpbmdsZXRvbl9TaW5nbGV0b24gPSBmdW5jdGlvbigpIHtcbn07XG5nb29nLnNpbmdsZXRvbi5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uKGN0b3IpIHtcbiAgKDAsZ29vZy5hc3NlcnRzLmFzc2VydCkoIU9iamVjdC5pc1NlYWxlZChjdG9yKSwgXCJDYW5ub3QgdXNlIGdldEluc3RhbmNlKCkgd2l0aCBhIHNlYWxlZCBjb25zdHJ1Y3Rvci5cIik7XG4gIGlmIChjdG9yLmluc3RhbmNlXyAmJiBjdG9yLmhhc093blByb3BlcnR5KFwiaW5zdGFuY2VfXCIpKSB7XG4gICAgcmV0dXJuIGN0b3IuaW5zdGFuY2VfO1xuICB9XG4gIGdvb2cuREVCVUcgJiYgbW9kdWxlJGNvbnRlbnRzJGdvb2ckc2luZ2xldG9uX2luc3RhbnRpYXRlZFNpbmdsZXRvbnMucHVzaChjdG9yKTtcbiAgdmFyIGluc3RhbmNlID0gbmV3IGN0b3IoKTtcbiAgY3Rvci5pbnN0YW5jZV8gPSBpbnN0YW5jZTtcbiAgKDAsZ29vZy5hc3NlcnRzLmFzc2VydCkoY3Rvci5oYXNPd25Qcm9wZXJ0eShcImluc3RhbmNlX1wiKSwgXCJDb3VsZCBub3QgaW5zdGFudGlhdGUgc2luZ2xldG9uLlwiKTtcbiAgcmV0dXJuIGluc3RhbmNlO1xufTtcbmdvb2cuc2luZ2xldG9uLmluc3RhbnRpYXRlZFNpbmdsZXRvbnMgPSBtb2R1bGUkY29udGVudHMkZ29vZyRzaW5nbGV0b25faW5zdGFudGlhdGVkU2luZ2xldG9ucztcbmVlLk1hcFRpbGVNYW5hZ2VyID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0LmNhbGwodGhpcyk7XG4gIHRoaXMudG9rZW5Qb29sXyA9IG5ldyBlZS5NYXBUaWxlTWFuYWdlci5Ub2tlblBvb2xfKDAsIDYwKTtcbiAgdGhpcy5yZXF1ZXN0c18gPSBuZXcgZ29vZy5zdHJ1Y3RzLk1hcCgpO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMoZWUuTWFwVGlsZU1hbmFnZXIsIGdvb2cuZXZlbnRzLkV2ZW50VGFyZ2V0KTtcbmVlLk1hcFRpbGVNYW5hZ2VyLnByb3RvdHlwZS5nZXRPdXRzdGFuZGluZ0NvdW50ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnJlcXVlc3RzXy5nZXRDb3VudCgpO1xufTtcbmVlLk1hcFRpbGVNYW5hZ2VyLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24oaWQsIHVybCwgb3B0X3ByaW9yaXR5LCBvcHRfaW1hZ2VDb21wbGV0ZWRDYWxsYmFjaywgb3B0X21heFJldHJpZXMpIHtcbiAgaWYgKHRoaXMucmVxdWVzdHNfLmdldChpZCkpIHtcbiAgICB0aHJvdyBFcnJvcihlZS5NYXBUaWxlTWFuYWdlci5FUlJPUl9JRF9JTl9VU0VfKTtcbiAgfVxuICB2YXIgcmVxdWVzdCA9IG5ldyBlZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0XyhpZCwgdXJsLCBvcHRfaW1hZ2VDb21wbGV0ZWRDYWxsYmFjaywgZ29vZy5iaW5kKHRoaXMucmVsZWFzZVJlcXVlc3RfLCB0aGlzKSwgdm9pZCAwICE9PSBvcHRfbWF4UmV0cmllcyA/IG9wdF9tYXhSZXRyaWVzIDogZWUuTWFwVGlsZU1hbmFnZXIuTUFYX1JFVFJJRVMpO1xuICB0aGlzLnJlcXVlc3RzXy5zZXQoaWQsIHJlcXVlc3QpO1xuICB2YXIgY2FsbGJhY2sgPSBnb29nLmJpbmQodGhpcy5oYW5kbGVBdmFpbGFibGVUb2tlbl8sIHRoaXMsIHJlcXVlc3QpO1xuICB0aGlzLnRva2VuUG9vbF8uZ2V0T2JqZWN0KGNhbGxiYWNrLCBvcHRfcHJpb3JpdHkpO1xuICByZXR1cm4gcmVxdWVzdDtcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5wcm90b3R5cGUuYWJvcnQgPSBmdW5jdGlvbihpZCkge1xuICB2YXIgcmVxdWVzdCA9IHRoaXMucmVxdWVzdHNfLmdldChpZCk7XG4gIHJlcXVlc3QgJiYgKHJlcXVlc3Quc2V0QWJvcnRlZCghMCksIHRoaXMucmVsZWFzZVJlcXVlc3RfKHJlcXVlc3QpKTtcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5wcm90b3R5cGUuaGFuZGxlQXZhaWxhYmxlVG9rZW5fID0gZnVuY3Rpb24ocmVxdWVzdCwgdG9rZW4pIHtcbiAgaWYgKHJlcXVlc3QuZ2V0SW1hZ2VMb2FkZXIoKSB8fCByZXF1ZXN0LmdldEFib3J0ZWQoKSkge1xuICAgIHRoaXMucmVsZWFzZU9iamVjdF8odG9rZW4pO1xuICB9IGVsc2Uge1xuICAgIGlmIChyZXF1ZXN0LnNldFRva2VuKHRva2VuKSwgdG9rZW4uc2V0QWN0aXZlKCEwKSwgcmVxdWVzdC5zZXRJbWFnZUxvYWRlcihuZXcgZ29vZy5uZXQuSW1hZ2VMb2FkZXIoKSksICFyZXF1ZXN0LnJldHJ5KCkpIHtcbiAgICAgIHRocm93IEVycm9yKFwiQ2Fubm90IGRpc3BhdGNoIGZpcnN0IHJlcXVlc3QhXCIpO1xuICAgIH1cbiAgfVxufTtcbmVlLk1hcFRpbGVNYW5hZ2VyLnByb3RvdHlwZS5yZWxlYXNlUmVxdWVzdF8gPSBmdW5jdGlvbihyZXF1ZXN0KSB7XG4gIHRoaXMucmVxdWVzdHNfLnJlbW92ZShyZXF1ZXN0LmdldElkKCkpO1xuICByZXF1ZXN0LmdldEltYWdlTG9hZGVyKCkgJiYgKHRoaXMucmVsZWFzZU9iamVjdF8ocmVxdWVzdC5nZXRUb2tlbigpKSwgcmVxdWVzdC5nZXRJbWFnZUxvYWRlcigpLmRpc3Bvc2UoKSk7XG4gIHJlcXVlc3QuZmlyZUltYWdlRXZlbnRDYWxsYmFjaygpO1xufTtcbmVlLk1hcFRpbGVNYW5hZ2VyLnByb3RvdHlwZS5yZWxlYXNlT2JqZWN0XyA9IGZ1bmN0aW9uKHRva2VuKSB7XG4gIHRva2VuLnNldEFjdGl2ZSghMSk7XG4gIGlmICghdGhpcy50b2tlblBvb2xfLnJlbGVhc2VPYmplY3QodG9rZW4pKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJPYmplY3Qgbm90IHJlbGVhc2VkXCIpO1xuICB9XG59O1xuZWUuTWFwVGlsZU1hbmFnZXIucHJvdG90eXBlLmRpc3Bvc2VJbnRlcm5hbCA9IGZ1bmN0aW9uKCkge1xuICBnb29nLmV2ZW50cy5FdmVudFRhcmdldC5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG4gIHRoaXMudG9rZW5Qb29sXy5kaXNwb3NlKCk7XG4gIHRoaXMudG9rZW5Qb29sXyA9IG51bGw7XG4gIHZhciByZXF1ZXN0cyA9IHRoaXMucmVxdWVzdHNfO1xuICBtb2R1bGUkY29udGVudHMkZ29vZyRhcnJheV9mb3JFYWNoKHJlcXVlc3RzLmdldFZhbHVlcygpLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhbHVlLmRpc3Bvc2UoKTtcbiAgfSk7XG4gIHJlcXVlc3RzLmNsZWFyKCk7XG4gIHRoaXMucmVxdWVzdHNfID0gbnVsbDtcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gZ29vZy5zaW5nbGV0b24uZ2V0SW5zdGFuY2UoZWUuTWFwVGlsZU1hbmFnZXIpO1xufTtcbmdvb2cuZXhwb3J0U3ltYm9sKFwiZWUuTWFwVGlsZU1hbmFnZXJcIiwgZWUuTWFwVGlsZU1hbmFnZXIpO1xuZWUuTWFwVGlsZU1hbmFnZXIuTUFYX1JFVFJJRVMgPSAxO1xuZWUuTWFwVGlsZU1hbmFnZXIuRVJST1JfSURfSU5fVVNFXyA9IFwiW2VlLk1hcFRpbGVNYW5hZ2VyXSBJRCBpbiB1c2VcIjtcbmVlLk1hcFRpbGVNYW5hZ2VyLlJlcXVlc3RfID0gZnVuY3Rpb24oaWQsIHVybCwgb3B0X2ltYWdlRXZlbnRDYWxsYmFjaywgb3B0X3JlcXVlc3RDb21wbGV0ZUNhbGxiYWNrLCBvcHRfbWF4UmV0cmllcykge1xuICBnb29nLkRpc3Bvc2FibGUuY2FsbCh0aGlzKTtcbiAgdGhpcy5pZF8gPSBpZDtcbiAgdGhpcy51cmxfID0gdXJsO1xuICB0aGlzLm1heFJldHJpZXNfID0gdm9pZCAwICE9PSBvcHRfbWF4UmV0cmllcyA/IG9wdF9tYXhSZXRyaWVzIDogZWUuTWFwVGlsZU1hbmFnZXIuTUFYX1JFVFJJRVM7XG4gIHRoaXMuaW1hZ2VFdmVudENhbGxiYWNrXyA9IG9wdF9pbWFnZUV2ZW50Q2FsbGJhY2s7XG4gIHRoaXMucmVxdWVzdENvbXBsZXRlQ2FsbGJhY2tfID0gb3B0X3JlcXVlc3RDb21wbGV0ZUNhbGxiYWNrO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMoZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8sIGdvb2cuRGlzcG9zYWJsZSk7XG5lZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0Xy5wcm90b3R5cGUuZ2V0SW1hZ2VMb2FkZXIgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuaW1hZ2VMb2FkZXJfO1xufTtcbmVlLk1hcFRpbGVNYW5hZ2VyLlJlcXVlc3RfLnByb3RvdHlwZS5zZXRJbWFnZUxvYWRlciA9IGZ1bmN0aW9uKGltYWdlTG9hZGVyKSB7XG4gIHRoaXMuaW1hZ2VMb2FkZXJfID0gaW1hZ2VMb2FkZXI7XG59O1xuZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8ucHJvdG90eXBlLmdldFRva2VuID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnRva2VuXztcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0Xy5wcm90b3R5cGUuc2V0VG9rZW4gPSBmdW5jdGlvbih0b2tlbikge1xuICB0aGlzLnRva2VuXyA9IHRva2VuO1xufTtcbmVlLk1hcFRpbGVNYW5hZ2VyLlJlcXVlc3RfLnByb3RvdHlwZS5hZGRJbWFnZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbigpIHtcbiAgZ29vZy5ldmVudHMubGlzdGVuT25jZSh0aGlzLmltYWdlTG9hZGVyXywgZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8uSU1BR0VfTE9BREVSX0VWRU5UX1RZUEVTXywgZ29vZy5iaW5kKHRoaXMuaGFuZGxlSW1hZ2VFdmVudF8sIHRoaXMpKTtcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0Xy5wcm90b3R5cGUuZmlyZUltYWdlRXZlbnRDYWxsYmFjayA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmltYWdlRXZlbnRDYWxsYmFja18gJiYgdGhpcy5pbWFnZUV2ZW50Q2FsbGJhY2tfKHRoaXMuZXZlbnRfLCB0aGlzLnByb2ZpbGVJZF8pO1xufTtcbmVlLk1hcFRpbGVNYW5hZ2VyLlJlcXVlc3RfLnByb3RvdHlwZS5nZXRJZCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5pZF87XG59O1xuZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8ucHJvdG90eXBlLmdldFVybCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy51cmxfO1xufTtcbmVlLk1hcFRpbGVNYW5hZ2VyLlJlcXVlc3RfLnByb3RvdHlwZS5nZXRNYXhSZXRyaWVzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLm1heFJldHJpZXNfO1xufTtcbmVlLk1hcFRpbGVNYW5hZ2VyLlJlcXVlc3RfLnByb3RvdHlwZS5nZXRBdHRlbXB0Q291bnQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuYXR0ZW1wdENvdW50Xztcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0Xy5wcm90b3R5cGUuaW5jcmVhc2VBdHRlbXB0Q291bnQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5hdHRlbXB0Q291bnRfKys7XG59O1xuZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8ucHJvdG90eXBlLmhhc1JlYWNoZWRNYXhSZXRyaWVzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmF0dGVtcHRDb3VudF8gPiB0aGlzLm1heFJldHJpZXNfO1xufTtcbmVlLk1hcFRpbGVNYW5hZ2VyLlJlcXVlc3RfLnByb3RvdHlwZS5zZXRBYm9ydGVkID0gZnVuY3Rpb24oYWJvcnRlZCkge1xuICBhYm9ydGVkICYmICF0aGlzLmFib3J0ZWRfICYmICh0aGlzLmFib3J0ZWRfID0gYWJvcnRlZCwgdGhpcy5ldmVudF8gPSBuZXcgZ29vZy5ldmVudHMuRXZlbnQoZ29vZy5uZXQuRXZlbnRUeXBlLkFCT1JUKSk7XG59O1xuZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8ucHJvdG90eXBlLmdldEFib3J0ZWQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuYWJvcnRlZF87XG59O1xuZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8ucHJvdG90eXBlLmhhbmRsZUltYWdlRXZlbnRfID0gZnVuY3Rpb24oZSkge1xuICBpZiAodGhpcy5nZXRBYm9ydGVkKCkpIHtcbiAgICB0aGlzLm1hcmtDb21wbGV0ZWRfKCk7XG4gIH0gZWxzZSB7XG4gICAgc3dpdGNoKGUudHlwZSkge1xuICAgICAgY2FzZSBnb29nLmV2ZW50cy5FdmVudFR5cGUuTE9BRDpcbiAgICAgICAgdGhpcy5oYW5kbGVTdWNjZXNzXyhlKTtcbiAgICAgICAgdGhpcy5tYXJrQ29tcGxldGVkXygpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgZ29vZy5uZXQuRXZlbnRUeXBlLkVSUk9SOlxuICAgICAgY2FzZSBnb29nLm5ldC5FdmVudFR5cGUuQUJPUlQ6XG4gICAgICAgIHRoaXMuaGFuZGxlRXJyb3JfKGUpO1xuICAgIH1cbiAgfVxufTtcbmVlLk1hcFRpbGVNYW5hZ2VyLlJlcXVlc3RfLnByb3RvdHlwZS5tYXJrQ29tcGxldGVkXyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnJlcXVlc3RDb21wbGV0ZUNhbGxiYWNrXyAmJiB0aGlzLnJlcXVlc3RDb21wbGV0ZUNhbGxiYWNrXyh0aGlzKTtcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0Xy5wcm90b3R5cGUuaGFuZGxlU3VjY2Vzc18gPSBmdW5jdGlvbihlKSB7XG4gIHRoaXMuZXZlbnRfID0gZTtcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0Xy5wcm90b3R5cGUuaGFuZGxlRXJyb3JfID0gZnVuY3Rpb24oZSkge1xuICB0aGlzLnJldHJ5KCkgfHwgKHRoaXMuZXZlbnRfID0gZSwgdGhpcy5tYXJrQ29tcGxldGVkXygpKTtcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0Xy5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cuRGlzcG9zYWJsZS5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG4gIGRlbGV0ZSB0aGlzLmltYWdlRXZlbnRDYWxsYmFja187XG4gIGRlbGV0ZSB0aGlzLnJlcXVlc3RDb21wbGV0ZUNhbGxiYWNrXztcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0Xy5wcm90b3R5cGUucmV0cnkgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuaGFzUmVhY2hlZE1heFJldHJpZXMoKSkge1xuICAgIHJldHVybiAhMTtcbiAgfVxuICB0aGlzLmluY3JlYXNlQXR0ZW1wdENvdW50KCk7XG4gIHRoaXMuaW1hZ2VMb2FkZXJfLnJlbW92ZUltYWdlKHRoaXMuaWRfKTtcbiAgc2V0VGltZW91dChnb29nLmJpbmQodGhpcy5zdGFydF8sIHRoaXMpLCAwKTtcbiAgcmV0dXJuICEwO1xufTtcbmVlLk1hcFRpbGVNYW5hZ2VyLlJlcXVlc3RfLnByb3RvdHlwZS5zdGFydF8gPSBmdW5jdGlvbigpIHtcbiAgaWYgKCF0aGlzLmdldEFib3J0ZWQoKSkge1xuICAgIHZhciBhY3R1YWxseUxvYWRJbWFnZSA9IGdvb2cuYmluZChmdW5jdGlvbihpbWFnZVVybCkge1xuICAgICAgdGhpcy5nZXRBYm9ydGVkKCkgfHwgKHRoaXMuaW1hZ2VMb2FkZXJfLmFkZEltYWdlKHRoaXMuaWRfLCBpbWFnZVVybCksIHRoaXMuYWRkSW1hZ2VFdmVudExpc3RlbmVyKCksIHRoaXMuaW1hZ2VMb2FkZXJfLnN0YXJ0KCkpO1xuICAgIH0sIHRoaXMpLCBzb3VyY2VVcmwgPSB0aGlzLmdldFVybCgpO1xuICAgIGlmIChnb29nLlVyaS5wYXJzZShzb3VyY2VVcmwpLmdldFF1ZXJ5RGF0YSgpLmNvbnRhaW5zS2V5KFwicHJvZmlsaW5nXCIpKSB7XG4gICAgICB2YXIgeGhySW8gPSBuZXcgZ29vZy5uZXQuWGhySW8oKTtcbiAgICAgIHhocklvLnNldFJlc3BvbnNlVHlwZShnb29nLm5ldC5YaHJJby5SZXNwb25zZVR5cGUuQkxPQik7XG4gICAgICB4aHJJby5saXN0ZW4oZ29vZy5uZXQuRXZlbnRUeXBlLkNPTVBMRVRFLCBnb29nLmJpbmQoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgdGhpcy5wcm9maWxlSWRfID0geGhySW8uZ2V0UmVzcG9uc2VIZWFkZXIobW9kdWxlJGNvbnRlbnRzJGVlJGFwaWNsaWVudF9hcGljbGllbnQuUFJPRklMRV9IRUFERVIpIHx8IG51bGw7XG4gICAgICAgIGlmICgyMDAgPD0geGhySW8uZ2V0U3RhdHVzKCkgJiYgMzAwID4geGhySW8uZ2V0U3RhdHVzKCkpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIG9iamVjdFVybCA9IGdvb2cuaHRtbC5TYWZlVXJsLnVud3JhcChnb29nLmh0bWwuU2FmZVVybC5mcm9tQmxvYih4aHJJby5nZXRSZXNwb25zZSgpKSk7XG4gICAgICAgICAgICB2YXIgb2sgPSBvYmplY3RVcmwgIT09IGdvb2cuaHRtbC5TYWZlVXJsLklOTk9DVU9VU19TVFJJTkc7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhY3R1YWxseUxvYWRJbWFnZShvayA/IG9iamVjdFVybCA6IHNvdXJjZVVybCk7XG4gICAgICB9LCB0aGlzKSk7XG4gICAgICB4aHJJby5saXN0ZW5PbmNlKGdvb2cubmV0LkV2ZW50VHlwZS5SRUFEWSwgZ29vZy5iaW5kKHhocklvLmRpc3Bvc2UsIHhocklvKSk7XG4gICAgICB4aHJJby5zZW5kKHNvdXJjZVVybCwgXCJHRVRcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFjdHVhbGx5TG9hZEltYWdlKHNvdXJjZVVybCk7XG4gICAgfVxuICB9XG59O1xuZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8ucHJvdG90eXBlLmF0dGVtcHRDb3VudF8gPSAwO1xuZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8ucHJvdG90eXBlLmFib3J0ZWRfID0gITE7XG5lZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0Xy5wcm90b3R5cGUuaW1hZ2VMb2FkZXJfID0gbnVsbDtcbmVlLk1hcFRpbGVNYW5hZ2VyLlJlcXVlc3RfLnByb3RvdHlwZS50b2tlbl8gPSBudWxsO1xuZWUuTWFwVGlsZU1hbmFnZXIuUmVxdWVzdF8ucHJvdG90eXBlLmV2ZW50XyA9IG51bGw7XG5lZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0Xy5wcm90b3R5cGUucHJvZmlsZUlkXyA9IG51bGw7XG5lZS5NYXBUaWxlTWFuYWdlci5SZXF1ZXN0Xy5JTUFHRV9MT0FERVJfRVZFTlRfVFlQRVNfID0gW2dvb2cuZXZlbnRzLkV2ZW50VHlwZS5MT0FELCBnb29nLm5ldC5FdmVudFR5cGUuQUJPUlQsIGdvb2cubmV0LkV2ZW50VHlwZS5FUlJPUl07XG5lZS5NYXBUaWxlTWFuYWdlci5Ub2tlbl8gPSBmdW5jdGlvbigpIHtcbiAgZ29vZy5EaXNwb3NhYmxlLmNhbGwodGhpcyk7XG4gIHRoaXMuYWN0aXZlXyA9ICExO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMoZWUuTWFwVGlsZU1hbmFnZXIuVG9rZW5fLCBnb29nLkRpc3Bvc2FibGUpO1xuZWUuTWFwVGlsZU1hbmFnZXIuVG9rZW5fLnByb3RvdHlwZS5zZXRBY3RpdmUgPSBmdW5jdGlvbih2YWwpIHtcbiAgdGhpcy5hY3RpdmVfID0gdmFsO1xufTtcbmVlLk1hcFRpbGVNYW5hZ2VyLlRva2VuXy5wcm90b3R5cGUuaXNBY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuYWN0aXZlXztcbn07XG5lZS5NYXBUaWxlTWFuYWdlci5Ub2tlblBvb2xfID0gZnVuY3Rpb24ob3B0X21pbkNvdW50LCBvcHRfbWF4Q291bnQpIHtcbiAgZ29vZy5zdHJ1Y3RzLlByaW9yaXR5UG9vbC5jYWxsKHRoaXMsIG9wdF9taW5Db3VudCwgb3B0X21heENvdW50KTtcbn07XG4kanNjb21wLmluaGVyaXRzKGVlLk1hcFRpbGVNYW5hZ2VyLlRva2VuUG9vbF8sIGdvb2cuc3RydWN0cy5Qcmlvcml0eVBvb2wpO1xuZWUuTWFwVGlsZU1hbmFnZXIuVG9rZW5Qb29sXy5wcm90b3R5cGUuY3JlYXRlT2JqZWN0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgZWUuTWFwVGlsZU1hbmFnZXIuVG9rZW5fKCk7XG59O1xuZWUuTWFwVGlsZU1hbmFnZXIuVG9rZW5Qb29sXy5wcm90b3R5cGUuZGlzcG9zZU9iamVjdCA9IGZ1bmN0aW9uKG9iaikge1xuICBvYmouZGlzcG9zZSgpO1xufTtcbmVlLk1hcFRpbGVNYW5hZ2VyLlRva2VuUG9vbF8ucHJvdG90eXBlLm9iamVjdENhbkJlUmV1c2VkID0gZnVuY3Rpb24ob2JqKSB7XG4gIHJldHVybiAhb2JqLmlzRGlzcG9zZWQoKSAmJiAhb2JqLmlzQWN0aXZlKCk7XG59O1xuZWUuTWFwTGF5ZXJPdmVybGF5ID0gZnVuY3Rpb24odXJsLCBtYXBJZCwgdG9rZW4sIGluaXQsIG9wdF9wcm9maWxlcikge1xuICBlZS5BYnN0cmFjdE92ZXJsYXkuY2FsbCh0aGlzLCB1cmwsIG1hcElkLCB0b2tlbiwgaW5pdCwgb3B0X3Byb2ZpbGVyKTtcbiAgdGhpcy5taW5ab29tID0gaW5pdC5taW5ab29tIHx8IDA7XG4gIHRoaXMubWF4Wm9vbSA9IGluaXQubWF4Wm9vbSB8fCAyMDtcbiAgaWYgKCF3aW5kb3cuZ29vZ2xlIHx8ICF3aW5kb3cuZ29vZ2xlLm1hcHMpIHtcbiAgICB0aHJvdyBFcnJvcihcIkdvb2dsZSBNYXBzIEFQSSBoYXNuJ3QgYmVlbiBpbml0aWFsaXplZC5cIik7XG4gIH1cbiAgdGhpcy50aWxlU2l6ZSA9IGluaXQudGlsZVNpemUgfHwgbmV3IGdvb2dsZS5tYXBzLlNpemUoMjU2LCAyNTYpO1xuICB0aGlzLmlzUG5nID0gdm9pZCAwICE9PSBpbml0LmlzUG5nID8gaW5pdC5pc1BuZyA6ICEwO1xuICB0aGlzLm5hbWUgPSBpbml0Lm5hbWU7XG4gIHRoaXMudGlsZXNfID0gbmV3IGdvb2cuc3RydWN0cy5TZXQoKTtcbiAgdGhpcy5vcGFjaXR5XyA9IDEuMDtcbiAgdGhpcy52aXNpYmxlXyA9ICEwO1xuICB0aGlzLnByb2ZpbGVyXyA9IG9wdF9wcm9maWxlciB8fCBudWxsO1xufTtcbiRqc2NvbXAuaW5oZXJpdHMoZWUuTWFwTGF5ZXJPdmVybGF5LCBlZS5BYnN0cmFjdE92ZXJsYXkpO1xuZWUuTWFwTGF5ZXJPdmVybGF5LnByb3RvdHlwZS5hZGRUaWxlQ2FsbGJhY2sgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICByZXR1cm4gZ29vZy5ldmVudHMubGlzdGVuKHRoaXMsIGVlLkFic3RyYWN0T3ZlcmxheS5FdmVudFR5cGUuVElMRV9MT0FERUQsIGNhbGxiYWNrKTtcbn07XG5lZS5NYXBMYXllck92ZXJsYXkucHJvdG90eXBlLnJlbW92ZVRpbGVDYWxsYmFjayA9IGZ1bmN0aW9uKGNhbGxiYWNrSWQpIHtcbiAgZ29vZy5ldmVudHMudW5saXN0ZW5CeUtleShjYWxsYmFja0lkKTtcbn07XG5lZS5NYXBMYXllck92ZXJsYXkucHJvdG90eXBlLmRpc3BhdGNoVGlsZUV2ZW50XyA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IGVlLlRpbGVFdmVudCh0aGlzLnRpbGVzTG9hZGluZy5sZW5ndGgpKTtcbn07XG5lZS5NYXBMYXllck92ZXJsYXkucHJvdG90eXBlLmdldFRpbGUgPSBmdW5jdGlvbihjb29yZCwgem9vbSwgb3duZXJEb2N1bWVudCkge1xuICB2YXIgbWF4Q29vcmQ7XG4gIGlmICh6b29tIDwgdGhpcy5taW5ab29tIHx8IDAgPiBjb29yZC55IHx8IGNvb3JkLnkgPj0gMSA8PCB6b29tKSB7XG4gICAgdmFyIGltZyA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIklNR1wiKTtcbiAgICBpbWcuc3R5bGUud2lkdGggPSBcIjBweFwiO1xuICAgIGltZy5zdHlsZS5oZWlnaHQgPSBcIjBweFwiO1xuICAgIHJldHVybiBpbWc7XG4gIH1cbiAgdmFyIHByb2ZpbGluZyA9IHRoaXMucHJvZmlsZXJfICYmIHRoaXMucHJvZmlsZXJfLmlzRW5hYmxlZCgpLCB0aWxlSWQgPSB0aGlzLmdldFRpbGVJZChjb29yZCwgem9vbSksIHNyYyA9IFt0aGlzLnVybCwgdGlsZUlkXS5qb2luKFwiL1wiKSArIFwiP3Rva2VuPVwiICsgdGhpcy50b2tlbjtcbiAgcHJvZmlsaW5nICYmIChzcmMgKz0gXCImcHJvZmlsaW5nPTFcIik7XG4gIHZhciB1bmlxdWVUaWxlSWQgPSBbdGlsZUlkLCB0aGlzLnRpbGVDb3VudGVyLCB0aGlzLnRva2VuXS5qb2luKFwiL1wiKTtcbiAgdGhpcy50aWxlQ291bnRlciArPSAxO1xuICB2YXIgZGl2ID0gZ29vZy5kb20uY3JlYXRlRG9tKGdvb2cuZG9tLlRhZ05hbWUuRElWLCB7aWQ6dW5pcXVlVGlsZUlkfSksIHByaW9yaXR5ID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKSAvIDEwMDA7XG4gIHRoaXMudGlsZXNMb2FkaW5nLnB1c2godW5pcXVlVGlsZUlkKTtcbiAgZWUuTWFwVGlsZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5zZW5kKHVuaXF1ZVRpbGVJZCwgc3JjLCBwcmlvcml0eSwgZ29vZy5iaW5kKHRoaXMuaGFuZGxlSW1hZ2VDb21wbGV0ZWRfLCB0aGlzLCBkaXYsIHVuaXF1ZVRpbGVJZCkpO1xuICB0aGlzLmRpc3BhdGNoVGlsZUV2ZW50XygpO1xuICByZXR1cm4gZGl2O1xufTtcbmVlLk1hcExheWVyT3ZlcmxheS5wcm90b3R5cGUuZ2V0TG9hZGVkVGlsZXNDb3VudCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy50aWxlc18uZ2V0Q291bnQoKTtcbn07XG5lZS5NYXBMYXllck92ZXJsYXkucHJvdG90eXBlLmdldExvYWRpbmdUaWxlc0NvdW50ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnRpbGVzTG9hZGluZy5sZW5ndGg7XG59O1xuZWUuTWFwTGF5ZXJPdmVybGF5LnByb3RvdHlwZS5yZWxlYXNlVGlsZSA9IGZ1bmN0aW9uKHRpbGVEaXYpIHtcbiAgZWUuTWFwVGlsZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKS5hYm9ydCh0aWxlRGl2LmlkKTtcbiAgdGhpcy50aWxlc18ucmVtb3ZlKGdvb2cuZG9tLmdldEZpcnN0RWxlbWVudENoaWxkKHRpbGVEaXYpKTtcbiAgXCJcIiAhPT0gdGlsZURpdi5pZCAmJiAodGhpcy50aWxlc0ZhaWxlZC5yZW1vdmUodGlsZURpdi5pZCksIHRoaXMucHJvZmlsZXJfICYmIHRoaXMucHJvZmlsZXJfLnJlbW92ZVRpbGUodGlsZURpdi5pZCkpO1xufTtcbmVlLk1hcExheWVyT3ZlcmxheS5wcm90b3R5cGUuc2V0T3BhY2l0eSA9IGZ1bmN0aW9uKG9wYWNpdHkpIHtcbiAgdGhpcy5vcGFjaXR5XyA9IG9wYWNpdHk7XG4gIHZhciBpdGVyID0gdGhpcy50aWxlc18uX19pdGVyYXRvcl9fKCk7XG4gIGdvb2cuaXRlci5mb3JFYWNoKGl0ZXIsIGZ1bmN0aW9uKHRpbGUpIHtcbiAgICBnb29nLnN0eWxlLnNldE9wYWNpdHkodGlsZSwgb3BhY2l0eSk7XG4gIH0pO1xufTtcbmVlLk1hcExheWVyT3ZlcmxheS5wcm90b3R5cGUuaGFuZGxlSW1hZ2VDb21wbGV0ZWRfID0gZnVuY3Rpb24oZGl2LCB0aWxlSWQsIGUsIHByb2ZpbGVJZCkge1xuICBpZiAoZS50eXBlID09IGdvb2cubmV0LkV2ZW50VHlwZS5FUlJPUikge1xuICAgIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZSh0aGlzLnRpbGVzTG9hZGluZywgdGlsZUlkKSwgdGhpcy50aWxlc0ZhaWxlZC5hZGQodGlsZUlkKSwgdGhpcy5kaXNwYXRjaEV2ZW50KGUpO1xuICB9IGVsc2Uge1xuICAgIG1vZHVsZSRjb250ZW50cyRnb29nJGFycmF5X3JlbW92ZSh0aGlzLnRpbGVzTG9hZGluZywgdGlsZUlkKTtcbiAgICBpZiAoZS50YXJnZXQgJiYgZS50eXBlID09IGdvb2cuZXZlbnRzLkV2ZW50VHlwZS5MT0FEKSB7XG4gICAgICB2YXIgdGlsZSA9IGUudGFyZ2V0O1xuICAgICAgdGhpcy50aWxlc18uYWRkKHRpbGUpO1xuICAgICAgMS4wICE9IHRoaXMub3BhY2l0eV8gJiYgZ29vZy5zdHlsZS5zZXRPcGFjaXR5KHRpbGUsIHRoaXMub3BhY2l0eV8pO1xuICAgICAgZGl2LmFwcGVuZENoaWxkKHRpbGUpO1xuICAgIH1cbiAgICB0aGlzLmRpc3BhdGNoVGlsZUV2ZW50XygpO1xuICB9XG4gIHRoaXMucHJvZmlsZXJfICYmIG51bGwgIT09IHByb2ZpbGVJZCAmJiB0aGlzLnByb2ZpbGVyXy5hZGRUaWxlKHRpbGVJZCwgcHJvZmlsZUlkKTtcbn07XG5nb29nLmV4cG9ydFN5bWJvbChcImVlLk1hcExheWVyT3ZlcmxheVwiLCBlZS5NYXBMYXllck92ZXJsYXkpO1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5NYXBMYXllck92ZXJsYXkucHJvdG90eXBlLCBcInJlbW92ZVRpbGVDYWxsYmFja1wiLCBlZS5NYXBMYXllck92ZXJsYXkucHJvdG90eXBlLnJlbW92ZVRpbGVDYWxsYmFjayk7XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLk1hcExheWVyT3ZlcmxheS5wcm90b3R5cGUsIFwiYWRkVGlsZUNhbGxiYWNrXCIsIGVlLk1hcExheWVyT3ZlcmxheS5wcm90b3R5cGUuYWRkVGlsZUNhbGxiYWNrKTtcbmdvb2cuZXhwb3J0UHJvcGVydHkoZWUuTWFwTGF5ZXJPdmVybGF5LnByb3RvdHlwZSwgXCJnZXRUaWxlXCIsIGVlLk1hcExheWVyT3ZlcmxheS5wcm90b3R5cGUuZ2V0VGlsZSk7XG5nb29nLmV4cG9ydFByb3BlcnR5KGVlLk1hcExheWVyT3ZlcmxheS5wcm90b3R5cGUsIFwic2V0T3BhY2l0eVwiLCBlZS5NYXBMYXllck92ZXJsYXkucHJvdG90eXBlLnNldE9wYWNpdHkpO1xuZ29vZy5leHBvcnRQcm9wZXJ0eShlZS5NYXBMYXllck92ZXJsYXkucHJvdG90eXBlLCBcInJlbGVhc2VUaWxlXCIsIGVlLk1hcExheWVyT3ZlcmxheS5wcm90b3R5cGUucmVsZWFzZVRpbGUpO1xuZ29vZy5hc3luYy5EZWxheSA9IGZ1bmN0aW9uKGxpc3RlbmVyLCBvcHRfaW50ZXJ2YWwsIG9wdF9oYW5kbGVyKSB7XG4gIGdvb2cuRGlzcG9zYWJsZS5jYWxsKHRoaXMpO1xuICB0aGlzLmxpc3RlbmVyXyA9IGxpc3RlbmVyO1xuICB0aGlzLmludGVydmFsXyA9IG9wdF9pbnRlcnZhbCB8fCAwO1xuICB0aGlzLmhhbmRsZXJfID0gb3B0X2hhbmRsZXI7XG4gIHRoaXMuY2FsbGJhY2tfID0gZ29vZy5iaW5kKHRoaXMuZG9BY3Rpb25fLCB0aGlzKTtcbn07XG5nb29nLmluaGVyaXRzKGdvb2cuYXN5bmMuRGVsYXksIGdvb2cuRGlzcG9zYWJsZSk7XG5nb29nLmFzeW5jLkRlbGF5LnByb3RvdHlwZS5pZF8gPSAwO1xuZ29vZy5hc3luYy5EZWxheS5wcm90b3R5cGUuZGlzcG9zZUludGVybmFsID0gZnVuY3Rpb24oKSB7XG4gIGdvb2cuYXN5bmMuRGVsYXkuc3VwZXJDbGFzc18uZGlzcG9zZUludGVybmFsLmNhbGwodGhpcyk7XG4gIHRoaXMuc3RvcCgpO1xuICBkZWxldGUgdGhpcy5saXN0ZW5lcl87XG4gIGRlbGV0ZSB0aGlzLmhhbmRsZXJfO1xufTtcbmdvb2cuYXN5bmMuRGVsYXkucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24ob3B0X2ludGVydmFsKSB7XG4gIHRoaXMuc3RvcCgpO1xuICB0aGlzLmlkXyA9IGdvb2cuVGltZXIuY2FsbE9uY2UodGhpcy5jYWxsYmFja18sIHZvaWQgMCAhPT0gb3B0X2ludGVydmFsID8gb3B0X2ludGVydmFsIDogdGhpcy5pbnRlcnZhbF8pO1xufTtcbmdvb2cuYXN5bmMuRGVsYXkucHJvdG90eXBlLnN0YXJ0SWZOb3RBY3RpdmUgPSBmdW5jdGlvbihvcHRfaW50ZXJ2YWwpIHtcbiAgdGhpcy5pc0FjdGl2ZSgpIHx8IHRoaXMuc3RhcnQob3B0X2ludGVydmFsKTtcbn07XG5nb29nLmFzeW5jLkRlbGF5LnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuaXNBY3RpdmUoKSAmJiBnb29nLlRpbWVyLmNsZWFyKHRoaXMuaWRfKTtcbiAgdGhpcy5pZF8gPSAwO1xufTtcbmdvb2cuYXN5bmMuRGVsYXkucHJvdG90eXBlLmZpcmUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5zdG9wKCk7XG4gIHRoaXMuZG9BY3Rpb25fKCk7XG59O1xuZ29vZy5hc3luYy5EZWxheS5wcm90b3R5cGUuZmlyZUlmQWN0aXZlID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuaXNBY3RpdmUoKSAmJiB0aGlzLmZpcmUoKTtcbn07XG5nb29nLmFzeW5jLkRlbGF5LnByb3RvdHlwZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gMCAhPSB0aGlzLmlkXztcbn07XG5nb29nLmFzeW5jLkRlbGF5LnByb3RvdHlwZS5kb0FjdGlvbl8gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5pZF8gPSAwO1xuICB0aGlzLmxpc3RlbmVyXyAmJiB0aGlzLmxpc3RlbmVyXy5jYWxsKHRoaXMuaGFuZGxlcl8pO1xufTtcbmVlLmRhdGEuUHJvZmlsZXIgPSBmdW5jdGlvbihmb3JtYXQpIHtcbiAgZ29vZy5ldmVudHMuRXZlbnRUYXJnZXQuY2FsbCh0aGlzKTtcbiAgdGhpcy5mb3JtYXRfID0gZm9ybWF0O1xuICB0aGlzLmlzRW5hYmxlZF8gPSAhMTtcbiAgdGhpcy5sYXN0UmVmcmVzaFRva2VuXyA9IG51bGw7XG4gIHRoaXMucHJvZmlsZUlkc18gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB0aGlzLnRpbGVQcm9maWxlSWRzXyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHRoaXMuc2hvd0ludGVybmFsXyA9ICExO1xuICB0aGlzLnByb2ZpbGVFcnJvcl8gPSBudWxsO1xuICB0aGlzLnRocm90dGxlZFJlZnJlc2hfID0gbmV3IGdvb2cuYXN5bmMuRGVsYXkoZ29vZy5iaW5kKHRoaXMucmVmcmVzaF8sIHRoaXMpLCBlZS5kYXRhLlByb2ZpbGVyLkRFTEFZX0JFRk9SRV9SRUZSRVNIXyk7XG4gIHRoaXMucHJvZmlsZURhdGFfID0gZWUuZGF0YS5Qcm9maWxlci5nZXRFbXB0eVByb2ZpbGVfKGZvcm1hdCk7XG4gIHRoaXMuTUFYX1JFVFJZX0NPVU5UXyA9IDU7XG59O1xuJGpzY29tcC5pbmhlcml0cyhlZS5kYXRhLlByb2ZpbGVyLCBnb29nLmV2ZW50cy5FdmVudFRhcmdldCk7XG5lZS5kYXRhLlByb2ZpbGVyLnByb3RvdHlwZS5pc0VuYWJsZWQgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuaXNFbmFibGVkXztcbn07XG5lZS5kYXRhLlByb2ZpbGVyLnByb3RvdHlwZS5zZXRFbmFibGVkID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgdGhpcy5pc0VuYWJsZWRfID0gISF2YWx1ZTtcbiAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBnb29nLmV2ZW50cy5FdmVudChlZS5kYXRhLlByb2ZpbGVyLkV2ZW50VHlwZS5TVEFURV9DSEFOR0VEKSk7XG59O1xuZWUuZGF0YS5Qcm9maWxlci5wcm90b3R5cGUuaXNMb2FkaW5nID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBudWxsICE9PSB0aGlzLmxhc3RSZWZyZXNoVG9rZW5fO1xufTtcbmVlLmRhdGEuUHJvZmlsZXIucHJvdG90eXBlLmlzRXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG51bGwgIT0gdGhpcy5wcm9maWxlRXJyb3JfO1xufTtcbmVlLmRhdGEuUHJvZmlsZXIucHJvdG90eXBlLmdldFN0YXR1c1RleHQgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMucHJvZmlsZUVycm9yXykge1xuICAgIHJldHVybiB0aGlzLnByb2ZpbGVFcnJvcl87XG4gIH1cbiAgaWYgKHRoaXMubGFzdFJlZnJlc2hUb2tlbl8pIHtcbiAgICByZXR1cm4gXCJMb2FkaW5nLi4uXCI7XG4gIH1cbiAgdmFyIHByb2ZpbGVzID0gMCwgbm9uVGlsZVByb2ZpbGVzID0gMCwgdGlsZVByb2ZpbGVzID0gMDtcbiAgbW9kdWxlJGNvbnRlbnRzJGdvb2ckb2JqZWN0X2ZvckVhY2godGhpcy5wcm9maWxlSWRzXywgZnVuY3Rpb24ocmVmQ291bnQpIHtcbiAgICBwcm9maWxlcysrO1xuICAgIEluZmluaXR5ID09PSByZWZDb3VudCA/IG5vblRpbGVQcm9maWxlcysrIDogdGlsZVByb2ZpbGVzKys7XG4gIH0sIHRoaXMpO1xuICByZXR1cm4gXCJWaWV3aW5nIFwiICsgcHJvZmlsZXMgKyBcIiBwcm9maWxlcywgXCIgKyBub25UaWxlUHJvZmlsZXMgKyBcIiBmcm9tIEFQSSBjYWxscyBhbmQgXCIgKyB0aWxlUHJvZmlsZXMgKyBcIiBmcm9tIG1hcCB0aWxlcy5cIjtcbn07XG5lZS5kYXRhLlByb2ZpbGVyLnByb3RvdHlwZS5nZXRQcm9maWxlRGF0YSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5wcm9maWxlRGF0YV87XG59O1xuZWUuZGF0YS5Qcm9maWxlci5wcm90b3R5cGUuY2xlYXJBbmREcm9wID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucHJvZmlsZUlkc18gPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICB0aGlzLnRpbGVQcm9maWxlSWRzXyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHRoaXMucmVmcmVzaF8oKTtcbn07XG5lZS5kYXRhLlByb2ZpbGVyLnByb3RvdHlwZS5nZXRQcm9maWxlSG9vayA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcHJvZmlsZUlkcyA9IHRoaXMucHJvZmlsZUlkc187XG4gIHJldHVybiB0aGlzLmlzRW5hYmxlZF8gPyBnb29nLmJpbmQoZnVuY3Rpb24ocHJvZmlsZUlkKSB7XG4gICAgcHJvZmlsZUlkc1twcm9maWxlSWRdID0gSW5maW5pdHk7XG4gICAgdGhpcy50aHJvdHRsZWRSZWZyZXNoXy5zdGFydCgpO1xuICB9LCB0aGlzKSA6IG51bGw7XG59O1xuZWUuZGF0YS5Qcm9maWxlci5wcm90b3R5cGUucmVtb3ZlUHJvZmlsZV8gPSBmdW5jdGlvbihwcm9maWxlSWQpIHtcbiAgdmFyIGNvdW50ID0gdGhpcy5wcm9maWxlSWRzX1twcm9maWxlSWRdO1xuICAxIDwgY291bnQgPyB0aGlzLnByb2ZpbGVJZHNfW3Byb2ZpbGVJZF0tLSA6IHZvaWQgMCAhPT0gY291bnQgJiYgKGRlbGV0ZSB0aGlzLnByb2ZpbGVJZHNfW3Byb2ZpbGVJZF0sIHRoaXMudGhyb3R0bGVkUmVmcmVzaF8uc3RhcnQoKSk7XG59O1xuZWUuZGF0YS5Qcm9maWxlci5wcm90b3R5cGUucmVmcmVzaF8gPSBmdW5jdGlvbihyZXRyeUF0dGVtcHQpIHtcbiAgdmFyICRqc2NvbXAkdGhpcyA9IHRoaXM7XG4gIHJldHJ5QXR0ZW1wdCA9IHZvaWQgMCA9PT0gcmV0cnlBdHRlbXB0ID8gMCA6IHJldHJ5QXR0ZW1wdDtcbiAgdmFyIG1hcmtlciA9IHt9O1xuICB0aGlzLmxhc3RSZWZyZXNoVG9rZW5fID0gbWFya2VyO1xuICB2YXIgaGFuZGxlUmVzcG9uc2UgPSBmdW5jdGlvbihyZXN1bHQsIGVycm9yKSB7XG4gICAgbWFya2VyID09ICRqc2NvbXAkdGhpcy5sYXN0UmVmcmVzaFRva2VuXyAmJiAoZXJyb3IgJiYgXCJudW1iZXJcIiA9PT0gdHlwZW9mIHJldHJ5QXR0ZW1wdCAmJiByZXRyeUF0dGVtcHQgPCAkanNjb21wJHRoaXMuTUFYX1JFVFJZX0NPVU5UXyA/IGdvb2cuVGltZXIuY2FsbE9uY2UoZ29vZy5iaW5kKCRqc2NvbXAkdGhpcy5yZWZyZXNoXywgJGpzY29tcCR0aGlzLCByZXRyeUF0dGVtcHQgKyAxKSwgMiAqIGVlLmRhdGEuUHJvZmlsZXIuREVMQVlfQkVGT1JFX1JFRlJFU0hfKSA6ICgkanNjb21wJHRoaXMucHJvZmlsZUVycm9yXyA9IGVycm9yIHx8IG51bGwsICRqc2NvbXAkdGhpcy5wcm9maWxlRGF0YV8gPSBlcnJvciA/IGVlLmRhdGEuUHJvZmlsZXIuZ2V0RW1wdHlQcm9maWxlXygkanNjb21wJHRoaXMuZm9ybWF0XykgOiByZXN1bHQsICRqc2NvbXAkdGhpcy5sYXN0UmVmcmVzaFRva2VuXyA9IG51bGwsICRqc2NvbXAkdGhpcy5kaXNwYXRjaEV2ZW50KGVlLmRhdGEuUHJvZmlsZXIuRXZlbnRUeXBlLlNUQVRFX0NIQU5HRUQpLCBcbiAgICAkanNjb21wJHRoaXMuZGlzcGF0Y2hFdmVudChlZS5kYXRhLlByb2ZpbGVyLkV2ZW50VHlwZS5EQVRBX0NIQU5HRUQpKSk7XG4gIH0sIGlkcyA9IG1vZHVsZSRjb250ZW50cyRnb29nJG9iamVjdF9nZXRLZXlzKHRoaXMucHJvZmlsZUlkc18pO1xuICAwID09PSBpZHMubGVuZ3RoID8gaGFuZGxlUmVzcG9uc2UoZWUuZGF0YS5Qcm9maWxlci5nZXRFbXB0eVByb2ZpbGVfKHRoaXMuZm9ybWF0XyksIHZvaWQgMCkgOiAoZWUuQXBpRnVuY3Rpb24uX2FwcGx5KHRoaXMuc2hvd0ludGVybmFsXyA/IFwiUHJvZmlsZS5nZXRQcm9maWxlc0ludGVybmFsXCIgOiBcIlByb2ZpbGUuZ2V0UHJvZmlsZXNcIiwge2lkczppZHMsIGZvcm1hdDp0aGlzLmZvcm1hdF8udG9TdHJpbmcoKSx9KS5nZXRJbmZvKGhhbmRsZVJlc3BvbnNlKSwgdGhpcy5kaXNwYXRjaEV2ZW50KGVlLmRhdGEuUHJvZmlsZXIuRXZlbnRUeXBlLlNUQVRFX0NIQU5HRUQpKTtcbn07XG5lZS5kYXRhLlByb2ZpbGVyLnByb3RvdHlwZS5hZGRUaWxlID0gZnVuY3Rpb24odGlsZUlkLCBwcm9maWxlSWQpIHtcbiAgdGhpcy50aWxlUHJvZmlsZUlkc19bdGlsZUlkXSB8fCAodGhpcy50aWxlUHJvZmlsZUlkc19bdGlsZUlkXSA9IHByb2ZpbGVJZCwgdGhpcy5wcm9maWxlSWRzX1twcm9maWxlSWRdID0gKHRoaXMucHJvZmlsZUlkc19bcHJvZmlsZUlkXSB8fCAwKSArIDEsIHRoaXMudGhyb3R0bGVkUmVmcmVzaF8uc3RhcnQoKSk7XG59O1xuZWUuZGF0YS5Qcm9maWxlci5wcm90b3R5cGUucmVtb3ZlVGlsZSA9IGZ1bmN0aW9uKHRpbGVJZCkge1xuICB2YXIgcHJvZmlsZUlkID0gdGhpcy50aWxlUHJvZmlsZUlkc19bdGlsZUlkXTtcbiAgcHJvZmlsZUlkICYmIChkZWxldGUgdGhpcy50aWxlUHJvZmlsZUlkc19bdGlsZUlkXSwgdGhpcy5yZW1vdmVQcm9maWxlXyhwcm9maWxlSWQpKTtcbn07XG5lZS5kYXRhLlByb2ZpbGVyLnByb3RvdHlwZS5nZXRTaG93SW50ZXJuYWwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuc2hvd0ludGVybmFsXztcbn07XG5lZS5kYXRhLlByb2ZpbGVyLnByb3RvdHlwZS5zZXRTaG93SW50ZXJuYWwgPSBmdW5jdGlvbih2YWx1ZSkge1xuICB0aGlzLnNob3dJbnRlcm5hbF8gPSAhIXZhbHVlO1xuICB0aGlzLnRocm90dGxlZFJlZnJlc2hfLmZpcmUoKTtcbn07XG5lZS5kYXRhLlByb2ZpbGVyLnByb3RvdHlwZS5zZXRQYXJlbnRFdmVudFRhcmdldCA9IGZ1bmN0aW9uKHBhcmVudCkge1xuICB0aHJvdyBFcnJvcihcIm5vdCBhcHBsaWNhYmxlXCIpO1xufTtcbmVlLmRhdGEuUHJvZmlsZXIuZ2V0RW1wdHlQcm9maWxlXyA9IGZ1bmN0aW9uKGZvcm1hdCkge1xuICBzd2l0Y2goZm9ybWF0KSB7XG4gICAgY2FzZSBlZS5kYXRhLlByb2ZpbGVyLkZvcm1hdC5URVhUOlxuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgY2FzZSBlZS5kYXRhLlByb2ZpbGVyLkZvcm1hdC5KU09OOlxuICAgICAgcmV0dXJuIGVlLmRhdGEuUHJvZmlsZXIuRU1QVFlfSlNPTl9QUk9GSUxFXztcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIFByb2ZpbGVyIGRhdGEgZm9ybWF0OiBcIiArIGZvcm1hdCk7XG4gIH1cbn07XG5lZS5kYXRhLlByb2ZpbGVyLkRFTEFZX0JFRk9SRV9SRUZSRVNIXyA9IDUwMDtcbmVlLmRhdGEuUHJvZmlsZXIuRU1QVFlfSlNPTl9QUk9GSUxFXyA9IHtjb2xzOltdLCByb3dzOltdfTtcbmVlLmRhdGEuUHJvZmlsZXIuRXZlbnRUeXBlID0ge1NUQVRFX0NIQU5HRUQ6XCJzdGF0ZWNoYW5nZWRcIiwgREFUQV9DSEFOR0VEOlwiZGF0YWNoYW5nZWRcIn07XG5lZS5kYXRhLlByb2ZpbGVyLkZvcm1hdCA9IGZ1bmN0aW9uKGZvcm1hdCkge1xuICB0aGlzLmZvcm1hdF8gPSBmb3JtYXQ7XG59O1xuZWUuZGF0YS5Qcm9maWxlci5Gb3JtYXQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmZvcm1hdF87XG59O1xuZWUuZGF0YS5Qcm9maWxlci5Gb3JtYXQuVEVYVCA9IG5ldyBlZS5kYXRhLlByb2ZpbGVyLkZvcm1hdChcInRleHRcIik7XG5lZS5kYXRhLlByb2ZpbGVyLkZvcm1hdC5KU09OID0gbmV3IGVlLmRhdGEuUHJvZmlsZXIuRm9ybWF0KFwianNvblwiKTtcbihmdW5jdGlvbigpIHtcbiAgdmFyIGV4cG9ydGVkRm5JbmZvID0ge30sIG9yZGVyZWRGbk5hbWVzID0gXCJlZS5BcGlGdW5jdGlvbi5fYXBwbHkgZWUuQXBpRnVuY3Rpb24ubG9va3VwIGVlLkFwaUZ1bmN0aW9uLl9jYWxsIGVlLmJhdGNoLkV4cG9ydC50YWJsZS50b0ZlYXR1cmVWaWV3IGVlLmJhdGNoLkV4cG9ydC52aWRlby50b0Nsb3VkU3RvcmFnZSBlZS5iYXRjaC5FeHBvcnQudmlkZW9NYXAudG9DbG91ZFN0b3JhZ2UgZWUuYmF0Y2guRXhwb3J0LmltYWdlLnRvQXNzZXQgZWUuYmF0Y2guRXhwb3J0LnRhYmxlLnRvQXNzZXQgZWUuYmF0Y2guRXhwb3J0LmNsYXNzaWZpZXIudG9Bc3NldCBlZS5iYXRjaC5FeHBvcnQudmlkZW8udG9Ecml2ZSBlZS5iYXRjaC5FeHBvcnQuaW1hZ2UudG9DbG91ZFN0b3JhZ2UgZWUuYmF0Y2guRXhwb3J0LmltYWdlLnRvRHJpdmUgZWUuYmF0Y2guRXhwb3J0Lm1hcC50b0Nsb3VkU3RvcmFnZSBlZS5iYXRjaC5FeHBvcnQudGFibGUudG9DbG91ZFN0b3JhZ2UgZWUuYmF0Y2guRXhwb3J0LnRhYmxlLnRvRHJpdmUgZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUubGltaXQgZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUubWFwIGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLmZpbHRlck1ldGFkYXRhIGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLnNvcnQgZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUuZmlsdGVyRGF0ZSBlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5maWx0ZXIgZWUuQ29sbGVjdGlvbi5wcm90b3R5cGUuaXRlcmF0ZSBlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5maWx0ZXJCb3VuZHMgZWUuQ29tcHV0ZWRPYmplY3QucHJvdG90eXBlLmFzaWRlIGVlLkNvbXB1dGVkT2JqZWN0LnByb3RvdHlwZS5ldmFsdWF0ZSBlZS5Db21wdXRlZE9iamVjdC5wcm90b3R5cGUuZ2V0SW5mbyBlZS5Db21wdXRlZE9iamVjdC5wcm90b3R5cGUuc2VyaWFsaXplIGVlLmRhdGEuZGVsZXRlQXNzZXQgZWUuZGF0YS5zdGFydEluZ2VzdGlvbiBlZS5kYXRhLmdldFZpZGVvVGh1bWJJZCBlZS5kYXRhLmdldExpc3QgZWUuZGF0YS5nZXRGaWxtc3RyaXBUaHVtYklkIGVlLmRhdGEubGlzdEFzc2V0cyBlZS5kYXRhLm1ha2VUaHVtYlVybCBlZS5kYXRhLmF1dGhlbnRpY2F0ZVZpYU9hdXRoIGVlLmRhdGEuc3RhcnRUYWJsZUluZ2VzdGlvbiBlZS5kYXRhLmdldERvd25sb2FkSWQgZWUuZGF0YS5nZXRBc3NldEFjbCBlZS5kYXRhLmxpc3RJbWFnZXMgZWUuZGF0YS5nZXRBc3NldFJvb3RzIGVlLmRhdGEuc2V0QXNzZXRBY2wgZWUuZGF0YS51cGRhdGVBc3NldCBlZS5kYXRhLmdldFRhYmxlRG93bmxvYWRJZCBlZS5kYXRhLmdldEFzc2V0IGVlLmRhdGEuZ2V0SW5mbyBlZS5kYXRhLm1ha2VEb3dubG9hZFVybCBlZS5kYXRhLmxpc3RCdWNrZXRzIGVlLmRhdGEubWFrZVRhYmxlRG93bmxvYWRVcmwgZWUuZGF0YS5zZXRBc3NldFByb3BlcnRpZXMgZWUuZGF0YS5hdXRoZW50aWNhdGVWaWFQb3B1cCBlZS5kYXRhLmNyZWF0ZUFzc2V0SG9tZSBlZS5kYXRhLmdldEFzc2V0Um9vdFF1b3RhIGVlLmRhdGEubmV3VGFza0lkIGVlLmRhdGEuYXV0aGVudGljYXRlVmlhUHJpdmF0ZUtleSBlZS5kYXRhLmNhbmNlbE9wZXJhdGlvbiBlZS5kYXRhLmNyZWF0ZUFzc2V0IGVlLmRhdGEuZ2V0T3BlcmF0aW9uIGVlLmRhdGEuZ2V0VGFza1N0YXR1cyBlZS5kYXRhLmNyZWF0ZUZvbGRlciBlZS5kYXRhLmdldE1hcElkIGVlLmRhdGEubGlzdE9wZXJhdGlvbnMgZWUuZGF0YS5yZW5hbWVBc3NldCBlZS5kYXRhLmdldEZlYXR1cmVWaWV3VGlsZXNLZXkgZWUuZGF0YS51cGRhdGVUYXNrIGVlLmRhdGEuY2FuY2VsVGFzayBlZS5kYXRhLmdldFRhc2tMaXN0V2l0aExpbWl0IGVlLmRhdGEuZ2V0VGh1bWJJZCBlZS5kYXRhLmNvbXB1dGVWYWx1ZSBlZS5kYXRhLnN0YXJ0UHJvY2Vzc2luZyBlZS5kYXRhLmF1dGhlbnRpY2F0ZSBlZS5kYXRhLmdldFRhc2tMaXN0IGVlLmRhdGEuY29weUFzc2V0IGVlLmRhdGEuZ2V0VGlsZVVybCBlZS5EYXRlIGVlLkRlc2VyaWFsaXplci5mcm9tQ2xvdWRBcGlKU09OIGVlLkRlc2VyaWFsaXplci5kZWNvZGUgZWUuRGVzZXJpYWxpemVyLmZyb21KU09OIGVlLkRlc2VyaWFsaXplci5kZWNvZGVDbG91ZEFwaSBlZS5EaWN0aW9uYXJ5IGVlLmNhbGwgZWUucmVzZXQgZWUuVElMRV9TSVpFIGVlLkluaXRTdGF0ZSBlZS5hcHBseSBlZS5pbml0aWFsaXplIGVlLkFsZ29yaXRobXMgZWUuRWxlbWVudC5wcm90b3R5cGUuc2V0IGVlLkZlYXR1cmUucHJvdG90eXBlLmdldEluZm8gZWUuRmVhdHVyZSBlZS5GZWF0dXJlLnByb3RvdHlwZS5nZXRNYXAgZWUuRmVhdHVyZUNvbGxlY3Rpb24ucHJvdG90eXBlLnNlbGVjdCBlZS5GZWF0dXJlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0RG93bmxvYWRVUkwgZWUuRmVhdHVyZUNvbGxlY3Rpb24gZWUuRmVhdHVyZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldE1hcCBlZS5GZWF0dXJlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SW5mbyBlZS5GaWx0ZXIgZWUuRmlsdGVyLm9yIGVlLkZpbHRlci5sdCBlZS5GaWx0ZXIuZGF0ZSBlZS5GaWx0ZXIuZXEgZWUuRmlsdGVyLmd0ZSBlZS5GaWx0ZXIubHRlIGVlLkZpbHRlci5uZXEgZWUuRmlsdGVyLmFuZCBlZS5GaWx0ZXIubWV0YWRhdGEgZWUuRmlsdGVyLmluTGlzdCBlZS5GaWx0ZXIuYm91bmRzIGVlLkZpbHRlci5ndCBlZS5GaWx0ZXIucHJvdG90eXBlLm5vdCBlZS5GdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkgZWUuRnVuY3Rpb24ucHJvdG90eXBlLmNhbGwgZWUuR2VvbWV0cnkuTGluZVN0cmluZyBlZS5HZW9tZXRyeSBlZS5HZW9tZXRyeS5wcm90b3R5cGUudG9HZW9KU09OU3RyaW5nIGVlLkdlb21ldHJ5LkJCb3ggZWUuR2VvbWV0cnkuTXVsdGlQb2x5Z29uIGVlLkdlb21ldHJ5Lk11bHRpTGluZVN0cmluZyBlZS5HZW9tZXRyeS5Qb2ludCBlZS5HZW9tZXRyeS5wcm90b3R5cGUuc2VyaWFsaXplIGVlLkdlb21ldHJ5LlJlY3RhbmdsZSBlZS5HZW9tZXRyeS5MaW5lYXJSaW5nIGVlLkdlb21ldHJ5LnByb3RvdHlwZS50b0dlb0pTT04gZWUuR2VvbWV0cnkuTXVsdGlQb2ludCBlZS5HZW9tZXRyeS5Qb2x5Z29uIGVlLkltYWdlLnByb3RvdHlwZS5yZW5hbWUgZWUuSW1hZ2UucHJvdG90eXBlLmdldERvd25sb2FkVVJMIGVlLkltYWdlLnByb3RvdHlwZS5zZWxlY3QgZWUuSW1hZ2UucHJvdG90eXBlLmdldE1hcCBlZS5JbWFnZS5wcm90b3R5cGUuZ2V0VGh1bWJVUkwgZWUuSW1hZ2UgZWUuSW1hZ2UucHJvdG90eXBlLmdldFRodW1iSWQgZWUuSW1hZ2UucHJvdG90eXBlLmV4cHJlc3Npb24gZWUuSW1hZ2UucHJvdG90eXBlLmNsaXAgZWUuSW1hZ2UucmdiIGVlLkltYWdlLmNhdCBlZS5JbWFnZS5wcm90b3R5cGUuZ2V0SW5mbyBlZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldEZpbG1zdHJpcFRodW1iVVJMIGVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SW5mbyBlZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmdldFZpZGVvVGh1bWJVUkwgZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5maXJzdCBlZS5JbWFnZUNvbGxlY3Rpb24gZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRNYXAgZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5zZWxlY3QgZWUuTGlzdCBlZS5OdW1iZXIgZWUuU2VyaWFsaXplci5lbmNvZGVDbG91ZEFwaVByZXR0eSBlZS5TZXJpYWxpemVyLnRvQ2xvdWRBcGlKU09OIGVlLlNlcmlhbGl6ZXIuZW5jb2RlIGVlLlNlcmlhbGl6ZXIudG9KU09OIGVlLlNlcmlhbGl6ZXIuZW5jb2RlQ2xvdWRBcGkgZWUuU2VyaWFsaXplci50b1JlYWRhYmxlQ2xvdWRBcGlKU09OIGVlLlNlcmlhbGl6ZXIudG9SZWFkYWJsZUpTT04gZWUuU3RyaW5nIGVlLlRlcnJhaW5cIi5zcGxpdChcIiBcIiksIFxuICBvcmRlcmVkUGFyYW1MaXN0cyA9IFtbXCJuYW1lXCIsIFwibmFtZWRBcmdzXCJdLCBbXCJuYW1lXCJdLCBbXCJuYW1lXCIsIFwidmFyX2FyZ3NcIl0sIFtcImNvbGxlY3Rpb25cIiwgXCJvcHRfZGVzY3JpcHRpb25cIiwgXCJvcHRfYXNzZXRJZFwiXSwgXCJjb2xsZWN0aW9uIG9wdF9kZXNjcmlwdGlvbiBvcHRfYnVja2V0IG9wdF9maWxlTmFtZVByZWZpeCBvcHRfZnJhbWVzUGVyU2Vjb25kIG9wdF9kaW1lbnNpb25zIG9wdF9yZWdpb24gb3B0X3NjYWxlIG9wdF9jcnMgb3B0X2Nyc1RyYW5zZm9ybSBvcHRfbWF4UGl4ZWxzIG9wdF9tYXhGcmFtZXNcIi5zcGxpdChcIiBcIiksIFwiY29sbGVjdGlvbiBvcHRfZGVzY3JpcHRpb24gb3B0X2J1Y2tldCBvcHRfZmlsZU5hbWVQcmVmaXggb3B0X2ZyYW1lc1BlclNlY29uZCBvcHRfd3JpdGVQdWJsaWNUaWxlcyBvcHRfbWluWm9vbSBvcHRfbWF4Wm9vbSBvcHRfc2NhbGUgb3B0X3JlZ2lvbiBvcHRfc2tpcEVtcHR5VGlsZXMgb3B0X21pblRpbWVNYWNoaW5lWm9vbVN1YnNldCBvcHRfbWF4VGltZU1hY2hpbmVab29tU3Vic2V0IG9wdF90aWxlV2lkdGggb3B0X3RpbGVIZWlnaHQgb3B0X3RpbGVTdHJpZGUgb3B0X3ZpZGVvRm9ybWF0IG9wdF92ZXJzaW9uIG9wdF9tYXBzQXBpS2V5IG9wdF9idWNrZXRDb3JzVXJpc1wiLnNwbGl0KFwiIFwiKSwgXG4gIFwiaW1hZ2Ugb3B0X2Rlc2NyaXB0aW9uIG9wdF9hc3NldElkIG9wdF9weXJhbWlkaW5nUG9saWN5IG9wdF9kaW1lbnNpb25zIG9wdF9yZWdpb24gb3B0X3NjYWxlIG9wdF9jcnMgb3B0X2Nyc1RyYW5zZm9ybSBvcHRfbWF4UGl4ZWxzIG9wdF9zaGFyZFNpemVcIi5zcGxpdChcIiBcIiksIFtcImNvbGxlY3Rpb25cIiwgXCJvcHRfZGVzY3JpcHRpb25cIiwgXCJvcHRfYXNzZXRJZFwiLCBcIm9wdF9tYXhWZXJ0aWNlc1wiXSwgW1wiY2xhc3NpZmllclwiLCBcIm9wdF9kZXNjcmlwdGlvblwiLCBcIm9wdF9hc3NldElkXCJdLCBcImNvbGxlY3Rpb24gb3B0X2Rlc2NyaXB0aW9uIG9wdF9mb2xkZXIgb3B0X2ZpbGVOYW1lUHJlZml4IG9wdF9mcmFtZXNQZXJTZWNvbmQgb3B0X2RpbWVuc2lvbnMgb3B0X3JlZ2lvbiBvcHRfc2NhbGUgb3B0X2NycyBvcHRfY3JzVHJhbnNmb3JtIG9wdF9tYXhQaXhlbHMgb3B0X21heEZyYW1lc1wiLnNwbGl0KFwiIFwiKSwgXCJpbWFnZSBvcHRfZGVzY3JpcHRpb24gb3B0X2J1Y2tldCBvcHRfZmlsZU5hbWVQcmVmaXggb3B0X2RpbWVuc2lvbnMgb3B0X3JlZ2lvbiBvcHRfc2NhbGUgb3B0X2NycyBvcHRfY3JzVHJhbnNmb3JtIG9wdF9tYXhQaXhlbHMgb3B0X3NoYXJkU2l6ZSBvcHRfZmlsZURpbWVuc2lvbnMgb3B0X3NraXBFbXB0eVRpbGVzIG9wdF9maWxlRm9ybWF0IG9wdF9mb3JtYXRPcHRpb25zXCIuc3BsaXQoXCIgXCIpLCBcbiAgXCJpbWFnZSBvcHRfZGVzY3JpcHRpb24gb3B0X2ZvbGRlciBvcHRfZmlsZU5hbWVQcmVmaXggb3B0X2RpbWVuc2lvbnMgb3B0X3JlZ2lvbiBvcHRfc2NhbGUgb3B0X2NycyBvcHRfY3JzVHJhbnNmb3JtIG9wdF9tYXhQaXhlbHMgb3B0X3NoYXJkU2l6ZSBvcHRfZmlsZURpbWVuc2lvbnMgb3B0X3NraXBFbXB0eVRpbGVzIG9wdF9maWxlRm9ybWF0IG9wdF9mb3JtYXRPcHRpb25zXCIuc3BsaXQoXCIgXCIpLCBcImltYWdlIG9wdF9kZXNjcmlwdGlvbiBvcHRfYnVja2V0IG9wdF9maWxlRm9ybWF0IG9wdF9wYXRoIG9wdF93cml0ZVB1YmxpY1RpbGVzIG9wdF9zY2FsZSBvcHRfbWF4Wm9vbSBvcHRfbWluWm9vbSBvcHRfcmVnaW9uIG9wdF9za2lwRW1wdHlUaWxlcyBvcHRfbWFwc0FwaUtleSBvcHRfYnVja2V0Q29yc1VyaXNcIi5zcGxpdChcIiBcIiksIFwiY29sbGVjdGlvbiBvcHRfZGVzY3JpcHRpb24gb3B0X2J1Y2tldCBvcHRfZmlsZU5hbWVQcmVmaXggb3B0X2ZpbGVGb3JtYXQgb3B0X3NlbGVjdG9ycyBvcHRfbWF4VmVydGljZXNcIi5zcGxpdChcIiBcIiksIFxuICBcImNvbGxlY3Rpb24gb3B0X2Rlc2NyaXB0aW9uIG9wdF9mb2xkZXIgb3B0X2ZpbGVOYW1lUHJlZml4IG9wdF9maWxlRm9ybWF0IG9wdF9zZWxlY3RvcnMgb3B0X21heFZlcnRpY2VzXCIuc3BsaXQoXCIgXCIpLCBbXCJtYXhcIiwgXCJvcHRfcHJvcGVydHlcIiwgXCJvcHRfYXNjZW5kaW5nXCJdLCBbXCJhbGdvcml0aG1cIiwgXCJvcHRfZHJvcE51bGxzXCJdLCBbXCJuYW1lXCIsIFwib3BlcmF0b3JcIiwgXCJ2YWx1ZVwiXSwgW1wicHJvcGVydHlcIiwgXCJvcHRfYXNjZW5kaW5nXCJdLCBbXCJzdGFydFwiLCBcIm9wdF9lbmRcIl0sIFtcImZpbHRlclwiXSwgW1wiYWxnb3JpdGhtXCIsIFwib3B0X2ZpcnN0XCJdLCBbXCJnZW9tZXRyeVwiXSwgW1wiZnVuY1wiLCBcInZhcl9hcmdzXCJdLCBbXCJjYWxsYmFja1wiXSwgW1wib3B0X2NhbGxiYWNrXCJdLCBbXCJsZWdhY3lcIl0sIFtcImFzc2V0SWRcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcInRhc2tJZFwiLCBcInJlcXVlc3RcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcInBhcmFtc1wiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wicGFyYW1zXCIsIFxuICBcIm9wdF9jYWxsYmFja1wiXSwgW1wicGFyYW1zXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJwYXJlbnRcIiwgXCJwYXJhbXNcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcImlkXCJdLCBcImNsaWVudElkIHN1Y2Nlc3Mgb3B0X2Vycm9yIG9wdF9leHRyYVNjb3BlcyBvcHRfb25JbW1lZGlhdGVGYWlsZWQgb3B0X3N1cHByZXNzRGVmYXVsdFNjb3Blc1wiLnNwbGl0KFwiIFwiKSwgW1widGFza0lkXCIsIFwicmVxdWVzdFwiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wicGFyYW1zXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJhc3NldElkXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJwYXJlbnRcIiwgXCJwYXJhbXNcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcIm9wdF9jYWxsYmFja1wiXSwgW1wiYXNzZXRJZFwiLCBcImFjbFVwZGF0ZVwiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wiYXNzZXRJZFwiLCBcImFzc2V0XCIsIFwidXBkYXRlRmllbGRzXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJwYXJhbXNcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcImlkXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJpZFwiLCBcbiAgXCJvcHRfY2FsbGJhY2tcIl0sIFtcImlkXCJdLCBbXCJwcm9qZWN0XCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJpZFwiXSwgW1wiYXNzZXRJZFwiLCBcInByb3BlcnRpZXNcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcIm9wdF9zdWNjZXNzXCIsIFwib3B0X2Vycm9yXCJdLCBbXCJyZXF1ZXN0ZWRJZFwiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wicm9vdElkXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJvcHRfY291bnRcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcInByaXZhdGVLZXlcIiwgXCJvcHRfc3VjY2Vzc1wiLCBcIm9wdF9lcnJvclwiLCBcIm9wdF9leHRyYVNjb3Blc1wiLCBcIm9wdF9zdXBwcmVzc0RlZmF1bHRTY29wZXNcIl0sIFtcIm9wZXJhdGlvbk5hbWVcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcInZhbHVlXCIsIFwib3B0X3BhdGhcIiwgXCJvcHRfZm9yY2VcIiwgXCJvcHRfcHJvcGVydGllc1wiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wib3BlcmF0aW9uTmFtZVwiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1widGFza0lkXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJwYXRoXCIsIFwib3B0X2ZvcmNlXCIsIFxuICBcIm9wdF9jYWxsYmFja1wiXSwgW1wicGFyYW1zXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJvcHRfbGltaXRcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcInNvdXJjZUlkXCIsIFwiZGVzdGluYXRpb25JZFwiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wicGFyYW1zXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJ0YXNrSWRcIiwgXCJhY3Rpb25cIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcInRhc2tJZFwiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1wib3B0X2xpbWl0XCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJwYXJhbXNcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcIm9ialwiLCBcIm9wdF9jYWxsYmFja1wiXSwgW1widGFza0lkXCIsIFwicGFyYW1zXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJjbGllbnRJZFwiLCBcInN1Y2Nlc3NcIiwgXCJvcHRfZXJyb3JcIiwgXCJvcHRfZXh0cmFTY29wZXNcIiwgXCJvcHRfb25JbW1lZGlhdGVGYWlsZWRcIl0sIFtcIm9wdF9jYWxsYmFja1wiXSwgW1wic291cmNlSWRcIiwgXCJkZXN0aW5hdGlvbklkXCIsIFwib3B0X292ZXJ3cml0ZVwiLCBcIm9wdF9jYWxsYmFja1wiXSwgXG4gIFtcImlkXCIsIFwieFwiLCBcInlcIiwgXCJ6XCJdLCBbXCJkYXRlXCIsIFwib3B0X3R6XCJdLCBbXCJqc29uXCJdLCBbXCJqc29uXCJdLCBbXCJqc29uXCJdLCBbXCJqc29uXCJdLCBbXCJvcHRfZGljdFwiXSwgW1wiZnVuY1wiLCBcInZhcl9hcmdzXCJdLCBbXSwgW10sIFtdLCBbXCJmdW5jXCIsIFwibmFtZWRBcmdzXCJdLCBcIm9wdF9iYXNldXJsIG9wdF90aWxldXJsIG9wdF9zdWNjZXNzQ2FsbGJhY2sgb3B0X2Vycm9yQ2FsbGJhY2sgb3B0X3hzcmZUb2tlbiBvcHRfcHJvamVjdFwiLnNwbGl0KFwiIFwiKSwgW10sIFtcInZhcl9hcmdzXCJdLCBbXCJvcHRfY2FsbGJhY2tcIl0sIFtcImdlb21ldHJ5XCIsIFwib3B0X3Byb3BlcnRpZXNcIl0sIFtcIm9wdF92aXNQYXJhbXNcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcInByb3BlcnR5U2VsZWN0b3JzXCIsIFwib3B0X25ld1Byb3BlcnRpZXNcIiwgXCJvcHRfcmV0YWluR2VvbWV0cnlcIl0sIFtcIm9wdF9mb3JtYXRcIiwgXCJvcHRfc2VsZWN0b3JzXCIsIFwib3B0X2ZpbGVuYW1lXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJhcmdzXCIsIFxuICBcIm9wdF9jb2x1bW5cIl0sIFtcIm9wdF92aXNQYXJhbXNcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcIm9wdF9jYWxsYmFja1wiXSwgW1wib3B0X2ZpbHRlclwiXSwgW1widmFyX2FyZ3NcIl0sIFtcIm5hbWVcIiwgXCJ2YWx1ZVwiXSwgW1wic3RhcnRcIiwgXCJvcHRfZW5kXCJdLCBbXCJuYW1lXCIsIFwidmFsdWVcIl0sIFtcIm5hbWVcIiwgXCJ2YWx1ZVwiXSwgW1wibmFtZVwiLCBcInZhbHVlXCJdLCBbXCJuYW1lXCIsIFwidmFsdWVcIl0sIFtcInZhcl9hcmdzXCJdLCBbXCJuYW1lXCIsIFwib3BlcmF0b3JcIiwgXCJ2YWx1ZVwiXSwgW1wib3B0X2xlZnRGaWVsZFwiLCBcIm9wdF9yaWdodFZhbHVlXCIsIFwib3B0X3JpZ2h0RmllbGRcIiwgXCJvcHRfbGVmdFZhbHVlXCJdLCBbXCJnZW9tZXRyeVwiLCBcIm9wdF9lcnJvck1hcmdpblwiXSwgW1wibmFtZVwiLCBcInZhbHVlXCJdLCBbXSwgW1wibmFtZWRBcmdzXCJdLCBbXCJ2YXJfYXJnc1wiXSwgW1wiY29vcmRzXCIsIFwib3B0X3Byb2pcIiwgXCJvcHRfZ2VvZGVzaWNcIiwgXCJvcHRfbWF4RXJyb3JcIl0sIFtcImdlb0pzb25cIiwgXCJvcHRfcHJvalwiLCBcIm9wdF9nZW9kZXNpY1wiLCBcbiAgXCJvcHRfZXZlbk9kZFwiXSwgW10sIFtcIndlc3RcIiwgXCJzb3V0aFwiLCBcImVhc3RcIiwgXCJub3J0aFwiXSwgW1wiY29vcmRzXCIsIFwib3B0X3Byb2pcIiwgXCJvcHRfZ2VvZGVzaWNcIiwgXCJvcHRfbWF4RXJyb3JcIiwgXCJvcHRfZXZlbk9kZFwiXSwgW1wiY29vcmRzXCIsIFwib3B0X3Byb2pcIiwgXCJvcHRfZ2VvZGVzaWNcIiwgXCJvcHRfbWF4RXJyb3JcIl0sIFtcImNvb3Jkc1wiLCBcIm9wdF9wcm9qXCJdLCBbXCJsZWdhY3lcIl0sIFtcImNvb3Jkc1wiLCBcIm9wdF9wcm9qXCIsIFwib3B0X2dlb2Rlc2ljXCIsIFwib3B0X2V2ZW5PZGRcIl0sIFtcImNvb3Jkc1wiLCBcIm9wdF9wcm9qXCIsIFwib3B0X2dlb2Rlc2ljXCIsIFwib3B0X21heEVycm9yXCJdLCBbXSwgW1wiY29vcmRzXCIsIFwib3B0X3Byb2pcIl0sIFtcImNvb3Jkc1wiLCBcIm9wdF9wcm9qXCIsIFwib3B0X2dlb2Rlc2ljXCIsIFwib3B0X21heEVycm9yXCIsIFwib3B0X2V2ZW5PZGRcIl0sIFtcInZhcl9hcmdzXCJdLCBbXCJwYXJhbXNcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcInZhcl9hcmdzXCJdLCBbXCJvcHRfdmlzUGFyYW1zXCIsIFxuICBcIm9wdF9jYWxsYmFja1wiXSwgW1wicGFyYW1zXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJvcHRfYXJnc1wiXSwgW1wicGFyYW1zXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJleHByZXNzaW9uXCIsIFwib3B0X21hcFwiXSwgW1wiZ2VvbWV0cnlcIl0sIFtcInJcIiwgXCJnXCIsIFwiYlwiXSwgW1widmFyX2FyZ3NcIl0sIFtcIm9wdF9jYWxsYmFja1wiXSwgW1wicGFyYW1zXCIsIFwib3B0X2NhbGxiYWNrXCJdLCBbXCJvcHRfY2FsbGJhY2tcIl0sIFtcInBhcmFtc1wiLCBcIm9wdF9jYWxsYmFja1wiXSwgW10sIFtcImFyZ3NcIl0sIFtcIm9wdF92aXNQYXJhbXNcIiwgXCJvcHRfY2FsbGJhY2tcIl0sIFtcInNlbGVjdG9yc1wiLCBcIm9wdF9uYW1lc1wiXSwgW1wibGlzdFwiXSwgW1wibnVtYmVyXCJdLCBbXCJvYmpcIl0sIFtcIm9ialwiXSwgW1wib2JqXCIsIFwib3B0X2lzQ29tcG91bmRcIl0sIFtcIm9ialwiXSwgW1wib2JqXCJdLCBbXCJvYmpcIl0sIFtcIm9ialwiXSwgW1wic3RyaW5nXCJdLCBbXV07XG4gIFtlZS5BcGlGdW5jdGlvbi5fYXBwbHksIGVlLkFwaUZ1bmN0aW9uLmxvb2t1cCwgZWUuQXBpRnVuY3Rpb24uX2NhbGwsIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQudGFibGUudG9GZWF0dXJlVmlldywgbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC52aWRlby50b0Nsb3VkU3RvcmFnZSwgbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC52aWRlb01hcC50b0Nsb3VkU3RvcmFnZSwgbW9kdWxlJGNvbnRlbnRzJGVlJGJhdGNoX0V4cG9ydC5pbWFnZS50b0Fzc2V0LCBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnRhYmxlLnRvQXNzZXQsIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuY2xhc3NpZmllci50b0Fzc2V0LCBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnZpZGVvLnRvRHJpdmUsIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuaW1hZ2UudG9DbG91ZFN0b3JhZ2UsIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQuaW1hZ2UudG9Ecml2ZSwgXG4gIG1vZHVsZSRjb250ZW50cyRlZSRiYXRjaF9FeHBvcnQubWFwLnRvQ2xvdWRTdG9yYWdlLCBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnRhYmxlLnRvQ2xvdWRTdG9yYWdlLCBtb2R1bGUkY29udGVudHMkZWUkYmF0Y2hfRXhwb3J0LnRhYmxlLnRvRHJpdmUsIGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLmxpbWl0LCBlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5tYXAsIGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLmZpbHRlck1ldGFkYXRhLCBlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5zb3J0LCBlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5maWx0ZXJEYXRlLCBlZS5Db2xsZWN0aW9uLnByb3RvdHlwZS5maWx0ZXIsIGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLml0ZXJhdGUsIGVlLkNvbGxlY3Rpb24ucHJvdG90eXBlLmZpbHRlckJvdW5kcywgZWUuQ29tcHV0ZWRPYmplY3QucHJvdG90eXBlLmFzaWRlLCBlZS5Db21wdXRlZE9iamVjdC5wcm90b3R5cGUuZXZhbHVhdGUsIGVlLkNvbXB1dGVkT2JqZWN0LnByb3RvdHlwZS5nZXRJbmZvLCBcbiAgZWUuQ29tcHV0ZWRPYmplY3QucHJvdG90eXBlLnNlcmlhbGl6ZSwgZWUuZGF0YS5kZWxldGVBc3NldCwgZWUuZGF0YS5zdGFydEluZ2VzdGlvbiwgZWUuZGF0YS5nZXRWaWRlb1RodW1iSWQsIGVlLmRhdGEuZ2V0TGlzdCwgZWUuZGF0YS5nZXRGaWxtc3RyaXBUaHVtYklkLCBlZS5kYXRhLmxpc3RBc3NldHMsIGVlLmRhdGEubWFrZVRodW1iVXJsLCBlZS5kYXRhLmF1dGhlbnRpY2F0ZVZpYU9hdXRoLCBlZS5kYXRhLnN0YXJ0VGFibGVJbmdlc3Rpb24sIGVlLmRhdGEuZ2V0RG93bmxvYWRJZCwgZWUuZGF0YS5nZXRBc3NldEFjbCwgZWUuZGF0YS5saXN0SW1hZ2VzLCBlZS5kYXRhLmdldEFzc2V0Um9vdHMsIGVlLmRhdGEuc2V0QXNzZXRBY2wsIGVlLmRhdGEudXBkYXRlQXNzZXQsIGVlLmRhdGEuZ2V0VGFibGVEb3dubG9hZElkLCBlZS5kYXRhLmdldEFzc2V0LCBlZS5kYXRhLmdldEluZm8sIGVlLmRhdGEubWFrZURvd25sb2FkVXJsLCBlZS5kYXRhLmxpc3RCdWNrZXRzLCBlZS5kYXRhLm1ha2VUYWJsZURvd25sb2FkVXJsLCBcbiAgZWUuZGF0YS5zZXRBc3NldFByb3BlcnRpZXMsIGVlLmRhdGEuYXV0aGVudGljYXRlVmlhUG9wdXAsIGVlLmRhdGEuY3JlYXRlQXNzZXRIb21lLCBlZS5kYXRhLmdldEFzc2V0Um9vdFF1b3RhLCBlZS5kYXRhLm5ld1Rhc2tJZCwgZWUuZGF0YS5hdXRoZW50aWNhdGVWaWFQcml2YXRlS2V5LCBlZS5kYXRhLmNhbmNlbE9wZXJhdGlvbiwgZWUuZGF0YS5jcmVhdGVBc3NldCwgZWUuZGF0YS5nZXRPcGVyYXRpb24sIGVlLmRhdGEuZ2V0VGFza1N0YXR1cywgZWUuZGF0YS5jcmVhdGVGb2xkZXIsIGVlLmRhdGEuZ2V0TWFwSWQsIGVlLmRhdGEubGlzdE9wZXJhdGlvbnMsIGVlLmRhdGEucmVuYW1lQXNzZXQsIGVlLmRhdGEuZ2V0RmVhdHVyZVZpZXdUaWxlc0tleSwgZWUuZGF0YS51cGRhdGVUYXNrLCBlZS5kYXRhLmNhbmNlbFRhc2ssIGVlLmRhdGEuZ2V0VGFza0xpc3RXaXRoTGltaXQsIGVlLmRhdGEuZ2V0VGh1bWJJZCwgZWUuZGF0YS5jb21wdXRlVmFsdWUsIGVlLmRhdGEuc3RhcnRQcm9jZXNzaW5nLCBcbiAgZWUuZGF0YS5hdXRoZW50aWNhdGUsIGVlLmRhdGEuZ2V0VGFza0xpc3QsIGVlLmRhdGEuY29weUFzc2V0LCBlZS5kYXRhLmdldFRpbGVVcmwsIGVlLkRhdGUsIGVlLkRlc2VyaWFsaXplci5mcm9tQ2xvdWRBcGlKU09OLCBlZS5EZXNlcmlhbGl6ZXIuZGVjb2RlLCBlZS5EZXNlcmlhbGl6ZXIuZnJvbUpTT04sIGVlLkRlc2VyaWFsaXplci5kZWNvZGVDbG91ZEFwaSwgZWUuRGljdGlvbmFyeSwgZWUuY2FsbCwgZWUucmVzZXQsIGVlLlRJTEVfU0laRSwgZWUuSW5pdFN0YXRlLCBlZS5hcHBseSwgZWUuaW5pdGlhbGl6ZSwgZWUuQWxnb3JpdGhtcywgZWUuRWxlbWVudC5wcm90b3R5cGUuc2V0LCBlZS5GZWF0dXJlLnByb3RvdHlwZS5nZXRJbmZvLCBlZS5GZWF0dXJlLCBlZS5GZWF0dXJlLnByb3RvdHlwZS5nZXRNYXAsIGVlLkZlYXR1cmVDb2xsZWN0aW9uLnByb3RvdHlwZS5zZWxlY3QsIGVlLkZlYXR1cmVDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXREb3dubG9hZFVSTCwgZWUuRmVhdHVyZUNvbGxlY3Rpb24sIFxuICBlZS5GZWF0dXJlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0TWFwLCBlZS5GZWF0dXJlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SW5mbywgZWUuRmlsdGVyLCBlZS5GaWx0ZXIub3IsIGVlLkZpbHRlci5sdCwgZWUuRmlsdGVyLmRhdGUsIGVlLkZpbHRlci5lcSwgZWUuRmlsdGVyLmd0ZSwgZWUuRmlsdGVyLmx0ZSwgZWUuRmlsdGVyLm5lcSwgZWUuRmlsdGVyLmFuZCwgZWUuRmlsdGVyLm1ldGFkYXRhLCBlZS5GaWx0ZXIuaW5MaXN0LCBlZS5GaWx0ZXIuYm91bmRzLCBlZS5GaWx0ZXIuZ3QsIGVlLkZpbHRlci5wcm90b3R5cGUubm90LCBlZS5GdW5jdGlvbi5wcm90b3R5cGUuYXBwbHksIGVlLkZ1bmN0aW9uLnByb3RvdHlwZS5jYWxsLCBlZS5HZW9tZXRyeS5MaW5lU3RyaW5nLCBlZS5HZW9tZXRyeSwgZWUuR2VvbWV0cnkucHJvdG90eXBlLnRvR2VvSlNPTlN0cmluZywgZWUuR2VvbWV0cnkuQkJveCwgZWUuR2VvbWV0cnkuTXVsdGlQb2x5Z29uLCBlZS5HZW9tZXRyeS5NdWx0aUxpbmVTdHJpbmcsIFxuICBlZS5HZW9tZXRyeS5Qb2ludCwgZWUuR2VvbWV0cnkucHJvdG90eXBlLnNlcmlhbGl6ZSwgZWUuR2VvbWV0cnkuUmVjdGFuZ2xlLCBlZS5HZW9tZXRyeS5MaW5lYXJSaW5nLCBlZS5HZW9tZXRyeS5wcm90b3R5cGUudG9HZW9KU09OLCBlZS5HZW9tZXRyeS5NdWx0aVBvaW50LCBlZS5HZW9tZXRyeS5Qb2x5Z29uLCBlZS5JbWFnZS5wcm90b3R5cGUucmVuYW1lLCBlZS5JbWFnZS5wcm90b3R5cGUuZ2V0RG93bmxvYWRVUkwsIGVlLkltYWdlLnByb3RvdHlwZS5zZWxlY3QsIGVlLkltYWdlLnByb3RvdHlwZS5nZXRNYXAsIGVlLkltYWdlLnByb3RvdHlwZS5nZXRUaHVtYlVSTCwgZWUuSW1hZ2UsIGVlLkltYWdlLnByb3RvdHlwZS5nZXRUaHVtYklkLCBlZS5JbWFnZS5wcm90b3R5cGUuZXhwcmVzc2lvbiwgZWUuSW1hZ2UucHJvdG90eXBlLmNsaXAsIGVlLkltYWdlLnJnYiwgZWUuSW1hZ2UuY2F0LCBlZS5JbWFnZS5wcm90b3R5cGUuZ2V0SW5mbywgZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRGaWxtc3RyaXBUaHVtYlVSTCwgXG4gIGVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0SW5mbywgZWUuSW1hZ2VDb2xsZWN0aW9uLnByb3RvdHlwZS5nZXRWaWRlb1RodW1iVVJMLCBlZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLmZpcnN0LCBlZS5JbWFnZUNvbGxlY3Rpb24sIGVlLkltYWdlQ29sbGVjdGlvbi5wcm90b3R5cGUuZ2V0TWFwLCBlZS5JbWFnZUNvbGxlY3Rpb24ucHJvdG90eXBlLnNlbGVjdCwgZWUuTGlzdCwgZWUuTnVtYmVyLCBlZS5TZXJpYWxpemVyLmVuY29kZUNsb3VkQXBpUHJldHR5LCBlZS5TZXJpYWxpemVyLnRvQ2xvdWRBcGlKU09OLCBlZS5TZXJpYWxpemVyLmVuY29kZSwgZWUuU2VyaWFsaXplci50b0pTT04sIGVlLlNlcmlhbGl6ZXIuZW5jb2RlQ2xvdWRBcGksIGVlLlNlcmlhbGl6ZXIudG9SZWFkYWJsZUNsb3VkQXBpSlNPTiwgZWUuU2VyaWFsaXplci50b1JlYWRhYmxlSlNPTiwgZWUuU3RyaW5nLCBlZS5UZXJyYWluXS5mb3JFYWNoKGZ1bmN0aW9uKGZuLCBpKSB7XG4gICAgZm4gJiYgKGV4cG9ydGVkRm5JbmZvW2ZuLnRvU3RyaW5nKCldID0ge25hbWU6b3JkZXJlZEZuTmFtZXNbaV0sIHBhcmFtTmFtZXM6b3JkZXJlZFBhcmFtTGlzdHNbaV19KTtcbiAgfSk7XG4gIGdvb2cuZ2xvYmFsLkVYUE9SVEVEX0ZOX0lORk8gPSBleHBvcnRlZEZuSW5mbztcbn0pKCk7XG5cbmdvb2cuZ2xvYmFsID0gd2luZG93O1xuZ29vZy5UaW1lci5kZWZhdWx0VGltZXJPYmplY3QgPSB3aW5kb3c7XG5tb2R1bGUuZXhwb3J0cyA9IGVlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@google/earthengine/build/browser.js\n");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

eval("var ee = __webpack_require__(/*! @google/earthengine */ \"./node_modules/@google/earthengine/build/browser.js\");\n\nvar privateKey = __webpack_require__(Object(function webpackMissingModule() { var e = new Error(\"Cannot find module './privatekey.json'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())); // Initialize client library and run analysis.\n\n\nvar runAnalysis = function runAnalysis() {\n  ee.initialize(null, null, function () {// ... run analysis ...\n  }, function (e) {\n    console.error('Initialization error: ' + e);\n  });\n}; // Authenticate using a service account.\n\n\nee.data.authenticateViaPrivateKey(privateKey, runAnalysis, function (e) {\n  console.error('Authentication error: ' + e);\n});\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  var body = document.querySelector(\"body\"); // debugger\n\n  console.log(ee);\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6IkFBQUEsSUFBSUEsRUFBRSxHQUFHQyxtQkFBTyxDQUFDLGdGQUFELENBQWhCOztBQUNBLElBQUlDLFVBQVUsR0FBR0QsbUJBQU8sQ0FBQyxnSkFBRCxDQUF4QixDLENBRUE7OztBQUNBLElBQUlFLFdBQVcsR0FBRyxTQUFkQSxXQUFjLEdBQVk7QUFDMUJILEVBQUFBLEVBQUUsQ0FBQ0ksVUFBSCxDQUFjLElBQWQsRUFBb0IsSUFBcEIsRUFBMEIsWUFBWSxDQUNsQztBQUNILEdBRkQsRUFFRyxVQUFVQyxDQUFWLEVBQWE7QUFDWkMsSUFBQUEsT0FBTyxDQUFDQyxLQUFSLENBQWMsMkJBQTJCRixDQUF6QztBQUNILEdBSkQ7QUFLSCxDQU5ELEMsQ0FRQTs7O0FBQ0FMLEVBQUUsQ0FBQ1EsSUFBSCxDQUFRQyx5QkFBUixDQUFrQ1AsVUFBbEMsRUFBOENDLFdBQTlDLEVBQTJELFVBQVVFLENBQVYsRUFBYTtBQUNwRUMsRUFBQUEsT0FBTyxDQUFDQyxLQUFSLENBQWMsMkJBQTJCRixDQUF6QztBQUNILENBRkQ7QUFJQUssUUFBUSxDQUFDQyxnQkFBVCxDQUEwQixrQkFBMUIsRUFBOEMsWUFBTTtBQUNoRCxNQUFNQyxJQUFJLEdBQUdGLFFBQVEsQ0FBQ0csYUFBVCxDQUF1QixNQUF2QixDQUFiLENBRGdELENBRWhEOztBQUNBUCxFQUFBQSxPQUFPLENBQUNRLEdBQVIsQ0FBWWQsRUFBWjtBQUNILENBSkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b3BvX3Byb2ZpbGVyX3Byb2ovLi9zcmMvaW5kZXguanM/YjYzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZWUgPSByZXF1aXJlKCdAZ29vZ2xlL2VhcnRoZW5naW5lJyk7XG52YXIgcHJpdmF0ZUtleSA9IHJlcXVpcmUoJy4vcHJpdmF0ZWtleS5qc29uJyk7XG5cbi8vIEluaXRpYWxpemUgY2xpZW50IGxpYnJhcnkgYW5kIHJ1biBhbmFseXNpcy5cbnZhciBydW5BbmFseXNpcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBlZS5pbml0aWFsaXplKG51bGwsIG51bGwsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gLi4uIHJ1biBhbmFseXNpcyAuLi5cbiAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdJbml0aWFsaXphdGlvbiBlcnJvcjogJyArIGUpO1xuICAgIH0pO1xufTtcblxuLy8gQXV0aGVudGljYXRlIHVzaW5nIGEgc2VydmljZSBhY2NvdW50LlxuZWUuZGF0YS5hdXRoZW50aWNhdGVWaWFQcml2YXRlS2V5KHByaXZhdGVLZXksIHJ1bkFuYWx5c2lzLCBmdW5jdGlvbiAoZSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0F1dGhlbnRpY2F0aW9uIGVycm9yOiAnICsgZSk7XG59KTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xuICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKVxuICAgIC8vIGRlYnVnZ2VyXG4gICAgY29uc29sZS5sb2coZWUpXG59KTtcblxuXG5cblxuIl0sIm5hbWVzIjpbImVlIiwicmVxdWlyZSIsInByaXZhdGVLZXkiLCJydW5BbmFseXNpcyIsImluaXRpYWxpemUiLCJlIiwiY29uc29sZSIsImVycm9yIiwiZGF0YSIsImF1dGhlbnRpY2F0ZVZpYVByaXZhdGVLZXkiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJib2R5IiwicXVlcnlTZWxlY3RvciIsImxvZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/index.js\n");

/***/ }),

/***/ "./src/index.scss":
/*!************************!*\
  !*** ./src/index.scss ***!
  \************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXguc2Nzcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b3BvX3Byb2ZpbGVyX3Byb2ovLi9zcmMvaW5kZXguc2Nzcz85NzQ1Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/index.scss\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/global */
/******/ 	!function() {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	!function() {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = function(exports) {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	}();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	__webpack_require__("./src/index.js");
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.scss");
/******/ 	
/******/ })()
;